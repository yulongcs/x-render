(window.webpackJsonp=window.webpackJsonp||[]).push([[6,62,64,70,71,72],{"+3eq":function(Ft,I,a){"use strict";a.r(I),a.d(I,"easeLinear",function(){return f}),a.d(I,"easeQuad",function(){return p}),a.d(I,"easeQuadIn",function(){return i}),a.d(I,"easeQuadOut",function(){return g}),a.d(I,"easeQuadInOut",function(){return p}),a.d(I,"easeCubic",function(){return A}),a.d(I,"easeCubicIn",function(){return E}),a.d(I,"easeCubicOut",function(){return S}),a.d(I,"easeCubicInOut",function(){return A}),a.d(I,"easePoly",function(){return C}),a.d(I,"easePolyIn",function(){return x}),a.d(I,"easePolyOut",function(){return O}),a.d(I,"easePolyInOut",function(){return C}),a.d(I,"easeSin",function(){return N}),a.d(I,"easeSinIn",function(){return y}),a.d(I,"easeSinOut",function(){return w}),a.d(I,"easeSinInOut",function(){return N}),a.d(I,"easeExp",function(){return P}),a.d(I,"easeExpIn",function(){return V}),a.d(I,"easeExpOut",function(){return B}),a.d(I,"easeExpInOut",function(){return P}),a.d(I,"easeCircle",function(){return Q}),a.d(I,"easeCircleIn",function(){return T}),a.d(I,"easeCircleOut",function(){return W}),a.d(I,"easeCircleInOut",function(){return Q}),a.d(I,"easeBounce",function(){return xt}),a.d(I,"easeBounceIn",function(){return ot}),a.d(I,"easeBounceOut",function(){return xt}),a.d(I,"easeBounceInOut",function(){return It}),a.d(I,"easeBack",function(){return yt}),a.d(I,"easeBackIn",function(){return Qt}),a.d(I,"easeBackOut",function(){return $t}),a.d(I,"easeBackInOut",function(){return yt}),a.d(I,"easeElastic",function(){return Wt}),a.d(I,"easeElasticIn",function(){return vt}),a.d(I,"easeElasticOut",function(){return Wt}),a.d(I,"easeElasticInOut",function(){return Ct});function f(Z){return+Z}function i(Z){return Z*Z}function g(Z){return Z*(2-Z)}function p(Z){return((Z*=2)<=1?Z*Z:--Z*(2-Z)+1)/2}function E(Z){return Z*Z*Z}function S(Z){return--Z*Z*Z+1}function A(Z){return((Z*=2)<=1?Z*Z*Z:(Z-=2)*Z*Z+2)/2}var M=3,x=function Z(X){X=+X;function dt(H){return Math.pow(H,X)}return dt.exponent=Z,dt}(M),O=function Z(X){X=+X;function dt(H){return 1-Math.pow(1-H,X)}return dt.exponent=Z,dt}(M),C=function Z(X){X=+X;function dt(H){return((H*=2)<=1?Math.pow(H,X):2-Math.pow(2-H,X))/2}return dt.exponent=Z,dt}(M),D=Math.PI,R=D/2;function y(Z){return+Z==1?1:1-Math.cos(Z*R)}function w(Z){return Math.sin(Z*R)}function N(Z){return(1-Math.cos(D*Z))/2}function z(Z){return(Math.pow(2,-10*Z)-.0009765625)*1.0009775171065494}function V(Z){return z(1-+Z)}function B(Z){return 1-z(Z)}function P(Z){return((Z*=2)<=1?z(1-Z):2-z(Z-1))/2}function T(Z){return 1-Math.sqrt(1-Z*Z)}function W(Z){return Math.sqrt(1- --Z*Z)}function Q(Z){return((Z*=2)<=1?1-Math.sqrt(1-Z*Z):Math.sqrt(1-(Z-=2)*Z)+1)/2}var nt=4/11,st=6/11,et=8/11,_=3/4,Y=9/11,$=10/11,q=15/16,at=21/22,pt=63/64,mt=1/nt/nt;function ot(Z){return 1-xt(1-Z)}function xt(Z){return(Z=+Z)<nt?mt*Z*Z:Z<et?mt*(Z-=st)*Z+_:Z<$?mt*(Z-=Y)*Z+q:mt*(Z-=at)*Z+pt}function It(Z){return((Z*=2)<=1?1-xt(1-Z):xt(Z-1)+1)/2}var Ht=1.70158,Qt=function Z(X){X=+X;function dt(H){return(H=+H)*H*(X*(H-1)+H)}return dt.overshoot=Z,dt}(Ht),$t=function Z(X){X=+X;function dt(H){return--H*H*((H+1)*X+H)+1}return dt.overshoot=Z,dt}(Ht),yt=function Z(X){X=+X;function dt(H){return((H*=2)<1?H*H*((X+1)*H-X):(H-=2)*H*((X+1)*H+X)+2)/2}return dt.overshoot=Z,dt}(Ht),ut=2*Math.PI,ft=1,it=.3,vt=function Z(X,dt){var H=Math.asin(1/(X=Math.max(1,X)))*(dt/=ut);function lt(Ot){return X*z(- --Ot)*Math.sin((H-Ot)/dt)}return lt.amplitude=function(Ot){return Z(Ot,dt*ut)},lt.period=function(Ot){return Z(X,Ot)},lt}(ft,it),Wt=function Z(X,dt){var H=Math.asin(1/(X=Math.max(1,X)))*(dt/=ut);function lt(Ot){return 1-X*z(Ot=+Ot)*Math.sin((Ot+H)/dt)}return lt.amplitude=function(Ot){return Z(Ot,dt*ut)},lt.period=function(Ot){return Z(X,Ot)},lt}(ft,it),Ct=function Z(X,dt){var H=Math.asin(1/(X=Math.max(1,X)))*(dt/=ut);function lt(Ot){return((Ot=Ot*2-1)<0?X*z(-Ot)*Math.sin((H-Ot)/dt):2-X*z(Ot)*Math.sin((H+Ot)/dt))/2}return lt.amplitude=function(Ot){return Z(Ot,dt*ut)},lt.period=function(Ot){return Z(X,Ot)},lt}(ft,it)},"+A2u":function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=Math.max(i[0],g[0]),f[1]=Math.max(i[1],g[1]),f}},"+DwW":function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("Mw2x"),g=function(p){Object(f.c)(E,p);function E(){return p!==null&&p.apply(this,arguments)||this}return E.prototype.isGroup=function(){return!0},E.prototype.isEntityGroup=function(){return!1},E.prototype.clone=function(){for(var S=p.prototype.clone.call(this),A=this.getChildren(),M=0;M<A.length;M++){var x=A[M];S.add(x.clone())}return S},E}(i.a);I.a=g},"+K+b":function(Ft,I,a){var f=a("JHRd");function i(g){var p=new g.constructor(g.byteLength);return new f(p).set(new f(g)),p}Ft.exports=i},"+Nd1":function(Ft,I,a){"use strict";var f=a("DdT1"),i=a("FPPI");I.a=function(){var g=1,p=1,E=0,S=!1;function A(x){var O=x.height+1;return x.x0=x.y0=E,x.x1=g,x.y1=p/O,x.eachBefore(M(p,O)),S&&x.eachBefore(f.a),x}function M(x,O){return function(C){C.children&&Object(i.a)(C,C.x0,x*(C.depth+1)/O,C.x1,x*(C.depth+2)/O);var D=C.x0,R=C.y0,y=C.x1-E,w=C.y1-E;y<D&&(D=y=(D+y)/2),w<R&&(R=w=(R+w)/2),C.x0=D,C.y0=R,C.x1=y,C.y1=w}}return A.round=function(x){return arguments.length?(S=!!x,A):S},A.size=function(x){return arguments.length?(g=+x[0],p=+x[1],A):[g,p]},A.padding=function(x){return arguments.length?(E=+x,A):E},A}},"+Qka":function(Ft,I,a){var f=a("fmRc"),i=a("t2Dn"),g=a("cq/+"),p=a("T1AV"),E=a("GoyQ"),S=a("mTTR"),A=a("itsj");function M(x,O,C,D,R){x!==O&&g(O,function(y,w){if(R||(R=new f),E(y))p(x,O,w,C,M,D,R);else{var N=D?D(A(x,w),y,w+"",x,O,R):void 0;N===void 0&&(N=y),i(x,w,N)}},S)}Ft.exports=M},"+RHd":function(Ft,I){},"+c4W":function(Ft,I,a){var f=a("711d"),i=a("4/ic"),g=a("9ggG"),p=a("9Nap");function E(S){return g(S)?f(p(S)):i(S)}Ft.exports=E},"+iFO":function(Ft,I,a){var f=a("dTAl"),i=a("LcsW"),g=a("6sVZ");function p(E){return typeof E.constructor=="function"&&!g(E)?f(i(E)):{}}Ft.exports=p},"+n+1":function(Ft,I){Ft.exports=a;function a(f,i,g,p){return f[0]=i[0]+g[0]*p,f[1]=i[1]+g[1]*p,f}},"+sJh":function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i[0]+g[0],f[1]=i[1]+g[1],f}},"+uE7":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});var f={HierarchyComponentManager:Symbol("HierarchyComponentManager"),TransformComponentManager:Symbol("TransformComponentManager"),NameComponentManager:Symbol("NameComponentManager"),SceneGraphSystem:Symbol("SceneGraphSystem"),FrameGraphSystem:Symbol("FrameGraphSystem"),ResourcePool:Symbol("ResourcePool"),ResourceHandleComponentManager:Symbol("ResourceHandleComponentManager"),PassNodeComponentManager:Symbol("PassNodeComponentManager"),RendererSystem:Symbol("RendererSystem"),RenderPass:Symbol("RenderPass"),RenderPassFactory:Symbol("Factory<IRenderPass>"),Renderable:Symbol("Factory<IRenderPass>"),MeshSystem:Symbol("MeshSystem"),MeshComponentManager:Symbol("MeshComponentManager"),CullableComponentManager:Symbol("CullableComponentManager"),Geometry:Symbol("Geometry"),GeometrySystem:Symbol("GeometrySystem"),GeometryComponentManager:Symbol("GeometryComponentManager"),Material:Symbol("Material"),MaterialSystem:Symbol("MaterialSystem"),MaterialComponentManager:Symbol("MaterialComponentManager"),ForwardRenderPath:Symbol("ForwardRenderPath"),ComputeSystem:Symbol("ComputeSystem"),ComputeComponentManager:Symbol("ComputeComponentManager"),ComputeStrategy:Symbol("ComputeStrategy"),Systems:Symbol("Systems"),World:Symbol("World"),RenderEngine:Symbol("RenderEngine"),WebGPUEngine:Symbol("WebGPUEngine"),WebGLEngine:Symbol("WebGLEngine"),ShaderModuleService:Symbol("ShaderModuleService"),ConfigService:Symbol("ConfigService"),InteractorService:Symbol("InteractorService"),IEventEmitter:Symbol("IEventEmitter"),Light:Symbol("Light")}},"+wVF":function(Ft,I,a){"use strict";a.d(I,"a",function(){return z});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("YuPD"),E=a("n/J0"),S=a("w02o");function A(V){var B=V.chart,P=V.options,T=P.data,W=P.type,Q=P.xField,nt=P.yField,st=P.colorField,et=P.sizeField,_=P.sizeRatio,Y=P.shape,$=P.color;B.data(T);var q;W==="density"?q=B.heatmap().position(Q+"*"+nt):q=B.polygon().position(Q+"*"+nt),st&&q.color(st,$||E.b.GRADIENT.CONTINUOUS);var at=1;if((_||_===0)&&(!Y&&!et?console.warn("sizeRatio is not in effect: Must define shape or sizeField first"):_<0||_>1?console.warn("sizeRatio is not in effect: It must be a number in [0,1]"):at=_),Y&&(et||q.shape("",function(){return[Y,1,at]}),et)){var pt=T.map(function(xt){return xt[et]}),mt=Math.min.apply(Math,pt),ot=Math.max.apply(Math,pt);q.shape(et,function(xt){return[Y,(xt-mt)/(ot-mt),at]})}return V}function M(V){var B,P=V.options,T=P.xAxis,W=P.yAxis,Q=P.xField,nt=P.yField;return Object(p.e)(Object(S.f)((B={},B[Q]=T,B[nt]=W,B)))(V)}function x(V){var B=V.chart,P=V.options,T=P.xAxis,W=P.yAxis,Q=P.xField,nt=P.yField;return T===!1?B.axis(Q,!1):B.axis(Q,T),W===!1?B.axis(nt,!1):B.axis(nt,W),V}function O(V){var B=V.chart,P=V.options,T=P.legend,W=P.colorField;return T?B.legend(W,T):B.legend(!1),V}function C(V){var B=V.chart,P=V.options,T=P.xField,W=P.yField,Q=P.colorField,nt=P.sizeField,st=P.heatmapStyle,et=B.geometries[0];return st&&et&&(Object(g.H)(st)?et.style(T+"*"+W+"*"+Q+"*"+nt,st):Object(g.M)(st)&&et.style(st)),V}function D(V){var B=V.chart,P=V.options,T=P.label,W=P.colorField,Q=P.type,nt=Object(p.c)(B,Q==="density"?"heatmap":"polygon");if(!T)nt.label(!1);else if(W){var st=T.callback,et=Object(f.e)(T,["callback"]);nt.label({fields:[W],callback:st,cfg:Object(p.u)(et)})}return V}function R(V){var B=V.chart,P=V.options,T=P.coordinate,W=P.reflect;return T&&B.coordinate({type:T.type||"rect",cfg:T.cfg}),W&&B.coordinate().reflect(W),V}function y(V){return Object(p.e)(A,M,S.j,x,O,S.k,C,D,Object(S.b)(),S.c,S.a,S.i,R)(V)}var w=Object(p.b)({},i.b.getDefaultOptions(),{type:"polygon",legend:!1,coordinate:{type:"rect"},xAxis:{tickLine:null,line:null,grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}},yAxis:{grid:{alignTick:!1,line:{style:{lineWidth:1,lineDash:null,stroke:"#f0f0f0"}}}}}),N=a("kXyF");Object(N.registerShape)("polygon","circle",{draw:function(B,P){var T,W,Q=B.x,nt=B.y,st=this.parsePoints(B.points),et=Math.abs(st[2].x-st[1].x),_=Math.abs(st[1].y-st[0].y),Y=Math.min(et,_)/2,$=Number(B.shape[1]),q=Number(B.shape[2]),at=Math.sqrt(q),pt=Y*at*Math.sqrt($),mt=((T=B.style)===null||T===void 0?void 0:T.fill)||B.color||((W=B.defaultStyle)===null||W===void 0?void 0:W.fill),ot=P.addShape("circle",{attrs:Object(f.a)(Object(f.a)(Object(f.a)({x:Q,y:nt,r:pt},B.defaultStyle),B.style),{fill:mt})});return ot}}),Object(N.registerShape)("polygon","square",{draw:function(B,P){var T,W,Q=B.x,nt=B.y,st=this.parsePoints(B.points),et=Math.abs(st[2].x-st[1].x),_=Math.abs(st[1].y-st[0].y),Y=Math.min(et,_),$=Number(B.shape[1]),q=Number(B.shape[2]),at=Math.sqrt(q),pt=Y*at*Math.sqrt($),mt=((T=B.style)===null||T===void 0?void 0:T.fill)||B.color||((W=B.defaultStyle)===null||W===void 0?void 0:W.fill),ot=P.addShape("rect",{attrs:Object(f.a)(Object(f.a)(Object(f.a)({x:Q-pt/2,y:nt-pt/2,width:pt,height:pt},B.defaultStyle),B.style),{fill:mt})});return ot}});var z=function(V){Object(f.c)(B,V);function B(){var P=V!==null&&V.apply(this,arguments)||this;return P.type="heatmap",P}return B.getDefaultOptions=function(){return w},B.prototype.getSchemaAdaptor=function(){return y},B.prototype.getDefaultOptions=function(){return B.getDefaultOptions()},B}(i.b)},"+xCn":function(Ft,I,a){"use strict";a.d(I,"b",function(){return A}),a.d(I,"a",function(){return M});var f=a("J4zp"),i=a.n(f),g=a("IOcx");function p(O){return typeof O=="number"}function E(O){return O===void 0?0:O>360||O<-360?O%360:O}function S(O,C,D){return p(O)?g.e.fromValues(O,C,D):O.length===3?g.e.clone(O):g.e.fromValues(O[0],O[1],O[2])}function A(O,C){return C[0]=O[0],C[1]=O[1],C[2]=O[2],C[3]=O[4],C[4]=O[5],C[5]=O[6],C[6]=O[8],C[7]=O[9],C[8]=O[10],C}function M(O){var C=i()(O,3),D=C[0],R=C[1],y=C[2],w=D+R*256+y*65536-1;return w}function x(O){return[O+1&255,O+1>>8&255,O+1>>8>>8&255]}},"/+3i":function(Ft,I,a){"use strict";a.d(I,"a",function(){return T});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("w02o"),E=a("YuPD"),S=a("n/J0"),A="$$stock-range$$",M="trend",x="up",O="down",C=["#ef5350","#26a69a"],D={showTitle:!1,showMarkers:!1,showCrosshairs:!0,shared:!0,crosshairs:{type:"xy",follow:!0},itemTpl:'<li class="g2-tooltip-list-item" data-index={index}><span style="background-color:{color};" class="g2-tooltip-marker"></span>{name}{value}</li>'},R=Object(E.b)({},i.b.getDefaultOptions(),{tooltip:D,interactions:[{type:"tooltip"}],legend:{position:"top-left"}});function y(W,Q){return Object(g.U)(W,function(nt){if(Object(g.B)(Q)){var st=Q[0],et=Q[1],_=Q[2],Y=Q[3];nt[M]=nt[st]<=nt[et]?x:O,nt[A]=[nt[st],nt[et],nt[_],nt[Y]]}return nt})}function w(W){var Q=W.chart,nt=W.options,st=nt.xField,et=nt.yField,_=nt.data;Q.data(y(_,et));var Y=Q.schema().position(st+"*"+A).shape("candle");return Y.color(M,C),W}function N(W){var Q,nt,st=W.chart,et=W.options,_=et.meta,Y=et.xAxis,$=et.yAxis,q=et.xField,at=(Q={},Q[q]={type:"timeCat",tickCount:6},Q[M]={values:[x,O]},Q),pt=Object(E.b)(at,_,(nt={},nt[q]=Object(E.p)(Y,S.a),nt[A]=Object(E.p)($,S.a),nt));return st.scale(pt),W}function z(W){var Q=W.chart,nt=W.options,st=nt.xAxis,et=nt.yAxis,_=nt.xField;return st===!1?Q.axis(_,!1):Q.axis(_,st),et===!1?Q.axis(A,!1):Q.axis(A,et),W}function V(W){var Q=W.chart,nt=W.options,st=nt.xField,et=nt.yField,_=nt.meta,Y=_===void 0?{}:_,$=nt.tooltip,q=$===void 0?{}:$,at=Object(E.c)(Q,"schema"),pt=et[0],mt=et[1],ot=et[2],xt=et[3],It=Y[pt]&&Y[pt].alias||pt,Ht=Y[mt]?Y[mt].alias||pt:mt,Qt=Y[ot]&&Y[ot].alias||ot,$t=Y[xt]&&Y[xt].alias||xt,yt={fields:[st,pt,mt,ot,xt],callback:function(vt,Wt,Ct,Z,X){var dt={name:vt,value:`
          <br><span data-label="`+It+'" style="padding-left: 16px">'+It+"\uFF1A"+Wt+`</span>
          <br><span data-label="`+Ht+'" style="padding-left: 16px">'+Ht+"\uFF1A"+Ct+`</span>
          <br><span data-label="`+Qt+'" style="padding-left: 16px">'+Qt+"\uFF1A"+Z+`</span>
          <br><span data-label="`+$t+'" style="padding-left: 16px">'+$t+"\uFF1A"+X+`</span>
        `};return dt}},ut={crosshairs:{text:function(vt,Wt,Ct){var Z={position:"end"};if(vt==="x"){var X=Ct[0];Z.content=X?X.data[st]:Wt}else Z.content=Wt;return Z}}};if(q){if(Object(g.M)(q)){var ft=Object(E.b)({},ut,q);Q.tooltip(ft),at.tooltip(yt)}}else Q.tooltip(!1);return W}function B(W){var Q=W.chart,nt=W.options,st=nt.legend;return st?Q.legend(M,st):st===!1&&Q.legend(!1),W}function P(W){Object(E.e)(w,N,p.j,z,V,B,p.c,p.a)(W)}var T=function(W){Object(f.c)(Q,W);function Q(){var nt=W!==null&&W.apply(this,arguments)||this;return nt.type="stock",nt}return Q.getDefaultOptions=function(){return R},Q.prototype.getDefaultOptions=function(){return Q.getDefaultOptions()},Q.prototype.getSchemaAdaptor=function(){return P},Q.prototype.changeData=function(nt){this.updateOption({data:nt});var st=this.options.yField;this.chart.changeData(y(nt,st))},Q}(i.b)},"/3+T":function(Ft,I,a){"use strict";a.r(I),a.d(I,"Line",function(){return O}),a.d(I,"Circle",function(){return D}),a.d(I,"Base",function(){return M}),a.d(I,"Html",function(){return T});var f=a("mrSG"),i=a("5UbV"),g=a("iTfj"),p=a("MeYt"),E=a("jqgP"),S=a("L16w"),A=function(W){Object(f.c)(Q,W);function Q(){return W!==null&&W.apply(this,arguments)||this}return Q.prototype.getDefaultCfg=function(){var nt=W.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},nt),{name:"crosshair",type:"base",line:{},text:null,textBackground:{},capture:!1,defaultCfg:{line:{style:{lineWidth:1,stroke:S.a.lineColor}},text:{position:"start",offset:10,autoRotate:!1,content:null,style:{fill:S.a.textColor,textAlign:"center",textBaseline:"middle",fontFamily:S.a.fontFamily}},textBackground:{padding:5,style:{stroke:S.a.lineColor}}}})},Q.prototype.renderInner=function(nt){this.get("line")&&this.renderLine(nt),this.get("text")&&(this.renderText(nt),this.renderBackground(nt))},Q.prototype.renderText=function(nt){var st=this.get("text"),et=st.style,_=st.autoRotate,Y=st.content;if(!Object(g.I)(Y)){var $=this.getTextPoint(),q=null;if(_){var at=this.getRotateAngle();q=Object(E.e)($,at)}this.addShape(nt,{type:"text",name:"crosshair-text",id:this.getElementId("text"),attrs:Object(f.a)(Object(f.a)(Object(f.a)({},$),{text:Y,matrix:q}),et)})}},Q.prototype.renderLine=function(nt){var st=this.getLinePath(),et=this.get("line"),_=et.style;this.addShape(nt,{type:"path",name:"crosshair-line",id:this.getElementId("line"),attrs:Object(f.a)({path:st},_)})},Q.prototype.renderBackground=function(nt){var st=this.getElementId("text"),et=nt.findById(st),_=this.get("textBackground");if(_&&et){var Y=et.getBBox(),$=Object(i.c)(_.padding),q=_.style,at=this.addShape(nt,{type:"rect",name:"crosshair-text-background",id:this.getElementId("text-background"),attrs:Object(f.a)({x:Y.x-$[3],y:Y.y-$[0],width:Y.width+$[1]+$[3],height:Y.height+$[0]+$[2],matrix:et.attr("matrix")},q)});at.toBack()}},Q}(p.a),M=A,x=function(W){Object(f.c)(Q,W);function Q(){return W!==null&&W.apply(this,arguments)||this}return Q.prototype.getDefaultCfg=function(){var nt=W.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},nt),{type:"line",locationType:"region",start:null,end:null})},Q.prototype.getRotateAngle=function(){var nt=this.getLocation(),st=nt.start,et=nt.end,_=this.get("text").position,Y=Math.atan2(et.y-st.y,et.x-st.x),$=_==="start"?Y-Math.PI/2:Y+Math.PI/2;return $},Q.prototype.getTextPoint=function(){var nt=this.getLocation(),st=nt.start,et=nt.end,_=this.get("text"),Y=_.position,$=_.offset;return Object(i.f)(st,et,Y,$)},Q.prototype.getLinePath=function(){var nt=this.getLocation(),st=nt.start,et=nt.end;return[["M",st.x,st.y],["L",et.x,et.y]]},Q}(M),O=x,C=function(W){Object(f.c)(Q,W);function Q(){return W!==null&&W.apply(this,arguments)||this}return Q.prototype.getDefaultCfg=function(){var nt=W.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},nt),{type:"circle",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},Q.prototype.getRotateAngle=function(){var nt=this.getLocation(),st=nt.startAngle,et=nt.endAngle,_=this.get("text").position,Y=_==="start"?st+Math.PI/2:et-Math.PI/2;return Y},Q.prototype.getTextPoint=function(){var nt=this.get("text"),st=nt.position,et=nt.offset,_=this.getLocation(),Y=_.center,$=_.radius,q=_.startAngle,at=_.endAngle,pt=st==="start"?q:at,mt=this.getRotateAngle()-Math.PI,ot=Object(i.e)(Y,$,pt),xt=Math.cos(mt)*et,It=Math.sin(mt)*et;return{x:ot.x+xt,y:ot.y+It}},Q.prototype.getLinePath=function(){var nt=this.getLocation(),st=nt.center,et=nt.radius,_=nt.startAngle,Y=nt.endAngle,$=null;if(Y-_==Math.PI*2){var q=st.x,at=st.y;$=[["M",q,at-et],["A",et,et,0,1,1,q,at+et],["A",et,et,0,1,1,q,at-et],["Z"]]}else{var pt=Object(i.e)(st,et,_),mt=Object(i.e)(st,et,Y),ot=Math.abs(Y-_)>Math.PI?1:0,xt=_>Y?0:1;$=[["M",pt.x,pt.y],["A",et,et,0,ot,xt,mt.x,mt.y]]}return $},Q}(M),D=C,R=a("fIp6"),y=a("de35"),w="g2-crosshair",N=w+"-line",z=w+"-text",V,B=(V={},V[""+w]={position:"relative"},V[""+N]={position:"absolute",backgroundColor:"rgba(0, 0, 0, 0.25)"},V[""+z]={position:"absolute",color:S.a.textColor,fontFamily:S.a.fontFamily},V),P=function(W){Object(f.c)(Q,W);function Q(){return W!==null&&W.apply(this,arguments)||this}return Q.prototype.getDefaultCfg=function(){var nt=W.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},nt),{name:"crosshair",type:"html",locationType:"region",start:{x:0,y:0},end:{x:0,y:0},capture:!1,text:null,containerTpl:'<div class="'+w+'"></div>',crosshairTpl:'<div class="'+N+'"></div>',textTpl:'<span class="'+z+'">{content}</span>',domStyles:null,containerClassName:w,defaultStyles:B,defaultCfg:{text:{position:"start",content:null,align:"center",offset:10}}})},Q.prototype.render=function(){this.resetText(),this.resetPosition()},Q.prototype.initCrossHair=function(){var nt=this.getContainer(),st=this.get("crosshairTpl"),et=Object(R.b)(st);nt.appendChild(et),this.applyStyle(N,et),this.set("crosshairEl",et)},Q.prototype.getTextPoint=function(){var nt=this.getLocation(),st=nt.start,et=nt.end,_=this.get("text"),Y=_.position,$=_.offset;return Object(i.f)(st,et,Y,$)},Q.prototype.resetText=function(){var nt=this.get("text"),st=this.get("textEl");if(nt){var et=nt.content;if(!st){var _=this.getContainer(),Y=Object(g.mb)(this.get("textTpl"),nt);st=Object(R.b)(Y),_.appendChild(st),this.applyStyle(z,st),this.set("textEl",st)}st.innerHTML=et}else st&&st.remove()},Q.prototype.isVertical=function(nt,st){return nt.x===st.x},Q.prototype.resetPosition=function(){var nt=this.get("crosshairEl");nt||(this.initCrossHair(),nt=this.get("crosshairEl"));var st=this.get("start"),et=this.get("end"),_=Math.min(st.x,et.x),Y=Math.min(st.y,et.y);this.isVertical(st,et)?Object(R.e)(nt,{width:"1px",height:Object(i.l)(Math.abs(et.y-st.y))}):Object(R.e)(nt,{height:"1px",width:Object(i.l)(Math.abs(et.x-st.x))}),Object(R.e)(nt,{top:Object(i.l)(Y),left:Object(i.l)(_)}),this.alignText()},Q.prototype.alignText=function(){var nt=this.get("textEl");if(nt){var st=this.get("text").align,et=nt.clientWidth,_=this.getTextPoint();switch(st){case"center":_.x=_.x-et/2;break;case"right":_.x=_.x-et;case"left":break}Object(R.e)(nt,{top:Object(i.l)(_.y),left:Object(i.l)(_.x)})}},Q.prototype.updateInner=function(nt){Object(g.x)(nt,"text")&&this.resetText(),W.prototype.updateInner.call(this,nt)},Q}(y.a),T=P},"027J":function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("mrSG"),i=a("zJSt"),g=a("lFe4"),p=a("mgjb"),E=a("iTfj"),S={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(O,C){return""+Object(E.s)(C,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}}},A={appendPadding:2,tooltip:Object(f.a)({},S),animation:{}},M=function(x){Object(f.c)(O,x);function O(){var C=x!==null&&x.apply(this,arguments)||this;return C.type="tiny-column",C}return O.getDefaultOptions=function(){return A},O.prototype.changeData=function(C){this.updateOption({data:C});var D=this,R=D.chart,y=D.options;Object(p.b)({chart:R,options:y}),R.changeData(Object(g.a)(C))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return p.a},O}(i.b)},"05BJ":function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("zJSt"),g=a("lFe4"),p=a("hYLx"),E=a("7cv3"),S={appendPadding:2,tooltip:Object(f.a)({},E.b),color:"l(90) 0:#E5EDFE 1:#ffffff",areaStyle:{fillOpacity:.6},line:{size:1,color:"#5B8FF9"},animation:{}},A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.type="tiny-area",O}return x.getDefaultOptions=function(){return S},x.prototype.changeData=function(O){this.updateOption({data:O});var C=this,D=C.chart,R=C.options;Object(p.b)({chart:D,options:R}),D.changeData(Object(g.a)(O))},x.prototype.getDefaultOptions=function(){return x.getDefaultOptions()},x.prototype.getSchemaAdaptor=function(){return p.a},x}(i.b)},"06Lf":function(Ft,I,a){"use strict";a.d(I,"a",function(){return Z}),a.d(I,"b",function(){return H}),a.d(I,"c",function(){return tt}),a.d(I,"e",function(){return Nt}),a.d(I,"d",function(){return tn});var f={};a.r(f),a.d(f,"compare",function(){return Xo}),a.d(f,"getLineIntersect",function(){return Zi}),a.d(f,"getRectIntersectByPoint",function(){return Do}),a.d(f,"getCircleIntersectByPoint",function(){return Po}),a.d(f,"getEllipseIntersectByPoint",function(){return bo}),a.d(f,"applyMatrix",function(){return Eo}),a.d(f,"invertMatrix",function(){return hs}),a.d(f,"getCircleCenterByPoints",function(){return la}),a.d(f,"distance",function(){return Cs}),a.d(f,"scaleMatrix",function(){return Ns}),a.d(f,"floydWarshall",function(){return Bs}),a.d(f,"getAdjMatrix",function(){return as}),a.d(f,"translate",function(){return is}),a.d(f,"move",function(){return os}),a.d(f,"scale",function(){return As}),a.d(f,"rotate",function(){return fu}),a.d(f,"getDegree",function(){return Gs}),a.d(f,"isPointInPolygon",function(){return Us}),a.d(f,"intersectBBox",function(){return k}),a.d(f,"isPolygonsIntersect",function(){return re}),a.d(f,"Line",function(){return le}),a.d(f,"getBBoxBoundLine",function(){return Ce}),a.d(f,"itemIntersectByLine",function(){return ke}),a.d(f,"fractionToLine",function(){return Ze}),a.d(f,"getPointsCenter",function(){return lr}),a.d(f,"squareDist",function(){return dr}),a.d(f,"pointLineSquareDist",function(){return Cr}),a.d(f,"isPointsOverlap",function(){return Yr}),a.d(f,"pointRectSquareDist",function(){return Nr}),a.d(f,"pointLineDistance",function(){return Vr});var i={};a.r(i),a.d(i,"getBBox",function(){return Ir}),a.d(i,"getLoopCfgs",function(){return qr}),a.d(i,"getLabelPosition",function(){return ka}),a.d(i,"traverseTree",function(){return No}),a.d(i,"traverseTreeUp",function(){return ps}),a.d(i,"getLetterWidth",function(){return Ws}),a.d(i,"getTextSize",function(){return ws}),a.d(i,"plainCombosToTrees",function(){return Ru}),a.d(i,"reconstructTree",function(){return Mu}),a.d(i,"getComboBBox",function(){return Fu}),a.d(i,"shouldRefreshEdge",function(){return dl}),a.d(i,"cloneBesidesImg",function(){return vl});var g={};a.r(g),a.d(g,"uniqueId",function(){return hu}),a.d(g,"formatPadding",function(){return Ju}),a.d(g,"cloneEvent",function(){return du}),a.d(g,"isViewportChanged",function(){return vu}),a.d(g,"isNaN",function(){return pl}),a.d(g,"calculationItemsBBox",function(){return _u}),a.d(g,"processParallelEdges",function(){return zf});var p={};a.r(p),a.d(p,"getSpline",function(){return rl}),a.d(p,"getControlPoint",function(){return Ou}),a.d(p,"pointsToPolygon",function(){return bl}),a.d(p,"pathToPoints",function(){return Ms}),a.d(p,"getClosedSpline",function(){return ju}),a.d(p,"roundedHull",function(){return El}),a.d(p,"paddedHull",function(){return Mc});var E={};a.r(E),a.d(E,"defaultSubjectColors",function(){return uo});var S={};a.r(S),a.d(S,"leftTranslate",function(){return Hf}),a.d(S,"leftRotate",function(){return al}),a.d(S,"leftScale",function(){return sf}),a.d(S,"transform",function(){return Oh}),a.d(S,"direction",function(){return uf}),a.d(S,"angleTo",function(){return Yf}),a.d(S,"vertical",function(){return Dc});var A={};a.r(A),a.d(A,"mixColor",function(){return Go}),a.d(A,"getColorsWithSubjectColor",function(){return Lu}),a.d(A,"getColorSetsBySubjectColors",function(){return pf});var M={};a.r(M),a.d(M,"gpuDetector",function(){return n0});var x={};a.r(x),a.d(x,"proccessToFunc",function(){return $b}),a.d(x,"buildTextureData",function(){return Zb}),a.d(x,"buildTextureDataWithOneEdgeAttr",function(){return Qb}),a.d(x,"buildTextureDataWithTwoEdgeAttr",function(){return Jb}),a.d(x,"attributesToTextureData",function(){return _b}),a.d(x,"arrayToTextureData",function(){return qb}),a.d(x,"radialLayout",function(){return tE});var O={};a.r(O),a.d(O,"leftTranslate",function(){return h0}),a.d(O,"leftRotate",function(){return d0}),a.d(O,"leftScale",function(){return v0}),a.d(O,"transform",function(){return gE}),a.d(O,"direction",function(){return g0}),a.d(O,"angleTo",function(){return pE}),a.d(O,"vertical",function(){return yE});var C=a("q1tI"),D=a.n(C),R=a("ma/q"),y=a("iTfj"),w=function(n,t){var e={}.toString;return e.call(n)==="[object "+t+"]"},N=function(n){if(!n)return n;var t={};for(var e in n)t[e]=n[e];return t},z=function u(n){if(!n)return n;var t=new n.constructor,e=function(l){return Object.prototype.toString.call(l).slice(8,-1)};for(var r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r])==="Object"||e(n[r])==="Array"?u(n[r]):n[r]);return t},V=function(n,t){for(var e=n,r=0;r<t.length;r+=1)if(e==null?void 0:e[t[r]])e=e[t[r]];else{e=void 0;break}return e},B=function(n,t,e){if(!n)return n;var r=n;return t.forEach(function(o,l){l<t.length-1?r=r[o]:r[o]=e}),n},P=function(n,t){!n||(Object(y.H)(n)?n(t):n.current=t)},T={isType:w,clone:N,hasPath:V,setPath:B,deepClone:z},W=a("i8i4"),Q=a.n(W),nt=function(n,t){var e=document.createElement("div");return t==="tooltip"&&(e.className="g2-tooltip"),Q.a.render(n,e),e},st=nt,et=function(){return et=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},et.apply(this,arguments)},_=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t};function Y(u,n){var t=Object(C.useRef)(),e=Object(C.useRef)(),r=Object(C.useRef)(null),o=n.onReady,l=n.onEvent,v=function(rt,ht){var bt;return rt===void 0&&(rt="image/png"),(bt=t.current)===null||bt===void 0?void 0:bt.chart.canvas.cfg.el.toDataURL(rt,ht)},b=function(rt,ht,bt){var At;rt===void 0&&(rt="download"),ht===void 0&&(ht="image/png");var wt=rt;rt.indexOf(".")===-1&&(wt=rt+"."+ht.split("/")[1]);var kt=(At=t.current)===null||At===void 0?void 0:At.chart.canvas.cfg.el.toDataURL(ht,bt),Ut=document.createElement("a");return Ut.href=kt,Ut.download=wt,document.body.appendChild(Ut),Ut.click(),document.body.removeChild(Ut),Ut=null,wt},L=function(rt,ht,bt){var At=T.hasPath,wt=T.setPath,kt=At(rt,ht);wt(rt,ht,function(){for(var Ut=[],Kt=0;Kt<arguments.length;Kt++)Ut[Kt]=arguments[Kt];var qt=T.isType(kt,"Function")?kt.apply(void 0,Ut):kt;return T.isType(qt,"String")||T.isType(qt,"Number")||T.isType(qt,"HTMLDivElement")?qt:st(qt,bt)})},F=function(){var rt=T.hasPath;rt(n,["statistic","content","customHtml"])&&L(n,["statistic","content","customHtml"]),rt(n,["statistic","title","customHtml"])&&L(n,["statistic","title","customHtml"]),typeof n.tooltip=="object"&&(rt(n,["tooltip","container"])&&L(n,["tooltip","container"],"tooltip"),rt(n,["tooltip","customContent"])&&L(n,["tooltip","customContent"],"tooltip"))};return Object(C.useEffect)(function(){if(t.current&&!Object(y.G)(e.current,n)){var U=!1;if(e.current){var rt=e.current,ht=rt.data,bt=rt.value,At=rt.percent,wt=_(rt,["data","value","percent"]),kt=n.data,Ut=n.value,Kt=n.percent,qt=_(n,["data","value","percent"]);U=Object(y.G)(wt,qt)}if(U){var ne="data",ye=["percent"],xe=Object.keys(n);ye.forEach(function(je){xe.includes(je)&&(ne=je)}),t.current.changeData((n==null?void 0:n[ne])||[])}else F(),t.current.update(n);e.current=n}},[n]),Object(C.useEffect)(function(){if(!r.current)return function(){return null};F();var U=new u(r.current,et({},n));u.prototype.toDataURL=function(ht,bt){return v(ht,bt)},u.prototype.downloadImage=function(ht,bt,At){return b(ht,bt,At)},U.render(),e.current||(e.current=n),t.current=T.clone(U),o&&o(U);var rt=function(bt){l&&l(U,bt)};return U.on("*",rt),function(){t.current&&(t.current.destroy(),t.current.off("*",rt),t.current=void 0)}},[]),{chart:t,container:r}}var $=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q=function(u){$(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.state={hasError:!1},t.renderError=function(e){var r=t.props.errorTemplate;switch(e){default:return r&&typeof r=="function"?r(e):D.a.createElement("h5",null,"\u7EC4\u4EF6\u51FA\u9519\u4E86\uFF0C\u8BF7\u6838\u67E5\u540E\u91CD\u8BD5\uFF1A ",e.message)}},t}return n.getDerivedStateFromError=function(t){return{hasError:!0,error:t}},n.getDerivedStateFromProps=function(t,e){return e.children!==t.children?{children:t.children,hasError:!1,error:void 0}:null},n.prototype.render=function(){return this.state.hasError?this.renderError(this.state.error):D.a.createElement(C.Fragment,null,this.props.children)},n}(D.a.Component),at=q;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var pt=function(){return pt=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(t[l]=e[l])}return t},pt.apply(this,arguments)};function mt(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t}var ot=function(){return Math.random().toString(36).substring(6)},xt=function(n){var t=n.animate,e=n.backgroundColor,r=n.backgroundOpacity,o=n.baseUrl,l=n.children,v=n.foregroundColor,b=n.foregroundOpacity,L=n.gradientRatio,F=n.uniqueKey,U=n.interval,rt=n.rtl,ht=n.speed,bt=n.style,At=n.title,wt=mt(n,["animate","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","uniqueKey","interval","rtl","speed","style","title"]),kt=F||ot(),Ut=kt+"-diff",Kt=kt+"-animated-diff",qt=kt+"-aria",ne=rt?{transform:"scaleX(-1)"}:null,ye="0; "+U+"; 1",xe=ht+"s";return Object(C.createElement)("svg",pt({"aria-labelledby":qt,role:"img",style:pt(pt({},bt),ne)},wt),At?Object(C.createElement)("title",{id:qt},At):null,Object(C.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+o+"#"+Ut+")",style:{fill:"url("+o+"#"+Kt+")"}}),Object(C.createElement)("defs",{role:"presentation"},Object(C.createElement)("clipPath",{id:Ut},l),Object(C.createElement)("linearGradient",{id:Kt},Object(C.createElement)("stop",{offset:"0%",stopColor:e,stopOpacity:r},t&&Object(C.createElement)("animate",{attributeName:"offset",values:-L+"; "+-L+"; 1",keyTimes:ye,dur:xe,repeatCount:"indefinite"})),Object(C.createElement)("stop",{offset:"50%",stopColor:v,stopOpacity:b},t&&Object(C.createElement)("animate",{attributeName:"offset",values:-L/2+"; "+-L/2+"; "+(1+L/2),keyTimes:ye,dur:xe,repeatCount:"indefinite"})),Object(C.createElement)("stop",{offset:"100%",stopColor:e,stopOpacity:r},t&&Object(C.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+L),keyTimes:ye,dur:xe,repeatCount:"indefinite"})))))};xt.defaultProps={animate:!0,backgroundColor:"#f5f6f7",backgroundOpacity:1,baseUrl:"",foregroundColor:"#eee",foregroundOpacity:1,gradientRatio:2,id:null,interval:.25,rtl:!1,speed:1.2,style:{},title:"Loading..."};var It=function(n){return n.children?Object(C.createElement)(xt,pt({},n)):Object(C.createElement)(Ht,pt({},n))},Ht=function(n){return Object(C.createElement)(It,pt({viewBox:"0 0 476 124"},n),Object(C.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),Object(C.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),Object(C.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),Object(C.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),Object(C.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),Object(C.createElement)("circle",{cx:"20",cy:"20",r:"20"}))},Qt=function(n){return Object(C.createElement)(It,pt({viewBox:"0 0 400 460"},n),Object(C.createElement)("circle",{cx:"31",cy:"31",r:"15"}),Object(C.createElement)("rect",{x:"58",y:"18",rx:"2",ry:"2",width:"140",height:"10"}),Object(C.createElement)("rect",{x:"58",y:"34",rx:"2",ry:"2",width:"140",height:"10"}),Object(C.createElement)("rect",{x:"0",y:"60",rx:"2",ry:"2",width:"400",height:"400"}))},$t=function(n){return Object(C.createElement)(It,pt({viewBox:"0 0 340 84"},n),Object(C.createElement)("rect",{x:"0",y:"0",width:"67",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"76",y:"0",width:"140",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"127",y:"48",width:"53",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"187",y:"48",width:"72",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"18",y:"48",width:"100",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"0",y:"71",width:"37",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"18",y:"23",width:"140",height:"11",rx:"3"}),Object(C.createElement)("rect",{x:"166",y:"23",width:"173",height:"11",rx:"3"}))},yt=function(n){return Object(C.createElement)(It,pt({viewBox:"0 0 400 110"},n),Object(C.createElement)("rect",{x:"0",y:"0",rx:"3",ry:"3",width:"250",height:"10"}),Object(C.createElement)("rect",{x:"20",y:"20",rx:"3",ry:"3",width:"220",height:"10"}),Object(C.createElement)("rect",{x:"20",y:"40",rx:"3",ry:"3",width:"170",height:"10"}),Object(C.createElement)("rect",{x:"0",y:"60",rx:"3",ry:"3",width:"250",height:"10"}),Object(C.createElement)("rect",{x:"20",y:"80",rx:"3",ry:"3",width:"200",height:"10"}),Object(C.createElement)("rect",{x:"20",y:"100",rx:"3",ry:"3",width:"80",height:"10"}))},ut=function(n){return Object(C.createElement)(It,pt({viewBox:"0 0 245 125"},n),Object(C.createElement)("circle",{cx:"10",cy:"20",r:"8"}),Object(C.createElement)("rect",{x:"25",y:"15",rx:"5",ry:"5",width:"220",height:"10"}),Object(C.createElement)("circle",{cx:"10",cy:"50",r:"8"}),Object(C.createElement)("rect",{x:"25",y:"45",rx:"5",ry:"5",width:"220",height:"10"}),Object(C.createElement)("circle",{cx:"10",cy:"80",r:"8"}),Object(C.createElement)("rect",{x:"25",y:"75",rx:"5",ry:"5",width:"220",height:"10"}),Object(C.createElement)("circle",{cx:"10",cy:"110",r:"8"}),Object(C.createElement)("rect",{x:"25",y:"105",rx:"5",ry:"5",width:"220",height:"10"}))},ft=It,it=function(n){var t=n.loadingTemplate,e=function(){return t||D.a.createElement(ft,{viewBox:"0 0 400 180",width:200,height:90,speed:1},D.a.createElement("rect",{x:"20",y:"5",rx:"0",ry:"0",width:"1",height:"170"}),D.a.createElement("rect",{x:"20",y:"175",rx:"0",ry:"0",width:"360",height:"1"}),D.a.createElement("rect",{x:"40",y:"75",rx:"0",ry:"0",width:"35",height:"100"}),D.a.createElement("rect",{x:"80",y:"125",rx:"0",ry:"0",width:"35",height:"50"}),D.a.createElement("rect",{x:"120",y:"105",rx:"0",ry:"0",width:"35",height:"70"}),D.a.createElement("rect",{x:"160",y:"35",rx:"0",ry:"0",width:"35",height:"140"}),D.a.createElement("rect",{x:"200",y:"55",rx:"0",ry:"0",width:"35",height:"120"}),D.a.createElement("rect",{x:"240",y:"15",rx:"0",ry:"0",width:"35",height:"160"}),D.a.createElement("rect",{x:"280",y:"135",rx:"0",ry:"0",width:"35",height:"40"}),D.a.createElement("rect",{x:"320",y:"85",rx:"0",ry:"0",width:"35",height:"90"}))};return D.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",left:0,top:0,zIndex:99,backgroundColor:"#fff"}},e())},vt=it,Wt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ct=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Wt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Area,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Z=Ct,X=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},dt=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=X(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Bar,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),H=dt,lt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ot=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=lt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Bullet,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Rt=Ot,zt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Bt=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=zt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Column,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),tt=Bt,J=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},G=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=J(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Funnel,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Et=G,Tt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ct=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Tt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Histogram,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),St=ct,Vt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Lt=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Vt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Line,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Nt=Lt,Zt=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},oe=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Zt(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Box,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),ue=oe,Ee=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Te=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Ee(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Liquid,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Se=Te,$e=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},cr=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=$e(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Heatmap,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),He=cr,_e=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ur=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=_e(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Pie,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),jr=ur,Ar=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Ge=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Ar(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Gauge,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),br=Ge,er=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},nr=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=er(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Progress,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),yr=nr,Rr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},an=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Rr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Radar,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),In=an,Un=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},_n=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Un(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.RingProgress,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),sa=_n,ci=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},fi=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=ci(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Rose,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),pa=fi,ga=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Xi=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=ga(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Chord,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Ci=Xi,Ki=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},so=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Ki(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Scatter,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),co=so,fo=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ya=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=fo(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.TinyArea,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),_a=ya,rr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ir=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=rr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.TinyColumn,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Ye=ir,tr=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Fr=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=tr(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.DualAxes,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),tn=Fr,bn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},on=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=bn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.TinyLine,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Oa=on,na=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},wa=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=na(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Waterfall,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),da=wa,bi=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},qa=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=bi(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.WordCloud,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),fa=qa,Aa=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Sa=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Aa(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Sunburst,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Fa=Sa,Ka=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},hi=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Ka(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Stock,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),me=hi,he=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},be=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=he(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.RadialBar,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Ve=be,Ke=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},fr=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Ke(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Sankey,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Lr=fr,_r=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ua=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=_r(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.Treemap,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),ta=ua,Kn=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},ji=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=Kn(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.MultiView,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),Ra=ji,eo=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},Si=Object(C.forwardRef)(function(u,n){var t=u.chartRef,e=u.style,r=e===void 0?{height:"inherit"}:e,o=u.className,l=u.loading,v=u.loadingTemplate,b=u.errorTemplate,L=eo(u,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),F=Y(R.BidirectionalBar,L),U=F.chart,rt=F.container;return Object(C.useEffect)(function(){P(t,U.current)},[U.current]),Object(C.useImperativeHandle)(n,function(){return{getChart:function(){return U.current}}}),D.a.createElement(at,{errorTemplate:b},l&&D.a.createElement(vt,{loadingTemplate:v}),D.a.createElement("div",{className:o,style:r,ref:rt}))}),yo=Si,Co={getDefaultCfg:function(){return{}},getEvents:function(){return{}},updateCfg:function(n){return Object.assign(this,n),!0},shouldBegin:function(){return!0},shouldUpdate:function(){return!0},shouldEnd:function(){return!0},bind:function(n){var t=this,e=this.events;this.graph=n,(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!0),Object(y.j)(e,function(r,o){n.on(o,r)}),document.addEventListener("visibilitychange",function(){t.keydown=!1})},unbind:function(n){var t=this.events;(this.type==="drag-canvas"||this.type==="brush-select"||this.type==="lasso-select")&&n.get("canvas").set("draggable",!1),Object(y.j)(t,function(e,r){n.off(r,e)})},get:function(n){return this[n]},set:function(n,t){return this[n]=t,this}},Ro=function(){function u(){}return u.registerBehavior=function(n,t){if(!t)throw new Error("please specify handler for this behavior: "+n);var e=Object(y.e)(Co);Object.assign(e,t);var r=function(l){var v=this;Object.assign(this,this.getDefaultCfg(),l);var b=this.getEvents();this.events=null;var L={};b&&(Object(y.j)(b,function(F,U){L[U]=Object(y.wb)(v,F)}),this.events=L)};r.prototype=e,u.types[n]=r},u.hasBehavior=function(n){return!!u.types[n]},u.getBehavior=function(n){return u.types[n]},u.types={},u}(),we=Ro,ro=we,pe=a("mrSG"),Gi=a("f6Jy"),Ba=a("6JdA"),On=a("b4r2"),mo=Ba.a.transform,Xo=function(n){return function(t,e){return t[n]-e[n]}},Ei=function(n,t,e){return n>=t&&n<=e},Zi=function(n,t,e,r){var o=1e-4,l={x:e.x-n.x,y:e.y-n.y},v={x:t.x-n.x,y:t.y-n.y},b={x:r.x-e.x,y:r.y-e.y},L=v.x*b.y-v.y*b.x,F=L*L,U=1/L,rt=v.x*v.x+v.y*v.y,ht=b.x*b.x+b.y*b.y;if(F>o*rt*ht){var bt=(l.x*b.y-l.y*b.x)*U,At=(l.x*v.y-l.y*v.x)*U;return!Ei(bt,0,1)||!Ei(At,0,1)?null:{x:n.x+bt*v.x,y:n.y+bt*v.y}}return null},Do=function(n,t){var e=n.x,r=n.y,o=n.width,l=n.height,v=e+o/2,b=r+l/2,L=[],F={x:v,y:b};L.push({x:e,y:r}),L.push({x:e+o,y:r}),L.push({x:e+o,y:r+l}),L.push({x:e,y:r+l}),L.push({x:e,y:r});for(var U=null,rt=1;rt<L.length&&(U=Zi(L[rt-1],L[rt],F,t),!U);rt++);return U},Po=function(n,t){var e=n.x,r=n.y,o=n.r,l=t.x,v=t.y,b=l-e,L=v-r,F=Math.sqrt(b*b+L*L);if(F<o)return null;var U=Math.sign(b),rt=Math.sign(L),ht=Math.atan(L/b);return{x:e+Math.abs(o*Math.cos(ht))*U,y:r+Math.abs(o*Math.sin(ht))*rt}},bo=function(n,t){var e=n.rx,r=n.ry,o=n.x,l=n.y,v=t.x-o,b=t.y-l,L=Math.atan2(b/r,v/e);return L<0&&(L+=2*Math.PI),{x:o+e*Math.cos(L),y:l+r*Math.sin(L)}},Eo=function(n,t,e){e===void 0&&(e=1);var r=[n.x,n.y,e];return(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]),Ba.d.transformMat3(r,r,t),{x:r[0],y:r[1]}},hs=function(n,t,e){e===void 0&&(e=1),(!t||isNaN(t[0]))&&(t=[1,0,0,0,1,0,0,0,1]);var r=Ba.b.invert([1,0,0,0,1,0,0,0,1],t);r||(r=[1,0,0,0,1,0,0,0,1]);var o=[n.x,n.y,e];return Ba.d.transformMat3(o,o,r),{x:o[0],y:o[1]}},la=function(n,t,e){var r=n.x-t.x,o=n.y-t.y,l=n.x-e.x,v=n.y-e.y,b=(n.x*n.x-t.x*t.x-t.y*t.y+n.y*n.y)/2,L=(n.x*n.x-e.x*e.x-e.y*e.y+n.y*n.y)/2,F=o*l-r*v;return{x:-(v*b-o*L)/F,y:-(r*L-l*b)/F}},Cs=function(n,t){var e=n.x-t.x,r=n.y-t.y;return Math.sqrt(e*e+r*r)},Ns=function(n,t){var e=[];return n.forEach(function(r){var o=[];r.forEach(function(l){o.push(l*t)}),e.push(o)}),e},Bs=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var o=0;o<e;o+=1)r===o?t[r][o]=0:n[r][o]===0||!n[r][o]?t[r][o]=Infinity:t[r][o]=n[r][o]}for(var l=0;l<e;l+=1)for(var r=0;r<e;r+=1)for(var o=0;o<e;o+=1)t[r][o]>t[r][l]+t[l][o]&&(t[r][o]=t[r][l]+t[l][o]);return t},as=function(n,t){var e=n.nodes,r=n.edges,o=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(v,b){l[v.id]=b;var L=[];o.push(L)}),r&&r.forEach(function(v){var b=v.source,L=v.target,F=l[b],U=l[L];o[F][U]=1,t||(o[U][F]=1)}),o},is=function(n,t){n.translate(t.x,t.y)},os=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=n.getCanvasBBox(),o=t.x-r.minX,l=t.y-r.minY,v=mo(e,[["t",o,l]]);n.setMatrix(v)},As=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=t;Object(y.B)(t)||(r=[t,t]),Object(y.B)(t)&&t.length===1&&(r=[t[0],t[0]]),e=mo(e,[["s",r[0],r[1]]]),n.setMatrix(e)},fu=function(n,t){var e=n.getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]),e=mo(e,[["r",t]]),n.setMatrix(e)},Gs=function(n,t,e){for(var r=[],o=0;o<n;o++)r[o]=0;return e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r};function ru(u,n,t){return(t[0]-u[0])*(n[1]-u[1])==(n[0]-u[0])*(t[1]-u[1])&&Math.min(u[0],n[0])<=t[0]&&t[0]<=Math.max(u[0],n[0])&&Math.min(u[1],n[1])<=t[1]&&t[1]<=Math.max(u[1],n[1])}var Us=function(n,t,e){var r=!1,o=n.length,l=1e-6;function v(U){return Math.abs(U)<l?0:U<0?-1:1}if(o<=2)return!1;for(var b=0;b<o;b++){var L=n[b],F=n[(b+1)%o];if(ru(L,F,[t,e]))return!0;v(L[1]-e)>0!=v(F[1]-e)>0&&v(t-(e-L[1])*(L[0]-F[0])/(L[1]-F[1])-L[0])<0&&(r=!r)}return r},k=function(n,t){return!(t.minX>n.maxX||t.maxX<n.minX||t.minY>n.maxY||t.maxY<n.minY)},Dt=function(n,t){var e=!1;return Object(y.j)(n,function(r){if(Zi(r.from,r.to,t.from,t.to))return e=!0,!1}),e},re=function(n,t){var e=function(rt){var ht=rt.map(function(At){return At[0]}),bt=rt.map(function(At){return At[1]});return{minX:Math.min.apply(null,ht),maxX:Math.max.apply(null,ht),minY:Math.min.apply(null,bt),maxY:Math.max.apply(null,bt)}},r=function(rt){for(var ht=[],bt=rt.length,At=0;At<bt-1;At++){var wt=rt[At],kt=rt[At+1];ht.push({from:{x:wt[0],y:wt[1]},to:{x:kt[0],y:kt[1]}})}if(ht.length>1){var Ut=rt[0],Kt=rt[bt-1];ht.push({from:{x:Kt[0],y:Kt[1]},to:{x:Ut[0],y:Ut[1]}})}return ht};if(n.length<2||t.length<2)return!1;var o=e(n),l=e(t);if(!k(o,l))return!1;var v=!1;if(Object(y.j)(t,function(U){if(Us(n,U[0],U[1]))return v=!0,!1}),v||(Object(y.j)(n,function(U){if(Us(t,U[0],U[1]))return v=!0,!1}),v))return!0;var b=r(n),L=r(t),F=!1;return Object(y.j)(L,function(U){if(Dt(b,U))return F=!0,!1}),F},le=function(){function u(n,t,e,r){this.x1=n,this.y1=t,this.x2=e,this.y2=r}return u.prototype.getBBox=function(){var n=Math.min(this.x1,this.x2),t=Math.min(this.y1,this.y2),e=Math.max(this.x1,this.x2),r=Math.max(this.y1,this.y2),o={x:n,y:t,minX:n,minY:t,maxX:e,maxY:r,width:e-n,height:r-t};return o},u}(),Ce=function(n,t){var e={top:[n.minX,n.minY,n.maxX,n.minY],left:[n.minX,n.minY,n.minX,n.maxY],bottom:[n.minX,n.maxY,n.maxX,n.maxY],right:[n.maxX,n.minY,n.maxX,n.maxY]};return e[t]},Re=function(n,t){var e=(t.x2-t.x1)*(n.y1-t.y1)-(t.y2-t.y1)*(n.x1-t.x1),r=(n.x2-n.x1)*(n.y1-t.y1)-(n.y2-n.y1)*(n.x1-t.x1),o=(t.y2-t.y1)*(n.x2-n.x1)-(t.x2-t.x1)*(n.y2-n.y1);if(o){var l=e/o,v=r/o;if(l>=0&&l<=1&&v>=0&&v<=1)return l}return Number.POSITIVE_INFINITY},ke=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),o=0,l=[],v=0;v<4;v++){var b=Ce(r,e[v]),L=b[0],F=b[1],U=b[2],rt=b[3];l[v]=Zi({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:L,y:F},{x:U,y:rt}),l[v]&&(o+=1)}return[l,o]},Ze=function(n,t){for(var e=["top","left","bottom","right"],r=n.getBBox(),o=Number.POSITIVE_INFINITY,l=0,v=0;v<4;v++){var b=Ce(r,e[v]),L=b[0],F=b[1],U=b[2],rt=b[3],ht=Re(t,new le(L,F,U,rt));ht=Math.abs(ht-.5),ht>=0&&ht<=1&&(l+=1,o=ht<o?ht:o)}return l===0?-1:o},lr=function(n){var t=0,e=0;if(n.length>0){for(var r=0,o=n;r<o.length;r++){var l=o[r];t+=l.x,e+=l.y}t/=n.length,e/=n.length}return{x:t,y:e}},dr=function(n,t){return Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)},Cr=function(n,t){var e=t.x1,r=t.y1,o=t.x2-e,l=t.y2-r,v=n.x-e,b=n.y-r,L=v*o+b*l,F;L<=0?F=0:(v=o-v,b=l-b,L=v*o+b*l,L<=0?F=0:F=L*L/(o*o+l*l));var U=v*v+b*b-F;return U<0&&(U=0),U},Yr=function(n,t,e){return e===void 0&&(e=.001),Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2)<Math.pow(e,2)},Nr=function(n,t){var e=n.x<t.x,r=n.x>t.x+t.width,o=n.y>t.y+t.height,l=n.y<t.y,v=e||r||o||l;if(!v)return 0;if(o&&!e&&!r)return Math.pow(t.y+t.height-n.y,2);if(l&&!e&&!r)return Math.pow(n.y-t.y,2);if(e&&!o&&!l)return Math.pow(t.x-n.x,2);if(r&&!o&&!l)return Math.pow(t.x+t.width-n.x,2);var b=Math.min(Math.abs(t.x-n.x),Math.abs(t.x+t.width-n.x)),L=Math.min(Math.abs(t.y-n.y),Math.abs(t.y+t.height-n.y));return b*b+L*L},Vr=function(n,t){var e=n[0],r=n[1],o=n[2],l=n[3],v=t.x,b=t.y,L=[o-e,l-r];if(Ba.c.exactEquals(L,[0,0]))return NaN;var F=[-L[1],L[0]];Ba.c.normalize(F,F);var U=[v-e,b-r];return Math.abs(Ba.c.dot(U,F))},cn="rgb(95, 149, 255)",ln="rgb(255, 255, 255)",Hr="rgb(0, 0, 0)",ia="rgb(247, 250, 255)",Oi="rgb(239, 244, 255)",Ua="rgb(253, 253, 253)",Wa="rgb(250, 250, 250)",ei="rgb(224, 224, 224)",za="rgb(234, 234, 234)",Na="rgb(245, 245, 245)",Qi="rgb(191, 213, 255)",qi="#4572d9",wi="rgb(223, 234, 255)",Ia={mainStroke:cn,mainFill:Oi,activeStroke:cn,activeFill:ia,inactiveStroke:Qi,inactiveFill:ia,selectedStroke:cn,selectedFill:ln,highlightStroke:qi,highlightFill:wi,disableStroke:ei,disableFill:Wa,edgeMainStroke:ei,edgeActiveStroke:cn,edgeInactiveStroke:za,edgeSelectedStroke:cn,edgeHighlightStroke:cn,edgeDisableStroke:Na,comboMainStroke:ei,comboMainFill:Ua,comboActiveStroke:cn,comboActiveFill:ia,comboInactiveStroke:ei,comboInactiveFill:Ua,comboSelectedStroke:cn,comboSelectedFill:Ua,comboHighlightStroke:qi,comboHighlightFill:Ua,comboDisableStroke:za,comboDisableFill:Wa},yn={version:"0.2.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Ia.mainStroke,fill:Oi},size:20,color:Ia.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Ia.activeFill,stroke:Ia.activeStroke}},nodeStateStyles:{active:{fill:Ia.activeFill,stroke:Ia.activeStroke,lineWidth:2,shadowColor:Ia.mainStroke,shadowBlur:10},selected:{fill:Ia.selectedFill,stroke:Ia.selectedStroke,lineWidth:4,shadowColor:Ia.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Ia.highlightFill,stroke:Ia.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Ia.inactiveFill,stroke:Ia.inactiveStroke,lineWidth:1},disable:{fill:Ia.disableFill,stroke:Ia.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:Hr,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Ia.edgeMainStroke,lineAppendWidth:2},color:Ia.edgeMainStroke},edgeStateStyles:{active:{stroke:Ia.edgeActiveStroke,lineWidth:1},selected:{stroke:Ia.edgeSelectedStroke,lineWidth:2,shadowColor:Ia.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ia.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Ia.edgeInactiveStroke,lineWidth:1},disable:{stroke:Ia.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:Hr,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Ia.comboMainFill,lineWidth:1,stroke:Ia.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Ia.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Ia.comboActiveStroke,lineWidth:1,fill:Ia.comboActiveFill},selected:{stroke:Ia.comboSelectedStroke,lineWidth:2,fill:Ia.comboSelectedFill,shadowColor:Ia.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Ia.comboHighlightStroke,lineWidth:2,fill:Ia.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Ia.comboInactiveStroke,fill:Ia.comboInactiveFill,lineWidth:1},disable:{stroke:Ia.comboDisableStroke,fill:Ia.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]}},ce={" ":.3329986572265625,a:.5589996337890625,A:.6569992065429687,b:.58599853515625,B:.6769989013671875,c:.5469985961914062,C:.7279998779296875,d:.58599853515625,D:.705999755859375,e:.554998779296875,E:.63699951171875,f:.37299957275390627,F:.5769989013671875,g:.5909988403320312,G:.7479995727539063,h:.555999755859375,H:.7199996948242188,i:.255999755859375,I:.23699951171875,j:.26699981689453123,J:.5169998168945312,k:.5289993286132812,K:.6899993896484375,l:.23499908447265624,L:.5879989624023437,m:.854998779296875,M:.8819992065429687,n:.5589996337890625,N:.7189987182617188,o:.58599853515625,O:.7669998168945312,p:.58599853515625,P:.6419998168945312,q:.58599853515625,Q:.7669998168945312,r:.3649993896484375,R:.6759994506835938,s:.504998779296875,S:.6319992065429687,t:.354998779296875,T:.6189987182617187,u:.5599990844726562,U:.7139999389648437,v:.48199920654296874,V:.6389999389648438,w:.754998779296875,W:.929998779296875,x:.5089996337890625,X:.63699951171875,y:.4959991455078125,Y:.66199951171875,z:.48699951171875,Z:.6239990234375,"0":.6,"1":.40099945068359377,"2":.6,"3":.6,"4":.6,"5":.6,"6":.6,"7":.5469985961914062,"8":.6,"9":.6,"[":.3329986572265625,"]":.3329986572265625,",":.26399993896484375,".":.26399993896484375,";":.26399993896484375,":":.26399993896484375,"{":.3329986572265625,"}":.3329986572265625,"\\":.5,"|":.19499969482421875,"=":.604998779296875,"+":.604998779296875,"-":.604998779296875,_:.5,"`":.3329986572265625," ~":.8329986572265625,"!":.3329986572265625,"@":.8579986572265625,"#":.6,$:.6,"%":.9699996948242188,"^":.517999267578125,"&":.7259994506835937,"*":.505999755859375,"(":.3329986572265625,")":.3329986572265625,"<":.604998779296875,">":.604998779296875,"/":.5,"?":.53699951171875},or=Math.PI,de=Math.sin,ee=Math.cos,ve=de(or/8),De=ee(or/8),Ir=function(n,t){var e=n.getBBox(),r={x:e.minX,y:e.minY},o={x:e.maxX,y:e.maxY};if(t){var l=t.getMatrix();l||(l=[1,0,0,0,1,0,0,0,1]),r=Eo(r,l),o=Eo(o,l)}var v=r.x,b=r.y,L=o.x,F=o.y;return{x:v,y:b,minX:v,minY:b,maxX:L,maxY:F,width:L-v,height:F-b}},qr=function(n){var t=n.sourceNode||n.targetNode,e=t.get("group"),r=e.getMatrix();r||(r=[1,0,0,0,1,0,0,0,1]);var o=t.getKeyShape(),l=o.getBBox(),v=n.loopCfg||{},b=v.dist||Math.max(l.width,l.height)*2,L=v.position||yn.defaultLoopPosition,F=[r[6],r[7]],U=[n.startPoint.x,n.startPoint.y],rt=[n.endPoint.x,n.endPoint.y],ht=l.height/2,bt=l.height/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De;if(U[0]===rt[0]&&U[1]===rt[1]){switch(L){case"top":U=[F[0]-At,F[1]-wt],rt=[F[0]+kt,F[1]-Ut];break;case"top-right":ht=l.height/2,bt=l.width/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]+At,F[1]-wt],rt=[F[0]+Ut,F[1]-kt];break;case"right":ht=l.width/2,bt=l.width/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]+wt,F[1]-At],rt=[F[0]+Ut,F[1]+kt];break;case"bottom-right":ht=l.width/2,bt=l.height/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]+wt,F[1]+At],rt=[F[0]+kt,F[1]+Ut];break;case"bottom":ht=l.height/2,bt=l.height/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]+At,F[1]+wt],rt=[F[0]-kt,F[1]+Ut];break;case"bottom-left":ht=l.height/2,bt=l.width/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]-At,F[1]+wt],rt=[F[0]-Ut,F[1]+kt];break;case"left":ht=l.width/2,bt=l.width/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]-wt,F[1]+At],rt=[F[0]-Ut,F[1]-kt];break;case"top-left":ht=l.width/2,bt=l.height/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]-wt,F[1]-At],rt=[F[0]-kt,F[1]-Ut];break;default:ht=l.width/2,bt=l.width/2,At=ht*ve,wt=ht*De,kt=bt*ve,Ut=bt*De,U=[F[0]-At,F[1]-wt],rt=[F[0]+kt,F[1]-Ut]}if(v.clockwise===!1){var Kt=[U[0],U[1]];U=[rt[0],rt[1]],rt=[Kt[0],Kt[1]]}}var qt=[U[0]-F[0],U[1]-F[1]],ne=(ht+b)/ht,ye=(bt+b)/bt;v.clockwise===!1&&(ne=(bt+b)/bt,ye=(ht+b)/ht);var xe=Ba.c.scale([0,0],qt,ne),je=[F[0]+xe[0],F[1]+xe[1]],We=[rt[0]-F[0],rt[1]-F[1]],Be=Ba.c.scale([0,0],We,ye),qe=[F[0]+Be[0],F[1]+Be[1]];return n.startPoint={x:U[0],y:U[1]},n.endPoint={x:rt[0],y:rt[1]},n.controlPoints=[{x:je[0],y:je[1]},{x:qe[0],y:qe[1]}],n},ka=function(n,t,e,r,o){var l=1e-4,v=[],b=n.getPoint(t);if(b===null)return{x:0,y:0,angle:0};if(t<l)v=n.getStartTangent().reverse();else if(t>1-l)v=n.getEndTangent();else{var L=n.getPoint(t+l);v.push([b.x,b.y]),v.push([L.x,L.y])}var F=Math.atan2(v[1][1]-v[0][1],v[1][0]-v[0][0]);if(F<0&&(F+=or*2),e&&(b.x+=ee(F)*e,b.y+=de(F)*e),r){var U=F-or/2;F>1/2*or&&F<3*1/2*or&&(U-=or),b.x+=ee(U)*r,b.y+=de(U)*r}var rt={x:b.x,y:b.y,angle:F};return o?(F>1/2*or&&F<3*1/2*or&&(F-=or),Object(pe.a)({rotate:F},rt)):rt},ki=function u(n,t){if(t(n)===!1)return!1;if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return!1}return!0},Fo=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return t(n)!==!1},No=function(n,t){typeof t=="function"&&ki(n,t)},ps=function(n,t){typeof t=="function"&&Fo(n,t)},Ws=function(n,t){return t*(ce[n]||1)},ws=function(n,t){var e=0,r=new RegExp("[\u4E00-\u9FA5]+");return n.split("").forEach(function(o){r.test(o)?e+=t:e+=Ws(o,t)}),[e,t]},Ru=function(n,t){var e=[],r={},o={};n.forEach(function(b){o[b.id]=b}),n.forEach(function(b,L){var F=Object(y.e)(b);F.itemType="combo",F.children=void 0,F.parentId===F.id?(console.warn("The parentId for combo "+F.id+" can not be the same as the combo's id"),delete F.parentId):F.parentId&&!o[F.parentId]&&(console.warn("The parent combo for combo "+F.id+" does not exist!"),delete F.parentId);var U=r[F.id];if(U){if(F.children=U.children,r[F.id]=F,U=F,!U.parentId){e.push(U);return}var rt=r[U.parentId];if(rt)rt.children?rt.children.push(F):rt.children=[F];else{var ht={id:U.parentId,children:[U]};r[U.parentId]=ht,r[F.id]=F}return}if(Object(y.O)(b.parentId)){var bt=r[b.parentId];if(bt)bt.children?bt.children.push(F):bt.children=[F],r[F.id]=F;else{var At={id:b.parentId,children:[F]};r[At.id]=At,r[F.id]=F}}else e.push(F),r[F.id]=F});var l={};(t||[]).forEach(function(b){l[b.id]=b;var L=r[b.comboId];if(L){var F={id:b.id,comboId:b.comboId};L.children?L.children.push(F):L.children=[F],F.itemType="node",r[b.id]=F}});var v=0;return e.forEach(function(b){b.depth=v+10,ki(b,function(L){var F,U=r[L.id].itemType;U==="node"?F=r[L.comboId]:F=r[L.parentId],F&&U==="node"?L.depth=v+1:L.depth=v+10,v<L.depth&&(v=L.depth);var rt=l[L.id];return rt&&(rt.depth=L.depth),!0})}),e},Mu=function(n,t,e){var r=n,o,l={root:{children:n}},v=!1,b="root";(n||[]).forEach(function(ht){if(!v){if(ht.id===t){o=ht,ht.itemType==="combo"?o.parentId=e:o.comboId=e,v=!0;return}No(ht,function(bt){return l[bt.id]={children:bt.children},r=l[bt.parentId||bt.comboId||"root"].children,bt&&(bt.removed||t===bt.id)&&r?(b=bt.parentId||bt.comboId||"root",o=bt,bt.itemType==="combo"?o.parentId=e:o.comboId=e,v=!0,!1):!0})}}),r=l[b].children;var L=r?r.indexOf(o):-1;if(L>-1&&r.splice(L,1),v||(o={id:t,itemType:"node",comboId:e},l[t]={children:void 0}),t){var F=!1;if(e){var U=0;(n||[]).forEach(function(ht){F||No(ht,function(bt){return e===bt.id?(F=!0,bt.children?bt.children.push(o):bt.children=[o],U=bt.depth,o.itemType==="node"?o.depth=U+2:o.depth=U+1,!1):!0})})}else(!e||!F)&&o.itemType!=="node"&&n.push(o);var rt=o.depth;No(o,function(ht){return ht.itemType==="node"?rt+=2:rt+=1,ht.depth=rt,!0})}return n},Fu=function(n,t){var e={minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity,x:void 0,y:void 0,width:void 0,height:void 0,centerX:void 0,centerY:void 0};return!n||n.length===0||(n.forEach(function(r){var o=t.findById(r.id);if(!(!o||!o.isVisible())){o.set("bboxCanvasCache",void 0);var l=o.getCanvasBBox();l.x&&e.minX>l.minX&&(e.minX=l.minX),l.y&&e.minY>l.minY&&(e.minY=l.minY),l.x&&e.maxX<l.maxX&&(e.maxX=l.maxX),l.y&&e.maxY<l.maxY&&(e.maxY=l.maxY)}}),e.x=(e.minX+e.maxX)/2,e.y=(e.minY+e.maxY)/2,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,Object.keys(e).forEach(function(r){(e[r]===Infinity||e[r]===-Infinity)&&(e[r]=void 0)})),e},dl=function(n){var t=Object(y.K)(n.x)||Object(y.K)(n.y)||n.type||n.anchorPoints||n.size;return n.style&&(t=t||Object(y.K)(n.style.r)||Object(y.K)(n.style.width)||Object(y.K)(n.style.height)||Object(y.K)(n.style.rx)||Object(y.K)(n.style.ry)),t},vl=function(n){var t={};return Object.keys(n).forEach(function(e){var r=n[e];if(Object(y.M)(r)){var o={};Object.keys(r).forEach(function(l){var v=r[l];l==="img"&&!Object(y.O)(v)||(o[l]=Object(y.e)(v))}),t[e]=o}else t[e]=Object(y.e)(r)}),t},gl=function(n){if(!n)return console.error("G6 Error Tips: the data must be defined"),!1;var t=n.nodes,e=n.edges,r=n.combos,o=r===void 0?[]:r;if(!t&&!e){var l=!0;return No(n,function(rt){return Object(y.O)(rt.id)?!0:(l=!1,!1)}),l}var v=(t||[]).find(function(rt){return!Object(y.O)(rt.id)});if(v)return console.warn("G6 Warning Tips: missing 'id' property, or %c"+v.id+"%c is not a string.","font-size: 20px; color: red;",""),!1;var b=(t||[]).map(function(rt){return rt.id}),L=o.map(function(rt){return rt.id}),F=Object(pe.f)(Object(pe.f)([],b),L),U=(e||[]).find(function(rt){return!F.includes(rt.source)||!F.includes(rt.target)});return U?(console.warn("G6 Warning Tips: The source %c"+U.source+"%c or the target %c"+U.target+"%c of the edge do not exist in the nodes or combos.","font-size: 20px; color: red;","","font-size: 20px; color: red;",""),!1):!0},tf=function(n,t){if(n==="node"||n==="combo"){if(t.id&&!Object(y.O)(t.id))return console.warn("G6 Warning Tips: missing 'id' property, or the 'id' %c"+t.id+"%c is not a string.","font-size: 20px; color: red;",""),!1}else if(n==="edge"&&(!t.source||!t.target))return console.warn("G6 Warning Tips: missing 'source' or 'target' for the edge."),!1;return!0},bc=function(){function u(n){this.graph=n,this.destroyed=!1,this.modes=n.get("modes")||{default:[]},this.formatModes(),this.mode=n.get("defaultMode")||"default",this.currentBehaves=[],this.setMode(this.mode)}return u.prototype.formatModes=function(){var n=this.modes;Object(y.j)(n,function(t){Object(y.j)(t,function(e,r){Object(y.O)(e)&&(t[r]={type:e})})})},u.prototype.setBehaviors=function(n){var t=this.graph,e=this.modes[n],r=[],o;Object(y.j)(e||[],function(l){var v=we.getBehavior(l.type||l);!v||(o=new v(l),o&&(o.bind(t),r.push(o)))}),this.currentBehaves=r},u.mergeBehaviors=function(n,t){return Object(y.j)(t,function(e){n.indexOf(e)<0&&(Object(y.O)(e)&&(e={type:e}),n.push(e))}),n},u.filterBehaviors=function(n,t){var e=[];return n.forEach(function(r){var o="";Object(y.O)(r)?o=r:o=r.type,t.indexOf(o)<0&&e.push(r)}),e},u.prototype.setMode=function(n){var t=this,e=t.modes,r=t.graph,o=n,l=e[o];!l||(r.emit("beforemodechange",{mode:n}),Object(y.j)(this.currentBehaves,function(v){v.delegate&&v.delegate.remove(),v.unbind(r)}),this.setBehaviors(o),r.emit("aftermodechange",{mode:n}),this.mode=n)},u.prototype.getMode=function(){return this.mode},u.prototype.manipulateBehaviors=function(n,t,e){var r=this,o;if(Object(y.B)(n)?o=n:o=[n],Object(y.B)(t))return Object(y.j)(t,function(v){r.modes[v]?e?r.modes[v]=u.mergeBehaviors(r.modes[v]||[],o):r.modes[v]=u.filterBehaviors(r.modes[v]||[],o):e&&(r.modes[v]=o)}),this;var l=t;return t||(l=this.mode),this.modes[l]||e&&(this.modes[l]=o),e?this.modes[l]=u.mergeBehaviors(this.modes[l]||[],o):this.modes[l]=u.filterBehaviors(this.modes[l]||[],o),this.setMode(this.mode),this},u.prototype.updateBehavior=function(n,t,e){Object(y.O)(n)&&(n={type:n});var r=[];if(!e||e===this.mode||e==="default"){if(r=this.currentBehaves,!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var o=r.length,l=0;l<o;l++){var v=r[l];if(v.type===n.type)return v.updateCfg(t),this;l===o-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}else{if(r=this.modes[e],!r||!r.length)return console.warn("Update behavior failed! There is no behaviors in this mode on the graph."),this;for(var b=r.length,l=0;l<b;l++){var v=r[l];if(v.type===n.type||v===n.type)return v===n.type&&(v={type:v}),Object.assign(v,t),r[l]=v,this;l===b-1&&console.warn("Update behavior failed! There is no such behavior in the mode")}}return this},u.prototype.destroy=function(){this.graph=null,this.modes=null,this.currentBehaves=null,this.destroyed=!0},u}(),Ec=bc,Va=a("fIp6"),Io=a("aFU3"),Ha=function(u){Object(pe.c)(n,u);function n(t,e){var r=u.call(this,t,e)||this;return r.item=e.item,r.canvasX=e.canvasX,r.canvasY=e.canvasY,r.wheelDelta=e.wheelDelta,r.detail=e.detail,r}return n}(Io.Event),hu=function(n){return n+"-"+Math.random()+Date.now()},Ju=function(n){var t=0,e=0,r=0,o=0;if(Object(y.K)(n))t=e=r=o=n;else if(Object(y.O)(n)){var l=parseInt(n,10);t=e=r=o=l}else Object(y.B)(n)&&(t=n[0],r=Object(y.I)(n[1])?n[0]:n[1],o=Object(y.I)(n[2])?n[0]:n[2],e=Object(y.I)(n[3])?r:n[3]);return[t,r,o,e]},du=function(n){var t=new Ha(n.type,n);return t.clientX=n.clientX,t.clientY=n.clientY,t.x=n.x,t.y=n.y,t.target=n.target,t.currentTarget=n.currentTarget,t.bubbles=!0,t.item=n.item,t},vu=function(n){if(!n)return!1;for(var t=9,e=[1,0,0,0,1,0,0,0,1],r=0;r<t;r++)if(n[r]!==e[r])return!0;return!1},pl=function(n){return Number.isNaN(Number(n))},_u=function(n){for(var t=Infinity,e=-Infinity,r=Infinity,o=-Infinity,l=0;l<n.length;l++){var v=n[l],b=v.getBBox(),L=b.minX,F=b.minY,U=b.maxX,rt=b.maxY;L<t&&(t=L),F<r&&(r=F),U>e&&(e=U),rt>o&&(o=rt)}var ht=Math.floor(t),bt=Math.floor(r),At=Math.ceil(e)-Math.floor(t),wt=Math.ceil(o)-Math.floor(r);return{x:ht,y:bt,width:At,height:wt,minX:t,minY:r,maxX:e,maxY:o}},zf=function(n,t,e,r,o){t===void 0&&(t=15),e===void 0&&(e="quadratic"),r===void 0&&(r=void 0),o===void 0&&(o=void 0);for(var l=n.length,v=t*2,b=["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left"],L={},F=[],U={},rt=0;rt<l;rt++){var ht=n[rt],bt=ht.source,At=ht.target,wt=bt+"-"+At;if(!F[rt]){L[wt]||(L[wt]=[]),F[rt]=!0,L[wt].push(ht);for(var kt=0;kt<l;kt++)if(rt!==kt){var Ut=n[kt],Kt=Ut.source,qt=Ut.target;F[kt]||(bt===qt&&At===Kt?(L[wt].push(Ut),F[kt]=!0,U[Kt+"|"+qt+"|"+(L[wt].length-1)]=!0):bt===Kt&&At===qt&&(L[wt].push(Ut),F[kt]=!0))}}}for(var ne in L)for(var ye=L[ne],xe=ye.length,je=0;je<xe;je++){var We=ye[je];if(We.source===We.target){o&&(We.type=o),We.loopCfg={position:b[je%8],dist:Math.floor(je/8)*20+50};continue}if(xe===1&&r&&We.source!==We.target){We.type=r;continue}We.type=e;var Be=(je%2==0?1:-1)*(U[We.source+"|"+We.target+"|"+je]?-1:1);xe%2==1?We.curveOffset=Be*Math.ceil(je/2)*v:We.curveOffset=Be*(Math.floor(je/2)*v+t)}return n},Ul=function(){function u(n){this.destroyed=!1,this.graph=n,this.destroyed=!1}return u.prototype.getViewCenter=function(){var n=this.getFormatPadding(),t=this.graph,e=this.graph.get("width"),r=t.get("height");return{x:(e-n[1]-n[3])/2+n[3],y:(r-n[0]-n[2])/2+n[0]}},u.prototype.fitCenter=function(){var n=this.graph,t=n.get("group");t.resetMatrix();var e=t.getCanvasBBox();if(!(e.width===0||e.height===0)){var r=this.getViewCenter(),o={x:e.x+e.width/2,y:e.y+e.height/2};n.translate(r.x-o.x,r.y-o.y)}},u.prototype.fitView=function(){var n=this.graph,t=this.getFormatPadding(),e=n.get("width"),r=n.get("height"),o=n.get("group");o.resetMatrix();var l=o.getCanvasBBox();if(!(l.width===0||l.height===0)){var v=this.getViewCenter(),b={x:l.x+l.width/2,y:l.y+l.height/2};n.translate(v.x-b.x,v.y-b.y);var L=(e-t[1]-t[3])/l.width,F=(r-t[0]-t[2])/l.height,U=L;L>F&&(U=F),n.zoom(U,v)}},u.prototype.getFormatPadding=function(){var n=this.graph.get("fitViewPadding");return Ju(n)},u.prototype.focusPoint=function(n,t,e){var r=this,o=this.getViewCenter(),l=this.getPointByCanvas(o.x,o.y),v=this.graph.get("group").getMatrix();if(v||(v=[1,0,0,0,1,0,0,0,1]),t){var b=(l.x-n.x)*v[0],L=(l.y-n.y)*v[4],F=0,U=0,rt=0,ht=0;this.graph.get("canvas").animate(function(bt){rt=b*bt,ht=L*bt,r.graph.translate(rt-F,ht-U),F=rt,U=ht},Object(pe.a)({},e))}else this.graph.translate((l.x-n.x)*v[0],(l.y-n.y)*v[4])},u.prototype.getPointByCanvas=function(n,t){var e=this.graph.get("group").getMatrix();e||(e=[1,0,0,0,1,0,0,0,1]);var r=hs({x:n,y:t},e);return r},u.prototype.getPointByClient=function(n,t){var e=this.graph.get("canvas"),r=e.getPointByClient(n,t);return this.getPointByCanvas(r.x,r.y)},u.prototype.getClientByPoint=function(n,t){var e=this.graph.get("canvas"),r=this.getCanvasByPoint(n,t),o=e.getClientByPoint(r.x,r.y);return{x:o.x,y:o.y}},u.prototype.getCanvasByPoint=function(n,t){var e=this.graph.get("group").getMatrix();return e||(e=[1,0,0,0,1,0,0,0,1]),Eo({x:n,y:t},e)},u.prototype.focus=function(n,t,e){Object(y.O)(n)&&(n=this.graph.findById(n));var r=n.get("group"),o=r.getMatrix();o||(o=[1,0,0,0,1,0,0,0,1]),n&&this.focusPoint({x:o[6],y:o[7]},t,e)},u.prototype.changeSize=function(n,t){var e=this.graph;if(!Object(y.K)(n)||!Object(y.K)(t))throw Error("invalid canvas width & height, please make sure width & height type is number");e.set({width:n,height:t});var r=e.get("canvas");r.changeSize(n,t);var o=e.get("plugins");o.forEach(function(l){if(l.get("gridContainer")){var v=e.get("minZoom");Object(Va.e)(l.get("container"),{width:n+"px",height:t+"px"}),Object(Va.e)(l.get("gridContainer"),{width:n/v+"px",height:t/v+"px",left:0,top:0})}})},u.prototype.destroy=function(){this.graph=null,this.destroyed=!1},u}(),Oc=Ul;function qu(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qu=function(t){return typeof t}:qu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qu(u)}function Tu(u){if(typeof u!="string")return u;var n=function(xe){if(typeof xe!="string")return xe;try{return JSON.parse(xe.trim())}catch(je){return xe.trim()}},t=n(u);if(typeof t!="string")return t;for(var e=function(xe){return xe[xe.length-1]},r=u.trim(),o=[],l=[],v=function(){for(var xe=[],je=0;je<arguments.length;je++)xe[je]=arguments[je];return xe.some(function(We){return e(l)===We})},b=function(){return e(o)},L=null,F=0,U="";F<r.length;){var rt=r[F],ht=v('"',"'");if(!ht&&!rt.trim()){F+=1;continue}var bt=r[F-1]==="\\",At=v("}"),wt=v("]"),kt=v(","),Ut=b();if(ht)if(e(l)===rt&&!bt){l.pop();var Kt=n(U);Ut.push(Kt),L=Kt,U=""}else U+=rt;else if(wt&&rt===",")U&&(Ut.push(n(U)),U="");else if(At&&rt===":")l.push(","),U&&(Ut.push(U),U="");else if(kt&&rt===",")U&&(Ut.push(n(U)),U=""),l.pop();else if(rt==="}"&&(At||kt)){U&&(Ut.push(n(U)),U=""),kt&&l.pop();for(var qt={},ne=1;ne<Ut.length;ne+=2)qt[Ut[ne-1]]=Ut[ne];o.pop(),o.length&&e(o).push(qt),l.pop(),L=qt}else rt==="]"&&wt?(U&&(Ut.push(n(U)),U=""),o.pop(),o.length&&e(o).push(Ut),l.pop(),L=Ut):rt==="{"?(o.push([]),l.push("}")):rt==="["?(o.push([]),l.push("]")):rt==='"'?l.push('"'):rt==="'"?l.push("'"):U+=rt;F+=1}return L||U}var Du=function(n){return n.split("-").reduce(function(t,e){return t+e.charAt(0).toUpperCase()+e.slice(1)})},Nu=function(n){return function(t){for(var e=n.length,r=[],o=0,l="";o<e;)if(n[o]==="{"&&n[o+1]==="{")r.push(l),l="",o+=2;else if(n[o]==="}"&&n[o+1]==="}"){if(r.length){var v=r.pop();l=Object(y.s)(t,l,v.endsWith("=")?'"{'+l+'}"':l),r.push(v+l)}o+=2,l=""}else l+=n[o],o+=1;return r.push(l),r.map(function(b,L){return r[L-1]&&r[L-1].endsWith("=")?'"{'+b+'}"':b}).join("")}};function zs(u,n){var t={},e=u.getAttributeNames&&u.getAttributeNames()||[],r=u.children&&Array.from(u.children).map(function(v){return zs(v,n)}),o={},l=u.tagName?u.tagName.toLowerCase():"group";return l==="text"&&(t.text=u.innerText),o.type=l,l==="img"&&(o.type="image"),Array.from(e).forEach(function(v){var b=Du(v),L=u.getAttribute(v);try{if(b==="style"||b==="attrs"){var F=Tu(L);t=Object(pe.a)(Object(pe.a)({},t),F)}else o[b]=Tu(L)}catch(U){if(b==="style")throw U;o[b]=L}}),o.attrs=t,n&&n.style&&o.name&&qu(n.style[o.name])==="object"&&(o.attrs=Object(pe.a)(Object(pe.a)({},o.attrs),n.style[o.name])),n&&n.style&&o.keyshape&&(o.attrs=Object(pe.a)(Object(pe.a)({},o.attrs),n.style)),r.length&&(o.children=r),o}function kf(u,n,t){var e=u.attrs,r=e===void 0?{}:e,o={x:n.x||0,y:n.y||0,width:t.width||0,height:t.height||0},l,v;switch(u.type){case"maker":case"circle":r.r&&(v=2*r.r,l=2*r.r);break;case"text":r.text&&(v=ws(r.text,r.fontSize||12)[0],l=16,o.y+=l,o.height=l,o.width=v,u.attrs=Object(pe.a)({fontSize:12,fill:"#000"},r));break;default:r.width&&(v=r.width),r.height&&(l=r.height)}return l>=0&&(o.height=l),v>=0&&(o.width=v),r.marginTop&&(o.y+=r.marginTop),r.marginLeft&&(o.x+=r.marginLeft),o}function Gu(u,n){var t;n===void 0&&(n={x:0,y:0});var e=Object(pe.a)({x:0,y:0,width:0,height:0},n);if((t=u.children)===null||t===void 0?void 0:t.length){var r=u.attrs,o=r===void 0?{}:r,l=o.marginTop,v=Object(pe.a)({},n);l&&(v.y+=l);for(var b=0;b<u.children.length;b++){u.children[b].attrs.key=(o.key||"root")+" -"+b+" ";var L=Gu(u.children[b],v);if(L.bbox){var F=L.bbox;L.attrs.next==="inline"?v.x+=L.bbox.width:v.y+=L.bbox.height,F.width+F.x>e.width&&(e.width=F.width+F.x),F.height+F.y>e.height&&(e.height=F.height+F.y)}}}return u.bbox=kf(u,n,e),u.attrs=Object(pe.a)(Object(pe.a)({},u.attrs),u.bbox),u}function Wl(u,n){var t,e,r,o,l=(u||{}).type,v=((n==null?void 0:n.attrs)||{}).key;if(v&&u&&(u.attrs.key=v),!u&&n)return{action:"delete",val:n,type:l,key:v};if(u&&!n)return{action:"add",val:u,type:l};if(!u&&!n)return{action:"same",type:l};var b=[];if(((t=u.children)===null||t===void 0?void 0:t.length)>0||((e=n.children)===null||e===void 0?void 0:e.length)>0)for(var L=Math.max((r=u.children)===null||r===void 0?void 0:r.length,(o=n.children)===null||o===void 0?void 0:o.length),F=n.children||[],U=u.children||[],rt=0;rt<L;rt+=1)b.push(Wl(U[rt],F[rt]));var ht=Object.keys(n.attrs),bt=Object.keys(u.attrs);return n.type!==u.type?{action:"restructure",nowTarget:u,formerTarget:n,key:v,children:b}:ht.filter(function(At){return At!=="children"}).some(function(At){return u.attrs[At]!==n.attrs[At]||!bt.includes(At)})?{action:"change",val:u,children:b,type:l,key:v}:{action:"same",children:b,type:l,key:v}}function ks(u){var n={},t=function(r){var o=typeof u=="function"?u(r):u,l=Nu(o)(r),v=document.createElement("div");v.innerHTML=l;var b=v.children[0],L=Gu(zs(b,r));return v.remove(),L};return{draw:function(r,o){var l=t(r),v=o,b=function L(F){var U=F.attrs,rt=U===void 0?{}:U,ht=F.bbox,bt=F.type,At=F.children,wt=Object(pe.e)(F,["attrs","bbox","type","children"]);if(F.type!=="group"){var kt=o.addShape(F.type,Object(pe.a)({attrs:rt,origin:{bbox:ht,type:bt,children:At}},wt));F.keyshape&&(v=kt)}F.children&&F.children.forEach(function(Ut){return L(Ut)})};return b(l),n[r.id]=[l],v},update:function(r,o){n[r.id]||(n[r.id]=[]);var l=o.getContainer(),v=l.get("children"),b=t(r),L=n[r.id].pop(),F=Wl(b,L),U=function bt(At){var wt;At.type!=="group"&&l.addShape(At.type,{attrs:At.attrs}),((wt=At.children)===null||wt===void 0?void 0:wt.length)&&At.children.map(function(kt){return bt(kt)})},rt=function bt(At){var wt,kt=v.find(function(Ut){return Ut.attrs.key===At.attrs.key});kt&&l.removeChild(kt),((wt=At.children)===null||wt===void 0?void 0:wt.length)&&At.children.map(function(Ut){return bt(Ut)})},ht=function bt(At){var wt=At.key;if(At.type!=="group"){var kt=v.find(function(Kt){return Kt.attrs.key===wt});switch(At.action){case"change":if(kt){var Ut=At.val.keyshape?o.getOriginStyle():{};kt.attr(Object(pe.a)(Object(pe.a)({},Ut),At.val.attrs))}break;case"add":U(At.val);break;case"delete":rt(At.val);break;case"restructure":rt(At.formerTarget),U(At.nowTarget);break;default:break}}At.children&&At.children.forEach(function(Kt){return bt(Kt)})};ht(F),n[r.id].push(b)},getAnchorPoints:function(){return[[0,.5],[1,.5],[.5,1],[.5,0]]}}}var tl={};function xc(u){return tl[u]||(tl[u]=Object(y.tb)(u)),tl[u]}var yl={defaultShapeType:"defaultType",className:null,getShape:function(n){var t=this,e=t[n]||t[t.defaultShapeType]||t["simple-circle"];return e},draw:function(n,t,e){var r=this.getShape(n),o=r.draw(t,e);return r.afterDraw&&r.afterDraw(t,e,o),o},baseUpdate:function(n,t,e){var r=this.getShape(n);r.update&&r.update(t,e),r.afterUpdate&&r.afterUpdate(t,e)},setState:function(n,t,e,r){var o=this.getShape(n);o.setState(t,e,r)},shouldUpdate:function(n){var t=this.getShape(n);return!!t.update},getControlPoints:function(n,t){var e=this.getShape(n);return e.getControlPoints(t)},getAnchorPoints:function(n,t){var e=this.getShape(n);return e.getAnchorPoints(t)}},gu={options:{},draw:function(n,t){return this.drawShape(n,t)},drawShape:function(){},afterDraw:function(){},afterUpdate:function(){},setState:function(){},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.options.anchorPoints,e=n.anchorPoints||t;return e}},el=function(){function u(){}return u.registerFactory=function(n,t){var e=xc(n),r=yl,o=Object(pe.a)(Object(pe.a)({},r),t);return u[e]=o,o.className=e,o},u.getFactory=function(n){var t=xc(n);return u[t]},u.registerNode=function(n,t,e){var r=u.Node,o;if(typeof t=="string"||typeof t=="function"){var l=ks(t);o=Object(pe.a)(Object(pe.a)({},r.getShape("single-node")),l)}else if(t.jsx){var v=t.jsx,l=ks(v);o=Object(pe.a)(Object(pe.a)(Object(pe.a)({},r.getShape("single-node")),l),t)}else{r.getShape(e);var b=e?r.getShape(e):gu;o=Object(pe.a)(Object(pe.a)({},b),t)}return o.type=n,o.itemType="node",r[n]=o,o},u.registerEdge=function(n,t,e){var r=u.Edge,o=e?r.getShape(e):gu,l=Object(pe.a)(Object(pe.a)({},o),t);return l.type=n,l.itemType="edge",r[n]=l,l},u.registerCombo=function(n,t,e){var r=u.Combo,o=e?r.getShape(e):gu,l=Object(pe.a)(Object(pe.a)({},o),t);return l.type=n,l.itemType="combo",r[n]=l,l},u}(),ss=el;el.registerFactory("node",{defaultShapeType:"circle"}),el.registerFactory("edge",{defaultShapeType:"line"}),el.registerFactory("combo",{defaultShapeType:"circle"});var zl="bboxCache",nu="bboxCanvasCache",ef=["startArrow","endArrow"],Ss=function(){function u(n){this._cfg={},this.destroyed=!1;var t={id:void 0,type:"item",model:{},group:void 0,animate:!1,visible:!0,locked:!1,event:!0,keyShape:void 0,states:[]};this._cfg=Object.assign(t,this.getDefaultCfg(),n);var e=this.get("model"),r=e.id,o=this.get("type");r||(r=hu(o),this.get("model").id=r),this.set("id",r);var l=n.group;l&&(l.set("item",this),l.set("id",r)),this.init(),this.draw();var v=e.shape||e.type||(o==="edge"?"line":"circle"),b=this.get("shapeFactory");if(b&&b[v]){var L=b[v].options;if(L&&L.stateStyles){var F=this.get("styles")||e.stateStyles;F=Object(y.h)({},L.stateStyles,F),this.set("styles",F)}}}return u.prototype.calculateBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Ir(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.calculateCanvasBBox=function(){var n=this.get("keyShape"),t=this.get("group"),e=Ir(n,t);return e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2,e},u.prototype.drawInner=function(){var n=this,t=n.get("shapeFactory"),e=n.get("group"),r=n.get("model");e.clear();var o=r.visible;if(o!==void 0&&!o&&n.changeVisibility(o),!!t){n.updatePosition(r);var l=n.getShapeCfg(r),v=l.type,b=t.draw(v,l,e);b&&(n.set("keyShape",b),b.set("isKeyShape",!0),b.set("draggable",!0)),this.setOriginStyle(),this.set("currentShape",v),this.restoreStates(t,v)}},u.prototype.setOriginStyle=function(){var n=this.get("group"),t=n.get("children"),e=this.getKeyShape(),r=this,o=e.get("name");if(this.get("originStyle")){var v=this.getOriginStyle();o&&!v[o]&&(v[o]={});var b=this.getCurrentStatesStyle();Object(y.j)(t,function(L){var F=L.get("name"),U=L.attr();if(F&&F!==o){var rt=b[F];v[F]||(v[F]={}),rt?Object.keys(U).forEach(function(At){var wt=U[At];wt!==rt[At]&&(v[F][At]=wt)}):v[F]=L.get("type")!=="image"?Object(y.e)(U):r.getShapeStyleByName(F)}else{var ht=L.attr(),bt=Object(pe.a)(Object(pe.a)({},b),b[o]);Object.keys(ht).forEach(function(At){var wt=ht[At];bt[At]!==wt&&(o?v[o][At]=wt:v[At]=wt)})}}),v.path&&delete v.path,v.matrix&&delete v.matrix,v.x&&delete v.x,v.y&&delete v.y,v[o]&&v[o].x&&delete v[o].x,v[o]&&v[o].y&&delete v[o].y,r.set("originStyle",v)}else{var l={};Object(y.j)(t,function(L){var F=L.get("type"),U=L.get("name");if(U&&U!==o)l[U]=F!=="image"?Object(y.e)(L.attr()):r.getShapeStyleByName(U);else{var rt=r.getShapeStyleByName();if(rt.path&&delete rt.path,rt.matrix&&delete rt.matrix,!o)Object.assign(l,rt);else if(U)l[o]=rt;else{var ht=hu("shape");L.set("name",ht),l[ht]=F!=="image"?Object(y.e)(L.attr()):r.getShapeStyleByName(U)}}}),r.set("originStyle",l)}},u.prototype.restoreStates=function(n,t){var e=this,r=e.get("states");Object(y.j)(r,function(o){n.setState(t,o,!0,e)})},u.prototype.init=function(){var n=ss.getFactory(this.get("type"));this.set("shapeFactory",n)},u.prototype.get=function(n){return this._cfg[n]},u.prototype.set=function(n,t){Object(y.N)(n)?this._cfg=Object(pe.a)(Object(pe.a)({},this._cfg),n):this._cfg[n]=t},u.prototype.getDefaultCfg=function(){return{}},u.prototype.clearCache=function(){this.set(zl,null),this.set(nu,null)},u.prototype.beforeDraw=function(){},u.prototype.afterDraw=function(){},u.prototype.afterUpdate=function(){},u.prototype.draw=function(){this.beforeDraw(),this.drawInner(),this.afterDraw()},u.prototype.getShapeStyleByName=function(n){var t=this.get("group"),e;if(n?e=t.find(function(o){return o.get("name")===n}):e=this.getKeyShape(),e){var r={};return Object(y.j)(e.attr(),function(o,l){l!=="img"&&(r[l]=o)}),r}return{}},u.prototype.getShapeCfg=function(n){var t=this.get("styles");if(t){var e=n;return e.style=Object(pe.a)(Object(pe.a)({},t),n.style),e}return n},u.prototype.getStateStyle=function(n){var t=this.get("styles"),e=t&&t[n];return e},u.prototype.getOriginStyle=function(){return this.get("originStyle")},u.prototype.getCurrentStatesStyle=function(){var n=this,t={},e=n.getStates();return!e||!e.length?this.getOriginStyle():(Object(y.j)(n.getStates(),function(r){t=Object.assign(t,n.getStateStyle(r))}),t)},u.prototype.setState=function(n,t){var e=this.get("states"),r=this.get("shapeFactory"),o=n,l=n;Object(y.O)(t)&&(o=n+":"+t,l=n+":");var v=e;if(Object(y.C)(t)){var b=e.indexOf(l);if(t){if(b>-1)return;e.push(o)}else b>-1&&e.splice(b,1)}else if(Object(y.O)(t)){var L=e.filter(function(rt){return rt.includes(l)});L.length>0&&this.clearStates(L),v=v.filter(function(rt){return!rt.includes(l)}),v.push(o),this.set("states",v)}if(r){var F=this.get("model"),U=F.type;r.setState(U,n,t,this)}},u.prototype.clearStates=function(n){var t=this,e=t.getStates(),r=t.get("shapeFactory"),o=t.get("model"),l=o.type;n||(n=e),Object(y.O)(n)&&(n=[n]);var v=e.filter(function(b){return n.indexOf(b)===-1});t.set("states",v),n.forEach(function(b){r.setState(l,b,!1,t)})},u.prototype.getContainer=function(){return this.get("group")},u.prototype.getKeyShape=function(){return this.get("keyShape")},u.prototype.getModel=function(){return this.get("model")},u.prototype.getType=function(){return this.get("type")},u.prototype.getID=function(){return this.get("id")},u.prototype.isItem=function(){return!0},u.prototype.getStates=function(){return this.get("states")},u.prototype.hasState=function(n){var t=this.getStates();return t.indexOf(n)>=0},u.prototype.refresh=function(){var n=this.get("model");this.updatePosition(n),this.updateShape(),this.afterUpdate(),this.clearCache()},u.prototype.isOnlyMove=function(n){return!1},u.prototype.update=function(n,t){t===void 0&&(t=!1);var e=this.get("model"),r=e.visible,o=n.visible;r!==o&&o!==void 0&&this.changeVisibility(o);var l={x:e.x,y:e.y};n.x=isNaN(n.x)?e.x:n.x,n.y=isNaN(n.y)?e.y:n.y;var v=this.get("styles");if(n.stateStyles){var b=n.stateStyles;Object(y.bb)(v,b),delete n.stateStyles}Object.assign(e,n),t?this.updatePosition(n):((l.x!==n.x||l.y!==n.y)&&this.updatePosition(n),this.updateShape()),this.afterUpdate(),this.clearCache()},u.prototype.updateShape=function(){var n=this.get("shapeFactory"),t=this.get("model"),e=t.type;if(n.shouldUpdate(e)&&e===this.get("currentShape")){var r=this.getShapeCfg(t);n.baseUpdate(e,r,this),this.setOriginStyle()}else this.draw();this.restoreStates(n,e)},u.prototype.updatePosition=function(n){var t=this.get("model"),e=Object(y.I)(n.x)?t.x:n.x,r=Object(y.I)(n.y)?t.y:n.y,o=this.get("group");if(Object(y.I)(e)||Object(y.I)(r))return!1;t.x=e,t.y=r;var l=o.getMatrix();return l&&l[6]===e&&l[7]===r?!1:(o.resetMatrix(),is(o,{x:e,y:r}),this.clearCache(),!0)},u.prototype.getBBox=function(){var n=this.get(zl);return n||(n=this.calculateBBox(),this.set(zl,n)),n},u.prototype.getCanvasBBox=function(){var n=this.get(nu);return n||(n=this.calculateCanvasBBox(),this.set(nu,n)),n},u.prototype.toFront=function(){var n=this.get("group");n.toFront()},u.prototype.toBack=function(){var n=this.get("group");n.toBack()},u.prototype.show=function(){this.changeVisibility(!0)},u.prototype.hide=function(){this.changeVisibility(!1)},u.prototype.changeVisibility=function(n){var t=this.get("group");n?t.show():t.hide(),this.set("visible",n)},u.prototype.isVisible=function(){return this.get("visible")},u.prototype.enableCapture=function(n){var t=this.get("group");t&&t.set("capture",n)},u.prototype.destroy=function(){if(!this.destroyed){var n=this.get("animate"),t=this.get("group");n&&t.stopAnimate(),this.clearCache(),t.remove(),this._cfg=null,this.destroyed=!0}},u}(),pu=Ss,yu={source:"start",target:"end"},Vs="Node",mu="Point",Rs="Anchor",Zs=function(u){Object(pe.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"edge",sourceNode:null,targetNode:null,startPoint:null,endPoint:null,linkCenter:!1}},n.prototype.setEnd=function(t,e){var r=yu[t]+mu,o=t+Vs,l=this.get(o);l&&!l.destroyed&&l.removeEdge(this),Object(y.N)(e)?(this.set(r,e),this.set(o,null)):(e.addEdge(this),this.set(o,e),this.set(r,null))},n.prototype.getLinkPoint=function(t,e,r){var o=yu[t]+mu,l=t+Vs,v=this.get(o);if(!v){var b=this.get(l),L=t+Rs,F=this.getPrePoint(t,r),U=e[L];Object(y.I)(U)||(v=b.getLinkPointByAnchor(U)),v=v||b.getLinkPoint(F),Object(y.I)(v.index)||this.set(t+"AnchorIndex",v.index)}return v},n.prototype.getPrePoint=function(t,e){if(e&&e.length){var r=t==="source"?0:e.length-1;return e[r]}var o=t==="source"?"target":"source";return this.getEndPoint(o)},n.prototype.getEndPoint=function(t){var e=t+Vs,r=yu[t]+mu,o=this.get(e);return o?o.get("model"):this.get(r)},n.prototype.getControlPointsByCenter=function(t){var e=this.getEndPoint("source"),r=this.getEndPoint("target"),o=this.get("shapeFactory"),l=t.type;return o.getControlPoints(l,{startPoint:e,endPoint:r})},n.prototype.getEndCenter=function(t){var e=t+Vs,r=yu[t]+mu,o=this.get(e);if(o){var l=o.getBBox();return{x:l.centerX,y:l.centerY}}return this.get(r)},n.prototype.init=function(){u.prototype.init.call(this),this.setSource(this.get("source")),this.setTarget(this.get("target"))},n.prototype.getShapeCfg=function(t){var e=this,r=e.get("linkCenter"),o=u.prototype.getShapeCfg.call(this,t);if(r)o.startPoint=e.getEndCenter("source"),o.endPoint=e.getEndCenter("target");else{var l=o.controlPoints||e.getControlPointsByCenter(o);o.startPoint=e.getLinkPoint("source",t,l),o.endPoint=e.getLinkPoint("target",t,l)}return o.sourceNode=e.get("sourceNode"),o.targetNode=e.get("targetNode"),o},n.prototype.getModel=function(){var t=this.get("model"),e=this.get("source"+Vs),r=this.get("target"+Vs);return e?delete t["source"+Vs]:t.source=this.get("start"+mu),r?delete t["target"+Vs]:t.target=this.get("end"+mu),!Object(y.O)(t.source)&&!Object(y.N)(t.source)&&(t.source=t.source.getID()),!Object(y.O)(t.target)&&!Object(y.N)(t.target)&&(t.target=t.target.getID()),t},n.prototype.setSource=function(t){this.setEnd("source",t),this.set("source",t)},n.prototype.setTarget=function(t){this.setEnd("target",t),this.set("target",t)},n.prototype.getSource=function(){return this.get("source")},n.prototype.getTarget=function(){return this.get("target")},n.prototype.updatePosition=function(){return!1},n.prototype.update=function(t,e){e===void 0&&(e=!1);var r=this.get("model"),o=r.visible,l=t.visible;o!==l&&l!==void 0&&this.changeVisibility(l);var v=this.get("styles");if(t.stateStyles){var b=t.stateStyles;Object(y.bb)(v,b),delete t.stateStyles}Object.assign(r,t),this.updateShape(),this.afterUpdate(),this.clearCache()},n.prototype.destroy=function(){var t=this.get("source"+Vs),e=this.get("target"+Vs);t&&!t.destroyed&&t.removeEdge(this),e&&!e.destroyed&&e.removeEdge(this),u.prototype.destroy.call(this)},n}(pu),kl=Zs,Uu="anchorPointsCache",rf="bboxCache",Vl=function(u){Object(pe.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getNearestPoint=function(t,e){for(var r=0,o=t[0],l=Cs(t[0],e),v=0;v<t.length;v++){var b=t[v],L=Cs(b,e);L<l&&(o=b,l=L,r=v)}return o.anchorIndex=r,o},n.prototype.getDefaultCfg=function(){return{type:"node",edges:[]}},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getInEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("target")===t})},n.prototype.getOutEdges=function(){var t=this;return this.get("edges").filter(function(e){return e.get("source")===t})},n.prototype.getNeighbors=function(t){var e=this,r=this.get("edges");if(t==="target"){var o=function(L){return L.getSource()===e};return r.filter(o).map(function(b){return b.getTarget()})}if(t==="source"){var l=function(L){return L.getTarget()===e};return r.filter(l).map(function(b){return b.getSource()})}var v=function(L){return L.getSource()===e?L.getTarget():L.getSource()};return r.map(v)},n.prototype.getLinkPointByAnchor=function(t){var e=this.getAnchorPoints();return e[t]},n.prototype.getLinkPoint=function(t){var e=this.get("keyShape"),r=e.get("type"),o=this.get("type"),l,v,b=this.getBBox();o==="combo"?(l=b.centerX||(b.maxX+b.minX)/2,v=b.centerY||(b.maxY+b.minY)/2):(l=b.centerX,v=b.centerY);var L=this.getAnchorPoints(),F;switch(r){case"circle":F=Po({x:l,y:v,r:b.width/2},t);break;case"ellipse":F=bo({x:l,y:v,rx:b.width/2,ry:b.height/2},t);break;default:F=Do(b,t)}var U=F;return L.length&&(U||(U=t),U=this.getNearestPoint(L,U)),U||(U={x:l,y:v}),U},n.prototype.getAnchorPoints=function(){var t=this.get(Uu);if(!t){t=[];var e=this.get("shapeFactory"),r=this.getBBox(),o=this.get("model"),l=this.getShapeCfg(o),v=o.type,b=e.getAnchorPoints(v,l)||[];Object(y.j)(b,function(L,F){var U={x:r.minX+L[0]*r.width,y:r.minY+L[1]*r.height,anchorIndex:F};t.push(U)}),this.set(Uu,t)}return t},n.prototype.addEdge=function(t){this.get("edges").push(t)},n.prototype.lock=function(){this.set("locked",!0)},n.prototype.unlock=function(){this.set("locked",!1)},n.prototype.hasLocked=function(){return this.get("locked")},n.prototype.removeEdge=function(t){var e=this.getEdges(),r=e.indexOf(t);r>-1&&e.splice(r,1)},n.prototype.clearCache=function(){this.set(rf,null),this.set(Uu,null)},n.prototype.isOnlyMove=function(t){if(!t)return!1;var e=!Object(y.I)(t.x),r=!Object(y.I)(t.y),o=Object.keys(t);return o.length===1&&(e||r)||o.length===2&&e&&r},n}(pu),ml=Vl,Hl="bboxCache",Xl="bboxCanvasCache",Hs="sizeCache",Yo="anchorPointsCache",ds=function(u){Object(pe.c)(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfg=function(){return{type:"combo",nodes:[],edges:[],combos:[]}},n.prototype.getShapeCfg=function(t){var e=this.get("styles"),r=this.get("bbox");if(e&&r){var o=t,l={r:Math.hypot(r.height,r.width)/2||yn.defaultCombo.size[0]/2,width:r.width||yn.defaultCombo.size[0],height:r.height||yn.defaultCombo.size[1]};o.style=Object(pe.a)(Object(pe.a)(Object(pe.a)({},e),t.style),l);var v=t.padding||yn.defaultCombo.padding;return Object(y.K)(v)?(l.r+=v,l.width+=v*2,l.height+=v*2):(l.r+=v[0],l.width+=v[1]+v[3]||v[1]*2,l.height+=v[0]+v[2]||v[0]*2),this.set(Hs,l),o}return t},n.prototype.calculateCanvasBBox=function(){if(!this.destroyed){var t=this.get("keyShape"),e=this.get("group"),r=Ir(t,e);r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;var o=this.get(Hs),l=this.get(Hl)||{},v=l.x,b=l.x;if(o){o.width=Math.max(o.width,r.width),o.height=Math.max(o.height,r.height);var L=t.get("type");L==="circle"?(r.width=o.r*2,r.height=o.r*2):(r.width=o.width,r.height=o.height),r.minX=r.centerX-r.width/2,r.minY=r.centerY-r.height/2,r.maxX=r.centerX+r.width/2,r.maxY=r.centerY+r.height/2}else r.width=r.maxX-r.minX,r.height=r.maxY-r.minY,r.centerX=(r.minX+r.maxX)/2,r.centerY=(r.minY+r.maxY)/2;return r.x=r.minX,r.y=r.minY,(r.x!==v||r.y!==b)&&this.set(Yo,null),r}},n.prototype.getChildren=function(){var t=this;return{nodes:t.getNodes(),combos:t.getCombos()}},n.prototype.getNodes=function(){var t=this;return t.get("nodes")},n.prototype.getCombos=function(){var t=this;return t.get("combos")},n.prototype.addChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.addNode(t);break;case"combo":e.addCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.addCombo=function(t){var e=this;return e.get("combos").push(t),!0},n.prototype.addNode=function(t){var e=this;return e.get("nodes").push(t),!0},n.prototype.removeChild=function(t){var e=this,r=t.getType();switch(r){case"node":e.removeNode(t);break;case"combo":e.removeCombo(t);break;default:return console.warn("Only node or combo items are allowed to be added into a combo"),!1}return!0},n.prototype.removeCombo=function(t){if(!!t){var e=this.getCombos(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.removeNode=function(t){if(!!t){var e=this.getNodes(),r=e.indexOf(t);return r>-1?(e.splice(r,1),!0):!1}},n.prototype.isOnlyMove=function(t){return!1},n.prototype.getBBox=function(){this.set(Xl,null);var t=this.calculateCanvasBBox();return t},n.prototype.clearCache=function(){this.set(Hl,null),this.set(Xl,null),this.set(Yo,null)},n.prototype.destroy=function(){if(!this.destroyed){var t=this.get("animate"),e=this.get("group");t&&e.stopAnimate(),this.clearCache(),this.set(Hs,null),this.set("bbox",null),e.remove(),this._cfg=null,this.destroyed=!0}},n}(ml),Yl=ds,Qs="node",Pu="edge",au="vedge",io="combo",bu="default",Cc="Mapper",iu="stateStyles",Wu=function(){function u(n){this.graph=n,this.destroyed=!1}return u.prototype.addItem=function(n,t){var e=this.graph,r=n===au?Pu:n,o=e.get(r+"Group")||e.get("group"),l=Object(y.tb)(r),v=null,b=e.get(r+Object(y.tb)(iu))||{},L=e.get(bu+l);t[iu]&&(b=t[iu]),L&&Object(y.j)(L,function(Ut,Kt){Object(y.M)(Ut)&&!Object(y.B)(Ut)?t[Kt]=Object(y.h)({},Ut,t[Kt]):Object(y.B)(Ut)?t[Kt]=t[Kt]||Object(y.e)(L[Kt]):t[Kt]=t[Kt]||L[Kt]});var F=e.get(r+Cc);if(F){var U=F(t);U[iu]&&(b=U[iu],delete U[iu]),Object(y.j)(U,function(Ut,Kt){Object(y.M)(Ut)&&!Object(y.B)(Ut)?t[Kt]=Object(y.h)({},t[Kt],Ut):t[Kt]=U[Kt]||t[Kt]})}if(e.emit("beforeadditem",{type:n,model:t}),n===Pu||n===au){var rt=void 0,ht=void 0;if(rt=t.source,ht=t.target,rt&&Object(y.O)(rt)&&(rt=e.findById(rt)),ht&&Object(y.O)(ht)&&(ht=e.findById(ht)),!rt||!ht){console.warn("The source or target node of edge "+t.id+" does not exist!");return}rt.getType&&rt.getType()==="combo"&&(t.isComboEdge=!0),ht.getType&&ht.getType()==="combo"&&(t.isComboEdge=!0),v=new kl({model:t,source:rt,target:ht,styles:b,linkCenter:e.get("linkCenter"),group:o.addGroup()})}else if(n===Qs)v=new ml({model:t,styles:b,group:o.addGroup()});else if(n===io){var bt=t.children,At=Fu(bt,e);isNaN(At.x)?isNaN(t.x)&&(t.x=Math.random()*100):t.x=At.x,isNaN(At.y)?isNaN(t.y)&&(t.y=Math.random()*100):t.y=At.y;var wt=o.addGroup();wt.setZIndex(t.depth),v=new Yl({model:t,styles:b,bbox:t.collapsed?Fu([],e):At,group:wt});var kt=v.getModel();(bt||[]).forEach(function(Ut){var Kt=e.findById(Ut.id);v.addChild(Kt),Ut.depth=kt.depth+2}),t.collapsed&&setTimeout(function(){e.collapseCombo(v)},16)}if(v)return e.get(n+"s").push(v),e.get("itemMap")[v.get("id")]=v,e.emit("afteradditem",{item:v,model:t}),v},u.prototype.updateItem=function(n,t){var e,r,o=this.graph;if(Object(y.O)(n)&&(n=o.findById(n)),!(!n||n.destroyed)){var l="";n.getType&&(l=n.getType());var v=o.get(l+Cc),b=n.getModel(),L=n.isOnlyMove(t);if(v){var F=Object(y.h)({},b,t),U=v(F),rt=Object(y.h)({},b,U,t);U[iu]&&(n.set("styles",rt[iu]),delete rt[iu]),Object(y.j)(rt,function(qt,ne){t[ne]=qt})}else Object(y.j)(t,function(qt,ne){b[ne]&&Object(y.M)(qt)&&!Object(y.B)(qt)&&(t[ne]=Object(pe.a)(Object(pe.a)({},b[ne]),t[ne]))});if(o.emit("beforeupdateitem",{item:n,cfg:t}),l===Pu){if(t.source){var ht=t.source;Object(y.O)(ht)&&(ht=o.findById(ht)),n.setSource(ht)}if(t.target){var bt=t.target;Object(y.O)(bt)&&(bt=o.findById(bt)),n.setTarget(bt)}n.update(t)}if(l===Qs||l===io){n.update(t,L);var At=n.getEdges(),wt=dl(t);if(wt&&l===Qs)Object(y.j)(At,function(qt){qt.refresh()});else if(wt&&l===io){var kt=n.get("shapeFactory"),Ut=b.type||"circle",Kt=b.animate===void 0||t.animate===void 0?(r=(e=kt[Ut])===null||e===void 0?void 0:e.options)===null||r===void 0?void 0:r.animate:b.animate||t.animate;Kt?setTimeout(function(){if(!(!n||n.destroyed)){var qt=n.getKeyShape();!qt||qt.destroyed||Object(y.j)(At,function(ne){ne&&!ne.destroyed&&ne.refresh()})}},201):Object(y.j)(At,function(qt){qt.refresh()})}}o.emit("afterupdateitem",{item:n,cfg:t})}},u.prototype.updateCombo=function(n,t){var e=this,r,o,l=this.graph;if(Object(y.O)(n)&&(n=l.findById(n)),!(!n||n.destroyed)){var v=n.getModel(),b=Fu(v.collapsed?[]:t,l);n.set("bbox",b),n.update({x:b.x,y:b.y});var L=n.get("shapeFactory"),F=v.type||"circle",U=v.animate===void 0?(o=(r=L[F])===null||r===void 0?void 0:r.options)===null||o===void 0?void 0:o.animate:v.animate;U?setTimeout(function(){if(!(!n||n.destroyed)){var rt=n.getKeyShape();!rt||rt.destroyed||(n.getShapeCfg(v),e.updateComboEdges(n))}},201):this.updateComboEdges(n)}},u.prototype.updateComboEdges=function(n){for(var t=n.getEdges()||[],e=0;e<t.length;e++){var r=t[e];if(r&&!r.destroyed){var o=r.get("shapeFactory"),l=r.getShapeCfg(r.getModel()),v=r.getContainer();v.clear(),o.draw(l.type,l,v)}}},u.prototype.collapseCombo=function(n){var t=this.graph;Object(y.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.hideItem(r)}),e.combos.forEach(function(r){t.hideItem(r)})},u.prototype.expandCombo=function(n){var t=this.graph;Object(y.O)(n)&&(n=t.findById(n));var e=n.getChildren();e.nodes.forEach(function(r){t.showItem(r)}),e.combos.forEach(function(r){r.getModel().collapsed?r.show():t.showItem(r)})},u.prototype.removeItem=function(n){var t=this,e=this.graph;if(Object(y.O)(n)&&(n=e.findById(n)),!(!n||n.destroyed)){var r=Object(y.e)(n.getModel());e.emit("beforeremoveitem",{item:r});var o="";n.getType&&(o=n.getType());var l=e.get(o+"s"),v=l.indexOf(n);if(v>-1&&l.splice(v,1),o===Pu){var b=e.get("v"+o+"s"),L=b.indexOf(n);L>-1&&b.splice(L,1)}var F=n.get("id"),U=e.get("itemMap");delete U[F];var rt=e.get("comboTrees"),ht=n.get("id");if(o===Qs){var bt=n.getModel().comboId;if(rt&&bt){var At=rt,wt=!1;rt.forEach(function(ye){wt||No(ye,function(xe){if(xe.id===ht&&At){var je=At.indexOf(xe);return At.splice(je,1),wt=!0,!1}return At=xe.children,!0})})}for(var kt=n.getEdges(),Ut=kt.length-1;Ut>=0;Ut--)e.removeItem(kt[Ut],!1);bt&&e.updateCombo(bt)}else if(o===io){var Kt=n.getModel().parentId,qt,ne=!1;(rt||[]).forEach(function(xe){ne||No(xe,function(je){return je.id===ht?(qt=je,ne=!0,!1):!0})}),qt.removed=!0,qt&&qt.children&&qt.children.forEach(function(xe){t.removeItem(xe.id)});for(var kt=n.getEdges(),Ut=kt.length;Ut>=0;Ut--)e.removeItem(kt[Ut],!1);Kt&&e.updateCombo(Kt)}n.destroy(),e.emit("afterremoveitem",{item:r})}},u.prototype.setItemState=function(n,t,e){var r=this.graph,o=t;Object(y.O)(e)&&(o=t+":"+e),!(n.hasState(o)===e&&e||Object(y.O)(e)&&n.hasState(o))&&(r.emit("beforeitemstatechange",{item:n,state:o,enabled:e}),n.setState(t,e),r.autoPaint(),r.emit("afteritemstatechange",{item:n,state:o,enabled:e}))},u.prototype.priorityState=function(n,t){var e=this.graph,r=n;Object(y.O)(n)&&(r=e.findById(n)),this.setItemState(r,t,!1),this.setItemState(r,t,!0)},u.prototype.clearItemStates=function(n,t){var e=this.graph;Object(y.O)(n)&&(n=e.findById(n)),e.emit("beforeitemstatesclear",{item:n,states:t}),n.clearStates(t),e.emit("afteritemstatesclear",{item:n,states:t})},u.prototype.refreshItem=function(n){var t=this.graph;Object(y.O)(n)&&(n=t.findById(n)),t.emit("beforeitemrefresh",{item:n}),n.refresh(),t.emit("afteritemrefresh",{item:n})},u.prototype.addCombos=function(n,t){var e=this,r=this.graph;(n||[]).forEach(function(l){ps(l,function(v){var b;return t.forEach(function(L){L.id===v.id&&(L.children=v.children,L.depth=v.depth,b=L)}),b&&e.addItem("combo",b),!0})});var o=r.get("comboGroup");o&&o.sort()},u.prototype.changeItemVisibility=function(n,t){var e=this,r=this.graph;if(Object(y.O)(n)&&(n=r.findById(n)),!n){console.warn("The item to be shown or hidden does not exist!");return}if(r.emit("beforeitemvisibilitychange",{item:n,visible:t}),n.changeVisibility(t),n.getType&&n.getType()===Qs){var o=n.getEdges();Object(y.j)(o,function(F){t&&!(F.get("source").isVisible()&&F.get("target").isVisible())||e.changeItemVisibility(F,t)})}else if(n.getType&&n.getType()===io){var l=r.get("comboTrees"),v=n.get("id"),b=[],L=!1;(l||[]).forEach(function(U){L||!U.children||U.children.length===0||No(U,function(rt){return rt.id===v?(b=rt.children,L=!0,!1):!0})}),b&&(!t||t&&!n.getModel().collapsed)&&b.forEach(function(U){var rt=r.findById(U.id);e.changeItemVisibility(rt,t)});var o=n.getEdges();Object(y.j)(o,function(U){t&&!(U.get("source").isVisible()&&U.get("target").isVisible())||e.changeItemVisibility(U,t)})}return r.emit("afteritemvisibilitychange",{item:n,visible:t}),n},u.prototype.destroy=function(){this.graph=null,this.destroyed=!0},u}(),nf=Wu,zu=null,Eu=function(){function u(n){this.graph=n,this.cachedStates={enabled:{},disabled:{}},this.destroyed=!1}return u.checkCache=function(n,t,e){if(!!e[t]){var r=e[t].indexOf(n);r>=0&&e[t].splice(r,1)}},u.cacheState=function(n,t,e){e[t]||(e[t]=[]),e[t].push(n)},u.prototype.updateState=function(n,t,e){var r=this,o=u.checkCache,l=u.cacheState;if(!n.destroyed){var v=this.cachedStates,b=v.enabled,L=v.disabled;e?(o(n,t,L),l(n,t,b)):(o(n,t,b),l(n,t,L)),zu&&clearTimeout(zu),zu=setTimeout(function(){zu=null,r.updateGraphStates()},16)}},u.prototype.updateStates=function(n,t,e){var r=this;Object(y.O)(t)?this.updateState(n,t,e):t.forEach(function(o){r.updateState(n,o,e)})},u.prototype.updateGraphStates=function(){var n=this.graph.get("states"),t=this.cachedStates;Object(y.j)(t.disabled,function(e,r){n[r]&&(n[r]=n[r].filter(function(o){return e.indexOf(o)<0&&!e.destroyed}))}),Object(y.j)(t.enabled,function(e,r){if(!n[r])n[r]=e;else{var o={};n[r].forEach(function(l){l.destroyed||(o[l.get("id")]=!0)}),e.forEach(function(l){if(!l.destroyed){var v=l.get("id");o[v]||(o[v]=!0,n[r].push(l))}})}}),this.graph.emit("graphstatechange",{states:n}),this.cachedStates={enabled:{},disabled:{}}},u.prototype.destroy=function(){this.graph=null,this.cachedStates=null,zu&&clearTimeout(zu),zu=null,this.destroyed=!0},u}(),ku=Eu,Iu=a("LvGN"),Kl=function(n,t){return!n||!t?n:n.replace(/\\?\{([^{}]+)\}/g,function(e,r){if(e.charAt(0)==="\\")return e.slice(1);var o=t[r];return o===0&&(o="0"),o||""})},rl=function(n){var t=[];if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);for(var e=0,r=n;e<r.length;e++){var o=r[e],l=o.x,v=o.y;t.push(l),t.push(v)}var b=Object(Iu.a)(t);return b.unshift(["M",n[0].x,n[0].y]),b},Ou=function(n,t,e,r){e===void 0&&(e=0),r===void 0&&(r=0);var o={x:(1-e)*n.x+e*t.x,y:(1-e)*n.y+e*t.y},l=[0,0];Ba.c.normalize(l,[t.x-n.x,t.y-n.y]),(!l||!l[0]&&!l[1])&&(l=[0,0]);var v=[-l[1]*r,l[0]*r];return o.x+=v[0],o.y+=v[1],o},bl=function(n,t){var e=n.length;if(!e)return"";for(var r="",o="",l=0;l<e;l++){var v=n[l];l===0?o="M{x} {y}":o="L{x} {y}",r+=Kl(o,v)}return t&&(r+="Z"),r},Ms=function(n){var t=[];return n.forEach(function(e){var r=e[0];if(r!=="A")for(var o=1;o<e.length;o=o+2)t.push([e[o],e[o+1]]);else{var l=e.length;t.push([e[l-2],e[l-1]])}}),t},ju=function(n){if(n.length<2)throw new Error("point length must largn than 2, now it's "+n.length);var t=n[0],e=n[1],r=n[n.length-1],o=n[n.length-2];n.unshift(r),n.unshift(o),n.push(t),n.push(e);for(var l=[],v=1;v<n.length-2;v+=1){var b=n[v-1].x,L=n[v-1].y,F=n[v].x,U=n[v].y,rt=n[v+1].x,ht=n[v+1].y,bt=v!==n.length-2?n[v+2].x:rt,At=v!==n.length-2?n[v+2].y:ht,wt=F+(rt-b)/6,kt=U+(ht-L)/6,Ut=rt-(bt-F)/6,Kt=ht-(At-U)/6;l.push(["C",wt,kt,Ut,Kt,rt,ht])}return l.unshift(["M",r.x,r.y]),l},Ac=function(n,t){return Ba.c.scale([0,0],Ba.c.normalize([0,0],n),t)},$l=function(n,t){var e=[n[1]-t[1],t[0]-n[0]],r=Math.sqrt(e[0]*e[0]+e[1]*e[1]);if(r===0)throw new Error("p0 should not be equal to p1");return[e[0]/r,e[1]/r]},Sc=function(n,t){return[t[0]-n[0],t[1]-n[1]]};function El(u,n){var t=function(U){var rt=[U[0][0],U[0][1]-n],ht=[U[0][0],U[0][1]+n];return"M "+rt+" A "+n+","+n+",0,0,0,"+ht+" A "+n+","+n+",0,0,0,"+rt},e=function(U){var rt=Ba.c.scale([0,0],$l(U[0],U[1]),n),ht=Ba.c.scale([0,0],rt,-1),bt=Ba.c.add([0,0],U[0],rt),At=Ba.c.add([0,0],U[1],rt),wt=Ba.c.add([0,0],U[1],ht),kt=Ba.c.add([0,0],U[0],ht);return"M "+bt+" L "+At+" A "+[n,n,"0,0,0",wt].join(",")+" L "+kt+" A "+[n,n,"0,0,0",bt].join(",")};if(!u||u.length<1)return"";if(u.length===1)return t(u);if(u.length===2)return e(u);for(var r=new Array(u.length),o=0;o<r.length;++o){var l=o===0?u[u.length-1]:u[o-1],v=u[o],b=Ba.c.scale([0,0],$l(l,v),n);r[o]=[Ba.c.add([0,0],l,b),Ba.c.add([0,0],v,b)]}var L="A "+[n,n,"0,0,0,"].join(",");return r=r.map(function(F,U){var rt="";return U===0&&(rt="M "+r[r.length-1][1]+" "),rt+=L+F[0]+" L "+F[1],rt}),r.join(" ")}function Mc(u,n){var t=u.length,e=function(F){var U=[F[0][0],F[0][1]-n],rt=[F[0][0],F[0][1]+n];return"M "+U+" A "+[n,n,"0,0,0",rt].join(",")+" A "+[n,n,"0,0,0",U].join(",")},r=function(F){var U=Sc(F[0],F[1]),rt=Ac(U,n),ht=Ba.c.add([0,0],F[0],Ba.c.scale([0,0],rt,-1)),bt=Ba.c.add([0,0],F[1],rt),At=1.2*n,wt=Ac(Ba.c.normalize([0,0],U),At),kt=Ba.c.scale([0,0],wt,-1),Ut=Ba.c.add([0,0],ht,kt),Kt=Ba.c.add([0,0],bt,kt),qt=Ba.c.add([0,0],ht,wt);return"M "+ht+" C "+[Ut,Kt,bt].join(",")+" S "+[qt,ht].join(",")+" Z"};if(!u||t<1)return"";if(t===1)return e(u);if(t===2)return r(u);for(var o=u.map(function(L,F){var U=u[(F+1)%t];return{p:L,v:Ba.c.normalize([0,0],Sc(L,U))}}),l=0;l<o.length;++l){var v=l>0?l-1:t-1,b=Ba.c.normalize([0,0],Ba.c.add([0,0],o[v].v,Ba.c.scale([0,0],o[l].v,-1)));o[l].p=Ba.c.add([0,0],o[l].p,Ba.c.scale([0,0],b,n))}return o.map(function(L){var F=L.p;return{x:F[0],y:F[1]}})}var xu=function(n,t,e){return(n.y-e.y)*(t.x-e.x)-(n.x-e.x)*(t.y-e.y)},Tc=function(n){var t=n.map(function(v){return{x:v.getModel().x,y:v.getModel().y}});if(t.sort(function(v,b){return v.x===b.x?v.y-b.y:v.x-b.x}),t.length===1)return t;for(var e=[],r=0;r<t.length;r++){for(;e.length>=2&&xu(e[e.length-2],e[e.length-1],t[r])<=0;)e.pop();e.push(t[r])}for(var o=[],r=t.length-1;r>=0;r--){for(;o.length>=2&&xu(o[o.length-2],o[o.length-1],t[r])<=0;)o.pop();o.push(t[r])}o.pop(),e.pop();var l=e.concat(o);return l},Ts={maxRoutingIterations:100,maxMarchingIterations:100,pixelGroupSize:2,edgeR0:10,edgeR1:10,nodeR0:5,nodeR1:10,morphBuffer:5,threshold:.001,skip:16,nodeInfluenceFactor:1,edgeInfluenceFactor:1,negativeNodeInfluenceFactor:-.5};function Vf(u,n,t){var e=!1,r=function(b,L){return n.cells[b+L*n.width]},o=function(b,L){var F=0;return r(b-1,L-1)>=t&&(F+=1),r(b,L-1)>t&&(F+=2),r(b-1,L)>t&&(F+=4),r(b,L)>t&&(F+=8),F},l=function(b,L){for(var F=b,U=L,rt,ht,bt=0;bt<n.width*n.height;bt++){if(rt=F,ht=U,u.findIndex(function(wt){return wt.x===F&&wt.y===U})>-1){if(!(u[0].x!==F||u[0].y!==U))return!0}else u.push({x:F,y:U});var At=o(F,U);switch(At){case-1:return console.warn("Marched out of bounds"),!0;case 0:case 3:case 2:case 7:F++;break;case 12:case 14:case 4:F--;break;case 6:rt===0&&(ht===-1?F-=1:F+=1);break;case 1:case 13:case 5:U--;break;case 9:rt===1&&(ht===0?U-=1:U+=1);break;case 10:case 8:case 11:U++;break;default:return console.warn("Marching squares invalid state: "+At),!0}}};this.march=function(){for(var v=0;v<n.width&&!e;v+=1)for(var b=0;b<n.height&&!e;b+=1)r(v,b)>t&&o(v,b)!==15&&(e=l(v,b));return e}}var af=function(n,t,e){var r=Math.ceil(n/e),o=Math.ceil(t/e),l=new Float32Array(Math.max(0,r*o)).fill(0);return{cells:l,width:r,height:o}},jt=function(n,t,e){var r=null,o=Number.POSITIVE_INFINITY;return t.forEach(function(l){var v={x:n.getModel().x,y:n.getModel().y},b={x:l.getModel().x,y:l.getModel().y},L=dr(v,b),F=new le(v.x,v.y,b.x,b.y),U=e.reduce(function(rt,ht){return Ze(ht,F)>0?rt+1:rt},0);L*Math.pow(U+1,2)<o&&(r=l,o=L*Math.pow(U+1,2))}),r},Gt=function(n,t){var e=Number.POSITIVE_INFINITY,r=null;return n.forEach(function(o){var l=Ze(o,t);l>=0&&l<e&&(r=o,e=l)}),r},Pt=function(n,t,e,r){var o=[],l=[];l.push(n);for(var v=!0,b=0,L=function(ht,bt){var At=!1;return bt.forEach(function(wt){At||(Yr(ht,{x:wt.x1,y:wt.y1})||Yr(ht,{x:wt.x2,y:wt.y2}))&&(At=!0)}),At},F=function(ht,bt){for(var At=0,wt=bt;At<wt.length;At++){var kt=wt[At],Ut=kt.getBBox(),Kt=[[Ut.x,Ut.y],[Ut.x+Ut.width,Ut.y],[Ut.x,Ut.y+Ut.height],[Ut.x+Ut.width,Ut.y+Ut.height]];if(Us(Kt,ht.x,ht.y))return!0}return!1};v&&b<e;){v=!1;for(var U=function(){var ht=l.pop(),bt=Gt(t,ht);if(bt){var At=ke(bt,ht),wt=At[0],kt=At[1];if(kt===2){var Ut=function(qt){for(var ne=r,ye=vr(bt,ne,wt,qt),xe=L(ye,l)||L(ye,o),je=F(ye,t);!xe&&je&&ne>=1;)ne/=1.5,ye=vr(bt,ne,wt,qt),xe=L(ye,l)||L(ye,o),je=F(ye,t);ye&&!xe&&(!qt||!je)&&(l.push(new le(ht.x1,ht.y1,ye.x,ye.y)),l.push(new le(ye.x,ye.y,ht.x2,ht.y2)),v=!0)};Ut(!0),v||Ut(!1)}}v||o.push(ht),b+=1};!v&&l.length;)U()}for(;l.length;)o.push(l.pop());return o};function Yt(u,n,t,e,r){var o=jt(u,t,n);if(o===null)return[];var l=function(U){for(var rt=[];U.length>0;){var ht=U.pop();if(U.length===0){rt.push(ht);break}var bt=U.pop(),At=new le(ht.x1,ht.y1,bt.x2,bt.y2),wt=Gt(n,At);wt?(rt.push(ht),U.push(bt)):U.push(At)}return rt},v=new le(u.getModel().x,u.getModel().y,o.getModel().x,o.getModel().y),b=Pt(v,n,e,r),L=l(b);return L}var _t=function(n,t,e){var r=Object.assign(Ts,e),o=lr(n.map(function(Ut){return{x:Ut.getModel().x,y:Ut.getModel().y}}));n=n.sort(function(Ut,Kt){return dr({x:Ut.getModel().x,y:Ut.getModel().y},o)-dr({x:Kt.getModel().x,y:Kt.getModel().y},o)});var l=[],v=[];n.forEach(function(Ut){var Kt=Yt(Ut,t,l,r.maxRoutingIterations,r.morphBuffer);Kt.forEach(function(qt){v.push(qt)}),l.push(Ut)});for(var b=se(n,v,r.nodeR0),L=af(b.width,b.height,r.pixelGroupSize),F=[],U=[],rt=0;rt<r.maxMarchingIterations;rt++)if(Ue(n,t,v,b,L,r),F=[],U=[],!!new Vf(F,L,r.threshold).march()){var ht=F.map(function(Ut){return{x:Math.round(Ut.x*r.pixelGroupSize+b.minX),y:Math.round(Ut.y*r.pixelGroupSize+b.minY)}});if(ht){var bt=ht.length;if(r.skip>1)for(bt=Math.floor(ht.length/r.skip);bt<3&&r.skip>1;)r.skip-=1,bt=Math.floor(ht.length/r.skip);for(var At=0,wt=0;wt<bt;wt+=1,At+=r.skip)U.push({x:ht[At].x,y:ht[At].y})}var kt=function(){for(var Kt=0,qt=n;Kt<qt.length;Kt++){var ne=qt[Kt],ye=U.map(function(xe){return[xe.x,xe.y]});if(!Us(ye,ne.getBBox().centerX,ne.getBBox().centerY))return!1}return!0};if(U&&kt())return U;if(r.threshold*=.9,rt<=r.maxMarchingIterations*.5)r.memberInfluenceFactor*=1.2,r.edgeInfluenceFactor*=1.2;else if(r.nonMemberInfluenceFactor!==0&&t.length>0)r.nonMemberInfluenceFactor*=.8;else break}return U};function se(u,n,t){var e={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY,width:0,height:0,x:0,y:0},r=[];u.forEach(function(b){r.push(b.getBBox())}),n.forEach(function(b){r.push(b.getBBox())});for(var o=0,l=r;o<l.length;o++){var v=l[o];e.minX=(v.minX<e.minX?v.minX:e.minX)-t,e.minY=(v.minY<e.minY?v.minY:e.minY)-t,e.maxX=(v.maxX>e.maxX?v.maxX:e.maxX)+t,e.maxY=(v.maxY>e.maxY?v.maxY:e.maxY)+t}return e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.x=e.minX,e.y=e.minY,e}function Ue(u,n,t,e,r,o){function l(ht,bt){var At=Math.floor((ht-bt)/o.pixelGroupSize);return At<0?0:At}function v(ht,bt){return ht*o.pixelGroupSize+bt}var b=(o.nodeR0-o.nodeR1)*(o.nodeR0-o.nodeR1),L=(o.edgeR0-o.edgeR1)*(o.edgeR0-o.edgeR1),F=function(bt,At){var wt=Math.min(l(bt.minX,At+e.minX),r.width),kt=Math.min(l(bt.minY,At+e.minY),r.height),Ut=Math.min(l(bt.maxX,-At+e.minX),r.width),Kt=Math.min(l(bt.maxY,-At+e.minY),r.height);return[wt,kt,Ut,Kt]},U=function(bt,At){for(var wt=bt.getBBox(),kt=F(wt,o.nodeR1),Ut=kt[0],Kt=kt[1],qt=kt[2],ne=kt[3],ye=Kt;ye<ne;ye+=1)for(var xe=Ut;xe<qt;xe+=1)if(!(At<0&&r[xe+ye*r.width]<=0)){var je=v(xe,e.minX),We=v(ye,e.minY),Be=Nr({x:je,y:We},{x:wt.minX,y:wt.minY,width:wt.width,height:wt.height});if(Be<Math.pow(o.nodeR1,2)){var qe=Math.sqrt(Be)-o.nodeR1;r.cells[xe+ye*r.width]+=At*qe*qe}}},rt=function(bt,At){for(var wt=bt.getBBox(),kt=F(wt,o.edgeR1),Ut=kt[0],Kt=kt[1],qt=kt[2],ne=kt[3],ye=Kt;ye<ne;ye+=1)for(var xe=Ut;xe<qt;xe+=1)if(!(At<0&&r.cells[xe+ye*r.width]<=0)){var je=v(xe,e.minX),We=v(ye,e.minY),Be=Cr({x:je,y:We},bt);if(Be<Math.pow(o.edgeR1,2)){var qe=Math.sqrt(Be)-o.edgeR1;r.cells[xe+ye*r.width]+=At*qe*qe}}};o.nodeInfluenceFactor&&u.forEach(function(ht){U(ht,o.nodeInfluenceFactor/b)}),o.edgeInfluenceFactor&&t.forEach(function(ht){rt(ht,o.edgeInfluenceFactor/L)}),o.negativeNodeInfluenceFactor&&n.forEach(function(ht){U(ht,o.negativeNodeInfluenceFactor/b)})}function vr(u,n,t,e){var r=u.getBBox(),o=t[0],l=t[1],v=t[2],b=t[3],L={topLeft:{x:r.minX-n,y:r.minY-n},topRight:{x:r.maxX+n,y:r.minY-n},bottomLeft:{x:r.minX-n,y:r.maxY+n},bottomRight:{x:r.maxX+n,y:r.maxY+n}},F=r.height*r.width;function U(bt,At){return r.width*((bt.y-r.minY+(At.y-r.minY))*.5)}if(l){if(o)return e?L.topLeft:L.bottomRight;if(v)return e?L.bottomLeft:L.topRight;var rt=U(l,b);return rt<F*.5?l.y>b.y?e?L.topLeft:L.bottomRight:e?L.topRight:L.bottomLeft:l.y<b.y?e?L.bottomLeft:L.topRight:e?L.bottomRight:L.topLeft}if(b){if(o)return e?L.topRight:L.bottomLeft;if(v)return e?L.bottomRight:L.topLeft}var ht=U(o,v);return ht<F*.5?o.x>v.x?e?L.topLeft:L.bottomRight:e?L.bottomLeft:L.topRight:o.x<v.x?e?L.topRight:L.bottomLeft:e?L.bottomRight:L.topLeft}var Jr=function(){function u(n,t){this.cfg=Object(y.h)(this.getDefaultCfg(),t),this.graph=n,this.id=this.cfg.id,this.group=this.cfg.group,this.members=this.cfg.members.map(function(e){return Object(y.O)(e)?n.findById(e):e}),this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(y.O)(e)?n.findById(e):e}),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()}return u.prototype.getDefaultCfg=function(){return{id:"g6-hull",type:"round-convex",members:[],nonMembers:[],style:{fill:"lightblue",stroke:"blue",opacity:.2},padding:10}},u.prototype.setPadding=function(){var n=this.members.length&&this.members[0].getKeyShape().getCanvasBBox().width/2;this.padding=this.cfg.padding>0?this.cfg.padding+n:10+n,this.cfg.bubbleCfg={nodeR0:this.padding-n,nodeR1:this.padding-n,morphBuffer:this.padding-n}},u.prototype.setType=function(){this.type=this.cfg.type,this.members.length<3&&(this.type="round-convex"),this.type!=="round-convex"&&this.type!=="smooth-convex"&&this.type!=="bubble"&&(console.warn("The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default."),this.type="round-convex")},u.prototype.calcPath=function(n,t){var e,r,o;switch(this.type){case"round-convex":e=Tc(n),o=El(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(Iu.c)(o);break;case"smooth-convex":e=Tc(n),e.length===2?(o=El(e.map(function(l){return[l.x,l.y]}),this.padding),r=Object(Iu.c)(o)):e.length>2&&(o=Mc(e.map(function(l){return[l.x,l.y]}),this.padding),r=ju(o));break;case"bubble":e=_t(n,t,this.cfg.bubbleCfg),r=e.length>=2&&ju(e);break;default:}return r},u.prototype.render=function(){this.group.addShape("path",{attrs:Object(pe.a)({path:this.path},this.cfg.style),id:this.id,name:this.cfg.id}),this.group.toBack()},u.prototype.addMember=function(n){if(!!n){Object(y.O)(n)&&(n=this.graph.findById(n)),this.members.push(n);var t=this.nonMembers.indexOf(n);return t>-1&&this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.addNonMember=function(n){if(!!n){Object(y.O)(n)&&(n=this.graph.findById(n)),this.nonMembers.push(n);var t=this.members.indexOf(n);return t>-1&&this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0}},u.prototype.removeMember=function(n){if(!!n){Object(y.O)(n)&&(n=this.graph.findById(n));var t=this.members.indexOf(n);return t>-1?(this.members.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.removeNonMember=function(n){if(!!n){Object(y.O)(n)&&(n=this.graph.findById(n));var t=this.nonMembers.indexOf(n);return t>-1?(this.nonMembers.splice(t,1),this.updateData(this.members,this.nonMembers),!0):!1}},u.prototype.updateData=function(n,t){var e=this;this.group.findById(this.id).remove(),n&&(this.members=n.map(function(r){return Object(y.O)(r)?e.graph.findById(r):r})),t&&(this.nonMembers=t.map(function(r){return Object(y.O)(r)?e.graph.findById(r):r})),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.updateStyle=function(n){var t=this.group.findById(this.id);t.attr(Object(pe.a)({},n))},u.prototype.updateCfg=function(n){var t=this;this.cfg=Object(y.h)(this.cfg,n),this.id=this.cfg.id,this.group=this.cfg.group,n.members&&(this.members=this.cfg.members.map(function(e){return Object(y.O)(e)?t.graph.findById(e):e})),n.nonMembers&&(this.nonMembers=this.cfg.nonMembers.map(function(e){return Object(y.O)(e)?t.graph.findById(e):e})),this.setPadding(),this.setType(),this.path=this.calcPath(this.members,this.nonMembers),this.render()},u.prototype.contain=function(n){var t=this,e;Object(y.O)(n)?e=this.graph.findById(n):e=n;var r,o=e.getKeyShape();if(e.get("type")==="path")r=Ms(o.attr("path"));else{var l=o.getCanvasBBox();r=[[l.minX,l.minY],[l.maxX,l.minY],[l.maxX,l.maxY],[l.minX,l.maxY]]}return r=r.map(function(v){var b=t.graph.getPointByCanvas(v[0],v[1]);return[b.x,b.y]}),re(r,Ms(this.path))},u.prototype.destroy=function(){this.group.remove(),this.cfg=null},u}(),Wr=Jr,mn=Ba.a.transform,Fn="node",Ur=function(u){Object(pe.c)(n,u);function n(t){var e=u.call(this)||this;return e.cfg=Object(y.h)(e.getDefaultCfg(),t),e.init(),e.animating=!1,e.destroyed=!1,e.cfg.enabledStack&&(e.undoStack=new On.Stack(e.cfg.maxStep),e.redoStack=new On.Stack(e.cfg.maxStep)),e}return n.prototype.init=function(){this.initCanvas();var t=new Oc(this),e=new Ec(this),r=new nf(this),o=new ku(this);this.set({viewController:t,modeController:e,itemController:r,stateController:o}),this.initLayoutController(),this.initEventController(),this.initGroups(),this.initPlugins()},n.prototype.initGroups=function(){var t=this.get("canvas"),e=this.get("canvas").get("el"),r=e.id,o=t.addGroup({id:r+"-root",className:yn.rootContainerClassName});if(this.get("groupByTypes")){var l=o.addGroup({id:r+"-edge",className:yn.edgeContainerClassName}),v=o.addGroup({id:r+"-node",className:yn.nodeContainerClassName}),b=o.addGroup({id:r+"-combo",className:yn.comboContainerClassName});b.toBack(),this.set({nodeGroup:v,edgeGroup:l,comboGroup:b})}var L=o.addGroup({id:r+"-delegate",className:yn.delegateContainerClassName});this.set({delegateGroup:L}),this.set("group",o)},n.prototype.getDefaultCfg=function(){return{container:void 0,width:void 0,height:void 0,renderer:"canvas",modes:{},plugins:[],data:{},fitViewPadding:10,minZoom:.2,maxZoom:10,event:!0,groupByTypes:!0,directed:!1,autoPaint:!0,nodes:[],edges:[],combos:[],vedges:[],itemMap:{},linkCenter:!1,defaultNode:{},defaultEdge:{},nodeStateStyles:{},edgeStateStyles:{},states:{},animate:!1,animateCfg:{onFrame:void 0,duration:500,easing:"easeLinear"},callback:void 0,enabledStack:!1,maxStep:10,tooltips:[]}},n.prototype.set=function(t,e){return Object(y.N)(t)?this.cfg=Object(pe.a)(Object(pe.a)({},this.cfg),t):this.cfg[t]=e,this},n.prototype.get=function(t){return this.cfg[t]},n.prototype.getGroup=function(){return this.get("group")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.getMinZoom=function(){return this.get("minZoom")},n.prototype.setMinZoom=function(t){return this.set("minZoom",t)},n.prototype.getMaxZoom=function(){return this.get("maxZoom")},n.prototype.setMaxZoom=function(t){return this.set("maxZoom",t)},n.prototype.getWidth=function(){return this.get("width")},n.prototype.getHeight=function(){return this.get("height")},n.prototype.clearItemStates=function(t,e){Object(y.O)(t)&&(t=this.findById(t));var r=this.get("itemController");e||(e=t.get("states")),r.clearItemStates(t,e);var o=this.get("stateController");o.updateStates(t,e,!1)},n.prototype.node=function(t){typeof t=="function"&&this.set("nodeMapper",t)},n.prototype.edge=function(t){typeof t=="function"&&this.set("edgeMapper",t)},n.prototype.combo=function(t){typeof t=="function"&&this.set("comboMapper",t)},n.prototype.findById=function(t){return this.get("itemMap")[t]},n.prototype.find=function(t,e){var r,o=this.get(t+"s");return Object(y.j)(o,function(l,v){if(e(l,v))return r=l,r}),r},n.prototype.findAll=function(t,e){var r=[];return Object(y.j)(this.get(t+"s"),function(o,l){e(o,l)&&r.push(o)}),r},n.prototype.findAllByState=function(t,e){return this.findAll(t,function(r){return r.hasState(e)})},n.prototype.translate=function(t,e){var r=this.get("group"),o=Object(y.e)(r.getMatrix());o||(o=[1,0,0,0,1,0,0,0,1]),o=mn(o,[["t",t,e]]),r.setMatrix(o),this.emit("viewportchange",{action:"translate",matrix:r.getMatrix()}),this.autoPaint()},n.prototype.moveTo=function(t,e){var r=this.get("group");os(r,{x:t,y:e}),this.emit("viewportchange",{action:"move",matrix:r.getMatrix()})},n.prototype.fitView=function(t){t&&this.set("fitViewPadding",t);var e=this.get("viewController");e.fitView(),this.autoPaint()},n.prototype.fitCenter=function(){var t=this.get("viewController");t.fitCenter(),this.autoPaint()},n.prototype.addBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!0),this},n.prototype.removeBehaviors=function(t,e){var r=this.get("modeController");return r.manipulateBehaviors(t,e,!1),this},n.prototype.updateBehavior=function(t,e,r){var o=this.get("modeController");return o.updateBehavior(t,e,r),this},n.prototype.zoom=function(t,e){var r=this.get("group"),o=Object(y.e)(r.getMatrix()),l=this.get("minZoom"),v=this.get("maxZoom");o||(o=[1,0,0,0,1,0,0,0,1]),e?o=mn(o,[["t",-e.x,-e.y],["s",t,t],["t",e.x,e.y]]):o=mn(o,[["s",t,t]]),!(l&&o[0]<l||v&&o[0]>v)&&(r.setMatrix(o),this.emit("viewportchange",{action:"zoom",matrix:o}),this.autoPaint())},n.prototype.zoomTo=function(t,e){var r=t/this.getZoom();this.zoom(r,e)},n.prototype.focusItem=function(t,e,r){var o=this.get("viewController"),l=!1;e?l=!0:e===void 0&&(l=this.get("animate"));var v={};r?v=r:r===void 0&&(v=this.get("animateCfg")),o.focus(t,l,v),this.autoPaint()},n.prototype.autoPaint=function(){this.get("autoPaint")&&this.paint()},n.prototype.paint=function(){this.emit("beforepaint"),this.get("canvas").draw(),this.emit("afterpaint")},n.prototype.getPointByClient=function(t,e){var r=this.get("viewController");return r.getPointByClient(t,e)},n.prototype.getClientByPoint=function(t,e){var r=this.get("viewController");return r.getClientByPoint(t,e)},n.prototype.getPointByCanvas=function(t,e){var r=this.get("viewController");return r.getPointByCanvas(t,e)},n.prototype.getCanvasByPoint=function(t,e){var r=this.get("viewController");return r.getCanvasByPoint(t,e)},n.prototype.getGraphCenterPoint=function(){var t=this.get("group").getCanvasBBox();return{x:(t.minX+t.maxX)/2,y:(t.minY+t.maxY)/2}},n.prototype.getViewPortCenterPoint=function(){return this.getPointByCanvas(this.get("width")/2,this.get("height")/2)},n.prototype.showItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),o=r.changeItemVisibility(t,!0);if(e&&this.get("enabledStack")){var l=o.getID(),v=o.getType(),b={},L={};switch(v){case"node":b.nodes=[{id:l,visible:!1}],L.nodes=[{id:l,visible:!0}];break;case"edge":b.nodes=[{id:l,visible:!1}],L.edges=[{id:l,visible:!0}];break;case"combo":b.nodes=[{id:l,visible:!1}],L.combos=[{id:l,visible:!0}];break;default:break}this.pushStack("visible",{before:b,after:L})}},n.prototype.hideItem=function(t,e){e===void 0&&(e=!0);var r=this.get("itemController"),o=r.changeItemVisibility(t,!1);if(e&&this.get("enabledStack")){var l=o.getID(),v=o.getType(),b={},L={};switch(v){case"node":b.nodes=[{id:l,visible:!0}],L.nodes=[{id:l,visible:!1}];break;case"edge":b.nodes=[{id:l,visible:!0}],L.edges=[{id:l,visible:!1}];break;case"combo":b.nodes=[{id:l,visible:!0}],L.combos=[{id:l,visible:!1}];break;default:break}this.pushStack("visible",{before:b,after:L})}},n.prototype.refreshItem=function(t){var e=this.get("itemController");e.refreshItem(t)},n.prototype.setAutoPaint=function(t){var e=this;e.set("autoPaint",t);var r=e.get("canvas");r.set("autoDraw",t)},n.prototype.remove=function(t,e){e===void 0&&(e=!0),this.removeItem(t,e)},n.prototype.removeItem=function(t,e){e===void 0&&(e=!0);var r=t;if(Object(y.O)(t)&&(r=this.findById(t)),!r&&Object(y.O)(t))console.warn("The item to be removed does not exist!");else if(r){var o="";if(r.getType&&(o=r.getType()),e&&this.get("enabledStack")){var l=Object(pe.a)(Object(pe.a)({},r.getModel()),{itemType:o}),v={};switch(o){case"node":{v.nodes=[l],v.edges=[];for(var b=r.getEdges(),L=b.length-1;L>=0;L--)v.edges.push(Object(pe.a)(Object(pe.a)({},b[L].getModel()),{itemType:"edge"}));break}case"edge":v.edges=[l];break;case"combo":v.combos=[l];break;default:break}this.pushStack("delete",{before:v,after:{}})}if(o==="node"){var F=r.getModel();F.comboId&&this.updateComboTree(r)}var U=this.get("itemController");if(U.removeItem(r),o==="combo"){var rt=Mu(this.get("comboTrees"));this.set("comboTrees",rt)}}},n.prototype.addItem=function(t,e,r,o){r===void 0&&(r=!0),o===void 0&&(o=!0);var l=this.get("comboSorted");this.set("comboSorted",l&&!o);var v=this.get("itemController");if(!tf(t,e))return!1;if(e.id&&this.findById(e.id)){console.warn("This item exists already. Be sure the id %c"+e.id+"%c is unique.","font-size: 20px; color: red;","");return}var b,L=this.get("comboTrees");if(L||(L=[]),t==="combo"){var F=this.get("itemMap"),U=!1;if(L.forEach(function(qt){U||ps(qt,function(ne){if(e.parentId===ne.id){U=!0;var ye=Object(pe.a)({id:e.id,depth:ne.depth+2},e);ne.children?ne.children.push(ye):ne.children=[ye],e.depth=ye.depth,b=v.addItem(t,e)}var xe=F[ne.id];return U&&xe&&xe.getType&&xe.getType()==="combo"&&v.updateCombo(xe,ne.children),!0})}),!U){var rt=Object(pe.a)({id:e.id,depth:0},e);e.depth=rt.depth,L.push(rt),b=v.addItem(t,e)}this.set("comboTrees",L)}else if(t==="node"&&Object(y.O)(e.comboId)&&L){var ht=this.findById(e.comboId);ht&&ht.getType&&ht.getType()!=="combo"&&console.warn("'"+e.comboId+"' is not a id of a combo in the graph, the node will be added without combo."),b=v.addItem(t,e);var bt=this.get("itemMap"),At=!1,wt=!1;(L||[]).forEach(function(qt){wt||At||ps(qt,function(ne){if(ne.id===e.id)return wt=!0,!1;if(e.comboId===ne.id&&!wt){At=!0;var ye=Object(y.e)(e);ye.itemType="node",ne.children?ne.children.push(ye):ne.children=[ye],e.depth=ne.depth+1}return At&&bt[ne.id].getType&&bt[ne.id].getType()==="combo"&&v.updateCombo(bt[ne.id],ne.children),!0})})}else b=v.addItem(t,e);if(t==="node"&&e.comboId||t==="combo"&&e.parentId){var ht=this.findById(e.comboId||e.parentId);ht&&ht.getType&&ht.getType()==="combo"&&ht.addChild(b)}var kt=this.get("combos");if(kt&&kt.length>0&&this.sortCombos(),this.autoPaint(),r&&this.get("enabledStack")){var Ut=Object(pe.a)(Object(pe.a)({},b.getModel()),{itemType:t}),Kt={};switch(t){case"node":Kt.nodes=[Ut];break;case"edge":Kt.edges=[Ut];break;case"combo":Kt.combos=[Ut];break;default:break}this.pushStack("add",{before:{},after:Kt})}return b},n.prototype.add=function(t,e,r,o){return r===void 0&&(r=!0),o===void 0&&(o=!0),this.addItem(t,e,r,o)},n.prototype.updateItem=function(t,e,r){var o=this;r===void 0&&(r=!0);var l=this.get("itemController"),v;Object(y.O)(t)?v=this.findById(t):v=t;var b=Object(y.e)(v.getModel()),L="";v.getType&&(L=v.getType());var F=Object(pe.f)([],v.getStates());if(L==="combo"&&Object(y.j)(F,function(bt){return o.setItemState(v,bt,!1)}),l.updateItem(v,e),L==="combo"&&Object(y.j)(F,function(bt){return o.setItemState(v,bt,!0)}),r&&this.get("enabledStack")){var U={nodes:[],edges:[],combos:[]},rt={nodes:[],edges:[],combos:[]},ht=Object(pe.a)({id:b.id},e);switch(L){case"node":U.nodes.push(b),rt.nodes.push(ht);break;case"edge":U.edges.push(b),rt.edges.push(ht);break;case"combo":U.combos.push(b),rt.combos.push(ht);break;default:break}L==="node"&&U.nodes.push(b),this.pushStack("update",{before:U,after:rt})}},n.prototype.update=function(t,e,r){r===void 0&&(r=!0),this.updateItem(t,e,r)},n.prototype.setItemState=function(t,e,r){Object(y.O)(t)&&(t=this.findById(t));var o=this.get("itemController");o.setItemState(t,e,r);var l=this.get("stateController");Object(y.O)(r)?l.updateState(t,e+":"+r,!0):l.updateState(t,e,r)},n.prototype.priorityState=function(t,e){var r=this.get("itemController");r.priorityState(t,e)},n.prototype.data=function(t){gl(t),this.set("data",t)},n.prototype.render=function(){var t=this;this.set("comboSorted",!1);var e=this.get("data");if(this.get("enabledStack")&&this.clearStack(),!e)throw new Error("data must be defined first");var r=e.nodes,o=r===void 0?[]:r,l=e.edges,v=l===void 0?[]:l,b=e.combos,L=b===void 0?[]:b;if(this.clear(!0),this.emit("beforerender"),Object(y.j)(o,function(wt){t.add("node",wt,!1,!1)}),L&&L.length!==0){var F=Ru(L,o);this.set("comboTrees",F),t.addCombos(L)}Object(y.j)(v,function(wt){t.add("edge",wt,!1,!1)});var U=t.get("animate");(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",!1);var rt=t.get("layoutController");if(rt){if(rt.layout(ht),this.destroyed)return}else t.get("fitView")&&t.fitView(),t.get("fitCenter")&&t.fitCenter(),t.emit("afterrender"),t.set("animate",U);function ht(){t.get("fitView")?t.fitView():t.get("fitCenter")&&t.fitCenter(),t.autoPaint(),t.emit("afterrender"),(t.get("fitView")||t.get("fitCenter"))&&t.set("animate",U)}if(!this.get("groupByTypes"))if(L&&L.length!==0)this.sortCombos();else if(e.nodes&&e.edges&&e.nodes.length<e.edges.length){var bt=this.getNodes();bt.forEach(function(wt){wt.toFront()})}else{var At=this.getEdges();At.forEach(function(wt){wt.toBack()})}this.get("enabledStack")&&this.pushStack("render")},n.prototype.read=function(t){this.data(t),this.render()},n.prototype.diffItems=function(t,e,r){var o=this,l,v=this.get("itemMap");Object(y.j)(r,function(b){if(l=v[b.id],l){if(o.get("animate")&&t===Fn){var L=l.getContainer().getMatrix();L||(L=[1,0,0,0,1,0,0,0,1]),l.set("originAttrs",{x:L[6],y:L[7]})}o.updateItem(l,b,!1)}else l=o.addItem(t,b,!1);l&&e[t+"s"].push(l)})},n.prototype.changeData=function(t,e){e===void 0&&(e=!0);var r=this;if(!gl(t))return this;e&&this.get("enabledStack")&&this.pushStack("changedata",{before:r.save(),after:t}),this.set("comboSorted",!1),this.removeHulls(),this.getNodes().map(function(At){return r.clearItemStates(At)}),this.getEdges().map(function(At){return r.clearItemStates(At)});var o=this.get("canvas"),l=o.get("localRefresh");o.set("localRefresh",!1),r.get("data")||(r.data(t),r.render());var v=this.get("itemMap"),b={nodes:[],edges:[]},L=t.combos;if(L){var F=Ru(L,t.nodes);this.set("comboTrees",F)}this.diffItems("node",b,t.nodes),Object(y.j)(v,function(At,wt){v[wt].getModel().depth=0,!(At.getType&&At.getType()==="edge")&&(At.getType&&At.getType()==="combo"?(delete v[wt],At.destroy()):b.nodes.indexOf(At)<0&&(delete v[wt],r.remove(At,!1)))});for(var U=this.getCombos(),rt=U.length,ht=rt-1;ht>=0;ht--)U[ht].destroyed&&U.splice(ht,1);L&&(r.addCombos(L),this.get("groupByTypes")||this.sortCombos()),this.diffItems("edge",b,t.edges),Object(y.j)(v,function(At,wt){At.getType&&(At.getType()==="node"||At.getType()==="combo")||b.edges.indexOf(At)<0&&(delete v[wt],r.remove(At,!1))}),this.set({nodes:b.nodes,edges:b.edges});var bt=this.get("layoutController");return bt&&(bt.changeData(),r.get("animate")&&!bt.getLayoutType()?r.positionsAnimate():r.autoPaint()),setTimeout(function(){o.set("localRefresh",l)},16),this},n.prototype.addCombos=function(t){var e=this,r=e.get("comboTrees"),o=this.get("itemController");o.addCombos(r,t)},n.prototype.createCombo=function(t,e){var r=this;this.set("comboSorted",!1);var o="",l;if(!!t){if(Object(y.O)(t))o=t,l={id:t};else{if(o=t.id,!o){console.warn("Create combo failed. Please assign a unique string id for the adding combo.");return}l=t}var v=e.map(function(L){var F=r.findById(L),U=F.getModel(),rt="";F.getType&&(rt=F.getType());var ht={id:F.getID(),itemType:rt};return rt==="combo"?(ht.parentId=o,U.parentId=o):rt==="node"&&(ht.comboId=o,U.comboId=o),ht});l.children=v,this.addItem("combo",l,!1),this.set("comboSorted",!1);var b=this.get("comboTrees");(b||[]).forEach(function(L){ps(L,function(F){return F.id===o?(F.itemType="combo",F.children=v,!1):!0})}),b&&this.sortCombos()}},n.prototype.uncombo=function(t){var e=this,r=this,o=t;if(Object(y.O)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item is not a combo!");return}var l=o.getModel().parentId,v=r.get("comboTrees");v||(v=[]);var b=this.get("itemMap"),L=o.get("id"),F,U=[],rt=this.get("combos"),ht=this.findById(l);if(v.forEach(function(At){F||ps(At,function(wt){if(wt.id===L){F=wt;var kt=o.getEdges();kt.forEach(function(Kt){e.removeItem(Kt,!1)});var Ut=rt.indexOf(t);rt.splice(Ut,1),delete b[L],o.destroy()}if(l&&F&&wt.id===l){ht.removeCombo(o),U=wt.children;var Ut=U.indexOf(F);return Ut!==-1&&U.splice(Ut,1),F.children.forEach(function(qt){var ne=e.findById(qt.id),ye=ne.getModel();ne.getType&&ne.getType()==="combo"?(qt.parentId=l,delete qt.comboId,ye.parentId=l,delete ye.comboId):ne.getType&&ne.getType()==="node"&&(qt.comboId=l,ye.comboId=l),ht.addChild(ne),U.push(qt)}),!1}return!0})}),!l&&F){var bt=v.indexOf(F);v.splice(bt,1),F.children.forEach(function(At){At.parentId=void 0;var wt=e.findById(At.id).getModel();delete wt.parentId,delete wt.comboId,At.itemType!=="node"&&v.push(At)})}},n.prototype.updateCombos=function(){var t=this,e=this,r=this.get("comboTrees"),o=e.get("itemController"),l=e.get("itemMap");(r||[]).forEach(function(v){ps(v,function(b){if(!b)return!0;var L=l[b.id];if(L&&L.getType&&L.getType()==="combo"){var F=Object(pe.f)([],L.getStates());Object(y.j)(F,function(U){return t.setItemState(L,U,!1)}),o.updateCombo(L,b.children),Object(y.j)(F,function(U){return t.setItemState(L,U,!0)})}return!0})}),e.sortCombos()},n.prototype.updateCombo=function(t){var e=this,r=this,o=t,l;if(Object(y.O)(t)&&(o=this.findById(t)),!o||o.getType&&o.getType()!=="combo"){console.warn("The item to be updated is not a combo!");return}l=o.get("id");var v=this.get("comboTrees"),b=r.get("itemController"),L=r.get("itemMap");(v||[]).forEach(function(F){ps(F,function(U){if(!U)return!0;var rt=L[U.id];if(l===U.id&&rt&&rt.getType&&rt.getType()==="combo"){var ht=Object(pe.f)([],rt.getStates());Object(y.j)(ht,function(bt){rt.getStateStyle(bt)&&e.setItemState(rt,bt,!1)}),b.updateCombo(rt,U.children),Object(y.j)(ht,function(bt){rt.getStateStyle(bt)&&e.setItemState(rt,bt,!0)}),l&&(l=U.parentId)}return!0})})},n.prototype.updateComboTree=function(t,e,r){r===void 0&&(r=!0);var o=this;this.set("comboSorted",!1);var l;Object(y.O)(t)?l=o.findById(t):l=t;var v=l.getModel(),b=v.comboId||v.parentId,L="";if(l.getType&&(L=l.getType()),e&&L==="combo"){var F=this.get("comboTrees"),U=!0,rt;if((F||[]).forEach(function(Ut){rt||No(Ut,function(Kt){if(!rt)return Kt.id===l.getID()&&(rt=Kt),!0})}),No(rt,function(Ut){return Ut.id===e?(U=!1,!1):!0}),!U){console.warn("Failed to update the combo tree! The parentId points to a descendant of the combo!");return}}if(r&&this.get("enabledStack")){var ht={},bt={};L==="combo"?(ht.combos=[{id:v.id,parentId:v.parentId}],bt.combos=[{id:v.id,parentId:e}]):L==="node"&&(ht.nodes=[{id:v.id,parentId:v.comboId}],bt.nodes=[{id:v.id,parentId:e}]),this.pushStack("updateComboTree",{before:ht,after:bt})}if(v.parentId||v.comboId){var At=this.findById(v.parentId||v.comboId);At&&At.removeChild(l)}if(L==="combo"?v.parentId=e:L==="node"&&(v.comboId=e),e){var wt=this.findById(e);wt&&wt.addChild(l)}if(b){var wt=this.findById(b);wt&&wt.removeChild(l)}var kt=Mu(this.get("comboTrees"),v.id,e);this.set("comboTrees",kt),this.updateCombos()},n.prototype.save=function(){var t=[],e=[],r=[];return Object(y.j)(this.get("nodes"),function(o){t.push(o.getModel())}),Object(y.j)(this.get("edges"),function(o){e.push(o.getModel())}),Object(y.j)(this.get("combos"),function(o){r.push(o.getModel())}),{nodes:t,edges:e,combos:r}},n.prototype.changeSize=function(t,e){var r=this.get("viewController");return r.changeSize(t,e),this},n.prototype.refresh=function(){var t=this;if(t.emit("beforegraphrefresh"),t.get("animate"))t.positionsAnimate();else{var e=t.get("nodes"),r=t.get("edges"),o=t.get("edges");Object(y.j)(e,function(l){l.refresh()}),Object(y.j)(r,function(l){l.refresh()}),Object(y.j)(o,function(l){l.refresh()})}t.emit("aftergraphrefresh"),t.autoPaint()},n.prototype.getNodes=function(){return this.get("nodes")},n.prototype.getEdges=function(){return this.get("edges")},n.prototype.getCombos=function(){return this.get("combos")},n.prototype.getComboChildren=function(t){if(Object(y.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo does not exist!");return}return t.getChildren()},n.prototype.positionsAnimate=function(){var t=this;t.emit("beforeanimate");var e=t.get("animateCfg"),r=e.onFrame,o=t.getNodes(),l=o.map(function(b){var L=b.getModel();return{id:L.id,x:L.x,y:L.y}});t.isAnimating()&&t.stopAnimate();var v=t.get("canvas");v.animate(function(b){Object(y.j)(l,function(L){var F=t.findById(L.id);if(!(!F||F.destroyed)){var U=F.get("originAttrs"),rt=F.get("model");if(!U){var ht=F.getContainer().getMatrix();ht||(ht=[1,0,0,0,1,0,0,0,1]),U={x:ht[6],y:ht[7]},F.set("originAttrs",U)}if(r){var bt=r(F,b,L,U);F.set("model",Object.assign(rt,bt))}else rt.x=U.x+(L.x-U.x)*b,rt.y=U.y+(L.y-U.y)*b}}),t.refreshPositions()},{duration:e.duration,easing:e.easing,callback:function(){Object(y.j)(o,function(L){L.set("originAttrs",null)}),e.callback&&e.callback(),t.emit("afteranimate"),t.animating=!1}})},n.prototype.refreshPositions=function(){var t=this;t.emit("beforegraphrefreshposition");var e=t.get("nodes"),r=t.get("edges"),o=t.get("vedges"),l=t.get("combos"),v,b={};Object(y.j)(e,function(L){v=L.getModel();var F=L.get("originAttrs");if(!(F&&v.x===F.x&&v.y===F.y)){var U=L.updatePosition({x:v.x,y:v.y});b[v.id]=U,v.comboId&&(b[v.comboId]=b[v.comboId]||U)}}),l&&l.length!==0&&t.updateCombos(),Object(y.j)(r,function(L){var F=L.getSource().getModel(),U=L.getTarget();if(!Object(y.N)(U)){var rt=U.getModel();(b[F.id]||b[rt.id]||L.getModel().isComboEdge)&&L.refresh()}}),Object(y.j)(o,function(L){L.refresh()}),t.emit("aftergraphrefreshposition"),t.autoPaint()},n.prototype.stopAnimate=function(){this.get("canvas").stopAnimate()},n.prototype.isAnimating=function(){return this.animating},n.prototype.getZoom=function(){var t=this.get("group").getMatrix();return t?t[0]:1},n.prototype.getCurrentMode=function(){var t=this.get("modeController");return t.getMode()},n.prototype.setMode=function(t){var e=this.get("modeController");return e.setMode(t),this},n.prototype.clear=function(t){t===void 0&&(t=!1);var e=this.get("canvas");return e.clear(),this.initGroups(),this.set({itemMap:{},nodes:[],edges:[],groups:[],combos:[],comboTrees:[]}),t||this.emit("afterrender"),this},n.prototype.updateLayout=function(t){var e=this.get("layoutController");Object(y.O)(t)&&(t={type:t});var r=this.get("layout"),o={};Object.assign(o,r,t),this.set("layout",o),e.isLayoutTypeSame(o)&&o.gpuEnabled===r.gpuEnabled?e.updateLayoutCfg(o):e.changeLayout(o)},n.prototype.destroyLayout=function(){var t=this.get("layoutController");t.destroyLayout()},n.prototype.layout=function(){var t=this.get("layoutController"),e=this.get("layout");if(!(!e||!t)){if(e.workerEnabled){t.layout();return}t.layoutMethod?t.relayout(!0):t.layout()}},n.prototype.collapseCombo=function(t){var e=this;if(Object(y.O)(t)&&(t=this.findById(t)),!t){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),o=this.get("itemController");o.collapseCombo(t),r.collapsed=!0;var l=this.getEdges().concat(this.get("vedges")),v=[],b=[],L=this.get("comboTrees"),F=!1;(L||[]).forEach(function(ht){F||No(ht,function(bt){if(F&&bt.depth<=r.depth)return!1;if(r.id===bt.id&&(F=!0),F){var At=e.findById(bt.id);At&&At.getType&&At.getType()==="combo"&&(v=v.concat(At.getNodes()),b=b.concat(At.getCombos()))}return!0})});var U={},rt=[];l.forEach(function(ht){if(!(ht.isVisible()&&!ht.getModel().isVEdge)){var bt=ht.getSource(),At=ht.getTarget();if((v.includes(bt)||b.includes(bt))&&!v.includes(At)&&!b.includes(At)||bt.getModel().id===r.id){var wt=ht.getModel();if(wt.isVEdge){e.removeItem(ht,!1);return}for(var kt=At.getModel();!At.isVisible();){if(At=e.findById(kt.parentId||kt.comboId),!At||!kt.parentId&&!kt.comboId)return;kt=At.getModel()}var Ut=kt.id;if(U[r.id+"-"+Ut]){U[r.id+"-"+Ut]+=wt.size||1;return}var Kt=e.addItem("vedge",{source:r.id,target:Ut,isVEdge:!0},!1);U[r.id+"-"+Ut]=wt.size||1,rt.push(Kt)}else if(!v.includes(bt)&&!b.includes(bt)&&(v.includes(At)||b.includes(At))||At.getModel().id===r.id){var wt=ht.getModel();if(wt.isVEdge){e.removeItem(ht,!1);return}for(var qt=bt.getModel();!bt.isVisible();){if(bt=e.findById(qt.parentId||qt.comboId),!bt||!qt.parentId&&!qt.comboId)return;qt=bt.getModel()}var ne=qt.id;if(U[ne+"-"+r.id]){U[ne+"-"+r.id]+=wt.size||1;return}var Kt=e.addItem("vedge",{target:r.id,source:ne,isVEdge:!0},!1);U[ne+"-"+r.id]=wt.size||1,rt.push(Kt)}}}),rt.forEach(function(ht){var bt=ht.getModel();e.updateItem(ht,{size:U[bt.source+"-"+bt.target]},!1)}),this.emit("aftercollapseexpandcombo",{action:"collapse",item:t})},n.prototype.expandCombo=function(t){var e=this;if(Object(y.O)(t)&&(t=this.findById(t)),!t||t.getType&&t.getType()!=="combo"){console.warn("The combo to be collapsed does not exist!");return}this.emit("beforecollapseexpandcombo",{action:"expand",item:t});var r=t.getModel(),o=this.get("itemController");o.expandCombo(t),r.collapsed=!1;var l=this.getEdges().concat(this.get("vedges")),v=[],b=[],L=this.get("comboTrees"),F=!1;(L||[]).forEach(function(ht){F||No(ht,function(bt){if(F&&bt.depth<=r.depth)return!1;if(r.id===bt.id&&(F=!0),F){var At=e.findById(bt.id);At&&At.getType&&At.getType()==="combo"&&(v=v.concat(At.getNodes()),b=b.concat(At.getCombos()))}return!0})});var U={},rt={};l.forEach(function(ht){if(!(ht.isVisible()&&!ht.getModel().isVEdge)){var bt=ht.getSource(),At=ht.getTarget(),wt=bt.get("id"),kt=At.get("id");if((v.includes(bt)||b.includes(bt))&&!v.includes(At)&&!b.includes(At)||wt===r.id){if(ht.getModel().isVEdge){e.removeItem(ht,!1);return}for(var Ut=At.getModel();!At.isVisible();){if(At=e.findById(Ut.comboId||Ut.parentId),!At||!Ut.parentId&&!Ut.comboId)return;Ut=At.getModel()}kt=Ut.id;for(var Kt=bt.getModel();!bt.isVisible();){if(bt=e.findById(Kt.comboId||Kt.parentId),!bt||!Kt.parentId&&!Kt.comboId)return;if(Kt.comboId===r.id||Kt.parentId===r.id)break;Kt=bt.getModel()}if(wt=Kt.id,kt){var qt=wt+"-"+kt;if(U[qt]){U[qt]+=ht.getModel().size||1,e.updateItem(rt[qt],{size:U[qt]},!1);return}var ne=e.addItem("vedge",{source:wt,target:kt,isVEdge:!0},!1);U[qt]=ht.getModel().size||1,rt[qt]=ne}}else if(!v.includes(bt)&&!b.includes(bt)&&(v.includes(At)||b.includes(At))||kt===r.id){if(ht.getModel().isVEdge){e.removeItem(ht,!1);return}for(var Kt=bt.getModel();!bt.isVisible();){if(bt=e.findById(Kt.comboId||Kt.parentId),!bt||!Kt.parentId&&!Kt.comboId)return;Kt=bt.getModel()}wt=Kt.id;for(var Ut=At.getModel();!At.isVisible();){if(At=e.findById(Ut.comboId||Ut.parentId),!At||!Ut.parentId&&!Ut.comboId)return;if(Ut.comboId===r.id||Ut.parentId===r.id)break;Ut=At.getModel()}if(kt=Ut.id,wt){var qt=wt+"-"+kt;if(U[qt]){U[qt]+=ht.getModel().size||1,e.updateItem(rt[qt],{size:U[qt]},!1);return}var ne=e.addItem("vedge",{target:kt,source:wt,isVEdge:!0},!1);U[qt]=ht.getModel().size||1,rt[qt]=ne}}else(v.includes(bt)||b.includes(bt))&&(v.includes(At)||b.includes(At))&&bt.isVisible()&&At.isVisible()&&ht.show()}}),this.emit("aftercollapseexpandcombo",{action:"expand",item:t})},n.prototype.collapseExpandCombo=function(t){if(Object(y.O)(t)&&(t=this.findById(t)),!(!t||t.getType&&t.getType()!=="combo")){for(var e=t.getModel(),r=this.findById(e.parentId);r;){var o=r.getModel();if(o.collapsed){console.warn("Fail to expand the combo since it's ancestor combo is collapsed."),r=void 0;return}r=this.findById(o.parentId)}var l=e.collapsed;l?this.expandCombo(t):this.collapseCombo(t),this.updateCombo(t)}},n.prototype.sortCombos=function(){var t=this,e=this.get("comboSorted");if(!e){this.set("comboSorted",!0);var r=[],o={},l=this.get("comboTrees");(l||[]).forEach(function(b){No(b,function(L){return r[L.depth]?r[L.depth].push(L.id):r[L.depth]=[L.id],o[L.id]=L.depth,!0})});var v=this.getEdges().concat(this.get("vedges"));(v||[]).forEach(function(b){var L=b.getModel(),F=o[L.source]||0,U=o[L.target]||0,rt=Math.max(F,U);r[rt]?r[rt].push(L.id):r[rt]=[L.id]}),r.forEach(function(b){if(!(!b||!b.length))for(var L=b.length-1;L>=0;L--){var F=t.findById(b[L]);F&&F.toFront()}})}},n.prototype.getNeighbors=function(t,e){var r=t;return Object(y.O)(t)&&(r=this.findById(t)),r.getNeighbors(e)},n.prototype.getNodeDegree=function(t,e,r){e===void 0&&(e=void 0),r===void 0&&(r=!1);var o=t;Object(y.O)(t)&&(o=this.findById(t));var l=this.get("degrees");(!l||r)&&(l=Object(On.getDegree)(this.save()),this.set("degrees",l));var v=l[o.getID()],b=0;if(!v)return 0;switch(e){case"in":b=v.inDegree;break;case"out":b=v.outDegree;break;case"all":b=v;break;default:b=v.degree;break}return b},n.prototype.getUndoStack=function(){return this.undoStack},n.prototype.getRedoStack=function(){return this.redoStack},n.prototype.getStackData=function(){return this.get("enabledStack")?{undoStack:this.undoStack.toArray(),redoStack:this.redoStack.toArray()}:null},n.prototype.clearStack=function(){this.get("enabledStack")&&(this.undoStack.clear(),this.redoStack.clear())},n.prototype.pushStack=function(t,e,r){if(t===void 0&&(t="update"),r===void 0&&(r="undo"),!this.get("enabledStack")){console.warn("\u8BF7\u5148\u542F\u7528 undo & redo \u529F\u80FD\uFF0C\u5728\u5B9E\u4F8B\u5316 Graph \u65F6\u5019\u914D\u7F6E enabledStack: true !");return}var o=e?Object(y.e)(e):{before:{},after:Object(y.e)(this.save())};r==="redo"?this.redoStack.push({action:t,data:o}):this.undoStack.push({action:t,data:o}),this.emit("stackchange",{undoStack:this.undoStack,redoStack:this.redoStack})},n.prototype.getAdjMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix");return(!r||!t)&&(r=Object(On.getAdjMatrix)(this.save(),e),this.set("adjMatrix",r)),r},n.prototype.getShortestPathMatrix=function(t,e){t===void 0&&(t=!0),e===void 0&&(e=this.get("directed"));var r=this.get("adjMatrix"),o=this.get("shortestPathMatrix");return(!r||!t)&&(r=Object(On.getAdjMatrix)(this.save(),e),this.set("adjMatrix",r)),(!o||!t)&&(o=Object(On.floydWarshall)(this.save(),e),this.set("shortestPathMatrix",o)),o},n.prototype.on=function(t,e,r){return u.prototype.on.call(this,t,e,r)},n.prototype.destroy=function(){this.clear(),this.clearStack(),this.get("itemController").destroy(),this.get("modeController").destroy(),this.get("viewController").destroy(),this.get("stateController").destroy(),this.get("canvas").destroy(),this.cfg=null,this.destroyed=!0,this.redoStack=null,this.undoStack=null},n.prototype.createHull=function(t){if(!t.members||t.members.length<1){console.warn("Create hull failed! The members is empty.");return}var e=this.get("hullGroup"),r=this.get("hullMap");if(r||(r={},this.set("hullMap",r)),(!e||e.get("destroyed"))&&(e=this.get("group").addGroup({id:"hullGroup"}),e.toBack(),this.set("hullGroup",e)),r[t.id])return console.warn("Existed hull id."),r[t.id];var o=e.addGroup({id:t.id+"-container"}),l=new Wr(this,Object(pe.a)(Object(pe.a)({},t),{group:o})),v=l.id;return r[v]=l,l},n.prototype.getHulls=function(){return this.get("hullMap")},n.prototype.getHullById=function(t){return this.get("hullMap")[t]},n.prototype.removeHull=function(t){var e;Object(y.O)(t)?e=this.getHullById(t):e=t;var r=this.get("hullMap");delete r[e.id],e.destroy()},n.prototype.removeHulls=function(){var t=this.getHulls();!t||!Object.keys(t).length||(Object.keys(t).forEach(function(e){var r=t[e];r.destroy()}),this.set("hullMap",{}))},n}(Gi.a),ea=Ur;function ri(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ri=function(t){return typeof t}:ri=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ri(u)}var ma=Ba.a.transform,ni="-shape",wn="-label",Hn=["startArrow","endArrow"],ba={lineWidth:1,stroke:void 0,fill:void 0,lineAppendWidth:1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,x:0,y:0,r:10,width:20,height:20,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},Ea={lineWidth:1,stroke:"#000",lineDash:void 0,startArrow:!1,endArrow:!1,opacity:void 0,strokeOpacity:void 0,fillOpacity:void 0,shadowColor:void 0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0},ja={edge:Ea,node:ba,combo:ba},Ja="-label-bg",ca={options:{},itemType:"",type:"",getCustomConfig:function(n){return{}},getOptions:function(n){return Object(y.h)({labelCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}},descriptionCfg:{style:{fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"}}},this.options,this.getCustomConfig(n)||{},n)},draw:function(n,t){var e=this.drawShape(n,t);if(e.set("className",this.itemType+ni),n.label){var r=this.drawLabel(n,t);r.set("className",this.itemType+wn)}return e},afterDraw:function(n,t,e){},drawShape:function(n,t){return null},drawLabel:function(n,t){var e=this.getOptions(n).labelCfg,r=e||{},o=this.getLabelStyle(n,r,t),l=o.rotate;delete o.rotate;var v=t.addShape("text",{attrs:o,draggable:!0,className:"text-shape",name:"text-shape"});if(l){var b=v.getBBox(),L=v.getMatrix();if(L||(L=[1,0,0,0,1,0,0,0,1]),o.rotateCenter)switch(o.rotateCenter){case"center":L=ma(L,[["t",-b.width/2,-b.height/2],["r",l],["t",b.width/2,b.height/2]]);break;case"lefttop":L=ma(L,[["t",-o.x,-o.y],["r",l],["t",o.x,o.y]]);break;case"leftcenter":L=ma(L,[["t",-o.x,-o.y-b.height/2],["r",l],["t",o.x,o.y+b.height/2]]);break;default:L=ma(L,[["t",-b.width/2,-b.height/2],["r",l],["t",b.width/2,b.height/2]]);break}else L=ma(L,[["t",-o.x,-o.y-b.height/2],["r",l],["t",o.x,o.y+b.height/2]]);v.setMatrix(L)}if(o.background){var F=this.drawLabelBg(n,t,v),U=this.itemType+Ja;F.set("classname",U),v.toFront()}return v},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,o=Object(y.bb)({},r,n.labelCfg),l=this.getLabelBgStyleByPosition(e,n,o,t),v=t.addShape("rect",{name:"text-bg-shape",attrs:l});return v},getLabelStyleByPosition:function(n,t,e){return{text:n.label}},getLabelBgStyleByPosition:function(n,t,e,r){return{}},getLabelStyle:function(n,t,e){var r=this.getLabelStyleByPosition(n,t,e),o=this.itemType+"Label",l=yn[o]?yn[o].style:null,v=Object(pe.a)(Object(pe.a)(Object(pe.a)({},l),r),t.style);return v},getShapeStyle:function(n){return n.style},update:function(n,t){this.updateShapeStyle(n,t),this.updateLabel(n,t)},updateShapeStyle:function(n,t){var e=t.getContainer(),r=t.getKeyShape(),o=Object(y.bb)({},r.attr(),n.style),l=function(L){var F,U=o[L];if(Object(y.N)(U)){var rt=e.find(function(ht){return ht.get("name")===L});rt&&rt.attr(U)}else r.attr((F={},F[L]=U,F))};for(var v in o)l(v)},updateLabel:function(n,t){var e=t.getContainer(),r=this.getOptions({}).labelCfg,o=this.itemType+wn,l=e.find(function(ne){return ne.get("className")===o}),v=this.itemType+Ja,b=e.find(function(ne){return ne.get("classname")===v});if(n.label||n.label==="")if(l){var F={};t.getModel&&(F=t.getModel().labelCfg);var U=Object(y.h)({},r,F,n.labelCfg),rt=this.getLabelStyleByPosition(n,U,e),ht=n.labelCfg?n.labelCfg.style:void 0,bt=U.style&&U.style.background,At=Object(pe.a)(Object(pe.a)(Object(pe.a)({},l.attr()),rt),ht),wt=At.rotate;if(delete At.rotate,wt){var kt=[1,0,0,0,1,0,0,0,1];kt=ma(kt,[["t",-At.x,-At.y],["r",wt],["t",At.x,At.y]]),l.resetMatrix(),l.attr(Object(pe.a)(Object(pe.a)({},At),{matrix:kt}))}else l.resetMatrix(),l.attr(At);if(!b)At.background&&(b=this.drawLabelBg(n,e,l),b.set("classname",v),l.toFront());else if(At.background){var Ut=this.getLabelBgStyleByPosition(l,n,U,e),Kt=Object(pe.a)(Object(pe.a)({},Ut),bt);if(b.resetMatrix(),wt){var qt=[1,0,0,0,1,0,0,0,1];qt=ma(qt,[["t",-Kt.x,-Kt.y],["r",wt],["t",Kt.x,Kt.y]]),Kt.matrix=qt}b.attr(Kt)}else e.removeChild(b)}else{var L=this.drawLabel(n,e);L.set("className",o)}},afterUpdate:function(n,t){},setState:function(n,t,e){var r,o,l=e.get("keyShape");if(!!l){var v=e.getType(),b=Object(y.C)(t)?n:n+":"+t,L=this.getStateStyle(b,e),F=e.getStateStyle(b);if(!(!F&&!L)){var U=Object(y.bb)({},F||L),rt=e.getContainer(),ht={x:1,y:1,cx:1,cy:1};if(v==="combo"&&(ht.r=1,ht.width=1,ht.height=1),t){var bt=function(vn){var aa,ra=U[vn];if(Object(y.N)(ra)&&!Hn.includes(vn)){var Rn=rt.find(function(Gn){return Gn.get("name")===vn});Rn&&Rn.attr(ra)}else l.attr((aa={},aa[vn]=ra,aa))};for(var At in U)bt(At)}else{var wt=vl(e.getCurrentStatesStyle()),kt=e.getModel(),Ut=Object(y.bb)({},kt.style,vl(e.getOriginStyle())),Kt=l.get("name"),qt=l.attr(),ne={};Object.keys(qt).forEach(function(dn){if(dn!=="img"){var vn=qt[dn];vn&&ri(vn)==="object"?ne[dn]=Object(y.e)(vn):ne[dn]=vn}});var ye={},xe=function(vn){var aa=U[vn];if(Object(y.N)(aa)&&!Hn.includes(vn)){var ra=rt.find(function(Qn){return Qn.get("name")===vn});if(ra){var Rn=Object(y.e)(ra.attr());Object(y.j)(aa,function(Qn,gn){if(vn===Kt&&ne[gn]&&!ht[gn]){delete ne[gn];var Jn=Ut[vn][gn]||ja[v][gn];l.attr(gn,Jn)}else if(Rn[gn]||Rn[gn]===0){delete Rn[gn];var Pa=Ut[vn][gn]||ja[v][gn];ra.attr(gn,Pa)}}),ye[vn]=Rn}}else if(ne[vn]&&!ht[vn]){delete ne[vn];var Gn=Ut[vn]||(Ut[Kt]?Ut[Kt][vn]:void 0)||ja[v][vn];l.attr(vn,Gn)}};for(var je in U)xe(je);Kt?ye[Kt]=ne:Object(y.bb)(ye,ne);for(var At in wt)if(!ht[At]){var We=wt[At];(!Object(y.N)(We)||Hn.includes(At))&&(Kt?(Object(y.bb)(Ut[Kt],(o={},o[At]=We,o)),delete Ut[At]):Object(y.bb)(Ut,(r={},r[At]=We,r)),delete wt[At])}var Be={};Object(y.h)(Be,Ut,ye,wt);var qe=!1,sr=function(vn){var aa,ra,Rn=Be[vn];if(Object(y.N)(Rn)&&!Hn.includes(vn)){var Gn=rt.find(function(gn){return gn.get("name")===vn});Gn&&(vn===Kt&&(v==="combo"&&(delete Rn.r,delete Rn.width,delete Rn.height),qe=!0),Gn.attr(Rn))}else if(!qe){var Qn=Rn||ja[v][vn];v==="combo"?Kt||l.attr((aa={},aa[vn]=Qn,aa)):l.attr((ra={},ra[vn]=Qn,ra))}};for(var hn in Be)sr(hn)}}}},getStateStyle:function(n,t){var e=t.getModel(),r=t.getType(),o=this.getOptions(e),l=o.stateStyles,v=o.style,b=v===void 0?{}:v,L=e.stateStyles?e.stateStyles[n]:l&&l[n];return r==="combo"?Object(y.e)(L):Object(y.bb)({},b,L)},getControlPoints:function(n){return n.controlPoints},getAnchorPoints:function(n){var t=this.getOptions(n).anchorPoints;return t}},Ma={itemType:"node",shapeType:"single-node",labelPosition:"center",offset:yn.nodeLabel.offset,getSize:function(n){var t=n.size||this.getOptions({}).size||yn.defaultNode.size;return Object(y.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(y.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition;if(e==="center")return{x:0,y:0,text:n.label};var r=t.offset;Object(y.I)(r)&&(r=this.offset);var o=this.getSize(n),l=o[0],v=o[1],b;switch(e){case"top":b={x:0,y:0-v/2-r,textBaseline:"bottom"};break;case"bottom":b={x:0,y:v/2+r,textBaseline:"top"};break;case"left":b={x:0-l/2-r,y:0,textAlign:"right"};break;default:b={x:l/2+r,y:0,textAlign:"left"};break}return b.text=n.label,b},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var o=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var v=Ju(l.padding),b=o.width+v[1]+v[3],L=o.height+v[0]+v[2],F=e.offset;Object(y.I)(F)&&(F=this.offset);var U;return U={x:o.minX-v[3],y:o.minY-v[0]},U=Object(pe.a)(Object(pe.a)(Object(pe.a)({},U),l),{width:b,height:L}),U},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),o=t.addShape(e,{attrs:r,draggable:!0,name:"node-shape"});return o},updateLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=t.find(function(xe){return xe.get("className")==="link-point-left"}),o=t.find(function(xe){return xe.get("className")==="link-point-right"}),l=t.find(function(xe){return xe.get("className")==="link-point-top"}),v=t.find(function(xe){return xe.get("className")==="link-point-bottom"}),b;r&&(b=r.attr()),o&&!b&&(b=o.attr()),l&&!b&&(b=l.attr()),v&&!b&&(b=v.attr()),b||(b=e);var L=Object(y.bb)({},b,n.linkPoints),F=L.fill,U=L.stroke,rt=L.lineWidth,ht=L.size/2;ht||(ht=L.r);var bt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},At=bt.left,wt=bt.right,kt=bt.top,Ut=bt.bottom,Kt=this.getSize(n),qt=Kt[0],ne=Kt[1],ye={r:ht,fill:F,stroke:U,lineWidth:rt};r?!At&&At!==void 0?r.remove():r.attr(Object(pe.a)(Object(pe.a)({},ye),{x:-qt/2,y:0})):At&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},ye),{x:-qt/2,y:0}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),o?(!wt&&wt!==void 0&&o.remove(),o.attr(Object(pe.a)(Object(pe.a)({},ye),{x:qt/2,y:0}))):wt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},ye),{x:qt/2,y:0}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),l?(!kt&&kt!==void 0&&l.remove(),l.attr(Object(pe.a)(Object(pe.a)({},ye),{x:0,y:-ne/2}))):kt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},ye),{x:0,y:-ne/2}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),v?!Ut&&Ut!==void 0?v.remove():v.attr(Object(pe.a)(Object(pe.a)({},ye),{x:0,y:ne/2})):Ut&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},ye),{x:0,y:ne/2}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},updateShape:function(n,t,e,r){var o=t.get("keyShape");o.attr(Object(pe.a)({},e)),this.updateLabel(n,t),r&&this.updateIcon(n,t)},updateIcon:function(n,t){var e=this,r=t.getContainer(),o=this.getOptions(n).icon,l=(n.icon?n.icon:{show:void 0}).show,v=r.find(function(rt){return rt.get("className")===e.type+"-icon"});if(v)if(l||l===void 0){var b=Object(y.bb)({},v.attr(),o),L=b.width,F=b.height;v.attr(Object(pe.a)(Object(pe.a)({},b),{x:-L/2,y:-F/2}))}else v.remove();else if(l){var L=o.width,F=o.height;r.addShape("image",{attrs:Object(pe.a)(Object(pe.a)({},o),{x:-L/2,y:-F/2}),className:this.type+"-icon",name:this.type+"-icon"});var U=r.find(function(bt){return bt.get("className")==="node-label"});U&&U.toFront()}}},oi=Object(pe.a)(Object(pe.a)({},ca),Ma);ss.registerNode("single-node",oi);var ai="edge-shape";function gi(u){var n=u;return u==="start"?n="end":u==="end"&&(n="start"),n}var ti={itemType:"edge",labelPosition:"center",refX:0,refY:0,labelAutoRotate:!1,options:{size:yn.defaultEdge.size,style:{x:0,y:0,stroke:yn.defaultEdge.style.stroke,lineAppendWidth:yn.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:yn.edgeLabel.style.fill,fontSize:yn.edgeLabel.style.fontSize}},stateStyles:Object(pe.a)({},yn.edgeStateStyles)},getPath:function(n){var t=[];return Object(y.j)(n,function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(y.bb)({},t,e,n.style),o=n.size||yn.defaultEdge.size;n=this.getPathPoints(n);var l=n.startPoint,v=n.endPoint,b=this.getControlPoints(n),L=[l];b&&(L=L.concat(b)),L.push(v);var F=this.getPath(L),U=Object(y.bb)({},yn.defaultEdge.style,{stroke:yn.defaultEdge.color,lineWidth:o,path:F},r);return U},updateShapeStyle:function(n,t){var e=t.getContainer(),r={stroke:n.color},o=e.find(function(Ut){return Ut.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var v=n.startPoint,b=n.endPoint,L=this.getControlPoints(n),F=[v];L&&(F=F.concat(L)),F.push(b);var U=o.attr(),rt=Object(y.bb)({},r,U,n.style),ht=n.sourceNode,bt=n.targetNode,At={radius:rt.radius};L||(At={source:ht,target:bt,offset:rt.offset,radius:rt.radius}),U.endArrow&&rt.endArrow===!1&&(n.style.endArrow={path:""}),U.startArrow&&rt.startArrow===!1&&(n.style.startArrow={path:""});var wt=this.getPath(F,At),kt=Object(y.bb)(r,o.attr(),{lineWidth:l,path:wt},n.style);o&&o.attr(kt)},getLabelStyleByPosition:function(n,t,e){var r=t.position||this.labelPosition,o={},l=e&&e.find(function(rt){return rt.get("className")===ai}),v;r==="start"?v=0:r==="end"?v=1:v=.5;var b=t.refX||this.refX,L=t.refY||this.refY;if(n.startPoint.x===n.endPoint.x&&n.startPoint.y===n.endPoint.y)return o.x=n.startPoint.x+b,o.y=n.startPoint.y+L,o.text=n.label,o;var F;Object(y.I)(t.autoRotate)?F=this.labelAutoRotate:F=t.autoRotate;var U=ka(l,v,b,L,F);return o.x=U.x,o.y=U.y,o.rotate=U.rotate,o.textAlign=this._getTextAlign(r,U.angle),o.text=n.label,o},getLabelBgStyleByPosition:function(n,t,e,r){if(!n)return{};var o=n.getBBox(),l=e.style&&e.style.background;if(!l)return{};var v=l.padding,b=o.width+v[1]+v[3],L=o.height+v[0]+v[2],F=e.position||this.labelPosition,U=Object(pe.a)(Object(pe.a)({},l),{width:b,height:L,x:o.minX-v[2],y:o.minY-v[0],rotate:0}),rt;Object(y.I)(e.autoRotate)?rt=this.labelAutoRotate:rt=e.autoRotate;var ht=r&&r.find(function(Kt){return Kt.get("className")===ai}),bt;F==="start"?bt=0:F==="end"?bt=1:bt=.5;var At=e.refX||this.refX,wt=e.refY||this.refY;if(t.startPoint.x===t.endPoint.x&&t.startPoint.y===t.endPoint.y)return U.x=t.startPoint.x+At-b/2,U.y=t.startPoint.y+wt-L/2,U;var kt=ka(ht,bt,At-b/2,wt+L/2,rt),Ut=kt.angle;return Ut>1/2*Math.PI&&Ut<3*1/2*Math.PI&&(kt=ka(ht,bt,At+b/2,wt+L/2,rt)),rt&&(U.x=kt.x,U.y=kt.y),U.rotate=kt.rotate,U},_getTextAlign:function(n,t){var e="center";return t?(t=t%(Math.PI*2),n!=="center"&&(t>=0&&t<=Math.PI/2||t>=3/2*Math.PI&&t<2*Math.PI?e=n:e=gi(n)),e):n},getControlPoints:function(n){return n.controlPoints},getPathPoints:function(n){return n},drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("path",{className:ai,name:ai,attrs:e});return r},drawLabel:function(n,t){var e=this.options.labelCfg,r;typeof window!="undefined"?r=window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif":r="Arial, sans-serif";var o=Object(y.h)({fontFamily:r},e,n.labelCfg),l=this.getLabelStyle(n,o,t),v=l.rotate;delete l.rotate;var b=t.addShape("text",{attrs:l,name:"text-shape"});if(v&&b.rotateAtStart(v),l.background){var L=this.drawLabelBg(n,t,b),F=this.itemType+Ja;L.set("classname",F),b.toFront()}return b},drawLabelBg:function(n,t,e){var r=this.options.labelCfg,o=Object(y.h)({},r,n.labelCfg),l=this.getLabelStyle(n,o,t),v=l.rotate,b=this.getLabelBgStyleByPosition(e,n,o,t);delete b.rotate;var L=t.addShape("rect",{name:"text-bg-shape",attrs:b});return v&&L.rotateAtStart(v),L}},Pi=Object(pe.a)(Object(pe.a)({},ca),ti);ss.registerEdge("single-edge",Pi),ss.registerEdge("line",{getControlPoints:function(){}},"single-edge"),ss.registerEdge("spline",{getPath:function(n){var t=rl(n);return t}},"single-edge"),ss.registerEdge("arc",{curveOffset:20,clockwise:1,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint,r={x:(t.x+e.x)/2,y:(t.y+e.y)/2},o,l;if(n.controlPoints!==void 0){if(l=n.controlPoints[0],o=la(t,l,e),t.x<=e.x&&t.y>e.y?this.clockwise=o.x>l.x?0:1:t.x<=e.x&&t.y<e.y?this.clockwise=o.x>l.x?1:0:t.x>e.x&&t.y<=e.y?this.clockwise=o.y<l.y?0:1:this.clockwise=o.y<l.y?1:0,(l.x-t.x)/(l.y-t.y)==(e.x-t.x)/(e.y-t.y))return[]}else{n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),Object(y.B)(n.curveOffset)&&(n.curveOffset=n.curveOffset[0]),n.curveOffset<0?this.clockwise=0:this.clockwise=1;var v={x:e.x-t.x,y:e.y-t.y},b=Math.atan2(v.y,v.x);l={x:n.curveOffset*Math.cos(-Math.PI/2+b)+r.x,y:n.curveOffset*Math.sin(-Math.PI/2+b)+r.y},o=la(t,l,e)}var L=Cs(t,o),F=[{x:L,y:L}];return F},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),n.length===2?t.push(["L",n[1].x,n[1].y]):t.push(["A",n[1].x,n[1].y,0,0,this.clockwise,n[2].x,n[2].y]),t}},"single-edge"),ss.registerEdge("quadratic",{curvePosition:.5,curveOffset:-20,getControlPoints:function(n){var t=n.controlPoints;if(!t||!t.length){var e=n.startPoint,r=n.endPoint;n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(y.B)(this.curveOffset)&&(n.curveOffset=n.curveOffset[0]),Object(y.B)(this.curvePosition)&&(n.curvePosition=n.curveOffset[0]);var o=Ou(e,r,n.curvePosition,n.curveOffset);t=[o]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["Q",n[1].x,n[1].y,n[2].x,n[2].y]),t}},"single-edge"),ss.registerEdge("cubic",{curvePosition:[1/2,1/2],curveOffset:[-20,20],getControlPoints:function(n){var t=n.controlPoints;if(n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),Object(y.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(y.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]),!t||!t.length||t.length<2){var e=n.startPoint,r=n.endPoint,o=Ou(e,r,n.curvePosition[0],n.curveOffset[0]),l=Ou(e,r,n.curvePosition[1],n.curveOffset[1]);t=[o,l]}return t},getPath:function(n){var t=[];return t.push(["M",n[0].x,n[0].y]),t.push(["C",n[1].x,n[1].y,n[2].x,n[2].y,n[3].x,n[3].y]),t}},"single-edge"),ss.registerEdge("cubic-vertical",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(y.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(y.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(y.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.y-t.y,o=[0,0];n.curveOffset?o=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(o=n.minCurveOffset);var l={x:t.x,y:t.y+r*this.curvePosition[0]+o[0]},v={x:e.x,y:e.y-r*this.curvePosition[1]+o[1]};return[l,v]}},"cubic"),ss.registerEdge("cubic-horizontal",{curvePosition:[1/2,1/2],minCurveOffset:[0,0],curveOffset:void 0,getControlPoints:function(n){var t=n.startPoint,e=n.endPoint;n.curvePosition===void 0&&(n.curvePosition=this.curvePosition),n.curveOffset===void 0&&(n.curveOffset=this.curveOffset),n.minCurveOffset===void 0&&(n.minCurveOffset=this.minCurveOffset),Object(y.K)(n.curveOffset)&&(n.curveOffset=[n.curveOffset,-n.curveOffset]),Object(y.K)(n.minCurveOffset)&&(n.minCurveOffset=[n.minCurveOffset,-n.minCurveOffset]),Object(y.K)(n.curvePosition)&&(n.curvePosition=[n.curvePosition,1-n.curvePosition]);var r=e.x-t.x,o=[0,0];n.curveOffset?o=n.curveOffset:Math.abs(r)<Math.abs(n.minCurveOffset[0])&&(o=n.minCurveOffset);var l={x:t.x+r*this.curvePosition[0]+o[0],y:t.y},v={x:e.x-r*this.curvePosition[1]+o[1],y:e.y},b=[l,v];return b}},"cubic"),ss.registerEdge("loop",{getPathPoints:function(n){return qr(n)},getControlPoints:function(n){return n.controlPoints},afterDraw:function(n){n.controlPoints=void 0},afterUpdate:function(n){n.controlPoints=void 0}},"cubic");var di={itemType:"combo",shapeType:"single-combo",labelPosition:"top",refX:yn.comboLabel.refX,refY:yn.comboLabel.refY,options:{style:{stroke:yn.defaultCombo.style.stroke,fill:yn.defaultCombo.style.fill,lineWidth:yn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yn.comboLabel.style.fill,fontSize:yn.comboLabel.style.fontSize}},stateStyles:Object(pe.a)({},yn.comboStateStyles)},getSize:function(n){var t=Object(y.e)(n.size||this.options.size||yn.defaultCombo.size);return Object(y.B)(t)&&t.length===1&&(t=[t[0],t[0]]),Object(y.B)(t)||(t=[t,t]),t},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,o=n.padding||this.options.padding;Object(y.B)(o)&&(o=o[0]);var l=t.refX,v=t.refY;Object(y.I)(l)&&(l=this.refX),Object(y.I)(v)&&(v=this.refY);var b=this.getSize(n),L=Math.max(r.r,b[0]/2)||b[0]/2,F=L+o,U;switch(e){case"top":U={x:0,y:-F-v,textBaseline:"bottom",textAlign:"center"};break;case"bottom":U={x:0,y:F+v,textBaseline:"bottom",textAlign:"center"};break;case"left":U={x:-F+l,y:0,textAlign:"left"};break;case"center":U={x:0,y:0,text:n.label,textAlign:"center"};break;default:U={x:F+l,y:0,textAlign:"right"};break}return U.text=n.label,U},drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n),o=t.addShape(e,{attrs:r,draggable:!0,name:"combo-shape"});return o},updateShape:function(n,t,e){var r=t.get("keyShape"),o=n.animate===void 0?this.options.animate:n.animate;o&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(pe.a)({},e)),this.updateLabel(n,t)}},Ga=Object(pe.a)(Object(pe.a)({},ca),di);ss.registerCombo("single-combo",Ga),ss.registerCombo("circle",{options:{size:[yn.defaultCombo.size[0],yn.defaultCombo.size[0]],padding:yn.defaultCombo.padding[0],animate:!0,style:{stroke:yn.defaultCombo.style.stroke,fill:yn.defaultCombo.style.fill,lineWidth:yn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yn.comboLabel.style.fill,fontSize:yn.comboLabel.style.fontSize},refX:0,refY:0},stateStyles:Object(pe.a)({},yn.comboStateStyles)},shapeType:"circle",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n);delete e.height,delete e.width;var r=t.addShape("circle",{attrs:e,className:"circle-combo",name:"circle-combo",draggable:!0});return r},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(y.B)(e)&&(e=e[0]);var r={stroke:n.color},o=Object(y.bb)({},t,r,n.style),l;if(n.fixSize)l=Object(y.K)(n.fixSize)?n.fixSize:n.fixSize[0];else{var v=this.getSize(n);!Object(y.K)(o.r)||isNaN(o.r)?l=v[0]/2||yn.defaultCombo.style.r:l=Math.max(o.r,v[0]/2)||v[0]/2}o.r=l+e;var b=Object(pe.a)({x:0,y:0},o);return n.style?n.style.r=l:n.style={r:l},b},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(y.B)(r)&&(r=r[0]);var o=Object(y.e)(n.style),l;n.fixSize?l=Object(y.K)(n.fixSize)?n.fixSize:n.fixSize[0]:l=Math.max(o.r,e[0]/2)||e[0]/2,o.r=l+r;var v=t.get("sizeCache");v&&(v.r=o.r);var b={stroke:n.color},L=t.get("keyShape"),F=Object(y.bb)({},L.attr(),b,o);n.style?n.style.r=l:n.style={r:l},this.updateShape(n,t,F,!0)}},"single-combo"),ss.registerCombo("rect",{options:{size:[40,5],padding:[25,20,15,20],animate:!0,style:{radius:0,stroke:yn.defaultCombo.style.stroke,fill:yn.defaultCombo.style.fill,lineWidth:yn.defaultCombo.style.lineWidth},labelCfg:{style:{fill:yn.comboLabel.style.fill,fontSize:yn.comboLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(pe.a)({},yn.comboStateStyles)},shapeType:"rect",labelPosition:"top",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:"rect-combo",name:"rect-combo",draggable:!0});return r},getLabelStyleByPosition:function(n,t){var e=t.position||this.labelPosition,r=n.style,o=n.padding||this.options.padding;Object(y.K)(o)&&(o=[o,o,o,o]);var l=t.refX,v=t.refY;Object(y.I)(l)&&(l=this.refX),Object(y.I)(v)&&(v=this.refY);var b=r.width/2+o[3],L=r.height/2+o[0],F;switch(e){case"top":F={x:0-b+l,y:0-L+v,textBaseline:"top",textAlign:"left"};break;case"bottom":F={x:0,y:L+v,textBaseline:"bottom",textAlign:"center"};break;case"left":F={x:0-b+v,y:0,textAlign:"left"};break;case"center":F={x:0,y:0,text:n.label,textAlign:"center"};break;default:F={x:b+l,y:0,textAlign:"right"};break}return F.text=n.label,F},getShapeStyle:function(n){var t=this.options.style,e=n.padding||this.options.padding;Object(y.K)(e)&&(e=[e,e,e,e]);var r={stroke:n.color},o=Object(y.bb)({},t,r,n.style),l=this.getSize(n),v,b,L=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;L?Object(y.K)(L)?(v=L,b=L):(v=L[0],b=L[1]):(!Object(y.K)(o.width)||isNaN(o.width)?v=l[0]||yn.defaultCombo.style.width:v=Math.max(o.width,l[0])||l[0],!Object(y.K)(o.height)||isNaN(o.height)?b=l[1]||yn.defaultCombo.style.height:b=Math.max(o.height,l[1])||l[1]);var F=-v/2-e[3],U=-b/2-e[0];o.width=v+e[1]+e[3],o.height=b+e[0]+e[2];var rt=Object(pe.a)({x:F,y:U},o);return n.style?(n.style.width=v,n.style.height=b):n.style={width:v,height:b},rt},update:function(n,t){var e=this.getSize(n),r=n.padding||this.options.padding;Object(y.K)(r)&&(r=[r,r,r,r]);var o=Object(y.e)(n.style),l,v,b=n.collapsed&&n.fixCollapseSize?n.fixCollapseSize:n.fixSize;b?Object(y.K)(b)?(l=b,v=b):(l=b[0],v=b[1]):(l=Math.max(o.width,e[0])||e[0],v=Math.max(o.height,e[1])||e[1]),o.width=l+r[1]+r[3],o.height=v+r[0]+r[2];var L=t.get("sizeCache");L&&(L.width=o.width,L.height=o.height),o.x=-l/2-r[3],o.y=-v/2-r[0];var F={stroke:n.color},U=t.get("keyShape"),rt=Object(y.bb)({},U.attr(),F,o);n.style?(n.style.width=l,n.style.height=v):n.style={width:l,height:v},this.updateShape(n,t,rt,!1)},updateShape:function(n,t,e){var r=t.get("keyShape"),o=n.animate===void 0?this.options.animate:n.animate;o&&r.animate?r.animate(e,{duration:200,easing:"easeLinear"}):r.attr(Object(pe.a)({},e)),this.updateLabel(n,t)}},"single-combo"),ss.registerNode("simple-circle",{options:{size:yn.defaultNode.size,style:{x:0,y:0,stroke:yn.defaultNode.style.stroke,fill:yn.defaultNode.style.fill,lineWidth:yn.defaultNode.style.lineWidth},labelCfg:{style:{fill:yn.nodeLabel.style.fill,fontSize:yn.nodeLabel.style.fontSize}},stateStyles:Object(pe.a)({},yn.nodeStateStyles)},shapeType:"simple-circle",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("circle",{attrs:e,className:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.h)({},t,e),o=this.getSize(n),l=o[0]/2,v=Object(pe.a)({x:0,y:0,r:l},r);return v},update:function(n,t){var e=this.getSize(n),r={stroke:n.color,r:e[0]/2},o=t.get("keyShape"),l=Object(y.h)({},o.attr(),r,n.style);this.updateShape(n,t,l,!0)}},"single-node"),ss.registerNode("simple-rect",{options:{size:[100,30],style:{radius:0,stroke:yn.defaultNode.style.stroke,fill:yn.defaultNode.style.fill,lineWidth:yn.defaultNode.style.lineWidth},labelCfg:{style:{fill:yn.nodeLabel.style.fill,fontSize:yn.nodeLabel.style.fontSize}},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(pe.a)({},yn.nodeStateStyles)},shapeType:"simple-rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return r},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getSize(n),l=r.width||o[0],v=r.height||o[1],b=Object(pe.a)({x:-l/2,y:-v/2,width:l,height:v},r);return b},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),l=t.get("keyShape");n.size||(o[0]=l.attr("width")||r.width,o[1]=l.attr("height")||r.height);var v={stroke:n.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},b=Object(y.bb)({},r,l.attr(),v);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!1)}},"single-node"),ss.registerNode("image",{options:{img:"https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ",size:200,clipCfg:{show:!1,type:"circle",r:50,rx:50,ry:35,width:50,height:35,points:[[30,12],[12,30],[30,48],[48,30]],path:[["M",25,25],["L",50,25],["A",12.5,12.5,0,1,1,50,50],["A",12.5,12.5,0,1,0,50,50],["L",25,75],["Z"]],x:0,y:0}},shapeType:"image",labelPosition:"bottom",drawShape:function(n,t){var e=this.shapeType,r=this.getShapeStyle(n);delete r.fill;var o=t.addShape(e,{attrs:r,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawClip(n,o),o},drawClip:function(n,t){var e=this.getOptions(n).clipCfg;if(!!e.show){var r=e.type,o=e.x,l=e.y,v=e.style;if(r==="circle"){var b=e.r;t.setClip({type:"circle",attrs:Object(pe.a)({r:b,x:o,y:l},v)})}else if(r==="rect"){var L=e.width,F=e.height,U=o-L/2,rt=l-F/2;t.setClip({type:"rect",attrs:Object(pe.a)({x:U,y:rt,width:L,height:F},v)})}else if(r==="ellipse"){var ht=e.rx,bt=e.ry;t.setClip({type:"ellipse",attrs:Object(pe.a)({x:o,y:l,rx:ht,ry:bt},v)})}else if(r==="polygon"){var At=e.points;t.setClip({type:"polygon",attrs:Object(pe.a)({points:At},v)})}else if(r==="path"){var wt=e.path;t.setClip({type:"path",attrs:Object(pe.a)({path:wt},v)})}}},getShapeStyle:function(n){var t=this.getOptions(n).style,e=this.getSize(n),r=this.getOptions(n).img,o=e[0],l=e[1];t&&(o=t.width||e[0],l=t.height||e[1]);var v=Object(pe.a)({x:-o/2,y:-l/2,width:o,height:l,img:r},t);return v},updateShapeStyle:function(n,t){var e=t.getContainer(),r=this.itemType+"-shape",o=e.find(function(v){return v.get("className")===r})||t.getKeyShape(),l=this.getShapeStyle(n);o&&o.attr(l)}},"single-node");var ui={triangle:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,o="M "+r+",0 L "+(r+t)+",-"+n/2+" L "+(r+t)+","+n/2+" Z";return o},vee:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=20),e===void 0&&(e=0);var r=e*2,o="M "+r+",0 L "+(r+t)+",-"+n/2+`
        L `+(r+2*t/3)+",0 L "+(r+t)+","+n/2+" Z";return o},circle:function(n,t){n===void 0&&(n=5),t===void 0&&(t=0);var e=t*2,r="M "+e+`, 0
            a `+n+","+n+" 0 1,0 "+n*2+`,0
            a `+n+","+n+" 0 1,0 "+-n*2+",0";return r},rect:function(n,t,e){n===void 0&&(n=10),t===void 0&&(t=10),e===void 0&&(e=0);var r=e*2,o="M "+r+","+-n/2+` 
        L `+(r+t)+","+-n/2+` 
        L `+(r+t)+","+n/2+` 
        L `+r+","+n/2+" Z";return o},diamond:function(n,t,e){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=0);var r=e*2,o="M "+r+`,0 
        L `+(r+t/2)+","+-n/2+` 
        L `+(r+t)+`,0 
        L `+(r+t/2)+","+n/2+" Z";return o},triangleRect:function(n,t,e,r,o,l){n===void 0&&(n=15),t===void 0&&(t=15),e===void 0&&(e=15),r===void 0&&(r=3),o===void 0&&(o=5),l===void 0&&(l=0);var v=l*2,b=v+t+o,L="M "+v+",0 L "+(v+t)+",-"+n/2+" L "+(v+t)+","+n/2+` Z
            M `+b+", -"+e/2+`
            L `+(b+r)+" -"+e/2+`
            L `+(b+r)+" "+e/2+`
            L `+b+" "+e/2+`
            Z`;return L}},Vi={collapse:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n+e-4,t]]},expand:function(n,t,e){return[["M",n-e,t],["a",e,e,0,1,0,e*2,0],["a",e,e,0,1,0,-e*2,0],["M",n-e+4,t],["L",n-e+2*e-4,t],["M",n-e+e,t-e+4],["L",n,t+e-4]]},upTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),o=e*Math.sin(Math.PI/6);return[["M",n-r,t+o],["L",n+r,t+o],["L",n,t-e],["Z"]]},downTriangle:function(n,t,e){var r=e*Math.cos(Math.PI/6),o=e*Math.sin(Math.PI/6);return[["M",n-r,t-o],["L",n+r,t-o],["L",n,t+e],["Z"]]}},Ui=ss,uo=["#5F95FF","#61DDAA","#65789B","#F6BD16","#7262FD","#78D3F8","#9661BC","#F6903D","#008685","#F08BB4"],ho=Ba.a.transform,Ji=Object(pe.a)(Object(pe.a)(Object(pe.a)(Object(pe.a)(Object(pe.a)(Object(pe.a)({},g),i),p),f),E),{transform:ho,mat3:Ba.b}),Fi=Ji,us=function(){function u(n){this.graph=n,this.layoutCfg=n.get("layout")||{},this.layoutType=this.getLayoutType(),this.layoutMethods=[],this.initLayout()}return u.prototype.initLayout=function(){},u.prototype.getLayoutType=function(){return this.getLayoutCfgType(this.layoutCfg)},u.prototype.getLayoutCfgType=function(n){var t=n.type;if(t)return t;var e=n.pipes;return Array.isArray(e)?e.map(function(r){return(r==null?void 0:r.type)||""}):null},u.prototype.isLayoutTypeSame=function(n){var t=this.getLayoutCfgType(n);return Array.isArray(this.layoutType)?this.layoutType.every(function(e,r){return e===t[r]}):(n==null?void 0:n.type)===this.layoutType},u.prototype.refreshLayout=function(){var n=this.graph;!n||(n.get("animate")?n.positionsAnimate():n.refreshPositions())},u.prototype.changeLayout=function(n){this.layoutCfg=n,this.destoryLayoutMethods(),this.layout()},u.prototype.changeData=function(){this.destoryLayoutMethods(),this.layout()},u.prototype.destoryLayoutMethods=function(){var n=this.layoutMethods;n==null||n.forEach(function(t){t.destroy()}),this.layoutMethods=[]},u.prototype.destroyLayout=function(){var n=this.graph;this.destoryLayoutMethods(),n.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0},u.prototype.setDataFromGraph=function(){for(var n=[],t=[],e=[],r=[],o=[],l=[],v=[],b=this.graph.getNodes(),L=this.graph.getEdges(),F=this.graph.getCombos(),U=b.length,rt=0;rt<U;rt++){var ht=b[rt];if(!(!ht||ht.destroyed)){var bt=ht.getModel();if(!ht.isVisible()){t.push(bt);continue}n.push(bt)}}for(var At=L.length,rt=0;rt<At;rt++){var wt=L[rt];if(!(!wt||wt.destroyed)){var bt=wt.getModel();if(!wt.isVisible()){r.push(bt);continue}bt.isComboEdge?o.push(bt):e.push(bt)}}for(var kt=F.length,rt=0;rt<kt;rt++){var Ut=F[rt];if(!Ut.destroyed){var bt=Ut.getModel();if(!Ut.isVisible()){r.push(bt);continue}l.push(bt)}}return{nodes:n,hiddenNodes:t,edges:e,hiddenEdges:r,combos:l,hiddenCombos:v,comboEdges:o}},u.prototype.reLayoutMethod=function(n,t){var e=this;return new Promise(function(r,o){var l=e.graph,v=t==null?void 0:t.type;t.onLayoutEnd=function(){l.emit("aftersublayout",{type:v}),r()},n.init(e.data),v==="force"&&(n.ticking=!1,n.forceSimulation.stop()),l.emit("beforesublayout",{type:v}),n.execute(),n.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd()})},u.prototype.relayout=function(n){var t=this,e=this,r=e.graph,o=e.layoutMethods,l=e.layoutCfg;if(n){this.data=this.setDataFromGraph();var v=this.data.nodes;if(!v)return!1;this.initPositions(l.center,v)}r.emit("beforelayout");var b=Promise.resolve();o==null||o.forEach(function(L,F){var U=l[F];b=b.then(function(){return t.reLayoutMethod(L,U)})}),b.then(function(){l.onAllLayoutEnd&&l.onAllLayoutEnd()}).catch(function(L){console.warn("relayout failed",L)})},u.prototype.filterLayoutData=function(n,t){var e=n.nodes,r=n.edges,o=Object(pe.e)(n,["nodes","edges"]);if(!e)return n;var l,v;if(Object(y.H)(t==null?void 0:t.nodesFilter)?l=t.nodesFilter:l=function(){return!0},Object(y.H)(t==null?void 0:t.edgesFilter))v=t.edgesFilter;else{var b=e.reduce(function(L,F){return L[F.id]=!0,L},{});v=function(F){return b[F.source]&&b[F.target]}}return Object(pe.a)({nodes:e.filter(l),edges:r.filter(v)},o)},u.prototype.getLayoutBBox=function(n){var t=this.graph,e=Object(y.v)(t.getNodes(),function(l){return l.getModel().layoutOrder}),r=Object.values(e).map(function(l){var v=_u(l);return v.size=[v.width,v.height],v}),o=Object.values(Object(y.v)(n,"layoutOrder"));return{groupNodes:o,layoutNodes:r}},u.prototype.layoutAnimate=function(){},u.prototype.moveToZero=function(){var n=this.graph,t=n.get("data"),e=t.nodes;if(!(e[0].x===void 0||e[0].x===null||pl(e[0].x))){for(var r=[0,0],o=e.length,l=0;l<o;l++){var v=e[l];r[0]+=v.x,r[1]+=v.y}r[0]/=e.length,r[1]/=e.length;for(var l=0;l<o;l++){var v=e[l];v.x-=r[0],v.y-=r[1]}}},u.prototype.initPositions=function(n,t){var e=this.graph;if(!t)return!1;var r=t?t.length:0;if(!!r){var o=e.get("width")*.85,l=e.get("height")*.85,v=Math.ceil(Math.sqrt(r)*(o/l)),b=Math.ceil(r/v),L=o/(v-1),F=l/(b-1);(!isFinite(L)||!L)&&(L=0),(!isFinite(F)||!L)&&(F=0);for(var U=n[0]-o/2,rt=n[1]-l/2,ht=!0,bt=0;bt<r;bt++){var At=t[bt];pl(At.x)&&(ht=!1,At.x=bt%v*L+U),pl(At.y)&&(ht=!1,At.y=Math.floor(bt/v)*F+rt)}return ht}},u.prototype.destroy=function(){this.graph=null,this.destoryLayoutMethods(),this.destroyed=!0},u}(),jo=us,Js=function(){function u(n){this.graph=n,this.destroyed=!1,this.initEvents()}return u}(),Zl=Js,Ol;(function(u){u.CLICK="click",u.DBLCLICK="dblclick",u.MOUSEDOWN="mousedown",u.MOUDEUP="mouseup",u.CONTEXTMENU="contextmenu",u.MOUSEENTER="mouseenter",u.MOUSEOUT="mouseout",u.MOUSEOVER="mouseover",u.MOUSEMOVE="mousemove",u.MOUSELEAVE="mouseleave",u.DRAGSTART="dragstart",u.DRAGEND="dragend",u.DRAG="drag",u.DRAGENTER="dragenter",u.DRAGLEAVE="dragleave",u.DRAGOVER="dragover",u.DRAGOUT="dragout",u.DDROP="drop",u.KEYUP="keyup",u.KEYDOWN="keydown",u.WHEEL="wheel",u.FOCUS="focus",u.BLUR="blur",u.TOUCHSTART="touchstart",u.TOUCHMOVE="touchmove",u.TOUCHEND="touchend",u.NODE_CONTEXTMENU="node:contextmenu",u.NODE_CLICK="node:click",u.NODE_DBLCLICK="node:dblclick",u.NODE_MOUSEDOWN="node:mousedown",u.NODE_MOUSEUP="node:mouseup",u.NODE_MOUSEENTER="node:mouseenter",u.NODE_MOUSELEAVE="node:mouseleave",u.NODE_MOUSEMOVE="node:mousemove",u.NODE_MOUSEOUT="node:mouseout",u.NODE_MOUSEOVER="node:mouseover",u.NODE_DROP="node:drop",u.NODE_DRAGOVER="node:dragover",u.NODE_DRAGENTER="node:dragenter",u.NODE_DRAGLEAVE="node:dragleave",u.NODE_DRAGSTART="node:dragstart",u.NODE_DRAG="node:drag",u.NODE_DRAGEND="node:dragend",u.COMBO_CONTEXTMENU="combo:contextmenu",u.COMBO_CLICK="combo:click",u.COMBO_DBLCLICK="combo:dblclick",u.COMBO_MOUSEDOWN="combo:mousedown",u.COMBO_MOUSEUP="combo:mouseup",u.COMBO_MOUSEENTER="combo:mouseenter",u.COMBO_MOUSELEAVE="combo:mouseleave",u.COMBO_MOUSEMOVE="combo:mousemove",u.COMBO_MOUSEOUT="combo:mouseout",u.COMBO_MOUSEOVER="combo:mouseover",u.COMBO_DROP="combo:drop",u.COMBO_DRAGOVER="combo:dragover",u.COMBO_DRAGENTER="combo:dragenter",u.COMBO_DRAGLEAVE="combo:dragleave",u.COMBO_DRAGSTART="combo:dragstart",u.COMBO_DRAG="combo:drag",u.COMBO_DRAGEND="combo:dragend",u.EDGE_CONTEXTMENU="edge:contextmenu",u.EDGE_CLICK="edge:click",u.EDGE_DBLCLICK="edge:dblclick",u.EDGE_MOUSEDOWN="edge:mousedown",u.EDGE_MOUSEUP="edge:mouseup",u.EDGE_MOUSEENTER="edge:mouseenter",u.EDGE_MOUSELEAVE="edge:mouseleave",u.EDGE_MOUSEMOVE="edge:mousemove",u.EDGE_MOUSEOUT="edge:mouseout",u.EDGE_MOUSEOVER="edge:mouseover",u.EDGE_DROP="edge:drop",u.EDGE_DRAGOVER="edge:dragover",u.EDGE_DRAGENTER="edge:dragenter",u.EDGE_DRAGLEAVE="edge:dragleave",u.CANVAS_CONTEXTMENU="canvas:contextmenu",u.CANVAS_CLICK="canvas:click",u.CANVAS_DBLCLICK="canvas:dblclick",u.CANVAS_MOUSEDOWN="canvas:mousedown",u.CANVAS_MOUSEUP="canvas:mouseup",u.CANVAS_MOUSEENTER="canvas:mouseenter",u.CANVAS_MOUSELEAVE="canvas:mouseleave",u.CANVAS_MOUSEMOVE="canvas:mousemove",u.CANVAS_MOUSEOUT="canvas:mouseout",u.CANVAS_MOUSEOVER="canvas:mouseover",u.CANVAS_DROP="canvas:drop",u.CANVAS_DRAGENTER="canvas:dragenter",u.CANVAS_DRAGLEAVE="canvas:dragleave",u.CANVAS_DRAGSTART="canvas:dragstart",u.CANVAS_DRAG="canvas:drag",u.CANVAS_DRAGEND="canvas:dragend",u.BEFORERENDER="beforerender",u.AFTERRENDER="afterrender",u.BEFOREADDITEM="beforeadditem",u.AFTERADDITEM="afteradditem",u.BEFOREREMOVEITEM="beforeremoveitem",u.AFTERREMOVEITEM="afterremoveitem",u.BEFOREUPDATEITEM="beforeupdateitem",u.AFTERUPDATEITEM="afterupdateitem",u.BEFOREITEMVISIBILITYCHANGE="beforeitemvisibilitychange",u.AFTERITEMVISIBILITYCHANGE="afteritemvisibilitychange",u.BEFOREITEMSTATECHANGE="beforeitemstatechange",u.AFTERITEMSTATECHANGE="afteritemstatechange",u.BEFOREITEMREFRESH="beforeitemrefresh",u.AFTERITEMREFRESH="afteritemrefresh",u.BEFOREITEMSTATESCLEAR="beforeitemstatesclear",u.AFTERITEMSTATESCLEAR="afteritemstatesclear",u.BEFOREMODECHANGE="beforemodechange",u.AFTERMODECHANGE="aftermodechange",u.BEFORELAYOUT="beforelayout",u.AFTERLAYOUT="afterlayout",u.BEFORECREATEEDGE="beforecreateedge",u.AFTERCREATEEDGE="aftercreateedge",u.BEFOREGRAPHREFRESHPOSITION="beforegraphrefreshposition",u.AFTERGRAPHREFRESHPOSITION="aftergraphrefreshposition",u.BEFOREGRAPHREFRESH="beforegraphrefresh",u.AFTERGRAPHREFRESH="aftergraphrefresh",u.BEFOREANIMATE="beforeanimate",u.AFTERANIMATE="afteranimate",u.BEFOREPAINT="beforepaint",u.AFTERPAINT="afterpaint",u.BEFORECOLLAPSEEXPANDCOMBO="beforecollapseexpandcombo",u.AFTERCOLLAPSEEXPANDCOMBO="aftercollapseexpandcombo",u.GRAPHSTATECHANGE="graphstatechange",u.AFTERACTIVATERELATIONS="afteractivaterelations",u.NODESELECTCHANGE="nodeselectchange",u.TOOLTIPCHANGE="tooltipchange",u.WHEELZOOM="wheelzoom",u.VIEWPORTCHANGE="viewportchange",u.DRAGNODEEND="dragnodeend",u.STACKCHANGE="stackchange"})(Ol||(Ol={}));var ou=Ui.registerNode,Vu=Ui.registerEdge,of=Ui.registerCombo,nl=ro.registerBehavior,ha=yn,Hu={version:yn.version,AbstractGraph:ea,BaseGlobal:ha,Util:Fi,Shape:Ui,Node:ml,Edge:kl,Combo:Yl,Hull:Wr,registerNode:Ui.registerNode,registerEdge:Ui.registerEdge,registerCombo:Ui.registerCombo,registerBehavior:ro.registerBehavior,Arrow:ui,Marker:Vi,AbstractLayout:jo,AbstractEvent:Zl},Xs=a("U8jP"),Xu=a("v7Ed"),zr=a("IOcx");function Hf(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromTranslation(e,t),zr.a.multiply(u,e,n)}function al(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromRotation(e,t),zr.a.multiply(u,e,n)}function sf(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromScaling(e,t),zr.a.multiply(u,e,n)}function Xf(u,n,t){return zr.a.multiply(u,t,n)}function Oh(u,n){for(var t=u?[].concat(u):[1,0,0,0,1,0,0,0,1],e=0,r=n.length;e<r;e++){var o=n[e];switch(o[0]){case"t":Hf(t,t,[o[1],o[2]]);break;case"s":sf(t,t,[o[1],o[2]]);break;case"r":al(t,t,o[1]);break;case"m":Xf(t,t,o[1]);break;default:break}}return t}function uf(u,n){return u[0]*n[1]-n[0]*u[1]}function Yf(u,n,t){var e=zr.d.angle(u,n),r=uf(u,n)>=0;return t?r?Math.PI*2-e:e:r?e:Math.PI*2-e}function Dc(u,n,t){return t?(u[0]=n[1],u[1]=-1*n[0]):(u[0]=-1*n[1],u[1]=n[0]),u}var xh=a("aSns"),Ql=a.n(xh),Ch=a("Zss7"),Pc=a.n(Ch),Jl=2,lf=.16,Ic=.05,Ah=.05,vd=.15,Kf=5,$f=4,Zf=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Qf(u,n,t){var e;return Math.round(u.h)>=60&&Math.round(u.h)<=240?e=t?Math.round(u.h)-Jl*n:Math.round(u.h)+Jl*n:e=t?Math.round(u.h)+Jl*n:Math.round(u.h)-Jl*n,e<0?e+=360:e>=360&&(e-=360),e}function Sh(u,n,t){if(u.h===0&&u.s===0)return u.s;var e;return t?e=u.s-lf*n:n===$f?e=u.s+lf:e=u.s+Ic*n,e>1&&(e=1),t&&n===Kf&&e>.1&&(e=.1),e<.06&&(e=.06),Number(e.toFixed(2))}function cf(u,n,t){var e;return t?e=u.v+Ah*n:e=u.v-vd*n,e>1&&(e=1),Number(e.toFixed(2))}function _l(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],e=Pc()(u),r=Kf;r>0;r-=1){var o=e.toHsv(),l=Pc()({h:Qf(o,r,!0),s:Sh(o,r,!0),v:cf(o,r,!0)}).toHexString();t.push(l)}t.push(e.toHexString());for(var v=1;v<=$f;v+=1){var b=e.toHsv(),L=Pc()({h:Qf(b,v),s:Sh(b,v),v:cf(b,v)}).toHexString();t.push(L)}return n.theme==="dark"?Zf.map(function(F){var U=F.index,rt=F.opacity,ht=Pc.a.mix(n.backgroundColor||"#141414",t[U],rt*100).toHexString();return ht}):t}var ff={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},ys={},hf={};Object.keys(ff).forEach(function(u){ys[u]=_l(ff[u]),ys[u].primary=ys[u][5],hf[u]=_l(ff[u],{theme:"dark",backgroundColor:"#141414"}),hf[u].primary=hf[u][5]});var gd=ys.red,df=ys.volcano,Jf=ys.gold,pd=ys.orange,Mh=ys.yellow,Th=ys.lime,xl=ys.green,yd=ys.cyan,_f=ys.blue,il=ys.geekblue,vf=ys.purple,ql=ys.magenta,gf=ys.grey,Go=function(n,t,e){var r=Ql()(n),o=Ql()(t);return Ql()([(1-e)*r.red()+e*o.red(),(1-e)*r.green()+e*o.green(),(1-e)*r.blue()+e*o.blue()]).rgb()},Cl=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="rgb(150, 150, 150)");var r=Go(t,n,.05).rgb().toString(),o=Go(t,n,.1).rgb().toString(),l=Go(t,n,.2).rgb().toString(),v=Go(t,n,.4).rgb().toString(),b=Go(t,e,.02).rgb().toString(),L=Go(t,e,.05).rgb().toString(),F=Go(t,e,.1).rgb().toString(),U=Go(t,e,.2).rgb().toString(),rt=Go(t,e,.3).rgb().toString(),ht=_l(n,{theme:"default",backgroundColor:t}),bt=Ql()(n).hex().toLowerCase(),At=ht.indexOf(bt),wt=n;return At!==-1&&(wt=ht[At+1]),{mainStroke:n,mainFill:o,activeStroke:n,activeFill:r,inactiveStroke:v,inactiveFill:r,selectedStroke:n,selectedFill:t,highlightStroke:wt,highlightFill:l,disableStroke:rt,disableFill:L,edgeMainStroke:rt,edgeActiveStroke:n,edgeInactiveStroke:U,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:F,comboMainStroke:rt,comboMainFill:b,comboActiveStroke:n,comboActiveFill:r,comboInactiveStroke:rt,comboInactiveFill:b,comboSelectedStroke:n,comboSelectedFill:b,comboHighlightStroke:wt,comboHighlightFill:b,comboDisableStroke:U,comboDisableFill:L}},ol=function(n,t,e){t===void 0&&(t="#fff"),e===void 0&&(e="#777");var r=Go(t,n,.2).rgb().toString(),o=Go(t,n,.3).rgb().toString(),l=Go(t,n,.6).rgb().toString(),v=Go(t,n,.8).rgb().toString(),b=Go(t,e,.2).rgb().toString(),L=Go(t,e,.25).rgb().toString(),F=Go(t,e,.3).rgb().toString(),U=Go(t,e,.4).rgb().toString(),rt=Go(t,e,.5).rgb().toString(),ht=_l(n,{theme:"dark",backgroundColor:t}),bt=Ql()(n).hex().toLowerCase(),At=ht.indexOf(bt),wt=n;return At!==-1&&(wt=ht[At+1]),{mainStroke:v,mainFill:r,activeStroke:n,activeFill:o,inactiveStroke:v,inactiveFill:r,selectedStroke:n,selectedFill:r,highlightStroke:n,highlightFill:l,disableStroke:rt,disableFill:L,edgeMainStroke:e,edgeActiveStroke:n,edgeInactiveStroke:e,edgeSelectedStroke:n,edgeHighlightStroke:n,edgeDisableStroke:F,comboMainStroke:U,comboMainFill:L,comboActiveStroke:n,comboActiveFill:b,comboInactiveStroke:U,comboInactiveFill:L,comboSelectedStroke:n,comboSelectedFill:b,comboHighlightStroke:wt,comboHighlightFill:L,comboDisableStroke:U,comboDisableFill:b}},Lu=function(n,t,e,r){return t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)"),e==="default"?Cl(n,t,"rgb(150, 150, 150)"):ol(n,t,"#777")},pf=function(n,t,e,r){t===void 0&&(t="#fff"),e===void 0&&(e="default"),r===void 0&&(r="rgb(150, 150, 150)");var o=[];return n.forEach(function(l){o.push(Lu(l,t,e,r))}),o},yf="rgb(95, 149, 255)",tc="rgb(255, 255, 255)",mf="rgb(0, 0, 0)",Hi=Lu(yf,tc),su={version:"0.2.7",rootContainerClassName:"root-container",nodeContainerClassName:"node-container",edgeContainerClassName:"edge-container",comboContainerClassName:"combo-container",delegateContainerClassName:"delegate-container",defaultLoopPosition:"top",nodeLabel:{style:{fill:"#000",fontSize:12,textAlign:"center",textBaseline:"middle"},offset:4},defaultNode:{type:"circle",style:{lineWidth:1,stroke:Hi.mainStroke,fill:Hi.mainFill},size:20,color:Hi.mainStroke,linkPoints:{size:8,lineWidth:1,fill:Hi.activeFill,stroke:Hi.activeStroke}},nodeStateStyles:{active:{fill:Hi.activeFill,stroke:Hi.activeStroke,lineWidth:2,shadowColor:Hi.mainStroke,shadowBlur:10},selected:{fill:Hi.selectedFill,stroke:Hi.selectedStroke,lineWidth:4,shadowColor:Hi.selectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{fill:Hi.highlightFill,stroke:Hi.highlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{fill:Hi.inactiveFill,stroke:Hi.inactiveStroke,lineWidth:1},disable:{fill:Hi.disableFill,stroke:Hi.disableStroke,lineWidth:1}},edgeLabel:{style:{fill:mf,textAlign:"center",textBaseline:"middle",fontSize:12}},defaultEdge:{type:"line",size:1,style:{stroke:Hi.edgeMainStroke,lineAppendWidth:2},color:Hi.edgeMainStroke},edgeStateStyles:{active:{stroke:Hi.edgeActiveStroke,lineWidth:1},selected:{stroke:Hi.edgeSelectedStroke,lineWidth:2,shadowColor:Hi.edgeSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Hi.edgeHighlightStroke,lineWidth:2,"text-shape":{fontWeight:500}},inactive:{stroke:Hi.edgeInactiveStroke,lineWidth:1},disable:{stroke:Hi.edgeDisableStroke,lineWidth:1}},comboLabel:{style:{fill:mf,textBaseline:"middle",fontSize:12},refY:10,refX:10},defaultCombo:{type:"circle",style:{fill:Hi.comboMainFill,lineWidth:1,stroke:Hi.comboMainStroke,r:5,width:20,height:10},size:[20,5],color:Hi.comboMainStroke,padding:[25,20,15,20]},comboStateStyles:{active:{stroke:Hi.comboActiveStroke,lineWidth:1,fill:Hi.comboActiveFill},selected:{stroke:Hi.comboSelectedStroke,lineWidth:2,fill:Hi.comboSelectedFill,shadowColor:Hi.comboSelectedStroke,shadowBlur:10,"text-shape":{fontWeight:500}},highlight:{stroke:Hi.comboHighlightStroke,lineWidth:2,fill:Hi.comboHighlightFill,"text-shape":{fontWeight:500}},inactive:{stroke:Hi.comboInactiveStroke,fill:Hi.comboInactiveFill,lineWidth:1},disable:{stroke:Hi.comboDisableStroke,fill:Hi.comboDisableFill,lineWidth:1}},delegateStyle:{fill:"#F3F9FF",fillOpacity:.5,stroke:"#1890FF",strokeOpacity:.9,lineDash:[5,5]},textWaterMarkerConfig:{width:150,height:100,compatible:!1,text:{x:0,y:60,lineHeight:20,rotate:20,fontSize:14,fontFamily:"Microsoft YaHei",fill:"rgba(0, 0, 0, 0.1)",baseline:"Middle"}},imageWaterMarkerConfig:{width:150,height:130,compatible:!1,image:{x:0,y:0,width:30,height:20,rotate:0}},waterMarkerImage:"https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg"},ec=Fi.cloneEvent,bf=Fi.isViewportChanged,md=function(u){Object(pe.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.extendEvents=[],e.dragging=!1,e.preItem=null,e.graph=t,e.destroyed=!1,e.initEvents(),e}return n.prototype.initEvents=function(){var t=this,e=t.graph,r=t.extendEvents,o=r===void 0?[]:r,l=e.get("canvas"),v=l.get("el"),b=Object(y.wb)(this,"onCanvasEvents"),L=Object(y.wb)(this,"onExtendEvents"),F=Object(y.wb)(this,"onWheelEvent");l.off("*").on("*",b),this.canvasHandler=b,o.push(Object(Va.a)(v,"DOMMouseScroll",F)),o.push(Object(Va.a)(v,"mousewheel",F)),typeof window!="undefined"&&(o.push(Object(Va.a)(window,"keydown",L)),o.push(Object(Va.a)(window,"keyup",L)),o.push(Object(Va.a)(window,"focus",L)))},n.getItemRoot=function(t){for(;t&&!t.get("item");)t=t.get("parent");return t},n.prototype.onCanvasEvents=function(t){var e=this.graph,r=e.get("canvas"),o=t.target,l=t.type;t.canvasX=t.x,t.canvasY=t.y;var v={x:t.canvasX,y:t.canvasY},b=e.get("group"),L=b.getMatrix();if(L||(L=[1,0,0,0,1,0,0,0,1]),bf(L)&&(v=e.getPointByClient(t.clientX,t.clientY)),t.x=v.x,t.y=v.y,t.currentTarget=e,o===r){(l==="mousemove"||l==="mouseleave")&&this.handleMouseMove(t,"canvas"),t.target=r,t.item=null,e.emit(l,t),e.emit("canvas:"+l,t);return}var F=n.getItemRoot(o);if(!F){e.emit(l,t);return}var U=F.get("item");if(!U.destroyed){var rt=U.getType();if(t.target=o,t.item=U,t.canvasX===t.x&&t.canvasY===t.y){var ht=e.getCanvasByPoint(t.x,t.y);t.canvasX=ht.x,t.canvasY=ht.y}e.emit(l,t),t.name&&!t.name.includes(":")?e.emit(rt+":"+l,t):e.emit(t.name,t),l==="dragstart"&&(this.dragging=!0),l==="dragend"&&(this.dragging=!1),l==="mousemove"&&this.handleMouseMove(t,rt)}},n.prototype.onExtendEvents=function(t){this.graph.emit(t.type,t)},n.prototype.onWheelEvent=function(t){Object(y.I)(t.wheelDelta)&&(t.wheelDelta=-t.detail),this.graph.emit("wheel",t)},n.prototype.handleMouseMove=function(t,e){var r=this,o=r.graph,l=r.preItem,v=o.get("canvas"),b=t.target===v?null:t.item;t=ec(t),l&&l!==b&&!l.destroyed&&(t.item=l,this.emitCustomEvent(l.getType(),"mouseleave",t),this.dragging&&this.emitCustomEvent(l.getType(),"dragleave",t)),b&&l!==b&&(t.item=b,this.emitCustomEvent(e,"mouseenter",t),this.dragging&&this.emitCustomEvent(e,"dragenter",t)),this.preItem=b},n.prototype.emitCustomEvent=function(t,e,r){r.type=e,this.graph.emit(t+":"+e,r)},n.prototype.destroy=function(){var t=this,e=t.graph,r=t.canvasHandler,o=t.extendEvents,l=e.get("canvas");l.off("*",r),Object(y.j)(o,function(v){v.remove()}),this.dragging=!1,this.preItem=null,this.extendEvents.length=0,this.canvasHandler=null,this.destroyed=!0},n}(Zl),qf=md,Ao=a("fWQN"),Dh=a("tS8v"),vs=a("yKVA"),Ko=a("879j"),Lo=a("mtLc"),Ds=function(){function u(){Object(Ao.default)(this,u),this.nodes=[],this.edges=[],this.combos=[],this.positions=[],this.destroyed=!1,this.onLayoutEnd=function(){}}return Object(Lo.default)(u,[{key:"layout",value:function(t){return this.init(t),this.execute(!0)}},{key:"init",value:function(t){this.nodes=t.nodes||[],this.edges=t.edges||[],this.combos=t.combos||[]}},{key:"execute",value:function(t){}},{key:"executeWithWorker",value:function(){}},{key:"getDefaultCfg",value:function(){return{}}},{key:"updateCfg",value:function(t){t&&Object.assign(this,t)}},{key:"getType",value:function(){return"base"}},{key:"destroy",value:function(){this.nodes=null,this.edges=null,this.combos=null,this.positions=null,this.destroyed=!0}}]),u}(),rc=function(n){return typeof n=="string"},Ph=function(n){var t=Object.create(null);return function(e){var r=t[e];return r||(t[e]=n(e))}},bd=/-(\w)/g,Ih=Ph(function(u){return u.replace(bd,function(n,t){return t?t.toUpperCase():""})}),ms=Array.isArray,xa=function(n){return typeof n=="number"},Ef=function(n){return Number.isNaN(Number(n))},av=function(n){var t=parseFloat(n);return Ef(t)?n:t},jc=function(n,t,e){for(var r=[],o=0;o<n;o++)r[o]=0;return e&&e.forEach(function(l){l.source&&(r[t[l.source]]+=1),l.target&&(r[t[l.target]]+=1)}),r},jh=function(n){for(var t=[],e=n.length,r=0;r<e;r+=1){t[r]=[];for(var o=0;o<e;o+=1)r===o?t[r][o]=0:n[r][o]===0||!n[r][o]?t[r][o]=Infinity:t[r][o]=n[r][o]}for(var l=0;l<e;l+=1)for(var v=0;v<e;v+=1)for(var b=0;b<e;b+=1)t[v][b]>t[v][l]+t[l][b]&&(t[v][b]=t[v][l]+t[l][b]);return t},Lh=function(n,t){var e=n.nodes,r=n.edges,o=[],l={};if(!e)throw new Error("invalid nodes data!");return e&&e.forEach(function(v,b){l[v.id]=b;var L=[];o.push(L)}),r&&r.forEach(function(v){var b=v.source,L=v.target,F=l[b],U=l[L];o[F][U]=1,t||(o[U][F]=1)}),o},Bh=function(n,t){var e=[];return n.forEach(function(r){var o=[];r.forEach(function(l){o.push(l*t)}),e.push(o)}),e},th=function u(n,t){if(n&&n.children){for(var e=n.children.length-1;e>=0;e--)if(!u(n.children[e],t))return}return!!t(n)},Al=function(n,t){typeof t=="function"&&th(n,t)},Of=function(n){return n!==null&&typeof n=="object"},xf=function u(n){if(n===null)return n;if(n instanceof Date)return new Date(n.getTime());if(n instanceof Array){var t=[];return n.forEach(function(r){t.push(r)}),t.map(function(r){return u(r)})}if(typeof n=="object"&&n!=={}){var e=Object.assign({},n);return Object.keys(e).forEach(function(r){e[r]=u(e[r])}),e}return n},Bu=function(n){return typeof n=="function"},Cu=new Map,$o=function(n,t){if(Cu.get(n)&&console.warn("The layout with the name ".concat(n," exists already, it will be overridden")),Of(t)){var e=function(r){Object(vs.default)(l,r);var o=Object(Ko.default)(l);function l(v){var b;Object(Ao.default)(this,l),b=o.call(this);var L=Object(Dh.a)(b),F={},U=L.getDefaultCfg();return Object.assign(F,U,t,v),Object.keys(F).forEach(function(rt){var ht=F[rt];L[rt]=ht}),b}return l}(Ds);Cu.set(n,e)}else Cu.set(n,t)},Cf=function(n){Cu.has(n)&&Cu.delete(n)},Lc=function(n){return Cu.has(n)?Cu.get(n):null},Af=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.begin=[0,0],r.preventOverlap=!0,r.preventOverlapPadding=10,r.condense=!1,r.sortBy="degree",r.nodeSize=30,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.row=0,r.col=0,r.cellWidth=0,r.cellHeight=0,r.cellUsed={},r.id2manPos={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{begin:[0,0],preventOverlap:!0,preventOverlapPadding:10,condense:!1,rows:void 0,cols:void 0,position:void 0,sortBy:"degree",nodeSize:30}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=o.length,v=r.begin;if(l===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(l===1){o[0].x=v[0],o[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var b=r.edges,L=[];o.forEach(function(ye){L.push(ye)});var F={};if(L.forEach(function(ye,xe){F[ye.id]=xe}),(r.sortBy==="degree"||!rc(r.sortBy)||L[0][r.sortBy]===void 0)&&(r.sortBy="degree",Ef(o[0].degree))){var U=jc(L.length,F,b);L.forEach(function(ye,xe){ye.degree=U[xe]})}L.sort(function(ye,xe){return xe[r.sortBy]-ye[r.sortBy]}),!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var rt=r.rows,ht=r.cols!=null?r.cols:r.columns;if(r.cells=l,rt!=null&&ht!=null?(r.rows=rt,r.cols=ht):rt!=null&&ht==null?(r.rows=rt,r.cols=Math.ceil(r.cells/r.rows)):rt==null&&ht!=null?(r.cols=ht,r.rows=Math.ceil(r.cells/r.cols)):(r.splits=Math.sqrt(r.cells*r.height/r.width),r.rows=Math.round(r.splits),r.cols=Math.round(r.width/r.height*r.splits)),r.cols*r.rows>r.cells){var bt=r.small(),At=r.large();(bt-1)*At>=r.cells?r.small(bt-1):(At-1)*bt>=r.cells&&r.large(At-1)}else for(;r.cols*r.rows<r.cells;){var wt=r.small(),kt=r.large();(kt+1)*wt>=r.cells?r.large(kt+1):r.small(wt+1)}r.cellWidth=r.width/r.cols,r.cellHeight=r.height/r.rows,r.condense&&(r.cellWidth=0,r.cellHeight=0),r.preventOverlap&&L.forEach(function(ye){(!ye.x||!ye.y)&&(ye.x=0,ye.y=0);var xe,je;ms(ye.size)?(xe=ye.size[0],je=ye.size[1]):xa(ye.size)&&(xe=ye.size,je=ye.size),(xe===void 0||je===void 0)&&(ms(r.nodeSize)?(xe=r.nodeSize[0],je=r.nodeSize[1]):xa(r.nodeSize)?(xe=r.nodeSize,je=r.nodeSize):(xe=30,je=30));var We=r.preventOverlapPadding,Be=xe+We,qe=je+We;r.cellWidth=Math.max(r.cellWidth,Be),r.cellHeight=Math.max(r.cellHeight,qe)}),r.cellUsed={},r.row=0,r.col=0,r.id2manPos={};for(var Ut=0;Ut<L.length;Ut++){var Kt=L[Ut],qt=void 0;if(r.position&&(qt=r.position(Kt)),qt&&(qt.row!==void 0||qt.col!==void 0)){var ne={row:qt.row,col:qt.col};if(ne.col===void 0)for(ne.col=0;r.used(ne.row,ne.col);)ne.col++;else if(ne.row===void 0)for(ne.row=0;r.used(ne.row,ne.col);)ne.row++;r.id2manPos[Kt.id]=ne,r.use(ne.row,ne.col)}r.getPos(Kt)}return r.onLayoutEnd&&r.onLayoutEnd(),{edges:b,nodes:L}}},{key:"small",value:function(r){var o=this,l,v=o.rows||5,b=o.cols||5;if(r==null)l=Math.min(v,b);else{var L=Math.min(v,b);L===o.rows?o.rows=r:o.cols=r}return l}},{key:"large",value:function(r){var o=this,l,v=o.rows||5,b=o.cols||5;if(r==null)l=Math.max(v,b);else{var L=Math.max(v,b);L===o.rows?o.rows=r:o.cols=r}return l}},{key:"used",value:function(r,o){var l=this;return l.cellUsed["c-".concat(r,"-").concat(o)]||!1}},{key:"use",value:function(r,o){var l=this;l.cellUsed["c-".concat(r,"-").concat(o)]=!0}},{key:"moveToNextCell",value:function(){var r=this,o=r.cols||5;r.col++,r.col>=o&&(r.col=0,r.row++)}},{key:"getPos",value:function(r){var o=this,l=o.begin,v=o.cellWidth,b=o.cellHeight,L,F,U=o.id2manPos[r.id];if(U)L=U.col*v+v/2+l[0],F=U.row*b+b/2+l[1];else{for(;o.used(o.row,o.col);)o.moveToNextCell();L=o.col*v+v/2+l[0],F=o.row*b+b/2+l[1],o.use(o.row,o.col),o.moveToNextCell()}r.x=L,r.y=F}},{key:"getType",value:function(){return"grid"}}]),t}(Ds),Sf=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],width:300,height:300}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=.9,v=r.center;return!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),o&&o.forEach(function(b){b.x=(Math.random()-.5)*l*r.width+v[0],b.y=(Math.random()-.5)*l*r.height+v[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:this.edges}}},{key:"getType",value:function(){return"random"}}]),t}(Ds),nc=function(n,t){var e;return n?xa(n)?e=function(o){return n}:e=n:e=function(o){return t||1},e},Bc=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=.5,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.preventOverlap=!0,r.tick=function(){},r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:500,gravity:10,enableTick:!0}}},{key:"execute",value:function(){var r=this,o=r.nodes;if(r.timeInterval!==void 0&&typeof window!="undefined"&&window.clearInterval(r.timeInterval),!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var l=r.center;if(o.length===1){o[0].x=l[0],o[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}var v={},b={};o.forEach(function(bt,At){xa(bt.x)||(bt.x=Math.random()*r.width),xa(bt.y)||(bt.y=Math.random()*r.height),v[bt.id]=bt,b[bt.id]=At}),r.nodeMap=v,r.nodeIdxMap=b,r.linkDistance=nc(r.linkDistance,1),r.nodeStrength=nc(r.nodeStrength,1),r.edgeStrength=nc(r.edgeStrength,1);var L=r.nodeSize,F;if(r.preventOverlap){var U=r.nodeSpacing,rt;xa(U)?rt=function(){return U}:Bu(U)?rt=U:rt=function(){return 0},L?ms(L)?F=function(At){var wt=L[0]>L[1]?L[0]:L[1];return wt+rt(At)}:F=function(At){return L+rt(At)}:F=function(At){if(At.size){if(ms(At.size)){var wt=At.size[0]>At.size[1]?At.size[0]:At.size[1];return wt+rt(At)}return At.size+rt(At)}return 10+rt(At)}}r.nodeSize=F;var ht=r.edges;r.degrees=jc(o.length,r.nodeIdxMap,ht),r.getMass||(r.getMass=function(bt){return r.degrees[r.nodeIdxMap[bt.id]]||1}),r.run()}},{key:"run",value:function(){var r=this,o=r.nodes,l=r.edges,v=r.maxIteration;if(typeof window!="undefined"){var b=0;this.timeInterval=window.setInterval(function(){var L=[],F=[];if(!!o){o.forEach(function(bt,At){L[2*At]=0,L[2*At+1]=0,F[2*At]=0,F[2*At+1]=0}),r.calRepulsive(L,o),l&&r.calAttractive(L,l),r.calGravity(L,o);var U=Math.max(.02,r.interval-b*.002);r.updateVelocity(L,F,U,o);var rt=[];o.forEach(function(bt){rt.push({x:bt.x,y:bt.y})}),r.updatePosition(F,U,o),r.tick&&r.tick();var ht=0;o.forEach(function(bt,At){var wt=bt.x-rt[At].x,kt=bt.y-rt[At].y;ht+=Math.sqrt(wt*wt+kt*kt)}),ht/=o.length,ht<r.minMovement&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd()),b++,b>v&&(window.clearInterval(r.timeInterval),r.onLayoutEnd&&r.onLayoutEnd())}},0)}}},{key:"calRepulsive",value:function(r,o){var l=this,v=l.getMass,b=l.nodeStrength,L=l.factor,F=l.coulombDisScale,U=l.preventOverlap,rt=l.nodeSize;o.forEach(function(ht,bt){var At=v?v(ht):1;o.forEach(function(wt,kt){if(!(bt>=kt)){var Ut=ht.x-wt.x,Kt=ht.y-wt.y,qt=Math.sqrt(Ut*Ut+Kt*Kt)+.01,ne=(qt+.1)*F,ye=Ut/qt,xe=Kt/qt,je=(b(ht)+b(wt))/2*L/(ne*ne),We=v?v(wt):1;if(r[2*bt]+=ye*je/At,r[2*bt+1]+=xe*je/At,r[2*kt]-=ye*je/We,r[2*kt+1]-=xe*je/We,U&&qt<(rt(ht)+rt(wt))/2){var Be=(b(ht)+b(wt))/2/(qt*qt);r[2*bt]+=ye*Be/At,r[2*bt+1]+=xe*Be/At,r[2*kt]-=ye*Be/We,r[2*kt+1]-=xe*Be/We}}})})}},{key:"calAttractive",value:function(r,o){var l=this,v=l.nodeMap,b=l.nodeIdxMap,L=l.linkDistance,F=l.edgeStrength,U=l.getMass;o.forEach(function(rt,ht){var bt=v[rt.source],At=v[rt.target],wt=At.x-bt.x,kt=At.y-bt.y,Ut=Math.sqrt(wt*wt+kt*kt)+.01,Kt=wt/Ut,qt=kt/Ut,ne=L(rt)||1,ye=ne-Ut,xe=ye*F(rt),je=b[rt.source],We=b[rt.target],Be=U?U(bt):1,qe=U?U(At):1;r[2*je]-=Kt*xe/Be,r[2*je+1]-=qt*xe/Be,r[2*We]+=Kt*xe/qe,r[2*We+1]+=qt*xe/qe})}},{key:"calGravity",value:function(r,o){for(var l=this,v=l.center,b=l.gravity,L=l.degrees,F=o.length,U=0;U<F;U++){var rt=o[U],ht=rt.x-v[0],bt=rt.y-v[1],At=b;if(l.getCenter){var wt=l.getCenter(rt,L[U]);wt&&xa(wt[0])&&xa(wt[1])&&xa(wt[2])&&(ht=rt.x-wt[0],bt=rt.y-wt[1],At=wt[2])}!At||(r[2*U]-=At*ht,r[2*U+1]-=At*bt)}}},{key:"updateVelocity",value:function(r,o,l,v){var b=this,L=l*b.damping;v.forEach(function(F,U){var rt=r[2*U]*L||.01,ht=r[2*U+1]*L||.01,bt=Math.sqrt(rt*rt+ht*ht);if(bt>b.maxSpeed){var At=b.maxSpeed/bt;rt=At*rt,ht=At*ht}o[2*U]=rt,o[2*U+1]=ht})}},{key:"updatePosition",value:function(r,o,l){l.forEach(function(v,b){var L=r[2*b]*o,F=r[2*b+1]*o;v.x+=L,v.y+=F})}},{key:"stop",value:function(){this.timeInterval&&typeof window!="undefined"&&window.clearInterval(this.timeInterval)}},{key:"destroy",value:function(){var r=this;r.stop(),r.tick=null,r.nodes=null,r.edges=null,r.destroyed=!0}},{key:"getType",value:function(){return"gForce"}}]),t}(Ds),ac=function(u){var n=+this._x.call(null,u),t=+this._y.call(null,u);return ic(this.cover(n,t),n,t,u)};function ic(u,n,t,e){if(isNaN(n)||isNaN(t))return u;var r,o=u._root,l={data:e},v=u._x0,b=u._y0,L=u._x1,F=u._y1,U,rt,ht,bt,At,wt,kt,Ut;if(!o)return u._root=l,u;for(;o.length;)if((At=n>=(U=(v+L)/2))?v=U:L=U,(wt=t>=(rt=(b+F)/2))?b=rt:F=rt,r=o,!(o=o[kt=wt<<1|At]))return r[kt]=l,u;if(ht=+u._x.call(null,o.data),bt=+u._y.call(null,o.data),n===ht&&t===bt)return l.next=o,r?r[kt]=l:u._root=l,u;do r=r?r[kt]=new Array(4):u._root=new Array(4),(At=n>=(U=(v+L)/2))?v=U:L=U,(wt=t>=(rt=(b+F)/2))?b=rt:F=rt;while((kt=wt<<1|At)==(Ut=(bt>=rt)<<1|ht>=U));return r[Ut]=o,r[kt]=l,u}function wc(u){var n,t,e=u.length,r,o,l=new Array(e),v=new Array(e),b=Infinity,L=Infinity,F=-Infinity,U=-Infinity;for(t=0;t<e;++t)isNaN(r=+this._x.call(null,n=u[t]))||isNaN(o=+this._y.call(null,n))||(l[t]=r,v[t]=o,r<b&&(b=r),r>F&&(F=r),o<L&&(L=o),o>U&&(U=o));if(b>F||L>U)return this;for(this.cover(b,L).cover(F,U),t=0;t<e;++t)ic(this,l[t],v[t],u[t]);return this}var Rc=function(u,n){if(isNaN(u=+u)||isNaN(n=+n))return this;var t=this._x0,e=this._y0,r=this._x1,o=this._y1;if(isNaN(t))r=(t=Math.floor(u))+1,o=(e=Math.floor(n))+1;else{for(var l=r-t||1,v=this._root,b,L;t>u||u>=r||e>n||n>=o;)switch(L=(n<e)<<1|u<t,b=new Array(4),b[L]=v,v=b,l*=2,L){case 0:r=t+l,o=e+l;break;case 1:t=r-l,o=e+l;break;case 2:r=t+l,e=o-l;break;case 3:t=r-l,e=o-l;break}this._root&&this._root.length&&(this._root=v)}return this._x0=t,this._y0=e,this._x1=r,this._y1=o,this},wh=function(){var u=[];return this.visit(function(n){if(!n.length)do u.push(n.data);while(n=n.next)}),u},Fc=function(u){return arguments.length?this.cover(+u[0][0],+u[0][1]).cover(+u[1][0],+u[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ts=function(u,n,t,e,r){this.node=u,this.x0=n,this.y0=t,this.x1=e,this.y1=r},Rh=function(u,n,t){var e,r=this._x0,o=this._y0,l,v,b,L,F=this._x1,U=this._y1,rt=[],ht=this._root,bt,At;for(ht&&rt.push(new ts(ht,r,o,F,U)),t==null?t=Infinity:(r=u-t,o=n-t,F=u+t,U=n+t,t*=t);bt=rt.pop();)if(!(!(ht=bt.node)||(l=bt.x0)>F||(v=bt.y0)>U||(b=bt.x1)<r||(L=bt.y1)<o))if(ht.length){var wt=(l+b)/2,kt=(v+L)/2;rt.push(new ts(ht[3],wt,kt,b,L),new ts(ht[2],l,kt,wt,L),new ts(ht[1],wt,v,b,kt),new ts(ht[0],l,v,wt,kt)),(At=(n>=kt)<<1|u>=wt)&&(bt=rt[rt.length-1],rt[rt.length-1]=rt[rt.length-1-At],rt[rt.length-1-At]=bt)}else{var Ut=u-+this._x.call(null,ht.data),Kt=n-+this._y.call(null,ht.data),qt=Ut*Ut+Kt*Kt;if(qt<t){var ne=Math.sqrt(t=qt);r=u-ne,o=n-ne,F=u+ne,U=n+ne,e=ht.data}}return e},eh=function(u){if(isNaN(F=+this._x.call(null,u))||isNaN(U=+this._y.call(null,u)))return this;var n,t=this._root,e,r,o,l=this._x0,v=this._y0,b=this._x1,L=this._y1,F,U,rt,ht,bt,At,wt,kt;if(!t)return this;if(t.length)for(;;){if((bt=F>=(rt=(l+b)/2))?l=rt:b=rt,(At=U>=(ht=(v+L)/2))?v=ht:L=ht,n=t,!(t=t[wt=At<<1|bt]))return this;if(!t.length)break;(n[wt+1&3]||n[wt+2&3]||n[wt+3&3])&&(e=n,kt=wt)}for(;t.data!==u;)if(r=t,!(t=t.next))return this;return(o=t.next)&&delete t.next,r?(o?r.next=o:delete r.next,this):n?(o?n[wt]=o:delete n[wt],(t=n[0]||n[1]||n[2]||n[3])&&t===(n[3]||n[2]||n[1]||n[0])&&!t.length&&(e?e[kt]=t:this._root=t),this):(this._root=o,this)};function Ed(u){for(var n=0,t=u.length;n<t;++n)this.remove(u[n]);return this}var Fh=function(){return this._root},Od=function(){var u=0;return this.visit(function(n){if(!n.length)do++u;while(n=n.next)}),u},Yu=function(u){var n=[],t,e=this._root,r,o,l,v,b;for(e&&n.push(new ts(e,this._x0,this._y0,this._x1,this._y1));t=n.pop();)if(!u(e=t.node,o=t.x0,l=t.y0,v=t.x1,b=t.y1)&&e.length){var L=(o+v)/2,F=(l+b)/2;(r=e[3])&&n.push(new ts(r,L,F,v,b)),(r=e[2])&&n.push(new ts(r,o,F,L,b)),(r=e[1])&&n.push(new ts(r,L,l,v,F)),(r=e[0])&&n.push(new ts(r,o,l,L,F))}return this},Nh=function(u){var n=[],t=[],e;for(this._root&&n.push(new ts(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,l=e.x0,v=e.y0,b=e.x1,L=e.y1,F=(l+b)/2,U=(v+L)/2;(o=r[0])&&n.push(new ts(o,l,v,F,U)),(o=r[1])&&n.push(new ts(o,F,v,b,U)),(o=r[2])&&n.push(new ts(o,l,U,F,L)),(o=r[3])&&n.push(new ts(o,F,U,b,L))}t.push(e)}for(;e=t.pop();)u(e.node,e.x0,e.y0,e.x1,e.y1);return this};function Gh(u){return u[0]}var rh=function(u){return arguments.length?(this._x=u,this):this._x};function xd(u){return u[1]}var nh=function(u){return arguments.length?(this._y=u,this):this._y};function ah(u,n,t){var e=new Ys(n==null?Gh:n,t==null?xd:t,NaN,NaN,NaN,NaN);return u==null?e:e.addAll(u)}function Ys(u,n,t,e,r,o){this._x=u,this._y=n,this._x0=t,this._y0=e,this._x1=r,this._y1=o,this._root=void 0}function ih(u){for(var n={data:u.data},t=n;u=u.next;)t=t.next={data:u.data};return n}var Uo=ah.prototype=Ys.prototype;Uo.copy=function(){var u=new Ys(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,t,e;if(!n)return u;if(!n.length)return u._root=ih(n),u;for(t=[{source:n,target:u._root=new Array(4)}];n=t.pop();)for(var r=0;r<4;++r)(e=n.source[r])&&(e.length?t.push({source:e,target:n.target[r]=new Array(4)}):n.target[r]=ih(e));return u},Uo.add=ac,Uo.addAll=wc,Uo.cover=Rc,Uo.data=wh,Uo.extent=Fc,Uo.find=Rh,Uo.remove=eh,Uo.removeAll=Ed,Uo.root=Fh,Uo.size=Od,Uo.visit=Yu,Uo.visitAfter=Nh,Uo.x=rh,Uo.y=nh;var Zo=function(u){return function(){return u}},Ku=function(u){return(u()-.5)*1e-6},oh={value:function(){}};function Nc(){for(var u=0,n=arguments.length,t={},e;u<n;++u){if(!(e=arguments[u]+"")||e in t||/[\s.]/.test(e))throw new Error("illegal type: "+e);t[e]=[]}return new Gc(t)}function Gc(u){this._=u}function bs(u,n){return u.trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})}Gc.prototype=Nc.prototype={constructor:Gc,on:function(n,t){var e=this._,r=bs(n+"",e),o,l=-1,v=r.length;if(arguments.length<2){for(;++l<v;)if((o=(n=r[l]).type)&&(o=sl(e[o],n.name)))return o;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++l<v;)if(o=(n=r[l]).type)e[o]=Wo(e[o],n.name,t);else if(t==null)for(o in e)e[o]=Wo(e[o],n.name,null);return this},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new Gc(n)},call:function(n,t){if((o=arguments.length-2)>0)for(var e=new Array(o),r=0,o,l;r<o;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(l=this._[n],r=0,o=l.length;r<o;++r)l[r].value.apply(t,e)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],o=0,l=r.length;o<l;++o)r[o].value.apply(t,e)}};function sl(u,n){for(var t=0,e=u.length,r;t<e;++t)if((r=u[t]).name===n)return r.value}function Wo(u,n,t){for(var e=0,r=u.length;e<r;++e)if(u[e].name===n){u[e]=oh,u=u.slice(0,e).concat(u.slice(e+1));break}return t!=null&&u.push({name:n,value:t}),u}var Ks=Nc,Sl=0,Uc=0,Wc=0,Uh=1e3,zc,Ml,kc=0,Tl=0,Mf=0,Dl=typeof performance=="object"&&performance.now?performance:Date,Wh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(u){setTimeout(u,17)};function sh(){return Tl||(Wh(wu),Tl=Dl.now()+Mf)}function wu(){Tl=0}function oc(){this._call=this._time=this._next=null}oc.prototype=zh.prototype={constructor:oc,restart:function(n,t,e){if(typeof n!="function")throw new TypeError("callback is not a function");e=(e==null?sh():+e)+(t==null?0:+t),!this._next&&Ml!==this&&(Ml?Ml._next=this:zc=this,Ml=this),this._call=n,this._time=e,ge()},stop:function(){this._call&&(this._call=null,this._time=Infinity,ge())}};function zh(u,n,t){var e=new oc;return e.restart(u,n,t),e}function Cd(){sh(),++Sl;for(var u=zc,n;u;)(n=Tl-u._time)>=0&&u._call.call(null,n),u=u._next;--Sl}function uh(){Tl=(kc=Dl.now())+Mf,Sl=Uc=0;try{Cd()}finally{Sl=0,ie(),Tl=0}}function Ad(){var u=Dl.now(),n=u-kc;n>Uh&&(Mf-=n,kc=u)}function ie(){for(var u,n=zc,t,e=Infinity;n;)n._call?(e>n._time&&(e=n._time),u=n,n=n._next):(t=n._next,n._next=null,n=u?u._next=t:zc=t);Ml=u,ge(e)}function ge(u){if(!Sl){Uc&&(Uc=clearTimeout(Uc));var n=u-Tl;n>24?(u<Infinity&&(Uc=setTimeout(uh,u-Dl.now()-Mf)),Wc&&(Wc=clearInterval(Wc))):(Wc||(kc=Dl.now(),Wc=setInterval(Ad,Uh)),Sl=1,Wh(uh))}}var ze=1664525,Dr=1013904223,$r=4294967296,kr=function(){var u=1;return function(){return(u=(ze*u+Dr)%$r)/$r}};function Pr(u){return u.x}function pn(u){return u.y}var jn=10,An=Math.PI*(3-Math.sqrt(5)),En=function(u){var n,t=1,e=.001,r=1-Math.pow(e,1/300),o=0,l=.6,v=new Map,b=zh(U),L=Ks("tick","end"),F=kr();u==null&&(u=[]);function U(){rt(),L.call("tick",n),t<e&&(b.stop(),L.call("end",n))}function rt(At){var wt,kt=u.length,Ut;At===void 0&&(At=1);for(var Kt=0;Kt<At;++Kt)for(t+=(o-t)*r,v.forEach(function(qt){qt(t)}),wt=0;wt<kt;++wt)Ut=u[wt],Ut.fx==null?Ut.x+=Ut.vx*=l:(Ut.x=Ut.fx,Ut.vx=0),Ut.fy==null?Ut.y+=Ut.vy*=l:(Ut.y=Ut.fy,Ut.vy=0);return n}function ht(){for(var At=0,wt=u.length,kt;At<wt;++At){if(kt=u[At],kt.index=At,kt.fx!=null&&(kt.x=kt.fx),kt.fy!=null&&(kt.y=kt.fy),isNaN(kt.x)||isNaN(kt.y)){var Ut=jn*Math.sqrt(.5+At),Kt=At*An;kt.x=Ut*Math.cos(Kt),kt.y=Ut*Math.sin(Kt)}(isNaN(kt.vx)||isNaN(kt.vy))&&(kt.vx=kt.vy=0)}}function bt(At){return At.initialize&&At.initialize(u,F),At}return ht(),n={tick:rt,restart:function(){return b.restart(U),n},stop:function(){return b.stop(),n},nodes:function(wt){return arguments.length?(u=wt,ht(),v.forEach(bt),n):u},alpha:function(wt){return arguments.length?(t=+wt,n):t},alphaMin:function(wt){return arguments.length?(e=+wt,n):e},alphaDecay:function(wt){return arguments.length?(r=+wt,n):+r},alphaTarget:function(wt){return arguments.length?(o=+wt,n):o},velocityDecay:function(wt){return arguments.length?(l=1-wt,n):1-l},randomSource:function(wt){return arguments.length?(F=wt,v.forEach(bt),n):F},force:function(wt,kt){return arguments.length>1?(kt==null?v.delete(wt):v.set(wt,bt(kt)),n):v.get(wt)},find:function(wt,kt,Ut){var Kt=0,qt=u.length,ne,ye,xe,je,We;for(Ut==null?Ut=Infinity:Ut*=Ut,Kt=0;Kt<qt;++Kt)je=u[Kt],ne=wt-je.x,ye=kt-je.y,xe=ne*ne+ye*ye,xe<Ut&&(We=je,Ut=xe);return We},on:function(wt,kt){return arguments.length>1?(L.on(wt,kt),n):L.on(wt)}}},Ln=function(){var u,n,t,e,r=Zo(-30),o,l=1,v=Infinity,b=.81;function L(ht){var bt,At=u.length,wt=ah(u,Pr,pn).visitAfter(U);for(e=ht,bt=0;bt<At;++bt)n=u[bt],wt.visit(rt)}function F(){if(!!u){var ht,bt=u.length,At;for(o=new Array(bt),ht=0;ht<bt;++ht)At=u[ht],o[At.index]=+r(At,ht,u)}}function U(ht){var bt=0,At,wt,kt=0,Ut,Kt,qt;if(ht.length){for(Ut=Kt=qt=0;qt<4;++qt)(At=ht[qt])&&(wt=Math.abs(At.value))&&(bt+=At.value,kt+=wt,Ut+=wt*At.x,Kt+=wt*At.y);ht.x=Ut/kt,ht.y=Kt/kt}else{At=ht,At.x=At.data.x,At.y=At.data.y;do bt+=o[At.data.index];while(At=At.next)}ht.value=bt}function rt(ht,bt,At,wt){if(!ht.value)return!0;var kt=ht.x-n.x,Ut=ht.y-n.y,Kt=wt-bt,qt=kt*kt+Ut*Ut;if(Kt*Kt/b<qt)return qt<v&&(kt===0&&(kt=Ku(t),qt+=kt*kt),Ut===0&&(Ut=Ku(t),qt+=Ut*Ut),qt<l&&(qt=Math.sqrt(l*qt)),n.vx+=kt*ht.value*e/qt,n.vy+=Ut*ht.value*e/qt),!0;if(ht.length||qt>=v)return;(ht.data!==n||ht.next)&&(kt===0&&(kt=Ku(t),qt+=kt*kt),Ut===0&&(Ut=Ku(t),qt+=Ut*Ut),qt<l&&(qt=Math.sqrt(l*qt)));do ht.data!==n&&(Kt=o[ht.data.index]*e/qt,n.vx+=kt*Kt,n.vy+=Ut*Kt);while(ht=ht.next)}return L.initialize=function(ht,bt){u=ht,t=bt,F()},L.strength=function(ht){return arguments.length?(r=typeof ht=="function"?ht:Zo(+ht),F(),L):r},L.distanceMin=function(ht){return arguments.length?(l=ht*ht,L):Math.sqrt(l)},L.distanceMax=function(ht){return arguments.length?(v=ht*ht,L):Math.sqrt(v)},L.theta=function(ht){return arguments.length?(b=ht*ht,L):Math.sqrt(b)},L},$n=function(u,n){var t,e=1;u==null&&(u=0),n==null&&(n=0);function r(){var o,l=t.length,v,b=0,L=0;for(o=0;o<l;++o)v=t[o],b+=v.x,L+=v.y;for(b=(b/l-u)*e,L=(L/l-n)*e,o=0;o<l;++o)v=t[o],v.x-=b,v.y-=L}return r.initialize=function(o){t=o},r.x=function(o){return arguments.length?(u=+o,r):u},r.y=function(o){return arguments.length?(n=+o,r):n},r.strength=function(o){return arguments.length?(e=+o,r):e},r};function Nn(u){return u.index}function Mn(u,n){var t=u.get(n);if(!t)throw new Error("node not found: "+n);return t}var Mr=function(u){var n=Nn,t=U,e,r=Zo(30),o,l,v,b,L,F=1;u==null&&(u=[]);function U(wt){return 1/Math.min(v[wt.source.index],v[wt.target.index])}function rt(wt){for(var kt=0,Ut=u.length;kt<F;++kt)for(var Kt=0,qt,ne,ye,xe,je,We,Be;Kt<Ut;++Kt)qt=u[Kt],ne=qt.source,ye=qt.target,xe=ye.x+ye.vx-ne.x-ne.vx||Ku(L),je=ye.y+ye.vy-ne.y-ne.vy||Ku(L),We=Math.sqrt(xe*xe+je*je),We=(We-o[Kt])/We*wt*e[Kt],xe*=We,je*=We,ye.vx-=xe*(Be=b[Kt]),ye.vy-=je*Be,ne.vx+=xe*(Be=1-Be),ne.vy+=je*Be}function ht(){if(!!l){var wt,kt=l.length,Ut=u.length,Kt=new Map(l.map(function(ne,ye){return[n(ne,ye,l),ne]})),qt;for(wt=0,v=new Array(kt);wt<Ut;++wt)qt=u[wt],qt.index=wt,typeof qt.source!="object"&&(qt.source=Mn(Kt,qt.source)),typeof qt.target!="object"&&(qt.target=Mn(Kt,qt.target)),v[qt.source.index]=(v[qt.source.index]||0)+1,v[qt.target.index]=(v[qt.target.index]||0)+1;for(wt=0,b=new Array(Ut);wt<Ut;++wt)qt=u[wt],b[wt]=v[qt.source.index]/(v[qt.source.index]+v[qt.target.index]);e=new Array(Ut),bt(),o=new Array(Ut),At()}}function bt(){if(!!l)for(var wt=0,kt=u.length;wt<kt;++wt)e[wt]=+t(u[wt],wt,u)}function At(){if(!!l)for(var wt=0,kt=u.length;wt<kt;++wt)o[wt]=+r(u[wt],wt,u)}return rt.initialize=function(wt,kt){l=wt,L=kt,ht()},rt.links=function(wt){return arguments.length?(u=wt,ht(),rt):u},rt.id=function(wt){return arguments.length?(n=wt,rt):n},rt.iterations=function(wt){return arguments.length?(F=+wt,rt):F},rt.strength=function(wt){return arguments.length?(t=typeof wt=="function"?wt:Zo(+wt),bt(),rt):t},rt.distance=function(wt){return arguments.length?(r=typeof wt=="function"?wt:Zo(+wt),At(),rt):r},rt};function Tr(u){return u.x+u.vx}function xn(u){return u.y+u.vy}var Vn=function(u){var n,t,e,r=1,o=1;typeof u!="function"&&(u=Zo(u==null?1:+u));function l(){for(var L,F=n.length,U,rt,ht,bt,At,wt,kt=0;kt<o;++kt)for(U=ah(n,Tr,xn).visitAfter(v),L=0;L<F;++L)rt=n[L],At=t[rt.index],wt=At*At,ht=rt.x+rt.vx,bt=rt.y+rt.vy,U.visit(Ut);function Ut(Kt,qt,ne,ye,xe){var je=Kt.data,We=Kt.r,Be=At+We;if(je){if(je.index>rt.index){var qe=ht-je.x-je.vx,sr=bt-je.y-je.vy,hn=qe*qe+sr*sr;hn<Be*Be&&(qe===0&&(qe=Ku(e),hn+=qe*qe),sr===0&&(sr=Ku(e),hn+=sr*sr),hn=(Be-(hn=Math.sqrt(hn)))/hn*r,rt.vx+=(qe*=hn)*(Be=(We*=We)/(wt+We)),rt.vy+=(sr*=hn)*Be,je.vx-=qe*(Be=1-Be),je.vy-=sr*Be)}return}return qt>ht+Be||ye<ht-Be||ne>bt+Be||xe<bt-Be}}function v(L){if(L.data)return L.r=t[L.data.index];for(var F=L.r=0;F<4;++F)L[F]&&L[F].r>L.r&&(L.r=L[F].r)}function b(){if(!!n){var L,F=n.length,U;for(t=new Array(F),L=0;L<F;++L)U=n[L],t[U.index]=+u(U,L,n)}}return l.initialize=function(L,F){n=L,e=F,b()},l.iterations=function(L){return arguments.length?(o=+L,l):o},l.strength=function(L){return arguments.length?(r=+L,l):r},l.radius=function(L){return arguments.length?(u=typeof L=="function"?L:Zo(+L),b(),l):u},l},Kr=a("tJVT"),Ta=function(u){var n=Zo(.1),t,e,r;typeof u!="function"&&(u=Zo(u==null?0:+u));function o(v){for(var b=0,L=t.length,F;b<L;++b)F=t[b],F.vx+=(r[b]-F.x)*e[b]*v}function l(){if(!!t){var v,b=t.length;for(e=new Array(b),r=new Array(b),v=0;v<b;++v)e[v]=isNaN(r[v]=+u(t[v],v,t))?0:+n(t[v],v,t)}}return o.initialize=function(v){t=v,l()},o.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Zo(+v),l(),o):n},o.x=function(v){return arguments.length?(u=typeof v=="function"?v:Zo(+v),l(),o):u},o},Sn=function(u){var n=Zo(.1),t,e,r;typeof u!="function"&&(u=Zo(u==null?0:+u));function o(v){for(var b=0,L=t.length,F;b<L;++b)F=t[b],F.vy+=(r[b]-F.y)*e[b]*v}function l(){if(!!t){var v,b=t.length;for(e=new Array(b),r=new Array(b),v=0;v<b;++v)e[v]=isNaN(r[v]=+u(t[v],v,t))?0:+n(t[v],v,t)}}return o.initialize=function(v){t=v,l()},o.strength=function(v){return arguments.length?(n=typeof v=="function"?v:Zo(+v),l(),o):n},o.y=function(v){return arguments.length?(u=typeof v=="function"?v:Zo(+v),l(),o):u},o};function sn(){function u(Cn){return function(){return Cn}}var n=function(Yn){return Yn.cluster},t=u(1),e=u(-1),r=u(100),o=u(.1),l=[0,0],v=[],b={},L=[],F=100,U=100,rt={none:{x:0,y:0}},ht=[],bt,At="force",wt=!0,kt=.1;function Ut(Cn){if(!wt)return Ut;bt.tick(),je();for(var Yn=0,li=v.length,yi,Ri=Cn*kt;Yn<li;++Yn)yi=v[Yn],yi.vx+=(rt[n(yi)].x-yi.x)*Ri,yi.vy+=(rt[n(yi)].y-yi.y)*Ri}function Kt(){!v||qt()}function qt(){if(!(!v||!v.length)){if(n(v[0])===void 0)throw Error("Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()");var Cn=ne();bt=En(Cn.nodes).force("x",Ta(F).strength(.1)).force("y",Sn(U).strength(.1)).force("collide",Vn(function(Yn){return Yn.r}).iterations(4)).force("charge",Ln().strength(e)).force("links",Mr(Cn.nodes.length?Cn.links:[]).distance(r).strength(o)),ht=bt.nodes(),je()}}function ne(){var Cn=[],Yn=[],li={},yi=[],Ri={},Zr=[];return Ri=ye(v),Zr=xe(L),yi=Object.keys(Ri),yi.forEach(function(lo,La){var oa=Ri[lo];Cn.push({id:lo,size:oa.count,r:Math.sqrt(oa.sumforceNodeSize/Math.PI)}),li[lo]=La}),Zr.forEach(function(lo){var La=li[lo.source],oa=li[lo.target];La!==void 0&&oa!==void 0&&Yn.push({source:La,target:oa,count:lo.count})}),{nodes:Cn,links:Yn}}function ye(Cn){var Yn={};return Cn.forEach(function(li){var yi=n(li);Yn[yi]||(Yn[yi]={count:0,sumforceNodeSize:0})}),Cn.forEach(function(li){var yi=n(li),Ri=t(li),Zr=Yn[yi];Zr.count=Zr.count+1,Zr.sumforceNodeSize=Zr.sumforceNodeSize+Math.PI*(Ri*Ri)*1.3,Yn[yi]=Zr}),Yn}function xe(Cn){var Yn={},li=[];Cn.forEach(function(Ri){var Zr=We(Ri),lo=0;Yn[Zr]!==void 0&&(lo=Yn[Zr]),lo+=1,Yn[Zr]=lo});var yi=Object.entries(Yn);return yi.forEach(function(Ri){var Zr=Object(Kr.default)(Ri,2),lo=Zr[0],La=Zr[1],oa=lo.split("~")[0],ao=lo.split("~")[1];oa!==void 0&&ao!==void 0&&li.push({source:oa,target:ao,count:La})}),li}function je(){return rt={none:{x:0,y:0}},ht.forEach(function(Cn){rt[Cn.id]={x:Cn.x-l[0],y:Cn.y-l[1]}}),rt}function We(Cn){var Yn=n(b[Cn.source]),li=n(b[Cn.target]);return Yn<=li?"".concat(Yn,"~").concat(li):"".concat(li,"~").concat(Yn)}function Be(Cn){b={},Cn.forEach(function(Yn){b[Yn.id]=Yn})}function qe(Cn){return arguments.length?(At=Cn,Kt(),Ut):At}function sr(Cn){return arguments.length?typeof Cn=="string"?(n=function(li){return li[Cn]},Ut):(n=Cn,Ut):n}function hn(Cn){return arguments.length?(wt=Cn,Ut):wt}function dn(Cn){return arguments.length?(kt=Cn,Ut):kt}function vn(Cn){return arguments.length?(F=Cn,Ut):F}function aa(Cn){return arguments.length?(U=Cn,Ut):U}function ra(Cn){return arguments.length?(Be(Cn||[]),v=Cn||[],Ut):v}function Rn(Cn){return arguments.length?(L=Cn||[],Kt(),Ut):L}function Gn(Cn){return arguments.length?(typeof Cn=="function"?t=Cn:t=u(+Cn),Kt(),Ut):t}function Qn(Cn){return arguments.length?(typeof Cn=="function"?e=Cn:e=u(+Cn),Kt(),Ut):e}function gn(Cn){return arguments.length?(typeof Cn=="function"?r=Cn:r=u(+Cn),Kt(),Ut):r}function Jn(Cn){return arguments.length?(typeof Cn=="function"?o=Cn:o=u(+Cn),Kt(),Ut):o}function Pa(Cn){return arguments.length?(l=Cn,Ut):l}return Ut.initialize=function(Cn){v=Cn,Kt()},Ut.template=qe,Ut.groupBy=sr,Ut.enableGrouping=hn,Ut.strength=dn,Ut.centerX=vn,Ut.centerY=aa,Ut.nodes=ra,Ut.links=Rn,Ut.forceNodeSize=Gn,Ut.nodeSize=Ut.forceNodeSize,Ut.forceCharge=Qn,Ut.forceLinkDistance=gn,Ut.forceLinkStrength=Jn,Ut.offset=Pa,Ut.getFocis=je,Ut}var fn={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},Pn=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.center=[0,0],r.nodeStrength=null,r.edgeStrength=null,r.preventOverlap=!1,r.clusterNodeStrength=null,r.clusterEdgeStrength=null,r.clusterEdgeDistance=null,r.clusterNodeSize=null,r.clusterFociStrength=null,r.linkDistance=50,r.alphaDecay=.028,r.alphaMin=.001,r.alpha=.3,r.collideStrength=1,r.workerEnabled=!1,r.tick=function(){},r.onLayoutEnd=function(){},r.ticking=void 0,e&&r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],nodeStrength:null,edgeStrength:null,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,linkDistance:50,forceSimulation:null,alphaDecay:.028,alphaMin:.001,alpha:.3,collideStrength:1,clustering:!1,clusterNodeStrength:-1,clusterEdgeStrength:.1,clusterEdgeDistance:100,clusterFociStrength:.8,clusterNodeSize:10,tick:function(){},onLayoutEnd:function(){},workerEnabled:!1}}},{key:"init",value:function(r){var o=this;o.nodes=r.nodes||[];var l=r.edges||[];o.edges=l.map(function(v){var b={},L=["targetNode","sourceNode","startPoint","endPoint"];return Object.keys(v).forEach(function(F){L.indexOf(F)>-1||(b[F]=v[F])}),b}),o.ticking=!1}},{key:"execute",value:function(r){var o=this,l=o.nodes,v=o.edges;if(!o.ticking){var b=o.forceSimulation,L=o.alphaMin,F=o.alphaDecay,U=o.alpha;if(b){if(r){if(o.clustering&&o.clusterForce&&(o.clusterForce.nodes(l),o.clusterForce.links(v)),b.nodes(l),v&&o.edgeForce)o.edgeForce.links(v);else if(v&&!o.edgeForce){var kt=Mr().id(function(Ut){return Ut.id}).links(v);o.edgeStrength&&kt.strength(o.edgeStrength),o.linkDistance&&kt.distance(o.linkDistance),o.edgeForce=kt,b.force("link",kt)}}o.preventOverlap&&o.overlapProcess(b),b.alpha(U).restart(),this.ticking=!0}else try{var rt=Ln();if(o.nodeStrength&&rt.strength(o.nodeStrength),b=En().nodes(l),o.clustering){var ht=sn();ht.centerX(o.center[0]).centerY(o.center[1]).template("force").strength(o.clusterFociStrength),v&&ht.links(v),l&&ht.nodes(l),ht.forceLinkDistance(o.clusterEdgeDistance).forceLinkStrength(o.clusterEdgeStrength).forceCharge(o.clusterNodeStrength).forceNodeSize(o.clusterNodeSize),o.clusterForce=ht,b.force("group",ht)}if(b.force("center",$n(o.center[0],o.center[1])).force("charge",rt).alpha(U).alphaDecay(F).alphaMin(L),o.preventOverlap&&o.overlapProcess(b),v){var bt=Mr().id(function(Ut){return Ut.id}).links(v);o.edgeStrength&&bt.strength(o.edgeStrength),o.linkDistance&&bt.distance(o.linkDistance),o.edgeForce=bt,b.force("link",bt)}if(o.workerEnabled&&!vi()&&(o.workerEnabled=!1,console.warn("workerEnabled option is only supported when running in web worker.")),!o.workerEnabled)b.on("tick",function(){o.tick()}).on("end",function(){o.ticking=!1,o.onLayoutEnd&&o.onLayoutEnd()}),o.ticking=!0;else{b.stop();for(var At=Ca(b),wt=1;wt<=At;wt++)b.tick(),postMessage({nodes:l,currentTick:wt,totalTicks:At,type:fn.TICK},void 0);o.ticking=!1}o.forceSimulation=b,o.ticking=!0}catch(Ut){o.ticking=!1,console.warn(Ut)}}}},{key:"overlapProcess",value:function(r){var o=this,l=o.nodeSize,v=o.nodeSpacing,b,L,F=o.collideStrength;if(xa(v)?L=function(){return v}:Bu(v)?L=v:L=function(){return 0},!l)b=function(At){if(At.size){if(ms(At.size)){var wt=At.size[0]>At.size[1]?At.size[0]:At.size[1];return wt/2+L(At)}return At.size/2+L(At)}return 10+L(At)};else if(Bu(l))b=function(At){var wt=l(At);return wt+L(At)};else if(ms(l)){var U=l[0]>l[1]?l[0]:l[1],rt=U/2;b=function(At){return rt+L(At)}}else if(xa(l)){var ht=l/2;b=function(At){return ht+L(At)}}else b=function(){return 10};r.force("collisionForce",Vn(b).strength(F))}},{key:"updateCfg",value:function(r){var o=this;o.ticking&&(o.forceSimulation.stop(),o.ticking=!1),o.forceSimulation=null,Object.assign(o,r)}},{key:"destroy",value:function(){var r=this;r.ticking&&(r.forceSimulation.stop(),r.ticking=!1),r.nodes=null,r.edges=null,r.destroyed=!0}}]),t}(Ds);function Ca(u){var n=u.alphaMin(),t=u.alphaTarget(),e=u.alpha(),r=Math.log((n-t)/(e-t))/Math.log(1-u.alphaDecay()),o=Math.ceil(r);return o}function vi(){return typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope}function kn(u,n,t,e){u.forEach(function(r,o){u[o].children=[],u[o].parent=[]}),e?n.forEach(function(r){var o=0;r.source&&(o=t[r.source]);var l=0;r.target&&(l=t[r.target]);var v=u[o].children,b=u[l].parent;v.push(u[l].id),b.push(u[o].id)}):n.forEach(function(r){var o=0;r.source&&(o=t[r.source]);var l=0;r.target&&(l=t[r.target]);var v=u[o].children,b=u[l].children;v.push(u[l].id),b.push(u[o].id)})}function Bn(u,n,t){for(var e=t.length,r=0;r<e;r++)if(u.id===t[r].source&&n.id===t[r].target||n.id===t[r].source&&u.id===t[r].target)return!0;return!1}function rn(u,n){var t=u.degree,e=n.degree;return t<e?-1:t>e?1:0}var $a=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.radius=null,r.startRadius=null,r.endRadius=null,r.startAngle=0,r.endAngle=2*Math.PI,r.clockwise=!0,r.divisions=1,r.ordering=null,r.angleRatio=1,r.nodes=[],r.edges=[],r.nodeMap={},r.degrees=[],r.width=300,r.height=300,r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{radius:null,startRadius:null,endRadius:null,startAngle:0,endAngle:2*Math.PI,clockwise:!0,divisions:1,ordering:null,angleRatio:1}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.edges,v=o.length;if(v===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var b=r.center;if(v===1){o[0].x=b[0],o[0].y=b[1],r.onLayoutEnd&&r.onLayoutEnd();return}var L=r.radius,F=r.startRadius,U=r.endRadius,rt=r.divisions,ht=r.startAngle,bt=r.endAngle,At=(bt-ht)/v,wt={};o.forEach(function(qe,sr){wt[qe.id]=sr}),r.nodeMap=wt;var kt=jc(o.length,wt,l);r.degrees=kt,!L&&!F&&!U?L=r.height>r.width?r.width/2:r.height/2:!F&&U?F=U:F&&!U&&(U=F);var Ut=r.angleRatio,Kt=At*Ut,qt=r.ordering,ne=[];qt==="topology"?ne=r.topologyOrdering():qt==="topology-directed"?ne=r.topologyOrdering(!0):qt==="degree"?ne=r.degreeOrdering():ne=o;for(var ye=r.clockwise,xe=Math.ceil(v/rt),je=0;je<v;++je){var We=L;!We&&F!==null&&U!==null&&(We=F+je*(U-F)/(v-1)),We||(We=10+je*100/(v-1));var Be=ht+je%xe*Kt+2*Math.PI/rt*Math.floor(je/xe);ye||(Be=bt-je%xe*Kt-2*Math.PI/rt*Math.floor(je/xe)),ne[je].x=b[0]+Math.cos(Be)*We,ne[je].y=b[1]+Math.sin(Be)*We,ne[je].weight=kt[je]}return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:ne,edges:this.edges}}},{key:"topologyOrdering",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,o=this,l=o.degrees,v=o.edges,b=o.nodes,L=xf(b),F=o.nodeMap,U=[L[0]],rt=[b[0]],ht=[],bt=b.length;ht[0]=!0,kn(L,v,F,r);var At=0;return L.forEach(function(wt,kt){if(kt!==0)if((kt===bt-1||l[kt]!==l[kt+1]||Bn(U[At],wt,v))&&!ht[kt])U.push(wt),rt.push(b[F[wt.id]]),ht[kt]=!0,At++;else{for(var Ut=U[At].children,Kt=!1,qt=0;qt<Ut.length;qt++){var ne=F[Ut[qt]];if(l[ne]===l[kt]&&!ht[ne]){U.push(L[ne]),rt.push(b[F[L[ne].id]]),ht[ne]=!0,Kt=!0;break}}for(var ye=0;!Kt&&(ht[ye]||(U.push(L[ye]),rt.push(b[F[L[ye].id]]),ht[ye]=!0,Kt=!0),ye++,ye!==bt););}}),rt}},{key:"degreeOrdering",value:function(){var r=this,o=r.nodes,l=[],v=r.degrees;return o.forEach(function(b,L){b.degree=v[L],l.push(b)}),l.sort(rn),l}},{key:"getType",value:function(){return"circular"}}]),t}(Ds),Li=a("409L"),va=a.n(Li),Bi=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.rankdir="TB",r.nodesep=50,r.ranksep=50,r.controlPoints=!1,r.sortByCombo=!1,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{rankdir:"TB",align:void 0,nodeSize:void 0,nodesepFunc:void 0,ranksepFunc:void 0,nodesep:50,ranksep:50,controlPoints:!1}}},{key:"execute",value:function(){var r=this,o=this,l=o.nodes,v=o.nodeSize,b=o.rankdir,L=o.combos;if(!!l){var F=o.edges||[],U=new va.a.graphlib.Graph({multigraph:!0,compound:!0}),rt;v?ms(v)?rt=function(){return v}:rt=function(){return[v,v]}:rt=function(Ut){return Ut.size?ms(Ut.size)?Ut.size:[Ut.size,Ut.size]:[40,40]};var ht=si(o.nodesepFunc,o.nodesep,50),bt=si(o.ranksepFunc,o.ranksep,50);(b==="LR"||b==="RL")&&(ht=si(o.ranksepFunc,o.ranksep,50),bt=si(o.nodesepFunc,o.nodesep,50)),U.setDefaultEdgeLabel(function(){return{}}),U.setGraph(o);var At={};l.forEach(function(kt){var Ut=rt(kt),Kt=bt(kt),qt=ht(kt),ne=Ut[0]+2*qt,ye=Ut[1]+2*Kt;U.setNode(kt.id,{width:ne,height:ye}),r.sortByCombo&&kt.comboId&&(At[kt.comboId]||(At[kt.comboId]=!0,U.setNode(kt.comboId,{})),U.setParent(kt.id,kt.comboId))}),this.sortByCombo&&L&&L.forEach(function(kt){!kt.parentId||(At[kt.parentId]||(At[kt.parentId]=!0,U.setNode(kt.parentId,{})),U.setParent(kt.id,kt.parentId))}),F.forEach(function(kt){U.setEdge(kt.source,kt.target,{weight:kt.weight||1})}),va.a.layout(U);var wt;return U.nodes().forEach(function(kt){wt=U.node(kt);var Ut=l.findIndex(function(Kt){return Kt.id===kt});!l[Ut]||(l[Ut].x=wt.x,l[Ut].y=wt.y)}),U.edges().forEach(function(kt){wt=U.edge(kt);var Ut=F.findIndex(function(Kt){return Kt.source===kt.v&&Kt.target===kt.w});o.controlPoints&&F[Ut].type!=="loop"&&(F[Ut].controlPoints=wt.points.slice(1,wt.points.length-1))}),o.onLayoutEnd&&o.onLayoutEnd(),{nodes:l,edges:F}}}},{key:"getType",value:function(){return"dagre"}}]),t}(Ds);function si(u,n,t){var e;return u?e=u:xa(n)?e=function(){return n}:e=function(){return t},e}var Mi=a("oBTY"),Yi=a("Nsem"),Qo=Object.prototype.toString;function zo(u){return Qo.call(u).endsWith("Array]")}function Ni(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!zo(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,o=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=e||o>u.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],v=e+1;v<o;v++)u[v]>l&&(l=u[v]);return l}var es=Ni;function Oo(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!zo(u))throw new TypeError("input must be an array");if(u.length===0)throw new TypeError("input must not be empty");var t=n.fromIndex,e=t===void 0?0:t,r=n.toIndex,o=r===void 0?u.length:r;if(e<0||e>=u.length||!Number.isInteger(e))throw new Error("fromIndex must be a positive integer smaller than length");if(o<=e||o>u.length||!Number.isInteger(o))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var l=u[e],v=e+1;v<o;v++)u[v]<l&&(l=u[v]);return l}var Jo=Oo;function rs(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(zo(u)){if(u.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var t;if(n.output!==void 0){if(!zo(n.output))throw new TypeError("output option must be an array if specified");t=n.output}else t=new Array(u.length);var e=Jo(u),r=es(u);if(e===r)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var o=n.min,l=o===void 0?n.autoMinMax?e:0:o,v=n.max,b=v===void 0?n.autoMinMax?r:1:v;if(l>=b)throw new RangeError("min option must be smaller than max option");for(var L=(b-l)/(r-e),F=0;F<u.length;F++)t[F]=(u[F]-e)*L+l;return t}var _o=rs,ko=" ".repeat(2),fs=" ".repeat(4);function Vo(){return Ti(this)}function Ti(u){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.maxRows,e=t===void 0?15:t,r=n.maxColumns,o=r===void 0?10:r,l=n.maxNumSize,v=l===void 0?8:l;return"".concat(u.constructor.name,` {
`).concat(ko,`[
`).concat(fs).concat(gs(u,e,o,v),`
`).concat(ko,`]
`).concat(ko,"rows: ").concat(u.rows,`
`).concat(ko,"columns: ").concat(u.columns,`
}`)}function gs(u,n,t,e){for(var r=u.rows,o=u.columns,l=Math.min(r,n),v=Math.min(o,t),b=[],L=0;L<l;L++){for(var F=[],U=0;U<v;U++)F.push(to(u.get(L,U),e));b.push("".concat(F.join(" ")))}return v!==o&&(b[b.length-1]+=" ... ".concat(o-t," more columns")),l!==r&&b.push("... ".concat(r-n," more rows")),b.join(`
`.concat(fs))}function to(u,n){var t=String(u);if(t.length<=n)return t.padEnd(n," ");var e=u.toPrecision(n-2);if(e.length<=n)return e;var r=u.toExponential(n-2),o=r.indexOf("e"),l=r.slice(o);return r.slice(0,n-l.length)+l}function Xa(u,n){u.prototype.add=function(e){return typeof e=="number"?this.addS(e):this.addM(e)},u.prototype.addS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)+e);return this},u.prototype.addM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)+e.get(r,o));return this},u.add=function(e,r){var o=new n(e);return o.add(r)},u.prototype.sub=function(e){return typeof e=="number"?this.subS(e):this.subM(e)},u.prototype.subS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)-e);return this},u.prototype.subM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)-e.get(r,o));return this},u.sub=function(e,r){var o=new n(e);return o.sub(r)},u.prototype.subtract=u.prototype.sub,u.prototype.subtractS=u.prototype.subS,u.prototype.subtractM=u.prototype.subM,u.subtract=u.sub,u.prototype.mul=function(e){return typeof e=="number"?this.mulS(e):this.mulM(e)},u.prototype.mulS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*e);return this},u.prototype.mulM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)*e.get(r,o));return this},u.mul=function(e,r){var o=new n(e);return o.mul(r)},u.prototype.multiply=u.prototype.mul,u.prototype.multiplyS=u.prototype.mulS,u.prototype.multiplyM=u.prototype.mulM,u.multiply=u.mul,u.prototype.div=function(e){return typeof e=="number"?this.divS(e):this.divM(e)},u.prototype.divS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)/e);return this},u.prototype.divM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)/e.get(r,o));return this},u.div=function(e,r){var o=new n(e);return o.div(r)},u.prototype.divide=u.prototype.div,u.prototype.divideS=u.prototype.divS,u.prototype.divideM=u.prototype.divM,u.divide=u.div,u.prototype.mod=function(e){return typeof e=="number"?this.modS(e):this.modM(e)},u.prototype.modS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)%e);return this},u.prototype.modM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)%e.get(r,o));return this},u.mod=function(e,r){var o=new n(e);return o.mod(r)},u.prototype.modulus=u.prototype.mod,u.prototype.modulusS=u.prototype.modS,u.prototype.modulusM=u.prototype.modM,u.modulus=u.mod,u.prototype.and=function(e){return typeof e=="number"?this.andS(e):this.andM(e)},u.prototype.andS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)&e);return this},u.prototype.andM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)&e.get(r,o));return this},u.and=function(e,r){var o=new n(e);return o.and(r)},u.prototype.or=function(e){return typeof e=="number"?this.orS(e):this.orM(e)},u.prototype.orS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)|e);return this},u.prototype.orM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)|e.get(r,o));return this},u.or=function(e,r){var o=new n(e);return o.or(r)},u.prototype.xor=function(e){return typeof e=="number"?this.xorS(e):this.xorM(e)},u.prototype.xorS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)^e);return this},u.prototype.xorM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)^e.get(r,o));return this},u.xor=function(e,r){var o=new n(e);return o.xor(r)},u.prototype.leftShift=function(e){return typeof e=="number"?this.leftShiftS(e):this.leftShiftM(e)},u.prototype.leftShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)<<e);return this},u.prototype.leftShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)<<e.get(r,o));return this},u.leftShift=function(e,r){var o=new n(e);return o.leftShift(r)},u.prototype.signPropagatingRightShift=function(e){return typeof e=="number"?this.signPropagatingRightShiftS(e):this.signPropagatingRightShiftM(e)},u.prototype.signPropagatingRightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>e);return this},u.prototype.signPropagatingRightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>e.get(r,o));return this},u.signPropagatingRightShift=function(e,r){var o=new n(e);return o.signPropagatingRightShift(r)},u.prototype.rightShift=function(e){return typeof e=="number"?this.rightShiftS(e):this.rightShiftM(e)},u.prototype.rightShiftS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>>e);return this},u.prototype.rightShiftM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,this.get(r,o)>>>e.get(r,o));return this},u.rightShift=function(e,r){var o=new n(e);return o.rightShift(r)},u.prototype.zeroFillRightShift=u.prototype.rightShift,u.prototype.zeroFillRightShiftS=u.prototype.rightShiftS,u.prototype.zeroFillRightShiftM=u.prototype.rightShiftM,u.zeroFillRightShift=u.rightShift,u.prototype.not=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,~this.get(e,r));return this},u.not=function(e){var r=new n(e);return r.not()},u.prototype.abs=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.abs(this.get(e,r)));return this},u.abs=function(e){var r=new n(e);return r.abs()},u.prototype.acos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acos(this.get(e,r)));return this},u.acos=function(e){var r=new n(e);return r.acos()},u.prototype.acosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.acosh(this.get(e,r)));return this},u.acosh=function(e){var r=new n(e);return r.acosh()},u.prototype.asin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asin(this.get(e,r)));return this},u.asin=function(e){var r=new n(e);return r.asin()},u.prototype.asinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.asinh(this.get(e,r)));return this},u.asinh=function(e){var r=new n(e);return r.asinh()},u.prototype.atan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atan(this.get(e,r)));return this},u.atan=function(e){var r=new n(e);return r.atan()},u.prototype.atanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.atanh(this.get(e,r)));return this},u.atanh=function(e){var r=new n(e);return r.atanh()},u.prototype.cbrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cbrt(this.get(e,r)));return this},u.cbrt=function(e){var r=new n(e);return r.cbrt()},u.prototype.ceil=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.ceil(this.get(e,r)));return this},u.ceil=function(e){var r=new n(e);return r.ceil()},u.prototype.clz32=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.clz32(this.get(e,r)));return this},u.clz32=function(e){var r=new n(e);return r.clz32()},u.prototype.cos=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cos(this.get(e,r)));return this},u.cos=function(e){var r=new n(e);return r.cos()},u.prototype.cosh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.cosh(this.get(e,r)));return this},u.cosh=function(e){var r=new n(e);return r.cosh()},u.prototype.exp=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.exp(this.get(e,r)));return this},u.exp=function(e){var r=new n(e);return r.exp()},u.prototype.expm1=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.expm1(this.get(e,r)));return this},u.expm1=function(e){var r=new n(e);return r.expm1()},u.prototype.floor=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.floor(this.get(e,r)));return this},u.floor=function(e){var r=new n(e);return r.floor()},u.prototype.fround=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.fround(this.get(e,r)));return this},u.fround=function(e){var r=new n(e);return r.fround()},u.prototype.log=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log(this.get(e,r)));return this},u.log=function(e){var r=new n(e);return r.log()},u.prototype.log1p=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log1p(this.get(e,r)));return this},u.log1p=function(e){var r=new n(e);return r.log1p()},u.prototype.log10=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log10(this.get(e,r)));return this},u.log10=function(e){var r=new n(e);return r.log10()},u.prototype.log2=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.log2(this.get(e,r)));return this},u.log2=function(e){var r=new n(e);return r.log2()},u.prototype.round=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.round(this.get(e,r)));return this},u.round=function(e){var r=new n(e);return r.round()},u.prototype.sign=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sign(this.get(e,r)));return this},u.sign=function(e){var r=new n(e);return r.sign()},u.prototype.sin=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sin(this.get(e,r)));return this},u.sin=function(e){var r=new n(e);return r.sin()},u.prototype.sinh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sinh(this.get(e,r)));return this},u.sinh=function(e){var r=new n(e);return r.sinh()},u.prototype.sqrt=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.sqrt(this.get(e,r)));return this},u.sqrt=function(e){var r=new n(e);return r.sqrt()},u.prototype.tan=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tan(this.get(e,r)));return this},u.tan=function(e){var r=new n(e);return r.tan()},u.prototype.tanh=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.tanh(this.get(e,r)));return this},u.tanh=function(e){var r=new n(e);return r.tanh()},u.prototype.trunc=function(){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,Math.trunc(this.get(e,r)));return this},u.trunc=function(e){var r=new n(e);return r.trunc()},u.pow=function(e,r){var o=new n(e);return o.pow(r)},u.prototype.pow=function(e){return typeof e=="number"?this.powS(e):this.powM(e)},u.prototype.powS=function(e){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,Math.pow(this.get(r,o),e));return this},u.prototype.powM=function(e){if(e=n.checkMatrix(e),this.rows!==e.rows||this.columns!==e.columns)throw new RangeError("Matrices dimensions must be equal");for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.set(r,o,Math.pow(this.get(r,o),e.get(r,o)));return this}}function Za(u,n,t){var e=t?u.rows:u.rows-1;if(n<0||n>e)throw new RangeError("Row index out of range")}function Ii(u,n,t){var e=t?u.columns:u.columns-1;if(n<0||n>e)throw new RangeError("Column index out of range")}function To(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.columns)throw new RangeError("vector size must be the same as the number of columns");return n}function ls(u,n){if(n.to1DArray&&(n=n.to1DArray()),n.length!==u.rows)throw new RangeError("vector size must be the same as the number of rows");return n}function Pl(u,n,t){return{row:Fe(u,n),column:wr(u,t)}}function Fe(u,n){if(typeof n!="object")throw new TypeError("unexpected type for row indices");var t=n.some(function(e){return e<0||e>=u.rows});if(t)throw new RangeError("row indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function wr(u,n){if(typeof n!="object")throw new TypeError("unexpected type for column indices");var t=n.some(function(e){return e<0||e>=u.columns});if(t)throw new RangeError("column indices are out of range");return Array.isArray(n)||(n=Array.from(n)),n}function Sr(u,n,t,e,r){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(xi("startRow",n),xi("endRow",t),xi("startColumn",e),xi("endColumn",r),n>t||e>r||n<0||n>=u.rows||t<0||t>=u.rows||e<0||e>=u.columns||r<0||r>=u.columns)throw new RangeError("Submatrix indices are out of range")}function qn(u){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=[],e=0;e<u;e++)t.push(n);return t}function xi(u,n){if(typeof n!="number")throw new TypeError("".concat(u," must be a number"))}function Pe(u){if(u.isEmpty())throw new Error("Empty matrix has no elements to index")}function Oe(u){for(var n=qn(u.rows),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]+=u.get(t,e);return n}function Qe(u){for(var n=qn(u.columns),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]+=u.get(t,e);return n}function mr(u){for(var n=0,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n+=u.get(t,e);return n}function Er(u){for(var n=qn(u.rows,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[t]*=u.get(t,e);return n}function ar(u){for(var n=qn(u.columns,1),t=0;t<u.rows;++t)for(var e=0;e<u.columns;++e)n[e]*=u.get(t,e);return n}function Je(u){for(var n=1,t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)n*=u.get(t,e);return n}function hr(u,n,t){for(var e=u.rows,r=u.columns,o=[],l=0;l<e;l++){for(var v=0,b=0,L=0,F=0;F<r;F++)L=u.get(l,F)-t[l],v+=L,b+=L*L;n?o.push((b-v*v/r)/(r-1)):o.push((b-v*v/r)/r)}return o}function Le(u,n,t){for(var e=u.rows,r=u.columns,o=[],l=0;l<r;l++){for(var v=0,b=0,L=0,F=0;F<e;F++)L=u.get(F,l)-t[l],v+=L,b+=L*L;n?o.push((b-v*v/e)/(e-1)):o.push((b-v*v/e)/e)}return o}function Xe(u,n,t){for(var e=u.rows,r=u.columns,o=e*r,l=0,v=0,b=0,L=0;L<e;L++)for(var F=0;F<r;F++)b=u.get(L,F)-t,l+=b,v+=b*b;return n?(v-l*l/o)/(o-1):(v-l*l/o)/o}function Me(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[t])}function pr(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n[e])}function xr(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)-n)}function Qr(u){for(var n=[],t=0;t<u.rows;t++){for(var e=0,r=0;r<u.columns;r++)e+=Math.pow(u.get(t,r),2)/(u.columns-1);n.push(Math.sqrt(e))}return n}function en(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[t])}function Xr(u){for(var n=[],t=0;t<u.columns;t++){for(var e=0,r=0;r<u.rows;r++)e+=Math.pow(u.get(r,t),2)/(u.rows-1);n.push(Math.sqrt(e))}return n}function Dn(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n[e])}function Da(u){for(var n=u.size-1,t=0,e=0;e<u.columns;e++)for(var r=0;r<u.rows;r++)t+=Math.pow(u.get(r,e),2)/n;return Math.sqrt(t)}function Di(u,n){for(var t=0;t<u.rows;t++)for(var e=0;e<u.columns;e++)u.set(t,e,u.get(t,e)/n)}var Xn=function(){function u(){Object(Ao.default)(this,u)}return Object(Lo.default)(u,[{key:"size",get:function(){return this.rows*this.columns}},{key:"apply",value:function(t){if(typeof t!="function")throw new TypeError("callback must be a function");for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.call(this,e,r);return this}},{key:"to1DArray",value:function(){for(var t=[],e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.push(this.get(e,r));return t}},{key:"to2DArray",value:function(){for(var t=[],e=0;e<this.rows;e++){t.push([]);for(var r=0;r<this.columns;r++)t[e].push(this.get(e,r))}return t}},{key:"toJSON",value:function(){return this.to2DArray()}},{key:"isRowVector",value:function(){return this.rows===1}},{key:"isColumnVector",value:function(){return this.columns===1}},{key:"isVector",value:function(){return this.rows===1||this.columns===1}},{key:"isSquare",value:function(){return this.rows===this.columns}},{key:"isEmpty",value:function(){return this.rows===0||this.columns===0}},{key:"isSymmetric",value:function(){if(this.isSquare()){for(var t=0;t<this.rows;t++)for(var e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}},{key:"isEchelonForm",value:function(){for(var t=0,e=0,r=-1,o=!0,l=!1;t<this.rows&&o;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(o=!1,l=!0);t++}return o}},{key:"isReducedEchelonForm",value:function(){for(var t=0,e=0,r=-1,o=!0,l=!1;t<this.rows&&o;){for(e=0,l=!1;e<this.columns&&l===!1;)this.get(t,e)===0?e++:this.get(t,e)===1&&e>r?(l=!0,r=e):(o=!1,l=!0);for(var v=e+1;v<this.rows;v++)this.get(t,v)!==0&&(o=!1);t++}return o}},{key:"echelonForm",value:function(){for(var t=this.clone(),e=0,r=0;e<t.rows&&r<t.columns;){for(var o=e,l=e;l<t.rows;l++)t.get(l,r)>t.get(o,r)&&(o=l);if(t.get(o,r)===0)r++;else{t.swapRows(e,o);for(var v=t.get(e,r),b=r;b<t.columns;b++)t.set(e,b,t.get(e,b)/v);for(var L=e+1;L<t.rows;L++){var F=t.get(L,r)/t.get(e,r);t.set(L,r,0);for(var U=r+1;U<t.columns;U++)t.set(L,U,t.get(L,U)-t.get(e,U)*F)}e++,r++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.echelonForm(),e=t.columns,r=t.rows,o=r-1;o>=0;)if(t.maxRow(o)===0)o--;else{for(var l=0,v=!1;l<r&&v===!1;)t.get(o,l)===1?v=!0:l++;for(var b=0;b<o;b++)for(var L=t.get(b,l),F=l;F<e;F++){var U=t.get(b,F)-L*t.get(o,F);t.set(b,F,U)}o--}return t}},{key:"set",value:function(){throw new Error("set method is unimplemented")}},{key:"get",value:function(){throw new Error("get method is unimplemented")}},{key:"repeat",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.rows,r=e===void 0?1:e,o=t.columns,l=o===void 0?1:o;if(!Number.isInteger(r)||r<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(l)||l<=0)throw new TypeError("columns must be a positive integer");for(var v=new Wn(this.rows*r,this.columns*l),b=0;b<r;b++)for(var L=0;L<l;L++)v.setSubMatrix(this,this.rows*b,this.columns*L);return v}},{key:"fill",value:function(t){for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"getRow",value:function(t){Za(this,t);for(var e=[],r=0;r<this.columns;r++)e.push(this.get(t,r));return e}},{key:"getRowVector",value:function(t){return Wn.rowVector(this.getRow(t))}},{key:"setRow",value:function(t,e){Za(this,t),e=To(this,e);for(var r=0;r<this.columns;r++)this.set(t,r,e[r]);return this}},{key:"swapRows",value:function(t,e){Za(this,t),Za(this,e);for(var r=0;r<this.columns;r++){var o=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,o)}return this}},{key:"getColumn",value:function(t){Ii(this,t);for(var e=[],r=0;r<this.rows;r++)e.push(this.get(r,t));return e}},{key:"getColumnVector",value:function(t){return Wn.columnVector(this.getColumn(t))}},{key:"setColumn",value:function(t,e){Ii(this,t),e=ls(this,e);for(var r=0;r<this.rows;r++)this.set(r,t,e[r]);return this}},{key:"swapColumns",value:function(t,e){Ii(this,t),Ii(this,e);for(var r=0;r<this.rows;r++){var o=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,o)}return this}},{key:"addRowVector",value:function(t){t=To(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[r]);return this}},{key:"subRowVector",value:function(t){t=To(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[r]);return this}},{key:"mulRowVector",value:function(t){t=To(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[r]);return this}},{key:"divRowVector",value:function(t){t=To(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[r]);return this}},{key:"addColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)+t[e]);return this}},{key:"subColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)-t[e]);return this}},{key:"mulColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)*t[e]);return this}},{key:"divColumnVector",value:function(t){t=ls(this,t);for(var e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.set(e,r,this.get(e,r)/t[e]);return this}},{key:"mulRow",value:function(t,e){Za(this,t);for(var r=0;r<this.columns;r++)this.set(t,r,this.get(t,r)*e);return this}},{key:"mulColumn",value:function(t,e){Ii(this,t);for(var r=0;r<this.rows;r++)this.set(r,t,this.get(r,t)*e);return this}},{key:"max",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}},{key:"maxIndex",value:function(){Pe(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.get(r,o)>t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}},{key:"min",value:function(){if(this.isEmpty())return NaN;for(var t=this.get(0,0),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}},{key:"minIndex",value:function(){Pe(this);for(var t=this.get(0,0),e=[0,0],r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)this.get(r,o)<t&&(t=this.get(r,o),e[0]=r,e[1]=o);return e}},{key:"maxRow",value:function(t){if(Za(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}},{key:"maxRowIndex",value:function(t){Za(this,t),Pe(this);for(var e=this.get(t,0),r=[t,0],o=1;o<this.columns;o++)this.get(t,o)>e&&(e=this.get(t,o),r[1]=o);return r}},{key:"minRow",value:function(t){if(Za(this,t),this.isEmpty())return NaN;for(var e=this.get(t,0),r=1;r<this.columns;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}},{key:"minRowIndex",value:function(t){Za(this,t),Pe(this);for(var e=this.get(t,0),r=[t,0],o=1;o<this.columns;o++)this.get(t,o)<e&&(e=this.get(t,o),r[1]=o);return r}},{key:"maxColumn",value:function(t){if(Ii(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}},{key:"maxColumnIndex",value:function(t){Ii(this,t),Pe(this);for(var e=this.get(0,t),r=[0,t],o=1;o<this.rows;o++)this.get(o,t)>e&&(e=this.get(o,t),r[0]=o);return r}},{key:"minColumn",value:function(t){if(Ii(this,t),this.isEmpty())return NaN;for(var e=this.get(0,t),r=1;r<this.rows;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}},{key:"minColumnIndex",value:function(t){Ii(this,t),Pe(this);for(var e=this.get(0,t),r=[0,t],o=1;o<this.rows;o++)this.get(o,t)<e&&(e=this.get(o,t),r[0]=o);return r}},{key:"diag",value:function(){for(var t=Math.min(this.rows,this.columns),e=[],r=0;r<t;r++)e.push(this.get(r,r));return e}},{key:"norm",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"frobenius",e=0;if(t==="max")return this.max();if(t==="frobenius"){for(var r=0;r<this.rows;r++)for(var o=0;o<this.columns;o++)e=e+this.get(r,o)*this.get(r,o);return Math.sqrt(e)}else throw new RangeError("unknown norm type: ".concat(t))}},{key:"cumulativeSum",value:function(){for(var t=0,e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t+=this.get(e,r),this.set(e,r,t);return this}},{key:"dot",value:function(t){u.isMatrix(t)&&(t=t.to1DArray());var e=this.to1DArray();if(e.length!==t.length)throw new RangeError("vectors do not have the same size");for(var r=0,o=0;o<e.length;o++)r+=e[o]*t[o];return r}},{key:"mmul",value:function(t){t=Wn.checkMatrix(t);for(var e=this.rows,r=this.columns,o=t.columns,l=new Wn(e,o),v=new Float64Array(r),b=0;b<o;b++){for(var L=0;L<r;L++)v[L]=t.get(L,b);for(var F=0;F<e;F++){for(var U=0,rt=0;rt<r;rt++)U+=this.get(F,rt)*v[rt];l.set(F,b,U)}}return l}},{key:"strassen2x2",value:function(t){t=Wn.checkMatrix(t);var e=new Wn(2,2),r=this.get(0,0),o=t.get(0,0),l=this.get(0,1),v=t.get(0,1),b=this.get(1,0),L=t.get(1,0),F=this.get(1,1),U=t.get(1,1),rt=(r+F)*(o+U),ht=(b+F)*o,bt=r*(v-U),At=F*(L-o),wt=(r+l)*U,kt=(b-r)*(o+v),Ut=(l-F)*(L+U),Kt=rt+At-wt+Ut,qt=bt+wt,ne=ht+At,ye=rt-ht+bt+kt;return e.set(0,0,Kt),e.set(0,1,qt),e.set(1,0,ne),e.set(1,1,ye),e}},{key:"strassen3x3",value:function(t){t=Wn.checkMatrix(t);var e=new Wn(3,3),r=this.get(0,0),o=this.get(0,1),l=this.get(0,2),v=this.get(1,0),b=this.get(1,1),L=this.get(1,2),F=this.get(2,0),U=this.get(2,1),rt=this.get(2,2),ht=t.get(0,0),bt=t.get(0,1),At=t.get(0,2),wt=t.get(1,0),kt=t.get(1,1),Ut=t.get(1,2),Kt=t.get(2,0),qt=t.get(2,1),ne=t.get(2,2),ye=(r+o+l-v-b-U-rt)*kt,xe=(r-v)*(-bt+kt),je=b*(-ht+bt+wt-kt-Ut-Kt+ne),We=(-r+v+b)*(ht-bt+kt),Be=(v+b)*(-ht+bt),qe=r*ht,sr=(-r+F+U)*(ht-At+Ut),hn=(-r+F)*(At-Ut),dn=(F+U)*(-ht+At),vn=(r+o+l-b-L-F-U)*Ut,aa=U*(-ht+At+wt-kt-Ut-Kt+qt),ra=(-l+U+rt)*(kt+Kt-qt),Rn=(l-rt)*(kt-qt),Gn=l*Kt,Qn=(U+rt)*(-Kt+qt),gn=(-l+b+L)*(Ut+Kt-ne),Jn=(l-L)*(Ut-ne),Pa=(b+L)*(-Kt+ne),Cn=o*wt,Yn=L*qt,li=v*At,yi=F*bt,Ri=rt*ne,Zr=qe+Gn+Cn,lo=ye+We+Be+qe+ra+Gn+Qn,La=qe+sr+dn+vn+Gn+gn+Pa,oa=xe+je+We+qe+Gn+gn+Jn,ao=xe+We+Be+qe+Yn,So=Gn+gn+Jn+Pa+li,Mo=qe+sr+hn+aa+ra+Rn+Gn,Ls=ra+Rn+Gn+Qn+yi,Zu=qe+sr+hn+dn+Ri;return e.set(0,0,Zr),e.set(0,1,lo),e.set(0,2,La),e.set(1,0,oa),e.set(1,1,ao),e.set(1,2,So),e.set(2,0,Mo),e.set(2,1,Ls),e.set(2,2,Zu),e}},{key:"mmulStrassen",value:function(t){t=Wn.checkMatrix(t);var e=this.clone(),r=e.rows,o=e.columns,l=t.rows,v=t.columns;o!==l&&console.warn("Multiplying ".concat(r," x ").concat(o," and ").concat(l," x ").concat(v," matrix: dimensions do not match."));function b(rt,ht,bt){var At=rt.rows,wt=rt.columns;if(At===ht&&wt===bt)return rt;var kt=u.zeros(ht,bt);return kt=kt.setSubMatrix(rt,0,0),kt}var L=Math.max(r,l),F=Math.max(o,v);e=b(e,L,F),t=b(t,L,F);function U(rt,ht,bt,At){if(bt<=512||At<=512)return rt.mmul(ht);bt%2==1&&At%2==1?(rt=b(rt,bt+1,At+1),ht=b(ht,bt+1,At+1)):bt%2==1?(rt=b(rt,bt+1,At),ht=b(ht,bt+1,At)):At%2==1&&(rt=b(rt,bt,At+1),ht=b(ht,bt,At+1));var wt=parseInt(rt.rows/2,10),kt=parseInt(rt.columns/2,10),Ut=rt.subMatrix(0,wt-1,0,kt-1),Kt=ht.subMatrix(0,wt-1,0,kt-1),qt=rt.subMatrix(0,wt-1,kt,rt.columns-1),ne=ht.subMatrix(0,wt-1,kt,ht.columns-1),ye=rt.subMatrix(wt,rt.rows-1,0,kt-1),xe=ht.subMatrix(wt,ht.rows-1,0,kt-1),je=rt.subMatrix(wt,rt.rows-1,kt,rt.columns-1),We=ht.subMatrix(wt,ht.rows-1,kt,ht.columns-1),Be=U(u.add(Ut,je),u.add(Kt,We),wt,kt),qe=U(u.add(ye,je),Kt,wt,kt),sr=U(Ut,u.sub(ne,We),wt,kt),hn=U(je,u.sub(xe,Kt),wt,kt),dn=U(u.add(Ut,qt),We,wt,kt),vn=U(u.sub(ye,Ut),u.add(Kt,ne),wt,kt),aa=U(u.sub(qt,je),u.add(xe,We),wt,kt),ra=u.add(Be,hn);ra.sub(dn),ra.add(aa);var Rn=u.add(sr,dn),Gn=u.add(qe,hn),Qn=u.sub(Be,qe);Qn.add(sr),Qn.add(vn);var gn=u.zeros(2*ra.rows,2*ra.columns);return gn=gn.setSubMatrix(ra,0,0),gn=gn.setSubMatrix(Rn,ra.rows,0),gn=gn.setSubMatrix(Gn,0,ra.columns),gn=gn.setSubMatrix(Qn,ra.rows,ra.columns),gn.subMatrix(0,bt-1,0,At-1)}return U(e,t,L,F)}},{key:"scaleRows",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,o=t.max,l=o===void 0?1:o;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var v=new Wn(this.rows,this.columns),b=0;b<this.rows;b++){var L=this.getRow(b);L.length>0&&_o(L,{min:r,max:l,output:L}),v.setRow(b,L)}return v}},{key:"scaleColumns",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(typeof t!="object")throw new TypeError("options must be an object");var e=t.min,r=e===void 0?0:e,o=t.max,l=o===void 0?1:o;if(!Number.isFinite(r))throw new TypeError("min must be a number");if(!Number.isFinite(l))throw new TypeError("max must be a number");if(r>=l)throw new RangeError("min must be smaller than max");for(var v=new Wn(this.rows,this.columns),b=0;b<this.columns;b++){var L=this.getColumn(b);L.length&&_o(L,{min:r,max:l,output:L}),v.setColumn(b,L)}return v}},{key:"flipRows",value:function(){for(var t=Math.ceil(this.columns/2),e=0;e<this.rows;e++)for(var r=0;r<t;r++){var o=this.get(e,r),l=this.get(e,this.columns-1-r);this.set(e,r,l),this.set(e,this.columns-1-r,o)}return this}},{key:"flipColumns",value:function(){for(var t=Math.ceil(this.rows/2),e=0;e<this.columns;e++)for(var r=0;r<t;r++){var o=this.get(r,e),l=this.get(this.rows-1-r,e);this.set(r,e,l),this.set(this.rows-1-r,e,o)}return this}},{key:"kroneckerProduct",value:function(t){t=Wn.checkMatrix(t);for(var e=this.rows,r=this.columns,o=t.rows,l=t.columns,v=new Wn(e*o,r*l),b=0;b<e;b++)for(var L=0;L<r;L++)for(var F=0;F<o;F++)for(var U=0;U<l;U++)v.set(o*b+F,l*L+U,this.get(b,L)*t.get(F,U));return v}},{key:"kroneckerSum",value:function(t){if(t=Wn.checkMatrix(t),!this.isSquare()||!t.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");var e=this.rows,r=t.rows,o=this.kroneckerProduct(Wn.eye(r,r)),l=Wn.eye(e,e).kroneckerProduct(t);return o.add(l)}},{key:"transpose",value:function(){for(var t=new Wn(this.columns,this.rows),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(r,e,this.get(e,r));return t}},{key:"sortRows",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ya,e=0;e<this.rows;e++)this.setRow(e,this.getRow(e).sort(t));return this}},{key:"sortColumns",value:function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ya,e=0;e<this.columns;e++)this.setColumn(e,this.getColumn(e).sort(t));return this}},{key:"subMatrix",value:function(t,e,r,o){Sr(this,t,e,r,o);for(var l=new Wn(e-t+1,o-r+1),v=t;v<=e;v++)for(var b=r;b<=o;b++)l.set(v-t,b-r,this.get(v,b));return l}},{key:"subMatrixRow",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.columns-1),e>r||e<0||e>=this.columns||r<0||r>=this.columns)throw new RangeError("Argument out of range");for(var o=new Wn(t.length,r-e+1),l=0;l<t.length;l++)for(var v=e;v<=r;v++){if(t[l]<0||t[l]>=this.rows)throw new RangeError("Row index out of range: ".concat(t[l]));o.set(l,v-e,this.get(t[l],v))}return o}},{key:"subMatrixColumn",value:function(t,e,r){if(e===void 0&&(e=0),r===void 0&&(r=this.rows-1),e>r||e<0||e>=this.rows||r<0||r>=this.rows)throw new RangeError("Argument out of range");for(var o=new Wn(r-e+1,t.length),l=0;l<t.length;l++)for(var v=e;v<=r;v++){if(t[l]<0||t[l]>=this.columns)throw new RangeError("Column index out of range: ".concat(t[l]));o.set(v-e,l,this.get(v,t[l]))}return o}},{key:"setSubMatrix",value:function(t,e,r){if(t=Wn.checkMatrix(t),t.isEmpty())return this;var o=e+t.rows-1,l=r+t.columns-1;Sr(this,e,o,r,l);for(var v=0;v<t.rows;v++)for(var b=0;b<t.columns;b++)this.set(e+v,r+b,t.get(v,b));return this}},{key:"selection",value:function(t,e){for(var r=Pl(this,t,e),o=new Wn(t.length,e.length),l=0;l<r.row.length;l++)for(var v=r.row[l],b=0;b<r.column.length;b++){var L=r.column[b];o.set(l,b,this.get(v,L))}return o}},{key:"trace",value:function(){for(var t=Math.min(this.rows,this.columns),e=0,r=0;r<t;r++)e+=this.get(r,r);return e}},{key:"clone",value:function(){for(var t=new Wn(this.rows,this.columns),e=0;e<this.rows;e++)for(var r=0;r<this.columns;r++)t.set(e,r,this.get(e,r));return t}},{key:"sum",value:function(t){switch(t){case"row":return Oe(this);case"column":return Qe(this);case void 0:return mr(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"product",value:function(t){switch(t){case"row":return Er(this);case"column":return ar(this);case void 0:return Je(this);default:throw new Error("invalid option: ".concat(t))}}},{key:"mean",value:function(t){var e=this.sum(t);switch(t){case"row":{for(var r=0;r<this.rows;r++)e[r]/=this.columns;return e}case"column":{for(var o=0;o<this.columns;o++)e[o]/=this.rows;return e}case void 0:return e/this.size;default:throw new Error("invalid option: ".concat(t))}}},{key:"variance",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,o=r.unbiased,l=o===void 0?!0:o,v=r.mean,b=v===void 0?this.mean(t):v;if(typeof l!="boolean")throw new TypeError("unbiased must be a boolean");switch(t){case"row":{if(!Array.isArray(b))throw new TypeError("mean must be an array");return hr(this,l,b)}case"column":{if(!Array.isArray(b))throw new TypeError("mean must be an array");return Le(this,l,b)}case void 0:{if(typeof b!="number")throw new TypeError("mean must be a number");return Xe(this,l,b)}default:throw new Error("invalid option: ".concat(t))}}},{key:"standardDeviation",value:function(t,e){typeof t=="object"&&(e=t,t=void 0);var r=this.variance(t,e);if(t===void 0)return Math.sqrt(r);for(var o=0;o<r.length;o++)r[o]=Math.sqrt(r[o]);return r}},{key:"center",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e,o=r.center,l=o===void 0?this.mean(t):o;switch(t){case"row":{if(!Array.isArray(l))throw new TypeError("center must be an array");return Me(this,l),this}case"column":{if(!Array.isArray(l))throw new TypeError("center must be an array");return pr(this,l),this}case void 0:{if(typeof l!="number")throw new TypeError("center must be a number");return xr(this,l),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"scale",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="object"&&(e=t,t=void 0),typeof e!="object")throw new TypeError("options must be an object");var r=e.scale;switch(t){case"row":{if(r===void 0)r=Qr(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return en(this,r),this}case"column":{if(r===void 0)r=Xr(this);else if(!Array.isArray(r))throw new TypeError("scale must be an array");return Dn(this,r),this}case void 0:{if(r===void 0)r=Da(this);else if(typeof r!="number")throw new TypeError("scale must be a number");return Di(this,r),this}default:throw new Error("invalid option: ".concat(t))}}},{key:"toString",value:function(t){return Ti(this,t)}}],[{key:"from1DArray",value:function(t,e,r){var o=t*e;if(o!==r.length)throw new RangeError("data length does not match given dimensions");for(var l=new Wn(t,e),v=0;v<t;v++)for(var b=0;b<e;b++)l.set(v,b,r[v*e+b]);return l}},{key:"rowVector",value:function(t){for(var e=new Wn(1,t.length),r=0;r<t.length;r++)e.set(0,r,t[r]);return e}},{key:"columnVector",value:function(t){for(var e=new Wn(t.length,1),r=0;r<t.length;r++)e.set(r,0,t[r]);return e}},{key:"zeros",value:function(t,e){return new Wn(t,e)}},{key:"ones",value:function(t,e){return new Wn(t,e).fill(1)}},{key:"rand",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");for(var o=r.random,l=o===void 0?Math.random:o,v=new Wn(t,e),b=0;b<t;b++)for(var L=0;L<e;L++)v.set(b,L,l());return v}},{key:"randInt",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof r!="object")throw new TypeError("options must be an object");var o=r.min,l=o===void 0?0:o,v=r.max,b=v===void 0?1e3:v,L=r.random,F=L===void 0?Math.random:L;if(!Number.isInteger(l))throw new TypeError("min must be an integer");if(!Number.isInteger(b))throw new TypeError("max must be an integer");if(l>=b)throw new RangeError("min must be smaller than max");for(var U=b-l,rt=new Wn(t,e),ht=0;ht<t;ht++)for(var bt=0;bt<e;bt++){var At=l+Math.round(F()*U);rt.set(ht,bt,At)}return rt}},{key:"eye",value:function(t,e,r){e===void 0&&(e=t),r===void 0&&(r=1);for(var o=Math.min(t,e),l=this.zeros(t,e),v=0;v<o;v++)l.set(v,v,r);return l}},{key:"diag",value:function(t,e,r){var o=t.length;e===void 0&&(e=o),r===void 0&&(r=e);for(var l=Math.min(o,e,r),v=this.zeros(e,r),b=0;b<l;b++)v.set(b,b,t[b]);return v}},{key:"min",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,o=t.columns,l=new Wn(r,o),v=0;v<r;v++)for(var b=0;b<o;b++)l.set(v,b,Math.min(t.get(v,b),e.get(v,b)));return l}},{key:"max",value:function(t,e){t=this.checkMatrix(t),e=this.checkMatrix(e);for(var r=t.rows,o=t.columns,l=new this(r,o),v=0;v<r;v++)for(var b=0;b<o;b++)l.set(v,b,Math.max(t.get(v,b),e.get(v,b)));return l}},{key:"checkMatrix",value:function(t){return u.isMatrix(t)?t:new Wn(t)}},{key:"isMatrix",value:function(t){return t!=null&&t.klass==="Matrix"}}]),u}();Xn.prototype.klass="Matrix",typeof Symbol!="undefined"&&(Xn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Vo);function Ya(u,n){return u-n}Xn.random=Xn.rand,Xn.randomInt=Xn.randInt,Xn.diagonal=Xn.diag,Xn.prototype.diagonal=Xn.prototype.diag,Xn.identity=Xn.eye,Xn.prototype.negate=Xn.prototype.neg,Xn.prototype.tensorProduct=Xn.prototype.kroneckerProduct;var Wn=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e,r){var o;if(Object(Ao.default)(this,t),o=n.call(this),t.isMatrix(e))return Object(Yi.a)(o,e.clone());if(Number.isInteger(e)&&e>=0)if(o.data=[],Number.isInteger(r)&&r>=0)for(var l=0;l<e;l++)o.data.push(new Float64Array(r));else throw new TypeError("nColumns must be a positive integer");else if(Array.isArray(e)){var v=e;if(e=v.length,r=e?v[0].length:0,typeof r!="number")throw new TypeError("Data must be a 2D array with at least one element");o.data=[];for(var b=0;b<e;b++){if(v[b].length!==r)throw new RangeError("Inconsistent array dimensions");o.data.push(Float64Array.from(v[b]))}}else throw new TypeError("First argument must be a positive number or an array");return o.rows=e,o.columns=r,o}return Object(Lo.default)(t,[{key:"set",value:function(r,o,l){return this.data[r][o]=l,this}},{key:"get",value:function(r,o){return this.data[r][o]}},{key:"removeRow",value:function(r){return Za(this,r),this.data.splice(r,1),this.rows-=1,this}},{key:"addRow",value:function(r,o){return o===void 0&&(o=r,r=this.rows),Za(this,r,!0),o=Float64Array.from(To(this,o)),this.data.splice(r,0,o),this.rows+=1,this}},{key:"removeColumn",value:function(r){Ii(this,r);for(var o=0;o<this.rows;o++){for(var l=new Float64Array(this.columns-1),v=0;v<r;v++)l[v]=this.data[o][v];for(var b=r+1;b<this.columns;b++)l[b-1]=this.data[o][b];this.data[o]=l}return this.columns-=1,this}},{key:"addColumn",value:function(r,o){typeof o=="undefined"&&(o=r,r=this.columns),Ii(this,r,!0),o=ls(this,o);for(var l=0;l<this.rows;l++){for(var v=new Float64Array(this.columns+1),b=0;b<r;b++)v[b]=this.data[l][b];for(v[b++]=o[l];b<this.columns+1;b++)v[b]=this.data[l][b-1];this.data[l]=v}return this.columns+=1,this}}]),t}(Xn);Xa(Xn,Wn);var $i=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.data=e,r.rows=e.length,r.columns=e[0].length,r}return Object(Lo.default)(t,[{key:"set",value:function(r,o,l){return this.data[r][o]=l,this}},{key:"get",value:function(r,o){return this.data[r][o]}}]),t}(Xn);function po(u,n){var t=0;return Math.abs(u)>Math.abs(n)?(t=n/u,Math.abs(u)*Math.sqrt(1+t*t)):n!==0?(t=u/n,Math.abs(n)*Math.sqrt(1+t*t)):0}var Ps=function(){function u(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object(Ao.default)(this,u),n=$i.checkMatrix(n),n.isEmpty())throw new Error("Matrix must be non-empty");var e=n.rows,r=n.columns,o=t.computeLeftSingularVectors,l=o===void 0?!0:o,v=t.computeRightSingularVectors,b=v===void 0?!0:v,L=t.autoTranspose,F=L===void 0?!1:L,U=Boolean(l),rt=Boolean(b),ht=!1,bt;if(e<r)if(!F)bt=n.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{bt=n.transpose(),e=bt.rows,r=bt.columns,ht=!0;var At=U;U=rt,rt=At}else bt=n.clone();for(var wt=Math.min(e,r),kt=Math.min(e+1,r),Ut=new Float64Array(kt),Kt=new Wn(e,wt),qt=new Wn(r,r),ne=new Float64Array(r),ye=new Float64Array(e),xe=new Float64Array(kt),je=0;je<kt;je++)xe[je]=je;for(var We=Math.min(e-1,r),Be=Math.max(0,Math.min(r-2,e)),qe=Math.max(We,Be),sr=0;sr<qe;sr++){if(sr<We){Ut[sr]=0;for(var hn=sr;hn<e;hn++)Ut[sr]=po(Ut[sr],bt.get(hn,sr));if(Ut[sr]!==0){bt.get(sr,sr)<0&&(Ut[sr]=-Ut[sr]);for(var dn=sr;dn<e;dn++)bt.set(dn,sr,bt.get(dn,sr)/Ut[sr]);bt.set(sr,sr,bt.get(sr,sr)+1)}Ut[sr]=-Ut[sr]}for(var vn=sr+1;vn<r;vn++){if(sr<We&&Ut[sr]!==0){for(var aa=0,ra=sr;ra<e;ra++)aa+=bt.get(ra,sr)*bt.get(ra,vn);aa=-aa/bt.get(sr,sr);for(var Rn=sr;Rn<e;Rn++)bt.set(Rn,vn,bt.get(Rn,vn)+aa*bt.get(Rn,sr))}ne[vn]=bt.get(sr,vn)}if(U&&sr<We)for(var Gn=sr;Gn<e;Gn++)Kt.set(Gn,sr,bt.get(Gn,sr));if(sr<Be){ne[sr]=0;for(var Qn=sr+1;Qn<r;Qn++)ne[sr]=po(ne[sr],ne[Qn]);if(ne[sr]!==0){ne[sr+1]<0&&(ne[sr]=0-ne[sr]);for(var gn=sr+1;gn<r;gn++)ne[gn]/=ne[sr];ne[sr+1]+=1}if(ne[sr]=-ne[sr],sr+1<e&&ne[sr]!==0){for(var Jn=sr+1;Jn<e;Jn++)ye[Jn]=0;for(var Pa=sr+1;Pa<e;Pa++)for(var Cn=sr+1;Cn<r;Cn++)ye[Pa]+=ne[Cn]*bt.get(Pa,Cn);for(var Yn=sr+1;Yn<r;Yn++)for(var li=-ne[Yn]/ne[sr+1],yi=sr+1;yi<e;yi++)bt.set(yi,Yn,bt.get(yi,Yn)+li*ye[yi])}if(rt)for(var Ri=sr+1;Ri<r;Ri++)qt.set(Ri,sr,ne[Ri])}}var Zr=Math.min(r,e+1);if(We<r&&(Ut[We]=bt.get(We,We)),e<Zr&&(Ut[Zr-1]=0),Be+1<Zr&&(ne[Be]=bt.get(Be,Zr-1)),ne[Zr-1]=0,U){for(var lo=We;lo<wt;lo++){for(var La=0;La<e;La++)Kt.set(La,lo,0);Kt.set(lo,lo,1)}for(var oa=We-1;oa>=0;oa--)if(Ut[oa]!==0){for(var ao=oa+1;ao<wt;ao++){for(var So=0,Mo=oa;Mo<e;Mo++)So+=Kt.get(Mo,oa)*Kt.get(Mo,ao);So=-So/Kt.get(oa,oa);for(var Ls=oa;Ls<e;Ls++)Kt.set(Ls,ao,Kt.get(Ls,ao)+So*Kt.get(Ls,oa))}for(var Zu=oa;Zu<e;Zu++)Kt.set(Zu,oa,-Kt.get(Zu,oa));Kt.set(oa,oa,1+Kt.get(oa,oa));for(var yh=0;yh<oa-1;yh++)Kt.set(yh,oa,0)}else{for(var ld=0;ld<e;ld++)Kt.set(ld,oa,0);Kt.set(oa,oa,1)}}if(rt)for(var cu=r-1;cu>=0;cu--){if(cu<Be&&ne[cu]!==0)for(var Jc=cu+1;Jc<r;Jc++){for(var mh=0,yc=cu+1;yc<r;yc++)mh+=qt.get(yc,cu)*qt.get(yc,Jc);mh=-mh/qt.get(cu+1,cu);for(var _c=cu+1;_c<r;_c++)qt.set(_c,Jc,qt.get(_c,Jc)+mh*qt.get(_c,cu))}for(var qc=0;qc<r;qc++)qt.set(qc,cu,0);qt.set(cu,cu,1)}for(var wl=Zr-1,Rl=0,mc=Number.EPSILON;Zr>0;){var mi=void 0,Ff=void 0;for(mi=Zr-2;mi>=-1&&mi!==-1;mi--){var TC=Number.MIN_VALUE+mc*Math.abs(Ut[mi]+Math.abs(Ut[mi+1]));if(Math.abs(ne[mi])<=TC||Number.isNaN(ne[mi])){ne[mi]=0;break}}if(mi===Zr-2)Ff=4;else{var Qu=void 0;for(Qu=Zr-1;Qu>=mi&&Qu!==mi;Qu--){var DC=(Qu!==Zr?Math.abs(ne[Qu]):0)+(Qu!==mi+1?Math.abs(ne[Qu-1]):0);if(Math.abs(Ut[Qu])<=mc*DC){Ut[Qu]=0;break}}Qu===mi?Ff=3:Qu===Zr-1?Ff=1:(Ff=2,mi=Qu)}switch(mi++,Ff){case 1:{var Ug=ne[Zr-2];ne[Zr-2]=0;for(var hl=Zr-2;hl>=mi;hl--){var qd=po(Ut[hl],Ug),Wg=Ut[hl]/qd,zg=Ug/qd;if(Ut[hl]=qd,hl!==mi&&(Ug=-zg*ne[hl-1],ne[hl-1]=Wg*ne[hl-1]),rt)for(var Nf=0;Nf<r;Nf++)qd=Wg*qt.get(Nf,hl)+zg*qt.get(Nf,Zr-1),qt.set(Nf,Zr-1,-zg*qt.get(Nf,hl)+Wg*qt.get(Nf,Zr-1)),qt.set(Nf,hl,qd)}break}case 2:{var kg=ne[mi-1];ne[mi-1]=0;for(var Fl=mi;Fl<Zr;Fl++){var tv=po(Ut[Fl],kg),Vg=Ut[Fl]/tv,Hg=kg/tv;if(Ut[Fl]=tv,kg=-Hg*ne[Fl],ne[Fl]=Vg*ne[Fl],U)for(var Gf=0;Gf<e;Gf++)tv=Vg*Kt.get(Gf,Fl)+Hg*Kt.get(Gf,mi-1),Kt.set(Gf,mi-1,-Hg*Kt.get(Gf,Fl)+Vg*Kt.get(Gf,mi-1)),Kt.set(Gf,Fl,tv)}break}case 3:{var ev=Math.max(Math.abs(Ut[Zr-1]),Math.abs(Ut[Zr-2]),Math.abs(ne[Zr-2]),Math.abs(Ut[mi]),Math.abs(ne[mi])),cd=Ut[Zr-1]/ev,sm=Ut[Zr-2]/ev,Jv=ne[Zr-2]/ev,Xg=Ut[mi]/ev,PC=ne[mi]/ev,bh=((sm+cd)*(sm-cd)+Jv*Jv)/2,_v=cd*Jv*(cd*Jv),rv=0;(bh!==0||_v!==0)&&(bh<0?rv=0-Math.sqrt(bh*bh+_v):rv=Math.sqrt(bh*bh+_v),rv=_v/(bh+rv));for(var Eh=(Xg+cd)*(Xg-cd)+rv,fd=Xg*PC,go=mi;go<Zr-1;go++){var Su=po(Eh,fd);Su===0&&(Su=Number.MIN_VALUE);var Nl=Eh/Su,Gl=fd/Su;if(go!==mi&&(ne[go-1]=Su),Eh=Nl*Ut[go]+Gl*ne[go],ne[go]=Nl*ne[go]-Gl*Ut[go],fd=Gl*Ut[go+1],Ut[go+1]=Nl*Ut[go+1],rt)for(var Uf=0;Uf<r;Uf++)Su=Nl*qt.get(Uf,go)+Gl*qt.get(Uf,go+1),qt.set(Uf,go+1,-Gl*qt.get(Uf,go)+Nl*qt.get(Uf,go+1)),qt.set(Uf,go,Su);if(Su=po(Eh,fd),Su===0&&(Su=Number.MIN_VALUE),Nl=Eh/Su,Gl=fd/Su,Ut[go]=Su,Eh=Nl*ne[go]+Gl*Ut[go+1],Ut[go+1]=-Gl*ne[go]+Nl*Ut[go+1],fd=Gl*ne[go+1],ne[go+1]=Nl*ne[go+1],U&&go<e-1)for(var Wf=0;Wf<e;Wf++)Su=Nl*Kt.get(Wf,go)+Gl*Kt.get(Wf,go+1),Kt.set(Wf,go+1,-Gl*Kt.get(Wf,go)+Nl*Kt.get(Wf,go+1)),Kt.set(Wf,go,Su)}ne[Zr-2]=Eh,Rl=Rl+1;break}case 4:{if(Ut[mi]<=0&&(Ut[mi]=Ut[mi]<0?-Ut[mi]:0,rt))for(var qv=0;qv<=wl;qv++)qt.set(qv,mi,-qt.get(qv,mi));for(;mi<wl&&!(Ut[mi]>=Ut[mi+1]);){var nv=Ut[mi];if(Ut[mi]=Ut[mi+1],Ut[mi+1]=nv,rt&&mi<r-1)for(var hd=0;hd<r;hd++)nv=qt.get(hd,mi+1),qt.set(hd,mi+1,qt.get(hd,mi)),qt.set(hd,mi,nv);if(U&&mi<e-1)for(var dd=0;dd<e;dd++)nv=Kt.get(dd,mi+1),Kt.set(dd,mi+1,Kt.get(dd,mi)),Kt.set(dd,mi,nv);mi++}Rl=0,Zr--;break}}}if(ht){var IC=qt;qt=Kt,Kt=IC}this.m=e,this.n=r,this.s=Ut,this.U=Kt,this.V=qt}return Object(Lo.default)(u,[{key:"solve",value:function(t){for(var e=t,r=this.threshold,o=this.s.length,l=Wn.zeros(o,o),v=0;v<o;v++)Math.abs(this.s[v])<=r?l.set(v,v,0):l.set(v,v,1/this.s[v]);for(var b=this.U,L=this.rightSingularVectors,F=L.mmul(l),U=L.rows,rt=b.rows,ht=Wn.zeros(U,rt),bt=0;bt<U;bt++)for(var At=0;At<rt;At++){for(var wt=0,kt=0;kt<o;kt++)wt+=F.get(bt,kt)*b.get(At,kt);ht.set(bt,At,wt)}return ht.mmul(e)}},{key:"solveForDiagonal",value:function(t){return this.solve(Wn.diag(t))}},{key:"inverse",value:function(){for(var t=this.V,e=this.threshold,r=t.rows,o=t.columns,l=new Wn(r,this.s.length),v=0;v<r;v++)for(var b=0;b<o;b++)Math.abs(this.s[b])>e&&l.set(v,b,t.get(v,b)/this.s[b]);for(var L=this.U,F=L.rows,U=L.columns,rt=new Wn(r,F),ht=0;ht<r;ht++)for(var bt=0;bt<F;bt++){for(var At=0,wt=0;wt<U;wt++)At+=l.get(ht,wt)*L.get(bt,wt);rt.set(ht,bt,At)}return rt}},{key:"condition",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"norm2",get:function(){return this.s[0]}},{key:"rank",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s,o=0,l=r.length;o<l;o++)r[o]>t&&e++;return e}},{key:"diagonal",get:function(){return Array.from(this.s)}},{key:"threshold",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"leftSingularVectors",get:function(){return this.U}},{key:"rightSingularVectors",get:function(){return this.V}},{key:"diagonalMatrix",get:function(){return Wn.diag(this.s)}}]),u}(),lh=function(){function u(n){Object(Ao.default)(this,u),this.distances=n.distances,this.dimension=n.dimension||2,this.linkDistance=n.linkDistance}return Object(Lo.default)(u,[{key:"layout",value:function(){var t=this,e=t.dimension,r=t.distances,o=t.linkDistance;try{var l=Wn.mul(Wn.pow(r,2),-.5),v=l.mean("row"),b=l.mean("column"),L=l.mean();l.add(L).subRowVector(v).subColumnVector(b);var F=new Ps(l),U=Wn.sqrt(F.diagonalMatrix).diagonal();return F.leftSingularVectors.toJSON().map(function(wt){return Wn.mul([wt],[U]).toJSON()[0].splice(0,e)})}catch(wt){for(var rt=[],ht=0;ht<r.length;ht++){var bt=Math.random()*o,At=Math.random()*o;rt.push([bt,At])}return rt}}}]),u}(),uu=800,kh=function(){function u(n){Object(Ao.default)(this,u),this.disp=[],this.positions=n.positions,this.adjMatrix=n.adjMatrix,this.focusID=n.focusID,this.radii=n.radii,this.iterations=n.iterations||10,this.height=n.height||10,this.width=n.width||10,this.speed=n.speed||100,this.gravity=n.gravity||10,this.nodeSizeFunc=n.nodeSizeFunc,this.k=n.k||5,this.strictRadial=n.strictRadial,this.nodes=n.nodes}return Object(Lo.default)(u,[{key:"layout",value:function(){var t=this,e=t.positions,r=[],o=t.iterations,l=t.width/10;t.maxDisplace=l,t.disp=r;for(var v=0;v<o;v++)e.forEach(function(b,L){r[L]={x:0,y:0}}),t.getRepulsion(),t.updatePositions();return e}},{key:"getRepulsion",value:function(){var t=this,e=t.positions,r=t.nodes,o=t.disp,l=t.k,v=t.radii||[];e.forEach(function(b,L){o[L]={x:0,y:0},e.forEach(function(F,U){if(L!==U&&v[L]===v[U]){var rt=b[0]-F[0],ht=b[1]-F[1],bt=Math.sqrt(rt*rt+ht*ht);if(bt===0){bt=1;var At=L>U?1:-1;rt=.01*At,ht=.01*At}if(bt<t.nodeSizeFunc(r[L])/2+t.nodeSizeFunc(r[U])/2){var wt=l*l/bt;o[L].x+=rt/bt*wt,o[L].y+=ht/bt*wt}}})})}},{key:"updatePositions",value:function(){var t=this,e=t.positions,r=t.disp,o=t.speed,l=t.strictRadial,v=t.focusID,b=t.maxDisplace||t.width/10;l&&r.forEach(function(F,U){var rt=e[U][0]-e[v][0],ht=e[U][1]-e[v][1],bt=Math.sqrt(rt*rt+ht*ht),At=ht/bt,wt=-rt/bt,kt=Math.sqrt(F.x*F.x+F.y*F.y),Ut=Math.acos((At*F.x+wt*F.y)/kt);Ut>Math.PI/2&&(Ut-=Math.PI/2,At*=-1,wt*=-1);var Kt=Math.cos(Ut)*kt;F.x=At*Kt,F.y=wt*Kt});var L=t.radii;e.forEach(function(F,U){if(U!==v){var rt=Math.sqrt(r[U].x*r[U].x+r[U].y*r[U].y);if(rt>0&&U!==v){var ht=Math.min(b*(o/uu),rt);if(F[0]+=r[U].x/rt*ht,F[1]+=r[U].y/rt*ht,l){var bt=F[0]-e[v][0],At=F[1]-e[v][1],wt=Math.sqrt(bt*bt+At*At);bt=bt/wt*L[U],At=At/wt*L[U],F[0]=e[v][0]+bt,F[1]=e[v][1]+At}}}})}}]),u}();function Fs(u){for(var n=u.length,t=u[0].length,e=[],r=0;r<n;r++){for(var o=[],l=0;l<t;l++)u[r][l]!==0?o.push(1/(u[r][l]*u[r][l])):o.push(0);e.push(o)}return e}function Vh(u,n){var t=-1;return u.forEach(function(e,r){e.id===n&&(t=r)}),t}function iv(u,n){return Math.sqrt((u[0]-n[0])*(u[0]-n[0])+(u[1]-n[1])*(u[1]-n[1]))}var ov=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.maxIteration=1e3,r.focusNode=null,r.unitRadius=null,r.linkDistance=50,r.preventOverlap=!1,r.strictRadial=!0,r.maxPreventOverlapIteration=200,r.sortStrength=10,r.nodes=[],r.edges=[],r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,focusNode:null,unitRadius:null,linkDistance:50,preventOverlap:!1,nodeSize:void 0,nodeSpacing:void 0,strictRadial:!0,maxPreventOverlapIteration:200,sortBy:void 0,sortStrength:10}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.edges||[];if(!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var v=r.center;if(o.length===1){o[0].x=v[0],o[0].y=v[1],r.onLayoutEnd&&r.onLayoutEnd();return}var b=r.linkDistance,L=null;if(rc(r.focusNode)){for(var F=!1,U=0;U<o.length;U++)o[U].id===r.focusNode&&(L=o[U],r.focusNode=L,F=!0,U=o.length);F||(L=null)}else L=r.focusNode;L||(L=o[0],r.focusNode=L);var rt=Vh(o,L.id);r.focusIndex=rt;var ht=Lh({nodes:o,edges:l},!1),bt=jh(ht),At=r.maxToFocus(bt,rt);r.handleInfinity(bt,rt,At+1),r.distances=bt;var wt=bt[rt],kt=r.width||500,Ut=r.height||500,Kt=kt-v[0]>v[0]?v[0]:kt-v[0],qt=Ut-v[1]>v[1]?v[1]:Ut-v[1];Kt===0&&(Kt=kt/2),qt===0&&(qt=Ut/2);var ne=qt>Kt?Kt:qt,ye=Math.max.apply(Math,Object(Mi.a)(wt)),xe=[];wt.forEach(function(Qn,gn){r.unitRadius||(r.unitRadius=ne/ye),xe[gn]=Qn*r.unitRadius}),r.radii=xe;var je=r.eIdealDisMatrix();r.eIdealDistances=je;var We=Fs(je);r.weights=We;var Be=new lh({linkDistance:b,distances:je}),qe=Be.layout();qe.forEach(function(Qn){Ef(Qn[0])&&(Qn[0]=Math.random()*b),Ef(Qn[1])&&(Qn[1]=Math.random()*b)}),r.positions=qe,qe.forEach(function(Qn,gn){o[gn].x=Qn[0]+v[0],o[gn].y=Qn[1]+v[1]}),qe.forEach(function(Qn){Qn[0]-=qe[rt][0],Qn[1]-=qe[rt][1]}),r.run();var sr=r.preventOverlap,hn=r.nodeSize,dn,vn=r.strictRadial;if(sr){var aa=r.nodeSpacing,ra;xa(aa)?ra=function(){return aa}:Bu(aa)?ra=aa:ra=function(){return 0},hn?ms(hn)?dn=function(gn){var Jn=hn[0]>hn[1]?hn[0]:hn[1];return Jn+ra(gn)}:dn=function(gn){return hn+ra(gn)}:dn=function(gn){if(gn.size){if(ms(gn.size)){var Jn=gn.size[0]>gn.size[1]?gn.size[0]:gn.size[1];return Jn+ra(gn)}return gn.size+ra(gn)}return 10+ra(gn)};var Rn={nodes:o,nodeSizeFunc:dn,adjMatrix:ht,positions:qe,radii:xe,height:Ut,width:kt,strictRadial:vn,focusID:rt,iterations:r.maxPreventOverlapIteration||200,k:qe.length/4.5},Gn=new kh(Rn);qe=Gn.layout()}return qe.forEach(function(Qn,gn){o[gn].x=Qn[0]+v[0],o[gn].y=Qn[1]+v[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:l}}},{key:"run",value:function(){for(var r=this,o=r.maxIteration,l=r.positions||[],v=r.weights||[],b=r.eIdealDistances||[],L=r.radii||[],F=0;F<=o;F++){var U=F/o;r.oneIteration(U,l,L,b,v)}}},{key:"oneIteration",value:function(r,o,l,v,b){var L=this,F=1-r,U=L.focusIndex;o.forEach(function(rt,ht){var bt=iv(rt,[0,0]),At=bt===0?0:1/bt;if(ht!==U){var wt=0,kt=0,Ut=0;o.forEach(function(qt,ne){if(ht!==ne){var ye=iv(rt,qt),xe=ye===0?0:1/ye,je=v[ne][ht];Ut+=b[ht][ne],wt+=b[ht][ne]*(qt[0]+je*(rt[0]-qt[0])*xe),kt+=b[ht][ne]*(qt[1]+je*(rt[1]-qt[1])*xe)}});var Kt=l[ht]===0?0:1/l[ht];Ut*=F,Ut+=r*Kt*Kt,wt*=F,wt+=r*Kt*rt[0]*At,rt[0]=wt/Ut,kt*=F,kt+=r*Kt*rt[1]*At,rt[1]=kt/Ut}})}},{key:"eIdealDisMatrix",value:function(){var r=this,o=r.nodes;if(!o)return[];var l=r.distances,v=r.linkDistance,b=r.radii||[],L=r.unitRadius||50,F=[];return l&&l.forEach(function(U,rt){var ht=[];U.forEach(function(bt,At){if(rt===At)ht.push(0);else if(b[rt]===b[At])if(r.sortBy==="data")ht.push(bt*(Math.abs(rt-At)*r.sortStrength)/(b[rt]/L));else if(r.sortBy){var wt=o[rt][r.sortBy]||0,kt=o[At][r.sortBy]||0;rc(wt)&&(wt=wt.charCodeAt(0)),rc(kt)&&(kt=kt.charCodeAt(0)),ht.push(bt*(Math.abs(wt-kt)*r.sortStrength)/(b[rt]/L))}else ht.push(bt*v/(b[rt]/L));else{var Ut=(v+L)/2;ht.push(bt*Ut)}}),F.push(ht)}),F}},{key:"handleInfinity",value:function(r,o,l){for(var v=r.length,b=0;b<v;b++)if(r[o][b]===Infinity){r[o][b]=l,r[b][o]=l;for(var L=0;L<v;L++)r[b][L]!==Infinity&&r[o][L]===Infinity&&(r[o][L]=l+r[b][L],r[L][o]=l+r[b][L])}for(var F=0;F<v;F++)if(F!==o){for(var U=0;U<v;U++)if(r[F][U]===Infinity){var rt=Math.abs(r[o][F]-r[o][U]);rt=rt===0?1:rt,r[F][U]=rt}}}},{key:"maxToFocus",value:function(r,o){for(var l=0,v=0;v<r[o].length;v++)r[o][v]!==Infinity&&(l=r[o][v]>l?r[o][v]:l);return l}},{key:"getType",value:function(){return"radial"}}]),t}(Ds),sv=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.nodeSize=30,r.minNodeSpacing=10,r.preventOverlap=!1,r.equidistant=!1,r.startAngle=3/2*Math.PI,r.clockwise=!0,r.sortBy="degree",r.nodes=[],r.edges=[],r.width=300,r.height=300,r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{nodeSize:30,minNodeSpacing:10,preventOverlap:!1,sweep:void 0,equidistant:!1,startAngle:3/2*Math.PI,clockwise:!0,maxLevelDiff:void 0,sortBy:"degree"}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.edges,v=o.length;if(v===0){r.onLayoutEnd&&r.onLayoutEnd();return}!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight),r.center||(r.center=[r.width/2,r.height/2]);var b=r.center;if(v===1){o[0].x=b[0],o[0].y=b[1],r.onLayoutEnd&&r.onLayoutEnd();return}var L=[],F;ms(r.nodeSize)?F=Math.max(r.nodeSize[0],r.nodeSize[1]):F=r.nodeSize,o.forEach(function(Be){L.push(Be);var qe=F;ms(Be.size)?qe=Math.max(Be.size[0],Be.size[1]):xa(Be.size)&&(qe=Be.size),F=Math.max(F,qe)}),r.clockwise=r.counterclockwise!==void 0?!r.counterclockwise:r.clockwise;var U={},rt={};if(L.forEach(function(Be,qe){U[Be.id]=Be,rt[Be.id]=qe}),(r.sortBy==="degree"||!rc(r.sortBy)||L[0][r.sortBy]===void 0)&&(r.sortBy="degree",!xa(o[0].degree))){var ht=jc(o.length,rt,l);L.forEach(function(Be,qe){Be.degree=ht[qe]})}L.sort(function(Be,qe){return qe[r.sortBy]-Be[r.sortBy]}),r.maxValueNode=L[0],r.maxLevelDiff=r.maxLevelDiff||r.maxValueNode[r.sortBy]/4;var bt=[[]],At=bt[0];L.forEach(function(Be){if(At.length>0){var qe=Math.abs(At[0][r.sortBy]-Be[r.sortBy]);r.maxLevelDiff&&qe>=r.maxLevelDiff&&(At=[],bt.push(At))}At.push(Be)});var wt=F+r.minNodeSpacing;if(!r.preventOverlap){var kt=bt.length>0&&bt[0].length>1,Ut=Math.min(r.width,r.height)/2-wt,Kt=Ut/(bt.length+(kt?1:0));wt=Math.min(wt,Kt)}var qt=0;if(bt.forEach(function(Be){var qe=r.sweep;qe===void 0&&(qe=2*Math.PI-2*Math.PI/Be.length);var sr=Be.dTheta=qe/Math.max(1,Be.length-1);if(Be.length>1&&r.preventOverlap){var hn=Math.cos(sr)-Math.cos(0),dn=Math.sin(sr)-Math.sin(0),vn=Math.sqrt(wt*wt/(hn*hn+dn*dn));qt=Math.max(vn,qt)}Be.r=qt,qt+=wt}),r.equidistant){for(var ne=0,ye=0,xe=0;xe<bt.length;xe++){var je=bt[xe],We=je.r-ye;ne=Math.max(ne,We)}ye=0,bt.forEach(function(Be,qe){qe===0&&(ye=Be.r),Be.r=ye,ye+=ne})}return bt.forEach(function(Be){var qe=Be.dTheta,sr=Be.r;Be.forEach(function(hn,dn){var vn=r.startAngle+(r.clockwise?1:-1)*qe*dn;hn.x=b[0]+sr*Math.cos(vn),hn.y=b[1]+sr*Math.sin(vn)})}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:l}}},{key:"getType",value:function(){return"concentric"}}]),t}(Ds),tg=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.center=[0,0],r.linkDistance=50,r.nodes=[],r.edges=[],r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{center:[0,0],linkDistance:50}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.edges,v=l===void 0?[]:l,b=r.center;if(!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(o.length===1){o[0].x=b[0],o[0].y=b[1],r.onLayoutEnd&&r.onLayoutEnd();return}var L=r.linkDistance,F=Lh({nodes:o,edges:v},!1),U=jh(F);r.handleInfinity(U);var rt=Bh(U,L);r.scaledDistances=rt;var ht=r.runMDS();return r.positions=ht,ht.forEach(function(bt,At){o[At].x=bt[0]+b[0],o[At].y=bt[1]+b[1]}),r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:v}}},{key:"runMDS",value:function(){var r=this,o=2,l=r.scaledDistances,v=Wn.mul(Wn.pow(l,2),-.5),b=v.mean("row"),L=v.mean("column"),F=v.mean();v.add(F).subRowVector(b).subColumnVector(L);var U=new Ps(v),rt=Wn.sqrt(U.diagonalMatrix).diagonal();return U.leftSingularVectors.toJSON().map(function(ht){return Wn.mul([ht],[rt]).toJSON()[0].splice(0,o)})}},{key:"handleInfinity",value:function(r){var o=-999999;r.forEach(function(l){l.forEach(function(v){v!==Infinity&&o<v&&(o=v)})}),r.forEach(function(l,v){l.forEach(function(b,L){b===Infinity&&(r[v][L]=o)})})}},{key:"getType",value:function(){return"mds"}}]),t}(Ds),ch=800,Vc=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterGravity=10,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.onLayoutEnd=function(){},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){var r=this,o=this,l=o.nodes;if(!l||l.length===0){o.onLayoutEnd&&o.onLayoutEnd();return}!o.width&&typeof window!="undefined"&&(o.width=window.innerWidth),!o.height&&typeof window!="undefined"&&(o.height=window.innerHeight),o.center||(o.center=[o.width/2,o.height/2]);var v=o.center;if(l.length===1){l[0].x=v[0],l[0].y=v[1],o.onLayoutEnd&&o.onLayoutEnd();return}var b={},L={};return l.forEach(function(F,U){xa(F.x)||(F.x=Math.random()*r.width),xa(F.y)||(F.y=Math.random()*r.height),b[F.id]=F,L[F.id]=U}),o.nodeMap=b,o.nodeIdxMap=L,o.run()}},{key:"run",value:function(){var r=this,o=r.nodes,l=r.edges,v=r.maxIteration,b=r.center,L=r.height*r.width,F=Math.sqrt(L)/10,U=L/(o.length+1),rt=Math.sqrt(U),ht=r.gravity,bt=r.speed,At=r.clustering,wt={};if(At){o.forEach(function(qt){if(wt[qt.cluster]===void 0){var ne={name:qt.cluster,cx:0,cy:0,count:0};wt[qt.cluster]=ne}var ye=wt[qt.cluster];xa(qt.x)&&(ye.cx+=qt.x),xa(qt.y)&&(ye.cy+=qt.y),ye.count++});for(var kt in wt)wt[kt].cx/=wt[kt].count,wt[kt].cy/=wt[kt].count}for(var Ut=function(ne){var ye=[];if(o.forEach(function(Be,qe){ye[qe]={x:0,y:0}}),r.applyCalculate(o,l,ye,rt,U),At){var xe=r.clusterGravity||ht;o.forEach(function(Be,qe){if(!(!xa(Be.x)||!xa(Be.y))){var sr=wt[Be.cluster],hn=Math.sqrt((Be.x-sr.cx)*(Be.x-sr.cx)+(Be.y-sr.cy)*(Be.y-sr.cy)),dn=rt*xe;ye[qe].x-=dn*(Be.x-sr.cx)/hn,ye[qe].y-=dn*(Be.y-sr.cy)/hn}});for(var je in wt)wt[je].cx=0,wt[je].cy=0,wt[je].count=0;o.forEach(function(Be){var qe=wt[Be.cluster];xa(Be.x)&&(qe.cx+=Be.x),xa(Be.y)&&(qe.cy+=Be.y),qe.count++});for(var We in wt)wt[We].cx/=wt[We].count,wt[We].cy/=wt[We].count}o.forEach(function(Be,qe){if(!(!xa(Be.x)||!xa(Be.y))){var sr=.01*rt*ht;ye[qe].x-=sr*(Be.x-b[0]),ye[qe].y-=sr*(Be.y-b[1])}}),o.forEach(function(Be,qe){if(!(!xa(Be.x)||!xa(Be.y))){var sr=Math.sqrt(ye[qe].x*ye[qe].x+ye[qe].y*ye[qe].y);if(sr>0){var hn=Math.min(F*(bt/ch),sr);Be.x+=ye[qe].x/sr*hn,Be.y+=ye[qe].y/sr*hn}}})},Kt=0;Kt<v;Kt++)Ut(Kt);return r.onLayoutEnd&&r.onLayoutEnd(),{nodes:o,edges:l}}},{key:"applyCalculate",value:function(r,o,l,v,b){var L=this;L.calRepulsive(r,l,b),L.calAttractive(o,l,v)}},{key:"calRepulsive",value:function(r,o,l){r.forEach(function(v,b){o[b]={x:0,y:0},r.forEach(function(L,F){if(b!==F&&!(!xa(v.x)||!xa(L.x)||!xa(v.y)||!xa(L.y))){var U=v.x-L.x,rt=v.y-L.y,ht=U*U+rt*rt;if(ht===0){ht=1;var bt=b>F?1:-1;U=.01*bt,rt=.01*bt}var At=l/ht;o[b].x+=U*At,o[b].y+=rt*At}})})}},{key:"calAttractive",value:function(r,o,l){var v=this;r.forEach(function(b){if(!(!b.source||!b.target)){var L=v.nodeIdxMap[b.source],F=v.nodeIdxMap[b.target];if(L!==F){var U=v.nodeMap[b.source],rt=v.nodeMap[b.target];if(!(!xa(rt.x)||!xa(U.x)||!xa(rt.y)||!xa(U.y))){var ht=rt.x-U.x,bt=rt.y-U.y,At=Math.sqrt(ht*ht+bt*bt),wt=At*At/l;o[F].x-=ht/At*wt,o[F].y-=bt/At*wt,o[L].x+=ht/At*wt,o[L].y+=bt/At*wt}}}})}},{key:"getType",value:function(){return"fruchterman"}}]),t}(Ds),eg=a("WmNS"),$s=a.n(eg),rg=a("yG8O"),Bo=a.n(rg),ng=a("lwsE"),no=a.n(ng),Tf=a("W8MJ"),_i=a.n(Tf),ag=a("U+yc"),wo=a.n(ag),Yg=a("1ABj"),Ne=a("Gj0h"),pi=a("4cb6");function Sd(u){return typeof u=="number"}function Il(u){return u===void 0?0:u>360||u<-360?u%360:u}function sc(u,n,t){return Sd(u)?zr.e.fromValues(u,n,t):u.length===3?zr.e.clone(u):zr.e.fromValues(u[0],u[1],u[2])}var Md=function(){function u(n,t){no()(this,u),this.name=void 0,this.matrix=void 0,this.right=void 0,this.up=void 0,this.forward=void 0,this.position=void 0,this.focalPoint=void 0,this.distanceVector=void 0,this.distance=void 0,this.dollyingStep=void 0,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.name=n,this.matrix=zr.b.clone(t.matrix),this.right=zr.e.clone(t.right),this.up=zr.e.clone(t.up),this.forward=zr.e.clone(t.forward),this.position=zr.e.clone(t.position),this.focalPoint=zr.e.clone(t.focalPoint),this.distanceVector=zr.e.clone(t.distanceVector),this.azimuth=t.azimuth,this.elevation=t.elevation,this.roll=t.roll,this.relAzimuth=t.relAzimuth,this.relElevation=t.relElevation,this.relRoll=t.relRoll,this.dollyingStep=t.dollyingStep,this.distance=t.distance}return _i()(u,[{key:"getPosition",value:function(){return this.position}},{key:"getFocalPoint",value:function(){return this.focalPoint}},{key:"getRoll",value:function(){return this.roll}},{key:"retrieve",value:function(t){t.matrix=zr.b.copy(t.matrix,this.matrix),t.right=zr.e.copy(t.right,this.right),t.up=zr.e.copy(t.up,this.up),t.forward=zr.e.copy(t.forward,this.forward),t.position=zr.e.copy(t.position,this.position),t.focalPoint=zr.e.copy(t.focalPoint,this.focalPoint),t.distanceVector=zr.e.copy(t.distanceVector,this.distanceVector),t.azimuth=this.azimuth,t.elevation=this.elevation,t.roll=this.roll,t.relAzimuth=this.relAzimuth,t.relElevation=this.relElevation,t.relRoll=this.relRoll,t.dollyingStep=this.dollyingStep,t.distance=this.distance}}]),u}(),uv,Td,lv,Hh,cv,fv,hv,xo;(function(u){u.ORBITING="ORBITING",u.EXPLORING="EXPLORING",u.TRACKING="TRACKING"})(xo||(xo={}));var Xh;(function(u){u.DEFAULT="DEFAULT",u.ROTATIONAL="ROTATIONAL",u.TRANSLATIONAL="TRANSLATIONAL",u.CINEMATIC="CINEMATIC"})(Xh||(Xh={}));var Hc;(function(u){u.ORTHOGRAPHIC="ORTHOGRAPHIC",u.PERSPECTIVE="PERSPECTIVE"})(Hc||(Hc={}));var ul=Math.PI/180,uc=180/Math.PI,fh=(uv=Object(pi.injectable)(),Td=Object(pi.inject)(Ne.IDENTIFIER.InteractorService),uv(lv=(Hh=(hv=fv=function(){function u(){no()(this,u),this.matrix=zr.b.create(),this.right=zr.e.fromValues(1,0,0),this.up=zr.e.fromValues(0,1,0),this.forward=zr.e.fromValues(0,0,1),this.position=zr.e.fromValues(0,0,1),this.focalPoint=zr.e.fromValues(0,0,0),this.distanceVector=zr.e.fromValues(0,0,0),this.distance=1,this.azimuth=0,this.elevation=0,this.roll=0,this.relAzimuth=0,this.relElevation=0,this.relRoll=0,this.dollyingStep=0,this.maxDistance=Infinity,this.minDistance=-Infinity,this.rotateWorld=!1,Bo()(this,"interactor",cv,this),this.fov=30,this.near=.1,this.far=1e4,this.aspect=1,this.left=void 0,this.rright=void 0,this.top=void 0,this.bottom=void 0,this.zoom=1,this.perspective=zr.b.create(),this.view=void 0,this.following=void 0,this.type=xo.EXPLORING,this.trackingMode=Xh.DEFAULT,this.projectionMode=Hc.PERSPECTIVE,this.frustum=new Ne.Frustum,this.landmarks=[],this.landmarkAnimationID=void 0}return _i()(u,[{key:"clone",value:function(){var t=new u;return t.setType(this.type,void 0),t.interactor=this.interactor,t}},{key:"getProjectionMode",value:function(){return this.projectionMode}},{key:"getPerspective",value:function(){return this.perspective}},{key:"getFrustum",value:function(){return this.frustum}},{key:"getPosition",value:function(){return this.position}},{key:"setType",value:function(t,e){return this.type=t,this.type===xo.EXPLORING?this.setWorldRotation(!0):this.setWorldRotation(!1),this._getAngles(),this.type===xo.TRACKING&&e!==void 0&&this.setTrackingMode(e),this}},{key:"setProjectionMode",value:function(t){return this.projectionMode=t,this}},{key:"setTrackingMode",value:function(t){if(this.type!==xo.TRACKING)throw new Error("Impossible to set a tracking mode if the camera is not of tracking type");return this.trackingMode=t,this}},{key:"setWorldRotation",value:function(t){this.rotateWorld=t,this._getAngles()}},{key:"getViewTransform",value:function(){return zr.b.invert(zr.b.create(),this.matrix)}},{key:"getWorldTransform",value:function(){return this.matrix}},{key:"setMatrix",value:function(t){return this.matrix=t,this._update(),this}},{key:"setAspect",value:function(t){return this.setPerspective(this.near,this.far,this.fov,t),this}},{key:"setViewOffset",value:function(t,e,r,o,l,v){return this.aspect=t/e,this.view===void 0&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=r,this.view.offsetY=o,this.view.width=l,this.view.height=v,this.projectionMode===Hc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"clearViewOffset",value:function(){return this.view!==void 0&&(this.view.enabled=!1),this.projectionMode===Hc.PERSPECTIVE?this.setPerspective(this.near,this.far,this.fov,this.aspect):this.setOrthographic(this.left,this.rright,this.top,this.bottom,this.near,this.far),this}},{key:"setPerspective",value:function(t,e,r,o){return this.projectionMode=Hc.PERSPECTIVE,this.fov=r,this.near=t,this.far=e,this.aspect=o,zr.b.perspective(this.perspective,this.fov*ul,this.aspect,this.near,this.far),this}},{key:"setOrthographic",value:function(t,e,r,o,l,v){this.projectionMode=Hc.ORTHOGRAPHIC,this.rright=e,this.left=t,this.top=r,this.bottom=o,this.near=l,this.far=v;var b=(this.rright-this.left)/(2*this.zoom),L=(this.top-this.bottom)/(2*this.zoom),F=(this.rright+this.left)/2,U=(this.top+this.bottom)/2,rt=F-b,ht=F+b,bt=U+L,At=U-L;if(this.view!==void 0&&this.view.enabled){var wt=(this.rright-this.left)/this.view.fullWidth/this.zoom,kt=(this.top-this.bottom)/this.view.fullHeight/this.zoom;rt+=wt*this.view.offsetX,ht=rt+wt*this.view.width,bt-=kt*this.view.offsetY,At=bt-kt*this.view.height}return zr.b.ortho(this.perspective,rt,ht,bt,At,l,v),this}},{key:"setPosition",value:function(t,e,r){return this._setPosition(t,e,r),this.setFocalPoint(this.focalPoint),this}},{key:"setFocalPoint",value:function(t,e,r){var o=zr.e.fromValues(0,1,0);if(this.focalPoint=sc(t,e,r),this.trackingMode===Xh.CINEMATIC){var l=zr.e.subtract(zr.e.create(),this.focalPoint,this.position);t=l[0],e=l[1],r=l[2];var v=zr.e.length(l),b=Math.asin(e/v)*uc,L=90+Math.atan2(r,t)*uc,F=zr.b.create();zr.b.rotateY(F,F,L*ul),zr.b.rotateX(F,F,b*ul),o=zr.e.transformMat4(zr.e.create(),[0,1,0],F)}return zr.b.invert(this.matrix,zr.b.lookAt(zr.b.create(),this.position,this.focalPoint,o)),this._getAxes(),this._getDistance(),this._getAngles(),this}},{key:"setDistance",value:function(t){if(!(this.distance===t||t<0)){this.distance=t,this.distance<2e-4&&(this.distance=2e-4),this.dollyingStep=this.distance/100;var e=zr.e.create();t=this.distance;var r=this.forward,o=this.focalPoint;return e[0]=t*r[0]+o[0],e[1]=t*r[1]+o[1],e[2]=t*r[2]+o[2],this._setPosition(e),this}}},{key:"setMaxDistance",value:function(t){return this.maxDistance=t,this}},{key:"setMinDistance",value:function(t){return this.minDistance=t,this}},{key:"changeAzimuth",value:function(t){return this.setAzimuth(this.azimuth+t),this}},{key:"changeElevation",value:function(t){return this.setElevation(this.elevation+t),this}},{key:"changeRoll",value:function(t){return this.setRoll(this.roll+t),this}},{key:"setAzimuth",value:function(t){return this.azimuth=Il(t),this.computeMatrix(),this._getAxes(),this.type===xo.ORBITING||this.type===xo.EXPLORING?this._getPosition():this.type===xo.TRACKING&&this._getFocalPoint(),this}},{key:"getAzimuth",value:function(){return this.azimuth}},{key:"setElevation",value:function(t){return this.elevation=Il(t),this.computeMatrix(),this._getAxes(),this.type===xo.ORBITING||this.type===xo.EXPLORING?this._getPosition():this.type===xo.TRACKING&&this._getFocalPoint(),this}},{key:"setRoll",value:function(t){return this.roll=Il(t),this.computeMatrix(),this._getAxes(),this.type===xo.ORBITING||this.type===xo.EXPLORING?this._getPosition():this.type===xo.TRACKING&&this._getFocalPoint(),this}},{key:"rotate",value:function(t,e,r){if(this.type===xo.EXPLORING){t=Il(t),e=Il(e),r=Il(r);var o=zr.c.setAxisAngle(zr.c.create(),[1,0,0],(this.rotateWorld?1:-1)*e*ul),l=zr.c.setAxisAngle(zr.c.create(),[0,1,0],(this.rotateWorld?1:-1)*t*ul),v=zr.c.setAxisAngle(zr.c.create(),[0,0,1],r*ul),b=zr.c.multiply(zr.c.create(),l,o);b=zr.c.multiply(zr.c.create(),b,v);var L=zr.b.fromQuat(zr.b.create(),b);zr.b.translate(this.matrix,this.matrix,[0,0,-this.distance]),zr.b.multiply(this.matrix,this.matrix,L),zr.b.translate(this.matrix,this.matrix,[0,0,this.distance])}else{if(Math.abs(this.elevation+e)>90)return;this.relElevation=Il(e),this.relAzimuth=Il(t),this.relRoll=Il(r),this.elevation+=this.relElevation,this.azimuth+=this.relAzimuth,this.roll+=this.relRoll,this.computeMatrix()}return this._getAxes(),this.type===xo.ORBITING||this.type===xo.EXPLORING?this._getPosition():this.type===xo.TRACKING&&this._getFocalPoint(),this._update(),this}},{key:"pan",value:function(t,e){var r=sc(t,e,0),o=zr.e.clone(this.position);return zr.e.add(o,o,zr.e.scale(zr.e.create(),this.right,r[0])),zr.e.add(o,o,zr.e.scale(zr.e.create(),this.up,r[1])),this._setPosition(o),this}},{key:"dolly",value:function(t){var e=this.forward,r=zr.e.clone(this.position),o=t*this.dollyingStep,l=this.distance+t*this.dollyingStep;return o=Math.max(Math.min(l,this.maxDistance),this.minDistance)-this.distance,r[0]+=o*e[0],r[1]+=o*e[1],r[2]+=o*e[2],this._setPosition(r),this.type===xo.ORBITING||this.type===xo.EXPLORING?this._getDistance():this.type===xo.TRACKING&&zr.e.add(this.focalPoint,r,this.distanceVector),this}},{key:"createLandmark",value:function(t,e){var r=this.clone();r.setPosition(e.position),r.setFocalPoint(e.focalPoint),e.roll!==void 0&&r.setRoll(e.roll);var o=new Md(t,r);return this.landmarks.push(o),o}},{key:"setLandmark",value:function(t){var e=new Md(t,this);return this.landmarks.push(e),this}},{key:"gotoLandmark",value:function(t){var e=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3,o=this.landmarks.find(function(U){return U.name===t});if(o){if(r===0){o.retrieve(this);return}this.landmarkAnimationID!==void 0&&window.cancelAnimationFrame(this.landmarkAnimationID),this.interactor.disconnect();var l=o.getPosition(),v=o.getFocalPoint(),b=o.getRoll(),L,F=function U(rt){L===void 0&&(L=rt);var ht=rt-L,bt=(1-Math.cos(ht/r*Math.PI))/2,At=zr.e.create(),wt=zr.e.create(),kt=0;zr.e.lerp(At,e.focalPoint,v,bt),zr.e.lerp(wt,e.position,l,bt),kt=e.roll*(1-bt)+b*bt,e.setFocalPoint(At),e.setPosition(wt),e.setRoll(kt),e.computeMatrix();var Ut=zr.e.dist(At,v)+zr.e.dist(wt,l);if(!(Ut>.01)){e.setFocalPoint(At),e.setPosition(wt),e.setRoll(kt),e.computeMatrix(),e.interactor.connect();return}ht<r&&(e.landmarkAnimationID=window.requestAnimationFrame(U))};window.requestAnimationFrame(F)}}},{key:"_update",value:function(){this._getAxes(),this._getPosition(),this._getDistance(),this._getAngles()}},{key:"computeMatrix",value:function(){var t,e,r=zr.c.setAxisAngle(zr.c.create(),[0,0,1],this.roll*ul);zr.b.identity(this.matrix),t=zr.c.setAxisAngle(zr.c.create(),[1,0,0],(this.rotateWorld&&this.type!==xo.TRACKING||this.type===xo.TRACKING?1:-1)*this.elevation*ul),e=zr.c.setAxisAngle(zr.c.create(),[0,1,0],(this.rotateWorld&&this.type!==xo.TRACKING||this.type===xo.TRACKING?1:-1)*this.azimuth*ul);var o=zr.c.multiply(zr.c.create(),e,t);o=zr.c.multiply(zr.c.create(),o,r);var l=zr.b.fromQuat(zr.b.create(),o);this.type===xo.ORBITING||this.type===xo.EXPLORING?(zr.b.translate(this.matrix,this.matrix,this.focalPoint),zr.b.multiply(this.matrix,this.matrix,l),zr.b.translate(this.matrix,this.matrix,[0,0,this.distance])):this.type===xo.TRACKING&&(zr.b.translate(this.matrix,this.matrix,this.position),zr.b.multiply(this.matrix,this.matrix,l))}},{key:"_setPosition",value:function(t,e,r){this.position=sc(t,e,r);var o=this.matrix;o[12]=this.position[0],o[13]=this.position[1],o[14]=this.position[2],o[15]=1}},{key:"_getAxes",value:function(){zr.e.copy(this.right,sc(zr.f.transformMat4(zr.f.create(),[1,0,0,0],this.matrix))),zr.e.copy(this.up,sc(zr.f.transformMat4(zr.f.create(),[0,1,0,0],this.matrix))),zr.e.copy(this.forward,sc(zr.f.transformMat4(zr.f.create(),[0,0,1,0],this.matrix))),zr.e.normalize(this.right,this.right),zr.e.normalize(this.up,this.up),zr.e.normalize(this.forward,this.forward)}},{key:"_getAngles",value:function(){var t=this.distanceVector[0],e=this.distanceVector[1],r=this.distanceVector[2],o=zr.e.length(this.distanceVector);if(o===0){this.elevation=0,this.azimuth=0;return}this.type===xo.TRACKING?(this.elevation=Math.asin(e/o)*uc,this.azimuth=Math.atan2(-t,-r)*uc):this.rotateWorld?(this.elevation=Math.asin(e/o)*uc,this.azimuth=Math.atan2(-t,-r)*uc):(this.elevation=-Math.asin(e/o)*uc,this.azimuth=-Math.atan2(-t,-r)*uc)}},{key:"_getPosition",value:function(){zr.e.copy(this.position,sc(zr.f.transformMat4(zr.f.create(),[0,0,0,1],this.matrix))),this._getDistance()}},{key:"_getFocalPoint",value:function(){zr.e.transformMat3(this.distanceVector,[0,0,-this.distance],zr.a.fromMat4(zr.a.create(),this.matrix)),zr.e.add(this.focalPoint,this.position,this.distanceVector),this._getDistance()}},{key:"_getDistance",value:function(){this.distanceVector=zr.e.subtract(zr.e.create(),this.focalPoint,this.position),this.distance=zr.e.length(this.distanceVector),this.dollyingStep=this.distance/100}}]),u}(),fv.ProjectionMode={ORTHOGRAPHIC:"ORTHOGRAPHIC",PERSPECTIVE:"PERSPECTIVE"},hv),cv=wo()(Hh.prototype,"interactor",[Td],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Hh))||lv),dv,Yh,vv,Dd,gv,Df,pv,lc=(dv=Object(pi.injectable)(),Yh=Object(pi.inject)(Ne.IDENTIFIER.GeometryComponentManager),dv(vv=(Dd=(pv=Df=function(){function u(){no()(this,u),this.config=void 0,Bo()(this,"geometry",gv,this),this.entity=void 0,this.component=void 0}return _i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.component=this.geometry.create(t),this.component.entity=t,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),Df.BOX="box",Df.SPHERE="sphere",Df.PLANE="plane",Df.MERGED="merged",pv),gv=wo()(Dd.prototype,"geometry",[Yh],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Dd))||vv),ig=a("o0o1"),Wi=a.n(ig),og=a("yXPU"),cs=a.n(og),sg=a("lSNA"),un=a.n(sg),Zn=a("XkVO");function yv(){if(typeof document!="undefined")return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}var mv={}.toString,bv=function(n,t){return mv.call(n)==="[object "+t+"]"},ug=bv,Ev=function(u){return Array.isArray?Array.isArray(u):ug(u,"Array")},lg=a("cDf5"),hh=a.n(lg),cg=9007199254740991,fg="[object Arguments]",cc="[object Array]",Ov="[object Boolean]",d="[object Date]",h="[object Error]",s="[object Function]",c="[object Map]",m="[object Number]",j="[object Object]",K="[object RegExp]",gt="[object Set]",Mt="[object String]",Xt="[object WeakMap]",Jt="[object ArrayBuffer]",te="[object DataView]",ae="[object Float32Array]",fe="[object Float64Array]",Ae="[object Int8Array]",Ie="[object Int16Array]",gr="[object Int32Array]",Or="[object Uint8Array]",Br="[object Uint8ClampedArray]",Gr="[object Uint16Array]",Tn="[object Uint32Array]",nn={};nn[ae]=nn[fe]=nn[Ae]=nn[Ie]=nn[gr]=nn[Or]=nn[Br]=nn[Gr]=nn[Tn]=!0,nn[fg]=nn[cc]=nn[Jt]=nn[Ov]=nn[te]=nn[d]=nn[h]=nn[s]=nn[c]=nn[m]=nn[j]=nn[K]=nn[gt]=nn[Mt]=nn[Xt]=!1;function zn(u){return function(n){return u(n)}}var Ai=Object.prototype,ii=Ai.toString;function Qa(u){return vo(u)&&zi(u.length)&&!!nn[ii.call(u)]}function zi(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=cg}function vo(u){return!!u&&hh()(u)==="object"}var oo=Qa,qo,Is,Es,Os,jl,ll,Pd,xv;function Cv(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Id(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Cv(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Cv(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var jd=(qo=Object(pi.injectable)(),Is=Object(pi.inject)(Ne.IDENTIFIER.RenderEngine),Es=Object(pi.inject)(Ne.IDENTIFIER.ConfigService),qo(Os=(jl=(xv=function(){function u(){no()(this,u),Bo()(this,"engine",ll,this),Bo()(this,"configService",Pd,this),this.entity=Object(Ne.createEntity)(),this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return _i()(u,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,r=t.engineOptions;this.initPromise=this.engine.init(Id({canvas:e||yv(),swapChainFormat:Zn.TextureFormat.BGRA8Unorm,antialiasing:!1},r))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var r=this;if(typeof t=="string"){var o=Sd(e)||oo(e)||Ev(e);if(this.compiledBundle&&this.compiledBundle.context){var l=this.compiledBundle.context.defines.find(function(b){return b.name===t});if(l)return l.value=e,this;var v=this.compiledBundle.context.uniforms.find(function(b){return b.name===t});v&&(o?(v.data=e,v.isReferer=!1,v.storageClass===Ne.STORAGE_CLASS.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(v.isReferer=!0,v.data=e))}}else Object.keys(t).forEach(function(b){r.setBinding(b,t[b])});return this}},{key:"execute",value:function(){var n=cs()(Wi.a.mark(function e(){var r=this,o,l,v=arguments;return Wi.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(o=v.length>0&&v[0]!==void 0?v[0]:1,!this.dirty){L.next=6;break}return this.compiledBundle.context&&(o>1?this.compiledBundle.context.maxIteration=o:this.compiledBundle.context.maxIteration++),L.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter(function(F){var U=F.isReferer;return U}).forEach(function(F){var U=F.data,rt=F.name;r.model.confirmInput(U.model,rt)}),l=0;l<o;l++)this.model.run();return this.engine.endFrame(),L.abrupt("return",this);case 12:case"end":return L.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getOutput",value:function(){var n=cs()(Wi.a.mark(function e(){return Wi.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",this.model.readData());case 1:case"end":return o.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"compile",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o,l;return Wi.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.initPromise;case 2:return r=Id({},this.compiledBundle.context),o=this.engine.supportWebGPU?this.engine.useWGSL?Ne.Target.WGSL:Ne.Target.GLSL450:Ne.Target.GLSL100,l=this.compiledBundle.shaders[o],r.defines.filter(function(L){return L.runtime}).forEach(function(L){var F="".concat(Ne.DefineValuePlaceholder).concat(L.name);l=l.replace(F,"".concat(L.value))}),r.shader=l,r.uniforms.forEach(function(L){if(!L.data&&L.storageClass===Ne.STORAGE_CLASS.StorageBuffer){var F=1;L.type===Ne.AST_TOKEN_TYPES.FloatArray?F=1:L.type===Ne.AST_TOKEN_TYPES.Vector4FloatArray&&(F=4),L.data=new Float32Array(r.output.length*F).fill(0)}}),this.compiledBundle.context=r,b.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=b.sent;case 12:case"end":return b.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),xv),ll=wo()(jl.prototype,"engine",[Is],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pd=wo()(jl.prototype,"configService",[Es],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jl))||Os),Ld,Av,Kh,Bd,$h,Zh,Sv,Ll=(Ld=Object(pi.injectable)(),Av=Object(pi.inject)(Ne.IDENTIFIER.MaterialComponentManager),Ld(Kh=(Bd=(Sv=Zh=function(){function u(){no()(this,u),this.config=void 0,Bo()(this,"material",$h,this),this.entity=void 0,this.component=void 0}return _i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getComponent",value:function(){return this.component}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t,e){this.entity=t,this.component=this.material.create(t),this.component.entity=t,this.component.type=e,this.onEntityCreated()}},{key:"onEntityCreated",value:function(){}}]),u}(),Zh.BASIC="basic",Sv),$h=wo()(Bd.prototype,"material",[Av],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Bd))||Kh),hg,Mv,Xc,$u,Tv,Kg,$g,Qh,Zg,Qg,Jg,_g,Dv,qg,Pf=(hg=Object(pi.injectable)(),Mv=Object(pi.inject)(Ne.IDENTIFIER.MeshComponentManager),Xc=Object(pi.inject)(Ne.IDENTIFIER.CullableComponentManager),$u=Object(pi.inject)(Ne.IDENTIFIER.TransformComponentManager),Tv=Object(pi.inject)(Ne.IDENTIFIER.Systems),Kg=Object(pi.named)(Ne.IDENTIFIER.SceneGraphSystem),hg($g=(Qh=(qg=Dv=function(){function u(){no()(this,u),this.attributes={},this.config=void 0,Bo()(this,"mesh",Zg,this),Bo()(this,"cullable",Qg,this),Bo()(this,"transform",Jg,this),Bo()(this,"sceneGraphSystem",_g,this),this.meshComponent=void 0,this.transformComponent=void 0,this.entity=void 0}return _i()(u,[{key:"getEntity",value:function(){return this.entity}},{key:"getTransformComponent",value:function(){return this.transformComponent}},{key:"getMeshComponent",value:function(){return this.meshComponent}},{key:"setConfig",value:function(t){this.config=t}},{key:"setEntity",value:function(t){this.entity=t,this.cullable.create(t),this.meshComponent=this.mesh.create(t),this.transformComponent=this.transform.create(t),this.onEntityCreated()}},{key:"setMaterial",value:function(t){return this.meshComponent.material=t,this}},{key:"setGeometry",value:function(t){return this.meshComponent.geometry=t,this}},{key:"setAttributes",value:function(t){var e=this;Object.keys(t).forEach(function(r){t[r]!==void 0&&t[r]!==e.attributes[r]&&(e.onAttributeChanged({name:r,data:t[r]}),e.attributes[r]=t[r])})}},{key:"setVisible",value:function(t){var e=this;return this.meshComponent.visible=t,this.meshComponent.children.forEach(function(r){var o=e.mesh.getComponentByEntity(r);o&&(o.visible=t)}),this}},{key:"isVisible",value:function(){return this.meshComponent.visible}},{key:"attach",value:function(t){return this.sceneGraphSystem.attach(this.entity,t.entity),this}},{key:"detach",value:function(){return this.sceneGraphSystem.detach(this.entity),this}},{key:"detachChildren",value:function(){return this.sceneGraphSystem.detachChildren(this.entity),this}},{key:"onEntityCreated",value:function(){}},{key:"onAttributeChanged",value:function(t){var e=t.name,r=t.data;this.meshComponent&&this.meshComponent.material&&this.meshComponent.material.setUniform(this.convertAttributeName2UniformName(e),r)}},{key:"convertAttributeName2UniformName",value:function(t){return t}}]),u}(),Dv.POINT="point",Dv.LINE="line",Dv.GRID="grid",qg),Zg=wo()(Qh.prototype,"mesh",[Mv],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qg=wo()(Qh.prototype,"cullable",[Xc],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jg=wo()(Qh.prototype,"transform",[$u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_g=wo()(Qh.prototype,"sceneGraphSystem",[Tv,Kg],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qh))||$g),um=a("fbvF"),lm=a.n(um),cm=function(){function u(n,t){no()(this,u),this.attribute=void 0,this.buffer=void 0;var e=t.buffer,r=t.offset,o=t.stride,l=t.normalized,v=t.size,b=t.divisor;this.buffer=e,this.attribute={buffer:e.get(),offset:r||0,stride:o||0,normalized:l||!1,divisor:b||0},v&&(this.attribute.size=v)}return _i()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),Yc,wd,Kc,cl,Rd,If,Fd,Pv,fc,dh,_s,hc,dc,Iv,fm=(Yc={},un()(Yc,Ne.gl.POINTS,"points"),un()(Yc,Ne.gl.LINES,"lines"),un()(Yc,Ne.gl.LINE_LOOP,"line loop"),un()(Yc,Ne.gl.LINE_STRIP,"line strip"),un()(Yc,Ne.gl.TRIANGLES,"triangles"),un()(Yc,Ne.gl.TRIANGLE_FAN,"triangle fan"),un()(Yc,Ne.gl.TRIANGLE_STRIP,"triangle strip"),Yc),tp=(wd={},un()(wd,Ne.gl.STATIC_DRAW,"static"),un()(wd,Ne.gl.DYNAMIC_DRAW,"dynamic"),un()(wd,Ne.gl.STREAM_DRAW,"stream"),wd),dg=(Kc={},un()(Kc,Ne.gl.BYTE,"int8"),un()(Kc,Ne.gl.UNSIGNED_INT,"int16"),un()(Kc,Ne.gl.INT,"int32"),un()(Kc,Ne.gl.UNSIGNED_BYTE,"uint8"),un()(Kc,Ne.gl.UNSIGNED_SHORT,"uint16"),un()(Kc,Ne.gl.UNSIGNED_INT,"uint32"),un()(Kc,Ne.gl.FLOAT,"float"),Kc),hm=(cl={},un()(cl,Ne.gl.ALPHA,"alpha"),un()(cl,Ne.gl.LUMINANCE,"luminance"),un()(cl,Ne.gl.LUMINANCE_ALPHA,"luminance alpha"),un()(cl,Ne.gl.RGB,"rgb"),un()(cl,Ne.gl.RGBA,"rgba"),un()(cl,Ne.gl.RGBA4,"rgba4"),un()(cl,Ne.gl.RGB5_A1,"rgb5 a1"),un()(cl,Ne.gl.RGB565,"rgb565"),un()(cl,Ne.gl.DEPTH_COMPONENT,"depth"),un()(cl,Ne.gl.DEPTH_STENCIL,"depth stencil"),cl),dm=(Rd={},un()(Rd,Ne.gl.DONT_CARE,"dont care"),un()(Rd,Ne.gl.NICEST,"nice"),un()(Rd,Ne.gl.FASTEST,"fast"),Rd),ep=(If={},un()(If,Ne.gl.NEAREST,"nearest"),un()(If,Ne.gl.LINEAR,"linear"),un()(If,Ne.gl.LINEAR_MIPMAP_LINEAR,"mipmap"),un()(If,Ne.gl.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),un()(If,Ne.gl.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),un()(If,Ne.gl.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),If),rp=(Fd={},un()(Fd,Ne.gl.REPEAT,"repeat"),un()(Fd,Ne.gl.CLAMP_TO_EDGE,"clamp"),un()(Fd,Ne.gl.MIRRORED_REPEAT,"mirror"),Fd),vm=(Pv={},un()(Pv,Ne.gl.NONE,"none"),un()(Pv,Ne.gl.BROWSER_DEFAULT_WEBGL,"browser"),Pv),gm=(fc={},un()(fc,Ne.gl.NEVER,"never"),un()(fc,Ne.gl.ALWAYS,"always"),un()(fc,Ne.gl.LESS,"less"),un()(fc,Ne.gl.LEQUAL,"lequal"),un()(fc,Ne.gl.GREATER,"greater"),un()(fc,Ne.gl.GEQUAL,"gequal"),un()(fc,Ne.gl.EQUAL,"equal"),un()(fc,Ne.gl.NOTEQUAL,"notequal"),fc),np=(dh={},un()(dh,Ne.gl.FUNC_ADD,"add"),un()(dh,Ne.gl.MIN_EXT,"min"),un()(dh,Ne.gl.MAX_EXT,"max"),un()(dh,Ne.gl.FUNC_SUBTRACT,"subtract"),un()(dh,Ne.gl.FUNC_REVERSE_SUBTRACT,"reverse subtract"),dh),jv=(_s={},un()(_s,Ne.gl.ZERO,"zero"),un()(_s,Ne.gl.ONE,"one"),un()(_s,Ne.gl.SRC_COLOR,"src color"),un()(_s,Ne.gl.ONE_MINUS_SRC_COLOR,"one minus src color"),un()(_s,Ne.gl.SRC_ALPHA,"src alpha"),un()(_s,Ne.gl.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),un()(_s,Ne.gl.DST_COLOR,"dst color"),un()(_s,Ne.gl.ONE_MINUS_DST_COLOR,"one minus dst color"),un()(_s,Ne.gl.DST_ALPHA,"dst alpha"),un()(_s,Ne.gl.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),un()(_s,Ne.gl.CONSTANT_COLOR,"constant color"),un()(_s,Ne.gl.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),un()(_s,Ne.gl.CONSTANT_ALPHA,"constant alpha"),un()(_s,Ne.gl.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),un()(_s,Ne.gl.SRC_ALPHA_SATURATE,"src alpha saturate"),_s),pm=(hc={},un()(hc,Ne.gl.NEVER,"never"),un()(hc,Ne.gl.ALWAYS,"always"),un()(hc,Ne.gl.LESS,"less"),un()(hc,Ne.gl.LEQUAL,"lequal"),un()(hc,Ne.gl.GREATER,"greater"),un()(hc,Ne.gl.GEQUAL,"gequal"),un()(hc,Ne.gl.EQUAL,"equal"),un()(hc,Ne.gl.NOTEQUAL,"notequal"),hc),Jh=(dc={},un()(dc,Ne.gl.ZERO,"zero"),un()(dc,Ne.gl.KEEP,"keep"),un()(dc,Ne.gl.REPLACE,"replace"),un()(dc,Ne.gl.INVERT,"invert"),un()(dc,Ne.gl.INCR,"increment"),un()(dc,Ne.gl.DECR,"decrement"),un()(dc,Ne.gl.INCR_WRAP,"increment wrap"),un()(dc,Ne.gl.DECR_WRAP,"decrement wrap"),dc),ym=(Iv={},un()(Iv,Ne.gl.FRONT,"front"),un()(Iv,Ne.gl.BACK,"back"),Iv),mm=function(){function u(n,t){no()(this,u),this.buffer=void 0;var e=t.data,r=t.usage,o=t.type;this.buffer=n.buffer({data:e,usage:tp[r||Ne.gl.STATIC_DRAW],type:dg[o||Ne.gl.UNSIGNED_BYTE]})}return _i()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.buffer.subdata(e,r)}}]),u}(),bm=a("RIqP"),xs=a.n(bm),Em=9007199254740991,Om="[object Arguments]",xm="[object Array]",Cm="[object Boolean]",Am="[object Date]",Sm="[object Error]",Mm="[object Function]",Tm="[object Map]",Dm="[object Number]",Pm="[object Object]",Im="[object RegExp]",jm="[object Set]",Lm="[object String]",Bm="[object WeakMap]",wm="[object ArrayBuffer]",Rm="[object DataView]",Fm="[object Float32Array]",Nm="[object Float64Array]",Gm="[object Int8Array]",Um="[object Int16Array]",Wm="[object Int32Array]",zm="[object Uint8Array]",km="[object Uint8ClampedArray]",Vm="[object Uint16Array]",Hm="[object Uint32Array]",ns={};ns[Fm]=ns[Nm]=ns[Gm]=ns[Um]=ns[Wm]=ns[zm]=ns[km]=ns[Vm]=ns[Hm]=!0,ns[Om]=ns[xm]=ns[wm]=ns[Cm]=ns[Rm]=ns[Am]=ns[Sm]=ns[Mm]=ns[Tm]=ns[Dm]=ns[Pm]=ns[Im]=ns[jm]=ns[Lm]=ns[Bm]=!1;function jC(u){return function(n){return u(n)}}var Xm=Object.prototype,Ym=Xm.toString;function Km(u){return Zm(u)&&$m(u.length)&&!!ns[Ym.call(u)]}function $m(u){return typeof u=="number"&&u>-1&&u%1==0&&u<=Em}function Zm(u){return!!u&&hh()(u)==="object"}var vg=Km;function ap(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function ip(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ap(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):ap(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var Qm=`attribute vec3 a_Position;
attribute vec2 a_TexCoord;

varying vec2 v_TexCoord;

void main() {
  gl_Position = vec4(a_Position, 1.0);
  v_TexCoord = a_TexCoord;
}`,op=0,Lv=!1,Jm=function(){function u(n,t){var e=this;no()(this,u),this.reGl=n,this.context=t,this.entity=Object(Ne.createEntity)(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var r={};this.context.uniforms.forEach(function(L){var F=L.name,U=L.type,rt=L.data,ht=L.isReferer,bt=L.storageClass;if(bt===Ne.STORAGE_CLASS.StorageBuffer){if(ht)e.textureCache[F]={data:void 0},r["".concat(F,"Size")]=function(){return rt.compiledBundle.context.output.textureSize};else{e.textureCache[F]=e.calcDataTexture(F,U,rt);var At=e.textureCache[F],wt=At.textureWidth,kt=At.isOutput;r["".concat(F,"Size")]=[wt,wt],kt&&(e.outputTextureName=F,e.context.needPingpong&&(e.outputTextureName="".concat(F,"Output"),e.textureCache[e.outputTextureName]=e.calcDataTexture(F,U,rt)))}r[F]=function(){return Lv&&console.log("[".concat(e.entity,"]: ").concat(F," ").concat(e.textureCache[F].id)),e.textureCache[F].texture}}else if(bt===Ne.STORAGE_CLASS.Uniform){if(rt&&(Array.isArray(rt)||vg(rt))&&rt.length>16)throw new Error("invalid data type ".concat(U));r[F]=function(){return L.data}}});var o=this.getOuputDataTexture(),l=o.textureWidth,v=o.texelCount;r.u_OutputTextureSize=[l,l],r.u_OutputTexelCount=v,this.context.output.textureSize=[l,l];var b={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(this.context.shader),uniforms:r,vert:Qm,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(b)}return _i()(u,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use(function(){t.computeCommand()}),Lv&&console.log("[".concat(this.entity,"]: output ").concat(this.getOuputDataTexture().id))}},{key:"readData",value:function(){var n=cs()(Wi.a.mark(function e(){var r=this,o,l,v,b,L,F,U,rt;return Wi.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(this.reGl({framebuffer:this.texFBO})(function(){o=r.reGl.read()}),!o){bt.next=6;break}if(l=this.getOuputDataTexture(),v=l.originalDataLength,b=l.elementsPerTexel,L=l.typedArrayConstructor,F=L===void 0?Float32Array:L,U=[],b!==4)for(rt=0;rt<o.length;rt+=4)b===1?U.push(o[rt]):b===2?U.push(o[rt],o[rt+1]):U.push(o[rt],o[rt+1],o[rt+2]);else U=o;return bt.abrupt("return",new F(U.slice(0,v)));case 6:return bt.abrupt("return",new Float32Array);case 7:case"end":return bt.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"confirmInput",value:function(t,e){var r;this.entity===t.entity?(this.dynamicPingpong=!0,r=this):r=t,this.textureCache[e].id=r.getOuputDataTexture().id,this.textureCache[e].texture=r.getOuputDataTexture().texture,Lv&&console.log("[".concat(this.entity,"]: confirm input ").concat(e," from model ").concat(r.entity,", ").concat(r.getOuputDataTexture().id))}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.context.uniforms.find(function(L){var F=L.name;return F===t});if(o){var l=this.calcDataTexture(t,o.type,e),v=l.texture,b=l.data;this.textureCache[t].data=b,this.textureCache[t].texture=v}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e,Lv&&console.log("[".concat(this.entity,"]: after swap, output ").concat(this.getOuputDataTexture().id))}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,r=t.textureWidth;return ip(ip({},t),{},{id:op++,texture:this.reGl.texture({width:r,height:r,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,r){var o=1;e===Ne.AST_TOKEN_TYPES.Vector4FloatArray&&(o=4);for(var l=[],v=0;v<r.length;v+=o)o===1?l.push(r[v],0,0,0):o===2?l.push(r[v],r[v+1],0,0):o===3?l.push(r[v],r[v+1],r[v+2],0):o===4&&l.push(r[v],r[v+1],r[v+2],r[v+3]);var b=r.length,L=Math.ceil(b/o),F=Math.ceil(Math.sqrt(L)),U=F*F;L<U&&l.push.apply(l,xs()(new Array((U-L)*4).fill(0)));var rt=this.reGl.texture({width:F,height:F,data:l,type:"float"});return{id:op++,data:l,originalDataLength:b,typedArrayConstructor:vg(r)?r.constructor:void 0,textureWidth:F,texture:rt,texelCount:L,elementsPerTexel:o,isOutput:t===this.context.output.name}}}]),u}(),_m=function(){function u(n,t){no()(this,u),this.elements=void 0;var e=t.data,r=t.usage,o=t.type,l=t.count;this.elements=n.elements({data:e,usage:tp[r||Ne.gl.STATIC_DRAW],type:dg[o||Ne.gl.UNSIGNED_BYTE],count:l})}return _i()(u,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),u}(),qm=function(){function u(n,t){no()(this,u),this.framebuffer=void 0;var e=t.width,r=t.height,o=t.color,l=t.colors,v=t.depth,b=t.stencil,L={width:e,height:r};Array.isArray(l)&&(L.colors=l.map(function(F){return F.get()})),o&&typeof o!="boolean"&&(L.color=o.get()),this.framebuffer=n.framebuffer(L)}return _i()(u,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.framebuffer.resize(e,r)}}]),u}();function t1(u){var n=hh()(u);return u!=null&&(n==="object"||n==="function")}function Nd(u){var n={};return Object.keys(u).forEach(function(t){gg(t,u[t],n,"")}),n}function gg(u,n,t,e){if(n===null||typeof n=="number"||typeof n=="boolean"||Array.isArray(n)&&typeof n[0]=="number"||vg(n)||n===""||n.resize!==void 0){t["".concat(e&&e+".").concat(u)]=n;return}t1(n)&&Object.keys(n).forEach(function(r){gg(r,n[r],t,"".concat(e&&e+".").concat(u))}),Array.isArray(n)&&n.forEach(function(r,o){Object.keys(r).forEach(function(l){gg(l,r[l],t,"".concat(e&&e+".").concat(u,"[").concat(o,"]"))})})}function sp(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function _h(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?sp(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):sp(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var e1=function(){function u(n,t){no()(this,u),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=n;var e=t.vs,r=t.fs,o=t.defines,l=t.attributes,v=t.uniforms,b=t.primitive,L=t.count,F=t.elements,U=t.depth,rt=t.blend,ht=t.stencil,bt=t.cull,At=t.instances,wt=t.scissor,kt=t.viewport,Ut={};v&&(this.uniforms=Nd(v),Object.keys(v).forEach(function(ye){Ut[ye]=n.prop(ye)}));var Kt={};Object.keys(l).forEach(function(ye){Kt[ye]=l[ye].get()});var qt=o&&this.generateDefines(o)||"",ne={attributes:Kt,frag:`#ifdef GL_FRAGMENT_PRECISION_HIGH
  precision highp float;
#else
  precision mediump float;
#endif
`.concat(qt,`
`).concat(r),uniforms:Ut,vert:`
`.concat(qt,`
`).concat(e),primitive:fm[b===void 0?Ne.gl.TRIANGLES:b]};At&&(ne.instances=At),L&&(ne.count=L),F&&(ne.elements=F.get()),wt&&(ne.scissor=wt),kt&&(ne.viewport=kt),this.initDepthDrawParams({depth:U},ne),this.initBlendDrawParams({blend:rt},ne),this.initStencilDrawParams({stencil:ht},ne),this.initCullDrawParams({cull:bt},ne),this.drawCommand=n(ne)}return _i()(u,[{key:"addUniforms",value:function(t){this.uniforms=_h(_h({},this.uniforms),Nd(t))}},{key:"draw",value:function(t){var e=_h(_h({},this.uniforms),Nd(t.uniforms||{})),r={};Object.keys(e).forEach(function(o){var l=hh()(e[o]);l==="boolean"||l==="number"||Array.isArray(e[o])||e[o].BYTES_PER_ELEMENT?r[o]=e[o]:l==="string"||(r[o]=e[o].get())}),this.drawCommand(r)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var r=t.depth;r&&(e.depth={enable:r.enable===void 0?!0:!!r.enable,mask:r.mask===void 0?!0:!!r.mask,func:gm[r.func||Ne.gl.LESS],range:r.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var r=t.blend;if(r){var o=r.enable,l=r.func,v=r.equation,b=r.color,L=b===void 0?[0,0,0,0]:b;e.blend={enable:!!o,func:{srcRGB:jv[l&&l.srcRGB||Ne.gl.SRC_ALPHA],srcAlpha:jv[l&&l.srcAlpha||Ne.gl.SRC_ALPHA],dstRGB:jv[l&&l.dstRGB||Ne.gl.ONE_MINUS_SRC_ALPHA],dstAlpha:jv[l&&l.dstAlpha||Ne.gl.ONE_MINUS_SRC_ALPHA]},equation:{rgb:np[v&&v.rgb||Ne.gl.FUNC_ADD],alpha:np[v&&v.alpha||Ne.gl.FUNC_ADD]},color:L}}}},{key:"initStencilDrawParams",value:function(t,e){var r=t.stencil;if(r){var o=r.enable,l=r.mask,v=l===void 0?-1:l,b=r.func,L=b===void 0?{cmp:Ne.gl.ALWAYS,ref:0,mask:-1}:b,F=r.opFront,U=F===void 0?{fail:Ne.gl.KEEP,zfail:Ne.gl.KEEP,zpass:Ne.gl.KEEP}:F,rt=r.opBack,ht=rt===void 0?{fail:Ne.gl.KEEP,zfail:Ne.gl.KEEP,zpass:Ne.gl.KEEP}:rt;e.stencil={enable:!!o,mask:v,func:_h(_h({},L),{},{cmp:pm[L.cmp]}),opFront:{fail:Jh[U.fail],zfail:Jh[U.zfail],zpass:Jh[U.zpass]},opBack:{fail:Jh[ht.fail],zfail:Jh[ht.zfail],zpass:Jh[ht.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var r=t.cull;if(r){var o=r.enable,l=r.face,v=l===void 0?Ne.gl.BACK:l;e.cull={enable:!!o,face:ym[v]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map(function(e){return"#define ".concat(e," ").concat(Number(t[e]))}).join(`
`)}}]),u}(),r1=function(){function u(n,t){no()(this,u),this.texture=void 0,this.width=void 0,this.height=void 0;var e=t.data,r=t.type,o=r===void 0?Ne.gl.UNSIGNED_BYTE:r,l=t.width,v=t.height,b=t.flipY,L=b===void 0?!1:b,F=t.format,U=F===void 0?Ne.gl.RGBA:F,rt=t.mipmap,ht=rt===void 0?!1:rt,bt=t.wrapS,At=bt===void 0?Ne.gl.CLAMP_TO_EDGE:bt,wt=t.wrapT,kt=wt===void 0?Ne.gl.CLAMP_TO_EDGE:wt,Ut=t.aniso,Kt=Ut===void 0?0:Ut,qt=t.alignment,ne=qt===void 0?1:qt,ye=t.premultiplyAlpha,xe=ye===void 0?!1:ye,je=t.mag,We=je===void 0?Ne.gl.NEAREST:je,Be=t.min,qe=Be===void 0?Ne.gl.NEAREST:Be,sr=t.colorSpace,hn=sr===void 0?Ne.gl.BROWSER_DEFAULT_WEBGL:sr;this.width=l,this.height=v;var dn={width:l,height:v,type:dg[o],format:hm[U],wrapS:rp[At],wrapT:rp[kt],mag:ep[We],min:ep[qe],alignment:ne,flipY:L,colorSpace:vm[hn],premultiplyAlpha:xe,aniso:Kt};e&&(dn.data=e),typeof ht=="number"?dn.mipmap=dm[ht]:typeof ht=="boolean"&&(dn.mipmap=ht),this.texture=n.texture(dn)}return _i()(u,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,r=t.height;this.texture.resize(e,r),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture.destroy()}}]),u}(),up,lp,cp,n1=(up=Object(pi.injectable)(),up(lp=(cp=function(){function u(){var n=this;no()(this,u),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=cs()(Wi.a.mark(function e(r){return Wi.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!r.uniforms){l.next=3;break}return l.next=3,Promise.all(Object.keys(r.uniforms).map(function(){var v=cs()(Wi.a.mark(function b(L){var F;return Wi.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(!(r.uniforms[L]&&r.uniforms[L].load!==void 0)){rt.next=5;break}return rt.next=3,r.uniforms[L].load();case 3:F=rt.sent,r.uniforms[L]=F;case 5:case"end":return rt.stop()}},b)}));return function(b){return v.apply(this,arguments)}}()));case 3:return l.abrupt("return",new e1(n.gl,r));case 4:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new cm(n.gl,t)},this.createBuffer=function(t){return new mm(n.gl,t)},this.createElements=function(t){return new _m(n.gl,t)},this.createTexture2D=function(t){return new r1(n.gl,t)},this.createFramebuffer=function(t){return new qm(n.gl,t)},this.useFramebuffer=function(t,e){n.gl({framebuffer:t?t.get():null})(e)},this.createComputeModel=function(){var t=cs()(Wi.a.mark(function e(r){return Wi.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",new Jm(n.gl,r));case 1:case"end":return l.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var e=t.color,r=t.depth,o=t.stencil,l=t.framebuffer,v=l===void 0?null:l,b={color:e,depth:r,stencil:o};b.framebuffer=v===null?v:v.get(),n.gl.clear(b)},this.setScissor=function(t){n.gl&&n.gl._gl&&(t.enable&&t.box?(n.gl._gl.enable(Ne.gl.SCISSOR_TEST),n.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):n.gl._gl.disable(Ne.gl.SCISSOR_TEST),n.gl._refresh())},this.viewport=function(t){var e=t.x,r=t.y,o=t.width,l=t.height;n.gl&&n.gl._gl&&(n.gl._gl.viewport(e,r,o,l),n.gl._refresh())},this.readPixels=function(t){var e=t.framebuffer,r=t.x,o=t.y,l=t.width,v=t.height,b={x:r,y:o,width:l,height:v};return e&&(b.framebuffer=e.get()),n.gl.read(b)},this.getCanvas=function(){return n.$canvas},this.getGLContext=function(){return n.gl._gl},this.destroy=function(){n.gl&&(n.gl.destroy(),n.inited=!1)}}return _i()(u,[{key:"init",value:function(){var n=cs()(Wi.a.mark(function e(r){return Wi.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.inited){l.next=2;break}return l.abrupt("return");case 2:return this.$canvas=r.canvas,l.next=5,new Promise(function(v,b){lm()({canvas:r.canvas,attributes:{alpha:!0,antialias:r.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(F,U){(F||!U)&&b(F),v(U)}})});case 5:this.gl=l.sent,this.inited=!0;case 7:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),u}(),cp))||lp);function a1(){return typeof window!="undefined"}function i1(u,n,t,e){if(!!a1()){var r=document.getElementsByTagName("head")[0],o=document.createElement("script");o.setAttribute("type","text/javascript"),o.setAttribute("src",u),e&&(o.id=e),o.onload=function(){n&&n()},o.onerror=function(l){t&&t("Unable to load script '".concat(u,"'"),l)},r.appendChild(o)}}function o1(u,n){return new Promise(function(t,e){i1(u,function(){t()},function(r,o){e(o)})})}var Bv,s1=function(){return pg.apply(this,arguments)};function pg(){return pg=cs()(Wi.a.mark(function u(){return Wi.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Bv){t.next=2;break}return t.abrupt("return",Bv);case 2:return t.next=4,o1("https://preview.babylonjs.com/glslang/glslang.js");case 4:return Bv=window.glslang("https://preview.babylonjs.com/glslang/glslang.wasm"),t.abrupt("return",Bv);case 6:case"end":return t.stop()}},u)})),pg.apply(this,arguments)}var u1=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.attribute=void 0,this.buffer=void 0;var e=t,r=e.buffer,o=e.offset,l=e.stride,v=e.normalized,b=e.size,L=e.divisor,F=e.arrayStride,U=e.attributes,rt=e.stepMode;this.buffer=r,this.attribute={buffer:r.get(),offset:o||0,stride:l||0,normalized:v||!1,divisor:L||0,arrayStride:F||0,attributes:U,stepMode:rt||"vertex"},b&&(this.attribute.size=b)}return _i()(u,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),qh=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.buffer=void 0;var e=t,r=e.data,o=e.usage,l=e.type;this.buffer=this.createBuffer(r instanceof Array?new Float32Array(r):r,o||Zn.BufferUsage.Vertex|Zn.BufferUsage.CopyDst)}return _i()(u,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){this.buffer.destroy()}},{key:"subData",value:function(t){var e=t.data,r=t.offset;this.setSubData(this.buffer,r,e instanceof Array?new Float32Array(e):e)}},{key:"createBuffer",value:function(t,e){var r=t.byteLength%4,o={size:t.byteLength+r,usage:e},l=this.engine.device.createBuffer(o);return this.setSubData(l,0,t),l}},{key:"setSubData",value:function(t,e,r){var o=Ne.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;o.writeBuffer(t,e,r)}}]),u}();function l1(u){return typeof u=="number"}var c1=function(){function u(n,t){no()(this,u),this.engine=n,this.context=t,this.entity=Object(Ne.createEntity)(),this.uniformGPUBufferLayout=[],this.uniformBuffer=void 0,this.vertexBuffers={},this.outputBuffer=void 0,this.bindGroupEntries=void 0,this.bindGroup=void 0,this.computePipeline=void 0}return _i()(u,[{key:"init",value:function(){var n=cs()(Wi.a.mark(function e(){var r=this,o,l,v,b,L,F,U;return Wi.a.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return ht.next=2,this.compileComputePipelineStageDescriptor(this.context.shader);case 2:o=ht.sent,l=o.computeStage,v=this.context.uniforms.filter(function(bt){return bt.storageClass===Ne.STORAGE_CLASS.StorageBuffer}),b=this.context.uniforms.filter(function(bt){return bt.storageClass===Ne.STORAGE_CLASS.Uniform}),L=b.length?1:0,this.bindGroupEntries=[],L&&(F=0,U=[],b.forEach(function(bt){if(l1(bt.data))r.uniformGPUBufferLayout.push({name:bt.name,offset:F}),F+=4,U.push(bt.data);else{var At,wt=((At=bt.data)===null||At===void 0?void 0:At.length)||1;wt===3&&(wt=4,bt.data.push(0));var kt=F/4%4;if(kt>0){var Ut=4-kt;if(wt>1&&wt<=Ut)wt===2&&(Ut===3&&(F+=4,U.push(0)),U.push.apply(U,xs()(bt.data)),r.uniformGPUBufferLayout.push({name:bt.name,offset:F}));else{for(var Kt=0;Kt<Ut;Kt++)F+=4,U.push(0);U.push.apply(U,xs()(bt.data)),r.uniformGPUBufferLayout.push({name:bt.name,offset:F})}}F+=4*wt}}),this.uniformBuffer=new qh(this.engine,{data:U instanceof Array?new Float32Array(U):U,usage:Zn.BufferUsage.Uniform|Zn.BufferUsage.CopyDst}),this.bindGroupEntries.push({binding:0,resource:{buffer:this.uniformBuffer.get()}})),v.forEach(function(bt){if(bt.data!==null&&(bt.type===Ne.AST_TOKEN_TYPES.Vector4FloatArray||bt.type===Ne.AST_TOKEN_TYPES.FloatArray)){var At;bt.name===r.context.output.name?(At=new qh(r.engine,{data:isFinite(Number(bt.data))?[bt.data]:bt.data,usage:Zn.BufferUsage.Storage|Zn.BufferUsage.CopyDst|Zn.BufferUsage.CopySrc}),r.outputBuffer=At,r.context.output={name:bt.name,length:isFinite(Number(bt.data))?1:bt.data.length,typedArrayConstructor:Float32Array,gpuBuffer:At.get()}):bt.isReferer?bt.data.model&&bt.data.model.outputBuffer&&(At=bt.data.model.outputBuffer):At=new qh(r.engine,{data:isFinite(Number(bt.data))?[bt.data]:bt.data,usage:Zn.BufferUsage.Storage|Zn.BufferUsage.CopyDst|Zn.BufferUsage.CopySrc}),r.vertexBuffers[bt.name]=At,r.bindGroupEntries.push({binding:L,resource:{name:bt.name,refer:At?void 0:bt.data,buffer:At?At.get():void 0}}),L++}}),this.computePipeline=this.engine.device.createComputePipeline({computeStage:l}),console.log(this.bindGroupEntries),this.bindGroup=this.engine.device.createBindGroup({layout:this.computePipeline.getBindGroupLayout(0),entries:this.bindGroupEntries});case 13:case"end":return ht.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var t=this;this.uniformBuffer&&this.uniformBuffer.destroy(),Object.keys(this.vertexBuffers).forEach(function(e){return t.vertexBuffers[e].destroy()})}},{key:"readData",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o,l,v,b,L,F,U,rt,ht;return Wi.a.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(r=this.context.output,!r){At.next=16;break}if(o=r.length,l=r.typedArrayConstructor,v=r.gpuBuffer,!v){At.next=16;break}return b=o*l.BYTES_PER_ELEMENT,L=this.engine.device.createBuffer({size:b,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),F=this.engine.device.createCommandEncoder(),F.copyBufferToBuffer(v,0,L,0,b),U=Ne.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue,U.submit([F.finish()]),At.next=12,L.mapAsync(Zn.MapMode.Read);case 12:return rt=L.getMappedRange(),ht=new l(rt.slice(0)),L.unmap(),At.abrupt("return",ht);case 16:return At.abrupt("return",new Float32Array);case 17:case"end":return At.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"run",value:function(){if(this.engine.currentComputePass){var t;this.engine.currentComputePass.setPipeline(this.computePipeline),this.engine.currentComputePass.setBindGroup(0,this.bindGroup),(t=this.engine.currentComputePass).dispatch.apply(t,xs()(this.context.dispatch))}}},{key:"updateBuffer",value:function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=this.vertexBuffers[t];o&&o.subData({data:e,offset:r})}},{key:"updateUniform",value:function(t,e){var r=this.uniformGPUBufferLayout.find(function(o){return o.name===t});r&&this.uniformBuffer.subData({data:Number.isFinite(e)?new Float32Array([e]):new Float32Array(e),offset:r.offset})}},{key:"confirmInput",value:function(t,e){var r=this.vertexBuffers[e],o=t.outputBuffer;if(r&&o&&r!==o){var l=this.engine.device.createCommandEncoder(),v=t.context.output,b=v.length,L=v.typedArrayConstructor,F=b*L.BYTES_PER_ELEMENT;l.copyBufferToBuffer(o.get(),0,r.get(),0,F);var U=Ne.isSafari?this.engine.device.getQueue():this.engine.device.defaultQueue;U.submit([l.finish()])}}},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"compileComputePipelineStageDescriptor",value:function(){var n=cs()(Wi.a.mark(function e(r){var o,l;return Wi.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(o=r,l=`#version 450
`,this.engine.options.useWGSL){b.next=6;break}return b.next=5,this.compileShaderToSpirV(r,"compute",l);case 5:o=b.sent;case 6:return b.abrupt("return",{computeStage:{module:this.engine.device.createShaderModule({code:o,isWHLSL:Ne.isSafari}),entryPoint:"main"}});case 7:case"end":return b.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()}]),u}(),f1=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.indexCount=void 0,this.buffer=void 0;var e=t,r=e.data,o=e.usage,l=e.type,v=e.count;this.indexCount=v||0,this.buffer=new qh(n,{data:r instanceof Array?new Uint16Array(r):r,usage:Zn.BufferUsage.Index|Zn.BufferUsage.CopyDst})}return _i()(u,[{key:"get",value:function(){return this.buffer}},{key:"subData",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),u}(),h1=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.colorTexture=void 0,this.depthTexture=void 0,this.width=0,this.height=0;var e=t,r=e.width,o=e.height,l=e.color,v=e.colors,b=e.depth,L=e.stencil;l&&(this.colorTexture=l),b&&(this.depthTexture=b)}return _i()(u,[{key:"get",value:function(){var t,e;return{color:(t=this.colorTexture)===null||t===void 0?void 0:t.get(),depth:(e=this.depthTexture)===null||e===void 0?void 0:e.get()}}},{key:"destroy",value:function(){var t,e;(t=this.colorTexture)===null||t===void 0||t.destroy(),(e=this.depthTexture)===null||e===void 0||e.destroy()}},{key:"resize",value:function(t){var e=t.width,r=t.height;if(e!==this.width||r!==this.height){var o,l;(o=this.colorTexture)===null||o===void 0||o.resize({width:e,height:r}),(l=this.depthTexture)===null||l===void 0||l.resize({width:e,height:r})}this.width=e,this.height=r}}]),u}(),$c,vc,vh,Au,td,wv,Gd,d1=($c={},un()($c,Ne.gl.POINTS,Zn.PrimitiveTopology.PointList),un()($c,Ne.gl.LINES,Zn.PrimitiveTopology.LineList),un()($c,Ne.gl.LINE_LOOP,Zn.PrimitiveTopology.LineList),un()($c,Ne.gl.LINE_STRIP,Zn.PrimitiveTopology.LineStrip),un()($c,Ne.gl.TRIANGLES,Zn.PrimitiveTopology.TriangleList),un()($c,Ne.gl.TRIANGLE_FAN,Zn.PrimitiveTopology.TriangleList),un()($c,Ne.gl.TRIANGLE_STRIP,Zn.PrimitiveTopology.TriangleStrip),$c),v1=(vc={},un()(vc,Ne.gl.NEVER,Zn.CompareFunction.Never),un()(vc,Ne.gl.ALWAYS,Zn.CompareFunction.Always),un()(vc,Ne.gl.LESS,Zn.CompareFunction.Less),un()(vc,Ne.gl.LEQUAL,Zn.CompareFunction.LessEqual),un()(vc,Ne.gl.GREATER,Zn.CompareFunction.Greater),un()(vc,Ne.gl.GEQUAL,Zn.CompareFunction.GreaterEqual),un()(vc,Ne.gl.EQUAL,Zn.CompareFunction.Equal),un()(vc,Ne.gl.NOTEQUAL,Zn.CompareFunction.NotEqual),vc),fp=(vh={},un()(vh,Ne.gl.FUNC_ADD,Zn.BlendOperation.Add),un()(vh,Ne.gl.MIN_EXT,Zn.BlendOperation.Min),un()(vh,Ne.gl.MAX_EXT,Zn.BlendOperation.Max),un()(vh,Ne.gl.FUNC_SUBTRACT,Zn.BlendOperation.Subtract),un()(vh,Ne.gl.FUNC_REVERSE_SUBTRACT,Zn.BlendOperation.ReverseSubtract),vh),Rv=(Au={},un()(Au,Ne.gl.ZERO,Zn.BlendFactor.Zero),un()(Au,Ne.gl.ONE,Zn.BlendFactor.One),un()(Au,Ne.gl.SRC_COLOR,Zn.BlendFactor.SrcColor),un()(Au,Ne.gl.ONE_MINUS_SRC_COLOR,Zn.BlendFactor.OneMinusSrcColor),un()(Au,Ne.gl.SRC_ALPHA,Zn.BlendFactor.SrcAlpha),un()(Au,Ne.gl.ONE_MINUS_SRC_ALPHA,Zn.BlendFactor.OneMinusSrcAlpha),un()(Au,Ne.gl.DST_COLOR,Zn.BlendFactor.DstColor),un()(Au,Ne.gl.ONE_MINUS_DST_COLOR,Zn.BlendFactor.OneMinusDstColor),un()(Au,Ne.gl.DST_ALPHA,Zn.BlendFactor.DstAlpha),un()(Au,Ne.gl.ONE_MINUS_DST_ALPHA,Zn.BlendFactor.OneMinusDstAlpha),un()(Au,Ne.gl.CONSTANT_COLOR,Zn.BlendFactor.BlendColor),un()(Au,Ne.gl.ONE_MINUS_CONSTANT_COLOR,Zn.BlendFactor.OneMinusBlendColor),un()(Au,Ne.gl.SRC_ALPHA_SATURATE,Zn.BlendFactor.SrcAlphaSaturated),Au),g1=(td={},un()(td,Ne.gl.ALPHA,"r8unorm"),un()(td,Ne.gl.RGBA,"rgba8unorm"),un()(td,Ne.gl.DEPTH_COMPONENT,"depth32float"),un()(td,Ne.gl.DEPTH_STENCIL,"depth24plus-stencil8"),td),hp=(wv={},un()(wv,Ne.gl.NEAREST,"nearest"),un()(wv,Ne.gl.LINEAR,"linear"),wv),yg=(Gd={},un()(Gd,Ne.gl.REPEAT,"repeat"),un()(Gd,Ne.gl.CLAMP_TO_EDGE,"clamp-to-edge"),un()(Gd,Ne.gl.MIRRORED_REPEAT,"mirror-repeat"),Gd);function p1(u){var n=u.cull;if(!n||!n.enable)return Zn.CullMode.None;if(n.face)return n.face===Ne.gl.FRONT?Zn.CullMode.Front:Zn.CullMode.Back}function y1(u){var n=u.depth,t=u.stencil,e={compare:Zn.CompareFunction.Always,depthFailOp:Zn.StencilOperation.Keep,failOp:Zn.StencilOperation.Keep,passOp:Zn.StencilOperation.Keep};return{depthWriteEnabled:n&&n.enable,depthCompare:v1[(n==null?void 0:n.func)||Ne.gl.ALWAYS],format:Zn.TextureFormat.Depth24PlusStencil8,stencilFront:e,stencilBack:e,stencilReadMask:4294967295,stencilWriteMask:4294967295}}function m1(u,n){var t=u.blend;return[{format:n,alphaBlend:{srcFactor:Rv[t&&t.func&&t.func.srcAlpha||Ne.gl.ONE],dstFactor:Rv[t&&t.func&&t.func.dstAlpha||Ne.gl.ZERO],operation:fp[t&&t.equation&&t.equation.alpha||Ne.gl.FUNC_ADD]},colorBlend:{srcFactor:Rv[t&&t.func&&t.func.srcRGB||Ne.gl.ONE],dstFactor:Rv[t&&t.func&&t.func.dstRGB||Ne.gl.ZERO],operation:fp[t&&t.equation&&t.equation.rgb||Ne.gl.FUNC_ADD]},writeMask:Zn.ColorWrite.All}]}function dp(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function ed(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?dp(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):dp(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function b1(u){for(var n=0,t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];for(var o=0,l=e;o<l.length;o++){var v=l[o];n+=v.length}for(var b=new u(n),L=0,F=0,U=e;F<U.length;F++){var rt=U[F];b.set(rt,L),L+=rt.length}return b}var E1=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.pipelineLayout=void 0,this.renderPipeline=void 0,this.uniformsBindGroupLayout=void 0,this.uniformBindGroup=void 0,this.uniformBuffer=void 0,this.uniforms={},this.uniformGPUBufferLayout=[],this.attributeCache={},this.indexBuffer=void 0,this.indexCount=void 0}return _i()(u,[{key:"init",value:function(){var n=cs()(Wi.a.mark(function e(){var r=this,o,l,v,b,L,F,U,rt,ht,bt,At,wt,kt,Ut,Kt,qt,ne,ye;return Wi.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return o=this.options,l=o.vs,v=o.fs,b=o.attributes,L=o.uniforms,F=o.primitive,U=o.count,rt=o.elements,ht=o.depth,bt=o.blend,At=o.stencil,wt=o.cull,kt=o.instances,je.next=3,this.compilePipelineStageDescriptor(l,v,null);case 3:Ut=je.sent,Kt=Ut.vertexStage,qt=Ut.fragmentStage,L&&this.buildUniformBindGroup(L),rt&&(this.indexBuffer=rt.get(),this.indexCount=rt.indexCount),ne={vertexBuffers:Object.keys(b).map(function(We,Be){var qe=b[We],sr=qe.get(),hn=sr.arrayStride,dn=sr.stepMode,vn=sr.attributes;return r.attributeCache[We]=qe,{arrayStride:hn,stepMode:dn,attributes:vn}})},ye={sampleCount:this.engine.mainPassSampleCount,primitiveTopology:d1[F||Ne.gl.TRIANGLES],rasterizationState:ed(ed({},this.getDefaultRasterizationStateDescriptor()),{},{cullMode:p1({cull:wt})}),depthStencilState:y1({depth:ht,stencil:At}),colorStates:m1({blend:bt},this.engine.options.swapChainFormat),layout:this.pipelineLayout,vertexStage:Kt,fragmentStage:qt,vertexState:ne},this.renderPipeline=this.engine.device.createRenderPipeline(ye);case 11:case"end":return je.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"addUniforms",value:function(t){this.uniforms=ed(ed({},this.uniforms),Nd(t))}},{key:"draw",value:function(t){var e=this,r=this.engine.getCurrentRenderPass(),o=ed(ed({},this.uniforms),Nd(t.uniforms||{})),l=[];Object.keys(o).forEach(function(v){var b=hh()(o[v]);if(b==="boolean"||b==="number"||Array.isArray(o[v])||o[v].BYTES_PER_ELEMENT){var L,F=(L=e.uniformGPUBufferLayout.find(function(kt){var Ut=kt.name;return Ut===v}))===null||L===void 0?void 0:L.offset;F!==null&&e.uniformBuffer.subData({data:o[v],offset:F})}else{var U,rt=(U=e.uniformGPUBufferLayout.find(function(kt){var Ut=kt.name;return Ut===v}))===null||U===void 0?void 0:U.offset;if(rt!==null){var ht=o[v].get(),bt=ht.color||ht,At=bt.texture,wt=bt.sampler;wt&&(l.push({binding:rt,resource:wt}),rt++),l.push({binding:rt,resource:At.createView()})}}}),this.uniformBuffer&&(l[0]={binding:0,resource:{buffer:this.uniformBuffer.get()}}),this.uniformBindGroup=this.engine.device.createBindGroup({layout:this.uniformsBindGroupLayout,entries:l}),this.renderPipeline&&r.setPipeline(this.renderPipeline),r.setBindGroup(0,this.uniformBindGroup),this.indexBuffer&&r.setIndexBuffer(this.indexBuffer.get(),Zn.IndexFormat.Uint32,0),Object.keys(this.attributeCache).forEach(function(v,b){r.setVertexBuffer(0+b,e.attributeCache[v].get().buffer,0)}),this.indexBuffer?r.drawIndexed(this.indexCount,this.options.instances||1,0,0,0):r.draw(this.options.count||0,this.options.instances||0,0,0)}},{key:"destroy",value:function(){throw new Error("Method not implemented.")}},{key:"compilePipelineStageDescriptor",value:function(){var n=cs()(Wi.a.mark(function e(r,o,l){var v,b,L;return Wi.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(v=`#version 450
`,b=r,L=o,this.engine.options.useWGSL){U.next=10;break}return U.next=6,this.compileShaderToSpirV(r,"vertex",v);case 6:return b=U.sent,U.next=9,this.compileShaderToSpirV(o,"fragment",v);case 9:L=U.sent;case 10:return U.abrupt("return",this.createPipelineStageDescriptor(b,L));case 11:case"end":return U.stop()}},e,this)}));function t(e,r,o){return n.apply(this,arguments)}return t}()},{key:"compileShaderToSpirV",value:function(t,e,r){return this.compileRawShaderToSpirV(r+t,e)}},{key:"compileRawShaderToSpirV",value:function(t,e){return this.engine.glslang.compileGLSL(t,e)}},{key:"createPipelineStageDescriptor",value:function(t,e){return{vertexStage:{module:this.engine.device.createShaderModule({code:t,isWHLSL:Ne.isSafari}),entryPoint:"main"},fragmentStage:{module:this.engine.device.createShaderModule({code:e,isWHLSL:Ne.isSafari}),entryPoint:"main"}}}},{key:"getDefaultRasterizationStateDescriptor",value:function(){return{frontFace:Zn.FrontFace.CCW,cullMode:Zn.CullMode.None,depthBias:0,depthBiasSlopeScale:0,depthBiasClamp:0}}},{key:"buildUniformBindGroup",value:function(t){var e=this,r=0,o=b1.apply(void 0,[Float32Array].concat(xs()(Object.keys(t).map(function(b){return t[b]?(e.uniformGPUBufferLayout.push({name:b,offset:r}),r+=(t[b].length||1)*4,t[b]):[]})))),l=[],v=!1;o.length&&(v=!0,l.push({binding:0,visibility:Zn.ShaderStage.Fragment|Zn.ShaderStage.Vertex,type:Zn.BindingType.UniformBuffer})),Object.keys(t).filter(function(b){return t[b]===null}).forEach(function(b,L){e.uniformGPUBufferLayout.push({name:b,offset:L*2+(v?1:0)}),l.push({binding:L*2+(v?1:0),visibility:Zn.ShaderStage.Fragment,type:Zn.BindingType.Sampler},{binding:L*2+(v?1:0)+1,visibility:Zn.ShaderStage.Fragment,type:Zn.BindingType.SampledTexture})}),this.uniformsBindGroupLayout=this.engine.device.createBindGroupLayout({entries:l}),this.pipelineLayout=this.engine.device.createPipelineLayout({bindGroupLayouts:[this.uniformsBindGroupLayout]}),v&&(this.uniformBuffer=new qh(this.engine,{data:o instanceof Array?new Float32Array(o):o,usage:Zn.BufferUsage.Uniform|Zn.BufferUsage.CopyDst}))}}]),u}(),O1=function(){function u(n,t){no()(this,u),this.engine=n,this.options=t,this.texture=void 0,this.sampler=void 0,this.width=void 0,this.height=void 0,this.createTexture()}return _i()(u,[{key:"get",value:function(){return{texture:this.texture,sampler:this.sampler}}},{key:"update",value:function(){}},{key:"resize",value:function(t){var e=t.width,r=t.height;(e!==this.width||r!==this.height)&&(this.destroy(),this.createTexture()),this.width=e,this.height=r}},{key:"destroy",value:function(){this.texture&&this.texture.destroy()}},{key:"createTexture",value:function(){var t=this.options,e=t.data,r=t.type,o=r===void 0?Ne.gl.UNSIGNED_BYTE:r,l=t.width,v=t.height,b=t.flipY,L=b===void 0?!1:b,F=t.format,U=F===void 0?Ne.gl.RGBA:F,rt=t.mipmap,ht=rt===void 0?!1:rt,bt=t.wrapS,At=bt===void 0?Ne.gl.CLAMP_TO_EDGE:bt,wt=t.wrapT,kt=wt===void 0?Ne.gl.CLAMP_TO_EDGE:wt,Ut=t.aniso,Kt=Ut===void 0?0:Ut,qt=t.alignment,ne=qt===void 0?1:qt,ye=t.premultiplyAlpha,xe=ye===void 0?!1:ye,je=t.mag,We=je===void 0?Ne.gl.NEAREST:je,Be=t.min,qe=Be===void 0?Ne.gl.NEAREST:Be,sr=t.colorSpace,hn=sr===void 0?Ne.gl.BROWSER_DEFAULT_WEBGL:sr,dn=t.usage;this.width=l,this.height=v,this.texture=this.engine.device.createTexture({size:[l,v,1],mipLevelCount:1,sampleCount:1,dimension:Zn.TextureDimension.E2d,format:g1[U],usage:dn||Zn.TextureUsage.Sampled|Zn.TextureUsage.CopyDst}),(!dn||dn&Zn.TextureUsage.Sampled)&&(this.sampler=this.engine.device.createSampler({addressModeU:yg[At],addressModeV:yg[kt],addressModeW:yg[At],magFilter:hp[We],minFilter:hp[qe],maxAnisotropy:Kt}))}}]),u}(),vp,gp,pp,x1=(vp=Object(pi.injectable)(),vp(gp=(pp=function(){function u(){var n=this;no()(this,u),this.supportWebGPU=!0,this.useWGSL=!1,this.options=void 0,this.canvas=void 0,this.context=void 0,this.glslang=void 0,this.adapter=void 0,this.device=void 0,this.swapChain=void 0,this.mainPassSampleCount=void 0,this.mainTexture=void 0,this.depthTexture=void 0,this.mainColorAttachments=void 0,this.mainTextureExtends=void 0,this.mainDepthAttachment=void 0,this.uploadEncoder=void 0,this.renderEncoder=void 0,this.computeEncoder=void 0,this.renderTargetEncoder=void 0,this.commandBuffers=new Array(4).fill(void 0),this.currentRenderPass=null,this.mainRenderPass=null,this.currentRenderTargetViewDescriptor=void 0,this.currentComputePass=null,this.bundleEncoder=void 0,this.tempBuffers=[],this.currentRenderTarget=null,this.uploadEncoderDescriptor={label:"upload"},this.renderEncoderDescriptor={label:"render"},this.renderTargetEncoderDescriptor={label:"renderTarget"},this.computeEncoderDescriptor={label:"compute"},this.pipelines={},this.computePipelines={},this.defaultSampleCount=4,this.clearDepthValue=1,this.clearStencilValue=0,this.transientViewport={x:Infinity,y:0,width:0,height:0},this.cachedViewport={x:0,y:0,width:0,height:0},this.clear=function(t){var e=t.framebuffer,r=t.color,o=t.depth,l=t.stencil;n.options.supportCompute&&n.startComputePass(),n.currentRenderTarget?(n.currentRenderPass&&n.endRenderTargetRenderPass(),n.startRenderTargetRenderPass(n.currentRenderTarget,r||null,!!o,!!l)):(n.mainColorAttachments[0].loadValue=r||Zn.LoadOp.Load,n.mainDepthAttachment.depthLoadValue=o||Zn.LoadOp.Load,n.mainDepthAttachment.stencilLoadValue=l?n.clearStencilValue:Zn.LoadOp.Load,n.mainRenderPass&&n.endMainRenderPass(),n.startMainRenderPass())},this.createModel=function(){var t=cs()(Wi.a.mark(function e(r){var o;return Wi.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=new E1(n,r),v.next=3,o.init();case 3:return v.abrupt("return",o);case 4:case"end":return v.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new u1(n,t)},this.createBuffer=function(t){return new qh(n,t)},this.createElements=function(t){return new f1(n,t)},this.createTexture2D=function(t){return new O1(n,t)},this.createFramebuffer=function(t){return new h1(n,t)},this.useFramebuffer=function(t,e){n.currentRenderTarget&&n.unbindFramebuffer(n.currentRenderTarget),n.currentRenderTarget=t,n.currentRenderTargetViewDescriptor={dimension:Zn.TextureViewDimension.E2d,arrayLayerCount:1,aspect:Zn.TextureAspect.All},n.currentRenderPass=null,e()},this.createComputeModel=function(){var t=cs()(Wi.a.mark(function e(r){var o;return Wi.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return o=new c1(n,r),v.next=3,o.init();case 3:return v.abrupt("return",o);case 4:case"end":return v.stop()}},e)}));return function(e){return t.apply(this,arguments)}}(),this.getCanvas=function(){return n.canvas},this.getGLContext=function(){throw new Error("Method not implemented.")},this.viewport=function(t){var e=t.x,r=t.y,o=t.width,l=t.height;if(!n.currentRenderPass)n.transientViewport={x:e,y:r,width:o,height:l};else if(n.transientViewport.x!==Infinity){var v=n.getCurrentRenderPass();v.setViewport(n.transientViewport.x,n.transientViewport.y,n.transientViewport.width,n.transientViewport.height,0,1)}else if(e!==n.cachedViewport.x||r!==n.cachedViewport.y||o!==n.cachedViewport.width||l!==n.cachedViewport.height){n.cachedViewport={x:e,y:r,width:o,height:l};var b=n.getCurrentRenderPass();b.setViewport(e,r,o,l,0,1)}},this.readPixels=function(t){throw new Error("Method not implemented.")}}return _i()(u,[{key:"isFloatSupported",value:function(){return!0}},{key:"init",value:function(){var n=cs()(Wi.a.mark(function e(r){return Wi.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return this.canvas=r.canvas,this.options=r,this.useWGSL=!!r.useWGSL,this.mainPassSampleCount=r.antialiasing?this.defaultSampleCount:1,l.next=6,this.initGlslang();case 6:this.initContextAndSwapChain(),this.initMainAttachments();case 8:case"end":return l.stop()}},e,this)}));function t(e){return n.apply(this,arguments)}return t}()},{key:"setScissor",value:function(t){throw new Error("Method not implemented.")}},{key:"destroy",value:function(){this.mainTexture&&this.mainTexture.destroy(),this.depthTexture&&this.depthTexture.destroy(),this.tempBuffers.forEach(function(t){return t.destroy()}),this.tempBuffers=[]}},{key:"beginFrame",value:function(){this.uploadEncoder=this.device.createCommandEncoder(this.uploadEncoderDescriptor),this.renderEncoder=this.device.createCommandEncoder(this.renderEncoderDescriptor),this.renderTargetEncoder=this.device.createCommandEncoder(this.renderTargetEncoderDescriptor),this.options.supportCompute&&(this.computeEncoder=this.device.createCommandEncoder(this.computeEncoderDescriptor))}},{key:"endFrame",value:function(){this.options.supportCompute&&this.endComputePass(),this.endMainRenderPass(),this.commandBuffers[0]=this.uploadEncoder.finish(),this.commandBuffers[1]=this.renderEncoder.finish(),this.options.supportCompute&&(this.commandBuffers[2]=this.computeEncoder.finish()),this.commandBuffers[3]=this.renderTargetEncoder.finish(),Ne.isSafari?this.device.getQueue().submit(this.commandBuffers.filter(function(t){return t})):this.device.defaultQueue.submit(this.commandBuffers.filter(function(t){return t}))}},{key:"getCurrentRenderPass",value:function(){return this.currentRenderTarget&&!this.currentRenderPass?this.startRenderTargetRenderPass(this.currentRenderTarget,null,!1,!1):this.currentRenderPass||this.startMainRenderPass(),this.currentRenderPass}},{key:"initGlslang",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o;return Wi.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,s1();case 2:return this.glslang=v.sent,v.next=5,(r=navigator)===null||r===void 0||(o=r.gpu)===null||o===void 0?void 0:o.requestAdapter();case 5:return this.adapter=v.sent,v.next=8,this.adapter.requestDevice();case 8:this.device=v.sent;case 9:case"end":return v.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"initContextAndSwapChain",value:function(){this.context=this.canvas.getContext(Ne.isSafari?"gpu":"gpupresent"),this.swapChain=this.context.configureSwapChain({device:this.device,format:this.options.swapChainFormat,usage:Zn.TextureUsage.OutputAttachment|Zn.TextureUsage.CopySrc})}},{key:"initMainAttachments",value:function(){if(this.mainTextureExtends={width:this.canvas.width,height:this.canvas.height,depth:1},this.options.antialiasing){var t={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Zn.TextureDimension.E2d,format:Zn.TextureFormat.BGRA8Unorm,usage:Zn.TextureUsage.OutputAttachment};this.mainTexture&&this.mainTexture.destroy(),this.mainTexture=this.device.createTexture(t),this.mainColorAttachments=[{attachment:Ne.isSafari?this.mainTexture.createDefaultView():this.mainTexture.createView(),loadValue:[0,0,0,1],storeOp:Zn.StoreOp.Store}]}else this.mainColorAttachments=[{attachment:Ne.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),loadValue:[0,0,0,1],storeOp:Zn.StoreOp.Store}];var e={size:this.mainTextureExtends,mipLevelCount:1,sampleCount:this.mainPassSampleCount,dimension:Zn.TextureDimension.E2d,format:Ne.isSafari?"depth32float-stencil8":Zn.TextureFormat.Depth24PlusStencil8,usage:Zn.TextureUsage.OutputAttachment};this.depthTexture&&this.depthTexture.destroy(),this.depthTexture=this.device.createTexture(e),this.mainDepthAttachment={attachment:Ne.isSafari?this.depthTexture.createDefaultView():this.depthTexture.createView(),depthLoadValue:this.clearDepthValue,depthStoreOp:Zn.StoreOp.Store,stencilLoadValue:this.clearStencilValue,stencilStoreOp:Zn.StoreOp.Store}}},{key:"startComputePass",value:function(){this.currentComputePass&&this.endComputePass(),this.currentComputePass=this.computeEncoder.beginComputePass()}},{key:"startMainRenderPass",value:function(){this.currentRenderPass&&!this.currentRenderTarget&&this.endMainRenderPass(),this.options.antialiasing?this.mainColorAttachments[0].resolveTarget=Ne.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView():this.mainColorAttachments[0].attachment=Ne.isSafari?this.swapChain.getCurrentTexture().createDefaultView():this.swapChain.getCurrentTexture().createView(),this.currentRenderPass=this.renderEncoder.beginRenderPass({colorAttachments:this.mainColorAttachments,depthStencilAttachment:this.mainDepthAttachment}),this.mainRenderPass=this.currentRenderPass,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"startRenderTargetRenderPass",value:function(t,e,r){var o,l,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,b=(o=t.get().color)===null||o===void 0?void 0:o.texture,L;b&&(L=b.createView(this.currentRenderTargetViewDescriptor));var F=(l=t.get().depth)===null||l===void 0?void 0:l.texture,U;F&&(U=F.createView());var rt=this.renderTargetEncoder.beginRenderPass({colorAttachments:[{attachment:L,loadValue:e!==null?e:Zn.LoadOp.Load,storeOp:Zn.StoreOp.Store}],depthStencilAttachment:F&&U?{attachment:U,depthLoadValue:r?this.clearDepthValue:Zn.LoadOp.Load,depthStoreOp:Zn.StoreOp.Store,stencilLoadValue:v?this.clearStencilValue:Zn.LoadOp.Load,stencilStoreOp:Zn.StoreOp.Store}:void 0});this.currentRenderPass=rt,this.cachedViewport&&this.viewport(this.cachedViewport)}},{key:"endMainRenderPass",value:function(){this.currentRenderPass===this.mainRenderPass&&this.currentRenderPass!==null&&(this.currentRenderPass.endPass(),this.resetCachedViewport(),this.currentRenderPass=null,this.mainRenderPass=null)}},{key:"endComputePass",value:function(){this.currentComputePass&&(this.currentComputePass.endPass(),this.currentComputePass=null)}},{key:"endRenderTargetRenderPass",value:function(){this.currentRenderPass&&(this.currentRenderPass.endPass(),this.resetCachedViewport())}},{key:"resetCachedViewport",value:function(){this.cachedViewport={x:0,y:0,width:0,height:0}}},{key:"unbindFramebuffer",value:function(t){this.currentRenderPass&&this.currentRenderPass!==this.mainRenderPass&&this.endRenderTargetRenderPass(),this.transientViewport.x=Infinity,this.currentRenderTarget=null,this.currentRenderPass=this.mainRenderPass}}]),u}(),pp))||gp),C1=a("J4zp"),A1=a.n(C1),S1=a("7W2i"),jf=a.n(S1),M1=a("a1gu"),Lf=a.n(M1),T1=a("Nsbk"),lu=a.n(T1),yp,mp;function D1(u){var n=P1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function P1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var mg=4/64,bp=1-mg*2,I1=(yp=Object(pi.injectable)(),yp(mp=function(u){jf()(t,u);var n=D1(t);function t(){return no()(this,t),n.apply(this,arguments)}return _i()(t,[{key:"onEntityCreated",value:function(){var r=this.config,o=r.widthSegments,l=o===void 0?1:o,v=r.heightSegments,b=v===void 0?1:v,L=r.depthSegments,F=L===void 0?1:L,U=r.halfExtents,rt=U===void 0?zr.e.fromValues(.5,.5,.5):U,ht=l,bt=b,At=F,wt=A1()(rt,3),kt=wt[0],Ut=wt[1],Kt=wt[2],qt=[zr.e.fromValues(-kt,-Ut,Kt),zr.e.fromValues(kt,-Ut,Kt),zr.e.fromValues(kt,Ut,Kt),zr.e.fromValues(-kt,Ut,Kt),zr.e.fromValues(kt,-Ut,-Kt),zr.e.fromValues(-kt,-Ut,-Kt),zr.e.fromValues(-kt,Ut,-Kt),zr.e.fromValues(kt,Ut,-Kt)],ne=[[0,1,3],[4,5,7],[3,2,6],[1,0,4],[1,4,2],[5,0,6]],ye=[[0,0,1],[0,0,-1],[0,1,0],[0,-1,0],[1,0,0],[-1,0,0]],xe={FRONT:0,BACK:1,TOP:2,BOTTOM:3,RIGHT:4,LEFT:5},je=[],We=[],Be=[],qe=[],sr=[],hn=0,dn=function(Rn,Gn,Qn){var gn,Jn,Pa,Cn;for(Pa=0;Pa<=Gn;Pa++)for(Cn=0;Cn<=Qn;Cn++){var Yn=zr.e.create(),li=zr.e.create(),yi=zr.e.create(),Ri=zr.e.create();zr.e.lerp(Yn,qt[ne[Rn][0]],qt[ne[Rn][1]],Pa/Gn),zr.e.lerp(li,qt[ne[Rn][0]],qt[ne[Rn][2]],Cn/Qn),zr.e.sub(yi,li,qt[ne[Rn][0]]),zr.e.add(Ri,Yn,yi),gn=Pa/Gn,Jn=Cn/Qn,je.push(Ri[0],Ri[1],Ri[2]),We.push(ye[Rn][0],ye[Rn][1],ye[Rn][2]),Be.push(gn,Jn),gn/=3,Jn/=3,gn=gn*bp+mg,Jn=Jn*bp+mg,gn+=Rn%3/3,Jn+=Math.floor(Rn/3)/3,qe.push(gn,Jn),Pa<Gn&&Cn<Qn&&(sr.push(hn+Qn+1,hn+1,hn),sr.push(hn+Qn+1,hn+Qn+2,hn+1)),hn++}};dn(xe.FRONT,ht,bt),dn(xe.BACK,ht,bt),dn(xe.TOP,ht,At),dn(xe.BOTTOM,ht,At),dn(xe.RIGHT,At,bt),dn(xe.LEFT,At,bt);var vn=Object(Ne.generateAABBFromVertices)(je),aa=this.getComponent();aa.indices=Uint32Array.from(sr),aa.aabb=vn,aa.vertexCount=hn,aa.attributes=[{dirty:!0,name:"position",data:Float32Array.from(je),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(We),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(Be),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(lc))||mp);function j1(u,n){if(!u&&!n)throw new Error("Please specify valid arguments for parameters a and b.");if(!n||n.length===0)return u;if(!u||u.length===0)return n;if(Object.prototype.toString.call(u)!==Object.prototype.toString.call(n))throw new Error("The types of the two arguments passed for parameters a and b do not match.");var t=new u.constructor(u.length+n.length);return t.set(u),t.set(n,u.length),t}var Ep,Op;function L1(u){var n=B1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function B1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var w1=(Ep=Object(pi.injectable)(),Ep(Op=function(u){jf()(t,u);var n=L1(t);function t(){return no()(this,t),n.apply(this,arguments)}return _i()(t,[{key:"onEntityCreated",value:function(){var r=this.config.geometries,o=r===void 0?[]:r,l=this.getComponent();l.aabb=new Ne.AABB;var v=[],b=[],L=0;o.forEach(function(F){var U=F.aabb,rt=F.indices,ht=F.vertexCount,bt=F.attributes;l.aabb.add(U),l.vertexCount+=ht,rt&&b.push.apply(b,xs()(rt.map(function(At){return At+L}))),L+=ht,bt.forEach(function(At,wt){v[wt]?At.data&&(Sd(At.data)?v[wt].push(At.data):oo(At.data)?v[wt].data=j1(v[wt].data,At.data):v[wt].data=v[wt].data.concat(At.data)):(v[wt]=At,v[wt].dirty=!0)})}),l.attributes=v,l.indices=Uint32Array.from(b),l.dirty=!0}}]),t}(lc))||Op),xp,Cp;function R1(u){var n=F1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function F1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var N1=(xp=Object(pi.injectable)(),xp(Cp=function(u){jf()(t,u);var n=R1(t);function t(){return no()(this,t),n.apply(this,arguments)}return _i()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,o=r.halfExtents,l=o===void 0?[.5,.5]:o,v=r.widthSegments,b=v===void 0?5:v,L=r.lengthSegments,F=L===void 0?5:L,U=[],rt=[],ht=[],bt=[],At=0,wt=0;wt<=b;wt++)for(var kt=0;kt<=F;kt++){var Ut=-l[0]+2*l[0]*wt/b,Kt=0,qt=-(-l[1]+2*l[1]*kt/F),ne=wt/b,ye=kt/F;U.push(Ut,Kt,qt),rt.push(0,1,0),ht.push(ne,ye),wt<b&&kt<F&&(bt.push(At+F+1,At+1,At),bt.push(At+F+1,At+F+2,At+1)),At++}var xe=Object(Ne.generateAABBFromVertices)(U),je=this.getComponent();je.indices=Uint32Array.from(bt),je.aabb=xe,je.vertexCount=At,je.attributes=[{dirty:!0,name:"position",data:Float32Array.from(U),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(rt),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ht),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(lc))||Cp),Ap,Sp;function G1(u){var n=U1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function U1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var W1=(Ap=Object(pi.injectable)(),Ap(Sp=function(u){jf()(t,u);var n=G1(t);function t(){return no()(this,t),n.apply(this,arguments)}return _i()(t,[{key:"onEntityCreated",value:function(){for(var r=this.config,o=r.radius,l=o===void 0?.5:o,v=r.latitudeBands,b=v===void 0?16:v,L=r.longitudeBands,F=L===void 0?16:L,U=[],rt=[],ht=[],bt=[],At=0;At<=b;At++)for(var wt=At*Math.PI/b,kt=Math.sin(wt),Ut=Math.cos(wt),Kt=0;Kt<=F;Kt++){var qt=Kt*2*Math.PI/F-Math.PI/2,ne=Math.sin(qt),ye=Math.cos(qt),xe=ye*kt,je=Ut,We=ne*kt,Be=1-Kt/F,qe=1-At/b;U.push(xe*l,je*l,We*l),rt.push(xe,je,We),ht.push(Be,qe)}for(var sr=0;sr<b;++sr)for(var hn=0;hn<F;++hn){var dn=sr*(F+1)+hn,vn=dn+F+1;bt.push(dn+1,vn,dn),bt.push(dn+1,vn+1,vn)}var aa=Object(Ne.generateAABBFromVertices)(U),ra=this.getComponent();ra.indices=Uint32Array.from(bt),ra.aabb=aa,ra.vertexCount=U.length/3,ra.attributes=[{dirty:!0,name:"position",data:Float32Array.from(U),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float3"}]},{dirty:!0,name:"normal",data:Float32Array.from(rt),arrayStride:4*3,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float3"}]},{dirty:!0,name:"uv",data:Float32Array.from(ht),arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float2"}]}]}}]),t}(lc))||Sp),z1=a("PJYZ"),Bl=a.n(z1),Mp,Tp,Dp,Pp,Fv,Ip,jp,Lp;function k1(u){var n=V1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function V1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var H1=`varying vec4 fragColor;

#pragma include "uv.frag.declaration"
#pragma include "map.frag.declaration"

void main() {
  vec4 diffuseColor = fragColor;

  #pragma include "map.frag.main"

  gl_FragColor = diffuseColor;
}`,X1=`attribute vec3 position;
attribute vec3 normal;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform vec4 color;

varying vec4 fragColor;

#pragma include "uv.vert.declaration"

void main() {
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  fragColor = color;

  #pragma include "uv.vert.main"
}`,Y1=`// layout(set = 0, binding = 1) uniform WireframeUniforms {
//   float lineWidth;
//   vec4 lineColor;
// } wireframe;

layout(location = 0) in vec4 fragColor;
// layout(location = 1) in vec3 v_Barycentric;

layout(location = 0) out vec4 outColor;

// wireframe
// float edgeFactor() {
//   vec3 d = fwidth(v_Barycentric);
//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);
//   return min(min(a3.x, a3.y), a3.z);
// }

void main() {
  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));
  outColor = fragColor;
}`,K1=`layout(set = 0, binding = 0) uniform Uniforms {
  vec4 color;
  mat4 projectionMatrix;
  mat4 modelViewMatrix;
} uniforms;

layout(location = 0) in vec3 position;
// layout(location = 1) in vec3 barycentric;

layout(location = 0) out vec4 fragColor;
// layout(location = 1) out vec3 v_Barycentric;

void main() {
  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);
  fragColor = uniforms.color;
  // v_Barycentric = barycentric;
}`,$1=(Mp=Object(pi.injectable)(),Tp=Object(pi.inject)(Ne.IDENTIFIER.RenderEngine),Dp=Object(pi.inject)(Ne.IDENTIFIER.ShaderModuleService),Mp(Pp=(Fv=(Lp=function(u){jf()(t,u);var n=k1(t);function t(){var e;no()(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o)),Bo()(e,"engine",Ip,Bl()(e)),Bo()(e,"shaderModuleService",jp,Bl()(e)),e}return _i()(t,[{key:"onEntityCreated",value:function(){var r=this.getComponent(),o=this.engine.supportWebGPU?K1:X1,l=this.engine.supportWebGPU?Y1:H1;this.shaderModuleService.registerModule("material-basic",{vs:o,fs:l});var v=this.shaderModuleService.getModule("material-basic"),b=v.vs,L=v.fs,F=v.uniforms;r.vertexShaderGLSL=b,r.fragmentShaderGLSL=L,r.setUniform(F),this.config.map&&(r.setDefines({USE_UV:1,USE_MAP:1}),r.setUniform({map:this.config.map,uvTransform:zr.a.create()}))}}]),t}(Ll),Lp),Ip=wo()(Fv.prototype,"engine",[Tp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),jp=wo()(Fv.prototype,"shaderModuleService",[Dp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fv))||Pp),Bp,wp,Rp,Fp,Np,Gp,Up,Ud,Wp,zp,kp,Vp;function Z1(u){var n=Q1();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function Q1(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var J1=`// generate grid, borrow from clay.gl viewer
// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl
#extension GL_OES_standard_derivatives : enable

varying vec3 v_Position;
// varying vec3 v_Normal;

uniform float u_GridSize : 5;
uniform float u_GridSize2 : .5;
uniform vec4 u_GridColor : [0, 0, 0, 1];
uniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];
uniform bool u_GridEnabled : true;

// uniform vec3 u_LightDirection;
// uniform vec3 u_LightColor;
// uniform vec3 u_Camera;

void main() {
  // vec3 n = v_Normal;
  // vec3 l = normalize(u_LightDirection);
  // float NdotL = clamp(dot(n, l), 0.001, 1.0);

  gl_FragColor = vec4(1.);

  if (u_GridEnabled) {
    float wx = v_Position.x;
    float wz = v_Position.z;
    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;
    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;

    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;
    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;

    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);
    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);
    // if (v0 > 0.1) {
        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);
    // }
    // else {
        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);
    // }
  }

  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);
  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;

  // gl_FragColor.rgb *= diffuseColor;
}`,_1=`attribute vec3 a_Position;

varying vec3 v_Position;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

void main() {
  v_Position = a_Position;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);
}`,q1=(Bp=Object(pi.injectable)(),wp=Object(pi.inject)(Ne.IDENTIFIER.Systems),Rp=Object(pi.named)(Ne.IDENTIFIER.MaterialSystem),Fp=Object(pi.inject)(Ne.IDENTIFIER.Systems),Np=Object(pi.named)(Ne.IDENTIFIER.GeometrySystem),Gp=Object(pi.inject)(Ne.IDENTIFIER.ShaderModuleService),Bp(Up=(Ud=(Vp=function(u){jf()(t,u);var n=Z1(t);function t(){var e;no()(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o)),Bo()(e,"materialSystem",Wp,Bl()(e)),Bo()(e,"geometrySystem",zp,Bl()(e)),Bo()(e,"shaderModuleService",kp,Bl()(e)),e}return _i()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,l=r.data,v=this.getMeshComponent();v&&v.material&&(o==="gridColor"?(v.material.setUniform("u_GridColor",l),v.material.setUniform("u_GridColor2",l)):o==="gridSize"&&(v.material.setUniform("u_GridSize",l),v.material.setUniform("u_GridSize2",l)))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:_1,fs:J1});var r=this.shaderModuleService.getModule("grid"),o=r.vs,l=r.fs,v=r.uniforms,b=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:l});this.setMaterial(b);var L=this.geometrySystem.createBufferGeometry({vertexCount:4});this.setGeometry(L),b.setCull({enable:!1,face:Ne.gl.BACK}).setDepth({enable:!0,func:Ne.gl.LESS}),b.setUniform(v),this.setAttributes({gridColor:this.config.gridColor,gridSize:this.config.gridSize}),L.setIndex([0,3,2,2,1,0]),L.setAttribute("a_Position",Float32Array.from([-4,-1,-4,4,-1,-4,4,-1,4,-4,-1,4]),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})}}]),t}(Pf),Vp),Wp=wo()(Ud.prototype,"materialSystem",[wp,Rp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zp=wo()(Ud.prototype,"geometrySystem",[Fp,Np],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kp=wo()(Ud.prototype,"shaderModuleService",[Gp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud))||Up),Nv=a("4hNi"),gh=a("kafh");function Gv(u,n,t,e,r){Wd(n,e,-r),Wd(n,e,r),u.push(t),u.push(t)}function Wd(u,n,t){u.push([[n[0],n[1]],t])}var tb=function(u,n,t){var e=[0,0],r=[0,0],o=[0,0],l=[0,0],v=-1,b=!1,L=null,F=Object(Nv.create)(),U=t||0,rt=3,ht=[],bt=[],At=[],wt=[0,0];n&&(u=u.slice(),u.push(u[0]));for(var kt=u.length,Ut=1;Ut<kt;Ut++){var Kt=U,qt=u[Ut-1],ne=u[Ut],ye=Ut<u.length-1?u[Ut+1]:null;if(wt.push(Ut/kt,Ut/kt),Object(gh.direction)(e,ne,qt),L||(L=[0,0],Object(gh.normal)(L,e)),b||(b=!0,Gv(bt,ht,qt,L,1)),At.push([Kt+0,Kt+1,Kt+2]),!ye)Object(gh.normal)(L,e),Gv(bt,ht,ne,L,1),At.push(v===1?[Kt,Kt+2,Kt+3]:[Kt+2,Kt+1,Kt+3]),U+=2;else{Object(gh.direction)(r,ye,ne);var xe=Object(gh.computeMiter)(o,l,e,r,1),je=Object(Nv.dot)(o,L)<0?-1:1,We=xe>rt;if(!isFinite(xe)){Object(gh.normal)(L,e),Gv(bt,ht,ne,L,1),At.push(v===1?[Kt,Kt+2,Kt+3]:[Kt+2,Kt+1,Kt+3]),U+=2,v=je;continue}We?(xe=rt,wt.push(Ut/kt),Wd(ht,L,-je),bt.push(ne),Wd(ht,l,xe*je),bt.push(ne),At.push(v!==-je?[Kt,Kt+2,Kt+3]:[Kt+2,Kt+1,Kt+3]),At.push([Kt+2,Kt+3,Kt+4]),Object(gh.normal)(F,r),Object(Nv.copy)(L,F),Wd(ht,L,-je),bt.push(ne),U+=3):(Gv(bt,ht,ne,l,xe),At.push(v===1?[Kt,Kt+2,Kt+3]:[Kt+2,Kt+1,Kt+3]),je=-1,Object(Nv.copy)(L,l),U+=2),v=je}}return{normals:ht,attrIndex:At,attrPos:bt,attrCounters:wt}},Hp,Xp,Yp,Kp,$p,Zp,Qp,zd,Jp,_p,qp,ty;function eb(u){var n=rb();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function rb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var nb=`uniform float u_dash_array : 0.02;
uniform float u_dash_offset : 0;
uniform float u_dash_ratio : 0;
uniform float u_thickness : 0.02;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
    float blur = 1. - smoothstep(0.98, 1., length(v_normal));

    gl_FragColor = v_color;
    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));
}`,ab=`attribute vec2 a_pos;
attribute vec4 a_color;
attribute float a_line_miter;
attribute vec2 a_line_normal;
attribute float a_counters;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;
uniform float u_thickness : 0.02;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_counters;

void main() {
  v_color = a_color;
  v_counters = a_counters;

  vec3 normal = normalize(vec3(a_line_normal, 0.0));

  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);

  v_normal = vec2(normal * sign(a_line_miter));

  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;
}
`,ib=(Hp=Object(pi.injectable)(),Xp=Object(pi.inject)(Ne.IDENTIFIER.Systems),Yp=Object(pi.named)(Ne.IDENTIFIER.MaterialSystem),Kp=Object(pi.inject)(Ne.IDENTIFIER.Systems),$p=Object(pi.named)(Ne.IDENTIFIER.GeometrySystem),Zp=Object(pi.inject)(Ne.IDENTIFIER.ShaderModuleService),Hp(Qp=(zd=(ty=function(u){jf()(t,u);var n=eb(t);function t(){var e;no()(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o)),Bo()(e,"materialSystem",Jp,Bl()(e)),Bo()(e,"geometrySystem",_p,Bl()(e)),Bo()(e,"shaderModuleService",qp,Bl()(e)),e.vertexCount=void 0,e}return _i()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,l=r.data,v=this.getMeshComponent();if(v&&v.material)switch(o){case"dashArray":v.material.setUniform("u_dash_array",l);break;case"dashOffset":v.material.setUniform("u_dash_offset",l);break;case"dashRatio":v.material.setUniform("u_dash_ratio",l);break;case"thickness":v.material.setUniform("u_thickness",l);break;case"color":var b=new Array(this.vertexCount).fill(void 0).map(function(){return l}).reduce(function(L,F){return[].concat(xs()(L),xs()(F))},[]);v.geometry.setAttribute("a_color",Float32Array.from(b),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]});break}}},{key:"onEntityCreated",value:function(){var r=this;this.shaderModuleService.registerModule("line",{vs:ab,fs:nb});var o=this.shaderModuleService.getModule("line"),l=o.vs,v=o.fs,b=o.uniforms,L=this.materialSystem.createShaderMaterial({vertexShader:l,fragmentShader:v}),F=tb(this.config.points,!1),U=F.normals,rt=F.attrIndex,ht=F.attrPos,bt=F.attrCounters,At=ht.length;this.vertexCount=At;var wt=this.geometrySystem.createBufferGeometry({vertexCount:At});this.setMaterial(L),this.setGeometry(wt),L.setCull({enable:!1,face:Ne.gl.BACK}).setUniform(b),this.setAttributes({dashArray:this.config.dashArray,dashOffset:this.config.dashOffset,dashRatio:this.config.dashRatio,thickness:this.config.thickness});var kt=[],Ut=[];U.forEach(function(qt){var ne=qt[0],ye=qt[1];kt.push([ne[0],ne[1]]),Ut.push(ye)}),wt.setIndex(rt.reduce(function(qt,ne){return[].concat(xs()(qt),xs()(ne))},[])),wt.setAttribute("a_pos",Float32Array.from(ht.reduce(function(qt,ne){return[].concat(xs()(qt),xs()(ne))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]});var Kt=new Array(At).fill(void 0).map(function(){return xs()(r.config.color)}).reduce(function(qt,ne){return[].concat(xs()(qt),xs()(ne))},[]);wt.setAttribute("a_color",Float32Array.from(Kt),{arrayStride:4*4,stepMode:"vertex",attributes:[{shaderLocation:1,offset:0,format:"float4"}]}),wt.setAttribute("a_line_miter",Float32Array.from(Ut),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:2,offset:0,format:"float"}]}),wt.setAttribute("a_line_normal",Float32Array.from(kt.reduce(function(qt,ne){return[].concat(xs()(qt),xs()(ne))},[])),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:3,offset:0,format:"float2"}]}),wt.setAttribute("a_counters",Float32Array.from(bt),{arrayStride:4*1,stepMode:"vertex",attributes:[{shaderLocation:4,offset:0,format:"float"}]})}}]),t}(Pf),ty),Jp=wo()(zd.prototype,"materialSystem",[Xp,Yp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_p=wo()(zd.prototype,"geometrySystem",[Kp,$p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qp=wo()(zd.prototype,"shaderModuleService",[Zp],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zd))||Qp);function ob(u){return[u+1&255,u+1>>8&255,u+1>>8>>8&255]}var ey,ry,ny,ay,iy,oy,sy,kd,uy,ly,cy,fy;function hy(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function sb(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?hy(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):hy(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}function ub(u){var n=lb();return function(){var e=lu()(u),r;if(n){var o=lu()(this).constructor;r=Reflect.construct(e,arguments,o)}else r=e.apply(this,arguments);return Lf()(this,r)}}function lb(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(u){return!1}}var cb=`uniform float u_blur : 0.05;
uniform float u_opacity : 0.7;
uniform float u_stroke_width : 0.01;
uniform vec4 u_stroke_color : [0, 0, 0, 0];
uniform float u_stroke_opacity : 1;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "sdf2d"
#pragma include "picking"

void main() {
  int shape = int(floor(v_data.w + 0.5));

  float antialiasblur = v_data.z;
  float antialiased_blur = -max(u_blur, antialiasblur);
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  // if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  // } else if (shape == 1) {
  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  // } else if (shape == 2) {
  //   outer_df = sdBox(v_data.xy, vec2(1.));
  //   inner_df = sdBox(v_data.xy, vec2(r));
  // } else if (shape == 3) {
  //   outer_df = sdPentagon(v_data.xy, 0.8);
  //   inner_df = sdPentagon(v_data.xy, r * 0.8);
  // } else if (shape == 4) {
  //   outer_df = sdHexagon(v_data.xy, 0.8);
  //   inner_df = sdHexagon(v_data.xy, r * 0.8);
  // } else if (shape == 5) {
  //   outer_df = sdOctogon(v_data.xy, 1.0);
  //   inner_df = sdOctogon(v_data.xy, r);
  // } else if (shape == 6) {
  //   outer_df = sdHexagram(v_data.xy, 0.52);
  //   inner_df = sdHexagram(v_data.xy, r * 0.52);
  // } else if (shape == 7) {
  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));
  //   inner_df = sdRhombus(v_data.xy, vec2(r));
  // } else if (shape == 8) {
  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);
  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  // }

  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiased_blur,
    0.0,
    inner_df
  );
  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;

  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  gl_FragColor.a = gl_FragColor.a * opacity_t;

  gl_FragColor = filterColor(gl_FragColor);
}`,fb=`attribute vec2 position;
attribute vec4 color;
attribute float shape;
attribute vec2 offset;
attribute float size;

uniform mat4 projectionMatrix;
uniform mat4 modelViewMatrix;

uniform float u_stroke_width : 0.01;
uniform float u_device_pixel_ratio;
uniform vec2 u_viewport;

varying vec4 v_color;
varying vec4 v_data;
varying float v_radius;

#pragma include "picking"

void main() {
  v_color = color;
  v_radius = size;

  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);

  // construct point coords
  v_data = vec4(position, antialiasblur, shape);

  gl_Position = projectionMatrix * modelViewMatrix
    * vec4(position * size + offset, 0.0, 1.0);

  setPickingColor(a_PickingColor);
}`,hb=["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],db=(ey=Object(pi.injectable)(),ry=Object(pi.inject)(Ne.IDENTIFIER.Systems),ny=Object(pi.named)(Ne.IDENTIFIER.MaterialSystem),ay=Object(pi.inject)(Ne.IDENTIFIER.Systems),iy=Object(pi.named)(Ne.IDENTIFIER.GeometrySystem),oy=Object(pi.inject)(Ne.IDENTIFIER.ShaderModuleService),ey(sy=(kd=(fy=function(u){jf()(t,u);var n=ub(t);function t(){var e;no()(this,t);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o)),Bo()(e,"materialSystem",uy,Bl()(e)),Bo()(e,"geometrySystem",ly,Bl()(e)),Bo()(e,"shaderModuleService",cy,Bl()(e)),e}return _i()(t,[{key:"onAttributeChanged",value:function(r){var o=r.name,l=r.data,v=this.getMeshComponent();v&&v.material&&(o==="strokeWidth"?v.material.setUniform("u_stroke_width",l):o==="strokeColor"?v.material.setUniform("u_stroke_color",l):o==="strokeOpacity"?v.material.setUniform("u_stroke_opacity",l):o==="opacity"?v.material.setUniform("u_opacity",l):o==="blur"&&v.material.setUniform("u_blur",l))}},{key:"onEntityCreated",value:function(){this.shaderModuleService.registerModule("grid",{vs:fb,fs:cb});var r=this.shaderModuleService.getModule("grid"),o=r.vs,l=r.fs,v=r.uniforms,b=this.materialSystem.createShaderMaterial({vertexShader:o,fragmentShader:l,cull:{enable:!1},depth:{enable:!1},blend:{enable:!0,func:{srcRGB:Ne.gl.SRC_ALPHA,dstRGB:Ne.gl.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}}});b.setUniform(sb({u_device_pixel_ratio:window.devicePixelRatio},v));var L=this.buildAttributes(),F=this.geometrySystem.createInstancedBufferGeometry({maxInstancedCount:L.instancedOffsets.length/2,vertexCount:6});F.setIndex([0,2,1,0,3,2]),F.setAttribute("position",Float32Array.from(L.positions),{arrayStride:4*2,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]}),F.setAttribute("offset",Float32Array.from(L.instancedOffsets),{arrayStride:4*2,stepMode:"instance",attributes:[{shaderLocation:1,offset:0,format:"float2"}]}),F.setAttribute("color",Float32Array.from(L.instancedColors),{arrayStride:4*4,stepMode:"instance",attributes:[{shaderLocation:2,offset:0,format:"float4"}]}),F.setAttribute("size",Float32Array.from(L.instancedSizes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:3,offset:0,format:"float"}]}),F.setAttribute("shape",Float32Array.from(L.instancedShapes),{arrayStride:4,stepMode:"instance",attributes:[{shaderLocation:4,offset:0,format:"float"}]}),F.setAttribute("a_PickingColor",Float32Array.from(L.instancedPickingColors),{arrayStride:4*3,stepMode:"instance",attributes:[{shaderLocation:6,offset:0,format:"float3"}]}),this.setMaterial(b),this.setGeometry(F)}},{key:"buildAttribute",value:function(r,o,l){var v,b,L,F;(v=o.instancedPickingColors).push.apply(v,xs()(ob(r.id||l))),o.instancedShapes.push(hb.indexOf(r.shape||"circle")),(b=o.instancedColors).push.apply(b,xs()(r.color||[1,0,0,1])),(L=o.instancedOffsets).push.apply(L,xs()(r.position||[0,0])),(F=o.instancedSizes).push.apply(F,xs()(r.size||[.2,.2]))}},{key:"buildAttributes",value:function(){var r=this,o={positions:[1,1,1,-1,-1,-1,-1,1],instancedOffsets:[],instancedColors:[],instancedSizes:[],instancedShapes:[],instancedPickingColors:[]};return Array.isArray(this.config)?this.config.forEach(function(l,v){r.buildAttribute(l,o,v)}):this.buildAttribute(this.config,o,0),o}}]),t}(Pf),fy),uy=wo()(kd.prototype,"materialSystem",[ry,ny],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ly=wo()(kd.prototype,"geometrySystem",[ay,iy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),cy=wo()(kd.prototype,"shaderModuleService",[oy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kd))||sy),dy,vy,gy,py,yy,Vd,my,by,Ey,Oy;function xy(u,n){var t;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(t=vb(u))||n&&u&&typeof u.length=="number"){t&&(u=t);var e=0,r=function(){};return{s:r,n:function(){return e>=u.length?{done:!0}:{done:!1,value:u[e++]}},e:function(L){throw L},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,v;return{s:function(){t=u[Symbol.iterator]()},n:function(){var L=t.next();return o=L.done,L},e:function(L){l=!0,v=L},f:function(){try{!o&&t.return!=null&&t.return()}finally{if(l)throw v}}}}function vb(u,n){if(!!u){if(typeof u=="string")return Cy(u,n);var t=Object.prototype.toString.call(u).slice(8,-1);if(t==="Object"&&u.constructor&&(t=u.constructor.name),t==="Map"||t==="Set")return Array.from(u);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Cy(u,n)}}function Cy(u,n){(n==null||n>u.length)&&(n=u.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=u[t];return e}var gb=`#ifdef USE_MAP
  uniform sampler2D map;
#endif`,pb=`#ifdef USE_MAP
  vec4 texelColor = texture2D(map, vUv);
  // texelColor = mapTexelToLinear(texelColor);
  diffuseColor *= texelColor;
#endif`,yb=`#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))
  varying vec2 vUv;
#endif`,mb=`#ifdef USE_UV
  attribute vec2 uv;
	#ifdef UVS_VERTEX_ONLY
    vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,bb=`#ifdef USE_UV
  vUv = (uvTransform * vec3(uv, 1)).xy;
#endif`,Ay=(dy=Object(pi.injectable)(),vy=Object(pi.inject)(Ne.IDENTIFIER.RenderEngine),gy=Object(pi.inject)(Ne.IDENTIFIER.ShaderModuleService),py=Object(pi.inject)(Ne.IDENTIFIER.ConfigService),dy(yy=(Vd=(Oy=function(){function u(){no()(this,u),this.container=void 0,Bo()(this,"engine",my,this),Bo()(this,"shaderModule",by,this),Bo()(this,"configService",Ey,this),this.inited=!1,this.rendering=!1,this.pendings=[],this.views=[],this.size=void 0}return _i()(u,[{key:"init",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o,l,v,b;return Wi.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(this.shaderModule.registerBuiltinModules(),this.shaderModule.registerModule("uv.vert.declaration",{vs:mb}),this.shaderModule.registerModule("uv.vert.main",{vs:bb}),this.shaderModule.registerModule("uv.frag.declaration",{fs:yb}),this.shaderModule.registerModule("map.frag.declaration",{fs:gb}),this.shaderModule.registerModule("map.frag.main",{fs:pb}),r=this.container.getAll(Ne.IDENTIFIER.Systems),o=this.configService.get(),!o.canvas){F.next=30;break}return F.next=11,this.engine.init({canvas:o.canvas,swapChainFormat:Zn.TextureFormat.BGRA8Unorm,antialiasing:!1});case 11:l=xy(r),F.prev=12,l.s();case 14:if((v=l.n()).done){F.next=21;break}if(b=v.value,!b.initialize){F.next=19;break}return F.next=19,b.initialize();case 19:F.next=14;break;case 21:F.next=26;break;case 23:F.prev=23,F.t0=F.catch(12),l.e(F.t0);case 26:return F.prev=26,l.f(),F.finish(26);case 29:this.inited=!0;case 30:case"end":return F.stop()}},e,this,[[12,23,26,29]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"render",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o,l,v,b,L,F,U=arguments;return Wi.a.wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:if(!(!this.inited||this.rendering)){ht.next=2;break}return ht.abrupt("return");case 2:for(this.pendings.length&&this.pendings.forEach(function(bt){bt()}),this.rendering=!0,this.engine.beginFrame(),r=this.container.getAll(Ne.IDENTIFIER.Systems),o=U.length,l=new Array(o),v=0;v<o;v++)l[v]=U[v];b=xy(r),ht.prev=8,b.s();case 10:if((L=b.n()).done){ht.next=17;break}if(F=L.value,!F.execute){ht.next=15;break}return ht.next=15,F.execute(l);case 15:ht.next=10;break;case 17:ht.next=22;break;case 19:ht.prev=19,ht.t0=ht.catch(8),b.e(ht.t0);case 22:return ht.prev=22,b.f(),ht.finish(22);case 25:this.engine.endFrame(),this.rendering=!1;case 27:case"end":return ht.stop()}},e,this,[[8,19,22,25]])}));function t(){return n.apply(this,arguments)}return t}()},{key:"clear",value:function(t){var e=this;return this.inited?this.engine.clear(t):this.pendings.unshift(function(){e.engine.clear(t),e.pendings.shift()}),this}},{key:"setSize",value:function(t){var e=t.width,r=t.height,o=this.engine.getCanvas();return this.size={width:e,height:r},o.width=e,o.height=r,this}},{key:"getSize",value:function(){return this.size}}]),u}(),Oy),my=wo()(Vd.prototype,"engine",[vy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),by=wo()(Vd.prototype,"shaderModule",[gy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ey=wo()(Vd.prototype,"configService",[py],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vd))||yy),Sy,My,Ty,Dy=(Sy=Object(pi.injectable)(),Sy(My=(Ty=function(){function u(){no()(this,u),this.entities=[]}return _i()(u,[{key:"getEntities",value:function(){return this.entities}},{key:"addRenderable",value:function(t){return this.addEntity(t.getEntity()),this}},{key:"removeRenderable",value:function(t){return this.removeEntity(t.getEntity()),this}},{key:"addLight",value:function(){}},{key:"addEntity",value:function(t){return this.entities.indexOf(t)===-1&&this.entities.push(t),this}},{key:"removeEntity",value:function(t){var e=this.entities.indexOf(t);return this.entities.splice(e,1),this}}]),u}(),Ty))||My),Py,Iy,jy,Ly=(Py=Object(pi.injectable)(),Py(Iy=(jy=function(){function u(){no()(this,u),this.cache={}}return _i()(u,[{key:"get",value:function(t){return this.cache[t]}},{key:"set",value:function(t,e){this.cache[t]=e}}]),u}(),jy))||Iy),By,wy,Ry,Fy,Uv,Ny,Gy,Uy;function Wy(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function zy(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Wy(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):Wy(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var ky=(By=Object(pi.injectable)(),wy=Object(pi.inject)(Ly),Ry=Object(pi.inject)(Ne.IDENTIFIER.RenderEngine),By(Fy=(Uv=(Uy=function(){function u(){no()(this,u),Bo()(this,"textureCache",Ny,this),Bo()(this,"engine",Gy,this),this.config=void 0,this.loaded=!1,this.texture=void 0}return _i()(u,[{key:"setConfig",value:function(t){this.config=t}},{key:"isLoaded",value:function(){return this.loaded}},{key:"load",value:function(){var n=cs()(Wi.a.mark(function e(){var r=this;return Wi.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!this.config.url){l.next=4;break}return l.abrupt("return",new Promise(function(v,b){var L=r.textureCache.get(r.config.url);if(L)v(L);else{var F=new Image;F.crossOrigin="Anonymous",F.src=r.config.url,F.onload=function(){var U=r.engine.createTexture2D(zy(zy({},r.config),{},{data:F,width:F.width,height:F.height,flipY:!0}));r.textureCache.set(r.config.url,U),r.texture=U,r.loaded=!0,v(U)},F.onerror=function(){b()}}}));case 4:return this.loaded=!0,this.texture=this.engine.createTexture2D(this.config),l.abrupt("return",this.texture);case 7:case"end":return l.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()}]),u}(),Uy),Ny=wo()(Uv.prototype,"textureCache",[wy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gy=wo()(Uv.prototype,"engine",[Ry],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uv))||Fy),Vy,Hy,Xy,Yy,bg,Ky,$y,Zy=(Vy=Object(pi.injectable)(),Hy=Object(pi.inject)(Ne.IDENTIFIER.Systems),Xy=Object(pi.named)(Ne.IDENTIFIER.RendererSystem),Vy(Yy=(bg=($y=function(){function u(){no()(this,u),Bo()(this,"rendererSystem",Ky,this),this.camera=void 0,this.scene=void 0,this.viewport={x:0,y:0,width:0,height:0},this.clearColor=[1,1,1,1]}return _i()(u,[{key:"getCamera",value:function(){return this.camera}},{key:"getScene",value:function(){return this.scene}},{key:"getViewport",value:function(){return this.viewport}},{key:"getClearColor",value:function(){return this.clearColor}},{key:"setCamera",value:function(t){return this.camera=t,this}},{key:"setScene",value:function(t){return this.scene=t,this}},{key:"setViewport",value:function(t){return this.viewport=t,this}},{key:"setClearColor",value:function(t){return this.clearColor=t,this}},{key:"pick",value:function(t){return this.rendererSystem.pick(t,this)}}]),u}(),$y),Ky=wo()(bg.prototype,"rendererSystem",[Hy,Xy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bg))||Yy),Qy,Jy,_y,Eg,qy,t0;function e0(u,n){var t=Object.keys(u);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(u);n&&(e=e.filter(function(r){return Object.getOwnPropertyDescriptor(u,r).enumerable})),t.push.apply(t,e)}return t}function Eb(u){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?e0(Object(t),!0).forEach(function(e){un()(u,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(t)):e0(Object(t)).forEach(function(e){Object.defineProperty(u,e,Object.getOwnPropertyDescriptor(t,e))})}return u}var Wv=(Qy=Object(pi.injectable)(),Jy=Object(pi.inject)(Ne.IDENTIFIER.ConfigService),Qy(_y=(Eg=(t0=function(){function u(){no()(this,u),Bo()(this,"configService",qy,this),this.container=void 0}return _i()(u,[{key:"getEngine",value:function(){var n=cs()(Wi.a.mark(function e(){var r,o,l,v;return Wi.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return r=this.container.get(Ne.IDENTIFIER.RenderEngine),o=this.configService.get(),l=o.canvas,v=o.engineOptions,L.next=4,r.init(Eb({canvas:l||yv(),swapChainFormat:Zn.TextureFormat.BGRA8Unorm,antialiasing:!1},v));case 4:return L.abrupt("return",r);case 5:case"end":return L.stop()}},e,this)}));function t(){return n.apply(this,arguments)}return t}()},{key:"getTransformComponent",value:function(t){var e=this.container.get(Ne.IDENTIFIER.TransformComponentManager);return e.getComponentByEntity(t)}},{key:"getMeshComponent",value:function(t){var e=this.container.get(Ne.IDENTIFIER.MeshComponentManager);return e.getComponentByEntity(t)}},{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setContainer",value:function(t){this.container=t}},{key:"getContainer",value:function(){return this.container}},{key:"createEntity",value:function(){return Object(Ne.createEntity)()}},{key:"createScene",value:function(){return this.container.get(Dy)}},{key:"createCamera",value:function(){return this.container.get(fh)}},{key:"createView",value:function(){return this.container.get(Zy)}},{key:"createRenderable",value:function(t,e){var r=t?this.container.getNamed(Ne.IDENTIFIER.Renderable,t):this.container.get(Pf),o=Object(Ne.createEntity)();return r.setConfig(e||{}),r.setEntity(o),r}},{key:"createGeometry",value:function(t,e){var r=this.container.getNamed(Ne.IDENTIFIER.Geometry,t),o=Object(Ne.createEntity)();return r.setConfig(e||{}),r.setEntity(o),r.getComponent()}},{key:"createMaterial",value:function(t,e){var r=this.container.getNamed(Ne.IDENTIFIER.Material,t),o=Object(Ne.createEntity)();return r.setConfig(e||{}),r.setEntity(o,t),r.getComponent()}},{key:"createTexture2D",value:function(t){var e=this.container.get(ky);return e.setConfig(t),e}},{key:"createBufferGeometry",value:function(t){var e=this.container.getNamed(Ne.IDENTIFIER.Systems,Ne.IDENTIFIER.GeometrySystem);return e.createBufferGeometry(t)}},{key:"createInstancedBufferGeometry",value:function(t){var e=this.container.getNamed(Ne.IDENTIFIER.Systems,Ne.IDENTIFIER.GeometrySystem);return e.createInstancedBufferGeometry(t)}},{key:"createShaderMaterial",value:function(t){var e=this.container.getNamed(Ne.IDENTIFIER.Systems,Ne.IDENTIFIER.MaterialSystem);return e.createShaderMaterial(t)}},{key:"createKernel",value:function(t){var e=this.container.get(jd);return typeof t=="string"?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"createRenderer",value:function(){var t=this.container.get(Ay);return t.container=this.container,t.init(),t}},{key:"destroy",value:function(){var t=this.container.getAll(Ne.IDENTIFIER.Systems);t.forEach(function(o){o.tearDown&&o.tearDown()});var e=this.container.get(Ne.IDENTIFIER.RenderEngine);e.destroy();var r=this.container.get(Ne.IDENTIFIER.InteractorService);r.destroy()}}],[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Object(Ne.createWorldContainer)(),r=navigator.gpu?x1:n1;e.isBound(Ne.IDENTIFIER.RenderEngine)||e.bind(Ne.IDENTIFIER.RenderEngine).to(r).inSingletonScope(),e.bind(Ay).toSelf(),e.bind(jd).toSelf(),e.bind(Pf).toSelf(),e.bind(Zy).toSelf(),e.bind(fh).toSelf(),e.bind(Dy).toSelf(),e.bind(u).toSelf(),e.bind(Ly).toSelf(),e.bind(ky).toSelf(),e.bind(Ne.IDENTIFIER.Geometry).to(I1).whenTargetNamed(lc.BOX),e.bind(Ne.IDENTIFIER.Geometry).to(W1).whenTargetNamed(lc.SPHERE),e.bind(Ne.IDENTIFIER.Geometry).to(N1).whenTargetNamed(lc.PLANE),e.bind(Ne.IDENTIFIER.Geometry).to(w1).whenTargetNamed(lc.MERGED),e.bind(Ne.IDENTIFIER.Material).to($1).whenTargetNamed(Ll.BASIC),e.bind(Ne.IDENTIFIER.Renderable).to(db).whenTargetNamed(Pf.POINT),e.bind(Ne.IDENTIFIER.Renderable).to(ib).whenTargetNamed(Pf.LINE),e.bind(Ne.IDENTIFIER.Renderable).to(q1).whenTargetNamed(Pf.GRID);var o=e.get(u);return o.setContainer(e),o.setConfig(t),o}}]),u}(),t0),qy=wo()(Eg.prototype,"configService",[Jy],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Eg))||_y),rd=function(n,t){var e;return n?xa(n)?e=function(){return n}:e=n:e=function(){return t||1},e},Ob=function(n,t){var e=[],r=[],o={},l=0;for(l=0;l<n.length;l++){var v=n[l];o[v.id]=l,e.push(v.x),e.push(v.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var b=t[l];r[o[b.source]].push(o[b.target]),r[o[b.target]].push(o[b.source])}var L=0;for(l=0;l<n.length;l++){var F=e.length,U=r[l],rt=U.length;e[l*4+2]=F,e[l*4+3]=U.length,L=Math.max(L,U.length);for(var ht=0;ht<rt;++ht){var bt=U[ht];e.push(+bt)}}for(;e.length%4!=0;)e.push(0);return{maxEdgePerVetex:L,array:new Float32Array(e)}},xb=function(n,t,e,r){var o=[],l=[],v={},b=0;for(b=0;b<n.length;b++){var L=n[b];v[L.id]=b,o.push(L.x),o.push(L.y),o.push(0),o.push(0),l.push([])}for(b=0;b<t.length;b++){var F=t[b];l[v[F.source]].push(v[F.target]),l[v[F.source]].push(e(F)),l[v[F.source]].push(r(F)),l[v[F.source]].push(0),l[v[F.target]].push(v[F.source]),l[v[F.target]].push(e(F)),l[v[F.target]].push(r(F)),l[v[F.target]].push(0)}var U=0;for(b=0;b<n.length;b++){var rt=o.length,ht=l[b],bt=ht.length;o[b*4+2]=rt+1048576*bt/4,o[b*4+3]=0,U=Math.max(U,bt/4);for(var At=0;At<bt;++At){var wt=ht[At];o.push(+wt)}}for(;o.length%4!=0;)o.push(0);return{maxEdgePerVetex:U,array:new Float32Array(o)}},Cb=function(n,t){var e=[],r=n.length,o={};return t.forEach(function(l){n.forEach(function(v,b){if(o[l[v]]===void 0&&(o[l[v]]=Object.keys(o).length),e.push(o[l[v]]),b===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(o).length}},r0=function(n){for(var t=[],e=n.length,r=n[0].length,o=function(b){n.forEach(function(L,F){if(t.push(L[b]),F===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)o(l);return new Float32Array(t)},LC=`
import { globalInvocationID } from 'g-webgpu';
const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class Fruchterman {
  @in @out
  u_Data: vec4[];
  @in
  u_K: float;
  @in
  u_K2: float;
  
  @in
  u_Center: vec2;
  @in
  u_Gravity: float;
  @in
  u_ClusterGravity: float;
  @in
  u_Speed: float;
  @in
  u_MaxDisplace: float;
  @in
  u_Clustering: float;
  @in
  u_AttributeArray: vec4[];
  @in
  u_ClusterCenters: vec4[];
  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const xDist = currentNode[0] - nextNode[0];
        const yDist = currentNode[1] - nextNode[1];
        const dist = (xDist * xDist + yDist * yDist) + 0.01;
        let param = this.u_K2 / dist;
        
        if (dist > 0.0) {
          dx += param * xDist;
          dy += param * yDist;
          if (xDist == 0 && yDist == 0) {
            const sign = i < j ? 1 : -1;
            dx += param * sign;
            dy += param * sign;
          }
        }
      }
    }
    return [dx, dy];
  }
  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // 
    let dx = 0, dy = 0;
    const vx = currentNode[0] - this.u_Center[0];
    const vy = currentNode[1] - this.u_Center[1];
    const gf = 0.01 * this.u_K * this.u_Gravity;
    dx = gf * vx;
    dy = gf * vy;
    if (this.u_Clustering == 1) {
      const clusterIdx = int(nodeAttributes[0]);
      const center = this.u_ClusterCenters[clusterIdx];
      const cvx = currentNode[0] - center[0];
      const cvy = currentNode[1] - center[1];
      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;
      const parma = this.u_K * this.u_ClusterGravity / dist;
      dx += parma * cvx;
      dy += parma * cvy;
    }
    return [dx, dy];
  }
  calcAttractive(i: int, currentNode: vec4): vec2 {
    let dx = 0, dy = 0;
    const arr_offset = int(floor(currentNode[2] + 0.5));
    const length = int(floor(currentNode[3] + 0.5));
    const node_buffer: vec4;
    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + p;
      // when arr_idx % 4 == 0 update currentNodedx_buffer
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)];
      }
      const float_j = buf_offset == 0 ? node_buffer[0] :
                      buf_offset == 1 ? node_buffer[1] :
                      buf_offset == 2 ? node_buffer[2] :
                                        node_buffer[3];
      const nextNode = this.u_Data[int(float_j)];
      const xDist = currentNode[0] - nextNode[0];
      const yDist = currentNode[1] - nextNode[1];
      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;
      let attractiveF = dist / this.u_K;
    
      if (dist > 0.0) {
        dx -= xDist * attractiveF;
        dy -= yDist * attractiveF;
        if (xDist == 0 && yDist == 0) {
          const sign = i < int(float_j) ? 1 : -1;
          dx -= sign * attractiveF;
          dy -= sign * attractiveF;
        }
      }
    }
    return [dx, dy];
  }
  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    let dx = 0, dy = 0;
    if (i >= VERTEX_COUNT) {
      this.u_Data[i] = currentNode;
      return;
    }
    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    dx += repulsive[0];
    dy += repulsive[1];
    // attractive
    const attractive = this.calcAttractive(i, currentNode);
    dx += attractive[0];
    dy += attractive[1];
    // gravity
    const nodeAttributes = this.u_AttributeArray[i];
    const gravity = this.calcGravity(currentNode, nodeAttributes);
    dx -= gravity[0];
    dy -= gravity[1];
    // speed
    dx *= this.u_Speed;
    dy *= this.u_Speed;
    // move
    const distLength = sqrt(dx * dx + dy * dy);
    if (distLength > 0.0) {
      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);
      this.u_Data[i] = [
        currentNode[0] + dx / distLength * limitedDist,
        currentNode[1] + dy / distLength * limitedDist,
        currentNode[2],
        currentNode[3]
      ];
    }
  }
}
`,Ab='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',BC=`
import { globalInvocationID } from 'g-webgpu';
const VERTEX_COUNT;
const CLUSTER_COUNT;
@numthreads(1, 1, 1)
class CalcCenter {
  @in
  u_Data: vec4[];
  @in
  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]
  @in @out
  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]
  @main
  compute() {
    const i = globalInvocationID.x;
    const center = this.u_ClusterCenters[i];
    let sumx = 0;
    let sumy = 0;
    let count = 0;
    for (let j = 0; j < VERTEX_COUNT; j++) {
      const attributes = this.u_NodeAttributes[j];
      const clusterIdx = int(attributes[0]);
      const vertex = this.u_Data[j];
      if (clusterIdx == i) {
        sumx += vertex.x;
        sumy += vertex.y;
        count += 1;
      }
    }
    this.u_ClusterCenters[i] = [
      sumx / count,
      sumy / count,
      count,
      i
    ];
  }
}
`,Sb='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}',zv=function(u,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function v(F){try{L(e.next(F))}catch(U){l(U)}}function b(F){try{L(e.throw(F))}catch(U){l(U)}}function L(F){F.done?o(F.value):r(F.value).then(v,b)}L((e=e.apply(u,n||[])).next())})},Mb=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.maxIteration=1e3,r.gravity=10,r.speed=1,r.clustering=!1,r.clusterField="cluster",r.clusterGravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:1e3,gravity:10,speed:1,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return zv(this,void 0,void 0,$s.a.mark(function r(){var o=this,l,v,b,L,F;return $s.a.wrap(function(rt){for(;;)switch(rt.prev=rt.next){case 0:if(l=this,v=l.nodes,!(!v||v.length===0)){rt.next=5;break}return l.onLayoutEnd&&l.onLayoutEnd(),rt.abrupt("return");case 5:if(!l.width&&typeof window!="undefined"&&(l.width=window.innerWidth),!l.height&&typeof window!="undefined"&&(l.height=window.innerHeight),l.center||(l.center=[l.width/2,l.height/2]),b=l.center,v.length!==1){rt.next=14;break}return v[0].x=b[0],v[0].y=b[1],l.onLayoutEnd&&l.onLayoutEnd(),rt.abrupt("return");case 14:return L={},F={},v.forEach(function(ht,bt){xa(ht.x)||(ht.x=Math.random()*o.width),xa(ht.y)||(ht.y=Math.random()*o.height),L[ht.id]=ht,F[ht.id]=bt}),l.nodeMap=L,l.nodeIdxMap=F,rt.next=21,l.run();case 21:case"end":return rt.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,o){return zv(this,void 0,void 0,$s.a.mark(function l(){var v=this,b,L,F,U,rt;return $s.a.wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(b=this,L=b.nodes,F=b.center,!(!L||L.length===0)){bt.next=5;break}return bt.abrupt("return");case 5:if(L.length!==1){bt.next=9;break}return L[0].x=F[0],L[0].y=F[1],bt.abrupt("return");case 9:return U={},rt={},L.forEach(function(At,wt){xa(At.x)||(At.x=Math.random()*v.width),xa(At.y)||(At.y=Math.random()*v.height),U[At.id]=At,rt[At.id]=wt}),b.nodeMap=U,b.nodeIdxMap=rt,bt.next=16,b.run(r,o);case 16:case"end":return bt.stop()}},l,this)}))}},{key:"run",value:function(r,o){return zv(this,void 0,void 0,$s.a.mark(function l(){var v=this,b,L,F,U,rt,ht,bt,At,wt,kt,Ut,Kt,qt,ne,ye,xe,je,We,Be,qe,sr,hn,dn,vn,aa,ra;return $s.a.wrap(function(Gn){for(;;)switch(Gn.prev=Gn.next){case 0:for(b=this,L=b.nodes,F=b.edges,U=b.maxIteration,rt=b.center,ht=b.height*b.width,bt=Math.sqrt(ht)/10,At=ht/(L.length+1),wt=Math.sqrt(At),kt=b.speed,Ut=b.clustering,Kt=Cb([b.clusterField],L),qt=Kt.array,ne=Kt.count,ye=L.length,xe=Ob(L,F),je=xe.maxEdgePerVetex,We=xe.array,Be=b.workerEnabled,Be?qe=Wv.create({canvas:r,engineOptions:{supportCompute:!0}}):qe=Wv.create({engineOptions:{supportCompute:!0}}),sr=b.onLayoutEnd,hn=[],dn=0;dn<ne;dn++)hn.push(0,0,0,0);return vn=qe.createKernel(Ab).setDispatch([ye,1,1]).setBinding({u_Data:We,u_K:wt,u_K2:At,u_Gravity:b.gravity,u_ClusterGravity:b.clusterGravity||b.gravity||1,u_Speed:kt,u_MaxDisplace:bt,u_Clustering:Ut?1:0,u_Center:rt,u_AttributeArray:qt,u_ClusterCenters:hn,MAX_EDGE_PER_VERTEX:je,VERTEX_COUNT:ye}),Ut&&(aa=qe.createKernel(Sb).setDispatch([ne,1,1]).setBinding({u_Data:We,u_NodeAttributes:qt,u_ClusterCenters:hn,VERTEX_COUNT:ye,CLUSTER_COUNT:ne})),ra=function(){return zv(v,void 0,void 0,$s.a.mark(function gn(){var Jn,Pa;return $s.a.wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:Jn=0;case 1:if(!(Jn<U)){Yn.next=13;break}return Yn.next=4,vn.execute();case 4:if(!Ut){Yn.next=9;break}return aa.setBinding({u_Data:vn}),Yn.next=8,aa.execute();case 8:vn.setBinding({u_ClusterCenters:aa});case 9:vn.setBinding({u_MaxDisplace:bt*=.99});case 10:Jn++,Yn.next=1;break;case 13:return Yn.next=15,vn.getOutput();case 15:Pa=Yn.sent,r?o.postMessage({type:fn.GPUEND,vertexEdgeData:Pa}):L.forEach(function(li,yi){var Ri=Pa[4*yi],Zr=Pa[4*yi+1];li.x=Ri,li.y=Zr}),sr&&sr();case 18:case"end":return Yn.stop()}},gn)}))},Gn.next=24,ra();case 24:case"end":return Gn.stop()}},l,this)}))}},{key:"getType",value:function(){return"fruchterman-gpu"}}]),t}(Ds),wC=`
import { globalInvocationID } from 'g-webgpu';

const MAX_EDGE_PER_VERTEX;
const VERTEX_COUNT;
const SHIFT_20 = 1048576;

@numthreads(1, 1, 1)
class GGForce {
  @in @out
  u_Data: vec4[];

  @in
  u_damping: float;
  
  @in
  u_maxSpeed: float;

  @in
  u_minMovement: float;

  @in
  u_AveMovement: vec4[];

  @in
  u_coulombDisScale: float;

  @in
  u_factor: float;

  @in
  u_NodeAttributeArray1: vec4[];

  @in
  u_NodeAttributeArray2: vec4[];

  @in
  u_interval: float;

  unpack_float(packedValue: float): ivec2 {
    const packedIntValue = int(packedValue);
    const v0 = packedIntValue / SHIFT_20;
    return [v0, packedIntValue - v0 * SHIFT_20];
  }

  calcRepulsive(i: int, currentNode: vec4): vec2 {
    let ax = 0, ay = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      if (i != j) {
        const nextNode = this.u_Data[j];
        const vx = currentNode[0] - nextNode[0];
        const vy = currentNode[1] - nextNode[1];
        const dist = sqrt(vx * vx + vy * vy) + 0.01;
        const n_dist = dist * this.u_coulombDisScale;
        const direx = vx / dist;
        const direy = vy / dist;
        const attributesi = this.u_NodeAttributeArray1[i];
        const attributesj = this.u_NodeAttributeArray1[j];
        const massi = attributesi[0];
        const nodeStrengthi = attributesi[2];
        const nodeStrengthj = attributesj[2];
        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;
        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);
        const param = 1000 * this.u_factor / (n_dist * n_dist);
        ax += direx * param;
        ay += direy * param;
      }
    }
    return [ax, ay];
  }

  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {
    // note: attributes2 = [centerX, centerY, gravity, 0]

    const vx = currentNode[0] - attributes2[0];
    const vy = currentNode[1] - attributes2[1];
    
    const ax = vx * attributes2[3];
    const ay = vy * attributes2[3];
    
    return [ax, ay];
  }

  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {
    // note: attributes1 = [mass, degree, nodeSterngth, 0]

    const mass = attributes1[0];
    let ax = 0, ay = 0;
    // const arr_offset = int(floor(currentNode[2] + 0.5));
    // const length = int(floor(currentNode[3] + 0.5));

    const compressed = this.unpack_float(currentNode[2]);
    const length = compressed[0];
    const arr_offset = compressed[1];

    const node_buffer: vec4;
    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {
      if (p >= length) break;
      const arr_idx = arr_offset + 4 * p; // i \u8282\u70B9\u7684\u7B2C p \u6761\u8FB9\u5F00\u59CB\u7684\u5C0F\u683C\u5B50\u4F4D\u7F6E
      const buf_offset = arr_idx - arr_idx / 4 * 4;
      if (p == 0 || buf_offset == 0) {
        node_buffer = this.u_Data[int(arr_idx / 4)]; // \u5927\u683C\u5B50\uFF0C\u5927\u683C\u5B50\u4F4D\u7F6E=\u5C0F\u4E2A\u5B50\u4F4D\u7F6E / 4\uFF0C
      }

      let float_j: float = node_buffer[0];

      const nextNode = this.u_Data[int(float_j)];
      const vx = nextNode[0] - currentNode[0];
      const vy = nextNode[1] - currentNode[1];
      const dist = sqrt(vx * vx + vy * vy) + 0.01;
      const direx = vx / dist;
      const direy = vy / dist;
      const edgeLength = node_buffer[1];
      const edgeStrength = node_buffer[2];
      const diff: float = edgeLength - dist;//edgeLength
      // const param = diff * this.u_stiffness / mass; //
      const param = diff * edgeStrength / mass; // 
      ax -= direx * param;
      ay -= direy * param;
    }
    return [ax, ay];
  }

  @main
  compute() {
    const i = globalInvocationID.x;
    const currentNode = this.u_Data[i];
    const movement = u_AveMovement[0];
    let ax = 0, ay = 0;

    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {
      this.u_Data[i] = currentNode;
      return;
    }

    // \u6BCF\u4E2A\u8282\u70B9\u5C5E\u6027\u5360\u4E24\u4E2A\u6570\u7EC4\u4E2D\u5404\u4E00\u683C
    const nodeAttributes1 = this.u_NodeAttributeArray1[i];
    const nodeAttributes2 = this.u_NodeAttributeArray2[i];

    // repulsive
    const repulsive = this.calcRepulsive(i, currentNode);
    ax += repulsive[0];
    ay += repulsive[1];

    // attractive
    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);
    ax += attractive[0];
    ay += attractive[1];

    // gravity
    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);
    ax -= gravity[0];
    ay -= gravity[1];

    // speed
    const param = this.u_interval * this.u_damping;
    let vx = ax * param;
    let vy = ay * param;
    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;
    if (vlength > this.u_maxSpeed) {
      const param2 = this.u_maxSpeed / vlength;
      vx = param2 * vx;
      vy = param2 * vy;
    }

    // move
    const distx = vx * this.u_interval;
    const disty = vy * this.u_interval;
    const distLength = sqrt(distx * distx + disty * disty);

    this.u_Data[i] = [
      currentNode[0] + distx,
      currentNode[1] + disty,
      currentNode[2],
      distLength
    ];
    
    // the avarage move distance
    // need to share memory
    
  }
}
`,Tb='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = dist * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.w;\\nvar ay : f32 = vy * attributes2.w;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = dist * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (1000.0 * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.w;\\nfloat ay = vy * attributes2.w;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\ngl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}',RC=`
const VERTEX_COUNT;
@numthreads(1, 1, 1)
class CalcAveMovement {
  @in
  u_Data: vec4[];
  @in
  u_iter: float;
  @in @out
  u_AveMovement: vec4[];
  @main
  compute() {
    let movement = 0;
    for (let j: int = 0; j < VERTEX_COUNT; j++) {
      const vertex = this.u_Data[j];
      movement += vertex[3];
    }
    movement = movement / float(VERTEX_COUNT);
    this.u_AveMovement[0] = [movement, 0, 0, 0];
  }
}
`,Db='{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}',Og=function(u,n,t,e){function r(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function v(F){try{L(e.next(F))}catch(U){l(U)}}function b(F){try{L(e.throw(F))}catch(U){l(U)}}function L(F){F.done?o(F.value):r(F.value).then(v,b)}L((e=e.apply(u,n||[])).next())})},Pb=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.maxIteration=1e3,r.edgeStrength=200,r.nodeStrength=1e3,r.coulombDisScale=.005,r.damping=.9,r.maxSpeed=1e3,r.minMovement=1,r.interval=.02,r.factor=1,r.linkDistance=1,r.gravity=10,r.workerEnabled=!1,r.nodes=[],r.edges=[],r.width=300,r.height=300,r.nodeMap={},r.nodeIdxMap={},r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:2e3,gravity:10,clustering:!1,clusterGravity:10}}},{key:"execute",value:function(){return Og(this,void 0,void 0,$s.a.mark(function r(){var o,l,v,b,L;return $s.a.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(o=this,l=o.nodes,!(!l||l.length===0)){U.next=5;break}return o.onLayoutEnd&&o.onLayoutEnd(),U.abrupt("return");case 5:if(!o.width&&typeof window!="undefined"&&(o.width=window.innerWidth),!o.height&&typeof window!="undefined"&&(o.height=window.innerHeight),o.center||(o.center=[o.width/2,o.height/2]),v=o.center,l.length!==1){U.next=14;break}return l[0].x=v[0],l[0].y=v[1],o.onLayoutEnd&&o.onLayoutEnd(),U.abrupt("return");case 14:return b={},L={},l.forEach(function(rt,ht){xa(rt.x)||(rt.x=Math.random()*o.width),xa(rt.y)||(rt.y=Math.random()*o.height),b[rt.id]=rt,L[rt.id]=ht}),o.nodeMap=b,o.nodeIdxMap=L,o.nodeStrength=rd(o.nodeStrength,1),o.edgeStrength=rd(o.edgeStrength,1),U.next=23,o.run();case 23:case"end":return U.stop()}},r,this)}))}},{key:"executeWithWorker",value:function(r,o){var l=this,v=l.nodes,b=l.center;if(!(!v||v.length===0)){if(v.length===1){v[0].x=b[0],v[0].y=b[1];return}var L={},F={};v.forEach(function(U,rt){xa(U.x)||(U.x=Math.random()*l.width),xa(U.y)||(U.y=Math.random()*l.height),L[U.id]=U,F[U.id]=rt}),l.nodeMap=L,l.nodeIdxMap=F,l.nodeStrength=rd(l.nodeStrength,1),l.edgeStrength=rd(l.edgeStrength,1),l.run(r,o)}}},{key:"run",value:function(r,o){return Og(this,void 0,void 0,$s.a.mark(function l(){var v=this,b,L,F,U,rt,ht,bt,At,wt,kt,Ut,Kt,qt,ne,ye,xe,je,We,Be,qe,sr,hn,dn,vn,aa;return $s.a.wrap(function(Rn){for(;;)switch(Rn.prev=Rn.next){case 0:for(b=this,L=b.nodes,F=b.edges,U=b.maxIteration,!b.width&&typeof window!="undefined"&&(b.width=window.innerWidth),!b.height&&typeof window!="undefined"&&(b.height=window.innerHeight),rt=L.length,b.linkDistance=rd(b.linkDistance),b.edgeStrength=rd(b.edgeStrength),ht=xb(L,F,b.linkDistance,b.edgeStrength),bt=ht.maxEdgePerVetex,At=ht.array,b.degrees=jc(L.length,b.nodeIdxMap,F),wt=[],kt=[],Ut=[],Kt=[],qt=[],b.getMass||(b.getMass=function(Gn){return b.degrees[b.nodeIdxMap[Gn.id]]||1}),ne=b.gravity,ye=b.center,L.forEach(function(Gn,Qn){wt.push(b.getMass(Gn)),kt.push(b.nodeStrength(Gn)),b.degrees[Qn]||(b.degrees[Qn]=0);var gn=[ye[0],ye[1],ne];if(b.getCenter){var Jn=b.getCenter(Gn,b.degrees[Qn]);Jn&&xa(Jn[0])&&xa(Jn[1])&&xa(Jn[2])&&(gn=Jn)}Ut.push(gn[0]),Kt.push(gn[1]),qt.push(gn[2])}),xe=r0([wt,b.degrees,kt]),je=r0([Ut,Kt,qt]),We=b.workerEnabled,We?Be=Wv.create({canvas:r,engineOptions:{supportCompute:!0}}):Be=Wv.create({engineOptions:{supportCompute:!0}}),qe=b.onLayoutEnd,sr=[],At.forEach(function(Gn){sr.push(Gn)}),hn=0;hn<4;hn++)sr.push(0);return dn=Be.createKernel(Tb).setDispatch([rt,1,1]).setBinding({u_Data:At,u_damping:b.damping,u_maxSpeed:b.maxSpeed,u_minMovement:b.minMovement,u_coulombDisScale:b.coulombDisScale,u_factor:b.factor,u_NodeAttributeArray1:xe,u_NodeAttributeArray2:je,MAX_EDGE_PER_VERTEX:bt,VERTEX_COUNT:rt,u_AveMovement:sr,u_interval:b.interval}),vn=Be.createKernel(Db).setDispatch([1,1,1]).setBinding({u_Data:At,VERTEX_COUNT:rt,u_AveMovement:[0,0,0,0]}),aa=function(){return Og(v,void 0,void 0,$s.a.mark(function Qn(){var gn,Jn,Pa;return $s.a.wrap(function(Yn){for(;;)switch(Yn.prev=Yn.next){case 0:gn=0;case 1:if(!(gn<U)){Yn.next=12;break}return Yn.next=4,dn.execute();case 4:return vn.setBinding({u_Data:dn}),Yn.next=7,vn.execute();case 7:Jn=Math.max(.02,b.interval-gn*.002),dn.setBinding({u_interval:Jn,u_AveMovement:vn});case 9:gn++,Yn.next=1;break;case 12:return Yn.next=14,dn.getOutput();case 14:Pa=Yn.sent,r?o.postMessage({type:fn.GPUEND,vertexEdgeData:Pa}):L.forEach(function(li,yi){var Ri=Pa[4*yi],Zr=Pa[4*yi+1];li.x=Ri,li.y=Zr}),qe&&qe();case 17:case"end":return Yn.stop()}},Qn)}))},Rn.next=33,aa();case 33:case"end":return Rn.stop()}},l,this)}))}},{key:"getType",value:function(){return"gForce-gpu"}}]),t}(Ds),Ib=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.center=[0,0],r.maxIteration=100,r.gravity=10,r.comboGravity=10,r.linkDistance=10,r.alpha=1,r.alphaMin=.001,r.alphaDecay=1-Math.pow(r.alphaMin,1/300),r.alphaTarget=0,r.velocityDecay=.6,r.edgeStrength=.6,r.nodeStrength=30,r.preventOverlap=!1,r.preventNodeOverlap=!1,r.preventComboOverlap=!1,r.collideStrength=void 0,r.nodeCollideStrength=.5,r.comboCollideStrength=.5,r.comboSpacing=20,r.comboPadding=10,r.optimizeRangeFactor=1,r.onTick=function(){},r.onLayoutEnd=function(){},r.depthAttractiveForceScale=1,r.depthRepulsiveForceScale=2,r.nodes=[],r.edges=[],r.combos=[],r.comboTrees=[],r.width=300,r.height=300,r.bias=[],r.nodeMap={},r.oriComboMap={},r.indexMap={},r.comboMap={},r.previousLayouted=!1,r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{maxIteration:100,center:[0,0],gravity:10,speed:1,comboGravity:30,preventOverlap:!1,preventComboOverlap:!0,preventNodeOverlap:!0,nodeSpacing:void 0,collideStrength:void 0,nodeCollideStrength:.5,comboCollideStrength:.5,comboSpacing:20,comboPadding:10,edgeStrength:.6,nodeStrength:30,linkDistance:10}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.center;if(r.comboTree={id:"comboTreeRoot",depth:-1,children:r.comboTrees},!o||o.length===0){r.onLayoutEnd&&r.onLayoutEnd();return}if(o.length===1){o[0].x=l[0],o[0].y=l[1],r.onLayoutEnd&&r.onLayoutEnd();return}r.initVals(),r.run(),r.onLayoutEnd&&r.onLayoutEnd()}},{key:"run",value:function(){var r=this,o=r.nodes,l=r.previousLayouted?r.maxIteration/5:r.maxIteration;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);var v=r.center,b=r.velocityDecay,L=r.comboMap;r.previousLayouted||r.initPos(L);for(var F=function(At){var wt=[];o.forEach(function(kt,Ut){wt[Ut]={x:0,y:0}}),r.applyCalculate(wt),r.applyComboCenterForce(wt),o.forEach(function(kt,Ut){!xa(kt.x)||!xa(kt.y)||(kt.x+=wt[Ut].x*b,kt.y+=wt[Ut].y*b)}),r.alpha+=(r.alphaTarget-r.alpha)*r.alphaDecay,r.onTick()},U=0;U<l;U++)F(U);var rt=[0,0];o.forEach(function(bt){!xa(bt.x)||!xa(bt.y)||(rt[0]+=bt.x,rt[1]+=bt.y)}),rt[0]/=o.length,rt[1]/=o.length;var ht=[v[0]-rt[0],v[1]-rt[1]];o.forEach(function(bt,At){!xa(bt.x)||!xa(bt.y)||(bt.x+=ht[0],bt.y+=ht[1])}),r.combos.forEach(function(bt){var At=L[bt.id];At&&At.empty&&(bt.x=At.cx||bt.x,bt.y=At.cy||bt.y)}),r.previousLayouted=!0}},{key:"initVals",value:function(){var r=this,o=r.edges,l=r.nodes,v=r.combos,b={},L={},F={};l.forEach(function(Rn,Gn){L[Rn.id]=Rn,F[Rn.id]=Gn}),r.nodeMap=L,r.indexMap=F;var U={};v.forEach(function(Rn){U[Rn.id]=Rn}),r.oriComboMap=U,r.comboMap=r.getComboMap();var rt=r.preventOverlap;r.preventComboOverlap=r.preventComboOverlap||rt,r.preventNodeOverlap=r.preventNodeOverlap||rt;var ht=r.collideStrength;ht&&(r.comboCollideStrength=ht,r.nodeCollideStrength=ht),r.comboCollideStrength=r.comboCollideStrength?r.comboCollideStrength:0,r.nodeCollideStrength=r.nodeCollideStrength?r.nodeCollideStrength:0;for(var bt=0;bt<o.length;++bt)b[o[bt].source]?b[o[bt].source]++:b[o[bt].source]=1,b[o[bt].target]?b[o[bt].target]++:b[o[bt].target]=1;for(var At=[],wt=0;wt<o.length;++wt)At[wt]=b[o[wt].source]/(b[o[wt].source]+b[o[wt].target]);this.bias=At;var kt=r.nodeSize,Ut=r.nodeSpacing,Kt,qt;if(xa(Ut)?qt=function(){return Ut}:Bu(Ut)?qt=Ut:qt=function(){return 0},this.nodeSpacing=qt,!kt)Kt=function(Gn){if(Gn.size){if(ms(Gn.size)){var Qn=Gn.size[0]>Gn.size[1]?Gn.size[0]:Gn.size[1];return Qn/2}return Gn.size/2}return 10};else if(Bu(kt))Kt=function(Gn){return kt(Gn)};else if(ms(kt)){var ne=kt[0]>kt[1]?kt[0]:kt[1],ye=ne/2;Kt=function(Gn){return ye}}else{var xe=kt/2;Kt=function(Gn){return xe}}this.nodeSize=Kt;var je=r.comboSpacing,We;xa(je)?We=function(){return je}:Bu(je)?We=je:We=function(){return 0},this.comboSpacing=We;var Be=r.comboPadding,qe;xa(Be)?qe=function(){return Be}:ms(Be)?qe=function(){return Math.max.apply(null,Be)}:Bu(Be)?qe=Be:qe=function(){return 0},this.comboPadding=qe;var sr=this.linkDistance,hn;sr||(sr=10),xa(sr)?hn=function(Gn){return sr}:hn=sr,this.linkDistance=hn;var dn=this.edgeStrength,vn;dn||(dn=1),xa(dn)?vn=function(Gn){return dn}:vn=dn,this.edgeStrength=vn;var aa=this.nodeStrength,ra;aa||(aa=30),xa(aa)?ra=function(Gn){return aa}:ra=aa,this.nodeStrength=ra}},{key:"initPos",value:function(r){var o=this,l=o.nodes;l.forEach(function(v,b){var L=v.comboId,F=r[L];L&&F?(v.x=F.cx+100/(b+1),v.y=F.cy+100/(b+1)):(v.x=100/(b+1),v.y=100/(b+1))})}},{key:"getComboMap",value:function(){var r=this,o=r.nodeMap,l=r.indexMap,v=r.comboTrees,b=r.oriComboMap,L={};return(v||[]).forEach(function(F){var U=[];Al(F,function(rt){if(rt.itemType==="node"||!b[rt.id])return!0;if(L[rt.id]===void 0){var ht={id:rt.id,name:rt.id,cx:0,cy:0,count:0,depth:r.oriComboMap[rt.id].depth,children:[]};L[rt.id]=ht}var bt=rt.children;bt&&bt.forEach(function(qt){if(!L[qt.id]&&!o[qt.id])return!0;U.push(qt)});var At=L[rt.id];if(At.cx=0,At.cy=0,U.length===0){At.empty=!0;var wt=b[rt.id],kt=Object.keys(o).length,Ut="".concat(rt.id,"-visual-child-").concat(kt),Kt={id:Ut,x:wt.x,y:wt.y,depth:At.depth+1,itemType:"node"};r.nodes.push(Kt),o[Ut]=Kt,l[Ut]=kt,At.cx=wt.x,At.cy=wt.y,U.push(Kt)}return U.forEach(function(qt){if(At.count++,qt.itemType!=="node"){var ne=L[qt.id];xa(ne.cx)&&(At.cx+=ne.cx),xa(ne.cy)&&(At.cy+=ne.cy);return}var ye=o[qt.id];!ye||(xa(ye.x)&&(At.cx+=ye.x),xa(ye.y)&&(At.cy+=ye.y))}),At.cx/=At.count,At.cy/=At.count,At.children=U,!0})}),L}},{key:"applyComboCenterForce",value:function(r){var o=this,l=o.gravity,v=o.comboGravity||l,b=this.alpha,L=o.comboTrees,F=o.indexMap,U=o.nodeMap,rt=o.comboMap;(L||[]).forEach(function(ht){Al(ht,function(bt){if(bt.itemType==="node")return!0;var At=rt[bt.id];if(!At)return!0;var wt=rt[bt.id],kt=(wt.depth+1)/10*.5,Ut=wt.cx,Kt=wt.cy;return wt.cx=0,wt.cy=0,wt.children.forEach(function(qt){if(qt.itemType!=="node"){var ne=rt[qt.id];ne&&xa(ne.cx)&&(wt.cx+=ne.cx),ne&&xa(ne.cy)&&(wt.cy+=ne.cy);return}var ye=U[qt.id],xe=ye.x-Ut||.005,je=ye.y-Kt||.005,We=Math.sqrt(xe*xe+je*je),Be=F[ye.id],qe=v*b/We*kt;r[Be].x-=xe*qe,r[Be].y-=je*qe,xa(ye.x)&&(wt.cx+=ye.x),xa(ye.y)&&(wt.cy+=ye.y)}),wt.cx/=wt.count,wt.cy/=wt.count,!0})})}},{key:"applyCalculate",value:function(r){var o=this,l=o.comboMap,v=o.nodes,b={};v.forEach(function(F,U){v.forEach(function(rt,ht){if(!(U<ht)){var bt=F.x-rt.x||.005,At=F.y-rt.y||.005,wt=bt*bt+At*At,kt=Math.sqrt(wt);wt<1&&(wt=kt),b["".concat(F.id,"-").concat(rt.id)]={vx:bt,vy:At,vl2:wt,vl:kt},b["".concat(rt.id,"-").concat(F.id)]={vl2:wt,vl:kt,vx:-bt,vy:-At}}})}),o.updateComboSizes(l),o.calRepulsive(r,b),o.calAttractive(r,b);var L=o.preventComboOverlap;L&&o.comboNonOverlapping(r,l)}},{key:"updateComboSizes",value:function(r){var o=this,l=o.comboTrees,v=o.nodeMap,b=o.nodeSize,L=o.comboSpacing,F=o.comboPadding;(l||[]).forEach(function(U){var rt=[];Al(U,function(ht){if(ht.itemType==="node")return!0;var bt=r[ht.id];if(!bt)return!1;var At=ht.children;At&&At.forEach(function(Ut){!r[Ut.id]&&!v[Ut.id]||rt.push(Ut)}),bt.minX=Infinity,bt.minY=Infinity,bt.maxX=-Infinity,bt.maxY=-Infinity,rt.forEach(function(Ut){if(Ut.itemType!=="node")return!0;var Kt=v[Ut.id];if(!Kt)return!0;var qt=b(Kt),ne=Kt.x-qt,ye=Kt.y-qt,xe=Kt.x+qt,je=Kt.y+qt;bt.minX>ne&&(bt.minX=ne),bt.minY>ye&&(bt.minY=ye),bt.maxX<xe&&(bt.maxX=xe),bt.maxY<je&&(bt.maxY=je)});var wt=o.oriComboMap[ht.id].size||10;ms(wt)&&(wt=wt[0]);var kt=Math.max(bt.maxX-bt.minX,bt.maxY-bt.minY,wt);return bt.r=kt/2+L(bt)/2+F(bt),!0})})}},{key:"comboNonOverlapping",value:function(r,o){var l=this,v=l.comboTree,b=l.comboCollideStrength,L=l.indexMap,F=l.nodeMap;Al(v,function(U){if(!o[U.id]&&!F[U.id]&&U.id!=="comboTreeRoot")return!1;var rt=U.children;return rt&&rt.length>1&&rt.forEach(function(ht,bt){if(ht.itemType==="node")return!1;var At=o[ht.id];!At||rt.forEach(function(wt,kt){if(bt<=kt||wt.itemType==="node")return!1;var Ut=o[wt.id];if(!Ut)return!1;var Kt=At.cx-Ut.cx||.005,qt=At.cy-Ut.cy||.005,ne=Kt*Kt+qt*qt,ye=At.r,xe=Ut.r,je=ye+xe,We=xe*xe,Be=ye*ye;if(ne<je*je){var qe=ht.children;if(!qe||qe.length===0)return!1;var sr=wt.children;if(!sr||sr.length===0)return!1;var hn=Math.sqrt(ne),dn=(je-hn)/hn*b,vn=Kt*dn,aa=qt*dn,ra=We/(Be+We),Rn=1-ra;qe.forEach(function(Gn){if(Gn.itemType!=="node")return!1;if(!!F[Gn.id]){var Qn=L[Gn.id];sr.forEach(function(gn){if(gn.itemType!=="node"||!F[gn.id])return!1;var Jn=L[gn.id];r[Qn].x+=vn*ra,r[Qn].y+=aa*ra,r[Jn].x-=vn*Rn,r[Jn].y-=aa*Rn})}})}})}),!0})}},{key:"calRepulsive",value:function(r,o){var l=this,v=l.nodes,b=l.width*l.optimizeRangeFactor,L=l.nodeStrength,F=l.alpha,U=l.nodeCollideStrength,rt=l.preventNodeOverlap,ht=l.nodeSize,bt=l.nodeSpacing,At=l.depthRepulsiveForceScale,wt=l.center;v.forEach(function(kt,Ut){if(!(!kt.x||!kt.y)){if(wt){var Kt=l.gravity,qt=kt.x-wt[0]||.005,ne=kt.y-wt[1]||.005,ye=Math.sqrt(qt*qt+ne*ne);r[Ut].x-=qt*Kt*F/ye,r[Ut].y-=ne*Kt*F/ye}v.forEach(function(xe,je){if(Ut!==je&&!(!xe.x||!xe.y)){var We=o["".concat(kt.id,"-").concat(xe.id)],Be=We.vl2,qe=We.vl;if(!(qe>b)){var sr=o["".concat(kt.id,"-").concat(xe.id)],hn=sr.vx,dn=sr.vy,vn=Math.log(Math.abs(xe.depth-kt.depth)/10)+1||1;vn=vn<1?1:vn,xe.comboId!==kt.comboId&&(vn+=1);var aa=vn?Math.pow(At,vn):1,ra=L(xe)*F/Be*aa;if(r[Ut].x+=hn*ra,r[Ut].y+=dn*ra,Ut<je&&rt){var Rn=ht(kt)+bt(kt),Gn=ht(xe)+bt(xe),Qn=Rn+Gn;if(Be<Qn*Qn){var gn=(Qn-qe)/qe*U,Jn=Gn*Gn,Pa=Jn/(Rn*Rn+Jn),Cn=hn*gn,Yn=dn*gn;r[Ut].x+=Cn*Pa,r[Ut].y+=Yn*Pa,Pa=1-Pa,r[je].x-=Cn*Pa,r[je].y-=Yn*Pa}}}}})}})}},{key:"calAttractive",value:function(r,o){var l=this,v=l.edges,b=l.linkDistance,L=l.alpha,F=l.edgeStrength,U=l.bias,rt=l.depthAttractiveForceScale;v.forEach(function(ht,bt){if(!(!ht.source||!ht.target||ht.source===ht.target)){var At=l.indexMap[ht.source],wt=l.indexMap[ht.target],kt=l.nodeMap[ht.source],Ut=l.nodeMap[ht.target];if(!(!kt||!Ut)){var Kt=Math.log(Math.abs(kt.depth-Ut.depth)/10);kt.comboId===Ut.comboId&&(Kt=Kt/2);var qt=Kt?Math.pow(rt,Kt):1;if(kt.comboId!==Ut.comboId&&qt===1?qt=rt/2:kt.comboId===Ut.comboId&&(qt=2),!(!xa(Ut.x)||!xa(kt.x)||!xa(Ut.y)||!xa(kt.y))){var ne=o["".concat(ht.target,"-").concat(ht.source)],ye=ne.vl,xe=ne.vx,je=ne.vy,We=(ye-b(ht))/ye*L*F(ht)*qt,Be=xe*We,qe=je*We,sr=U[bt];r[wt].x-=Be*sr,r[wt].y-=qe*sr,r[At].x+=Be*(1-sr),r[At].y+=qe*(1-sr)}}}})}},{key:"getType",value:function(){return"comboForce"}}]),t}(Ds),jb=function(){function u(n){Object(Ao.default)(this,u),this.id=n.id||0,this.rx=n.rx,this.ry=n.ry,this.fx=0,this.fy=0,this.mass=n.mass,this.degree=n.degree,this.g=n.g||0}return Object(Lo.default)(u,[{key:"distanceTo",value:function(t){var e=this.rx-t.rx,r=this.ry-t.ry;return Math.hypot(e,r)}},{key:"setPos",value:function(t,e){this.rx=t,this.ry=e}},{key:"resetForce",value:function(){this.fx=0,this.fy=0}},{key:"addForce",value:function(t){var e=t.rx-this.rx,r=t.ry-this.ry,o=Math.hypot(e,r);o=o<1e-4?1e-4:o;var l=this.g*(this.degree+1)*(t.degree+1)/o;this.fx+=l*e/o,this.fy+=l*r/o}},{key:"in",value:function(t){return t.contains(this.rx,this.ry)}},{key:"add",value:function(t){var e=this.mass+t.mass,r=(this.rx*this.mass+t.rx*t.mass)/e,o=(this.ry*this.mass+t.ry*t.mass)/e,l=this.degree+t.degree,v={rx:r,ry:o,mass:e,degree:l};return new u(v)}}]),u}(),Lb=function(){function u(n){Object(Ao.default)(this,u),this.xmid=n.xmid,this.ymid=n.ymid,this.length=n.length,this.massCenter=n.massCenter||[0,0],this.mass=n.mass||1}return Object(Lo.default)(u,[{key:"getLength",value:function(){return this.length}},{key:"contains",value:function(t,e){var r=this.length/2;return t<=this.xmid+r&&t>=this.xmid-r&&e<=this.ymid+r&&e>=this.ymid-r}},{key:"NW",value:function(){var t=this.xmid-this.length/4,e=this.ymid+this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},l=new u(o);return l}},{key:"NE",value:function(){var t=this.xmid+this.length/4,e=this.ymid+this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},l=new u(o);return l}},{key:"SW",value:function(){var t=this.xmid-this.length/4,e=this.ymid-this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},l=new u(o);return l}},{key:"SE",value:function(){var t=this.xmid+this.length/4,e=this.ymid-this.length/4,r=this.length/2,o={xmid:t,ymid:e,length:r},l=new u(o);return l}}]),u}(),Bb=function(){function u(n){Object(Ao.default)(this,u),this.body=null,this.quad=null,this.NW=null,this.NE=null,this.SW=null,this.SE=null,this.theta=.5,n!=null&&(this.quad=n)}return Object(Lo.default)(u,[{key:"insert",value:function(t){if(this.body==null){this.body=t;return}this._isExternal()?(this.quad&&(this.NW=new u(this.quad.NW()),this.NE=new u(this.quad.NE()),this.SW=new u(this.quad.SW()),this.SE=new u(this.quad.SE())),this._putBody(this.body),this._putBody(t),this.body=this.body.add(t)):(this.body=this.body.add(t),this._putBody(t))}},{key:"_putBody",value:function(t){!this.quad||(t.in(this.quad.NW())&&this.NW?this.NW.insert(t):t.in(this.quad.NE())&&this.NE?this.NE.insert(t):t.in(this.quad.SW())&&this.SW?this.SW.insert(t):t.in(this.quad.SE())&&this.SE&&this.SE.insert(t))}},{key:"_isExternal",value:function(){return this.NW==null&&this.NE==null&&this.SW==null&&this.SE==null}},{key:"updateForce",value:function(t){if(!(this.body==null||t===this.body))if(this._isExternal())t.addForce(this.body);else{var e=this.quad?this.quad.getLength():0,r=this.body.distanceTo(t);e/r<this.theta?t.addForce(this.body):(this.NW&&this.NW.updateForce(t),this.NE&&this.NE.updateForce(t),this.SW&&this.SW.updateForce(t),this.SE&&this.SE.updateForce(t))}}}]),u}(),wb=function(u){Object(vs.default)(t,u);var n=Object(Ko.default)(t);function t(e){var r;return Object(Ao.default)(this,t),r=n.call(this),r.center=[0,0],r.width=300,r.height=300,r.nodes=[],r.edges=[],r.kr=5,r.kg=1,r.mode="normal",r.preventOverlap=!1,r.dissuadeHubs=!1,r.barnesHut=!1,r.maxIteration=0,r.ks=.1,r.ksmax=10,r.tao=.1,r.onLayoutEnd=function(){},r.prune=!1,r.updateCfg(e),r}return Object(Lo.default)(t,[{key:"getDefaultCfg",value:function(){return{}}},{key:"execute",value:function(){var r=this,o=r.nodes,l=r.maxIteration,v=r.onLayoutEnd,b=r.prune;!r.width&&typeof window!="undefined"&&(r.width=window.innerWidth),!r.height&&typeof window!="undefined"&&(r.height=window.innerHeight);for(var L=[],F=o.length,U=0;U<F;U+=1){var rt=o[U],ht=10,bt=10;xa(rt.size)&&(ht=rt.size,bt=rt.size),ms(rt.size)&&(isNaN(rt.size[0])||(ht=rt.size[0]),isNaN(rt.size[1])||(bt=rt.size[1])),r.getWidth&&!isNaN(r.getWidth(rt))&&(bt=r.getWidth(rt)),r.getHeight&&!isNaN(r.getHeight(rt))&&(ht=r.getHeight(rt));var At=Math.max(ht,bt);L.push(At)}!r.barnesHut&&F>250&&(r.barnesHut=!0),!r.prune&&F>100&&(r.prune=!0),this.maxIteration===0&&!r.prune?(l=250,F<=200&&F>100?l=1e3:F>200&&(l=1200),this.maxIteration=l):this.maxIteration===0&&b&&(l=100,F<=200&&F>100?l=500:F>200&&(l=950),this.maxIteration=l),r.kr||(r.kr=50,F>100&&F<=500?r.kr=20:F>500&&(r.kr=1)),r.kg||(r.kg=20,F>100&&F<=500?r.kg=10:F>500&&(r.kg=1)),this.nodes=r.updateNodesByForces(L),v()}},{key:"updateNodesByForces",value:function(r){for(var o=this,l=o.nodes,v=o.edges,b=o.maxIteration,L=v.filter(function(We){return We.source!==We.target}),F=l.length,U=L.length,rt=[],ht={},bt={},At=[],wt=0;wt<F;wt+=1)ht[l[wt].id]=wt,rt[wt]=0,(l[wt].x===void 0||isNaN(l[wt].x))&&(l[wt].x=Math.random()*1e3),(l[wt].y===void 0||isNaN(l[wt].y))&&(l[wt].y=Math.random()*1e3),At.push({x:l[wt].x,y:l[wt].y});for(var kt=0;kt<U;kt+=1){for(var Ut=void 0,Kt=void 0,qt=0,ne=0,ye=0;ye<F;ye+=1)l[ye].id===L[kt].source?(Ut=l[ye],qt=ye):l[ye].id===L[kt].target&&(Kt=l[ye],ne=ye),bt[kt]={sourceIdx:qt,targetIdx:ne};Ut&&(rt[ht[Ut.id]]+=1),Kt&&(rt[ht[Kt.id]]+=1)}var xe=b;if(l=this.iterate(xe,ht,bt,U,rt,r),o.prune){for(var je=0;je<U;je+=1)rt[bt[je].sourceIdx]<=1?(l[bt[je].sourceIdx].x=l[bt[je].targetIdx].x,l[bt[je].sourceIdx].y=l[bt[je].targetIdx].y):rt[bt[je].targetIdx]<=1&&(l[bt[je].targetIdx].x=l[bt[je].sourceIdx].x,l[bt[je].targetIdx].y=l[bt[je].sourceIdx].y);o.prune=!1,o.barnesHut=!1,xe=100,l=this.iterate(xe,ht,bt,U,rt,r)}return l}},{key:"iterate",value:function(r,o,l,v,b,L){for(var F=this,U=F.nodes,rt=F.kr,ht=F.preventOverlap,bt=F.barnesHut,At=U.length,wt=0,kt=100,Ut=r,Kt=50,qt=[],ne=[],ye=[],xe=0;xe<At;xe+=1)if(qt[2*xe]=0,qt[2*xe+1]=0,bt){var je={id:xe,rx:U[xe].x,ry:U[xe].y,mass:1,g:rt,degree:b[xe]};ye[xe]=new jb(je)}for(;Ut>0;){for(var We=0;We<At;We+=1)ne[2*We]=qt[2*We],ne[2*We+1]=qt[2*We+1],qt[2*We]=0,qt[2*We+1]=0;qt=this.getAttrForces(Ut,Kt,v,o,l,b,L,qt),bt&&(ht&&Ut>Kt||!ht)?qt=this.getOptRepGraForces(qt,ye,b):qt=this.getRepGraForces(Ut,Kt,qt,kt,L,b);var Be=this.updatePos(qt,ne,wt,b);U=Be.nodes,wt=Be.sg,Ut--,F.tick&&F.tick()}return U}},{key:"getAttrForces",value:function(r,o,l,v,b,L,F,U){for(var rt=this,ht=rt.nodes,bt=rt.preventOverlap,At=rt.dissuadeHubs,wt=rt.mode,kt=rt.prune,Ut=0;Ut<l;Ut+=1){var Kt=ht[b[Ut].sourceIdx],qt=b[Ut].sourceIdx,ne=ht[b[Ut].targetIdx],ye=b[Ut].targetIdx;if(!(kt&&(L[qt]<=1||L[ye]<=1))){var xe=[ne.x-Kt.x,ne.y-Kt.y],je=Math.hypot(xe[0],xe[1]);je=je<1e-4?1e-4:je,xe[0]=xe[0]/je,xe[1]=xe[1]/je,bt&&r<o&&(je=je-F[qt]-F[ye]);var We=je,Be=We;wt==="linlog"&&(We=Math.log(1+je),Be=We),At&&(We=je/L[qt],Be=je/L[ye]),bt&&r<o&&je<=0?(We=0,Be=0):bt&&r<o&&je>0&&(We=je,Be=je),U[2*v[Kt.id]]+=We*xe[0],U[2*v[ne.id]]-=Be*xe[0],U[2*v[Kt.id]+1]+=We*xe[1],U[2*v[ne.id]+1]-=Be*xe[1]}}return U}},{key:"getRepGraForces",value:function(r,o,l,v,b,L){for(var F=this,U=F.nodes,rt=F.preventOverlap,ht=F.kr,bt=F.kg,At=F.center,wt=F.prune,kt=U.length,Ut=0;Ut<kt;Ut+=1){for(var Kt=Ut+1;Kt<kt;Kt+=1)if(!(wt&&(L[Ut]<=1||L[Kt]<=1))){var qt=[U[Kt].x-U[Ut].x,U[Kt].y-U[Ut].y],ne=Math.hypot(qt[0],qt[1]);ne=ne<1e-4?1e-4:ne,qt[0]=qt[0]/ne,qt[1]=qt[1]/ne,rt&&r<o&&(ne=ne-b[Ut]-b[Kt]);var ye=ht*(L[Ut]+1)*(L[Kt]+1)/ne;rt&&r<o&&ne<0?ye=v*(L[Ut]+1)*(L[Kt]+1):rt&&r<o&&ne===0?ye=0:rt&&r<o&&ne>0&&(ye=ht*(L[Ut]+1)*(L[Kt]+1)/ne),l[2*Ut]-=ye*qt[0],l[2*Kt]+=ye*qt[0],l[2*Ut+1]-=ye*qt[1],l[2*Kt+1]+=ye*qt[1]}var xe=[U[Ut].x-At[0],U[Ut].y-At[1]],je=Math.hypot(xe[0],xe[1]);xe[0]=xe[0]/je,xe[1]=xe[1]/je;var We=bt*(L[Ut]+1);l[2*Ut]-=We*xe[0],l[2*Ut+1]-=We*xe[1]}return l}},{key:"getOptRepGraForces",value:function(r,o,l){for(var v=this,b=v.nodes,L=v.kg,F=v.center,U=v.prune,rt=b.length,ht=9e10,bt=-9e10,At=9e10,wt=-9e10,kt=0;kt<rt;kt+=1)U&&l[kt]<=1||(o[kt].setPos(b[kt].x,b[kt].y),b[kt].x>=bt&&(bt=b[kt].x),b[kt].x<=ht&&(ht=b[kt].x),b[kt].y>=wt&&(wt=b[kt].y),b[kt].y<=At&&(At=b[kt].y));for(var Ut=Math.max(bt-ht,wt-At),Kt={xmid:(bt+ht)/2,ymid:(wt+At)/2,length:Ut,massCenter:F,mass:rt},qt=new Lb(Kt),ne=new Bb(qt),ye=0;ye<rt;ye+=1)U&&l[ye]<=1||o[ye].in(qt)&&ne.insert(o[ye]);for(var xe=0;xe<rt;xe+=1)if(!(U&&l[xe]<=1)){o[xe].resetForce(),ne.updateForce(o[xe]),r[2*xe]-=o[xe].fx,r[2*xe+1]-=o[xe].fy;var je=[b[xe].x-F[0],b[xe].y-F[1]],We=Math.hypot(je[0],je[1]);We=We<1e-4?1e-4:We,je[0]=je[0]/We,je[1]=je[1]/We;var Be=L*(l[xe]+1);r[2*xe]-=Be*je[0],r[2*xe+1]-=Be*je[1]}return r}},{key:"updatePos",value:function(r,o,l,v){for(var b=this,L=b.nodes,F=b.ks,U=b.tao,rt=b.prune,ht=b.ksmax,bt=L.length,At=[],wt=[],kt=0,Ut=0,Kt=0;Kt<bt;Kt+=1)if(!(rt&&v[Kt]<=1)){var qt=[r[2*Kt]-o[2*Kt],r[2*Kt+1]-o[2*Kt+1]],ne=Math.hypot(qt[0],qt[1]),ye=[r[2*Kt]+o[2*Kt],r[2*Kt+1]+o[2*Kt+1]],xe=Math.hypot(ye[0],ye[1]);At[Kt]=ne,wt[Kt]=xe/2,kt+=(v[Kt]+1)*At[Kt],Ut+=(v[Kt]+1)*wt[Kt]}var je=l;l=U*Ut/kt,je!==0&&(l=l>1.5*je?1.5*je:l);for(var We=0;We<bt;We+=1)if(!(rt&&v[We]<=1)){var Be=F*l/(1+l*Math.sqrt(At[We])),qe=Math.hypot(r[2*We],r[2*We+1]);qe=qe<1e-4?1e-4:qe;var sr=ht/qe;Be=Be>sr?sr:Be;var hn=Be*r[2*We],dn=Be*r[2*We+1];L[We].x+=hn,L[We].y+=dn}return{nodes:L,sg:l}}}]),t}(Ds),FC=function(){function u(n){Object(Ao.default)(this,u);var t=Lc(n.type);this.layoutInstance=new t(n)}return Object(Lo.default)(u,[{key:"layout",value:function(t){return this.layoutInstance.layout(t)}},{key:"updateCfg",value:function(t){this.layoutInstance.updateCfg(t)}},{key:"init",value:function(t){this.layoutInstance.init(t)}},{key:"execute",value:function(){this.layoutInstance.execute()}},{key:"getDefaultCfg",value:function(){return this.layoutInstance.getDefaultCfg()}},{key:"destroy",value:function(){return this.layoutInstance.destroy()}}]),u}(),xg=new Proxy({},{get:function(n,t){return Lc(t)},set:function(n,t,e){return $o(t,e),!0}});$o("grid",Af),$o("random",Sf),$o("force",Pn),$o("circular",$a),$o("dagre",Bi),$o("radial",ov),$o("concentric",sv),$o("mds",tg),$o("fruchterman",Vc),$o("fruchterman-gpu",Mb),$o("gForce",Bc),$o("gForce-gpu",Pb),$o("comboForce",Ib),$o("forceAtlas2",wb);var Rb=function(n,t){t.isCustomLayout=!0,$o(n,t)},Fb=function(){function u(n,t){var e=n.toString(),r=new Blob(["importScripts('"+t+"');("+e+")()"],{type:"text/javascript"});return new Worker(URL.createObjectURL(r))}return u}(),Nb=Fb,Gb=function(n){n===void 0&&(n="https://unpkg.com/@antv/layout@latest/dist/layout.min.js");function t(){var r={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"};layout.registerLayout("grid",layout.GridLayout),layout.registerLayout("random",layout.RandomLayout),layout.registerLayout("force",layout.ForceLayout),layout.registerLayout("circular",layout.CircularLayout),layout.registerLayout("dagre",layout.DagreLayout),layout.registerLayout("radial",layout.RadialLayout),layout.registerLayout("concentric",layout.ConcentricLayout),layout.registerLayout("mds",layout.MDSLayout),layout.registerLayout("fruchterman",layout.FruchtermanLayout),layout.registerLayout("fruchterman-gpu",layout.FruchtermanGPULayout),layout.registerLayout("gForce",layout.GForceLayout),layout.registerLayout("gForce-gpu",layout.GForceGPULayout),layout.registerLayout("comboForce",layout.ComboForceLayout),layout.registerLayout("forceAtlas2",layout.ForceAtlas2Layout);function o(v){var b=v.data.type;return b===r.RUN||b===r.GPURUN}function l(v){var b=this,L=v.data.type;switch(L){case r.RUN:{var F=v.data,U=F.nodes,rt=F.edges,ht=F.layoutCfg,bt=ht===void 0?{}:ht,At=bt.type,wt=layout.getLayoutByName(At);if(!wt){this.postMessage({type:r.ERROR,message:"layout "+At+" not found"});break}var kt;bt.onLayoutEnd=function(){b.postMessage({type:r.END,nodes:U}),kt==null||kt.destroy()},kt=new wt(bt),kt.init({nodes:U,edges:rt}),kt.execute();break}case r.GPURUN:{var Ut=v.data,Kt=Ut.nodes,rt=Ut.edges,qt=Ut.layoutCfg,bt=qt===void 0?{}:qt,ne=Ut.canvas,At=bt.type,wt=layout.getLayoutByName(At);if(!wt){this.postMessage({type:r.ERROR,message:"layout "+At+" not found"});break}if(At.split("-")[1]!=="gpu"){this.postMessage({type:r.ERROR,message:"layout "+At+" does not support GPU"});break}var ye=new wt(bt);ye.init({nodes:Kt,edges:rt}),ye.executeWithWorker(ne,this);break}default:break}}onmessage=function(b){o(b)&&l(b)}}var e=new Nb(t,n);return e},nd={RUN:"LAYOUT_RUN",END:"LAYOUT_END",ERROR:"LAYOUT_ERROR",TICK:"LAYOUT_TICK",GPURUN:"GPU_LAYOUT_RUN",GPUEND:"GPU_LAYOUT_END"},n0=function u(){return typeof window=="undefined"||typeof document=="undefined"?{}:{canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var n=document.createElement("canvas");return!!(window.WebGLRenderingContext&&(n.getContext("webgl")||n.getContext("experimental-webgl")))}catch(t){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var t=document.createElement("div");return t.id="webgl-error-message",t.style.fontFamily="monospace",t.style.fontSize="13px",t.style.fontWeight="normal",t.style.textAlign="center",t.style.background="#fff",t.style.color="#000",t.style.padding="1.5em",t.style.width="400px",t.style.margin="5em auto 0",this.webgl||(t.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.'].join(`
`)),t},addGetWebGLMessage:function(t){t=t||{};var e=t.parent!==void 0?t.parent:document.body,r=t.id!==void 0?t.id:"oldie",o=u().getWebGLErrorMessage();o.id=r,e.appendChild(o)}}};function kv(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kv=function(t){return typeof t}:kv=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kv(u)}var a0=function(n){return setTimeout(n,16)},i0=function(n){return clearTimeout(n)},Vv={requestAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame)||a0;return t(n)},cancelAnimationFrame:function(n){var t=typeof window!="undefined"&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame)||i0;return t(n)}},o0=["fruchterman","gForce"],Ub=["force","grid","circular"],Wb=function(u){Object(pe.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.graph=t,e.layoutCfg=t.get("layout")||{},e.layoutType=e.getLayoutType(),e.worker=null,e.workerData={},e.initLayout(),e}return n.prototype.initLayout=function(){},n.prototype.getWorker=function(){return this.worker?this.worker:(typeof Worker=="undefined"?(console.warn("Web worker is not supported in current browser."),this.worker=null):this.worker=Gb(this.layoutCfg.workerScriptURL),this.worker)},n.prototype.stopWorker=function(){var t=this.workerData;!this.worker||(this.worker.terminate(),this.worker=null,t.requestId&&(Vv.cancelAnimationFrame(t.requestId),t.requestId=null),t.requestId2&&(Vv.cancelAnimationFrame(t.requestId2),t.requestId2=null))},n.prototype.execLayoutMethod=function(t,e){var r=this;return new Promise(function(o,l){var v=r.graph,b=t.type;t.onLayoutEnd=function(){v.emit("aftersublayout",{type:b}),o()},b&&r.isGPU&&(r.hasGPUVersion(b)?b=b+"-gpu":console.warn("The '"+b+"' layout does not support GPU calculation for now, it will run in CPU."));var L=b==="force"||b==="g6force"||b==="gForce";if(L){var F=t.onTick,U=function(){F&&F(),v.refreshPositions()};t.tick=U}else t.type==="comboForce"&&(t.comboTrees=v.get("comboTrees"));var rt=!1,ht;try{ht=new xg[b](t)}catch(wt){console.warn("The layout method: '"+b+"' does not exist! Please specify it first."),l()}if(rt=ht.enableTick,rt){var bt=t.onTick,U=function(){bt&&bt(),v.refreshPositions()};ht.tick=U}var At=r.filterLayoutData(r.data,t);Hb(At,e),ht.init(At),v.emit("beforesublayout",{type:b}),ht.execute(),ht.isCustomLayout&&t.onLayoutEnd&&t.onLayoutEnd(),r.layoutMethods[e]=ht})},n.prototype.updateLayoutMethod=function(t,e){var r=this;return new Promise(function(o,l){var v=r.graph,b=e==null?void 0:e.type;e.onLayoutEnd=function(){v.emit("aftersublayout",{type:b}),o()};var L=r.filterLayoutData(r.data,e);t.init(L),t.updateCfg(e),v.emit("beforesublayout",{type:b}),t.execute(),t.isCustomLayout&&e.onLayoutEnd&&e.onLayoutEnd()})},n.prototype.layout=function(t){var e=this,r=this.graph;this.data=this.setDataFromGraph();var o=this.data,l=o.nodes,v=o.hiddenNodes;if(!l)return!1;var b=r.get("width"),L=r.get("height"),F={};Object.assign(F,{width:b,height:L,center:[b/2,L/2]},this.layoutCfg),this.layoutCfg=F,this.destoryLayoutMethods(),r.emit("beforelayout"),this.initPositions(F.center,l),this.initPositions(F.center,v);var U=F.type;U&&U.split("-")[1]==="gpu"&&(U=U.split("-")[0],F.gpuEnabled=!0);var rt=!1;F.gpuEnabled&&(rt=!0,n0().webgl||(console.warn("Your browser does not support webGL or GPGPU. The layout will run in CPU."),rt=!1)),this.isGPU=rt;var ht=F.onLayoutEnd,bt=F.layoutEndFormatted,At=F.adjust;if(bt||(F.layoutEndFormatted=!0,F.onAllLayoutEnd=function(){return Object(pe.b)(e,void 0,void 0,function(){return Object(pe.d)(this,function(kt){switch(kt.label){case 0:return ht&&ht(),this.refreshLayout(),At&&F.pipes?[4,this.adjustPipesBox(this.data,At)]:[3,2];case 1:kt.sent(),this.refreshLayout(),kt.label=2;case 2:return r.emit("afterlayout"),[2]}})})}),this.stopWorker(),F.workerEnabled&&this.layoutWithWorker(this.data))return!0;var wt=Promise.resolve();return F.type?wt=wt.then(function(){return e.execLayoutMethod(F,0)}):F.pipes&&F.pipes.forEach(function(kt,Ut){wt=wt.then(function(){return e.execLayoutMethod(kt,Ut)})}),wt.then(function(){F.onAllLayoutEnd&&F.onAllLayoutEnd(),t&&t()}).catch(function(kt){console.warn("graph layout failed,",kt)}),!1},n.prototype.layoutWithWorker=function(t){var e=this,r=this,o=r.layoutCfg,l=r.graph,v=this.getWorker(),b=this.workerData;if(!v)return!1;b.requestId=null,b.requestId2=null,b.currentTick=null,b.currentTickData=null,l.emit("beforelayout");var L=Promise.resolve();if(o.type)L=L.then(function(){return e.runWebworker(v,t,o)});else if(o.pipes)for(var F=function(At){L=L.then(function(){return e.runWebworker(v,t,At)})},U=0,rt=o.pipes;U<rt.length;U++){var ht=rt[U];F(ht)}return L.then(function(){o.onAllLayoutEnd&&o.onAllLayoutEnd()}).catch(function(bt){console.error("layout failed",bt)}),!0},n.prototype.runWebworker=function(t,e,r){var o=this,l=this.isGPU,v=this.filterLayoutData(e,r),b=v.nodes,L=v.edges,F=document.createElement("canvas"),U=l&&typeof window!="undefined"&&window.navigator&&!navigator.gpu&&"OffscreenCanvas"in window&&"transferControlToOffscreen"in F,rt=kb(r,function(bt){return typeof bt!="function"});if(!U)t.postMessage({type:nd.RUN,nodes:b,edges:L,layoutCfg:rt});else{var ht=F.transferControlToOffscreen();rt.type=rt.type+"-gpu",t.postMessage({type:nd.GPURUN,nodes:b,edges:L,layoutCfg:rt,canvas:ht},[ht])}return new Promise(function(bt,At){t.onmessage=function(wt){o.handleWorkerMessage(bt,At,wt,v,r)}})},n.prototype.handleWorkerMessage=function(t,e,r,o,l){var v=this,b=v.graph,L=v.workerData,F=r.data,U=F.type,rt=function(){l.onTick&&l.onTick()};switch(U){case nd.TICK:L.currentTick=F.currentTick,L.currentTickData=F,L.requestId||(L.requestId=Vv.requestAnimationFrame(function(){Cg(o,F),b.refreshPositions(),rt(),F.currentTick===F.totalTicks?t():L.currentTick===F.totalTicks&&(L.requestId2=Vv.requestAnimationFrame(function(){Cg(o,L.currentTickData),b.refreshPositions(),L.requestId2=null,rt(),t()})),L.requestId=null}));break;case nd.END:L.currentTick==null&&(Cg(o,F),t());break;case nd.GPUEND:L.currentTick==null&&(Vb(o,F),t());break;case nd.ERROR:console.warn("Web-Worker layout error!",F.message),e();break;default:e();break}},n.prototype.updateLayoutCfg=function(t){var e=this,r=this,o=r.graph,l=r.layoutMethods,v=Object(y.bb)({},this.layoutCfg,t);if(this.layoutCfg=v,!(l==null?void 0:l.length)){this.layout();return}if(this.data=this.setDataFromGraph(),this.stopWorker(),!(t.workerEnabled&&this.layoutWithWorker(this.data))){o.emit("beforelayout");var b=Promise.resolve();l.length===1?b=b.then(function(){return e.updateLayoutMethod(l[0],v)}):l==null||l.forEach(function(L,F){var U=v.pipes[F];b=b.then(function(){return e.updateLayoutMethod(L,U)})}),b.then(function(){v.onAllLayoutEnd&&v.onAllLayoutEnd()}).catch(function(L){console.warn("layout failed",L)})}},n.prototype.adjustPipesBox=function(t,e){var r=this;return new Promise(function(o){var l=t.nodes;(l==null?void 0:l.length)||o(),Ub.includes(e)||(console.warn("The adjust type "+e+" is not supported yet, please assign it with 'force', 'grid', or 'circular'."),o());var v={center:r.layoutCfg.center,nodeSize:function(bt){return Math.max(bt.height,bt.width)},preventOverlap:!0,onLayoutEnd:function(){}},b=r.getLayoutBBox(l),L=b.groupNodes,F=b.layoutNodes,U=Object(y.e)(F);v.onLayoutEnd=function(){F==null||F.forEach(function(ht,bt){var At,wt,kt,Ut=ht.x-((At=U[bt])===null||At===void 0?void 0:At.x),Kt=ht.y-((wt=U[bt])===null||wt===void 0?void 0:wt.y);(kt=L[bt])===null||kt===void 0||kt.forEach(function(qt){qt.x+=Ut,qt.y+=Kt})}),o()};var rt=new xg[e](v);rt.layout({nodes:F})})},n.prototype.hasGPUVersion=function(t){for(var e=o0.length,r=0;r<e;r++)if(o0[r]===t)return!0;return!1},n.prototype.destroy=function(){this.destoryLayoutMethods();var t=this.worker;t&&(t.terminate(),this.worker=null),this.destroyed=!0,this.graph.set("layout",void 0),this.layoutCfg=void 0,this.layoutType=void 0,this.layoutMethods=void 0,this.graph=null},n}(jo),zb=Wb;function Cg(u,n){for(var t=u.nodes,e=n.nodes,r=t.length,o=0;o<r;o++){var l=t[o];l.x=e[o].x,l.y=e[o].y}}function kb(u,n){var t={};return u&&kv(u)==="object"?(Object.keys(u).forEach(function(e){u.hasOwnProperty(e)&&n(u[e])&&(t[e]=u[e])}),t):u}function Vb(u,n){for(var t=u.nodes,e=n.vertexEdgeData,r=t.length,o=0;o<r;o++){var l=t[o],v=e[4*o],b=e[4*o+1];l.x=v,l.y=b}}function Hb(u,n){var t;if(!!((t=u==null?void 0:u.nodes)===null||t===void 0?void 0:t.length)){var e=u.nodes;e.forEach(function(r){r.layoutOrder=n})}}var s0=S.transform,Xb="svg",Yb=function(u){Object(pe.c)(n,u);function n(t){var e=u.call(this,t)||this,r=e.get("defaultNode");return r||e.set("defaultNode",{type:"circle"}),r.type||(r.type="circle",e.set("defaultNode",r)),e.destroyed=!1,e}return n.prototype.initLayoutController=function(){var t=new zb(this);this.set({layoutController:t})},n.prototype.initEventController=function(){var t=new qf(this);this.set({eventController:t})},n.prototype.initCanvas=function(){var t=this.get("container");if(typeof t=="string"&&(t=document.getElementById(t),this.set("container",t)),!t)throw new Error("invalid container");var e=t.clientWidth,r=t.clientHeight,o=this.get("width")||e,l=this.get("height")||r,v=this.get("renderer"),b;if(v===Xb)b=new Xu.Canvas({container:t,width:o,height:l});else{var L={container:t,width:o,height:l},F=this.get("pixelRatio");F&&(L.pixelRatio=F),b=new Xs.Canvas(L)}this.set("canvas",b)},n.prototype.initPlugins=function(){var t=this;Object(y.j)(t.get("plugins"),function(e){!e.destroyed&&e.initPlugin&&e.initPlugin(t)})},n.prototype.downloadImageWatermark=function(t,e,r,o){return Object(pe.b)(this,void 0,void 0,function(){var l,v,b;return Object(pe.d)(this,function(L){switch(L.label){case 0:return l=t.style.backgroundImage,v=l.slice(5,l.length-2),b=new Image,b.src=v,[4,new Promise(function(F){b.onload=function(){var U=e.createPattern(b,"repeat");e.rect(0,0,r,o),e.fillStyle=U,e.fill(),F("")}})];case 1:return L.sent(),[2]}})})},n.prototype.asyncToDataUrl=function(t,e,r,o,l,v){var b=this,L=document.querySelector(".g6-graph-watermarker"),F=this.get("canvas"),U=F.getRenderer(),rt=v||F.get("el"),ht="";t||(t="image/png"),setTimeout(function(){return Object(pe.b)(b,void 0,void 0,function(){var bt,At,wt,kt,Ut,Kt,qt,ne,ye,xe;return Object(pe.d)(this,function(je){switch(je.label){case 0:return U!=="svg"?[3,1]:(bt=rt.cloneNode(!0),At=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),wt=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",At),wt.replaceChild(bt,wt.documentElement),kt=new XMLSerializer().serializeToString(wt),ht="data:image/svg+xml;charset=utf8,"+encodeURIComponent(kt),[3,4]);case 1:return Ut=void 0,Kt=rt.getContext("2d"),qt=o||this.get("width"),ne=l||this.get("height"),ye=void 0,L?[4,this.downloadImageWatermark(L,Kt,qt,ne)]:[3,3];case 2:je.sent(),je.label=3;case 3:e&&(xe=typeof window!="undefined"?window.devicePixelRatio:1,Ut=Kt.getImageData(0,0,qt*xe,ne*xe),ye=Kt.globalCompositeOperation,Kt.globalCompositeOperation="destination-over",Kt.fillStyle=e,Kt.fillRect(0,0,qt,ne)),ht=rt.toDataURL(t),e&&(Kt.clearRect(0,0,qt,ne),Kt.putImageData(Ut,0,0),Kt.globalCompositeOperation=ye),je.label=4;case 4:return r&&r(ht),[2]}})})},16)},n.prototype.toDataURL=function(t,e){var r=this.get("canvas"),o=r.getRenderer(),l=r.get("el");t||(t="image/png");var v="";if(o==="svg"){var b=l.cloneNode(!0),L=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),F=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",L);F.replaceChild(b,F.documentElement);var U=new XMLSerializer().serializeToString(F);v="data:image/svg+xml;charset=utf8,"+encodeURIComponent(U)}else{var rt=void 0,ht=l.getContext("2d"),bt=this.get("width"),At=this.get("height"),wt=void 0;if(e){var kt=typeof window!="undefined"?window.devicePixelRatio:1;rt=ht.getImageData(0,0,bt*kt,At*kt),wt=ht.globalCompositeOperation,ht.globalCompositeOperation="destination-over",ht.fillStyle=e,ht.fillRect(0,0,bt,At)}v=l.toDataURL(t),e&&(ht.clearRect(0,0,bt,At),ht.putImageData(rt,0,0),ht.globalCompositeOperation=wt)}return v},n.prototype.toFullDataURL=function(t,e,r){var o=this.get("group").getCanvasBBox(),l=o.height,v=o.width,b=this.get("renderer"),L=Object(Va.b)('<id="virtual-image"></div>'),F=r?r.backgroundColor:void 0,U=r?r.padding:void 0;U?Object(y.K)(U)&&(U=[U,U,U,U]):U=[0,0,0,0];var rt=l+U[0]+U[2],ht=v+U[1]+U[3],bt={container:L,height:rt,width:ht,quickHit:!0},At=b==="svg"?new Xu.Canvas(bt):new Xs.Canvas(bt),wt=this.get("group"),kt=wt.clone(),Ut=Object(y.e)(kt.getMatrix());Ut||(Ut=[1,0,0,0,1,0,0,0,1]);var Kt=(o.maxX+o.minX)/2,qt=(o.maxY+o.minY)/2;Ut=s0(Ut,[["t",-Kt,-qt],["t",v/2+U[3],l/2+U[0]]]),kt.resetMatrix(),kt.setMatrix(Ut),At.add(kt);var ne=At.get("el"),ye="";e||(e="image/png"),setTimeout(function(){if(b==="svg"){var xe=ne.cloneNode(!0),je=document.implementation.createDocumentType("svg","-//W3C//DTD SVG 1.1//EN","http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"),We=document.implementation.createDocument("http://www.w3.org/2000/svg","svg",je);We.replaceChild(xe,We.documentElement);var Be=new XMLSerializer().serializeToString(We);ye="data:image/svg+xml;charset=utf8,"+encodeURIComponent(Be)}else{var qe=void 0,sr=ne.getContext("2d"),hn=void 0;if(F){var dn=typeof window!="undefined"?window.devicePixelRatio:1;qe=sr.getImageData(0,0,ht*dn,rt*dn),hn=sr.globalCompositeOperation,sr.globalCompositeOperation="destination-over",sr.fillStyle=F,sr.fillRect(0,0,ht,rt)}ye=ne.toDataURL(e),F&&(sr.clearRect(0,0,ht,rt),sr.putImageData(qe,0,0),sr.globalCompositeOperation=hn)}t&&t(ye)},16)},n.prototype.downloadFullImage=function(t,e,r){var o=this,l=this.get("group").getCanvasBBox(),v=l.height,b=l.width,L=this.get("renderer"),F=Object(Va.b)('<id="virtual-image"></div>'),U=document.querySelector(".g6-graph-watermarker"),rt=r?r.backgroundColor:void 0,ht=r?r.padding:void 0;ht?Object(y.K)(ht)&&(ht=[ht,ht,ht,ht]):ht=[0,0,0,0];var bt=v+ht[0]+ht[2],At=b+ht[1]+ht[3];if(U){var wt=this.get("graphWaterMarker").cfg||{},kt=wt.width,Ut=wt.height;bt=Math.ceil(bt/Ut)*Ut,At=Math.ceil(At/kt)*kt}var Kt={container:F,height:bt,width:At},qt=L==="svg"?new Xu.Canvas(Kt):new Xs.Canvas(Kt),ne=this.get("group"),ye=ne.clone(),xe=Object(y.e)(ye.getMatrix());xe||(xe=[1,0,0,0,1,0,0,0,1]);var je=(l.maxX+l.minX)/2,We=(l.maxY+l.minY)/2;xe=s0(xe,[["t",-je,-We],["t",b/2+ht[3],v/2+ht[0]]]),ye.resetMatrix(),ye.setMatrix(xe),qt.add(ye);var Be=qt.get("el");e||(e="image/png"),this.asyncToDataUrl(e,rt,function(qe){var sr=document.createElement("a"),hn=(t||"graph")+(L==="svg"?".svg":"."+e.split("/")[1]);o.dataURLToImage(qe,L,sr,hn);var dn=document.createEvent("MouseEvents");dn.initEvent("click",!1,!1),sr.dispatchEvent(dn)},At,bt,Be)},n.prototype.downloadImage=function(t,e,r){var o=this,l=this;l.isAnimating()&&l.stopAnimate();var v=l.get("canvas"),b=v.getRenderer();e||(e="image/png");var L=(t||"graph")+(b==="svg"?".svg":e.split("/")[1]),F=document.createElement("a");l.asyncToDataUrl(e,r,function(U){o.dataURLToImage(U,b,F,L);var rt=document.createEvent("MouseEvents");rt.initEvent("click",!1,!1),F.dispatchEvent(rt)})},n.prototype.dataURLToImage=function(t,e,r,o){if(typeof window!="undefined")if(window.Blob&&window.URL&&e!=="svg"){var l=t.split(","),v="";if(l&&l.length>0){var b=l[0].match(/:(.*?);/);b&&b.length>=2&&(v=b[1])}for(var L=atob(l[1]),F=L.length,U=new Uint8Array(F);F--;)U[F]=L.charCodeAt(F);var rt=new Blob([U],{type:v});window.navigator.msSaveBlob?window.navigator.msSaveBlob(rt,o):r.addEventListener("click",function(){r.download=o,r.href=window.URL.createObjectURL(rt)})}else r.addEventListener("click",function(){r.download=o,r.href=t})},n.prototype.addPlugin=function(t){var e=this;t.destroyed||(e.get("plugins").push(t),t.initPlugin(e))},n.prototype.removePlugin=function(t){var e=this.get("plugins"),r=e.indexOf(t);r>=0&&(t.destroyPlugin(),e.splice(r,1))},n.prototype.setImageWaterMarker=function(t,e){t===void 0&&(t=su.waterMarkerImage);var r=this.get("container");Object(y.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var o=this.get("graphWaterMarker"),l=Object(y.h)({},su.imageWaterMarkerConfig,e),v=l.width,b=l.height,L=l.compatible,F=l.image;if(!o){var U={container:r,width:v,height:b,capture:!1},rt=this.get("pixelRatio");rt&&(U.pixelRatio=rt),o=new Xs.Canvas(U),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var ht=o.get("context"),bt=F.rotate,At=F.x,wt=F.y;ht.rotate(-bt*Math.PI/180);var kt=new Image;kt.crossOrigin="anonymous",kt.src=t,kt.onload=function(){if(ht.drawImage(kt,At,wt,F.width,F.height),ht.rotate(bt*Math.PI/180),L)r.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var Ut=document.querySelector(".g6-graph-watermarker");Ut||(Ut=document.createElement("div"),Ut.className="g6-graph-watermarker"),Ut.className="g6-graph-watermarker",o.destroyed||(Ut.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;",r.appendChild(Ut))}}},n.prototype.setTextWaterMarker=function(t,e){var r=this.get("container");Object(y.O)(r)&&(r=document.getElementById(r)),r.style.position||(r.style.position="relative");var o=this.get("graphWaterMarker"),l=Object(y.h)({},su.textWaterMarkerConfig,e),v=l.width,b=l.height,L=l.compatible,F=l.text;if(!o){var U={container:r,width:v,height:b,capture:!1},rt=this.get("pixelRatio");rt&&(U.pixelRatio=rt),o=new Xs.Canvas(U),this.set("graphWaterMarker",o)}o.get("el").style.display="none";var ht=o.get("context"),bt=F.rotate,At=F.fill,wt=F.fontFamily,kt=F.fontSize,Ut=F.baseline,Kt=F.x,qt=F.y,ne=F.lineHeight;ht.rotate(-bt*Math.PI/180),ht.font=kt+"px "+wt,ht.fillStyle=At,ht.textBaseline=Ut;for(var ye=t.length-1;ye>=0;ye--)ht.fillText(t[ye],Kt,qt+ye*ne);if(ht.rotate(bt*Math.PI/180),L)r.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;";else{var xe=document.querySelector(".g6-graph-watermarker");xe||(xe=document.createElement("div"),xe.className="g6-graph-watermarker"),xe.style.cssText="background-image: url("+o.get("el").toDataURL("image/png")+");background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;",r.appendChild(xe)}},n.prototype.destroy=function(){Object(y.j)(this.get("plugins"),function(l){l.destroyPlugin()});var t=this.get("tooltips");if(t)for(var e=0;e<t.length;e++){var r=t[e];if(!!r){var o=r.parentElement;!o||o.removeChild(r)}}this.get("eventController").destroy(),this.get("layoutController").destroy(),this.get("graphWaterMarker")&&this.get("graphWaterMarker").destroy(),document.querySelector(".g6-graph-watermarker")&&document.querySelector(".g6-graph-watermarker").remove(),u.prototype.destroy.call(this)},n}(ea),u0=Yb,Kb=a("BRni"),l0=a.n(Kb),c0=Fi.traverseTree,$b=function(n,t){var e;return n?Object(y.K)(n)?e=function(o){return n}:e=n:e=function(o){return t||1},e},Zb=function(n,t){var e=[],r=[],o={},l=0;for(l=0;l<n.length;l++){var v=n[l];o[v.id]=l,e.push(v.x),e.push(v.y),e.push(0),e.push(0),r.push([])}for(l=0;l<t.length;l++){var b=t[l];r[o[b.source]].push(o[b.target]),r[o[b.target]].push(o[b.source])}var L=0;for(l=0;l<n.length;l++){var F=e.length,U=r[l],rt=U.length;e[l*4+2]=F,e[l*4+3]=U.length,L=Math.max(L,U.length);for(var ht=0;ht<rt;++ht){var bt=U[ht];e.push(+bt)}}for(;e.length%4!=0;)e.push(0);return{array:new Float32Array(e),maxEdgePerVetex:L}},Qb=function(n,t,e){var r=[],o=[],l={},v=0;for(v=0;v<n.length;v++){var b=n[v];l[b.id]=v,r.push(b.x),r.push(b.y),r.push(0),r.push(0),o.push([])}for(v=0;v<t.length;v++){var L=t[v];o[l[L.source]].push(l[L.target]),o[l[L.source]].push(e(L)),o[l[L.target]].push(l[L.source]),o[l[L.target]].push(e(L))}var F=0;for(v=0;v<n.length;v++){var U=r.length,rt=o[v],ht=rt.length;r[v*4+2]=U,r[v*4+3]=ht/2,F=Math.max(F,ht/2);for(var bt=0;bt<ht;++bt){var At=rt[bt];r.push(+At)}}for(;r.length%4!=0;)r.push(0);return{array:new Float32Array(r),maxEdgePerVetex:F}},Jb=function(n,t,e,r){var o=[],l=[],v={},b=0;for(b=0;b<n.length;b++){var L=n[b];v[L.id]=b,o.push(L.x),o.push(L.y),o.push(0),o.push(0),l.push([])}for(b=0;b<t.length;b++){var F=t[b];l[v[F.source]].push(v[F.target]),l[v[F.source]].push(e(F)),l[v[F.source]].push(r(F)),l[v[F.source]].push(0),l[v[F.target]].push(v[F.source]),l[v[F.target]].push(e(F)),l[v[F.target]].push(r(F)),l[v[F.target]].push(0)}var U=0;for(b=0;b<n.length;b++){var rt=o.length,ht=l[b],bt=ht.length;o[b*4+2]=rt+1048576*bt/4,o[b*4+3]=0,U=Math.max(U,bt/4);for(var At=0;At<bt;++At){var wt=ht[At];o.push(+wt)}}for(;o.length%4!=0;)o.push(0);return{array:new Float32Array(o),maxEdgePerVetex:U}},_b=function(n,t){var e=[],r=n.length,o={};return t.forEach(function(l){n.forEach(function(v,b){if(o[l[v]]===void 0&&(o[l[v]]=Object.keys(o).length),e.push(o[l[v]]),b===r-1)for(;e.length%4!=0;)e.push(0)})}),{array:new Float32Array(e),count:Object.keys(o).length}},qb=function(n){for(var t=[],e=n.length,r=n[0].length,o=function(b){n.forEach(function(L,F){if(t.push(L[b]),F===e-1)for(;t.length%4!=0;)t.push(0)})},l=0;l<r;l++)o(l);return new Float32Array(t)},tE=function(n,t){var e=["V","TB","BT"],r={x:Infinity,y:Infinity},o={x:-Infinity,y:-Infinity},l="x",v="y";t&&e.indexOf(t)>=0&&(v="x",l="y");var b=0;c0(n,function(U){return b++,U.x>o.x&&(o.x=U.x),U.x<r.x&&(r.x=U.x),U.y>o.y&&(o.y=U.y),U.y<r.y&&(r.y=U.y),!0});var L=Math.PI*2/b,F=o[v]-r[v];return F===0||c0(n,function(U){var rt=(U[v]-r[v])/F*(Math.PI*2-L)+L,ht=Math.abs(l==="x"?U.x-n.x:U.y-n.y);return U.x=ht*Math.cos(rt),U.y=ht*Math.sin(rt),!0}),n},eE=Object(pe.a)(Object(pe.a)(Object(pe.a)(Object(pe.a)({},Fi),A),x),M),Bf=eE,rE=Bf.radialLayout,nE=Bf.traverseTree,aE=function(u){Object(pe.c)(n,u);function n(t){var e=u.call(this,t)||this;return e.layoutAnimating=!1,e.set("removeList",[]),e.set("layoutMethod",e.getLayout()),e}return n.prototype.getLayout=function(){var t=this.get("layout");return t?typeof t=="function"?t:(t.type||(t.type="dendrogram"),t.direction||(t.direction="TB"),t.radial?function(e){var r=l0.a[t.type](e,t);return rE(r),r}:function(e){return l0.a[t.type](e,t)}):null},n.indexOfChild=function(t,e){var r=-1;return Object(y.j)(t,function(o,l){if(e===o.id)return r=l,!1}),r},n.prototype.getDefaultCfg=function(){var t=u.prototype.getDefaultCfg.call(this);return t.animate=!0,t},n.prototype.innerAddChild=function(t,e,r){var o=this,l=t.data;l&&(l.x=t.x,l.y=t.y,l.depth=t.depth);var v=o.addItem("node",l,!1);if(e){if(v.set("parent",e),r){var b=e.get("originAttrs");if(b)v.set("originAttrs",b);else{var L=e.getModel();v.set("originAttrs",{x:L.x,y:L.y})}}var F=e.get("children");F?F.push(v):e.set("children",[v]),o.addItem("edge",{source:e.get("id"),target:v.get("id"),id:e.get("id")+":"+v.get("id")},!1)}return Object(y.j)(t.children||[],function(U){o.innerAddChild(U,v,r)}),o.emit("afteraddchild",{item:v,parent:e}),v},n.prototype.innerUpdateChild=function(t,e,r){var o=this,l=o.findById(t.id);if(!l){o.innerAddChild(t,e,r);return}Object(y.j)(t.children||[],function(bt){o.innerUpdateChild(bt,l,r)});var v=l.get("children");if(v){var b=v.length;if(b>0)for(var L=v.length-1;L>=0;L--){var F=v[L].getModel();n.indexOfChild(t.children||[],F.id)===-1&&(o.innerRemoveChild(F.id,{x:t.x,y:t.y},r),v.splice(L,1))}}var U,rt;l.get("originAttrs")&&(U=l.get("originAttrs").x,rt=l.get("originAttrs").y);var ht=l.getModel();r&&l.set("originAttrs",{x:ht.x,y:ht.y}),l.set("model",t.data),(U!==t.x||rt!==t.y)&&l.updatePosition({x:t.x,y:t.y})},n.prototype.innerRemoveChild=function(t,e,r){var o=this,l=o.findById(t);if(!!l)if(Object(y.j)(l.get("children"),function(b){o.innerRemoveChild(b.getModel().id,e,r)}),r){var v=l.getModel();l.set("to",e),l.set("originAttrs",{x:v.x,y:v.y}),o.get("removeList").push(l)}else o.removeItem(l)},n.prototype.changeData=function(t){var e=this;this.getNodes().map(function(r){return e.clearItemStates(r)}),this.getEdges().map(function(r){return e.clearItemStates(r)}),t?(e.data(t),e.render()):e.layout(this.get("fitView"))},n.prototype.changeLayout=function(t){console.warn("Please call updateLayout instead of changeLayout. changeLayout will be discarded soon");var e=this;e.updateLayout(t)},n.prototype.updateLayout=function(t){var e=this;if(!t){console.warn("layout cannot be null");return}e.set("layout",t),e.set("layoutMethod",e.getLayout()),e.layout()},n.prototype.refreshLayout=function(t){console.warn("Please call layout instead of refreshLayout. refreshLayout will be discarded soon");var e=this;e.layout(t)},n.prototype.layout=function(t){var e=this,r=e.get("data"),o=e.get("layoutMethod"),l=o(r,e.get("layout")),v=e.get("animate");if(e.emit("beforerefreshlayout",{data:r,layoutData:l}),e.emit("beforelayout"),e.innerUpdateChild(l,void 0,v),t){var b=e.get("viewController");b.fitView()}v?e.layoutAnimate(l):(e.refresh(),e.paint()),e.emit("afterrefreshlayout",{data:r,layoutData:l}),e.emit("afterlayout")},n.prototype.addChild=function(t,e){var r=this;r.emit("beforeaddchild",{model:t,parent:e}),Object(y.O)(e)||(e=e.get("id"));var o=r.findDataById(e);o&&(o.children||(o.children=[]),o.children.push(t),r.changeData())},n.prototype.updateChildren=function(t,e){var r=this;if(!e||!r.findById(e)){console.warn("Update children failed! There is no node with id '"+e+"'");return}var o=r.findDataById(e);o.children=t,r.changeData()},n.prototype.updateChild=function(t,e){var r=this;if(!e||!r.findById(e)){r.changeData(t);return}var o=r.findDataById(e),l=r.findById(t.id);if(o.children||(o.children=[]),!l)o.children.push(t);else{var v=n.indexOfChild(o.children,t.id);o.children[v]=t}r.changeData()},n.prototype.removeChild=function(t){var e=this,r=e.findById(t);if(!!r){var o=r.get("parent");if(o&&!o.destroyed){var l=e.findDataById(o.get("id")),v=l&&l.children||[],b=r.getModel(),L=n.indexOfChild(v,b.id);v.splice(L,1)}e.changeData()}},n.prototype.findDataById=function(t,e){var r=this;if(e||(e=r.get("data")),t===e.id)return e;var o=null;return Object(y.j)(e.children||[],function(l){if(l.id===t)return o=l,!1;if(o=r.findDataById(t,l),o)return!1}),o},n.prototype.layoutAnimate=function(t,e){var r=this,o=this.get("animateCfg");r.emit("beforeanimate",{data:t}),r.getEdges().forEach(function(l){var v=l.get("model");v.sourceAnchor||(v.sourceAnchor=l.get("sourceAnchorIndex"))}),this.get("canvas").animate(function(l){nE(t,function(v){var b=r.findById(v.id);if(b){var L=b.get("originAttrs"),F=b.get("model");if(L||(L={x:F.x,y:F.y},b.set("originAttrs",L)),e){var U=e(b,l,L,t);b.set("model",Object.assign(F,U))}else F.x=L.x+(v.x-L.x)*l,F.y=L.y+(v.y-L.y)*l}return!0}),Object(y.j)(r.get("removeList"),function(v){var b=v.getModel(),L=v.get("originAttrs"),F=v.get("to");b.x=L.x+(F.x-L.x)*l,b.y=L.y+(F.y-L.y)*l}),r.refreshPositions()},{duration:o.duration,easing:o.ease,callback:function(){Object(y.j)(r.getNodes(),function(v){v.set("originAttrs",null)}),Object(y.j)(r.get("removeList"),function(v){r.removeItem(v)}),r.set("removeList",[]),o.callback&&o.callback(),r.emit("afteranimate",{data:t})},delay:o.delay})},n.prototype.stopLayoutAnimate=function(){this.get("canvas").stopAnimate(),this.emit("layoutanimateend",{data:this.get("data")}),this.layoutAnimating=!1},n.prototype.isLayoutAnimating=function(){return this.layoutAnimating},n.prototype.render=function(){var t=this,e=t.get("data");if(!e)throw new Error("data must be defined first");t.clear(),t.emit("beforerender"),t.layout(this.get("fitView")),t.emit("afterrender")},n.prototype.save=function(){return this.get("data")},n}(u0),iE=aE,oE=function(){function u(n){this._cfgs=Object(y.h)(this.getDefaultCfgs(),n),this._events={},this.destroyed=!1}return u.prototype.getDefaultCfgs=function(){return{}},u.prototype.initPlugin=function(n){var t=this;t.set("graph",n);var e=t.getEvents(),r={};Object(y.j)(e,function(o,l){var v=Object(y.wb)(t,o);r[l]=v,n.on(l,v)}),this._events=r,this.init()},u.prototype.getEvents=function(){return{}},u.prototype.get=function(n){return this._cfgs[n]},u.prototype.set=function(n,t){this._cfgs[n]=t},u.prototype.destroy=function(){},u.prototype.destroyPlugin=function(){this.destroy();var n=this.get("graph"),t=this._events;Object(y.j)(t,function(e,r){n.off(r,e)}),this._events=null,this._cfgs=null,this.destroyed=!0},u}(),fl=oE,sE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),f0="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",uE=function(u){sE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{img:f0}},n.prototype.init=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("container"),o=t.get("canvas").get("el"),l=t.get("width"),v=t.get("height"),b=this.get("img")||f0,L=Object(Va.b)(`<div class='g6-grid-container' style="position: absolute; left:0;top:0;right:0;bottom:0;overflow: hidden;z-index: -1;"></div>`),F=Object(Va.b)(`<div 
        class='g6-grid' 
        style='position:absolute;
        transform-origin: 0% 0% 0px;
        background-image: `+b+`;
        user-select: none
        '></div>`);L.appendChild(F),Object(Va.e)(L,{width:l+"px",height:v+"px",left:r.offsetLeft+"px",top:r.offsetTop+"px"}),Object(Va.e)(F,{width:l/e+"px",height:v/e+"px",left:"0px",top:"0px"}),r.insertBefore(L,o),this.set("container",L),this.set("gridContainer",F)},n.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},n.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var o="matrix("+r[0]+", "+r[1]+", "+r[3]+", "+r[4]+", 0, 0)";Object(Va.e)(e,{transform:o})},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},n}(fl),lE=uE,cE=a("Gu+u"),Ag=a.n(cE),fE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Ag()(`
  .g6-component-contextmenu {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .g6-contextmenu-ul {
    padding: 0;
    margin: 0;
    list-style: none;
  }

`);var hE=function(u){fE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,handleMenuClick:void 0,getContent:function(e){return`
          <ul class='g6-contextmenu-ul'>
            <li>\u83DC\u5355\u98791</li>
            <li>\u83DC\u5355\u98792</li>
          </ul>
        `},shouldBegin:function(e){return!0},onHide:function(){return!0},itemTypes:["node","edge","combo"]}},n.prototype.getEvents=function(){return{contextmenu:"onMenuShow"}},n.prototype.init=function(){var t=this.get("className"),e=Object(Va.b)("<div class="+(t||"g6-component-contextmenu")+"></div>");Object(Va.e)(e,{top:"0px",position:"absolute",visibility:"hidden"});var r=this.get("container");r||(r=this.get("graph").get("container")),Object(y.O)(r)&&(r=document.getElementById(r)),r.appendChild(e),this.set("menu",e)},n.prototype.onMenuShow=function(t){var e=this;t.preventDefault(),t.stopPropagation();var r=this.get("itemTypes");if(t.item){if(t.item&&t.item.getType&&r.indexOf(t.item.getType())===-1){e.onMenuHide();return}}else if(r.indexOf("canvas")===-1)return;var o=this.get("shouldBegin");if(!!o(t)){var l=this.get("menu"),v=this.get("getContent"),b=this.get("graph"),L=v(t,b);Object(y.O)(L)?l.innerHTML=L:l.innerHTML=L.outerHTML,this.removeMenuEventListener();var F=this.get("handleMenuClick");if(F){var U=function(xe){F(xe.target,t.item,b)};this.set("handleMenuClickWrapper",U),l.addEventListener("click",U)}var rt=b.get("width"),ht=b.get("height"),bt=l.getBoundingClientRect(),At=this.get("offsetX")||0,wt=this.get("offsetY")||0,kt=b.getContainer().offsetTop,Ut=b.getContainer().offsetLeft,Kt=t.canvasX+Ut+At,qt=t.canvasY+kt+wt;Kt+bt.width>rt&&(Kt=t.canvasX-bt.width-At+Ut),qt+bt.height>ht&&(qt=t.canvasY-bt.height-wt+kt),Object(Va.e)(l,{top:qt+"px",left:Kt+"px",visibility:"visible"});var ne=function(xe){e.onMenuHide()};document.body.addEventListener("click",ne),this.set("handler",ne)}},n.prototype.removeMenuEventListener=function(){var t=this.get("handleMenuClickWrapper"),e=this.get("handler");if(t){var r=this.get("menu");r.removeEventListener("click",t),this.set("handleMenuClickWrapper",null)}e&&document.body.removeEventListener("click",e)},n.prototype.onMenuHide=function(){var t=this.get("menu");t&&Object(Va.e)(t,{visibility:"hidden"}),this.removeMenuEventListener()},n.prototype.destroy=function(){var t=this.get("menu");if(this.removeMenuEventListener(),t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(y.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(fl),dE=hE;function h0(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromTranslation(e,t),zr.a.multiply(u,e,n)}function d0(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromRotation(e,t),zr.a.multiply(u,e,n)}function v0(u,n,t){var e=[0,0,0,0,0,0,0,0,0];return zr.a.fromScaling(e,t),zr.a.multiply(u,e,n)}function vE(u,n,t){return zr.a.multiply(u,t,n)}function gE(u,n){for(var t=u?[].concat(u):[1,0,0,0,1,0,0,0,1],e=0,r=n.length;e<r;e++){var o=n[e];switch(o[0]){case"t":h0(t,t,[o[1],o[2]]);break;case"s":v0(t,t,[o[1],o[2]]);break;case"r":d0(t,t,o[1]);break;case"m":vE(t,t,o[1]);break;default:break}}return t}function g0(u,n){return u[0]*n[1]-n[0]*u[1]}function pE(u,n,t){var e=zr.d.angle(u,n),r=g0(u,n)>=0;return t?r?Math.PI*2-e:e:r?e:Math.PI*2-e}function yE(u,n,t){return t?(u[0]=n[1],u[1]=-1*n[0]):(u[0]=-1*n[1],u[1]=n[0]),u}var mE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sg=function(){return Sg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Sg.apply(this,arguments)},p0=Math.max,bE=O.transform,EE="default",OE="keyShape",xE="delegate",y0="svg",CE=function(u){mE(n,u);function n(){var t=u!==null&&u.apply(this,arguments)||this;return t.handleUpdateCanvas=Object(y.g)(function(e){var r=t;r.destroyed||r.updateCanvas()},100,!1),t}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",type:"default",padding:50,size:[200,120],delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.size,o=e.graph;if(!this.destroyed){var l=this.get("canvas"),v=l.get("container"),b=Object(Va.b)(`
      <div
        class=`+e.viewportClassName+`
        style='position:absolute;
          left:0;
          top:0;
          box-sizing:border-box;
          outline: 2px solid #1980ff'
        draggable=true>
      </div>`),L=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,F=0,U=0,rt=!1,ht=0,bt=0,At=0,wt=0,kt=0,Ut=0;b.addEventListener("dragstart",function(Kt){var qt,ne;if(Kt.dataTransfer){var ye=new Image;ye.src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E",(ne=(qt=Kt.dataTransfer).setDragImage)===null||ne===void 0||ne.call(qt,ye,0,0);try{Kt.dataTransfer.setData("text/html","view-port-minimap")}catch(je){Kt.dataTransfer.setData("text","view-port-minimap")}}if(e.refresh=!1,Kt.target===b){var xe=b.style;ht=parseInt(xe.left,10),bt=parseInt(xe.top,10),At=parseInt(xe.width,10),wt=parseInt(xe.height,10),!(At>r[0]||wt>r[1])&&(Ut=o.getZoom(),kt=t.get("ratio"),rt=!0,F=Kt.clientX,U=Kt.clientY)}},!1),b.addEventListener(L?"dragover":"drag",function(Kt){if(!(!rt||Object(y.I)(Kt.clientX)||Object(y.I)(Kt.clientY))){var qt=F-Kt.clientX,ne=U-Kt.clientY;(ht-qt<0||ht-qt+At>=r[0])&&(qt=0),(bt-ne<0||bt-ne+wt>=r[1])&&(ne=0),ht-=qt,bt-=ne,Object(Va.e)(b,{left:ht+"px",top:bt+"px"}),o.translate(qt*Ut/kt,ne*Ut/kt),F=Kt.clientX,U=Kt.clientY}},!1),b.addEventListener("dragend",function(){rt=!1,e.refresh=!0},!1),this.set("viewport",b),v.appendChild(b)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("dx"),r=this.get("dy"),o=this.get("totaldx"),l=this.get("totaldy"),v=this.get("graph"),b=this.get("size"),L=v.get("width"),F=v.get("height"),U=v.getPointByCanvas(0,0),rt=v.getPointByCanvas(L,F),ht=this.get("viewport");ht||this.initViewport();var bt=v.getZoom(),At=(rt.x-U.x)*t,wt=(rt.y-U.y)*t,kt=U.x*t+o,Ut=U.y*t+l,Kt=kt+At,qt=Ut+wt;kt<0&&(At+=kt,kt=0),Kt>b[0]&&(At=At-(Kt-b[0])),Ut<0&&(wt+=Ut,Ut=0),qt>b[1]&&(wt=wt-(qt-b[1])),this.set("ratio",t);var ne=kt+"px",ye=Ut+"px";Object(Va.e)(ht,{left:ne,top:ye,width:At+"px",height:wt+"px"})}},n.prototype.updateGraphShapes=function(){var t=this._cfgs.graph,e=this.get("canvas"),r=t.get("group");if(!r.destroyed){var o=r.clone();o.resetMatrix(),e.clear(),e.add(o);var l=t.get("renderer");l===y0&&this.updateVisible(o)}},n.prototype.updateVisible=function(t){var e=this;if(!t.isGroup()&&!t.get("visible"))t.hide();else{var r=t.get("children");if(!r||!r.length)return;r.forEach(function(o){o.get("visible")||o.hide(),e.updateVisible(o)})}},n.prototype.updateKeyShapes=function(){var t=this,e=this._cfgs.graph;Object(y.j)(e.getEdges(),function(r){t.updateOneEdgeKeyShape(r)}),Object(y.j)(e.getNodes(),function(r){t.updateOneNodeKeyShape(r)}),this.clearDestroyedShapes()},n.prototype.updateOneNodeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("itemMap")||{},l=o[t.get("id")],v=t.getBBox(),b=t.get("keyShape").clone(),L=b.attr(),F={x:v.centerX,y:v.centerY};l?F=Object.assign(L,F):(l=b,r.add(l));var U=l.get("type");(U==="rect"||U==="image")&&(F.x=v.minX,F.y=v.minY),l.attr(F),t.isVisible()||l.hide(),l.exist=!0,o[t.get("id")]=l,this.set("itemMap",o)},n.prototype.updateDelegateShapes=function(){var t=this,e=this._cfgs.graph;Object(y.j)(e.getEdges(),function(r){t.updateOneEdgeKeyShape(r)}),Object(y.j)(e.getNodes(),function(r){t.updateOneNodeDelegateShape(r)}),this.clearDestroyedShapes()},n.prototype.clearDestroyedShapes=function(){var t=this.get("itemMap")||{},e=Object.keys(t);if(!(!e||e.length===0))for(var r=e.length-1;r>=0;r--){var o=t[e[r]],l=o.exist;o.exist=!1,l||(o.remove(),delete t[e[r]])}},n.prototype.updateOneEdgeKeyShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("itemMap")||{},l=o[t.get("id")];if(l){var v=t.get("keyShape").attr("path");l.attr("path",v)}else l=t.get("keyShape").clone(),r.add(l),l.toBack();t.isVisible()||l.hide(),l.exist=!0,o[t.get("id")]=l,this.set("itemMap",o)},n.prototype.updateOneNodeDelegateShape=function(t){var e=this.get("canvas"),r=e.get("children")[0]||e.addGroup(),o=this.get("delegateStyle"),l=this.get("itemMap")||{},v=l[t.get("id")],b=t.getBBox();if(v){var L={x:b.minX,y:b.minY,width:b.width,height:b.height};v.attr(L)}else v=r.addShape("rect",{attrs:Sg({x:b.minX,y:b.minY,width:b.width,height:b.height},o),name:"minimap-node-shape"});t.isVisible()||v.hide(),v.exist=!0,l[t.get("id")]=v,this.set("itemMap",l)},n.prototype.init=function(){this.initContainer(),this.get("graph").on("afterupdateitem",this.handleUpdateCanvas),this.get("graph").on("afteritemstatechange",this.handleUpdateCanvas),this.get("graph").on("afteradditem",this.handleUpdateCanvas),this.get("graph").on("afterremoveitem",this.handleUpdateCanvas),this.get("graph").on("afterrender",this.handleUpdateCanvas),this.get("graph").on("afterlayout",this.handleUpdateCanvas)},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=t.get("size"),o=t.get("className"),l=t.get("container"),v=Object(Va.b)("<div class='"+o+"' style='width: "+r[0]+"px; height: "+r[1]+"px; overflow: hidden'></div>");Object(y.O)(l)&&(l=document.getElementById(l)),l?l.appendChild(v):e.get("container").appendChild(v),t.set("container",v);var b=Object(Va.b)('<div class="g6-minimap-container" style="position: relative;"></div>');v.appendChild(b),b.addEventListener("dragenter",function(U){U.preventDefault()}),b.addEventListener("dragover",function(U){U.preventDefault()});var L,F=e.get("renderer");F===y0?L=new Xu.Canvas({container:b,width:r[0],height:r[1]}):L=new Xs.Canvas({container:b,width:r[0],height:r[1]}),t.set("canvas",L),t.updateCanvas()},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("size"),o=this.get("canvas"),l=this.get("type"),v=this.get("padding");if(!o.destroyed){switch(l){case EE:this.updateGraphShapes();break;case OE:this.updateKeyShapes();break;case xE:this.updateDelegateShapes();break;default:break}var b=o.get("children")[0];if(!!b){b.resetMatrix();var L=b.getCanvasBBox(),F=e.get("canvas").getCanvasBBox(),U=F.width,rt=F.height;Number.isFinite(L.width)&&(U=p0(L.width,U),rt=p0(L.height,rt)),U+=2*v,rt+=2*v;var ht=Math.min(r[0]/U,r[1]/rt),bt=[1,0,0,0,1,0,0,0,1],At=0,wt=0;Number.isFinite(L.minX)&&(At=-L.minX),Number.isFinite(L.minY)&&(wt=-L.minY);var kt=(r[0]-(U-2*v)*ht)/2,Ut=(r[1]-(rt-2*v)*ht)/2;bt=bE(bt,[["t",At,wt],["s",ht,ht],["t",kt,Ut]]),b.setMatrix(bt),this.set("ratio",ht),this.set("totaldx",kt+At*ht),this.set("totaldy",Ut+wt*ht),this.set("dx",kt),this.set("dy",Ut),this.updateViewport()}}}}},n.prototype.getCanvas=function(){return this.get("canvas")},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.destroy=function(){this.get("canvas").destroy();var t=this.get("container");t.parentNode.removeChild(t)},n}(fl),AE=CE,SE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function gc(u,n,t){var e=u.x-n.x,r=u.y-n.y;return!t||Math.abs(e)>t||Math.abs(r)>t?Math.sqrt(e*e+r*r):t}function ME(u,n){return u.x*n.x+u.y*n.y}function m0(u,n){var t=(n.source.y-n.target.y)/(n.source.x-n.target.x),e=(t*t*n.source.x+t*(u.y-n.source.y)+u.x)/(t*t+1),r=t*(e-n.source.x)+n.source.y;return{x:e,y:r}}var TE=function(u){SE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},n.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),r=function(){e&&e(),t.refreshPositions()};this.set("tick",r)},n.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],o=t.nodes||[],l={},v=!1;if(o.forEach(function(qt){(qt.x===null||!qt.y===null||qt.x===void 0||!qt.y===void 0)&&(v=!0),l[qt.id]=qt}),v)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",l);var b=e.get("divisions"),L=e.get("divRate"),F=e.divideEdges(b);e.set("edgePoints",F);var U=e.getEdgeBundles();e.set("edgeBundles",U);for(var rt=e.get("cycles"),ht=e.get("iterations"),bt=e.get("iterRate"),At=e.get("lambda"),wt=0;wt<rt;wt++){for(var kt=function(ne){var ye=[];r.forEach(function(xe,je){if(xe.source!==xe.target){var We=l[xe.source],Be=l[xe.target];ye[je]=e.getEdgeForces({source:We,target:Be},je,b,At);for(var qe=0;qe<b+1;qe++)F[je][qe].x+=ye[je][qe].x,F[je][qe].y+=ye[je][qe].y}})},Ut=0;Ut<ht;Ut++)kt(Ut);At=At/2,b*=L,ht*=bt,F=e.divideEdges(b),e.set("edgePoints",F)}r.forEach(function(qt,ne){qt.source!==qt.target&&(qt.type="polyline",qt.controlPoints=F[ne].slice(1,F[ne].length-1))});var Kt=e.get("graph");Kt.refresh()}},n.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach(function(l){e.set(l,t[l])}),t.onTick){var o=this.get("graph");e.set("tick",function(){t.onTick(),o.refresh()})}e.bundling(r)},n.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,o=e.get("nodeIdMap"),l=e.get("edgePoints");return(!l||l===void 0)&&(l=[]),r.forEach(function(v,b){(!l[b]||l[b]===void 0)&&(l[b]=[]);var L=o[v.source],F=o[v.target];if(t===1)l[b].push({x:L.x,y:L.y}),l[b].push({x:.5*(L.x+F.x),y:.5*(L.y+F.y)}),l[b].push({x:F.x,y:F.y});else{var U=0;!l[b]||l[b]===[]?U=gc({x:L.x,y:L.y},{x:F.x,y:F.y}):U=e.getEdgeLength(l[b]);var rt=U/(t+1),ht=rt,bt=[{x:L.x,y:L.y}];l[b].forEach(function(At,wt){if(wt!==0){for(var kt=gc(At,l[b][wt-1]);kt>ht;){var Ut=ht/kt,Kt={x:l[b][wt-1].x,y:l[b][wt-1].y};Kt.x+=Ut*(At.x-l[b][wt-1].x),Kt.y+=Ut*(At.y-l[b][wt-1].y),bt.push(Kt),kt-=ht,ht=rt}ht-=kt}}),bt.push({x:F.x,y:F.y}),l[b]=bt}}),l},n.prototype.getEdgeLength=function(t){var e=0;return t.forEach(function(r,o){o!==0&&(e+=gc(r,t[o-1]))}),e},n.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),r=e.edges||[],o=t.get("bundleThreshold"),l=t.get("nodeIdMap"),v=t.get("edgeBundles");return v||(v=[]),r.forEach(function(b,L){(!v[L]||v[L]===void 0)&&(v[L]=[])}),r.forEach(function(b,L){var F=l[b.source],U=l[b.target];r.forEach(function(rt,ht){if(!(ht<=L)){var bt=l[rt.source],At=l[rt.target],wt=t.getBundleScore({source:F,target:U},{source:bt,target:At});wt>=o&&(v[L].push(ht),v[ht].push(L))}})}),v},n.prototype.getBundleScore=function(t,e){var r=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=gc({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=gc({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var o=r.getAngleScore(t,e),l=r.getScaleScore(t,e),v=r.getPositionScore(t,e),b=r.getVisibilityScore(t,e);return o*l*v*b},n.prototype.getAngleScore=function(t,e){var r=ME({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return r/(t.length*e.length)},n.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2,o=2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r);return o},n.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2,o={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},l={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},v=gc(o,l);return r/(r+v)},n.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),o=this.getEdgeVisibility(e,t);return r<o?r:o},n.prototype.getEdgeVisibility=function(t,e){var r=m0(e.source,t),o=m0(e.target,t),l={x:(r.x+o.x)/2,y:(r.y+o.y)/2},v={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*gc(l,v)/gc(r,o))},n.prototype.getEdgeForces=function(t,e,r,o){for(var l=this,v=l.get("edgePoints"),b=l.get("K"),L=b/(gc(t.source,t.target)*(r+1)),F=[{x:0,y:0}],U=1;U<r;U++){var rt={x:0,y:0},ht=l.getSpringForce({pre:v[e][U-1],cur:v[e][U],next:v[e][U+1]},L),bt=l.getElectrostaticForce(U,e);rt.x=o*(ht.x+bt.x),rt.y=o*(ht.y+bt.y),F.push(rt)}return F.push({x:0,y:0}),F},n.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,o=t.pre.y+t.next.y-2*t.cur.y;return r*=e,o*=e,{x:r,y:o}},n.prototype.getElectrostaticForce=function(t,e){var r=this,o=r.get("eps"),l=r.get("edgeBundles"),v=r.get("edgePoints"),b=l[e],L={x:0,y:0};return b.forEach(function(F){var U={x:v[F][t].x-v[e][t].x,y:v[F][t].y-v[e][t].y};if(Math.abs(U.x)>o||Math.abs(U.y)>o){var rt=gc(v[F][t],v[e][t]),ht=1/rt;L.x+=U.x*ht,L.y+=U.y*ht}}),L},n.prototype.isTicking=function(){return this.get("ticking")},n.prototype.getSimulation=function(){return this.get("forceSimulation")},n.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),u.prototype.destroy.call(this)},n}(fl),DE=TE,PE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mg=function(){return Mg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Mg.apply(this,arguments)},Hv=.05,b0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},IE=function(u){PE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(y.e)(b0),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},n.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},n.prototype.createDelegate=function(t){var e=this,r=this,o=r.get("delegate");(!o||o.destroyed)&&(r.magnify(t),o=r.get("delegate"),o.on("dragstart",function(l){r.set("delegateCenterDiff",{x:o.attr("x")-l.x,y:o.attr("y")-l.y})}),o.on("drag",function(l){r.magnify(l)}),this.get("scaleDBy")==="wheel"&&o.on("mousewheel",function(l){e.scaleDByWheel(l)}),this.get("scaleRBy")==="wheel"&&o.on("mousewheel",function(l){r.scaleRByWheel(l)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),o,l=e.get("delegate"),v=l?{x:l.attr("x"),y:l.attr("y")}:void 0,b=v||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-Hv:o=1/(1-Hv);var L=e.get("maxR"),F=e.get("minR"),U=e.get("r");(U>(L||r.get("height"))&&o>1||U<(F||r.get("height")*.05)&&o<1)&&(o=1),U*=o,e.set("r",U),e.set("r2",U*U);var rt=e.get("d");e.set("molecularParam",(rt+1)*U),e.set("delegateCenterDiff",void 0),e.magnify(t,b)}},n.prototype.scaleRByDrag=function(t){var e=this;if(!!t){var r=e.get("dragPrePos"),o=e.get("graph"),l,v=o.getPointByClient(t.clientX,t.clientY);t.x-r.x<0?l=1-Hv:l=1/(1-Hv);var b=e.get("maxR"),L=e.get("minR"),F=e.get("r");(F>(b||o.get("height"))&&l>1||F<(L||o.get("height")*.05)&&l<1)&&(l=1),F*=l,e.set("r",F),e.set("r2",F*F);var U=e.get("d");e.set("molecularParam",(U+1)*F),e.magnify(t,v),e.set("dragPrePos",{x:t.x,y:t.y})}},n.prototype.scaleDByWheel=function(t){var e=this;if(!(!t&&!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=0;t.originalEvent.wheelDelta<0?r=-.1:r=.1;var o=e.get("d"),l=o+r,v=e.get("maxD"),b=e.get("minD");if(l<v&&l>b){e.set("d",l);var L=e.get("r");e.set("molecularParam",(l+1)*L);var F=e.get("delegate"),U=F?{x:F.attr("x"),y:F.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,U)}}},n.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),o=t.x-r.x>0?.1:-.1,l=e.get("d"),v=l+o,b=e.get("maxD"),L=e.get("minD");if(v<b&&v>L){e.set("d",v);var F=e.get("r");e.set("molecularParam",(v+1)*F),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},n.prototype.magnify=function(t,e){var r=this;r.restoreCache();var o=r.get("graph"),l=r.get("cachedMagnifiedModels"),v=r.get("cachedOriginPositions"),b=r.get("showLabel"),L=r.get("r"),F=r.get("r2"),U=r.get("d"),rt=r.get("molecularParam"),ht=o.getNodes(),bt=ht.length,At=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};r.get("dragging")&&(r.get("trigger")==="mousemove"||r.get("trigger")==="click")&&(At=r.get("cacheCenter"));var wt=r.get("delegateCenterDiff");wt&&(At.x+=wt.x,At.y+=wt.y),r.updateDelegate(At,L);for(var kt=0;kt<bt;kt++){var Ut=ht[kt].getModel(),Kt=Ut.x,qt=Ut.y;if(!(isNaN(Kt)||isNaN(qt))){var ne=(Kt-At.x)*(Kt-At.x)+(qt-At.y)*(qt-At.y);if(!isNaN(ne)&&ne<F&&ne!==0){var ye=Math.sqrt(ne),xe=rt*ye/(U*ye+L),je=(Kt-At.x)/ye,We=(qt-At.y)/ye;if(Ut.x=je*xe+At.x,Ut.y=We*xe+At.y,v[Ut.id]||(v[Ut.id]={x:Kt,y:qt,texts:[]}),l.push(Ut),b&&2*ye<L)for(var Be=ht[kt],qe=Be.getContainer(),sr=qe.getChildren(),hn=sr.length,dn=0;dn<hn;dn++){var vn=sr[dn];vn.get("type")==="text"&&(v[Ut.id].texts.push({visible:vn.get("visible"),shape:vn}),vn.set("visible",!0))}}}}o.refreshPositions()},n.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),o=e.length,l=0;l<o;l++){var v=e[l],b=v.id,L=r[b];v.x=L.x,v.y=L.y;for(var F=L.texts.length,U=0;U<F;U++){var rt=L.texts[U];rt.shape.set("visible",rt.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},n.prototype.updateParams=function(t){var e=this,r=t.r,o=t.d,l=t.trigger,v=t.minD,b=t.maxD,L=t.minR,F=t.maxR,U=t.scaleDBy,rt=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(o)||e.set("d",o),isNaN(b)||e.set("maxD",b),isNaN(v)||e.set("minD",v),isNaN(F)||e.set("maxR",F),isNaN(L)||e.set("minR",L);var ht=e.get("d"),bt=e.get("r");if(e.set("molecularParam",(ht+1)*bt),(l==="mousemove"||l==="click"||l==="drag")&&e.set("trigger",l),U==="drag"||U==="wheel"||U==="unset"){e.set("scaleDBy",U),e.get("delegate").remove(),e.get("delegate").destroy();var At=e.get("dPercentText");At&&(At.remove(),At.destroy())}if(rt==="drag"||rt==="wheel"||rt==="unset"){e.set("scaleRBy",rt),e.get("delegate").remove(),e.get("delegate").destroy();var At=e.get("dPercentText");At&&(At.remove(),At.destroy())}},n.prototype.updateDelegate=function(t,e){var r=this,o=this,l=o.get("graph"),v=o.get("delegate");if(!v||v.destroyed){var b=l.get("group"),L=o.get("delegateStyle")||b0;v=b.addShape("circle",{attrs:Mg({r:e/1.5,x:t.x,y:t.y},L),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&(this.get("scaleRBy")==="wheel"?v.on("mousewheel",function(bt){o.scaleRByWheel(bt)}):this.get("scaleRBy")==="drag"&&(v.on("dragstart",function(bt){o.set("dragging",!0),o.set("cacheCenter",{x:bt.x,y:bt.y}),o.set("dragPrePos",{x:bt.x,y:bt.y})}),v.on("drag",function(bt){o.scaleRByDrag(bt)}),v.on("dragend",function(bt){o.set("dragging",!1)})),this.get("scaleDBy")==="wheel"?v.on("mousewheel",function(bt){r.scaleDByWheel(bt)}):this.get("scaleDBy")==="drag"&&(v.on("dragstart",function(bt){o.set("dragging",!0),o.set("cacheCenter",{x:bt.x,y:bt.y}),o.set("dragPrePos",{x:bt.x,y:bt.y})}),v.on("drag",function(bt){r.scaleDByDrag(bt)}),v.on("dragend",function(bt){o.set("dragging",!1)})))}else v.attr({x:t.x,y:t.y,r:e/1.5});if(o.get("showDPercent")){var F=Math.round((o.get("d")-o.get("minD"))/(o.get("maxD")-o.get("minD"))*100),U=o.get("dPercentText"),rt=t.y+e/1.5+16;if(!U||U.destroyed){var ht=l.get("group");U=ht.addShape("text",{attrs:{text:F+"%",x:t.x,y:rt,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),o.set("dPercentText",U)}else U.attr({text:F+"%",x:t.x,y:rt})}o.set("delegate",v)},n.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(fl),jE=IE,LE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),E0=.05;Ag()(`
  .g6-component-toolbar {
    position: absolute;
    list-style-type: none;
    padding: 6px;
    left: 0px;
    top: 0px;
    background-color: rgba(255, 255, 255, 0.9);
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    margin: 0;
  }
  .g6-component-toolbar li {
    float: left;
    text-align: center;
    width: 35px;
    height: 24px;
    cursor: pointer;
		list-style-type:none;
    list-style: none;
    margin-left: 0px;
  }
  .g6-component-toolbar li .icon {
    opacity: 0.7;
  }
  .g6-component-toolbar li .icon:hover {
    opacity: 1;
  }
`);var BE=function(n){if(!n)return[];if(n.composedPath)return n.composedPath();for(var t=[],e=n.target;e;){if(t.push(e),e.tagName==="HTML")return t.push(document,window),t;e=e.parentElement}return t},wE=function(u){LE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{handleClick:void 0,getContent:function(e){return`
          <ul class='g6-component-toolbar'>
            <li code='redo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>
              </svg>
            </li>
            <li code='undo'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>
              </svg>
            </li>
            <li  code='zoomOut'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>
              </svg>
            </li>
            <li code='zoomIn'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>
              </svg>
            </li>
            <li code='realZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>
              </svg>
            </li>
            <li code='autoZoom'>
              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">
                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>
              </svg>
            </li>
          </ul>
        `},zoomSensitivity:2}},n.prototype.init=function(){var t=this,e=this.get("graph"),r=this.get("getContent"),o=r(e),l=o;Object(y.O)(o)&&(l=Object(Va.b)(o));var v=this.get("className");l.setAttribute("class",v||"g6-component-toolbar");var b=this.get("container");b||(b=this.get("graph").get("container")),Object(y.O)(b)&&(b=document.getElementById(b)),b.appendChild(l),this.set("toolBar",l);var L=this.get("handleClick");l.addEventListener("click",function(U){var rt=BE(U).filter(function(bt){return bt.nodeName==="LI"});if(rt.length!==0){var ht=rt[0].getAttribute("code");!ht||(L?L(ht,e):t.handleDefaultOperator(ht,e))}});var F=this.get("position");F&&Object(Va.e)(l,{top:F.y+"px",left:F.x+"px"}),this.bindUndoRedo()},n.prototype.bindUndoRedo=function(){var t=this.get("graph"),e=document.querySelector('.g6-component-toolbar li[code="undo"]'),r=document.querySelector('.g6-component-toolbar li[code="undo"] svg'),o=document.querySelector('.g6-component-toolbar li[code="redo"]'),l=document.querySelector('.g6-component-toolbar li[code="redo"] svg');!e||!r||!o||!l||t.on("stackchange",function(v){var b=v.undoStack,L=v.redoStack,F=b.length,U=L.length;F===1?(e.setAttribute("style","cursor: not-allowed"),r.setAttribute("style","opacity: 0.4")):(e.removeAttribute("style"),r.removeAttribute("style")),U===0?(o.setAttribute("style","cursor: not-allowed"),l.setAttribute("style","opacity: 0.4")):(o.removeAttribute("style"),l.removeAttribute("style"))})},n.prototype.undo=function(){var t=this.get("graph"),e=t.getUndoStack();if(!(!e||e.length===1)){var r=e.pop();if(r){var o=r.action;t.pushStack(o,Object(y.e)(r.data),"redo");var l=r.data.before;if(o==="add"&&(l=r.data.after),!l)return;switch(o){case"visible":{Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){var F=t.findById(L.id);L.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){t.updateItem(L.id,L,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":{Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){var F=L.itemType;delete L.itemType,t.addItem(F,L,!1)})});break}case"add":Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){t.removeItem(L.id,!1)})});break;case"updateComboTree":Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){t.updateComboTree(L.id,L.parentId,!1)})});break;default:}}}},n.prototype.redo=function(){var t=this.get("graph"),e=t.getRedoStack();if(!(!e||e.length===0)){var r=e.pop();if(r){var o=r.action,l=r.data.after;if(t.pushStack(o,Object(y.e)(r.data)),o==="delete"&&(l=r.data.before),!l)return;switch(o){case"visible":{Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){var F=t.findById(L.id);L.visible?t.showItem(F,!1):t.hideItem(F,!1)})});break}case"render":case"update":Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){t.updateItem(L.id,L,!1)})});break;case"changedata":t.changeData(l,!1);break;case"delete":l.edges&&l.edges.forEach(function(v){t.removeItem(v.id,!1)}),l.nodes&&l.nodes.forEach(function(v){t.removeItem(v.id,!1)}),l.combos&&l.combos.forEach(function(v){t.removeItem(v.id,!1)});break;case"add":{Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){var F=L.itemType;delete L.itemType,t.addItem(F,L,!1)})});break}case"updateComboTree":Object.keys(l).forEach(function(v){var b=l[v];!b||b.forEach(function(L){t.updateComboTree(L.id,L.parentId,!1)})});break;default:}}}},n.prototype.handleDefaultOperator=function(t,e){var r=e.getZoom();switch(t){case"redo":this.redo();break;case"undo":this.undo();break;case"zoomOut":{var o=1/(1-E0*this.get("zoomSensitivity")),l=this.get("maxZoom")||e.get("maxZoom");if(o*r>l)return;e.zoomTo(r*o);break}case"zoomIn":{var v=1-E0*this.get("zoomSensitivity"),b=this.get("minZoom")||e.get("minZoom");if(v*r<b)return;e.zoomTo(r*v);break}case"realZoom":e.zoomTo(1);break;case"autoZoom":e.fitView([20,20]);break;default:}},n.prototype.destroy=function(){var t=this.get("toolBar");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(y.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}var r=this.get("handleClick");r&&t.removeEventListener("click",r)},n}(fl),RE=wE,FE=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();Ag()(`
  .g6-component-tooltip {
    border: 1px solid #e2e2e2;
    border-radius: 4px;
    font-size: 12px;
    color: #545454;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 10px 8px;
    box-shadow: rgb(174, 174, 174) 0px 0px 10px;
  }
  .tooltip-type {
    padding: 0;
    margin: 0;
  }
  .tooltip-id {
    color: #531dab;
  }
`);var NE=function(u){FE(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{offsetX:6,offsetY:6,getContent:function(e){return`
          <h4 class='tooltip-type'>\u7C7B\u578B\uFF1A`+e.item.getType()+`</h4>
          <span class='tooltip-id'>ID\uFF1A`+e.item.getID()+`</span>
        `},shouldBegin:function(e){return!0},itemTypes:["node","edge","combo"],trigger:"mouseenter",fixToNode:void 0}},n.prototype.getEvents=function(){return this.get("trigger")==="click"?{"node:click":"onClick","edge:click":"onClick","combo:click":"onClick","canvas:click":"onMouseLeave",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave",drag:"onMouseLeave"}:{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove","edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove","combo:mouseenter":"onMouseEnter","combo:mouseleave":"onMouseLeave","combo:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave",contextmenu:"onMouseLeave","node:drag":"onMouseLeave"}},n.prototype.init=function(){var t=this.get("className")||"g6-component-tooltip",e=Object(Va.b)("<div class="+t+"></div>"),r=this.get("container");r||(r=this.get("graph").get("container")),Object(y.O)(r)&&(r=document.getElementById(r)),Object(Va.e)(e,{position:"absolute",visibility:"hidden",display:"none"}),r.appendChild(e),this.set("tooltip",e)},n.prototype.onClick=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,o=this.get("graph");this.currentTarget===r?(this.currentTarget=null,this.hideTooltip(),o.emit("tooltipchange",{item:t.item,action:"hide"})):(this.currentTarget=r,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"}))}},n.prototype.onMouseEnter=function(t){var e=this.get("itemTypes");if(!(t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=t.item,o=this.get("graph");this.currentTarget=r,this.showTooltip(t),o.emit("tooltipchange",{item:t.item,action:"show"})}},n.prototype.onMouseMove=function(t){var e=this.get("itemTypes");t.item&&t.item.getType&&e.indexOf(t.item.getType())===-1||!this.currentTarget||t.item!==this.currentTarget||this.showTooltip(t)},n.prototype.onMouseLeave=function(){this.hideTooltip();var t=this.get("graph");t.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null},n.prototype.showTooltip=function(t){if(!!t.item){var e=this.get("itemTypes");if(!(t.item.getType&&e.indexOf(t.item.getType())===-1)){var r=this.get("tooltip"),o=this.get("getContent"),l=o(t);Object(y.O)(l)?r.innerHTML=l:r.innerHTML=l.outerHTML,this.updatePosition(t)}}},n.prototype.hideTooltip=function(){var t=this.get("tooltip");t&&Object(Va.e)(t,{visibility:"hidden",display:"none"})},n.prototype.updatePosition=function(t){var e=this.get("shouldBegin"),r=this.get("tooltip");if(!e(t)){Object(Va.e)(r,{visibility:"hidden",display:"none"});return}var o=this.get("graph"),l=o.get("width"),v=o.get("height"),b=this.get("offsetX")||0,L=this.get("offsetY")||0,F=o.getPointByClient(t.clientX,t.clientY),U=this.get("fixToNode"),rt=t.item;if(rt.getType&&rt.getType()==="node"&&U&&Object(y.B)(U)&&U.length>=2){var ht=rt.getBBox();F={x:ht.minX+ht.width*U[0],y:ht.minY+ht.height*U[1]}}var bt=o.getCanvasByPoint(F.x,F.y),At=bt.x,wt=bt.y,kt=o.getContainer(),Ut={x:At+kt.offsetLeft+b,y:wt+kt.offsetTop+L};Object(Va.e)(r,{visibility:"visible",display:"unset"});var Kt=r.getBoundingClientRect();At+Kt.width+b>l&&(Ut.x-=Kt.width+b),wt+Kt.height+L>v&&(Ut.y-=Kt.height+L),Object(Va.e)(r,{left:Ut.x+"px",top:Ut.y+"px"})},n.prototype.hide=function(){this.onMouseLeave()},n.prototype.destroy=function(){var t=this.get("tooltip");if(t){var e=this.get("container");e||(e=this.get("graph").get("container")),Object(y.O)(e)&&(e=document.getElementById(e)),e.removeChild(t)}},n}(fl),GE=NE,Hd=a("8vsG"),UE=function(u,n){for(var t=0,e=n.length,r=u.length;t<e;t++,r++)u[r]=n[t];return u};function WE(u){return Object(y.U)(u,function(n,t){var e=t===0?"M":"L",r=n[0],o=n[1];return[e,r,o]})}function O0(u){return WE(u)}function zE(u){if(u.length<=2)return O0(u);var n=[];Object(y.j)(u,function(l){Object(y.G)(l,n.slice(n.length-2))||n.push(l[0],l[1])});var t=Iu.a(n,!1),e=Object(y.y)(u),r=e[0],o=e[1];return t.unshift(["M",r,o]),t}function kE(u,n,t,e){e===void 0&&(e=!0);var r=new Hd.b({values:u}),o=new Hd.a({values:Object(y.U)(u,function(v,b){return b})}),l=Object(y.U)(u,function(v,b){return[o.scale(b)*n,t-r.scale(v)*t]});return e?zE(l):O0(l)}function VE(u,n,t){for(var e=new Hd.b({values:u}),r=new Hd.a({values:Object(y.U)(u,function(U,rt){return rt})}),o=Object(y.U)(u,function(U,rt){return[r.scale(rt)*n,t-e.scale(U)*t]}),l=[],v=0;v<o.length;v++){var b=o[v],L={x:b[0],y:b[1],y0:t,size:5},F=YE(L);l.push.apply(l,F)}return KE(l)}function HE(u,n){var t=new Hd.b({values:u}),e=Math.max(0,t.min);return n-t.scale(e)*n}function XE(u,n,t,e){var r=UE([],u),o=HE(e,t);return r.push(["L",n,o]),r.push(["L",0,o]),r.push(["Z"]),r}function YE(u){var n=u.x,t=u.y,e=u.y0,r=u.size,o,l;Object(y.B)(t)?(o=t[0],l=t[1]):(o=e,l=t);var v,b;Object(y.B)(n)?(v=n[0],b=n[1]):(v=n-r/2,b=n+r/2);var L=[{x:v,y:o},{x:v,y:l}];return L.push({x:b,y:l},{x:b,y:o}),L}function KE(u,n){n===void 0&&(n=!0);var t=[],e=u[0];t.push(["M",e.x,e.y]);for(var r=1,o=u.length;r<o;r++)t.push(["L",u[r].x,u[r].y]);return n&&(t.push(["L",e.x,e.y]),t.push(["z"])),t}var Xd=function(){return Xd=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Xd.apply(this,arguments)},$E={stroke:"#C5C5C5",strokeOpacity:.85},ZE={fill:"#CACED4",opacity:.85},QE=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,o=r===void 0?0:r,l=n.width,v=l===void 0?200:l,b=n.height,L=b===void 0?26:b,F=n.smooth,U=F===void 0?!0:F,rt=n.isArea,ht=rt===void 0?!1:rt,bt=n.data,At=bt===void 0?[]:bt,wt=n.lineStyle,kt=n.areaStyle,Ut=n.group,Kt=n.interval,qt=Kt===void 0?null:Kt;this.group=Ut,this.x=e,this.y=o,this.width=v,this.height=L,this.data=At,this.smooth=U,this.isArea=ht,this.lineStyle=Object.assign({},$E,wt),this.areaStyle=Object.assign({},ZE,kt),this.intervalConfig=qt,this.renderLine()}return u.prototype.renderLine=function(){var n=this,t=n.x,e=n.y,r=n.width,o=n.height,l=n.data,v=n.smooth,b=n.isArea,L=n.lineStyle,F=n.areaStyle,U=this.group.addGroup({name:"trend-group"});if(l){var rt=kE(l,r,o,v);if(U.addShape("path",{attrs:Xd({path:rt},L)}),b){var ht=XE(rt,r,o,l);U.addShape("path",{attrs:Xd({path:ht},F)})}}this.intervalConfig&&U.addShape("path",{attrs:Xd({path:VE(this.intervalConfig.data,r,o)},this.intervalConfig.style)}),U.move(t,e)},u.prototype.destory=function(){this.group.destroy()},u}(),JE=QE,ad=function(){return ad=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},ad.apply(this,arguments)},_E={fill:"#1890ff",stroke:"#1890ff",type:"trend",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#0050b3"},qE={fill:"#fff",stroke:"#1890ff",radius:2,opacity:1,cursor:"ew-resize"},tO=function(){function u(n){var t=n.group,e=n.name,r=n.type,o=n.x,l=o===void 0?0:o,v=n.y,b=v===void 0?0:v,L=n.width,F=L===void 0?2:L,U=n.height,rt=U===void 0?24:U,ht=n.style,bt=ht===void 0?{}:ht;this.group=t,this.name=e,this.handleType=r,this.x=l,this.y=b,this.width=F,this.height=rt,r==="trend"?this.style=ad(ad({},_E),bt):r==="simple"&&(this.style=ad(ad({},qE),bt)),this.renderHandle()}return u.prototype.setX=function(n){this.setXY(n,void 0)},u.prototype.setY=function(n){this.setXY(void 0,n)},u.prototype.setXY=function(n,t){Object(y.K)(n)&&(this.x=n),Object(y.K)(t)&&(this.y=t),this.updateXY()},u.prototype.renderHandle=function(){var n=this,t=n.width,e=n.height,r=n.style,o=n.name,l=r.fill,v=r.stroke,b=r.radius,L=r.opacity,F=r.cursor;this.handleGroup=this.group.addGroup(),this.handleType==="trend"?(this.verticalLine=this.handleGroup.addShape("rect",{attrs:{x:0,y:0,width:t,height:e,fill:l,stroke:v,radius:b,opacity:L,cursor:F},name:o+"-handler"}),this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:0,r:2*t,fill:l,stroke:v,radius:b,opacity:L,cursor:F},name:o+"-handler"}),this.bottomCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e,r:2*t,fill:l,stroke:v,radius:b,opacity:L,cursor:F},name:o+"-handler"})):this.handleType==="simple"&&(this.topCircle=this.handleGroup.addShape("circle",{attrs:{x:t/2,y:e/2,r:2*t,fill:l,stroke:v,radius:b,opacity:L,cursor:F,lineWidth:2},name:o+"-handler"})),this.updateXY(),this.handleType==="trend"?this.bindTrendEvents():this.handleType==="simple"&&this.bindSimpleEvents()},u.prototype.bindSimpleEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.topCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.topCircle.attr("fill",e)})},u.prototype.bindTrendEvents=function(){var n=this,t=this.name;this.handleGroup.on(t+"-handler:mouseenter",function(){var e=n.style.highLightFill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)}),this.handleGroup.on(t+"-handler:mouseleave",function(){var e=n.style.fill;n.verticalLine.attr("fill",e),n.topCircle.attr("fill",e),n.bottomCircle.attr("fill",e)})},u.prototype.show=function(){this.handleGroup.show()},u.prototype.hide=function(){this.handleGroup.hide()},u.prototype.updateXY=function(){this.handleGroup.setMatrix([1,0,0,0,1,0,this.x,this.y,1])},u}(),x0=tO,C0="timebarstartplay",A0="timebarendplay",pc="valuechange",ph="timebarConfigChanged",wf="playPauseBtn",Yd="nextStepBtn",Kd="preStepBtn",Tg=function(){return Tg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Tg.apply(this,arguments)},eO=function(){function u(n){this.config=Object(y.h)({},n),this.init()}return u.prototype.update=function(n){this.config=Object(y.h)({},this.config,n),this.updateElement(),this.renderMarker()},u.prototype.init=function(){this.initElement(),this.renderMarker()},u.prototype.initElement=function(){var n=this.config,t=n.group,e=n.style,r=e.scale,o=r===void 0?1:r,l=e.offsetX,v=l===void 0?0:l,b=e.offsetY,L=b===void 0?0:b,F=this.config.x+v,U=this.config.y+L,rt=t.addGroup({name:wf});this.startMarkerGroup=rt.addGroup({name:wf}),this.circle=t.addShape("circle",{attrs:Tg({x:F,y:U,r:this.config.r*o},e),name:wf}),this.startMarker=this.startMarkerGroup.addShape("path",{attrs:{path:this.getStartMarkerPath(F,U,o),fill:e.stroke||"#aaa"}}),this.pauseMarkerGroup=rt.addGroup({name:wf});var ht=.25*this.config.r*o,bt=.5*this.config.r*Math.sqrt(3)*o;this.pauseLeftMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:F-.375*this.config.r*o,y:U-bt/2,width:ht,height:bt,fill:e.stroke||"#aaa",lineWidth:0}}),this.pauseRightMarker=this.pauseMarkerGroup.addShape("rect",{attrs:{x:F+1/8*this.config.r*o,y:U-bt/2,width:ht,height:bt,fill:e.stroke||"#aaa",lineWidth:0}})},u.prototype.updateElement=function(){var n=this.config.style,t=n.scale,e=t===void 0?1:t,r=n.offsetX,o=r===void 0?0:r,l=n.offsetY,v=l===void 0?0:l,b=this.config.x+o,L=this.config.y+v;this.circle.attr("x",b),this.circle.attr("y",L),this.circle.attr("r",this.config.r*e),this.startMarker.attr("path",this.getStartMarkerPath(b,L,e));var F=.25*this.config.r*e,U=.5*this.config.r*Math.sqrt(3)*e;this.pauseLeftMarker.attr("x",b-(1/4+1/8)*this.config.r*e),this.pauseLeftMarker.attr("y",L-U/2),this.pauseLeftMarker.attr("width",F),this.pauseLeftMarker.attr("height",U),this.pauseRightMarker.attr("x",b+1/8*this.config.r*e),this.pauseRightMarker.attr("y",L-U/2),this.pauseRightMarker.attr("width",F),this.pauseRightMarker.attr("height",U)},u.prototype.renderMarker=function(){this.config.isPlay?(this.startMarkerGroup.hide(),this.pauseMarkerGroup.show()):(this.startMarkerGroup.show(),this.pauseMarkerGroup.hide())},u.prototype.getStartMarkerPath=function(n,t,e){var r=.5*this.config.r*Math.sqrt(3)*e;return[["M",n-r/Math.sqrt(3)/2,t-r/2],["L",n+r/Math.sqrt(3),t],["L",n-r/Math.sqrt(3)/2,t+r/2]]},u}(),rO=eO,js=function(){return js=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},js.apply(this,arguments)},$d=O.transform,nO="#aaa",aO="green",iO={fill:"#aaa",fillOpacity:.35,stroke:"#aaa"},oO={fill:"#fff"},sO={fill:"green"},S0={pointer:{fill:"#aaa",lineWidth:0},scroller:{stroke:"#aaa",fill:"#aaa",lineWidth:1,lineAppendWidth:5,cursor:"pointer"},text:{fill:"#aaa",textBaseline:"top"}},M0={check:{stroke:"green",lineWidth:3},box:{fill:"#fff",stroke:"#aaa",lineWidth:2,radius:3,width:12,height:12},text:{fill:"#aaa",fontSize:12,textBaseline:"top"}},uO={speed:1,loop:!1,fill:"#fff",stroke:"#fff",hideTimeTypeController:!1,preBtnStyle:{fill:"#aaa",stroke:"#aaa"},nextBtnStyle:{fill:"#aaa",stroke:"#aaa"},playBtnStyle:{fill:"#aaa",stroke:"#aaa",fillOpacity:.05},speedControllerStyle:S0,timeTypeControllerStyle:M0},Dg=110,Rf=50,lO=function(){function u(n){this.controllerCfg=Object(y.h)({},uO,n),this.group=n.group,this.controllerGroup=this.group.addGroup({name:"controller-group"}),this.speedAxisY=[],this.currentSpeed=this.controllerCfg.speed,this.currentType="range",this.fontFamily=n.fontFamily||"Arial, sans-serif",this.init()}return u.prototype.init=function(){this.renderPlayButton()},u.prototype.getNextMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n+e,t],["L",n,t+e],["Z",n,t-e],["M",n,t],["L",n-e,t-e],["L",n-e,t+e],["Z"]]},u.prototype.getPreMarkerPath=function(n,t,e){return[["M",n,t-e],["L",n-e,t],["L",n,t+e],["L",n,t-e],["M",n,t],["L",n+e,t-e],["L",n+e,t+e],["Z"]]},u.prototype.renderPlayButton=function(){var n=this.controllerCfg,t=n.width,e=n.height,r=n.x,o=n.y,l=n.hideTimeTypeController,v=n.fill,b=v===void 0?nO:v,L=n.stroke,F=L===void 0?aO:L,U=js(js({},iO),n.playBtnStyle||{}),rt=js(js({},oO),n.preBtnStyle||{}),ht=js(js({},sO),n.nextBtnStyle||{}),bt=e/2-5,At=o+10,wt=this.controllerGroup.addShape("rect",{attrs:{x:r,y:At,width:t,height:e,stroke:F,fill:b},name:"container-rect"});this.playButton?this.playButton.update({x:t/2,y:At,r:bt}):this.playButton=new rO({group:this.controllerGroup,x:t/2,y:At+bt+5,r:bt,isPlay:this.isPlay,style:U});var kt=rt.offsetX||0,Ut=rt.offsetY||0,Kt=(rt.scale||1)*bt;this.controllerGroup.addShape("path",{attrs:js({path:this.getPreMarkerPath(t/2-5*bt+kt,At+bt+5+Ut,Kt*.5)},rt),name:Kd});var qt=ht.offsetX||0,ne=ht.offsetY||0,ye=(ht.scale||1)*bt;this.controllerGroup.addShape("path",{attrs:js({path:this.getNextMarkerPath(t/2+5*bt+qt,At+bt+5+ne,ye*.5)},ht),name:Yd}),wt.toBack(),this.renderSpeedBtn(),l||this.renderToggleTime(),this.bindEvent();var xe=this.controllerCfg.scale,je=xe===void 0?1:xe,We=this.controllerGroup.getCanvasBBox(),Be=(We.maxX+We.minX)/2,qe=(We.maxY+We.minY)/2,sr=$d([1,0,0,0,1,0,0,0,1],[["t",-Be,-qe],["s",je,je],["t",Be,qe]]);this.controllerGroup.setMatrix(sr)},u.prototype.renderSpeedBtn=function(){var n=this.controllerCfg,t=n.y,e=n.width,r=n.hideTimeTypeController,o=js(js({},S0),this.controllerCfg.speedControllerStyle||{}),l=o.scroller,v=l===void 0?{}:l,b=o.text,L=b===void 0?{}:b,F=o.pointer,U=F===void 0?{}:F,rt=o.scale,ht=rt===void 0?1:rt,bt=o.offsetX,At=bt===void 0?0:bt,wt=o.offsetY,kt=wt===void 0?0:wt,Ut=this.controllerGroup.addGroup({name:"speed-group"});this.speedGroup=Ut;var Kt=[],qt=5;this.speedAxisY=[19,22,26,32,39];for(var ne=0;ne<5;ne++){var ye=t+this.speedAxisY[ne],xe=e-(r?Rf:Dg);Ut.addShape("line",{attrs:js({x1:xe,x2:xe+15,y1:ye,y2:ye},v),speed:qt,name:"speed-rect"}),this.speedAxisY[ne]=ye,Kt.push(qt),qt=qt-1}this.speedText=Ut.addShape("text",{attrs:js({x:e-(r?Rf:Dg)+20,y:this.speedAxisY[0]+4,text:"1.0X",fontFamily:this.fontFamily||"Arial, sans-serif"},L)}),this.speedPoint=Ut.addShape("path",{attrs:js({path:this.getPointerPath(e-(r?Rf:Dg),0),matrix:[1,0,0,0,1,0,0,this.speedAxisY[4],1]},U)});var je=this.speedGroup.getCanvasBBox(),We=(je.maxX+je.minX)/2,Be=(je.maxY+je.minY)/2,qe=this.speedGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];qe=$d(qe,[["t",-We,-Be],["s",ht,ht],["t",We+At*ht,Be+kt*ht]]),this.speedGroup.setMatrix(qe)},u.prototype.getPointerPath=function(n,t){return[["M",n,t],["L",n-10,t-4],["L",n-10,t+4],["Z"]]},u.prototype.renderToggleTime=function(){var n,t=this.controllerCfg.width,e=js(js({},M0),this.controllerCfg.timeTypeControllerStyle||{}),r=e.scale,o=r===void 0?1:r,l=e.offsetX,v=l===void 0?0:l,b=e.offsetY,L=b===void 0?0:b,F=e.box,U=F===void 0?{}:F,rt=e.check,ht=rt===void 0?{}:rt,bt=e.text,At=bt===void 0?{}:bt;this.toggleGroup=this.controllerGroup.addGroup({name:"toggle-group"}),this.toggleGroup.addShape("rect",{attrs:js({x:t-Rf,y:this.speedAxisY[0]+3.5},U),isChecked:!1,name:"toggle-model"}),this.checkedIcon=this.toggleGroup.addShape("path",{attrs:js({path:[["M",t-Rf+3,this.speedAxisY[1]+6],["L",t-Rf+7,this.speedAxisY[1]+10],["L",t-Rf+12,this.speedAxisY[1]+4]]},ht),capture:!1}),this.checkedIcon.hide(),this.checkedText=this.toggleGroup.addShape("text",{attrs:js({text:((n=this.controllerCfg)===null||n===void 0?void 0:n.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4",x:t-Rf+15,y:this.speedAxisY[0]+4,fontFamily:typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif"},At)});var wt=this.toggleGroup.getCanvasBBox(),kt=(wt.maxX+wt.minX)/2,Ut=(wt.maxY+wt.minY)/2,Kt=this.toggleGroup.getMatrix()||[1,0,0,0,1,0,0,0,1];Kt=$d(Kt,[["t",-kt,-Ut],["s",o,o],["t",kt+v*o,Ut+L*o]]),this.toggleGroup.setMatrix(Kt)},u.prototype.bindEvent=function(){var n=this;this.speedGroup.on("speed-rect:click",function(t){var e=t.target.attr("y1"),r=n.speedPoint.attr("matrix"),o=n.speedAxisY.indexOf(r[7]||0),l=n.speedAxisY.indexOf(e),v=n.speedAxisY[l]-n.speedAxisY[o];r=$d(r,[["t",0,v]]),n.speedPoint.setMatrix(r),n.currentSpeed=n.speedAxisY.length-l,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(ph,{speed:n.currentSpeed,type:n.currentType})}),this.speedGroup.on("mousewheel",function(t){t.preventDefault();var e=n.speedPoint.attr("matrix")||[1,0,0,0,1,0,0,0,1],r=e[7],o=n.speedAxisY.indexOf(r);if(o===-1){var l=Infinity;n.speedAxisY.forEach(function(b,L){var F=Math.abs(b-r);l>F&&(l=F,o=L)})}t.originalEvent.deltaY>0?o=Math.max(0,o-1):o=Math.min(n.speedAxisY.length-1,o+1);var v=n.speedAxisY[o]-r;e=$d(e,[["t",0,v]]),n.speedPoint.setMatrix(e),n.currentSpeed=n.speedAxisY.length-o,n.speedText.attr("text",n.currentSpeed+".0X"),n.group.emit(ph,{speed:n.currentSpeed,type:n.currentType})}),this.toggleGroup&&this.toggleGroup.on("toggle-model:click",function(t){var e,r,o=t.target.get("isChecked");o?(n.checkedIcon.hide(),n.checkedText.attr("text",((r=n.controllerCfg)===null||r===void 0?void 0:r.timePointControllerText)||"\u5355\u4E00\u65F6\u95F4"),n.currentType="range"):(n.checkedIcon.show(),n.checkedText.attr("text",((e=n.controllerCfg)===null||e===void 0?void 0:e.timeRangeControllerText)||"\u65F6\u95F4\u8303\u56F4"),n.currentType="single"),t.target.set("isChecked",!o),n.group.emit(ph,{type:n.currentType,speed:n.currentSpeed})})},u.prototype.destroy=function(){this.speedGroup.off("speed-rect:click"),this.toggleGroup&&(this.toggleGroup.off("toggle-model:click"),this.toggleGroup.destroy()),this.speedGroup.destroy()},u}(),T0=lO,Ho=function(){return Ho=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Ho.apply(this,arguments)},cO={fill:"#416180",opacity:.05},fO={fill:"#416180",opacity:.15,radius:5},hO={fill:"#5B8FF9",opacity:.3,cursor:"grab"},Pg=2,dO={width:Pg,height:24},vO={textBaseline:"middle",fill:"#000",opacity:.45},gO={textAlign:"center",textBaseline:"top",fill:"#607889",opacity:.35},pO={lineWidth:1,stroke:"#ccc"},yO=function(){function u(n){var t=this;this.prevX=0,this.onMouseDown=function(gn){return function(Jn){t.currentHandler=gn;var Pa=Jn.originalEvent;Pa.stopPropagation(),Pa.preventDefault(),t.prevX=Object(y.s)(Pa,"touches.0.pageX",Pa.pageX);var Cn=t.canvas.get("container");Cn.addEventListener("mousemove",t.onMouseMove),Cn.addEventListener("mouseup",t.onMouseUp),Cn.addEventListener("mouseleave",t.onMouseUp),Cn.addEventListener("touchmove",t.onMouseMove),Cn.addEventListener("touchend",t.onMouseUp),Cn.addEventListener("touchcancel",t.onMouseUp)}},this.onMouseMove=function(gn){gn.stopPropagation(),gn.preventDefault();var Jn=Object(y.s)(gn,"touches.0.pageX",gn.pageX),Pa=Jn-t.prevX,Cn=t.adjustOffsetRange(Pa/t.width);t.updateStartEnd(Cn),t.updateUI(),t.prevX=Jn},this.onMouseUp=function(){t.currentHandler&&(t.currentHandler=void 0);var gn=t.canvas.get("container");gn&&(gn.removeEventListener("mousemove",t.onMouseMove),gn.removeEventListener("mouseup",t.onMouseUp),gn.removeEventListener("mouseleave",t.onMouseUp),gn.removeEventListener("touchmove",t.onMouseMove),gn.removeEventListener("touchend",t.onMouseUp),gn.removeEventListener("touchcancel",t.onMouseUp))};var e=n.x,r=e===void 0?0:e,o=n.y,l=o===void 0?0:o,v=n.width,b=v===void 0?100:v,L=n.height,F=n.padding,U=F===void 0?10:F,rt=n.trendCfg,ht=n.controllerCfg,bt=ht===void 0?{speed:1}:ht,At=n.backgroundStyle,wt=At===void 0?{}:At,kt=n.foregroundStyle,Ut=kt===void 0?{}:kt,Kt=n.handlerStyle,qt=Kt===void 0?{}:Kt,ne=n.textStyle,ye=ne===void 0?{}:ne,xe=n.start,je=xe===void 0?0:xe,We=n.end,Be=We===void 0?1:We,qe=n.minText,sr=qe===void 0?"":qe,hn=n.maxText,dn=hn===void 0?"":hn,vn=n.group,aa=n.graph,ra=n.canvas,Rn=n.tick,Gn=Rn===void 0?{tickLabelStyle:{},tickLineStyle:{},tickLabelFormatter:function(Jn){return Jn},ticks:[]}:Rn,Qn=n.type;this.graph=aa,this.canvas=ra,this.group=vn,this.timeBarType=Qn,this.x=r,this.y=l,this.width=b,this.height=L,this.padding=U,this.ticks=Gn.ticks,this.trendCfg=rt,this.controllerCfg=bt,this.currentSpeed=bt.speed||1,this.tickLabelFormatter=Gn.tickLabelFormatter,Qn==="trend"?this.backgroundStyle=Ho(Ho({},cO),wt):Qn==="simple"&&(this.backgroundStyle=Ho(Ho({},fO),wt)),this.foregroundStyle=Ho(Ho({},hO),Ut),this.handlerStyle=Ho(Ho({},dO),qt),this.textStyle=Ho(Ho({},vO),ye),this.tickLabelStyle=Ho(Ho({},gO),Gn.tickLabelStyle),this.tickLineStyle=Ho(Ho({},pO),Gn.tickLineStyle),this.currentMode="range",this.start=je,this.end=Be,this.minText=sr,this.maxText=dn,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlider()}return u.prototype.update=function(n){var t=n.x,e=n.y,r=n.width,o=n.height,l=n.minText,v=n.maxText,b=n.start,L=n.end;this.start=Math.min(1,Math.max(b,0)),this.end=Math.min(1,Math.max(L,0)),Object(y.b)(this,{x:t,y:e,width:r,height:o,minText:l,maxText:v}),this.updateUI()},u.prototype.setText=function(n,t){this.minTextShape.attr("text",n),this.maxTextShape.attr("text",t)},u.prototype.renderSlider=function(){var n=this,t=this,e=t.width,r=t.height,o=t.timeBarType;if(o==="trend"&&Object(y.jb)(Object(y.s)(this.trendCfg,"data"))){var l=new JE(Ho(Ho({x:this.x,y:this.y,width:e,height:r},this.trendCfg),{group:this.group}));this.trendComponent=l}var v=this.group.addGroup({name:"slider-group"});v.addShape("rect",{attrs:Ho({x:0,y:0,width:e,height:r},this.backgroundStyle)});var b=this.group.addGroup();o==="trend"?(this.minTextShape=b.addShape("text",{attrs:Ho({x:0,y:r/2+this.y,textAlign:"right",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=b.addShape("text",{attrs:Ho({y:r/2+this.y,textAlign:"left",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})):(this.minTextShape=b.addShape("text",{attrs:Ho({x:0,y:this.y-10,textAlign:"center",text:this.minText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1}),this.maxTextShape=b.addShape("text",{attrs:Ho({y:this.y-10,textAlign:"center",text:this.maxText,silent:!1,fontFamily:this.fontFamily||"Arial, sans-serif"},this.textStyle),capture:!1})),this.foregroundShape=this.group.addGroup().addShape("rect",{attrs:Ho({x:0,y:this.y,height:r},this.foregroundStyle)}),this.foregroundShape.on("mousedown",function(wt){wt.target.attr("cursor","grabbing")}),this.foregroundShape.on("mouseup",function(wt){wt.target.attr("cursor",n.foregroundStyle.cursor||"grab")});var L=Object(y.s)(this.handlerStyle,"width",2),F=Object(y.s)(this.handlerStyle,"height",24),U=this.group.addGroup({name:"minHandlerShape"});this.minHandlerShape=new x0({name:"minHandlerShape",group:U,type:o,x:this.x,y:this.y,width:L,height:F,style:this.handlerStyle});var rt=this.group.addGroup({name:"maxHandlerShape"});this.maxHandlerShape=new x0({name:"maxHandlerShape",group:rt,type:o,x:this.x,y:this.y,width:L,height:F,style:this.handlerStyle});var ht=this.ticks,bt=e/(ht.length-1);this.tickPosList=[],this.textList&&this.textList.length&&this.textList.forEach(function(wt){wt.destroy()});var At=-Infinity;this.textList=ht.map(function(wt,kt){n.tickPosList.push(n.x+kt*bt);var Ut;n.tickLabelFormatter?(Ut=n.tickLabelFormatter(wt),!Object(y.O)(Ut)&&Ut&&(Ut=wt.date)):Ut=wt.date;var Kt=n.group.addShape("text",{attrs:Ho({x:n.x+kt*bt,y:n.y+r+5,text:Ut,fontFamily:n.fontFamily||"Arial, sans-serif"},n.tickLabelStyle)}),qt=n.group.addShape("line",{attrs:Ho({x1:n.x+kt*bt,y1:n.y+r+2,x2:n.x+kt*bt,y2:n.y+r+6},n.tickLineStyle)});qt.toBack();var ne=Kt.getBBox();return ne.minX>At?(Kt.show(),qt.show(),At=ne.minX+ne.width+10):(Kt.hide(),qt.hide()),Kt}),this.controllerBtnGroup=new T0(Ho({group:this.group,x:this.x,y:this.y+r+25,width:e,height:35},this.controllerCfg)),this.updateStartEnd(0),this.updateUI(),v.move(this.x,this.y),this.bindEvents()},u.prototype.bindEvents=function(){var n=this,t=this.group.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.on("minHandlerShape-handler:mousedown",this.onMouseDown(this.minHandlerShape)),t.on("minHandlerShape-handler:touchstart",this.onMouseDown(this.minHandlerShape)));var e=this.group.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.on("maxHandlerShape-handler:mousedown",this.onMouseDown(this.maxHandlerShape)),e.on("maxHandlerShape-handler:touchstart",this.onMouseDown(this.maxHandlerShape))),this.foregroundShape.on("mousedown",this.onMouseDown(this.foregroundShape)),this.foregroundShape.on("touchstart",this.onMouseDown(this.foregroundShape)),this.group.on(wf+":click",function(){n.isPlay=!n.isPlay,n.currentHandler=n.maxHandlerShape,n.changePlayStatus()}),this.group.on(Yd+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(.01),n.updateUI()}),this.group.on(Kd+":click",function(){n.currentHandler=n.maxHandlerShape,n.updateStartEnd(-.01),n.updateUI()}),this.group.on(ph,function(r){var o=r.type,l=r.speed;n.currentSpeed=l,n.currentMode=o,o==="single"?(n.minHandlerShape.hide(),n.foregroundShape.hide(),n.minTextShape.hide()):o==="range"&&(n.minHandlerShape.show(),n.foregroundShape.show(),n.minTextShape.show())})},u.prototype.adjustTickIndex=function(n){for(var t=0;t<this.tickPosList.length-1;t++)if(this.tickPosList[t]<=n&&n<=this.tickPosList[t+1])return Math.abs(this.tickPosList[t]-n)<Math.abs(n-this.tickPosList[t+1])?t:t+1;return 0},u.prototype.adjustOffsetRange=function(n){switch(this.currentHandler){case this.minHandlerShape:{var t=0-this.start,e=1-this.start;return Math.min(e,Math.max(t,n))}case this.maxHandlerShape:{var t=0-this.end,e=1-this.end;return Math.min(e,Math.max(t,n))}case this.foregroundShape:{var t=0-this.start,e=1-this.end;return Math.min(e,Math.max(t,n))}default:return 0}},u.prototype.updateStartEnd=function(n){var t=this.ticks[this.adjustTickIndex(this.start*this.width)],e=this.ticks[this.adjustTickIndex(this.end*this.width)];if(!this.currentHandler){this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;return}switch(this.currentHandler){case this.minHandlerShape:this.maxText=this.maxTextShape.attr("text"),this.start+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date;break;case this.maxHandlerShape:this.minText=this.minTextShape.attr("text"),this.end+=n,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;case this.foregroundShape:this.start+=n,this.end+=n,this.minText=this.tickLabelFormatter?this.tickLabelFormatter(t):t.date,this.maxText=this.tickLabelFormatter?this.tickLabelFormatter(e):e.date;break;default:break}},u.prototype.updateUI=function(){var n=this;this.start<0&&(this.start=0),this.end>1&&(this.end=1);var t=this.x+this.start*this.width,e=this.x+this.end*this.width;this.foregroundShape.attr("x",t),this.foregroundShape.attr("width",e-t);var r=Object(y.s)(this.handlerStyle,"width",Pg);this.setText(this.minText,this.maxText);var o=this.dodgeText([t,e]),l=o[0],v=o[1];this.minHandlerShape.setX(t-r/2),Object(y.j)(l,function(b,L){return n.minTextShape.attr(L,b)}),this.maxHandlerShape.setX(e-r/2),Object(y.j)(v,function(b,L){return n.maxTextShape.attr(L,b)}),this.currentMode==="range"?this.graph.emit(pc,{value:[this.start,this.end].sort()}):this.currentMode==="single"&&this.graph.emit(pc,{value:[this.end,this.end]})},u.prototype.dodgeText=function(n){var t,e,r=2,o=Object(y.s)(this.handlerStyle,"width",Pg),l=this.minTextShape,v=this.maxTextShape,b=n[0],L=n[1],F=!1;b>L&&(t=[L,b],b=t[0],L=t[1],e=[v,l],l=e[0],v=e[1],F=!0);var U=l.getBBox(),rt=v.getBBox(),ht=null,bt=null;return this.timeBarType==="trend"?(ht=b-U.width<this.x+r?{x:b+o/2+r,textAlign:"left"}:{x:b-o/2-r,textAlign:"right"},bt=L+rt.width>this.x+this.width?{x:L-o/2-r,textAlign:"right"}:{x:L+o/2+r,textAlign:"left"}):this.timeBarType==="simple"&&(ht=U.width>b-r?{x:b+o/2+r,textAlign:"center"}:{x:b-o/2-r,textAlign:"center"},bt=rt.width>this.width-L-r?{x:L-o/2-r,textAlign:"center"}:{x:L+o/2+r,textAlign:"center"}),F?[bt,ht]:[ht,bt]},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n,e=t.ticks,r=t.width,o=n.currentSpeed,l=r/e.length,v=l/((10-o)*1e3/60),b=n.adjustOffsetRange(v/n.width);n.updateStartEnd(b),n.updateUI(),n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(C0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(A0,null))},u.prototype.destory=function(){this.graph.off(pc);var n=this.group,t=n.find(function(r){return r.get("name")==="minHandlerShape"});t&&(t.off("minHandlerShape-handler:mousedown"),t.off("minHandlerShape-handler:touchstart"),t.destroy());var e=n.find(function(r){return r.get("name")==="maxHandlerShape"});e&&(e.off("maxHandlerShape-handler:mousedown"),e.off("maxHandlerShape-handler:touchstart"),e.destroy()),this.foregroundShape.off("mousedown"),this.foregroundShape.off("touchstart"),this.foregroundShape.destroy(),n.off(wf+":click"),n.off(Yd+":click"),n.off(Kd+":click"),n.off(ph),n.destroy(),this.trendComponent&&this.trendComponent.destory()},u}(),mO=yO,NC={opacity:.5,fill:"#000"},GC={opacity:.5,fill:"#000",r:5},UC={fill:"#fff",fontSize:12},bO=function(){function u(n){var t=n.x,e=t===void 0?0:t,r=n.y,o=r===void 0?0:r,l=n.container,v=n.text,b=n.padding,L=b===void 0?[4,4,4,4]:b,F=n.className,U=F===void 0?"g6-component-timebar-tooltip":F,rt=n.backgroundColor,ht=rt===void 0?"#000":rt,bt=n.textColor,At=bt===void 0?"#fff":bt,wt=n.opacity,kt=wt===void 0?.8:wt,Ut=n.fontSize,Kt=Ut===void 0?12:Ut;this.container=l,this.className=U,this.backgroundColor=ht,this.textColor=At,this.x=e,this.y=o,this.text=v,this.padding=L,this.opacity=kt,this.fontSize=Kt,this.render()}return u.prototype.render=function(){var n=this,t=n.className,e=n.x,r=n.y,o=n.backgroundColor,l=n.textColor,v=n.text,b=n.padding,L=n.opacity,F=n.fontSize,U=n.container,rt=Object(Va.b)("<div class='"+t+`' style="position: absolute; width: fit-content; height: fit-content; opacity: `+L+'"></div>');Object(y.O)(U)&&(U=document.getElementById(U)),U.appendChild(rt),n.parentHeight=U.offsetHeight,n.parentWidth=U.offsetWidth,Object(Va.e)(rt,{visibility:"hidden",top:0,left:0});var ht=Object(Va.b)(`
      <div style='position: absolute; white-space:nowrap; background-color: `+o+"; font-size: "+F+"px; border-radius: 4px; width: fit-content; height: fit-content; color: "+l+"; padding: "+b[0]+"px "+b[1]+"px "+b[2]+"px "+b[3]+"px'></div>");ht.innerHTML=v,rt.appendChild(ht),n.backgroundDOM=ht;var bt=Object(Va.b)("<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid "+o+"'></div>");rt.appendChild(bt),n.arrowDOM=bt,n.container=rt},u.prototype.show=function(n){var t=this,e=n.text,r=n.x,o=n.y,l=n.clientX,v=n.clientY;t.backgroundDOM.innerHTML=e;var b=t.backgroundDOM.offsetWidth,L=t.backgroundDOM.offsetHeight,F=t.arrowDOM.offsetWidth,U=t.arrowDOM.offsetHeight;Object(Va.e)(t.container,{top:-L-U+"px",left:r+"px",visibility:"visible"}),Object(Va.e)(t.backgroundDOM,{marginLeft:-b/2+"px"}),Object(Va.e)(t.arrowDOM,{marginLeft:-F/2+"px",top:L+"px"});var rt=r-b/2,ht=r+b/2;rt<0?Object(Va.e)(t.backgroundDOM,{marginLeft:-b/2-rt+"px"}):ht>t.parentWidth&&Object(Va.e)(t.backgroundDOM,{marginLeft:-b/2-ht+t.parentWidth+12+"px"})},u.prototype.hide=function(){Object(Va.e)(this.container,{top:0,left:0,visibility:"hidden"})},u}(),EO=bO,Ig=function(){return Ig=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Ig.apply(this,arguments)},OO={fill:"#5B8FF9"},xO={fill:"#e6e8e9"},CO=function(){function u(n){this.frameCount=0,this.fontFamily="Arial, sans-serif";var t=n.graph,e=n.canvas,r=n.group,o=n.width,l=n.height,v=n.padding,b=n.data,L=n.start,F=n.end,U=n.x,rt=U===void 0?0:U,ht=n.y,bt=ht===void 0?0:ht,At=n.tickLabelFormatter,wt=n.selectedTickStyle,kt=wt===void 0?OO:wt,Ut=n.unselectedTickStyle,Kt=Ut===void 0?xO:Ut,qt=n.tooltipBackgroundColor,ne=n.tooltipFomatter;this.graph=t,this.group=r,this.sliceGroup=r.addGroup({name:"slice-group"}),this.canvas=e,this.width=o,this.height=l,this.padding=v,this.data=b,this.start=L,this.end=F,this.tickLabelFormatter=At,this.selectedTickStyle=kt,this.unselectedTickStyle=Kt,this.x=rt,this.y=bt,this.tooltipBackgroundColor=qt,this.tooltipFomatter=ne,this.fontFamily=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif",this.renderSlices(),this.initEvent()}return u.prototype.renderSlices=function(){var n=this,t=this,e=t.width,r=t.height,o=t.padding,l=t.data,v=t.start,b=t.end,L=t.tickLabelFormatter,F=t.selectedTickStyle,U=t.unselectedTickStyle,rt=e-2*o,ht=10,bt=4,At=3*o+bt+ht,wt=r-At-2*o,kt=2,Ut=l.length,Kt=(rt-kt*(Ut-1))/Ut;this.tickWidth=Kt;var qt=this.sliceGroup,ne=[],ye=[],xe=Math.round(Ut*v),je=Math.round(Ut*b);this.startTickRectId=xe,this.endTickRectId=je,l.forEach(function(Be,qe){var sr=qe>=xe&&qe<=je,hn=sr?F:U,dn=qt.addShape("rect",{attrs:Ig({x:o+qe*(Kt+kt),y:o,width:Kt,height:wt},hn),draggable:!0,name:"tick-rect-"+qe}),vn=qt.addShape("rect",{attrs:{x:o+qe*Kt+kt*(2*qe-1)/2,y:o,width:qe===0||qe===Ut-1?Kt+kt/2:Kt+kt,height:wt,fill:"#fff",opacity:0},draggable:!0,name:"pick-rect-"+qe});vn.toFront();var aa=dn.getBBox(),ra=(aa.minX+aa.maxX)/2;ne.push({rect:dn,pickRect:vn,value:Be.date,x:ra,y:aa.minY});var Rn;if(L?(Rn=L(Be),!Object(y.O)(Rn)&&Rn&&(Rn=Be.date)):qe%Math.round(Ut/10)==0&&(Rn=Be.date),Rn){ye.push(Rn);var Gn=aa.maxY+o*2;qt.addShape("line",{attrs:{stroke:"#BFBFBF",x1:ra,y1:Gn,x2:ra,y2:Gn+bt}});var Qn=Gn+bt+o,gn=qt.addShape("text",{attrs:{fill:"#8c8c8c",stroke:"#fff",lineWidth:1,x:ra,y:Qn,textAlign:"center",text:Rn,textBaseline:"top",fontSize:10,fontFamily:n.fontFamily||"Arial, sans-serif"},capture:!1}),Jn=gn.getBBox();Jn.maxX>e?gn.attr("textAlign","right"):Jn.minX<0&&gn.attr("textAlign","left")}}),this.tickRects=ne;var We=this.group;this.currentSpeed=1,this.controllerBtnGroup=new T0({group:We,x:this.x,y:this.y+r+5,width:e,height:40,hideTimeTypeController:!0,speed:this.currentSpeed,fontFamily:this.fontFamily||"Arial, sans-serif"})},u.prototype.initEvent=function(){var n=this,t=this.sliceGroup;t.on("click",function(F){var U=F.target;if(!(U.get("type")!=="rect"||!U.get("name"))){var rt=parseInt(U.get("name").split("-")[2],10);if(!isNaN(rt)){var ht=n.tickRects,bt=n.unselectedTickStyle;ht.forEach(function(Ut){Ut.rect.attr(bt)});var At=n.selectedTickStyle;ht[rt].rect.attr(At),n.startTickRectId=rt,n.endTickRectId=rt;var wt=ht.length,kt=rt/wt;n.graph.emit(pc,{value:[kt,kt]})}}}),t.on("dragstart",function(F){var U=n.tickRects,rt=n.unselectedTickStyle;U.forEach(function(Ut){Ut.rect.attr(rt)});var ht=F.target,bt=parseInt(ht.get("name").split("-")[2],10),At=n.selectedTickStyle;U[bt].rect.attr(At),n.startTickRectId=bt;var wt=U.length,kt=bt/wt;n.graph.emit(pc,{value:[kt,kt]}),n.dragging=!0}),t.on("dragover",function(F){if(!!n.dragging&&F.target.get("type")==="rect"){for(var U=parseInt(F.target.get("name").split("-")[2],10),rt=n.startTickRectId,ht=n.tickRects,bt=n.selectedTickStyle,At=n.unselectedTickStyle,wt=0;wt<ht.length;wt++){var kt=wt>=rt&&wt<=U?bt:At;ht[wt].rect.attr(kt)}var Ut=ht.length;n.endTickRectId=U;var Kt=rt/Ut,qt=U/Ut;n.graph.emit(pc,{value:[Kt,qt]})}}),t.on("drop",function(F){if(!!n.dragging&&(n.dragging=!1,F.target.get("type")==="rect")){var U=n.startTickRectId,rt=parseInt(F.target.get("name").split("-")[2],10);if(!(rt<U)){var ht=n.selectedTickStyle,bt=n.tickRects;bt[rt].rect.attr(ht),n.endTickRectId=rt;var At=bt.length,wt=U/At,kt=rt/At;n.graph.emit(pc,{value:[wt,kt]})}}});var e=this,r=e.tooltipBackgroundColor,o=e.tooltipFomatter,l=e.canvas,v=new EO({container:l.get("container"),backgroundColor:r}),b=this.tickRects;b.forEach(function(F){var U=F.pickRect;U.on("mouseenter",function(rt){var ht=rt.target;if(ht.get("type")==="rect"){var bt=parseInt(ht.get("name").split("-")[2],10),At=l.getClientByPoint(b[bt].x,b[bt].y);v.show({x:b[bt].x,y:b[bt].y,clientX:At.x,clientY:At.y,text:o?o(b[bt].value):b[bt].value})}}),U.on("mouseleave",function(rt){v.hide()})});var L=this.group;L.on(wf+":click",function(){n.isPlay=!n.isPlay,n.changePlayStatus()}),L.on(Yd+":click",function(){n.updateStartEnd(1)}),L.on(Kd+":click",function(){n.updateStartEnd(-1)}),L.on(ph,function(F){var U=F.type,rt=F.speed;n.currentSpeed=rt})},u.prototype.changePlayStatus=function(n){n===void 0&&(n=!0),this.controllerBtnGroup.playButton.update({isPlay:this.isPlay}),this.isPlay?(this.playHandler=this.startPlay(),this.graph.emit(C0,null)):this.playHandler&&(typeof window!="undefined"&&window.cancelAnimationFrame(this.playHandler),n&&this.graph.emit(A0,null))},u.prototype.startPlay=function(){var n=this;return typeof window!="undefined"?window.requestAnimationFrame(function(){var t=n.currentSpeed;n.frameCount%(60/t)==0&&(n.frameCount=0,n.updateStartEnd(1)),n.frameCount++,n.isPlay&&(n.playHandler=n.startPlay())}):void 0},u.prototype.updateStartEnd=function(n){var t=this,e=this.tickRects,r=e.length,o=this.unselectedTickStyle,l=this.selectedTickStyle,v=t.endTickRectId;if(n>0?t.endTickRectId++:(e[t.endTickRectId].rect.attr(o),t.endTickRectId--),v!==t.startTickRectId)t.endTickRectId<t.startTickRectId&&(t.startTickRectId=t.endTickRectId);else{for(var b=t.startTickRectId;b<=t.endTickRectId-1;b++)e[b].rect.attr(o);t.startTickRectId=t.endTickRectId}if(e[t.endTickRectId]){e[t.endTickRectId].rect.attr(l);var L=t.startTickRectId/r,F=t.endTickRectId/r;this.graph.emit(pc,{value:[L,F]})}},u.prototype.destory=function(){this.graph.off(pc);var n=this.sliceGroup;n.off("click"),n.off("dragstart"),n.off("dragover"),n.off("drop"),this.tickRects.forEach(function(t){var e=t.pickRect;e.off("mouseenter"),e.off("mouseleave")}),this.tickRects.length=0,n.off(wf+":click"),n.off(Yd+":click"),n.off(Kd+":click"),n.off(ph),this.sliceGroup.destroy()},u}(),AO=CO,SO=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zc=function(){return Zc=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Zc.apply(this,arguments)},MO=function(u,n){var t={};for(var e in u)Object.prototype.hasOwnProperty.call(u,e)&&n.indexOf(e)<0&&(t[e]=u[e]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,e=Object.getOwnPropertySymbols(u);r<e.length;r++)n.indexOf(e[r])<0&&Object.prototype.propertyIsEnumerable.call(u,e[r])&&(t[e[r]]=u[e[r]]);return t},TO=4,DO=26,PO=function(u){SO(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-component-timebar",padding:10,type:"trend",trend:{data:[],isArea:!1,smooth:!0},controllerCfg:{speed:1,loop:!1},slider:{start:.1,end:.9,minText:"min",maxText:"max"},tick:{start:.1,end:.9,data:[]},textStyle:{},filterEdge:!1}},n.prototype.initContainer=function(){var t=this.get("graph"),e=this._cfgs,r=e.width,o=e.height,l=this.get("className")||"g6-component-timebar",v=this.get("container"),b=this.get("graph").get("container"),L;v?(Object(y.O)(v)&&(v=document.getElementById(v)),L=v):(L=Object(Va.b)("<div class='"+l+"'></div>"),Object(Va.e)(L,{position:"relative"})),b.appendChild(L),this.set("timeBarContainer",L);var F,U=t.get("renderer");U==="SVG"?F=new Xu.Canvas({container:L,width:r,height:o}):F=new Xs.Canvas({container:L,width:r,height:o}),this.set("canvas",F)},n.prototype.init=function(){this.initContainer();var t=this.get("canvas"),e=t.addGroup({name:"timebar-group"});this.set("timeBarGroup",e),this.renderTrend(),this.initEvent();var r=typeof window!="undefined"&&window.getComputedStyle(document.body,null).getPropertyValue("font-family")||"Arial, sans-serif";this.set("fontFamily",r)},n.prototype.renderTrend=function(){var t=this._cfgs,e=t.width,r=t.x,o=t.y,l=t.padding,v=t.type,b=t.trend,L=t.slider,F=t.controllerCfg,U=t.textStyle,rt=t.tick,ht=t.backgroundStyle,bt=t.foregroundStyle,At=b.data,wt=MO(b,["data"]),kt=e-2*l,Ut=v==="trend"?DO:TO,Kt=this.get("graph"),qt=this.get("timeBarGroup"),ne=this.get("canvas"),ye=null;v==="trend"||v==="simple"?ye=new mO(Zc(Zc({graph:Kt,canvas:ne,group:qt,type:v,x:r+l,y:v==="trend"?o+l:o+l+15,width:kt,height:Ut,padding:l,backgroundStyle:ht,foregroundStyle:bt,trendCfg:Zc(Zc({},wt),{data:At.map(function(xe){return xe.value})})},L),{tick:{ticks:At,tickLabelFormatter:rt.tickLabelFormatter,tickLabelStyle:rt.tickLabelStyle,tickLineStyle:rt.tickLineStyle},handlerStyle:Zc(Zc({},L.handlerStyle),{height:L.height||Ut}),controllerCfg:F,textStyle:U})):v==="tick"&&(ye=new AO(Zc({graph:Kt,canvas:ne,group:qt,x:r+l,y:o+l},rt))),this.set("timebar",ye)},n.prototype.filterData=function(t){var e,r=t.value,o=null,l=this._cfgs.type;if(l==="trend"||l==="simple"?o=this._cfgs.trend.data:l==="tick"&&(o=this._cfgs.tick.data),!o||o.length===0){console.warn("\u8BF7\u914D\u7F6E TimeBar \u7EC4\u4EF6\u7684\u6570\u636E");return}var v=this.get("rangeChange"),b=this.get("graph"),L=Math.round(o.length*r[0]),F=Math.round(o.length*r[1]);F=F>=o.length?o.length-1:F,L=L>=o.length?o.length-1:L;var U=(e=this._cfgs.tick)===null||e===void 0?void 0:e.tickLabelFormatter,rt=U?U(o[L]):o[L].date,ht=U?U(o[F]):o[F].date;if(l!=="tick"){var bt=this.get("timebar");bt.setText(rt,ht)}if(v)v(b,rt,ht);else{(!this.cacheGraphData||this.cacheGraphData.nodes&&this.cacheGraphData.nodes.length===0)&&(this.cacheGraphData=b.get("data"));var At=this.cacheGraphData.nodes.filter(function(Ut){return Ut.date>=o[L].date&&Ut.date<=o[F].date}),wt=At.map(function(Ut){return Ut.id}),kt=[];this.cacheGraphData.edges&&(kt=this.cacheGraphData.edges.filter(function(Ut){return wt.includes(Ut.source)&&wt.includes(Ut.target)}),this.get("filterEdge")&&(kt=kt.filter(function(Ut){return Ut.date>=o[L].date&&Ut.date<=o[F].date}))),b.changeData({nodes:At,edges:kt})}},n.prototype.initEvent=function(){var t=this,e=0,r=0,o=this._cfgs.type;!o||o==="trend"||o==="simple"?(e=this._cfgs.slider.start,r=this._cfgs.slider.end):o==="tick"&&(e=this._cfgs.tick.start,r=this._cfgs.tick.end);var l=this.get("graph");l.on("afterrender",function(v){t.filterData({value:[e,r]})}),l.on(pc,Object(y.nb)(function(v){t.filterData(v)},200,{trailing:!0,leading:!0}))},n.prototype.destroy=function(){var t=this.get("timebar");t&&t.destory&&t.destory(),u.prototype.destroy.call(this);var e=this.get("timeBarContainer");if(e){var r=this.get("container");r||(r=this.get("graph").get("container")),Object(y.O)(r)&&(r=document.getElementById(r)),r.removeChild(e)}},n}(fl),IO=PO,jO=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),LO=Fi.applyMatrix;function BO(u,n){var t,e;if(u.naturalWidth)t=u.naturalWidth,e=u.naturalHeight;else{var r=new Image;r.src=u.src,r.onload=function(){n&&n(r.width,r.height)}}return[t,e]}var wO=function(u){jO(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},n.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},n.prototype.disableRefresh=function(){this.set("refresh",!1)},n.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},n.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},n.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var o=this.get("container");Object(y.O)(o)&&(o=document.getElementById(o));var l=Object(Va.b)("<div class="+e.viewportClassName+`
      style='position:absolute;
        left:0;
        top:0;
        box-sizing:border-box;
        border: 2px solid #1980ff'>
      </div>`),v=0,b=0,L=!1,F=0,U=0,rt=0,ht=0,bt=0,At=0;o.addEventListener("mousedown",function(wt){if(e.refresh=!1,wt.target===l){var kt=l.style;rt=parseInt(kt.width,10),ht=parseInt(kt.height,10);var Ut=t.get("width"),Kt=t.get("height");rt>Ut||ht>Kt||(At=r.getZoom(),bt=t.get("ratio"),L=!0,v=wt.clientX,b=wt.clientY)}},!1),o.addEventListener("mousemove",function(wt){if(!(!L||Object(y.I)(wt.clientX)||Object(y.I)(wt.clientY))){var kt=t.get("width"),Ut=t.get("height"),Kt=l.style;F=parseInt(Kt.left,10),U=parseInt(Kt.top,10),rt=parseInt(Kt.width,10),ht=parseInt(Kt.height,10);var qt=v-wt.clientX,ne=b-wt.clientY;F-qt<0?qt=F:F-qt+rt>=kt&&(qt=0),U-ne<0?ne=U:U-ne+ht>=Ut&&(ne=0),F-=qt,U-=ne,Object(Va.e)(l,{left:F+"px",top:U+"px"}),r.translate(qt*At/bt,ne*At/bt),v=wt.clientX,b=wt.clientY}},!1),o.addEventListener("mouseleave",function(){L=!1,e.refresh=!0},!1),o.addEventListener("mouseup",function(){L=!1,e.refresh=!0},!1),this.set("viewport",l),o.appendChild(l)}},n.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),o=this.get("graph"),l=o.get("width"),v=o.get("height"),b=l/v,L=o.getGroup(),F=L.getCanvasBBox(),U=[(F.minX+F.maxX)/2,(F.minY+F.maxY)/2],rt=[F.maxX-F.minX,F.maxY-F.minY],ht={centerX:U[0],centerY:U[1],width:0,height:0,minX:0,minY:0};F[0]/F[1]>b?(ht.width=rt[0],ht.height=ht.width/b):(ht.height=rt[1],ht.width=ht.height*b),ht.minX=U[0]-ht.width/2,ht.minY=U[1]-ht.height/2;var bt=L.getMatrix();bt||(bt=[1,0,0,0,1,0,0,0,1]);var At=zr.a.invert([1,0,0,0,1,0,0,0,1],bt),wt=LO({x:ht.minX,y:ht.minY},At),kt=o.getCanvasByPoint(wt.x,wt.y),Ut=this.get("viewport");Ut||this.initViewport();var Kt=l/ht.width,qt=Kt*e,ne=Kt*r,ye=e*-kt.x/ht.width,xe=r*-kt.y/ht.height,je=ye+qt,We=xe+ne;ye<0&&(qt+=ye,ye=0),je>e&&(qt=qt-(je-e)),xe<0&&(ne+=xe,xe=0),We>r&&(ne=ne-(We-r)),this.set("ratio",t);var Be=ye+"px",qe=xe+"px";Object(Va.e)(Ut,{left:Be,top:qe,width:qt+"px",height:ne+"px"})}},n.prototype.init=function(){this.initContainer()},n.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),o=e.get("height"),l=o/r,v=t.get("className"),b=t.get("container"),L=t.get("width"),F=t.get("height");!L&&!F&&(L=200),L?(F=l*L,t.set("height",F)):(L=1/l*F,t.set("width",L));var U=Object(Va.b)("<div class='"+v+"' style='width: "+L+"px; height: "+F+"px; overflow: hidden; position: relative;'></div>");Object(y.O)(b)&&(b=document.getElementById(b)),b?b.appendChild(U):e.get("container").appendChild(U),t.set("container",U);var rt=Object(Va.b)('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');U.appendChild(rt);var ht=Object(Va.b)('<span style="display: table-cell; vertical-align: middle; "></span>');rt.appendChild(ht),t.set("containerDOM",rt),t.set("containerSpan",ht);var bt=Object(Va.b)('<img alt="" src="'+this.get("graphImg")+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');t.set("imgDOM",bt),t.updateImgSize(),ht.appendChild(bt),t.updateCanvas()},n.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),o=t.get("height");e.onload=function(){var l=BO(e);l[0]>l[1]?e.width=r:e.height=o}},n.prototype.updateCanvas=function(){var t=this.get("refresh");if(!!t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("width"),o=e.get("canvas").getCanvasBBox(),l=o.width,v=r/l;this.set("ratio",v),this.updateViewport()}}},n.prototype.getViewport=function(){return this.get("viewport")},n.prototype.getContainer=function(){return this.get("container")},n.prototype.updateGraphImg=function(t){var e=this,r=e.get("imgDOM");r.remove(),e.set("graphImg",t);var o=Object(Va.b)('<img alt="" src="'+t+'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>');e.set("imgDOM",o),o.src=t,e.updateImgSize();var l=e.get("containerSpan");l.appendChild(o),e.updateCanvas()},n.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},n}(fl),RO=wO,FO=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jg=function(){return jg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},jg.apply(this,arguments)},NO=Fi.distance,D0=.05,P0={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},GO=function(u){FO(n,u);function n(){return u!==null&&u.apply(this,arguments)||this}return n.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(y.e)(P0),showLabel:"edge",scaleRBy:"wheel"}},n.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},n.prototype.init=function(){var t=this,e=t.get("showLabel"),r=e==="node"||e==="both",o=e==="edge"||e==="both";t.set("showNodeLabel",r),t.set("showEdgeLabel",o);var l=t.get("shouldShow");l||t.set("shouldShow",function(){return!0})},n.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");(!r||r.destroyed)&&(e.filter(t),r=e.get("delegate"),r.on("dragstart",function(o){}),r.on("drag",function(o){e.filter(o)}),this.get("scaleRBy")==="wheel"&&r.on("mousewheel",function(o){e.scaleRByWheel(o)}))},n.prototype.scaleRByWheel=function(t){var e=this;if(!(!t||!t.originalEvent)){t.preventDefault&&t.preventDefault();var r=e.get("graph"),o,l=e.get("delegate"),v=l?{x:l.attr("x"),y:l.attr("y")}:void 0,b=v||r.getPointByClient(t.clientX,t.clientY);t.originalEvent.wheelDelta<0?o=1-D0:o=1/(1-D0);var L=e.get("maxR"),F=e.get("minR"),U=e.get("r");(U>(L||r.get("height"))&&o>1||U<(F||r.get("height")*.05)&&o<1)&&(o=1),U*=o,e.set("r",U),e.filter(t)}},n.prototype.filter=function(t){var e=this,r=e.get("graph"),o=r.getNodes(),l={},v=e.get("r"),b=e.get("type"),L={x:t.x,y:t.y};e.updateDelegate(L,v);var F=e.get("shouldShow"),U=e.get("vShapes");U&&U.forEach(function(kt){kt.remove(),kt.destroy()}),U=[],o.forEach(function(kt){var Ut=kt.getModel(),Kt=Ut.x,qt=Ut.y;NO({x:Kt,y:qt},L)<v&&(l[Ut.id]=kt)});var rt=r.getEdges(),ht=[];rt.forEach(function(kt){var Ut=kt.getModel(),Kt=Ut.source,qt=Ut.target;F(Ut)&&(b==="only-source"||b==="one"?l[Kt]&&!l[qt]&&ht.push(kt):b==="only-target"||b==="one"?l[qt]&&!l[Kt]&&ht.push(kt):b==="both"&&l[Kt]&&l[qt]&&ht.push(kt))});var bt=e.get("showNodeLabel"),At=e.get("showEdgelabel"),wt=r.get("group");ht.forEach(function(kt){var Ut=kt.get("group").get("children");Ut.forEach(function(Kt){var qt=Kt.get("type"),ne=wt.addShape(qt,{attrs:Kt.attr()});U.push(ne),bt&&qt==="text"&&ne.set("visible",!0)})}),Object.keys(l).forEach(function(kt){var Ut=l[kt],Kt=Ut.get("group").clone();if(wt.add(Kt),U.push(Kt),At)for(var qt=Kt.get("children"),ne=0;ne<qt.length;ne++){var ye=qt[ne];ye.get("type")==="text"&&ye.set("visible",!0)}}),e.set("vShapes",U)},n.prototype.updateParams=function(t){var e=this,r=t.r,o=t.trigger,l=t.minR,v=t.maxR,b=t.scaleRBy,L=t.showLabel,F=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(v)||e.set("maxR",v),isNaN(l)||e.set("minR",l),(o==="mousemove"||o==="click")&&e.set("trigger",o),b==="wheel"||b==="unset"){e.set("scaleRBy",b),e.get("delegate").remove(),e.get("delegate").destroy();var U=e.get("dPercentText");U&&(U.remove(),U.destroy())}(L==="node"||L==="both")&&e.set("showNodeLabel",!0),(L==="edge"||L==="both")&&e.set("showEdgeLabel",!0),F&&e.set("shouldShow",F)},n.prototype.updateDelegate=function(t,e){var r=this,o=r.get("graph"),l=r.get("delegate");if(!l||l.destroyed){var v=o.get("group"),b=r.get("delegateStyle")||P0;l=v.addShape("circle",{attrs:jg({r:e,x:t.x,y:t.y},b),name:"lens-shape",draggable:!0}),this.get("trigger")!=="drag"&&this.get("scaleRBy")==="wheel"&&l.on("mousewheel",function(L){r.scaleRByWheel(L)})}else l.attr({x:t.x,y:t.y,r:e});r.set("delegate",l)},n.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach(function(o){o.remove(),o.destroy()}),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},n.prototype.destroy=function(){this.clear()},n}(fl),UO=GO,WO=function(){var u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(r[l]=o[l])},u(t,e)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");u(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zO=Fi.pointLineDistance,kO={stroke:"#FA8C16",lineWidth:1},VO=function(u){WO(n,u);function n(t){return u.call(this,t)||this}return n.prototype.getDefaultCfgs=function(){return{line:kO,itemAlignType:"center",tolerance:5,horizontalLines:{},verticalLines:{},alignLines:[]}},n.prototype.init=function(){},n.prototype.getEvents=function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd"}},n.prototype.onDragStart=function(){this.initBoxLine()},n.prototype.onDrag=function(t){var e=t.item,r=e.get("delegateShape")||e,o=r.getBBox(),l=e.getModel(),v=l.x-o.x,b=l.y-o.y;this.show({x:o.minX+v,y:o.minY+b},{width:o.width,height:o.height})},n.prototype.onDragEnd=function(){this.destory()},n.prototype.initBoxLine=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,o=t.itemAlignType,l=this.get("graph"),v=l.getNodes();v.forEach(function(b){var L=b.getBBox(),F=b.get("id");o===!0||o==="horizontal"?(e[F+"tltr"]=[L.minX,L.minY,L.maxX,L.minY,b],e[F+"lcrc"]=[L.minX,L.centerY,L.maxX,L.centerY,b],e[F+"blbr"]=[L.minX,L.maxY,L.maxX,L.maxY,b]):o==="center"&&(e[F+"lcrc"]=[L.minX,L.centerY,L.maxX,L.centerY,b]),o===!0||o==="vertical"?(r[F+"tlbl"]=[L.minX,L.minY,L.minX,L.maxY,b],r[F+"tcbc"]=[L.centerX,L.minY,L.centerX,L.maxY,b],r[F+"trbr"]=[L.maxX,L.minY,L.maxX,L.maxY,b]):o==="center"&&(r[F+"tcbc"]=[L.centerX,L.minY,L.centerX,L.maxY,b])})},n.prototype.show=function(t,e){var r=Object(y.bb)({},t);return this.itemAlign(t,e,r),t},n.prototype.itemAlign=function(t,e,r){var o=this,l=this._cfgs,v=l.horizontalLines,b=l.verticalLines,L=l.tolerance,F={x:r.x+e.width/2,y:r.y},U={x:r.x+e.width/2,y:r.y+e.height/2},rt={x:r.x+e.width/2,y:r.y+e.height},ht={x:r.x,y:r.y+e.height/2},bt={x:r.x+e.width,y:r.y+e.height/2},At=[],wt=[],kt=null;if(this.clearAlignLine(),Object(y.j)(v,function(Kt){Kt[4].isVisible&&(At.push(o.getLineDisObject(Kt,F)),At.push(o.getLineDisObject(Kt,U)),At.push(o.getLineDisObject(Kt,rt)))}),Object(y.j)(b,function(Kt){Kt[4].isVisible&&(wt.push(o.getLineDisObject(Kt,ht)),wt.push(o.getLineDisObject(Kt,U)),wt.push(o.getLineDisObject(Kt,bt)))}),At.sort(function(Kt,qt){return Kt.dis-qt.dis}),wt.sort(function(Kt,qt){return Kt.dis-qt.dis}),At.length!==0&&At[0].dis<L){t.y=At[0].line[1]-At[0].point.y+r.y,kt={type:"item",horizontals:[At[0]]};for(var Ut=1;Ut<3;Ut++)At[0].dis===At[Ut].dis&&kt.horizontals.push(At[Ut])}if(wt.length!==0&&wt[0].dis<L){t.x=wt[0].line[0]-wt[0].point.x+r.x,kt?kt.verticals=[wt[0]]:kt={type:"item",verticals:[wt[0]]};for(var Ut=1;Ut<3;Ut++)wt[0].dis===wt[Ut].dis&&kt.verticals.push(wt[Ut])}kt&&(kt.bbox=e,this.addAlignLine(kt))},n.prototype.addAlignLine=function(t){var e=t.bbox,r=t.type,o=t.horizontals,l=t.verticals,v=this._cfgs,b=v.line,L=v.alignLines,F=this.get("graph"),U=F.get("group");r==="item"&&(o&&Object(y.j)(o,function(rt){var ht=rt.line,bt=rt.point,At=(ht[0]+ht[2])/2,wt,kt;bt.x<At?(wt=bt.x-e.width/2,kt=Math.max(ht[0],ht[2])):(wt=bt.x+e.width/2,kt=Math.min(ht[0],ht[2]));var Ut=Object(y.bb)({x1:wt,y1:ht[1],x2:kt,y2:ht[1]},b),Kt=U.addShape("line",{attrs:Ut,capture:!1});L.push(Kt)}),l&&Object(y.j)(l,function(rt){var ht=rt.line,bt=rt.point,At=(ht[1]+ht[3])/2,wt,kt;bt.y<At?(wt=bt.y-e.height/2,kt=Math.max(ht[1],ht[3])):(wt=bt.y+e.height/2,kt=Math.min(ht[1],ht[3]));var Ut=Object(y.bb)({x1:ht[0],y1:wt,x2:ht[0],y2:kt},b),Kt=U.addShape("line",{attrs:Ut,capture:!1});L.push(Kt)}))},n.prototype.getLineDisObject=function(t,e){return{line:t,point:e,dis:zO(t,e)}},n.prototype.getContainer=function(){return this.get("container")},n.prototype.clearAlignLine=function(){var t=this._cfgs.alignLines;Object(y.j)(t,function(e){e.remove()}),t.length=0},n.prototype.destory=function(){var t=this._cfgs,e=t.horizontalLines,r=t.verticalLines,o=this.get("graph"),l=o.getNodes();l.forEach(function(v){var b=v.get("id");delete e[b+"tltr"],delete e[b+"lcrc"],delete e[b+"blbr"],delete r[b+"tlbl"],delete r[b+"tcbc"],delete r[b+"trbr"]}),this.clearAlignLine()},n}(fl),HO=VO,XO={PluginBase:fl,Menu:dE,Grid:lE,Minimap:AE,Bundling:DE,ToolBar:RE,Tooltip:GE,Fisheye:jE,TimeBar:IO,ImageMinimap:RO,EdgeFilterLens:UO,SnapLine:HO},YO=XO,qs=YO;ou("circle",{options:{size:ha.defaultNode.size,style:{x:0,y:0,stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=Object(y.h)({},r,n.icon),v=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0}),b=l.width,L=l.height,F=l.show,U=l.text;return F&&(U?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)({x:-b/2,y:-L/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),v},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.bottom,L=r.size,F=r.r,U=Object(pe.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ht=rt[0]/2;l&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:-ht,y:0,r:L/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:ht,y:0,r:L/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:-ht,r:L/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),b&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:ht,r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.h)({},t,e),o=this.getSize(n),l=o[0]/2,v=Object(pe.a)({x:0,y:0,r:l},r);return v},update:function(n,t){var e=t.getContainer(),r=this.getSize(n),o={stroke:n.color,r:r[0]/2},l=t.get("keyShape"),v=Object(y.h)({},l.attr(),o,n.style);this.updateShape(n,t,v,!0),this.updateLinkPoints(n,e)}},"single-node"),ou("rect",{options:{size:[100,30],style:{radius:0,stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},anchorPoints:[[0,.5],[1,.5]],stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"rect",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n),r=t.addShape("rect",{attrs:e,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0});return this.drawLinkPoints(n,t),r},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.bottom,L=r.size,F=r.r,U=Object(pe.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ht=rt[0],bt=rt[1];l&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:-ht/2,y:0,r:L/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:ht/2,y:0,r:L/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:-bt/2,r:L/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),b&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:bt/2,r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getSize(n),l=r.width||o[0],v=r.height||o[1],b=Object(pe.a)({x:-l/2,y:-v/2,width:l,height:v},r);return b},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),l=t.get("keyShape");n.size||(o[0]=l.attr("width")||r.width,o[1]=l.attr("height")||r.height);var v={stroke:n.color,x:-o[0]/2,y:-o[1]/2,width:o[0],height:o[1]},b=Object(y.bb)({},r,l.attr(),v);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!1),this.updateLinkPoints(n,e)}},"single-node"),ou("ellipse",{options:{size:[80,40],style:{x:0,y:0,stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"ellipse",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=t.addShape("ellipse",{attrs:o,className:"ellipse-keyShape",name:"ellipse-keyShape",draggable:!0}),v=r.width,b=r.height,L=r.show,F=r.text;return L&&(F?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)({x:-v/2,y:-b/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.bottom,L=r.size,F=r.r,U=Object(pe.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ht=rt[0]/2,bt=rt[1]/2;l&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:-ht,y:0,r:L/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:ht,y:0,r:L/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:-bt,r:L/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),b&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:bt,r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getSize(n),l=o[0]/2,v=o[1]/2,b=Object(pe.a)({x:0,y:0,rx:l,ry:v},r);return b},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getSize(n),l={stroke:n.color,rx:o[0]/2,ry:o[1]/2},v=t.get("keyShape"),b=Object(y.bb)({},r,v.attr(),l);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!0),this.updateLinkPoints(n,e)}},"single-node"),ou("diamond",{options:{size:[80,80],style:{stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"diamond",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),v=r.width,b=r.height,L=r.show,F=r.text;return L&&(F?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)({x:-v/2,y:-b/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.bottom,L=r.size,F=r.r,U=Object(pe.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ht=rt[0],bt=rt[1];l&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:-ht/2,y:0,r:L/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:ht/2,y:0,r:L/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:-bt/2,r:L/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),b&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:bt/2,r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},getPath:function(n){var t=this.getSize(n),e=t[0],r=t[1],o=[["M",0,-r/2],["L",e/2,0],["L",0,r/2],["L",-e/2,0],["Z"]];return o},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getPath(n),l=Object(pe.a)({path:o},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),l={stroke:n.color,path:o},v=t.get("keyShape"),b=Object(y.bb)({},r,v.attr(),l);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!0),this.updateLinkPoints(n,e)}},"single-node"),ou("triangle",{options:{size:40,direction:"up",style:{stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize},offset:15},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20,offset:6},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"triangle",labelPosition:"bottom",drawShape:function(n,t){var e=this.getOptions(n),r=e.icon,o=r===void 0?{}:r,l=e.direction,v=this.getShapeStyle(n),b=n.direction||l,L=t.addShape("path",{attrs:v,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),F=o.width,U=o.height,rt=o.show,ht=o.offset,bt=o.text;if(rt)if(bt)t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0});else{var At=-F/2,wt=-U/2;(b==="up"||b==="down")&&(wt+=ht),(b==="left"||b==="right")&&(At+=ht),t.addShape("image",{attrs:Object(pe.a)({x:At,y:wt},o),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})}return this.drawLinkPoints(n,t),L},drawLinkPoints:function(n,t){var e=this.getOptions(n),r=e.linkPoints,o=r===void 0?{}:r,l=e.direction,v=n.direction||l,b=o.top,L=o.left,F=o.right,U=o.bottom,rt=o.size,ht=o.r,bt=Object(pe.e)(o,["top","left","right","bottom","size","r"]),At=this.getSize(n),wt=At[0];if(L){var kt=null,Ut=wt*Math.sin(1/3*Math.PI),Kt=wt*Math.sin(1/3*Math.PI);v==="up"?kt=[-Kt,Ut]:v==="down"?kt=[-Kt,-Ut]:v==="left"&&(kt=[-Kt,Kt-Ut]),kt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},bt),{x:kt[0],y:kt[1],r:rt/2||ht||5}),className:"link-point-left",name:"link-point-left"})}if(F){var qt=null,Ut=wt*Math.sin(1/3*Math.PI),Kt=wt*Math.sin(1/3*Math.PI);v==="up"?qt=[Kt,Ut]:v==="down"?qt=[Kt,-Ut]:v==="right"&&(qt=[Kt,Kt-Ut]),qt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},bt),{x:qt[0],y:qt[1],r:rt/2||ht||5}),className:"link-point-right",name:"link-point-right"})}if(b){var ne=null,Ut=wt*Math.sin(1/3*Math.PI),Kt=wt*Math.sin(1/3*Math.PI);v==="up"?ne=[Kt-Ut,-Ut]:v==="left"?ne=[Kt,-Ut]:v==="right"&&(ne=[-Kt,-Ut]),ne&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},bt),{x:ne[0],y:ne[1],r:rt/2||ht||5}),className:"link-point-top",name:"link-point-top"})}if(U){var ye=null,Ut=wt*Math.sin(1/3*Math.PI),Kt=wt*Math.sin(1/3*Math.PI);v==="down"?ye=[-Kt+Ut,Ut]:v==="left"?ye=[Kt,Ut]:v==="right"&&(ye=[-Kt,Ut]),ye&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},bt),{x:ye[0],y:ye[1],r:rt/2||ht||5}),className:"link-point-bottom",name:"link-point-bottom"})}},getPath:function(n){var t=this.getOptions(n).direction,e=n.direction||t,r=this.getSize(n),o=r[0],l=o*Math.sin(1/3*Math.PI),v=o*Math.sin(1/3*Math.PI),b=[["M",-v,l],["L",0,-l],["L",v,l],["Z"]];return e==="down"?b=[["M",-v,-l],["L",v,-l],["L",0,l],["Z"]]:e==="left"?b=[["M",-v,v-l],["L",v,-v],["L",v,v],["Z"]]:e==="right"&&(b=[["M",v,v-l],["L",-v,v],["L",-v,-v],["Z"]]),b},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getPath(n),l=Object(pe.a)({path:o},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),l={stroke:n.color,path:o},v=t.get("keyShape"),b=Object(y.bb)({},r,v.attr(),l);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}),r=e.linkPoints,o=e.direction,l=n.direction||o,v=t.find(function(aa){return aa.get("className")==="link-point-left"}),b=t.find(function(aa){return aa.get("className")==="link-point-right"}),L=t.find(function(aa){return aa.get("className")==="link-point-top"}),F=t.find(function(aa){return aa.get("className")==="link-point-bottom"}),U=r,rt=v||b||L||F;rt&&(U=rt.attr());var ht=Object(y.bb)({},U,n.linkPoints),bt=ht.fill,At=ht.stroke,wt=ht.lineWidth,kt=ht.size/2;kt||(kt=ht.r);var Ut=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,bottom:void 0},Kt=Ut.left,qt=Ut.right,ne=Ut.top,ye=Ut.bottom,xe=this.getSize(n),je=xe[0],We={r:kt,fill:bt,stroke:At,lineWidth:wt},Be=null,qe=je*Math.sin(1/3*Math.PI),sr=je*Math.sin(1/3*Math.PI);l==="up"?Be=[-sr,qe]:l==="down"?Be=[-sr,-qe]:l==="left"&&(Be=[-sr,sr-qe]),Be&&(v?!Kt&&Kt!==void 0?v.remove():v.attr(Object(pe.a)(Object(pe.a)({},We),{x:Be[0],y:Be[1]})):Kt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},We),{x:Be[0],y:Be[1]}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}));var hn=null;l==="up"?hn=[sr,qe]:l==="down"?hn=[sr,-qe]:l==="right"&&(hn=[sr,sr-qe]),hn&&(b?!qt&&qt!==void 0?b.remove():b.attr(Object(pe.a)(Object(pe.a)({},We),{x:hn[0],y:hn[1]})):qt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},We),{x:hn[0],y:hn[1]}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}));var dn=null;l==="up"?dn=[sr-qe,-qe]:l==="left"?dn=[sr,-qe]:l==="right"&&(dn=[-sr,-qe]),dn&&(L?!ne&&ne!==void 0?L.remove():L.attr(Object(pe.a)(Object(pe.a)({},We),{x:dn[0],y:dn[1]})):ne&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},We),{x:dn[0],y:dn[1]}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}));var vn=null;l==="down"?vn=[-sr+qe,qe]:l==="left"?vn=[sr,qe]:l==="right"&&(vn=[-sr,qe]),vn&&(F?!ye&&ye!==void 0?F.remove():F.attr(Object(pe.a)(Object(pe.a)({},We),{x:vn[0],y:vn[1]})):ye&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},We),{x:vn[0],y:vn[1]}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0}))}},"single-node"),ou("modelRect",{options:{size:[185,70],style:{radius:5,stroke:"#69c0ff",fill:"#ffffff",lineWidth:ha.defaultNode.style.lineWidth,fillOpacity:1},labelCfg:{style:{fill:"#595959",fontSize:14},offset:30},descriptionCfg:{style:{fontSize:12,fill:"#bfbfbf"},paddingTop:0},preRect:{show:!0,width:4,fill:"#40a9ff",radius:2},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:10,lineWidth:1,fill:"#72CC4A",stroke:"#72CC4A"},logoIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg",width:16,height:16,offset:0},stateIcon:{show:!0,x:0,y:0,img:"https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg",width:16,height:16,offset:-5},anchorPoints:[[0,.5],[1,.5]]},shapeType:"modelRect",drawShape:function(n,t){var e=this.getOptions(n).preRect,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=this.getSize(n),v=l[0],b=l[1],L=t.addShape("rect",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),F=r.show,U=Object(pe.e)(r,["show"]);return F&&t.addShape("rect",{attrs:Object(pe.a)({x:-v/2,y:-b/2,height:b},U),className:"pre-rect",name:"pre-rect",draggable:!0}),this.drawLogoIcon(n,t),this.drawStateIcon(n,t),this.drawLinkPoints(n,t),L},drawLogoIcon:function(n,t){var e=this.getOptions(n).logoIcon,r=e===void 0?{}:e,o=this.getSize(n),l=o[0];if(r.show){var v=r.width,b=r.height,L=r.x,F=r.y,U=r.offset,rt=r.text,ht=Object(pe.e)(r,["width","height","x","y","offset","text"]);rt?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},ht),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)(Object(pe.a)({},ht),{x:L||-l/2+v+U,y:F||-b/2,width:v,height:b}),className:"rect-logo-icon",name:"rect-logo-icon",draggable:!0})}},drawStateIcon:function(n,t){var e=this.getOptions(n).stateIcon,r=e===void 0?{}:e,o=this.getSize(n),l=o[0];if(r.show){var v=r.width,b=r.height,L=r.x,F=r.y,U=r.offset,rt=r.text,ht=Object(pe.e)(r,["width","height","x","y","offset","text"]);rt?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},ht),className:"rect-state-icon",name:"rect-state-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)(Object(pe.a)({},ht),{x:L||l/2-v+U,y:F||-b/2,width:v,height:b}),className:"rect-state-icon",name:"rect-state-icon",draggable:!0})}},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.bottom,L=r.size,F=r.r,U=Object(pe.e)(r,["top","left","right","bottom","size","r"]),rt=this.getSize(n),ht=rt[0],bt=rt[1];l&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:-ht/2,y:0,r:L/2||F||5}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),v&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:ht/2,y:0,r:L/2||F||5}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),o&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:-bt/2,r:L/2||F||5}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),b&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},U),{x:0,y:bt/2,r:L/2||F||5}),className:"link-point-bottom",name:"link-point-bottom",isAnchorPoint:!0})},drawLabel:function(n,t){var e=this.getOptions(n),r=e.labelCfg,o=r===void 0?{}:r,l=e.logoIcon,v=l===void 0?{}:l,b=e.descriptionCfg,L=b===void 0?{}:b,F=this.getSize(n),U=F[0],rt=null,ht=v.show,bt=v.width,At=-U/2+o.offset;ht&&(At=-U/2+bt+o.offset);var wt=o.style,kt=L.style,Ut=L.paddingTop;return Object(y.O)(n.description)?(rt=t.addShape("text",{attrs:Object(pe.a)(Object(pe.a)({},wt),{x:At,y:-5,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),t.addShape("text",{attrs:Object(pe.a)(Object(pe.a)({},kt),{x:At,y:17+(Ut||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0})):rt=t.addShape("text",{attrs:Object(pe.a)(Object(pe.a)({},wt),{x:At,y:7,text:n.label}),className:"text-shape",name:"text-shape",draggable:!0}),rt},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getSize(n),l=r.width||o[0],v=r.height||o[1],b=Object(pe.a)({x:-l/2,y:-v/2,width:l,height:v},r);return b},update:function(n,t){var e=this.getOptions(n),r=e.style,o=r===void 0?{}:r,l=e.labelCfg,v=l===void 0?{}:l,b=e.descriptionCfg,L=b===void 0?{}:b,F=this.getSize(n),U=F[0],rt=F[1],ht=t.get("keyShape");ht.attr(Object(pe.a)(Object(pe.a)({},o),{x:-U/2,y:-rt/2,width:U,height:rt}));var bt=t.getContainer(),At=bt.find(function(li){return li.get("className")==="rect-logo-icon"}),wt=At?At.attr():{},kt=Object(y.bb)({},wt,n.logoIcon),Ut=kt.width;Ut===void 0&&(Ut=this.options.logoIcon.width);var Kt=n.logoIcon?n.logoIcon.show:void 0,qt=v.offset,ne=-U/2+Ut+qt;!Kt&&Kt!==void 0&&(ne=-U/2+qt);var ye=bt.find(function(li){return li.get("className")==="node-label"}),xe=bt.find(function(li){return li.get("className")==="rect-description"});if(n.label)if(!ye)bt.addShape("text",{attrs:Object(pe.a)(Object(pe.a)({},v.style),{x:ne,y:n.description?-5:7,text:n.label}),className:"node-label",name:"node-label",draggable:!0});else{var je=n.labelCfg?n.labelCfg.style:{},We=Object(y.bb)({},ye.attr(),je);n.label&&(We.text=n.label),We.x=ne,Object(y.O)(n.description)&&(We.y=-5),xe&&(xe.resetMatrix(),xe.attr({x:ne})),ye.resetMatrix(),ye.attr(We)}if(Object(y.O)(n.description)){var Be=L.paddingTop;if(!xe)bt.addShape("text",{attrs:Object(pe.a)(Object(pe.a)({},L.style),{x:ne,y:17+(Be||0),text:n.description}),className:"rect-description",name:"rect-description",draggable:!0});else{var je=n.descriptionCfg?n.descriptionCfg.style:{},qe=Object(y.bb)({},xe.attr(),je);Object(y.O)(n.description)&&(qe.text=n.description),qe.x=ne,xe.resetMatrix(),xe.attr(Object(pe.a)(Object(pe.a)({},qe),{y:17+(Be||0)}))}}var sr=bt.find(function(li){return li.get("className")==="pre-rect"});if(sr){var hn=Object(y.bb)({},sr.attr(),n.preRect);sr.attr(Object(pe.a)(Object(pe.a)({},hn),{x:-U/2,y:-rt/2,height:rt}))}if(At)if(!Kt&&Kt!==void 0)At.remove();else{var dn=kt.width,vn=kt.height,aa=kt.x,ra=kt.y,Rn=kt.offset,Gn=Object(pe.e)(kt,["width","height","x","y","offset"]);At.attr(Object(pe.a)(Object(pe.a)({},Gn),{x:aa||-U/2+dn+Rn,y:ra||-vn/2,width:dn,height:vn}))}else Kt&&this.drawLogoIcon(n,bt);var Qn=bt.find(function(li){return li.get("className")==="rect-state-icon"}),gn=Qn?Qn.attr():{},Jn=Object(y.bb)({},gn,n.stateIcon);if(Qn){!Jn.show&&Jn.show!==void 0&&Qn.remove();var Pa=Jn.width,vn=Jn.height,aa=Jn.x,ra=Jn.y,Cn=Jn.offset,Yn=Object(pe.e)(Jn,["width","height","x","y","offset"]);Qn.attr(Object(pe.a)(Object(pe.a)({},Yn),{x:aa||U/2-Pa+Cn,y:ra||-vn/2,width:Pa,height:vn}))}else Jn.show&&this.drawStateIcon(n,bt);this.updateLinkPoints(n,bt)}},"single-node"),ou("star",{options:{size:60,style:{stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"star",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=t.addShape("path",{attrs:o,className:this.type+"-keyShape",name:this.type+"-keyShape",draggable:!0}),v=r.width,b=r.height,L=r.show,F=r.text;return L&&(F?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)({x:-v/2,y:-b/2},r),className:this.type+"-icon",name:this.type+"-icon",draggable:!0})),this.drawLinkPoints(n,t),l},drawLinkPoints:function(n,t){var e=this.getOptions(n).linkPoints,r=e===void 0?{}:e,o=r.top,l=r.left,v=r.right,b=r.leftBottom,L=r.rightBottom,F=r.size,U=r.r,rt=Object(pe.e)(r,["top","left","right","leftBottom","rightBottom","size","r"]),ht=this.getSize(n),bt=ht[0];if(v){var At=Math.cos((18+72*0)/180*Math.PI)*bt,wt=Math.sin((18+72*0)/180*Math.PI)*bt;t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},rt),{x:At,y:-wt,r:F/2||U||5}),className:"link-point-right",name:"link-point-right"})}if(o){var At=Math.cos((18+72*1)/180*Math.PI)*bt,wt=Math.sin((18+72*1)/180*Math.PI)*bt;t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},rt),{x:At,y:-wt,r:F/2||U||5}),className:"link-point-top",name:"link-point-top"})}if(l){var At=Math.cos((18+72*2)/180*Math.PI)*bt,wt=Math.sin((18+72*2)/180*Math.PI)*bt;t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},rt),{x:At,y:-wt,r:F/2||U||5}),className:"link-point-left",name:"link-point-left"})}if(b){var At=Math.cos((18+72*3)/180*Math.PI)*bt,wt=Math.sin((18+72*3)/180*Math.PI)*bt;t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},rt),{x:At,y:-wt,r:F/2||U||5}),className:"link-point-left-bottom",name:"link-point-left-bottom"})}if(L){var At=Math.cos((18+72*4)/180*Math.PI)*bt,wt=Math.sin((18+72*4)/180*Math.PI)*bt;t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},rt),{x:At,y:-wt,r:F/2||U||5}),className:"link-point-right-bottom",name:"link-point-right-bottom"})}},getPath:function(n){for(var t=this.getSize(n),e=t[0],r=e*3/8,o=n.innerR||r,l=[],v=0;v<5;v++){var b=Math.cos((18+72*v)/180*Math.PI)*e,L=Math.sin((18+72*v)/180*Math.PI)*e,F=Math.cos((54+72*v)/180*Math.PI)*o,U=Math.sin((54+72*v)/180*Math.PI)*o;v===0?l.push(["M",b,-L]):l.push(["L",b,-L]),l.push(["L",F,-U])}return l.push(["Z"]),l},getShapeStyle:function(n){var t=this.getOptions(n).style,e={stroke:n.color},r=Object(y.bb)({},t,e),o=this.getPath(n),l=Object(pe.a)({path:o},r);return l},update:function(n,t){var e=t.getContainer(),r=this.getOptions({}).style,o=this.getPath(n),l={stroke:n.color,path:o},v=t.get("keyShape"),b=Object(y.bb)({},r,v.attr(),l);b=Object(y.bb)(b,n.style),this.updateShape(n,t,b,!0),this.updateLinkPoints(n,e)},updateLinkPoints:function(n,t){var e=this.getOptions({}).linkPoints,r=t.find(function(qe){return qe.get("className")==="link-point-left"}),o=t.find(function(qe){return qe.get("className")==="link-point-right"}),l=t.find(function(qe){return qe.get("className")==="link-point-top"}),v=t.find(function(qe){return qe.get("className")==="link-point-left-bottom"}),b=t.find(function(qe){return qe.get("className")==="link-point-right-bottom"}),L=e,F=r||o||l||v||b;F&&(L=F.attr());var U=Object(y.bb)({},L,n.linkPoints),rt=U.fill,ht=U.stroke,bt=U.lineWidth,At=U.size/2;At||(At=U.r);var wt=n.linkPoints?n.linkPoints:{left:void 0,right:void 0,top:void 0,leftBottom:void 0,rightBottom:void 0},kt=wt.left,Ut=wt.right,Kt=wt.top,qt=wt.leftBottom,ne=wt.rightBottom,ye=this.getSize(n),xe=ye[0],je={r:At,fill:rt,stroke:ht,lineWidth:bt},We=Math.cos((18+72*0)/180*Math.PI)*xe,Be=Math.sin((18+72*0)/180*Math.PI)*xe;o?!Ut&&Ut!==void 0?o.remove():o.attr(Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be})):Ut&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be}),className:"link-point-right",name:"link-point-right",isAnchorPoint:!0}),We=Math.cos((18+72*1)/180*Math.PI)*xe,Be=Math.sin((18+72*1)/180*Math.PI)*xe,l?!Kt&&Kt!==void 0?l.remove():l.attr(Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be})):Kt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be}),className:"link-point-top",name:"link-point-top",isAnchorPoint:!0}),We=Math.cos((18+72*2)/180*Math.PI)*xe,Be=Math.sin((18+72*2)/180*Math.PI)*xe,r?!kt&&kt!==void 0?r.remove():r.attr(Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be})):kt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be}),className:"link-point-left",name:"link-point-left",isAnchorPoint:!0}),We=Math.cos((18+72*3)/180*Math.PI)*xe,Be=Math.sin((18+72*3)/180*Math.PI)*xe,v?!qt&&qt!==void 0?v.remove():v.attr(Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be})):qt&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be}),className:"link-point-left-bottom",name:"link-point-left-bottom",isAnchorPoint:!0}),We=Math.cos((18+72*4)/180*Math.PI)*xe,Be=Math.sin((18+72*4)/180*Math.PI)*xe,b?!ne&&ne!==void 0?v.remove():b.attr(Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be})):ne&&t.addShape("circle",{attrs:Object(pe.a)(Object(pe.a)({},je),{x:We,y:-Be}),className:"link-point-right-bottom",name:"link-point-right-bottom",isAnchorPoint:!0})}},"single-node");var Zd=Fi.defaultSubjectColors;ou("donut",{options:{size:ha.defaultNode.size,style:{x:0,y:0,stroke:ha.defaultNode.style.stroke,fill:ha.defaultNode.style.fill,lineWidth:ha.defaultNode.style.lineWidth},labelCfg:{style:{fill:ha.nodeLabel.style.fill,fontSize:ha.nodeLabel.style.fontSize}},linkPoints:{top:!1,right:!1,bottom:!1,left:!1,size:ha.defaultNode.linkPoints.size,lineWidth:ha.defaultNode.linkPoints.lineWidth,fill:ha.defaultNode.linkPoints.fill,stroke:ha.defaultNode.linkPoints.stroke},icon:{show:!1,img:"https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg",width:20,height:20},stateStyles:Object(pe.a)({},ha.nodeStateStyles)},shapeType:"circle",labelPosition:"center",drawShape:function(n,t){var e=this.getOptions(n).icon,r=e===void 0?{}:e,o=this.getShapeStyle(n),l=Object(y.h)({},r,n.icon),v=t.addShape("circle",{attrs:o,className:this.type+"-keyShape",draggable:!0,name:this.type+"-keyShape"}),b=l.width,L=l.height,F=l.show,U=l.text;F&&(U?t.addShape("text",{attrs:Object(pe.a)({x:0,y:0,fontSize:12,fill:"#000",stroke:"#000",textBaseline:"middle",textAlign:"center"},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}):t.addShape("image",{attrs:Object(pe.a)({x:-b/2,y:-L/2},l),className:this.type+"-icon",name:this.type+"-icon",draggable:!0}));var rt=v.attr("r"),ht=.6*rt,bt=(rt+ht)/2,At=n,wt=At.donutAttrs,kt=wt===void 0?{}:wt,Ut=At.donutColorMap,Kt=Ut===void 0?{}:Ut,qt=Object.keys(kt).length;if(kt&&qt>1){var ne=[],ye=0;if(Object.keys(kt).forEach(function(Be){var qe=kt[Be]||0;!Object(y.K)(qe)||(ne.push({key:Be,value:qe,color:Kt[Be]}),ye+=qe)}),ye){var xe=rt-ht;if(qt===1){t.addShape("circle",{attrs:{r:bt,x:0,y:0,stroke:ne[0].color||Zd[0],lineWidth:xe},name:"fan-shape-0"});return}var je=[bt,0],We=0;ne.forEach(function(Be,qe){var sr=Be.value/ye;if(!(sr<.001)){if(sr>.999&&(sr=1),sr===1){t.addShape("circle",{attrs:{r:bt,x:0,y:0,stroke:Be.color||Zd[qe%Zd.length],lineWidth:xe},name:"fan-shape-"+qe});return}Be.percent=sr,Be.angle=sr*Math.PI*2,Be.beginAgnle=We,We+=Be.angle,Be.endAngle=We,Be.arcBegin=je,Be.arcEnd=[bt*Math.cos(Be.endAngle),-bt*Math.sin(Be.endAngle)];var hn=Be.angle>Math.PI?1:0,dn=[["M",Be.arcBegin[0],Be.arcBegin[1]],["A",bt,bt,0,hn,0,Be.arcEnd[0],Be.arcEnd[1]],["L",Be.arcEnd[0],Be.arcEnd[1]]];t.addShape("path",{attrs:{path:dn,lineWidth:xe,stroke:Be.color||Zd[qe%Zd.length]},name:"fan-shape-"+qe}),je=Be.arcEnd}})}}return this.drawLinkPoints(n,t),v},update:void 0},"circle");var Xv=function(n){var t=n.x,e=n.y;return{x:t,y:e,centerX:t,centerY:e,minX:t,minY:e,maxX:t,maxY:e,height:0,width:0}},KO=function(n){n===void 0&&(n=[]);var t=[],e=[];n.forEach(function(b){t.push(b.x),e.push(b.y)});var r=Math.min.apply(Math,t),o=Math.max.apply(Math,t),l=Math.min.apply(Math,e),v=Math.max.apply(Math,e);return{centerX:(r+o)/2,centerY:(l+v)/2,maxX:o,maxY:v,minX:r,minY:l,height:v-l,width:o-r}},WC=function(n,t){return Math.abs(n.centerX-t.centerX)*2<n.width+t.width&&Math.abs(n.centerY-t.centerY)*2<n.height+t.height},Lg=function(n){for(var t=[],e={},r=n.length,o=r-1;o>=0;o--){var l=n[o];l.id=l.x+"|||"+l.y,e[l.id]=l,t.push(l)}return t},I0=function(n){return Lg(n)},zC=function(n,t){return[n,{x:n.x,y:t.y},t]},Yv=function(n,t){return n.width||n.height?{centerX:n.centerX,centerY:n.centerY,minX:n.minX-t,minY:n.minY-t,maxX:n.maxX+t,maxY:n.maxY+t,height:n.height+2*t,width:n.width+2*t}:n},$O=function(n,t){var e=Math.abs(n.x-t.centerX),r=Math.abs(n.y-t.centerY);return e===0&&r===0?0:e/t.width>r/t.height},Bg=function(n,t,e){var r=$O(t,n);if(r===0){var o=n.centerX,l=n.centerY;return e.y<t.y?l=n.minY:e.x>t.x?o=n.maxX:e.x<t.x?o=n.minX:e.x===t.x&&(l=n.maxY),{x:o,y:l}}return r?{x:t.x>n.centerX?n.maxX:n.minX,y:t.y}:{x:t.x,y:t.y>n.centerY?n.maxY:n.minY}},j0=function(n,t){var e=Math.min(n.minX,t.minX),r=Math.min(n.minY,t.minY),o=Math.max(n.maxX,t.maxX),l=Math.max(n.maxY,t.maxY);return{centerX:(e+o)/2,centerY:(r+l)/2,minX:e,minY:r,maxX:o,maxY:l,height:l-r,width:o-e}},wg=function(n){return[{x:n.minX,y:n.minY},{x:n.maxX,y:n.minY},{x:n.maxX,y:n.maxY},{x:n.minX,y:n.maxY}]},Kv=function(n,t){var e=n.x,r=n.y;return e<t.minX||e>t.maxX||r<t.minY||r>t.maxY},ZO=function(n,t){return t<n.minX||t>n.maxX?[]:[{x:t,y:n.minY},{x:t,y:n.maxY}]},QO=function(n,t){return t<n.minY||t>n.maxY?[]:[{x:n.minX,y:t},{x:n.maxX,y:t}]},JO=function(n,t){return ZO(n,t.x).concat(QO(n,t.y))},Qd=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},_O=function(n,t){var e=-2,r=0;return t.forEach(function(o){o&&(n.x===o.x&&(r+=e),n.y===o.y&&(r+=e))}),r},L0=function(n,t,e,r,o){return Qd(n,t)+Qd(n,e)+_O(n,[t,e,r,o])},qO=function u(n,t,e,r,o){o===void 0&&(o=0),n.unshift(t[r]),e[r]&&e[r]!==r&&o<=100&&u(n,t,e,e[r],o+1)},tx=function(n,t){var e=n.indexOf(t);e>-1&&n.splice(e,1)},$v=function(n,t,e,r){var o=e.x-n.x,l=e.y-n.y,v=r.x-n.x,b=r.y-n.y,L=e.x-t.x,F=e.y-t.y,U=r.x-t.x,rt=r.y-t.y,ht=o*b-l*v,bt=L*rt-F*U,At=o*F-l*L,wt=v*rt-b*U;return ht*bt<=0&&At*wt<=0},Rg=function(n,t,e){if(e.width||e.height){var r=wg(e),o=r[0],l=r[1],v=r[2],b=r[3];return $v(n,t,o,l)||$v(n,t,o,b)||$v(n,t,l,v)||$v(n,t,v,b)}return!1},ex=function(n,t,e,r){var o=[];return n.forEach(function(l){if(l!==t&&(l.x===t.x||l.y===t.y)){if(Rg(l,t,e)||Rg(l,t,r))return;o.push(l)}}),Lg(o)},rx=function(n,t,e,r,o,l,v){var b=[],L=[t],F={},U={},rt={};U[t.id]=0,rt[t.id]=L0(t,e,t);var ht={};n.forEach(function(kt){ht[kt.id]=kt});for(var bt,At;L.length;){if(bt=void 0,At=Infinity,L.forEach(function(kt){rt[kt.id]<=At&&(At=rt[kt.id],bt=kt)}),bt===e){var wt=[];return qO(wt,ht,F,e.id),wt}tx(L,bt),b.push(bt),ex(n,bt,r,o).forEach(function(kt){if(b.indexOf(kt)===-1){L.indexOf(kt)===-1&&L.push(kt);var Ut=rt[bt.id]+Qd(bt,kt);U[kt.id]&&Ut>=U[kt.id]||(F[kt.id]=bt.id,U[kt.id]=Ut,rt[kt.id]=U[kt.id]+L0(kt,e,t,l,v))}})}return[t,e]},nx=function(n,t,e){return!(n.x===t.x&&t.x===e.x||n.y===t.y&&t.y===e.y)},ax=function(n,t,e,r){var o=Qd(n,t),l=Qd(e,t);o<r&&(r=o),l<r&&(r=l);var v={x:t.x-r/o*(t.x-n.x),y:t.y-r/o*(t.y-n.y)},b={x:t.x-r/l*(t.x-e.x),y:t.y-r/l*(t.y-e.y)};return[v,b]},B0=function(n,t){var e=[],r=n[0];return e.push("M"+r.x+" "+r.y),n.forEach(function(o,l){var v=n[l+1],b=n[l+2];if(v&&b)if(nx(o,v,b)){var L=ax(o,v,b,t),F=L[0],U=L[1];e.push("L"+F.x+" "+F.y),e.push("Q"+v.x+" "+v.y+" "+U.x+" "+U.y),e.push("L"+U.x+" "+U.y)}else e.push("L"+v.x+" "+v.y);else v&&e.push("L"+v.x+" "+v.y)}),e.join("")},w0=function(n,t,e,r,o){var l,v;if(!e||!e.getType())l=Xv(n);else if(e.getType()==="combo"){var b=e.getKeyShape();l=b.getCanvasBBox()||Xv(n),l.centerX=(l.minX+l.maxX)/2,l.centerY=(l.minY+l.maxY)/2}else l=e.getBBox();if(!r||!r.getType())v=Xv(t);else if(r.getType()==="combo"){var L=r.getKeyShape().getBBox();if(L){var F=r.getModel(),U=F.x,rt=F.y;v={x:U,y:rt,width:L.width,height:L.height,minX:L.minX+U,maxX:L.maxX+U,minY:L.minY+rt,maxY:L.maxY+rt},v.centerX=(v.minX+v.maxX)/2,v.centerY=(v.minY+v.maxY)/2}else v=Xv(t)}else v=r&&r.getBBox();var ht=Yv(l,o),bt=Yv(v,o),At=Bg(ht,n,t),wt=Bg(bt,t,n),kt=KO([At,wt]),Ut=j0(ht,kt),Kt=j0(bt,kt),qt=[];qt=qt.concat(wg(Ut)).concat(wg(Kt));var ne={x:(n.x+t.x)/2,y:(n.y+t.y)/2};[kt,Ut,Kt].forEach(function(xe){qt=qt.concat(JO(xe,ne).filter(function(je){return Kv(je,ht)&&Kv(je,bt)}))}),[{x:At.x,y:wt.y},{x:wt.x,y:At.y}].forEach(function(xe){Kv(xe,ht)&&Kv(xe,bt)&&qt.push(xe)}),qt.unshift(At),qt.push(wt),qt=Lg(qt);var ye=rx(qt,At,wt,l,v,n,t);return ye.unshift(n),ye.push(t),I0(ye)},ix=function(n,t){return Math.abs(n.x-t.x)+Math.abs(n.y-t.y)},ox=function(n,t){return Math.sqrt(Math.pow(n.x-t.x,2)+Math.pow(n.y-t.y,2))},sx=function(n,t){return[n,t]},ux=function(n,t,e,r,o){return I0(w0(n,t,e,r,o.offset))},lx={offset:20,maxAllowedDirectionChange:Math.PI/2,maximumLoops:2e3,gridSize:10,directions:[{stepX:1,stepY:0},{stepX:-1,stepY:0},{stepX:0,stepY:1},{stepX:0,stepY:-1}],get penalties(){return{0:0,45:this.gridSize/2,90:this.gridSize/2}},distFunc:ix,fallbackRoute:ux},kC={maxAllowedDirectionChange:Math.PI/4,directions:[{stepX:1,stepY:0},{stepX:1,stepY:1},{stepX:0,stepY:1},{stepX:-1,stepY:1},{stepX:-1,stepY:0},{stepX:-1,stepY:-1},{stepX:0,stepY:-1},{stepX:1,stepY:-1}],distFunc:ox,fallbackRoute:sx},Qc=function(n,t){var e=Math.round(Math.abs(n/t)),r=n<0?-1:1;return e<0?0:r*e},cx=function(n,t,e){var r={};return n.forEach(function(o){if(!!o)for(var l=Yv(o.getBBox(),e),v=Qc(l.minX,t);v<=Qc(l.maxX,t);v+=1)for(var b=Qc(l.minY,t);b<=Qc(l.maxY,t);b+=1)r[v+"|||"+b]=!0}),r},Fg=function(n,t){var e=t.x-n.x,r=t.y-n.y;return e||r?Math.atan2(r,e):0},R0=function(n,t){var e=Math.abs(n-t);return e>Math.PI?2*Math.PI-e:e},F0=function(n,t,e){for(var r=Infinity,o=0,l=t.length;o<l;o++){var v=e(n,t[o]);v<r&&(r=v)}return r},N0=function(n,t,e,r,o){var l=[];if(!e)return[n];var v=o.directions,b=o.offset,L=e.getBBox(),F=t.x>L.minX&&t.x<L.maxX&&t.y>L.minY&&t.y<L.maxY,U=Yv(L,b);for(var rt in U)U[rt]=Qc(U[rt],o.gridSize);if(F){for(var ht=0,bt=v;ht<bt.length;ht++)for(var At=bt[ht],wt=[[{x:U.minX,y:U.minY},{x:U.maxX,y:U.minY}],[{x:U.minX,y:U.minY},{x:U.minX,y:U.maxY}],[{x:U.maxX,y:U.minY},{x:U.maxX,y:U.maxY}],[{x:U.minX,y:U.maxY},{x:U.maxX,y:U.maxY}]],rt=0;rt<4;rt++){var kt=wt[rt],Ut=Fi.getLineIntersect(n,{x:n.x+At.stepX*U.width,y:n.y+At.stepY*U.height},kt[0],kt[1]);Ut&&!Rg(n,Ut,L)&&(Ut.id=Ut.x+"|||"+Ut.y,l.push(Ut))}return l}var Kt=Bg(U,n,r);return Kt.id=Kt.x+"|||"+Kt.y,[Kt]},Ng=function(n,t,e,r){var o=Fg(n,t);if(!e[n.id]){var l=Fg(r,n);return R0(l,o)}var v=Fg({x:e[n.id].x,y:e[n.id].y},n);return R0(v,o)},fx=function(n,t,e,r,o,l,v){var b=[r],L=n.id,F=n.x,U=n.y,rt={x:F,y:U,id:L};for(Ng(rt,l,t,e)&&b.unshift({x:l.x===r.x?r.x:rt.x*v,y:l.y===r.y?r.y:rt.y*v});t[L]&&t[L].id!==L;){var ht={x:F,y:U,id:L},bt=t[L].id,At=t[L].x,wt=t[L].y,kt={x:At,y:wt,id:bt},Ut=Ng(kt,ht,t,e);Ut&&b.unshift({x:kt.x===ht.x?b[0].x:kt.x*v,y:kt.y===ht.y?b[0].y:kt.y*v}),L=bt,F=At,U=wt}var Kt={x:F,y:U,id:L};return b[0].x=Kt.x===e.x?o.x:b[0].x,b[0].y=Kt.y===e.y?o.y:b[0].y,b.unshift(o),b},hx=function(n,t,e,r,o){if(isNaN(n.x)||isNaN(t.x))return[];var l=Object(y.h)(lx,o);l.obstacles=l.obstacles||[];var v=l.gridSize,b=cx(l.obstacles.concat([e,r]),v,l.offset),L={x:Qc(n.x,v),y:Qc(n.y,v)},F={x:Qc(t.x,v),y:Qc(t.y,v)};n.id=L.x+"|||"+L.y,t.id=F.x+"|||"+F.y;var U=N0(L,n,e,F,l),rt=N0(F,t,r,L,l);U.forEach(function(hn){delete b[hn.id]}),rt.forEach(function(hn){delete b[hn.id]});for(var ht={},bt={},At={},wt={},kt={},Ut=0;Ut<U.length;Ut++){var Kt=U[Ut];ht[Kt.id]=Kt,wt[Kt.id]=0,kt[Kt.id]=F0(Kt,rt,l.distFunc)}for(var qt=l.maximumLoops,ne=l.penalties,ye,xe,je,We,Be,qe,sr;Object.keys(ht).length>0&&qt>0&&(ye=void 0,xe=Infinity,Object.keys(ht).forEach(function(hn){var dn=ht[hn].id;kt[dn]<=xe&&(xe=kt[dn],ye=ht[dn])}),!!ye);){if(rt.findIndex(function(hn){return hn.x===ye.x&&hn.y===ye.y})>-1)return fx(ye,At,L,t,n,F,v);delete ht[ye.id],bt[ye.id]=!0;for(var Ut=0;Ut<l.directions.length;Ut++)je=l.directions[Ut],We={x:ye.x+je.stepX,y:ye.y+je.stepY,id:Math.round(ye.x)+je.stepX+"|||"+(Math.round(ye.y)+je.stepY)},!bt[We.id]&&(sr=Ng(ye,We,At,L),!(sr>l.maxAllowedDirectionChange)&&(b[We.id]||(ht[We.id]||(ht[We.id]=We),Be=l.distFunc(ye,We)+(isNaN(ne[sr])?v:ne[sr]),qe=wt[ye.id]+Be,!(wt[We.id]&&qe>=wt[We.id])&&(At[We.id]=ye,wt[We.id]=qe,kt[We.id]=qe+F0(We,rt,l.distFunc)))));qt-=1}return l.fallbackRoute(n,t,e,r,l)};Vu("polyline",{options:{color:ha.defaultEdge.color,size:ha.defaultEdge.size,style:{radius:0,offset:15,x:0,y:0,stroke:ha.defaultEdge.style.stroke,lineAppendWidth:ha.defaultEdge.style.lineAppendWidth},labelCfg:{style:{fill:ha.edgeLabel.style.fill,fontSize:ha.edgeLabel.style.fontSize}},routeCfg:{obstacles:[],maxAllowedDirectionChange:Math.PI,maximumLoops:500,gridSize:10},stateStyles:Object(pe.a)({},ha.edgeStateStyles)},shapeType:"polyline",labelPosition:"center",drawShape:function(n,t){var e=this.getShapeStyle(n);e.radius===0&&delete e.radius;var r=t.addShape("path",{className:"edge-shape",name:"edge-shape",attrs:e});return r},getShapeStyle:function(n){var t=this.options.style,e={stroke:n.color},r=Object(y.bb)({},t,e,n.style);n=this.getPathPoints(n),this.radius=r.radius,this.offset=r.offset;var o=n.startPoint,l=n.endPoint,v=this.getControlPoints(n),b=[o];v&&(b=b.concat(v)),b.push(l);var L=n.sourceNode,F=n.targetNode,U=r.radius,rt=this.options.routeCfg,ht=Object(y.bb)({},rt,n.routeCfg);ht.offset=r.offset;var bt=this.getPath(b,L,F,U,ht);(Object(y.B)(bt)&&bt.length<=1||Object(y.O)(bt)&&bt.indexOf("L")===-1)&&(bt="M0 0, L0 0"),(isNaN(o.x)||isNaN(o.y)||isNaN(l.x)||isNaN(l.y))&&(bt="M0 0, L0 0");var At=Object(y.bb)({},ha.defaultEdge.style,r,{lineWidth:n.size,path:bt});return At},updateShapeStyle:function(n,t){var e=t.getContainer();if(!!t.isVisible()){var r={stroke:n.color},o=e.find(function(qt){return qt.get("className")==="edge-shape"})||t.getKeyShape(),l=n.size;n=this.getPathPoints(n);var v=n.startPoint,b=n.endPoint,L=this.getControlPoints(n),F=[v];L&&(F=F.concat(L)),F.push(b);var U=o.attr(),rt=Object(y.bb)({},r,U,n.style),ht=n.sourceNode,bt=n.targetNode,At=rt.radius,wt=this.options.routeCfg,kt=Object(y.bb)({},wt,n.routeCfg);kt.offset=rt.offset;var Ut=this.getPath(F,ht,bt,At,kt);(Object(y.B)(Ut)&&Ut.length<=1||Object(y.O)(Ut)&&Ut.indexOf("L")===-1)&&(Ut="M0 0, L0 0"),(isNaN(v.x)||isNaN(v.y)||isNaN(b.x)||isNaN(b.y))&&(Ut="M0 0, L0 0"),U.endArrow&&rt.endArrow===!1&&(n.style.endArrow={path:""}),U.startArrow&&rt.startArrow===!1&&(n.style.startArrow={path:""});var Kt=Object(y.bb)(r,o.attr(),{lineWidth:l,path:Ut},n.style);o&&o.attr(Kt)}},getPath:function(n,t,e,r,o){var l=o.offset,v=o.simple;if(!l||n.length>2){if(r)return B0(n,r);var b=[];return Object(y.j)(n,function(rt,ht){ht===0?b.push(["M",rt.x,rt.y]):b.push(["L",rt.x,rt.y])}),b}var L=v?w0(n[n.length-1],n[0],e,t,l):hx(n[0],n[n.length-1],t,e,o);if(!L||!L.length)return"M0 0, L0 0";if(r){var F=B0(L,r);return F}var U=Fi.pointsToPolygon(L);return U}},"single-edge");var G0=Bf.cloneEvent,U0=Bf.isNaN,W0=Math.abs,dx=10,vx=["shift","ctrl","alt","control"],gx={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,scalableRange:0,allowDragOnItem:!1}},getEvents:function(){return{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"onMouseUp",keyup:"onKeyUp",focus:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onMouseUp"}},updateViewport:function(n){var t=this.origin,e=+n.clientX,r=+n.clientY;if(!(U0(e)||U0(r))){var o=e-t.x,l=r-t.y;this.get("direction")==="x"?l=0:this.get("direction")==="y"&&(o=0),this.origin={x:e,y:r};var v=this.graph.get("width"),b=this.graph.get("height"),L=this.graph.get("canvas").getCanvasBBox(),F=this.scalableRange,U=this.scalableRange;F<1&&F>-1&&(F=v*F,U=b*U),(L.minX<=v+F&&L.minX+o>v+F||L.maxX+F>=0&&L.maxX+F+o<0)&&(o=0),(L.minY<=b+U&&L.minY+l>b+U||L.maxY+U>=0&&L.maxY+U+l<0)&&(l=0),this.graph.translate(o,l)}},onTouchStart:function(n){var t=this,e=n.originalEvent.touches,r=e[0],o=e[1];r&&o||(n.preventDefault(),t.onMouseDown(n))},onMouseDown:function(n){var t=this,e=n.originalEvent;if(!(e&&n.name!==Ol.TOUCHSTART&&e.button!==0)&&!(n.name!==Ol.TOUCHSTART&&typeof window!="undefined"&&window.event&&!window.event.buttons&&!window.event.button)&&!!this.shouldBegin.call(this,n)&&!t.keydown){var r=n.target,o=r&&r.isCanvas&&r.isCanvas();if(!(!this.allowDragOnItem&&!o)&&(t.origin={x:n.clientX,y:n.clientY},t.dragging=!1,this.enableOptimize)){for(var l=this.graph,v=l.getEdges(),b=0,L=v.length;b<L;b++){var F=v[b].get("group").get("children");!F||F.forEach(function(qt){qt.set("ori-visibility",qt.get("ori-visibility")||qt.get("visible")),qt.hide()})}for(var U=l.getNodes(),rt=0,ht=U.length;rt<ht;rt++)for(var bt=U[rt].getContainer(),At=bt.get("children"),wt=0,kt=At;wt<kt.length;wt++){var Ut=kt[wt],Kt=Ut.get("isKeyShape");Kt||(Ut.set("ori-visibility",Ut.get("ori-visibility")||Ut.get("visible")),Ut.hide())}}}},onTouchMove:function(n){var t=this,e=n.originalEvent.touches,r=e[0],o=e[1];if(r&&o){this.onMouseUp(n);return}n.preventDefault(),t.onMouseMove(n)},onMouseMove:function(n){var t=this.graph;if(!this.keydown){var e=n.target,r=e&&e.isCanvas&&e.isCanvas();if(!(!this.allowDragOnItem&&!r)&&(n=G0(n),!!this.origin)){if(this.dragging)n.type="drag",t.emit("canvas:drag",n);else{if(W0(this.origin.x-n.clientX)+W0(this.origin.y-n.clientY)<dx)return;this.shouldBegin.call(this,n)&&(n.type="dragstart",t.emit("canvas:dragstart",n),this.dragging=!0)}this.shouldUpdate.call(this,n)&&this.updateViewport(n)}}},onMouseUp:function(n){var t=this.graph;if(!this.keydown){if(this.enableOptimize){for(var e=t.getEdges(),r=0,o=e.length;r<o;r++){var l=e[r].get("group").get("children");!l||l.forEach(function(kt){var Ut=kt.get("ori-visibility");Ut&&kt.show()})}for(var v=t.getNodes(),b=0,L=v.length;b<L;b++)for(var F=v[b].getContainer(),U=F.get("children"),rt=0,ht=U;rt<ht.length;rt++){var bt=ht[rt],At=bt.get("isKeyShape");if(!At){var wt=bt.get("ori-visibility");wt&&bt.show()}}}if(!this.dragging){this.origin=null;return}n=G0(n),this.shouldEnd.call(this,n)&&this.updateViewport(n),n.type="dragend",t.emit("canvas:dragend",n),this.endDrag()}},endDrag:function(){this.origin=null,this.dragging=!1,this.dragbegin=!1},onKeyDown:function(n){var t=this,e=n.key;!e||(vx.indexOf(e.toLowerCase())>-1?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){this.keydown=!1,this.origin=null,this.dragging=!1,this.dragbegin=!1}},px={getDefaultCfg:function(){return{updateEdge:!0,delegateStyle:{},enableDelegate:!1,onlyChangeComboSize:!1,comboActiveState:"",selectedState:"selected",enableOptimize:!1,enableDebounce:!1}},getEvents:function(){return{"node:dragstart":"onDragStart","node:drag":"onDrag","node:dragend":"onDragEnd","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave","combo:drop":"onDropCombo","node:drop":"onDropNode","canvas:drop":"onDropCanvas"}},validationCombo:function(n){if(!this.origin||!n||n.destroyed)return!1;var t=n.getType();return t==="combo"},onDragStart:function(n){var t=this;if(!!this.shouldBegin.call(this,n)){var e=n.item;if(!(!e||e.destroyed||e.hasLocked())){var r=e.getContainer();r.set("capture",!1);var o=n.target;if(o){var l=o.get("isAnchorPoint");if(l)return}var v=this.graph;this.targets=[],this.targetCombo=null;var b=v.findAllByState("node",this.selectedState),L=e.get("id"),F=b.filter(function(rt){var ht=rt.get("id");return L===ht});F.length===0?this.targets.push(e):b.length>1?b.forEach(function(rt){var ht=rt.hasLocked();ht||t.targets.push(rt)}):this.targets.push(e);var U=[];this.targets.forEach(function(rt){U.push(Object(y.e)(rt.getModel()))}),this.set("beforeDragNodes",U),this.hidenEdge={},this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(rt){var ht=rt.getEdges();ht.forEach(function(bt){!bt.isVisible()||(t.hidenEdge[bt.getID()]=!0,bt.hide())})}),this.origin={x:n.x,y:n.y},this.point={},this.originPoint={}}}},onDrag:function(n){var t=this;!this.origin||!this.shouldUpdate(this,n)||(this.get("enableDelegate")?this.updateDelegate(n):this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge")}):this.targets.map(function(e){t.update(e,n)}))},onDragEnd:function(n){var t=this;if(!(!this.origin||!this.shouldEnd.call(this,n))){var e=n.item;if(e){var r=e.getContainer();r.set("capture",!0)}this.delegateRect&&(this.delegateRect.remove(),this.delegateRect=null),this.updatePositions(n),this.get("updateEdge")&&this.enableOptimize&&!this.enableDelegate&&this.targets.forEach(function(v){var b=v.getEdges();b.forEach(function(L){t.hidenEdge[L.getID()]&&L.show(),L.refresh()})}),this.hidenEdge={};var o=this.graph;if(o.get("enabledStack")){var l={before:{nodes:[],edges:[],combos:[]},after:{nodes:[],edges:[],combos:[]}};this.get("beforeDragNodes").forEach(function(v){l.before.nodes.push({id:v.id,x:v.x,y:v.y})}),this.targets.forEach(function(v){var b=v.getModel();l.after.nodes.push({id:b.id,x:b.x,y:b.y})}),o.pushStack("update",Object(y.e)(l))}o.emit("dragnodeend",{items:this.targets,targetItem:null}),this.point={},this.origin=null,this.originPoint={},this.targets.length=0,this.targetCombo=null}},onDropCombo:function(n){var t=n.item;if(!!this.validationCombo(t)){this.updatePositions(n);var e=this.graph;if(this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1),this.targetCombo=t,this.onlyChangeComboSize)e.updateCombos();else{var r=t.getModel();this.targets.map(function(o){var l=o.getModel();l.comboId!==r.id&&e.updateComboTree(o,r.id)}),e.updateCombo(t)}e.emit("dragnodeend",{items:this.targets,targetItem:this.targetCombo})}},onDropCanvas:function(n){var t=this.graph;!this.targets||this.targets.length===0||(this.updatePositions(n),this.onlyChangeComboSize?t.updateCombos():this.targets.map(function(e){var r=e.getModel();r.comboId&&t.updateComboTree(e)}))},onDropNode:function(n){if(!(!this.targets||this.targets.length===0)){var t=this,e=n.item;this.updatePositions(n);var r=t.graph,o=e.getModel().comboId;if(o)if(this.onlyChangeComboSize)r.updateCombos();else{var l=r.findById(o);t.comboActiveState&&r.setItemState(l,t.comboActiveState,!1),this.targets.map(function(v){var b=v.getModel();o!==b.comboId&&r.updateComboTree(v,o)}),r.updateCombo(l)}else this.targets.map(function(v){var b=v.getModel();b.comboId&&r.updateComboTree(v)});r.emit("dragnodeend",{items:this.targets,targetItem:e})}},onDragEnter:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!0)}},onDragLeave:function(n){var t=n.item;if(!!this.validationCombo(t)){var e=this.graph;this.comboActiveState&&e.setItemState(t,this.comboActiveState,!1)}},updatePositions:function(n){var t=this;!this.targets||this.targets.length===0||this.get("enableDelegate")&&(this.enableDebounce?this.debounceUpdate({targets:this.targets,graph:this.graph,point:this.point,origin:this.origin,evt:n,updateEdge:this.get("updateEdge"),updateFunc:this.update}):this.targets.map(function(e){return t.update(e,n)}))},update:function(n,t){var e=this.origin,r=n.get("model"),o=n.get("id");this.point[o]||(this.point[o]={x:r.x||0,y:r.y||0});var l=t.x-e.x+this.point[o].x,v=t.y-e.y+this.point[o].y,b={x:l,y:v};this.get("updateEdge")?this.graph.updateItem(n,b,!1):n.updatePosition(b)},debounceUpdate:Object(y.g)(function(u){var n=u.targets,t=u.graph,e=u.point,r=u.origin,o=u.evt,l=u.updateEdge,v=u.updateFunc;n.map(function(b){var L=b.get("model"),F=b.get("id");e[F]||(e[F]={x:L.x||0,y:L.y||0});var U=o.x-r.x+e[F].x,rt=o.y-r.y+e[F].y,ht={x:U,y:rt};l?t.updateItem(b,ht,!1):b.updatePosition(ht)})},50,!0),updateDelegate:function(n){var t=this.graph;if(this.delegateRect){var rt=n.x-this.origin.x+this.originPoint.minX,ht=n.y-this.origin.y+this.originPoint.minY;this.delegateRect.attr({x:rt,y:ht})}else{var e=t.get("group"),r=Object(y.h)({},su.delegateStyle,this.delegateStyle),o=this.calculationGroupPosition(n),l=o.x,v=o.y,b=o.width,L=o.height,F=o.minX,U=o.minY;this.originPoint={x:l,y:v,width:b,height:L,minX:F,minY:U},this.delegateRect=e.addShape("rect",{attrs:Object(pe.a)({width:b,height:L,x:l,y:v},r),name:"rect-delegate-shape"}),this.delegate=this.delegateRect,this.delegateRect.set("capture",!1)}},calculationGroupPosition:function(n){var t=this.targets;t.length===0&&t.push(n.item);for(var e=Infinity,r=-Infinity,o=Infinity,l=-Infinity,v=0;v<t.length;v++){var b=t[v],L=b.getBBox(),F=L.minX,U=L.minY,rt=L.maxX,ht=L.maxY;F<e&&(e=F),U<o&&(o=U),rt>r&&(r=rt),ht>l&&(l=ht)}var bt=Math.floor(e),At=Math.floor(o),wt=Math.ceil(r)-Math.floor(e),kt=Math.ceil(l)-Math.floor(o);return{x:bt,y:At,width:wt,height:kt,minX:e,minY:o}}},yx={getDefaultCfg:function(){return{trigger:"mouseenter",activeState:"active",inactiveState:"inactive",resetSelected:!1,shouldUpdate:function(){return!0}}},getEvents:function(){return this.get("trigger")==="mouseenter"?{"node:mouseenter":"setAllItemStates","combo:mouseenter":"setAllItemStates","node:mouseleave":"clearActiveState","combo:mouseleave":"clearActiveState"}:{"node:click":"setAllItemStates","combo:click":"setAllItemStates","canvas:click":"clearActiveState"}},setAllItemStates:function(n){var t=n.item,e=this.graph;if(this.item=t,!!this.shouldUpdate(n.item,{event:n,action:"activate"})){for(var r=this,o=this.activeState,l=this.inactiveState,v=e.getNodes(),b=e.getCombos(),L=e.getEdges(),F=e.get("vedges"),U=v.length,rt=b.length,ht=L.length,bt=F.length,At=0;At<U;At++){var wt=v[At],kt=wt.hasState("selected");r.resetSelected&&kt&&e.setItemState(wt,"selected",!1),e.setItemState(wt,o,!1),l&&e.setItemState(wt,l,!0)}for(var At=0;At<rt;At++){var Ut=b[At],kt=Ut.hasState("selected");r.resetSelected&&kt&&e.setItemState(Ut,"selected",!1),e.setItemState(Ut,o,!1),l&&e.setItemState(Ut,l,!0)}for(var At=0;At<ht;At++){var Kt=L[At];e.setItemState(Kt,o,!1),l&&e.setItemState(Kt,l,!0)}for(var At=0;At<bt;At++){var qt=F[At];e.setItemState(qt,o,!1),l&&e.setItemState(qt,l,!0)}l&&e.setItemState(t,l,!1),e.setItemState(t,o,!0);for(var ne=t.getEdges(),ye=ne.length,At=0;At<ye;At++){var Kt=ne[At],xe=void 0;Kt.getSource()===t?xe=Kt.getTarget():xe=Kt.getSource(),l&&e.setItemState(xe,l,!1),e.setItemState(xe,o,!0),e.setItemState(Kt,l,!1),e.setItemState(Kt,o,!0),Kt.toFront()}e.emit("afteractivaterelations",{item:n.item,action:"activate"})}},clearActiveState:function(n){var t=this,e=t.get("graph");if(!!t.shouldUpdate(n.item,{event:n,action:"deactivate"})){var r=this.activeState,o=this.inactiveState,l=e.get("autoPaint");e.setAutoPaint(!1);for(var v=e.getNodes()||[],b=e.getCombos()||[],L=e.getEdges()||[],F=e.get("vedges")||[],U=v.length,rt=b.length,ht=L.length,bt=F.length,At=0;At<U;At++){var wt=v[At];e.clearItemStates(wt,[r,o])}for(var At=0;At<rt;At++){var kt=b[At];e.clearItemStates(kt,[r,o])}for(var At=0;At<ht;At++){var Ut=L[At];e.clearItemStates(Ut,[r,o,"deactivate"])}for(var At=0;At<bt;At++){var Kt=F[At];e.clearItemStates(Kt,[r,o,"deactivate"])}e.paint(),e.setAutoPaint(l),e.emit("afteractivaterelations",{item:n.item||t.get("item"),action:"deactivate"})}}},Zv=Math.min,z0=Math.max,k0=Math.abs,V0="shift",mx=["drag","shift","ctrl","alt","control"],bx={getDefaultCfg:function(){return{brushStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:V0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return mx.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=V0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates"}:{dragstart:"onMouseDown",drag:"onMouseMove",dragend:"onMouseUp","canvas:click":"clearStates",keyup:"onKeyUp",keydown:"onKeyDown"}},onMouseDown:function(n){var t=n.item,e=this.brush;t||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),e||(e=this.createBrush()),this.originPoint={x:n.canvasX,y:n.canvasY},e.attr({width:0,height:0}),e.show(),this.dragging=!0)},onMouseMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||this.updateBrush(n)},onMouseUp:function(n){var t=this.graph;!this.brush&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.brush.remove(!0),this.brush=null,this.getSelectedNodes(n),this.dragging=!1)},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),o=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),o.forEach(function(l){return t.setItemState(l,e,!1)}),this.selectedNodes=[],this.selectedEdges=[],this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedNodes:function(n){var t=this,e=this,r=e.graph,o=e.originPoint,l=e.shouldUpdate,v=this.selectedState,b={x:n.x,y:n.y},L=r.getPointByCanvas(o.x,o.y),F=Zv(b.x,L.x),U=z0(b.x,L.x),rt=Zv(b.y,L.y),ht=z0(b.y,L.y),bt=[],At=[];r.getNodes().forEach(function(kt){if(!!kt.isVisible()){var Ut=kt.getBBox();if(Ut.centerX>=F&&Ut.centerX<=U&&Ut.centerY>=rt&&Ut.centerY<=ht&&l(kt,"select")){bt.push(kt);var Kt=kt.getModel();At.push(Kt.id),r.setItemState(kt,v,!0)}}});var wt=[];this.includeEdges&&bt.forEach(function(kt){var Ut=kt.getOutEdges();Ut.forEach(function(Kt){if(!!Kt.isVisible()){var qt=Kt.getModel(),ne=qt.source,ye=qt.target;At.includes(ne)&&At.includes(ye)&&l(Kt,"select")&&(wt.push(Kt),r.setItemState(Kt,t.selectedState,!0))}})}),this.selectedEdges=wt,this.selectedNodes=bt,this.onSelect&&this.onSelect(bt,wt),r.emit("nodeselectchange",{selectedItems:{nodes:bt,edges:wt},select:!0})},createBrush:function(){var n=this,t=n.graph.get("canvas").addShape("rect",{attrs:n.brushStyle,capture:!1,name:"brush-shape"});return this.brush=t,this.delegate=t,t},updateBrush:function(n){var t=this.originPoint;this.brush.attr({width:k0(n.canvasX-t.x),height:k0(n.canvasY-t.y),x:Zv(n.canvasX,t.x),y:Zv(n.canvasY,t.y)})},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.keydown=!0:this.keydown=!1}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.keydown=!1}},H0="shift",Ex=["shift","ctrl","alt","control"],Ox={getDefaultCfg:function(){return{multiple:!0,trigger:H0,selectedState:"selected"}},getEvents:function(){var n=this;return Ex.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=H0,console.warn("Behavior brush-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),n.multiple?{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick",keyup:"onKeyUp",keydown:"onKeyDown"}:{"node:click":"onClick","combo:click":"onClick","canvas:click":"onCanvasClick"}},onClick:function(n){var t=this,e=n.item;if(!(!e||e.destroyed)){var r=e.getType(),o=t.graph,l=t.keydown,v=t.multiple,b=t.shouldUpdate,L=t.shouldBegin;if(!!L.call(t,n)){if(!l||!v){var F=o.findAllByState(r,t.selectedState);Object(y.j)(F,function(ht){ht!==e&&o.setItemState(ht,t.selectedState,!1)})}if(e.hasState(t.selectedState)){b.call(t,n)&&o.setItemState(e,t.selectedState,!1);var U=o.findAllByState("node",t.selectedState),rt=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:U,combos:rt},select:!1})}else{b.call(t,n)&&o.setItemState(e,t.selectedState,!0);var U=o.findAllByState("node",t.selectedState),rt=o.findAllByState("combo",t.selectedState);o.emit("nodeselectchange",{target:e,selectedItems:{nodes:U,combos:rt},select:!0})}}}},onCanvasClick:function(){var n=this,t=this.graph,e=t.findAllByState("node",this.selectedState);Object(y.j)(e,function(o){t.setItemState(o,n.selectedState,!1)});var r=t.findAllByState("combo",this.selectedState);Object(y.j)(r,function(o){t.setItemState(o,n.selectedState,!1)}),t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[],combos:[]},select:!1})},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===this.trigger.toLowerCase()||e.toLowerCase()==="control"?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.keydown=!1}},xx=S.transform,X0=.05,Cx={getDefaultCfg:function(){return{sensitivity:2,minZoom:void 0,maxZoom:void 0,enableOptimize:!1,optimizeZoom:.1,fixSelectedItems:{fixAll:!1,fixLineWidth:!1,fixLabel:!1,fixState:"selected"}}},getEvents:function(){var n=this.fixSelectedItems;return n.fixState||(n.fixState="selected"),n.fixAll&&(n.fixLineWidth=!0,n.fixLabel=!0),{wheel:"onWheel",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd"}},onTouchStart:function(n){var t=n.originalEvent.touches,e=t[0],r=t[1];n.preventDefault(),!!r&&(this.shouldBegin&&!this.shouldBegin.call(this,n)||(this.startPoint={pageX:e.pageX,pageY:e.pageY},this.moveable=!0,r&&(this.endPoint={pageX:r.pageX,pageY:r.pageY}),this.originScale=this.graph.getZoom()||this.currentScale||1))},onTouchMove:function(n){if(!!this.moveable){n.preventDefault();var t=n.originalEvent.touches,e=t[0],r=t[1];if(!!r){this.endPoint||(this.endPoint={pageX:r.pageX,pageY:r.pageY});var o=function(ht,bt){return Math.hypot(bt.x-ht.x,bt.y-ht.y)},l=o({x:e.pageX,y:e.pageY},{x:r.pageX,y:r.pageY})/o({x:this.startPoint.pageX,y:this.startPoint.pageY},{x:this.endPoint.pageX,y:this.endPoint.pageY}),v=this.originScale*l;this.currentScale=v;var b=this.get("minZoom")||this.graph.get("minZoom"),L=this.get("maxZoom")||this.graph.get("maxZoom");if(!(v>L||v<b)){var F=this.graph.get("canvas"),U=F.getPointByClient(n.clientX,n.clientY);this.graph.zoomTo(v,{x:U.x,y:U.y}),this.graph.emit("wheelzoom",n)}}}},onTouchEnd:function(){this.moveable=!1,this.endPoint=null},onWheel:function(n){var t=this,e=this,r=e.graph,o=e.fixSelectedItems;if(!(this.shouldBegin&&!this.shouldBegin.call(this,n))&&!!this.shouldUpdate.call(this,n)){n.preventDefault();var l=r.get("canvas"),v=l.getPointByClient(n.clientX,n.clientY),b=this.get("sensitivity"),L=r.getZoom(),F=L,U=L;n.wheelDelta<0?F=1-X0*b:F=1/(1-X0*b),U=L*F;var rt=this.get("minZoom")||r.get("minZoom"),ht=this.get("maxZoom")||r.get("maxZoom");if(!(U>ht||U<rt)){var bt=this.get("enableOptimize");if(bt){var At=this.get("optimizeZoom"),wt=this.get("optimized"),kt=r.getNodes(),Ut=r.getEdges(),Kt=kt.length,qt=Ut.length;if(!wt){for(var ne=0;ne<Kt;ne++){var ye=kt[ne];if(!ye.destroyed)for(var xe=ye.get("group").get("children"),je=xe.length,We=0;We<je;We++){var Be=xe[We];!Be.destoryed&&!Be.get("isKeyShape")&&(Be.set("ori-visibility",Be.get("ori-visibility")||Be.get("visible")),Be.hide())}}for(var qe=0;qe<qt;qe++)for(var sr=Ut[qe],xe=sr.get("group").get("children"),je=xe.length,We=0;We<je;We++){var Be=xe[We];Be.set("ori-visibility",Be.get("ori-visibility")||Be.get("visible")),Be.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var hn=setTimeout(function(){var ld=r.getZoom(),cu=t.get("optimized");if(cu){t.set("optimized",!1);for(var Jc=0;Jc<Kt;Jc++){var mh=kt[Jc],yc=mh.get("group").get("children"),_c=yc.length;if(ld<At){var qc=mh.getKeyShape(),wl=qc.get("ori-visibility");wl&&qc.show()}else for(var Rl=0;Rl<_c;Rl++){var mc=yc[Rl],wl=mc.get("ori-visibility");!mc.get("visible")&&wl&&wl&&mc.show()}}for(var mi=0;mi<qt;mi++){var Ff=Ut[mi],yc=Ff.get("group").get("children"),_c=yc.length;if(ld<At){var qc=Ff.getKeyShape(),wl=qc.get("ori-visibility");wl&&qc.show()}else for(var Rl=0;Rl<_c;Rl++){var mc=yc[Rl];if(!mc.get("visible")){var wl=mc.get("ori-visibility");wl&&mc.show()}}}}},100);this.set("timeout",hn)}if(L<=1){var dn=void 0,vn=void 0;if(o.fixAll||o.fixLineWidth||o.fixLabel){dn=r.findAllByState("node",o.fixState),vn=r.findAllByState("edge",o.fixState);for(var aa=L/U,ra=dn.length,Rn=0;Rn<ra;Rn++){var ye=dn[Rn],Gn=ye.getContainer(),Qn=ye.getModel(),gn=ye.getOriginStyle(),Jn=ye.getStateStyle(o.fixState),Pa=ye.get("shapeFactory").getShape(Qn.type).getStateStyle(o.fixState,ye)[o.fixState];if(o.fixAll){if(U<=1){var Cn=Object(y.e)(Gn.getMatrix());Cn||(Cn=[1,0,0,0,1,0,0,0,1]);var Yn=ye.getModel(),li=Yn.x,yi=Yn.y;Cn=xx(Cn,[["t",-li,-yi],["s",aa,aa],["t",li,yi]]),Gn.setMatrix(Cn)}}else for(var xe=Gn.get("children"),je=xe.length,We=0;We<je;We++){var Be=xe[We],Ri=void 0,Zr=void 0;if(o.fixLabel){var lo=Be.get("type");if(lo==="text"){Ri=Be.attr("fontSize")||12;var La=Jn[Be.get("name")],oa=Pa[Be.get("name")],ao=La?La.fontSize:12,So=oa?oa.fontSize:12,Mo=ao||So||12;if(U<=1&&Be.attr("fontSize",Mo/U),Zr)break}}if(o.fixLineWidth&&Be.get("isKeyShape")){Zr=Be.attr("lineWidth")||0;var Ls=Jn.lineWidth||Pa.lineWidth||gn.lineWidth||0;if(U<=1&&Be.attr("lineWidth",Ls/U),Ri)break}}}for(var Zu=vn.length,yh=0;yh<Zu;yh++)for(var sr=vn[yh],Gn=sr.getContainer(),xe=Gn.get("children"),Qn=sr.getModel(),Jn=sr.getStateStyle(o.fixState),Pa=sr.get("shapeFactory").getShape(Qn.type).getStateStyle(o.fixState,sr)[o.fixState],je=xe.length,We=0;We<je;We++){var Be=xe[We],Ri=void 0,Zr=void 0;if(o.fixLabel||o.fixAll){var lo=Be.get("type");if(lo==="text"){Ri=Be.attr("fontSize")||12;var La=Jn[Be.get("name")],oa=Pa[Be.get("name")],ao=La?La.fontSize:12,So=oa?oa.fontSize:12,Mo=ao||So||12;if(U<=1&&Be.attr("fontSize",Mo/U),Zr)break}}if((o.fixLineWidth||o.fixAll)&&Be.get("isKeyShape")){Zr=Be.attr("lineWidth")||0;var Ls=Jn.lineWidth||Pa.lineWidth||1;if(U<=1&&Be.attr("lineWidth",Ls/U),Ri)break}}}}r.zoomTo(U,{x:v.x,y:v.y}),r.emit("wheelzoom",n)}}}},Y0={onMouseEnter:function(n){var t=n.item;this.currentTarget=t,this.showTooltip(n),this.graph.emit("tooltipchange",{item:n.item,action:"show"})},onMouseMove:function(n){if(!this.shouldUpdate(n)){this.hideTooltip();return}!this.currentTarget||n.item!==this.currentTarget||this.updatePosition(n)},onMouseLeave:function(n){!this.shouldEnd(n)||(this.hideTooltip(),this.graph.emit("tooltipchange",{item:this.currentTarget,action:"hide"}),this.currentTarget=null)},showTooltip:function(n){var t=this.container;if(!(!n.item||n.item.destroyed)){t||(t=this.createTooltip(this.graph.get("canvas")),this.container=t);var e=this.formatText(n.item.get("model"),n);t.innerHTML=e,Object(Va.e)(this.container,{visibility:"visible"}),this.updatePosition(n)}},hideTooltip:function(){Object(Va.e)(this.container,{visibility:"hidden"})},updatePosition:function(n){var t=this.get("shouldBegin"),e=this,r=e.width,o=e.height,l=e.container,v=e.graph;if(!t(n)){Object(Va.e)(l,{visibility:"hidden"});return}var b=v.getPointByClient(n.clientX,n.clientY),L=v.getCanvasByPoint(b.x,b.y),F=L.x,U=L.y,rt=l.getBoundingClientRect();F>r/2?F-=rt.width:F+=this.offset,U>o/2?U-=rt.height:U+=this.offset;var ht=F+"px",bt=U+"px";Object(Va.e)(this.container,{left:ht,top:bt,visibility:"visible"})},createTooltip:function(n){var t=n.get("el");t.style.position="relative";var e=Object(Va.b)('<div class="g6-tooltip g6-'+this.item+'-tooltip"></div>');return t.parentNode.appendChild(e),Object(Va.e)(e,{position:"absolute",visibility:"visible"}),this.width=n.get("width"),this.height=n.get("height"),this.container=e,this.graph.get("tooltips").push(e),e}},Ax=Object(pe.a)({getDefaultCfg:function(){return{item:"node",offset:12,formatText:function(t){return t.label}}},getEvents:function(){return{"node:mouseenter":"onMouseEnter","node:mouseleave":"onMouseLeave","node:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Y0),Sx=Object(pe.a)({getDefaultCfg:function(){return{item:"edge",offset:12,formatText:function(t){return"source: "+t.source+" target: "+t.target}}},getEvents:function(){return{"edge:mouseenter":"onMouseEnter","edge:mouseleave":"onMouseLeave","edge:mousemove":"onMouseMove",afterremoveitem:"onMouseLeave"}}},Y0),K0="click",Mx=["click","dblclick"],Tx={getDefaultCfg:function(){return{trigger:K0,onChange:function(){}}},getEvents:function(){var n,t;return Mx.includes(this.trigger)?t=this.trigger:(t=K0,console.warn("Behavior collapse-expand \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["node:"+t]="onNodeClick",n.touchstart="onNodeClick",n},onNodeClick:function(n){var t=n.item;if(!!t){var e=this.graph.findDataById(t.get("id"));if(!!e){var r=e.children;if(!(!r||r.length===0)){var o=!e.collapsed;!this.shouldBegin(n,o)||(e.collapsed=o,t.getModel().collapsed=o,this.graph.emit("itemcollapsed",{item:n.item,collapsed:o}),!!this.shouldUpdate(n,o)&&(this.onChange(t,o),this.graph.layout()))}}}}},Dx=Bf.calculationItemsBBox,Px=function u(n,t){if(t(n)!==!1&&n){var e=n.get("combos");if(e.length===0)return!1;Object(y.j)(e,function(r){u(r,t)})}},Ix={getDefaultCfg:function(){return{enableDelegate:!1,delegateStyle:{},onlyChangeComboSize:!1,activeState:"",selectedState:"selected"}},getEvents:function(){return{"combo:dragstart":"onDragStart","combo:drag":"onDrag","combo:dragend":"onDragEnd","combo:drop":"onDrop","node:drop":"onNodeDrop","combo:dragenter":"onDragEnter","combo:dragleave":"onDragLeave"}},validationCombo:function(n){var t=n.item;if(!t||t.destroyed||!this.shouldUpdate(this,n))return!1;var e=t.getType();return e==="combo"},onDragStart:function(n){var t=this,e=this.graph,r=n.item;if(!!this.validationCombo(n)){this.targets=[];var o=e.findAllByState("combo",this.selectedState),l=r.get("id"),v=o.filter(function(b){var L=b.get("id");return l===L});v.length===0?this.targets.push(r):this.targets=o,this.activeState&&this.targets.map(function(b){var L=b.getModel();if(L.parentId){var F=e.findById(L.parentId);F&&e.setItemState(F,t.activeState,!0)}}),this.point={},this.originPoint={},this.origin={x:n.x,y:n.y},this.currentItemChildCombos=[],Px(r,function(b){if(b.destroyed)return!1;var L=b.getModel();return t.currentItemChildCombos.push(L.id),!0})}},onDrag:function(n){var t=this;if(!!this.origin&&!!this.validationCombo(n))if(this.enableDelegate)this.updateDelegate(n);else{if(this.activeState){var e=this.graph,r=n.item,o=r.getModel(),l=e.getCombos(),v=r.getBBox(),b=v.centerX,L=v.centerY,F=v.width,U=l.filter(function(rt){var ht=rt.getModel();return o.parentId,ht.id!==o.id&&!t.currentItemChildCombos.includes(ht.id)});U.map(function(rt){var ht=rt.getBBox(),bt=ht.centerX,At=ht.centerY,wt=ht.width,kt=b-bt,Ut=L-At,Kt=2*Math.sqrt(kt*kt+Ut*Ut);F+wt-Kt>.8*F?e.setItemState(rt,t.activeState,!0):e.setItemState(rt,t.activeState,!1)})}Object(y.j)(this.targets,function(rt){t.updateCombo(rt,n)})}},updatePositions:function(n){var t=this;this.enableDelegate&&Object(y.j)(this.targets,function(e){t.updateCombo(e,n)})},onDrop:function(n){var t=this,e=n.item;if(!(!e||!this.targets||e.destroyed)){this.updatePositions(n);var r=this.graph,o=e.getModel();this.targets.map(function(l){var v=l.getModel();v.parentId!==o.id?(t.activeState&&r.setItemState(e,t.activeState,!1),t.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l,o.id)):r.updateCombo(e)}),this.end(e,n),this.endComparison=!0}},onNodeDrop:function(n){var t=this;if(!(!this.targets||this.targets.length===0)){this.updatePositions(n);var e=this.graph,r=n.item,o=r.getModel().comboId,l;if(o){if(this.activeState){var v=e.findById(o);e.setItemState(v,this.activeState,!1)}this.targets.map(function(b){t.onlyChangeComboSize?e.updateCombo(b):o!==b.getID()&&(l=e.findById(o),o!==b.getModel().parentId&&e.updateComboTree(b,o))})}else this.targets.map(function(b){if(t.onlyChangeComboSize)e.updateCombo(b);else{var L=b.getModel();L.comboId&&e.updateComboTree(b)}});this.endComparison=!0,this.end(l,n)}},onDragEnter:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!0)}},onDragLeave:function(n){if(!!this.origin&&!!this.validationCombo(n)){var t=n.item,e=this.graph;this.activeState&&e.setItemState(t,this.activeState,!1)}},onDragEnd:function(n){if(!(!this.targets||this.targets.length===0)){var t=n.item;this.updatePositions(n);var e=this.getParentCombo(t.getModel().parentId),r=this.graph;e&&this.activeState&&r.setItemState(e,this.activeState,!1),this.end(void 0,n)}},end:function(n,t){var e=this;if(!!this.origin){var r=this.graph;if(this.delegateShape){var o=r.get("delegateGroup");o.clear(),this.delegateShape=null}n&&this.activeState&&r.setItemState(n,this.activeState,!1),n||this.targets.map(function(l){e.onlyChangeComboSize?r.updateCombo(l):r.updateComboTree(l)}),this.point=[],this.origin=null,this.originPoint=null,this.targets.length=0}},traverse:function(n,t){var e=this;if(t(n)!==!1&&n){var r=n.get("combos");Object(y.j)(r,function(l){e.traverse(l,t)});var o=n.get("nodes");Object(y.j)(o,function(l){e.traverse(l,t)})}},updateCombo:function(n,t){var e=this;this.traverse(n,function(r){return r.destroyed?!1:(e.updateSignleItem(r,t),!0)})},updateSignleItem:function(n,t){var e=this.origin,r=this.graph,o=n.getModel(),l=n.get("id");this.point[l]||(this.point[l]={x:o.x,y:o.y});var v=t.x-e.x+this.point[l].x,b=t.y-e.y+this.point[l].y;r.updateItem(n,{x:v,y:b})},getParentCombo:function(n){var t=this.graph;if(!!n){var e=t.findById(n);if(!!e)return e}},updateDelegate:function(n){var t=this.graph;if(this.delegateShape){var rt=n.x-this.origin.x+this.originPoint.minX,ht=n.y-this.origin.y+this.originPoint.minY;this.delegateShape.attr({x:rt,y:ht})}else{var e=t.get("delegateGroup"),r=null;this.targets.length>1?r=Dx(this.targets):r=this.targets[0].getBBox();var o=r.x,l=r.y,v=r.width,b=r.height,L=r.minX,F=r.minY;this.originPoint={x:o,y:l,width:v,height:b,minX:L,minY:F};var U=Object(pe.a)(Object(pe.a)({},su.delegateStyle),this.delegateStyle);this.delegateShape=e.addShape("rect",{attrs:Object(pe.a)({width:r.width,height:r.height,x:r.x,y:r.y},U),name:"combo-delegate-shape"}),this.delegate=this.delegateShape}}},$0="dblclick",jx=["click","dblclick"],Lx={getDefaultCfg:function(){return{trigger:$0,relayout:!0}},getEvents:function(){var n,t;return jx.includes(this.trigger)?t=this.trigger:(t=$0,console.warn("Behavior collapse-expand-group \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click' \u6216 'dblclick'")),n={},n["combo:"+t]="onComboClick",n},onComboClick:function(n){var t=n.item,e=this,r=e.graph,o=e.relayout;if(!(!t||t.destroyed||t.getType()!=="combo")){var l=t.getModel(),v=l.id;!v||(r.collapseExpandCombo(v),o&&r.get("layout")?r.layout():r.refreshPositions())}}},Bx=Bf.isPolygonsIntersect,wx=Bf.pathToPoints,Z0="shift",Rx=["drag","shift","ctrl","alt","control"],Fx=function(n,t){var e,r=n.getKeyShape();if(n.get("type")==="path")e=wx(r.attr("path"));else{var o=r.getCanvasBBox();e=[[o.minX,o.minY],[o.maxX,o.minY],[o.maxX,o.maxY],[o.minX,o.maxY]]}return Bx(t,e)},Nx={getDefaultCfg:function(){return{delegateStyle:{fill:"#EEF6FF",fillOpacity:.4,stroke:"#DDEEFE",lineWidth:1},onSelect:function(){},onDeselect:function(){},selectedState:"selected",trigger:Z0,includeEdges:!0,selectedEdges:[],selectedNodes:[]}},getEvents:function(){return Rx.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=Z0,console.warn("Behavior lasso-select \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.trigger==="drag"?{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd","canvas:click":"clearStates"}:{dragstart:"onDragStart",drag:"onDragMove",dragend:"onDragEnd",keyup:"onKeyUp",keydown:"onKeyDown","canvas:click":"clearStates"}},onDragStart:function(n){var t=this.lasso,e=n.item;e||this.trigger!=="drag"&&!this.keydown||(this.selectedNodes&&this.selectedNodes.length!==0&&this.clearStates(),t||(t=this.createLasso()),this.dragging=!0,this.originPoint={x:n.x,y:n.y},this.points.push(this.originPoint),t.show())},onDragMove:function(n){!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push({x:n.x,y:n.y}),this.updateLasso(n))},onDragEnd:function(n){!this.lasso&&!this.dragging||this.trigger!=="drag"&&!this.keydown||(this.points.push(this.originPoint),this.getSelectedItems(),this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1)},getLassoPath:function(){var n=this.points,t=[];return n.length&&(n.forEach(function(e,r){r===0?t.push(["M",e.x,e.y]):t.push(["L",e.x,e.y])}),t.push(["L",n[0].x,n[0].y])),t},clearStates:function(){var n=this,t=n.graph,e=n.selectedState,r=t.findAllByState("node",e),o=t.findAllByState("edge",e);r.forEach(function(l){return t.setItemState(l,e,!1)}),o.forEach(function(l){return t.setItemState(l,e,!1)}),this.onDeselect&&this.onDeselect(this.selectedNodes,this.selectedEdges),this.selectedNodes=[],this.selectedEdges=[],t.emit("nodeselectchange",{selectedItems:{nodes:[],edges:[]},select:!1})},getSelectedItems:function(){var n=this,t=this,e=t.graph,r=t.shouldUpdate,o=this.points.map(function(F){return[e.getCanvasByPoint(F.x,F.y).x,e.getCanvasByPoint(F.x,F.y).y]}),l=this.selectedState,v=[],b=[];e.getNodes().forEach(function(F){if(!!F.isVisible()&&Fx(F,o)&&r(F,"select")){v.push(F);var U=F.getModel();b.push(U.id),e.setItemState(F,l,!0)}});var L=[];this.includeEdges&&v.forEach(function(F){var U=F.getOutEdges();U.forEach(function(rt){if(!!rt.isVisible()){var ht=rt.getModel(),bt=ht.source,At=ht.target;b.includes(bt)&&b.includes(At)&&r(rt,"select")&&(L.push(rt),e.setItemState(rt,n.selectedState,!0))}})}),this.selectedEdges=L,this.selectedNodes=v,this.onSelect&&this.onSelect(v,L),e.emit("nodeselectchange",{selectedItems:{nodes:v,edges:L},select:!0})},createLasso:function(){var n=this,t=n.graph.get("delegateGroup").addShape("path",{attrs:Object(pe.a)({path:[]},n.delegateStyle),capture:!1,name:"lasso-shape"});return this.lasso=t,this.delegate=t,this.points=[],t},updateLasso:function(n){var t=this;this.lasso.attr({path:t.getLassoPath()})},onKeyDown:function(n){var t=n.key;!t||(t.toLowerCase()===this.trigger.toLowerCase()?this.keydown=!0:this.keydown=!1)},onKeyUp:function(){this.lasso&&(this.lasso.remove(!0),this.lasso=null,this.points=[],this.dragging=!1),this.keydown=!1}},Q0="click",Gx=["click","drag"],J0=void 0,Ux=["shift","ctrl","control","alt","meta",void 0],Wx={getDefaultCfg:function(){return{trigger:Q0,key:J0,edgeConfig:{},getEdgeConfig:void 0}},getEvents:function(){var n=this;Gx.indexOf(n.trigger.toLowerCase())>-1||(n.trigger=Q0,console.warn("Behavior create-edge \u7684 trigger \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'click'\uFF0C'drag'")),n.key&&Ux.indexOf(n.key.toLowerCase())===-1&&(n.trigger=J0,console.warn("Behavior create-edge \u7684 key \u53C2\u6570\u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'shift'\uFF0C'ctrl'\uFF0C'alt'\uFF0C'control'\uFF0C\u6216 undefined"));var t;return n.trigger==="drag"?t={"node:dragstart":"onClick","combo:dragstart":"onClick",drag:"updateEndPoint","node:drop":"onClick","combo:drop":"onClick",dragend:"onDragEnd"}:n.trigger==="click"&&(t={"node:click":"onClick",mousemove:"updateEndPoint","edge:click":"cancelCreating","canvas:click":"cancelCreating","combo:click":"onClick"}),n.key&&(t.keydown="onKeyDown",t.keyup="onKeyUp"),t},onDragEnd:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item;(!e||e.getID()===t.source||e.getType()!=="node")&&t.cancelCreating({item:t.edge,x:n.x,y:n.y})}},onClick:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=n.item,r=t.graph,o=e.getModel(),l=t.getEdgeConfig;if(t.addingEdge&&t.edge){if(!t.shouldEnd.call(t,n))return;var v=void 0;l&&Object(y.H)(l)?v=l({source:t.source,target:o.id}):v=t.edgeConfig;var b=Object(pe.a)({target:o.id},v);if(t.source===o.id&&(b.type="loop"),r.emit("beforecreateedge",{}),r.updateItem(t.edge,b,!1),r.get("enabledStack")){var L=Object(pe.a)(Object(pe.a)({},t.edge.getModel()),{itemType:"edge"}),F={};F.edges=[L],r.pushStack("add",{before:{},after:F})}r.emit("aftercreateedge",{edge:t.edge}),t.edge.getKeyShape().set("capture",!0),t.edge=null,t.addingEdge=!1}else{if(!t.shouldBegin.call(t,n))return;var v=void 0;l&&Object(y.H)(l)?v=l({source:o.id,target:o.id}):v=t.edgeConfig,t.edge=r.addItem("edge",Object(pe.a)({source:o.id,target:o.id},v),!1),t.source=o.id,t.addingEdge=!0,t.edge.getKeyShape().set("capture",!1)}}},updateEndPoint:function(n){var t=this;if(!(t.key&&!t.keydown)){var e={x:n.x,y:n.y};if(!t.graph.findById(t.source)){t.addingEdge=!1;return}t.addingEdge&&t.edge&&t.graph.updateItem(t.edge,{target:e},!1)}},cancelCreating:function(n){var t=this;if(!(t.key&&!t.keydown)){var e=t.graph,r=n.item;if(t.addingEdge&&n.target&&n.target.isCanvas&&n.target.isCanvas()){e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1;return}t.addingEdge&&t.edge===r&&(e.removeItem(t.edge,!1),t.edge=null,t.addingEdge=!1)}},onKeyDown:function(n){var t=this,e=n.key;!e||(e.toLowerCase()===t.key.toLowerCase()?t.keydown=!0:t.keydown=!1)},onKeyUp:function(){var n=this;n.addingEdge&&n.edge&&(n.graph.removeItem(n.edge,!1),n.addingEdge=!1,n.edge=null),this.keydown=!1}},_0="ctrl",zx=["shift","ctrl","alt","control"],kx="1",Vx={getDefaultCfg:function(){return{trigger:_0,combinedKey:kx,functionName:"fitView",functionParams:[]}},getEvents:function(){return zx.indexOf(this.trigger.toLowerCase())>-1||(this.trigger=_0,console.warn("Behavior shortcuts-fit-view \u7684 trigger \u53C2\u6570 '"+this.trigger+"' \u4E0D\u5408\u6CD5\uFF0C\u8BF7\u8F93\u5165 'drag'\u3001'shift'\u3001'ctrl' \u6216 'alt'")),this.combinedKey===this.trigger&&(this.combinedKey=void 0),{keyup:"onKeyUp",keydown:"onKeyDown"}},onKeyDown:function(n){var t=n.key;if(!!t){var e=this.trigger.toLowerCase(),r=t.toLowerCase();this.triggerKeydown||(r===e||r==="control"&&e==="ctrl"||r==="ctrl"&&e==="control"?this.triggerKeydown=!0:this.triggerKeydown=!1);var o=this.graph;if(!o[this.functionName])return console.warn("Behavior shortcuts-fit-view \u7684 functionName \u53C2\u6570 '"+this.functionName+"' \u4E0D\u5408\u6CD5\uFF0C\u5B83\u4E0D\u662F Graph \u7684\u4E00\u4E2A\u51FD\u6570\u540D"),{};if(this.triggerKeydown&&!this.combinedKey){this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]();return}var l=this.combinedKey.toLowerCase();this.triggerKeydown&&(r===l||r==="control"&&l==="ctrl"||r==="ctrl"&&l==="control")&&(this.functionParams&&this.functionParams.length?o[this.functionName].apply(o,this.functionParams):o[this.functionName]())}},onKeyUp:function(){this.brush&&(this.brush.remove(!0),this.brush=null,this.dragging=!1),this.triggerKeydown=!1}},Hx=["shift","ctrl","alt","control"],Xx={getDefaultCfg:function(){return{direction:"both",enableOptimize:!1,zoomKey:"ctrl",scalableRange:0}},getEvents:function(){return(!this.zoomKey||Hx.indexOf(this.zoomKey)===-1)&&(this.zoomKey="ctrl"),{wheel:"onWheel"}},onWheel:function(n){var t=this,e=this.graph,r=n[this.zoomKey+"Key"];if(this.zoomKey==="control"&&(r=n.ctrlKey),r){var o=e.get("canvas"),l=o.getPointByClient(n.clientX,n.clientY),v=e.getZoom();n.wheelDelta>0?v=v+v*.05:v=v-v*.05,e.zoomTo(v,{x:l.x,y:l.y})}else{var b=n.deltaX||n.movementX,L=n.deltaY||n.movementY;!L&&navigator.userAgent.indexOf("Firefox")>-1&&(L=-n.wheelDelta*125/3);var F=this.graph.get("width"),U=this.graph.get("height"),rt=this.graph.get("canvas").getCanvasBBox(),ht=this.scalableRange,bt=this.scalableRange;ht<1&&ht>-1&&(ht=F*ht,bt=U*bt),(rt.minX<=F+ht&&rt.minX+b>F+ht||rt.maxX+ht>=0&&rt.maxX+ht+b<0)&&(b=0),(rt.minY<=U+bt&&rt.minY+L>U+bt||rt.maxY+bt>=0&&rt.maxY+bt+L<0)&&(L=0),this.get("direction")==="x"?L=0:this.get("direction")==="y"&&(b=0),e.translate(-b,-L)}n.preventDefault();var At=this.get("enableOptimize");if(At){var wt=this.get("optimizeZoom"),kt=this.get("optimized"),Ut=e.getNodes(),Kt=e.getEdges(),qt=Ut.length,ne=Kt.length;if(!kt){for(var ye=0;ye<qt;ye++){var xe=Ut[ye];if(!xe.destroyed)for(var je=xe.get("group").get("children"),We=je.length,Be=0;Be<We;Be++){var qe=je[Be];!qe.destoryed&&!qe.get("isKeyShape")&&(qe.set("ori-visibility",qe.get("ori-visibility")||qe.get("visible")),qe.hide())}}for(var sr=0;sr<ne;sr++)for(var hn=Kt[sr],je=hn.get("group").get("children"),We=je.length,Be=0;Be<We;Be++){var qe=je[Be];qe.set("ori-visibility",qe.get("ori-visibility")||qe.get("visible")),qe.hide()}this.set("optimized",!0)}clearTimeout(this.get("timeout"));var dn=setTimeout(function(){var vn=e.getZoom(),aa=t.get("optimized");if(aa){t.set("optimized",!1);for(var ra=0;ra<qt;ra++){var Rn=Ut[ra],Gn=Rn.get("group").get("children"),Qn=Gn.length;if(vn<wt){var gn=Rn.getKeyShape(),Jn=gn.get("ori-visibility");Jn&&gn.show()}else for(var Pa=0;Pa<Qn;Pa++){var Cn=Gn[Pa],Jn=Cn.get("ori-visibility");!Cn.get("visible")&&Jn&&Jn&&Cn.show()}}for(var Yn=0;Yn<ne;Yn++){var li=Kt[Yn],Gn=li.get("group").get("children"),Qn=Gn.length;if(vn<wt){var gn=li.getKeyShape(),Jn=gn.get("ori-visibility");Jn&&gn.show()}else for(var Pa=0;Pa<Qn;Pa++){var Cn=Gn[Pa];if(!Cn.get("visible")){var Jn=Cn.get("ori-visibility");Jn&&Cn.show()}}}}},100);this.set("timeout",dn)}}},Yx={"drag-canvas":gx,"zoom-canvas":Cx,"drag-node":px,"activate-relations":yx,"brush-select":bx,"click-select":Ox,"lasso-select":Nx,tooltip:Ax,"edge-tooltip":Sx,"collapse-expand":Tx,"drag-combo":Ix,"collapse-expand-combo":Lx,"create-edge":Wx,"shortcuts-call":Vx,"scroll-canvas":Xx};Object(y.j)(Yx,function(u,n){nl(n,u)});var VC=qs.Minimap,HC=qs.Grid,XC=qs.Bundling,YC=qs.Menu,Kx=qs.Fisheye,KC=qs.ToolBar,$C=qs.Tooltip,$x=qs.TimeBar,Zx=qs.ImageMinimap,Qx=qs.EdgeFilterLens,Jx=qs.SnapLine,q0={version:su.version,Graph:u0,TreeGraph:iE,Util:Bf,Layout:xg,registerLayout:Rb,Global:su,registerBehavior:nl,registerCombo:of,registerEdge:Vu,registerNode:ou,Minimap:qs.Minimap,Grid:qs.Grid,Bundling:qs.Bundling,Menu:qs.Menu,ToolBar:qs.ToolBar,Tooltip:qs.Tooltip,TimeBar:$x,SnapLine:Jx,Fisheye:Kx,ImageMinimap:Zx,EdgeFilterLens:Qx,Algorithm:On,Arrow:ui,Marker:Vi,Shape:Ui};q0.version="4.2.7";var tu=q0,ZC="4.2.7",eu=function(){return eu=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},eu.apply(this,arguments)};tu.registerNode("card-node",{draw:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var o=n&&n.style?n.style:{};o=eu({radius:2,fill:"#fff"},o),e=o.stroke||"#5B8FF9";var l=o.radius||0,v=t.addShape("rect",{attrs:eu({x:0,y:0,width:r[0],height:r[1],stroke:e},o),name:"main-box",draggable:!0}),b=(n==null?void 0:n.title)||(n==null?void 0:n.label),L,F=n&&n.labelCfg&&n.labelCfg.style?n.labelCfg.style:{};if(b){var U=eu({fill:"#fff"},F);L=t.addShape("text",{attrs:eu(eu({textBaseline:"top",x:8,y:2,text:b},U),{fill:"#fff"}),name:"title"})}var rt=L?L.getBBox():{height:r[1]/2},ht=t.addShape("rect",{attrs:{x:0,y:0,width:r[0],height:rt.height+4,fill:e,radius:[l,l,0,0]},name:"title-rect",draggable:!0});L==null||L.toFront();var bt;(n==null?void 0:n.children)&&(bt=t.addShape("marker",{attrs:{x:r[0]/2,y:0,r:6,cursor:"pointer",symbol:n.collapsed?tu.Marker.expand:tu.Marker.collapse,stroke:e,lineWidth:1,fill:"#fff"},name:"collapse-icon"}));var At=n&&n.description?n.description:void 0,wt=ht.getBBox(),kt;if(At&&(kt=t.addShape("text",{attrs:eu({textBaseline:"top",x:8,y:wt.height+8,text:At},F),name:"description"})),kt){var Ut=kt.getBBox(),Kt=wt.height+16+Ut.height,qt=r[0]>Ut.width+16?r[0]:Ut.width+16;v.attr({width:qt,height:Kt}),ht==null||ht.attr("width",qt),bt==null||bt.attr({x:qt,y:Kt/2})}return v},update:void 0},"single-node"),tu.registerNode("round-rect",{drawShape:function(n,t){var e=n&&n.color?n.color:"#5B8FF9",r=n&&n.size?n.size:[100,30];typeof r=="number"&&(r=[r,r]);var o=n&&n.style?n.style:{};o.stroke&&(e=o.stroke);var l=o&&o.fill?o.fill:"#fff";o=eu({width:r[0],height:r[1],radius:r[1]/2,fill:l,lineWidth:1.2,stroke:e},o);var v=t.addShape("rect",{attrs:eu({x:-r[0]/2,y:-r[1]/2},o),name:"rect-shape"});return t.addShape("circle",{attrs:{x:-r[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape"}),t.addShape("circle",{attrs:{x:r[0]/2,y:0,r:3,fill:o.stroke},name:"circle-shape2"}),v},getAnchorPoints:function(){return[[0,.5],[1,.5]]},update:function(n,t){var e=t.getContainer(),r=e.get("children"),o=r[0],l=r[1],v=r[2],b=n.style&&n.style.stroke?n.style.stroke:"#5B8FF9";b&&(o.attr("stroke",b),l.attr("fill",b),v.attr("fill",b))}},"single-node");var _x=function(n){tu.registerNode("icon-node",{options:{size:[60,20],stroke:"#91d5ff",fill:"#91d5ff"},draw:function(e,r){var o=this.getShapeStyle(e),l=(e||{}).labelCfg,v=l===void 0?{}:l,b=r.addShape("rect",{attrs:eu(eu({},o),{x:0,y:0})}),L={fill:"#e6fffb"},F="https://g.alicdn.com/cm-design/arms-trace/1.0.155/styles/armsTrace/images/TAIR.png";return(e==null?void 0:e.leftIcon)&&(L=eu(eu({},L),e.leftIcon.style),F=e.leftIcon.img),r.addShape("rect",{attrs:eu({x:1,y:1,width:38,height:o.height-2},L)}),r.addShape("image",{attrs:{x:8,y:8,width:24,height:24,img:F},name:"image-shape"}),n.enableEdit&&(r.addShape("marker",{attrs:{x:o.width/3,y:o.height+6,r:6,stroke:"#73d13d",cursor:"pointer",symbol:tu.Marker.expand},name:"add-item"}),r.addShape("marker",{attrs:{x:o.width*2/3,y:o.height+6,r:6,stroke:"#ff4d4f",cursor:"pointer",symbol:tu.Marker.collapse},name:"remove-item"})),(e==null?void 0:e.label)&&r.addShape("text",{attrs:eu(eu({},v.style),{text:e.label,x:o.width/2,y:o.height/1.5})}),b}},"rect")};tu.registerEdge("fund-polyline",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,o=r.y-e.y,l=o!==0?Math.min(500/Math.abs(o),20):0,v=l>15?0:16,b=o<0?v:-v,L={x:e.x+l,y:r.y+b},F={x:L.x+v,y:r.y},U={x:(L.x-e.x)*(r.y-e.y)/(L.y-e.y)+e.x,y:r.y},rt=[["M",e.x,e.y],["L",L.x,L.y],["Q",U.x,U.y,F.x,F.y],["L",r.x,r.y]];Math.abs(o)<=5&&(rt=[["M",e.x,e.y],["L",r.x,r.y]]);var ht=(n||{}).style,bt=ht.stroke||(n==null?void 0:n.colorMap)&&n.colorMap[n.dataType]?(n==null?void 0:n.colorMap)[n==null?void 0:n.dataType]:"#5B8FF9",At=(n==null?void 0:n.style)&&n.style.endArrow?n.style.endArrow:!1;Object(y.M)(At)&&(At.fill=bt);var wt=t.addShape("path",{attrs:{path:rt,stroke:bt,lineWidth:ht.lineWidth||1.2,endArrow:At},name:"path-shape"}),kt=0,Ut=8,Kt,qt=F.x+kt;if((n==null?void 0:n.label)&&(Kt=t.addShape("text",{attrs:{text:n.label,x:qt,y:r.y-Ut-2,fontSize:14,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-label"})),n==null?void 0:n.dataType){var ne=Kt?Kt.getBBox():{height:0};t.addShape("text",{attrs:{text:n.dataType,x:qt,y:r.y-Ut-ne.height-2,fontSize:10,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-type"})}return(n==null?void 0:n.subLabel)&&t.addShape("text",{attrs:{text:n.subLabel,x:qt,y:r.y+Ut+4,fontSize:12,fontWeight:300,textAlign:"left",textBaseline:"middle",fill:"#000"},name:"text-shape-sub-label"}),wt},update:void 0},"single-edge"),tu.registerEdge("flow-line",{draw:function(n,t){var e=n==null?void 0:n.startPoint,r=n==null?void 0:n.endPoint,o=(n||{}).style,l=o===void 0?{}:o,v=t.addShape("path",{attrs:{stroke:l.stroke,endArrow:l.endArrow,path:[["M",e.x,e.y],["L",e.x,(e.y+r.y)/2],["L",r.x,(e.y+r.y)/2],["L",r.x,r.y]]}});return v}});var Gg=function(){return Gg=Object.assign||function(u){for(var n,t=1,e=arguments.length;t<e;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(u[r]=n[r])}return u},Gg.apply(this,arguments)},qx={show:!1,size:[150,100],type:"keyShape"},Jd=function(n,t,e){var r,o;return e&&e.current&&(r=e.current.offsetWidth,o=e.current.offsetHeight||500),!n&&!r||!t&&!o?(console.warn("\u8BF7\u4E3A Graph \u6307\u5B9A width \u4E0E height\uFF01\u5426\u5219\u5C06\u4F7F\u7528\u9ED8\u8BA4\u503C 500 * 500"),[500,500]):[n||r||500,t||o||500]},_d=function(n,t){if(!(!t||t.destroyed)){if(n&&n.show){var e=Object.assign(qx,n),r=new tu.Minimap(Gg({},e));return t.addPlugin(r),r}return null}};function Qv(u,n,t){var e=Object(C.useRef)(),r=n.data,o=n.nodeStyle,l=n.nodeAnchorPoints,v=n.nodeType,b=n.edgeType,L=n.edgeStyle,F=n.width,U=n.height,rt=n.layout,ht=n.minimapCfg,bt=n.behaviors,At=n.nodeLabelCfg,wt=n.edgeLabelCfg,kt;return Object(C.useEffect)(function(){u&&!u.destroyed&&u.changeData(r)},[r]),Object(C.useEffect)(function(){u&&!u.destroyed&&u.getNodes().forEach(function(Ut){u.updateItem(Ut,{type:v,style:o,anchorPoints:l,labelCfg:At})})},[o,l,v]),Object(C.useEffect)(function(){u&&!u.destroyed&&u.getEdges().forEach(function(Ut){u.updateItem(Ut,{type:b,style:L,labelCfg:wt})})},[L,b]),Object(C.useEffect)(function(){if(u&&!u.destroyed){var Ut=Jd(F,U,t);u.changeSize(Ut[0],Ut[1])}},[t,F,U]),Object(C.useEffect)(function(){u&&!u.destroyed&&u.updateLayout(rt)},[rt]),Object(C.useEffect)(function(){if(!(!ht||!u||u.destroyed))if(ht.show)kt=_d(ht,u),kt==null||kt.updateCanvas();else{var Ut=u.get("plugins")[0];Ut&&u.removePlugin(Ut)}},[ht]),Object(C.useEffect)(function(){if(u&&!u.destroyed){var Ut=u.get("modes").default,Kt=[];Ut.forEach(function(qt){Object(y.M)(qt)?Kt.push(qt.type):Object(y.O)(qt)&&Kt.push(qt)}),u.removeBehaviors(Kt,"default"),u.addBehaviors(bt,"default")}},[bt]),Object(C.useEffect)(function(){return e.current=u,function(){u&&!u.destroyed&&(u.destroy(),u=void 0)}},[]),{graphHook:e}}var tm={hover:{stroke:"#1890ff",lineWidth:2}},tC={fill:"#91d5ff",stroke:"#40a9ff",radius:5},eC={stroke:"#91d5ff",endArrow:{path:"M 0,0 L 12, 6 L 9,0 L 12, -6 Z",fill:"#91d5ff",d:-20}},rC={type:"compactBox",direction:"TB",getId:function(n){return n.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 40},getHGap:function(){return 70}},em={style:{fill:"#000",fontSize:12}},id={},nC=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,l=n.height,v=n.nodeType,b=v===void 0?"rect":v,L=n.edgeType,F=L===void 0?"flow-line":L,U=n.collapseExpand,rt=U===void 0?!1:U,ht=n.nodeSize,bt=ht===void 0?[120,40]:ht,At=n.nodeLabelCfg,wt=At===void 0?em:At,kt=n.edgeLabelCfg,Ut=kt===void 0?em:kt,Kt=n.layout,qt=Kt===void 0?rC:Kt,ne=n.enableEdit,ye=ne===void 0?!1:ne,xe=n.minimapCfg,je=n.nodeStyle,We=je===void 0?tC:je,Be=n.edgeStyle,qe=Be===void 0?eC:Be,sr=n.nodeStateStyles,hn=sr===void 0?tm:sr,dn=n.edgeStateStyles,vn=dn===void 0?tm:dn,aa=n.handleNodeClick,ra=n.handleEdgeClick,Rn=n.handleNodeHover,Gn=n.handleNodeUnHover,Qn=n.handleEdgeHover,gn=n.handleEdgeUnHover,Jn=n.handleCanvasClick,Pa=n.graphRef,Cn=n.graphId,Yn=Cn===void 0?"defaultOrganizationTreeGraph":Cn,li={data:t,className:e,style:r,width:o,height:l,nodeType:b,edgeType:F,collapseExpand:rt,nodeSize:bt,nodeLabelCfg:wt,edgeLabelCfg:Ut,layout:qt,enableEdit:ye,minimapCfg:xe,nodeStyle:We,edgeStyle:qe,nodeStateStyles:hn,edgeStateStyles:vn,handleNodeClick:aa,handleEdgeClick:ra,handleNodeHover:Rn,handleNodeUnHover:Gn,handleEdgeHover:Qn,handleEdgeUnHover:gn,handleCanvasClick:Jn,graphRef:Pa,graphId:Yn},yi=D.a.useRef(null);return Qv(id[Yn],li,yi),Object(C.useEffect)(function(){var Ri=Jd(o,l,yi);b==="icon-node"&&_x({enableEdit:ye});var Zr=id[Yn];Zr||(Zr=new tu.TreeGraph({container:yi.current,width:Ri[0],height:Ri[1],linkCenter:!0,modes:{default:["drag-canvas","zoom-canvas"]},defaultNode:{type:b,size:bt,style:We,labelCfg:wt},defaultEdge:{type:F,style:qe,labelCfg:Ut},nodeStateStyles:hn,edgeStateStyles:vn,layout:qt}),id[Yn]=Zr),Pa&&(Pa.current=Zr),_d(xe,Zr);var lo=z(t);return Zr.data(lo),Zr.render(),Zr.fitView(),rt&&Zr.addBehaviors({type:"collapse-expand"},"default"),Zr.on("node:mouseenter",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!0),Rn&&Rn(oa,Zr)}),Zr.on("node:mouseleave",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!1),Gn&&Gn(oa,Zr)}),Zr.on("node:click",function(La){var oa=La.item,ao=La.target,So=ao.get("type"),Mo=ao.get("name");if(So==="marker"){var Ls=oa.getModel();if(Mo==="add-item"){Ls.children||(Ls.children=[]);var Zu=Math.random().toString(36).slice(-8);Ls.children.push({id:Zu,label:Zu}),Zr.updateChild(Ls,Ls.id)}else Mo==="remove-item"&&Zr.removeChild(Ls.id)}aa&&aa(oa,Zr)}),Zr.on("edge:mouseenter",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!0),Qn&&Qn(oa,Zr)}),Zr.on("edge:mouseleave",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!1),gn&&gn(oa,Zr)}),Zr.on("edge:click",function(La){var oa=La.item;ra&&ra(oa,Zr)}),Zr.on("canvas:click",function(){Jn==null||Jn(Zr)}),function(){id[Yn]&&(id[Yn].destroy(),delete id[Yn])}},[]),D.a.createElement(at,null,D.a.createElement("div",{className:e,style:r,ref:yi}))},aC=nC,rm={hover:{stroke:"#1890ff",lineWidth:2}},iC=[120,40],oC={stroke:"#40a9ff"},sC=[[.5,0],[.5,1]],uC={stroke:"#91d5ff",endArrow:{path:tu.Arrow.vee(10,10)}},lC={type:"dagre",rankdir:"TB",nodesepFunc:function(){return 0},ranksepFunc:function(){return 0},controlPoints:!0},nm={style:{fill:"#000",fontSize:12}},od={},cC=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,l=n.height,v=n.nodeType,b=v===void 0?"modelRect":v,L=n.edgeType,F=L===void 0?"polyline":L,U=n.behaviors,rt=U===void 0?["zoom-canvas","drag-canvas"]:U,ht=n.nodeSize,bt=ht===void 0?iC:ht,At=n.nodeLabelCfg,wt=At===void 0?nm:At,kt=n.edgeLabelCfg,Ut=kt===void 0?nm:kt,Kt=n.nodeAnchorPoints,qt=Kt===void 0?sC:Kt,ne=n.layout,ye=ne===void 0?lC:ne,xe=n.minimapCfg,je=n.nodeStyle,We=je===void 0?oC:je,Be=n.edgeStyle,qe=Be===void 0?uC:Be,sr=n.nodeStateStyles,hn=sr===void 0?rm:sr,dn=n.edgeStateStyles,vn=dn===void 0?rm:dn,aa=n.handleEdgeClick,ra=n.handleEdgeHover,Rn=n.handleEdgeUnHover,Gn=n.handleNodeClick,Qn=n.handleNodeHover,gn=n.handleNodeUnHover,Jn=n.handleCanvasClick,Pa=n.graphRef,Cn=n.graphId,Yn=Cn===void 0?"defaultDagreGraph":Cn,li={data:t,className:e,style:r,width:o,height:l,nodeType:b,edgeType:F,behaviors:rt,nodeSize:bt,nodeLabelCfg:wt,edgeLabelCfg:Ut,nodeAnchorPoints:qt,layout:ye,minimapCfg:xe,nodeStyle:We,edgeStyle:qe,nodeStateStyles:hn,edgeStateStyles:vn,handleEdgeClick:aa,handleEdgeHover:ra,handleEdgeUnHover:Rn,handleNodeClick:Gn,handleNodeHover:Qn,handleNodeUnHover:gn,handleCanvasClick:Jn,graphRef:Pa,graphId:Yn},yi=D.a.useRef(null);return Qv(od[Yn],li,yi),Object(C.useEffect)(function(){var Ri=Jd(o,l,yi),Zr=od[Yn];Zr||(Zr=new tu.Graph({container:yi.current,width:Ri[0],height:Ri[1],modes:{default:rt},defaultNode:{type:b,size:bt,style:We,anchorPoints:qt,labelCfg:wt},defaultEdge:{type:F,style:qe,labelCfg:Ut},nodeStateStyles:hn,edgeStateStyles:vn,layout:ye,fitView:!0}),od[Yn]=Zr),Pa&&(Pa.current=Zr),_d(xe,Zr);var lo=z(t);return Zr.data(lo),Zr.render(),Zr.fitView(),Zr.on("edge:mouseenter",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!0),ra&&ra(oa,Zr)}),Zr.on("node:mouseenter",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!0),Qn&&Qn(oa,Zr)}),Zr.on("edge:mouseleave",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!1),Rn&&Rn(oa,Zr)}),Zr.on("node:mouseleave",function(La){var oa=La.item;Zr.setItemState(oa,"hover",!1),gn&&gn(oa,Zr)}),Zr.on("edge:click",function(La){var oa=La.item;aa&&aa(oa,Zr)}),Zr.on("node:click",function(La){var oa=La.item;Gn&&Gn(oa,Zr)}),Zr.on("canvas:click",function(){Jn&&Jn(Zr)}),function(){od[Yn]&&(od[Yn].destroy(),delete od[Yn])}},[]),D.a.createElement(at,null,D.a.createElement("div",{className:e,style:r,ref:yi}))},fC=cC,am={hover:{stroke:"#1890ff",lineWidth:2}},hC=[150,30],dC={stroke:"#72CC4A",fill:"#f00"},vC=[[.5,0],[.5,1]],gC={stroke:"#91d5ff",endArrow:{path:tu.Arrow.vee(10,10)}},pC={type:"dagre",rankdir:"LR",nodesep:30,ranksep:50},im={style:{fill:"#000000A6",fontSize:10}},sd={},yC=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,l=n.height,v=n.nodeType,b=v===void 0?"round-rect":v,L=n.edgeType,F=L===void 0?"fund-polyline":L,U=n.behaviors,rt=U===void 0?["zoom-canvas","drag-canvas"]:U,ht=n.nodeSize,bt=ht===void 0?hC:ht,At=n.nodeLabelCfg,wt=At===void 0?im:At,kt=n.edgeLabelCfg,Ut=kt===void 0?im:kt,Kt=n.nodeAnchorPoints,qt=Kt===void 0?vC:Kt,ne=n.layout,ye=ne===void 0?pC:ne,xe=n.minimapCfg,je=n.nodeStyle,We=je===void 0?dC:je,Be=n.edgeStyle,qe=Be===void 0?gC:Be,sr=n.nodeStateStyles,hn=sr===void 0?am:sr,dn=n.edgeStateStyles,vn=dn===void 0?am:dn,aa=n.colorMap,ra=aa===void 0?{}:aa,Rn=n.handleEdgeClick,Gn=n.handleEdgeHover,Qn=n.handleEdgeUnHover,gn=n.handleNodeClick,Jn=n.handleNodeHover,Pa=n.handleNodeUnHover,Cn=n.handleCanvasClick,Yn=n.graphRef,li=n.graphId,yi=li===void 0?"defaultDagreFundFlowGraph":li,Ri=D.a.useRef(null),Zr={data:t,className:e,style:r,width:o,height:l,nodeType:b,edgeType:F,behaviors:rt,nodeSize:bt,nodeLabelCfg:wt,edgeLabelCfg:Ut,nodeAnchorPoints:qt,layout:ye,minimapCfg:xe,nodeStyle:We,edgeStyle:qe,nodeStateStyles:hn,edgeStateStyles:vn,colorMap:ra,handleEdgeClick:Rn,handleEdgeHover:Gn,handleEdgeUnHover:Qn,handleNodeClick:gn,handleNodeHover:Jn,handleNodeUnHover:Pa,handleCanvasClick:Cn,graphRef:Yn,graphId:yi};return Qv(sd[yi],Zr,Ri),Object(C.useEffect)(function(){var lo=Jd(o,l,Ri),La=sd[yi];La||(La=new tu.Graph({container:Ri.current,width:lo[0],height:lo[1],modes:{default:rt},defaultNode:{type:b,size:bt,style:We,anchorPoints:qt,labelCfg:wt},defaultEdge:{type:F,style:qe,colorMap:ra,labelCfg:Ut},nodeStateStyles:hn,edgeStateStyles:vn,layout:ye,fitView:!0}),sd[yi]=La),Yn&&(Yn.current=La),_d(xe,La);var oa=z(t);La.data(oa),La.render();var ao=La.getEdges();return ao.forEach(function(So){var Mo=So.getKeyShape(),Ls=Mo.attr("stroke"),Zu=So.getTarget();Zu.update({style:{stroke:Ls}})}),La.fitView(),La.on("edge:mouseenter",function(So){var Mo=So.item;La.setItemState(Mo,"hover",!0),Gn&&Gn(Mo,La)}),La.on("edge:mouseleave",function(So){var Mo=So.item;La.setItemState(Mo,"hover",!1),Qn&&Qn(Mo,La)}),La.on("edge:click",function(So){var Mo=So.item;Rn&&Rn(Mo,La)}),La.on("node:mouseenter",function(So){var Mo=So.item;La.setItemState(Mo,"hover",!1),Jn&&Jn(Mo,La)}),La.on("node:mouseleave",function(So){var Mo=So.item;La.setItemState(Mo,"hover",!1),Pa&&Pa(Mo,La)}),La.on("node:click",function(So){var Mo=So.item;gn&&gn(Mo,La)}),La.on("canvas:click",function(){Cn==null||Cn(La)}),function(){sd[yi]&&(sd[yi].destroy(),delete sd[yi])}},[]),D.a.createElement(at,null,D.a.createElement("div",{className:e,style:r,ref:Ri}))},mC=yC,om={hover:{stroke:"#1890ff",lineWidth:2}},bC=[120,40],EC={stroke:"#40a9ff"},OC=[[0,.5],[1,.5]],xC={stroke:"#ccc",endArrow:{path:tu.Arrow.vee(10,10),fill:"#ccc"}},CC={type:"indented",direction:"LR",dropCap:!1,indent:250,getHeight:function(){return 60},getWidth:function(){return 100}},AC={style:{fill:"#000",fontSize:12}},ud={},SC=function(n){var t=n.data,e=n.className,r=n.style,o=n.width,l=n.height,v=n.nodeType,b=v===void 0?"card-node":v,L=n.edgeType,F=L===void 0?"cubic-horizontal":L,U=n.behaviors,rt=U===void 0?["zoom-canvas","drag-canvas"]:U,ht=n.nodeSize,bt=ht===void 0?bC:ht,At=n.nodeLabelCfg,wt=At===void 0?AC:At,kt=n.nodeAnchorPoints,Ut=kt===void 0?OC:kt,Kt=n.layout,qt=Kt===void 0?CC:Kt,ne=n.minimapCfg,ye=n.nodeStyle,xe=ye===void 0?EC:ye,je=n.edgeStyle,We=je===void 0?xC:je,Be=n.nodeStateStyles,qe=Be===void 0?om:Be,sr=n.edgeStateStyles,hn=sr===void 0?om:sr,dn=n.collapseExpand,vn=dn===void 0?!0:dn,aa=n.handleEdgeClick,ra=n.handleEdgeHover,Rn=n.handleEdgeUnHover,Gn=n.handleNodeClick,Qn=n.handleNodeHover,gn=n.handleNodeUnHover,Jn=n.handleCanvasClick,Pa=n.graphRef,Cn=n.graphId,Yn=Cn===void 0?"defaultIndentedTreeGraph":Cn,li=D.a.useRef(null),yi={data:t,className:e,style:r,width:o,height:l,nodeType:b,edgeType:F,behaviors:rt,nodeSize:bt,nodeLabelCfg:wt,nodeAnchorPoints:Ut,layout:qt,minimapCfg:ne,nodeStyle:xe,edgeStyle:We,nodeStateStyles:qe,edgeStateStyles:hn,collapseExpand:vn,handleEdgeClick:aa,handleEdgeHover:ra,handleEdgeUnHover:Rn,handleNodeClick:Gn,handleNodeHover:Qn,handleNodeUnHover:gn,handleCanvasClick:Jn,graphRef:Pa,graphId:Yn};return Qv(ud[Yn],yi,li),Object(C.useEffect)(function(){var Ri=Jd(o,l,li),Zr=ud[Yn];Zr||(Zr=new tu.TreeGraph({container:li.current,width:Ri[0],height:Ri[1],modes:{default:rt},defaultNode:{type:b,size:bt,style:xe,anchorPoints:Ut,labelCfg:wt},defaultEdge:{type:F,style:We},nodeStateStyles:qe,edgeStateStyles:hn,layout:qt}),ud[Yn]=Zr),Pa&&(Pa.current=Zr),_d(ne,Zr);var lo=z(t);if(Zr.data(lo),Zr.render(),Zr.fitView(),vn){var La=function(ao){var So=ao.item;ao.target.get("name")==="collapse-icon"?(Zr.updateItem(So,{collapsed:!So.getModel().collapsed}),Zr.layout()):Gn&&Gn(So,Zr)};Zr.on("node:click",function(oa){La(oa)}),Zr.on("node:touchstart",function(oa){La(oa)})}return Zr.on("edge:mouseenter",function(oa){var ao=oa.item;Zr.setItemState(ao,"hover",!0),ra&&ra(ao,Zr)}),Zr.on("edge:mouseleave",function(oa){var ao=oa.item;Zr.setItemState(ao,"hover",!1),Rn&&Rn(ao,Zr)}),Zr.on("edge:click",function(oa){var ao=oa.item;aa&&aa(ao,Zr)}),Zr.on("edge:touchstart",function(oa){var ao=oa.item;aa&&aa(ao,Zr)}),Zr.on("node:mouseenter",function(oa){var ao=oa.item;Zr.setItemState(ao,"hover",!1),Qn&&Qn(ao,Zr)}),Zr.on("node:mouseleave",function(oa){var ao=oa.item;Zr.setItemState(ao,"hover",!1),gn&&gn(ao,Zr)}),Zr.on("canvas:click",function(){Jn==null||Jn(Zr)}),Zr.on("canvas:touchstart",function(){Jn==null||Jn(Zr)}),function(){ud[Yn]&&(ud[Yn].destroy(),delete ud[Yn])}},[]),D.a.createElement(at,null,D.a.createElement("div",{className:e,style:r,ref:li}))},MC=SC,QC={Area:Z,Bar:H,Box:ue,Bullet:Rt,Column:tt,Funnel:Et,Histogram:St,Line:Nt,Liquid:Se,Heatmap:He,Pie:jr,Progress:yr,Radar:In,RingProgress:sa,Rose:pa,Chord:Ci,Scatter:co,TinyArea:_a,TinyColumn:Ye,TinyLine:Oa,Waterfall:da,WordCloud:fa,Sunburst:Fa,DualAxes:tn,Stock:me,RadialBar:Ve,Gauge:br,Sankey:Lr,Treemap:ta,MultiView:Ra,BidirectionalBar:yo,OrganizationTreeGraph:aC,DagreGraph:fC,IndentedTree:MC,DagreFundFlowGraph:mC,G2:R.G2,flow:R.flow,measureTextWidth:R.measureTextWidth,adaptors:R.adaptors}},"0Owb":function(Ft,I,a){"use strict";a.r(I),a.d(I,"default",function(){return f});function f(){return f=Object.assign||function(i){for(var g=1;g<arguments.length;g++){var p=arguments[g];for(var E in p)Object.prototype.hasOwnProperty.call(p,E)&&(i[E]=p[E])}return i},f.apply(this,arguments)}},"0Xep":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"d",function(){return i}),a.d(I,"b",function(){return g}),a.d(I,"c",function(){return p});var f=0,i=1/2,g=1/2,p=.05},"0arJ":function(Ft,I,a){"use strict";a.d(I,"a",function(){return tt});var f=a("lSNA"),i=a.n(f),g=a("lwsE"),p=a.n(g),E=a("W8MJ"),S=a.n(E),A=a("PJYZ"),M=a.n(A),x=a("7W2i"),O=a.n(x),C=a("a1gu"),D=a.n(C),R=a("Nsbk"),y=a.n(R),w=a("IOcx"),N=a("oDt1"),z=a("cDf5"),V=a.n(z),B=9007199254740991,P="[object Arguments]",T="[object Array]",W="[object Boolean]",Q="[object Date]",nt="[object Error]",st="[object Function]",et="[object Map]",_="[object Number]",Y="[object Object]",$="[object RegExp]",q="[object Set]",at="[object String]",pt="[object WeakMap]",mt="[object ArrayBuffer]",ot="[object DataView]",xt="[object Float32Array]",It="[object Float64Array]",Ht="[object Int8Array]",Qt="[object Int16Array]",$t="[object Int32Array]",yt="[object Uint8Array]",ut="[object Uint8ClampedArray]",ft="[object Uint16Array]",it="[object Uint32Array]",vt={};vt[xt]=vt[It]=vt[Ht]=vt[Qt]=vt[$t]=vt[yt]=vt[ut]=vt[ft]=vt[it]=!0,vt[P]=vt[T]=vt[mt]=vt[W]=vt[ot]=vt[Q]=vt[nt]=vt[st]=vt[et]=vt[_]=vt[Y]=vt[$]=vt[q]=vt[at]=vt[pt]=!1;function Wt(J){return function(G){return J(G)}}var Ct=Object.prototype,Z=Ct.toString;function X(J){return H(J)&&dt(J.length)&&!!vt[Z.call(J)]}function dt(J){return typeof J=="number"&&J>-1&&J%1==0&&J<=B}function H(J){return!!J&&V()(J)==="object"}var lt=X;function Ot(J,G){var Et=Object.keys(J);if(Object.getOwnPropertySymbols){var Tt=Object.getOwnPropertySymbols(J);G&&(Tt=Tt.filter(function(ct){return Object.getOwnPropertyDescriptor(J,ct).enumerable})),Et.push.apply(Et,Tt)}return Et}function Rt(J){for(var G=1;G<arguments.length;G++){var Et=arguments[G]!=null?arguments[G]:{};G%2?Ot(Object(Et),!0).forEach(function(Tt){i()(J,Tt,Et[Tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(Et)):Ot(Object(Et)).forEach(function(Tt){Object.defineProperty(J,Tt,Object.getOwnPropertyDescriptor(Et,Tt))})}return J}function zt(J){var G=Bt();return function(){var Tt=y()(J),ct;if(G){var St=y()(this).constructor;ct=Reflect.construct(Tt,arguments,St)}else ct=Tt.apply(this,arguments);return D()(this,ct)}}function Bt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(J){return!1}}var tt=function(J){O()(Et,J);var G=zt(Et);function Et(Tt){var ct;return p()(this,Et),ct=G.call(this,Tt),ct.dirty=!0,ct.attributes=[],ct.indices=void 0,ct.indicesBuffer=void 0,ct.vertexCount=0,ct.maxInstancedCount=void 0,ct.aabb=void 0,ct.entity=void 0,Object.assign(M()(ct),Tt),ct}return S()(Et,[{key:"setAttribute",value:function(ct,St,Vt,Lt){var Nt=this.attributes.find(function(Zt){return Zt.name===ct});return Nt?(Nt.data=St,Nt.dirty=!0):this.attributes.push(Rt(Rt({dirty:!0,name:ct,data:St},Vt),{},{bufferGetter:Lt})),this.dirty=!0,this}},{key:"setIndex",value:function(ct){return this.indices=new Uint32Array(ct.buffer?ct.buffer:ct),this.dirty=!0,this}},{key:"applyMatrix",value:function(ct){var St=this.attributes.find(function(Ee){var Te=Ee.name;return Te==="position"}),Vt=this.attributes.find(function(Ee){var Te=Ee.name;return Te==="normal"});if(St&&(St.dirty=!0,St.data&&St.data.length))for(var Lt=0;Lt<St.data.length;Lt+=3){var Nt=w.f.fromValues(St.data[Lt],St.data[Lt+1],St.data[Lt+2],1);w.f.transformMat4(Nt,Nt,ct),lt(St.data)?St.data.set([Nt[0],Nt[1],Nt[2]],Lt):(St.data[Lt]=Nt[0],St.data[Lt+1]=Nt[1],St.data[Lt+2]=Nt[2])}if(Vt){var Zt=w.a.normalFromMat4(w.a.create(),ct);if(Vt.data&&Vt.data.length)for(var oe=0;oe<Vt.data.length;oe+=3){var ue=w.e.fromValues(Vt.data[oe],Vt.data[oe+1],Vt.data[oe+2]);w.e.transformMat3(ue,ue,Zt),w.e.normalize(ue,ue),lt(Vt.data)?Vt.data.set([ue[0],ue[1],ue[2]],oe):(Vt.data[oe]=ue[0],Vt.data[oe+1]=ue[1],Vt.data[oe+2]=ue[2])}}}}]),Et}(N.a)},"0gSV":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.tagged=void 0;var f=a("GXnB"),i=a("Ztfv");function g(p,E){return function(S,A,M){var x=new f.Metadata(p,E);typeof M=="number"?i.tagParameter(S,A,M,x):i.tagProperty(S,A,x)}}I.tagged=g},"0x0X":function(Ft,I,a){"use strict";function f(i){function g(yt,ut,ft,it,vt){for(var Wt=0,Ct=0,Z=0,X=0,dt,H,lt=0,Ot=0,Rt,zt=Rt=dt=0,Bt=0,tt=0,J=0,G=0,Et=ft.length,Tt=Et-1,ct,St="",Vt="",Lt="",Nt="",Zt;Bt<Et;){if(H=ft.charCodeAt(Bt),Bt===Tt&&Ct+X+Z+Wt!==0&&(Ct!==0&&(H=Ct===47?10:47),X=Z=Wt=0,Et++,Tt++),Ct+X+Z+Wt===0){if(Bt===Tt&&(0<tt&&(St=St.replace(y,"")),0<St.trim().length)){switch(H){case 32:case 9:case 59:case 13:case 10:break;default:St+=ft.charAt(Bt)}H=59}switch(H){case 123:for(St=St.trim(),dt=St.charCodeAt(0),Rt=1,G=++Bt;Bt<Et;){switch(H=ft.charCodeAt(Bt)){case 123:Rt++;break;case 125:Rt--;break;case 47:switch(H=ft.charCodeAt(Bt+1)){case 42:case 47:t:{for(zt=Bt+1;zt<Tt;++zt)switch(ft.charCodeAt(zt)){case 47:if(H===42&&ft.charCodeAt(zt-1)===42&&Bt+2!==zt){Bt=zt+1;break t}break;case 10:if(H===47){Bt=zt+1;break t}}Bt=zt}}break;case 91:H++;case 40:H++;case 34:case 39:for(;Bt++<Tt&&ft.charCodeAt(Bt)!==H;);}if(Rt===0)break;Bt++}switch(Rt=ft.substring(G,Bt),dt===0&&(dt=(St=St.replace(R,"").trim()).charCodeAt(0)),dt){case 64:switch(0<tt&&(St=St.replace(y,"")),H=St.charCodeAt(1),H){case 100:case 109:case 115:case 45:tt=ut;break;default:tt=ot}if(Rt=g(ut,tt,Rt,H,vt+1),G=Rt.length,0<It&&(tt=p(ot,St,J),Zt=x(3,Rt,tt,ut,at,q,G,H,vt,it),St=tt.join(""),Zt!==void 0&&(G=(Rt=Zt.trim()).length)===0&&(H=0,Rt="")),0<G)switch(H){case 115:St=St.replace(nt,M);case 100:case 109:case 45:Rt=St+"{"+Rt+"}";break;case 107:St=St.replace(P,"$1 $2"),Rt=St+"{"+Rt+"}",Rt=mt===1||mt===2&&A("@"+Rt,3)?"@-webkit-"+Rt+"@"+Rt:"@"+Rt;break;default:Rt=St+Rt,it===112&&(Rt=(Vt+=Rt,""))}else Rt="";break;default:Rt=g(ut,p(ut,St,J),Rt,it,vt+1)}Lt+=Rt,Rt=J=tt=zt=dt=0,St="",H=ft.charCodeAt(++Bt);break;case 125:case 59:if(St=(0<tt?St.replace(y,""):St).trim(),1<(G=St.length))switch(zt===0&&(dt=St.charCodeAt(0),dt===45||96<dt&&123>dt)&&(G=(St=St.replace(" ",":")).length),0<It&&(Zt=x(1,St,ut,yt,at,q,Vt.length,it,vt,it))!==void 0&&(G=(St=Zt.trim()).length)===0&&(St="\0\0"),dt=St.charCodeAt(0),H=St.charCodeAt(1),dt){case 0:break;case 64:if(H===105||H===99){Nt+=St+ft.charAt(Bt);break}default:St.charCodeAt(G-1)!==58&&(Vt+=S(St,dt,H,St.charCodeAt(2)))}J=tt=zt=dt=0,St="",H=ft.charCodeAt(++Bt)}}switch(H){case 13:case 10:Ct===47?Ct=0:1+dt===0&&it!==107&&0<St.length&&(tt=1,St+="\0"),0<It*Qt&&x(0,St,ut,yt,at,q,Vt.length,it,vt,it),q=1,at++;break;case 59:case 125:if(Ct+X+Z+Wt===0){q++;break}default:switch(q++,ct=ft.charAt(Bt),H){case 9:case 32:if(X+Wt+Ct===0)switch(lt){case 44:case 58:case 9:case 32:ct="";break;default:H!==32&&(ct=" ")}break;case 0:ct="\\0";break;case 12:ct="\\f";break;case 11:ct="\\v";break;case 38:X+Ct+Wt===0&&(tt=J=1,ct="\f"+ct);break;case 108:if(X+Ct+Wt+pt===0&&0<zt)switch(Bt-zt){case 2:lt===112&&ft.charCodeAt(Bt-3)===58&&(pt=lt);case 8:Ot===111&&(pt=Ot)}break;case 58:X+Ct+Wt===0&&(zt=Bt);break;case 44:Ct+Z+X+Wt===0&&(tt=1,ct+="\r");break;case 34:case 39:Ct===0&&(X=X===H?0:X===0?H:X);break;case 91:X+Ct+Z===0&&Wt++;break;case 93:X+Ct+Z===0&&Wt--;break;case 41:X+Ct+Wt===0&&Z--;break;case 40:if(X+Ct+Wt===0){if(dt===0)switch(2*lt+3*Ot){case 533:break;default:dt=1}Z++}break;case 64:Ct+Z+X+Wt+zt+Rt===0&&(Rt=1);break;case 42:case 47:if(!(0<X+Wt+Z))switch(Ct){case 0:switch(2*H+3*ft.charCodeAt(Bt+1)){case 235:Ct=47;break;case 220:G=Bt,Ct=42}break;case 42:H===47&&lt===42&&G+2!==Bt&&(ft.charCodeAt(G+2)===33&&(Vt+=ft.substring(G,Bt+1)),ct="",Ct=0)}}Ct===0&&(St+=ct)}Ot=lt,lt=H,Bt++}if(G=Vt.length,0<G){if(tt=ut,0<It&&(Zt=x(2,Vt,tt,yt,at,q,G,it,vt,it),Zt!==void 0&&(Vt=Zt).length===0))return Nt+Vt+Lt;if(Vt=tt.join(",")+"{"+Vt+"}",mt*pt!=0){switch(mt!==2||A(Vt,2)||(pt=0),pt){case 111:Vt=Vt.replace(W,":-moz-$1")+Vt;break;case 112:Vt=Vt.replace(T,"::-webkit-input-$1")+Vt.replace(T,"::-moz-$1")+Vt.replace(T,":-ms-input-$1")+Vt}pt=0}}return Nt+Vt+Lt}function p(yt,ut,ft){var it=ut.trim().split(V);ut=it;var vt=it.length,Wt=yt.length;switch(Wt){case 0:case 1:var Ct=0;for(yt=Wt===0?"":yt[0]+" ";Ct<vt;++Ct)ut[Ct]=E(yt,ut[Ct],ft).trim();break;default:var Z=Ct=0;for(ut=[];Ct<vt;++Ct)for(var X=0;X<Wt;++X)ut[Z++]=E(yt[X]+" ",it[Ct],ft).trim()}return ut}function E(yt,ut,ft){var it=ut.charCodeAt(0);switch(33>it&&(it=(ut=ut.trim()).charCodeAt(0)),it){case 38:return ut.replace(B,"$1"+yt.trim());case 58:return yt.trim()+ut.replace(B,"$1"+yt.trim());default:if(0<1*ft&&0<ut.indexOf("\f"))return ut.replace(B,(yt.charCodeAt(0)===58?"":"$1")+yt.trim())}return yt+ut}function S(yt,ut,ft,it){var vt=yt+";",Wt=2*ut+3*ft+4*it;if(Wt===944){yt=vt.indexOf(":",9)+1;var Ct=vt.substring(yt,vt.length-1).trim();return Ct=vt.substring(0,yt).trim()+Ct+";",mt===1||mt===2&&A(Ct,1)?"-webkit-"+Ct+Ct:Ct}if(mt===0||mt===2&&!A(vt,1))return vt;switch(Wt){case 1015:return vt.charCodeAt(10)===97?"-webkit-"+vt+vt:vt;case 951:return vt.charCodeAt(3)===116?"-webkit-"+vt+vt:vt;case 963:return vt.charCodeAt(5)===110?"-webkit-"+vt+vt:vt;case 1009:if(vt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+vt+vt;case 978:return"-webkit-"+vt+"-moz-"+vt+vt;case 1019:case 983:return"-webkit-"+vt+"-moz-"+vt+"-ms-"+vt+vt;case 883:if(vt.charCodeAt(8)===45)return"-webkit-"+vt+vt;if(0<vt.indexOf("image-set(",11))return vt.replace($,"$1-webkit-$2")+vt;break;case 932:if(vt.charCodeAt(4)===45)switch(vt.charCodeAt(5)){case 103:return"-webkit-box-"+vt.replace("-grow","")+"-webkit-"+vt+"-ms-"+vt.replace("grow","positive")+vt;case 115:return"-webkit-"+vt+"-ms-"+vt.replace("shrink","negative")+vt;case 98:return"-webkit-"+vt+"-ms-"+vt.replace("basis","preferred-size")+vt}return"-webkit-"+vt+"-ms-"+vt+vt;case 964:return"-webkit-"+vt+"-ms-flex-"+vt+vt;case 1023:if(vt.charCodeAt(8)!==99)break;return Ct=vt.substring(vt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Ct+"-webkit-"+vt+"-ms-flex-pack"+Ct+vt;case 1005:return N.test(vt)?vt.replace(w,":-webkit-")+vt.replace(w,":-moz-")+vt:vt;case 1e3:switch(Ct=vt.substring(13).trim(),ut=Ct.indexOf("-")+1,Ct.charCodeAt(0)+Ct.charCodeAt(ut)){case 226:Ct=vt.replace(Q,"tb");break;case 232:Ct=vt.replace(Q,"tb-rl");break;case 220:Ct=vt.replace(Q,"lr");break;default:return vt}return"-webkit-"+vt+"-ms-"+Ct+vt;case 1017:if(vt.indexOf("sticky",9)===-1)break;case 975:switch(ut=(vt=yt).length-10,Ct=(vt.charCodeAt(ut)===33?vt.substring(0,ut):vt).substring(yt.indexOf(":",7)+1).trim(),Wt=Ct.charCodeAt(0)+(Ct.charCodeAt(7)|0)){case 203:if(111>Ct.charCodeAt(8))break;case 115:vt=vt.replace(Ct,"-webkit-"+Ct)+";"+vt;break;case 207:case 102:vt=vt.replace(Ct,"-webkit-"+(102<Wt?"inline-":"")+"box")+";"+vt.replace(Ct,"-webkit-"+Ct)+";"+vt.replace(Ct,"-ms-"+Ct+"box")+";"+vt}return vt+";";case 938:if(vt.charCodeAt(5)===45)switch(vt.charCodeAt(6)){case 105:return Ct=vt.replace("-items",""),"-webkit-"+vt+"-webkit-box-"+Ct+"-ms-flex-"+Ct+vt;case 115:return"-webkit-"+vt+"-ms-flex-item-"+vt.replace(et,"")+vt;default:return"-webkit-"+vt+"-ms-flex-line-pack"+vt.replace("align-content","").replace(et,"")+vt}break;case 973:case 989:if(vt.charCodeAt(3)!==45||vt.charCodeAt(4)===122)break;case 931:case 953:if(Y.test(yt)===!0)return(Ct=yt.substring(yt.indexOf(":")+1)).charCodeAt(0)===115?S(yt.replace("stretch","fill-available"),ut,ft,it).replace(":fill-available",":stretch"):vt.replace(Ct,"-webkit-"+Ct)+vt.replace(Ct,"-moz-"+Ct.replace("fill-",""))+vt;break;case 962:if(vt="-webkit-"+vt+(vt.charCodeAt(5)===102?"-ms-"+vt:"")+vt,ft+it===211&&vt.charCodeAt(13)===105&&0<vt.indexOf("transform",10))return vt.substring(0,vt.indexOf(";",27)+1).replace(z,"$1-webkit-$2")+vt}return vt}function A(yt,ut){var ft=yt.indexOf(ut===1?":":"{"),it=yt.substring(0,ut!==3?ft:10);return ft=yt.substring(ft+1,yt.length-1),Ht(ut!==2?it:it.replace(_,"$1"),ft,ut)}function M(yt,ut){var ft=S(ut,ut.charCodeAt(0),ut.charCodeAt(1),ut.charCodeAt(2));return ft!==ut+";"?ft.replace(st," or ($1)").substring(4):"("+ut+")"}function x(yt,ut,ft,it,vt,Wt,Ct,Z,X,dt){for(var H=0,lt=ut,Ot;H<It;++H)switch(Ot=xt[H].call(D,yt,lt,ft,it,vt,Wt,Ct,Z,X,dt)){case void 0:case!1:case!0:case null:break;default:lt=Ot}if(lt!==ut)return lt}function O(yt){switch(yt){case void 0:case null:It=xt.length=0;break;default:if(typeof yt=="function")xt[It++]=yt;else if(typeof yt=="object")for(var ut=0,ft=yt.length;ut<ft;++ut)O(yt[ut]);else Qt=!!yt|0}return O}function C(yt){return yt=yt.prefix,yt!==void 0&&(Ht=null,yt?typeof yt!="function"?mt=1:(mt=2,Ht=yt):mt=0),C}function D(yt,ut){var ft=yt;if(33>ft.charCodeAt(0)&&(ft=ft.trim()),$t=ft,ft=[$t],0<It){var it=x(-1,ut,ft,ft,at,q,0,0,0,0);it!==void 0&&typeof it=="string"&&(ut=it)}var vt=g(ot,ft,ut,0,0);return 0<It&&(it=x(-2,vt,ft,ft,at,q,vt.length,0,0,0),it!==void 0&&(vt=it)),$t="",pt=0,q=at=1,vt}var R=/^\0+/g,y=/[\0\r\f]/g,w=/: */g,N=/zoo|gra/,z=/([,: ])(transform)/g,V=/,\r+?/g,B=/([\t\r\n ])*\f?&/g,P=/@(k\w+)\s*(\S*)\s*/,T=/::(place)/g,W=/:(read-only)/g,Q=/[svh]\w+-[tblr]{2}/,nt=/\(\s*(.*)\s*\)/g,st=/([\s\S]*?);/g,et=/-self|flex-/g,_=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Y=/stretch|:\s*\w+\-(?:conte|avail)/,$=/([^-])(image-set\()/,q=1,at=1,pt=0,mt=1,ot=[],xt=[],It=0,Ht=null,Qt=0,$t="";return D.use=O,D.set=C,i!==void 0&&C(i),D}I.a=f},"0xIU":function(Ft,I,a){var f=a("pHPU"),i=a("M96O");Ft.exports=g;function g(p,E,S){return i.transform(p.nodes(),function(A,M){A[M]=f(p,M,E,S)},{})}},"1+5i":function(Ft,I,a){var f=a("w/wX"),i=a("sEf8"),g=a("mdPL"),p=g&&g.isSet,E=p?i(p):f;Ft.exports=E},"1//c":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("qU1D");function i(g,p,E){var S=new f.Event(p,E);S.target=g,S.propagationPath.push(g),g.emitDelegation(p,S);for(var A=g.getParent();A;)A.emitDelegation(p,S),S.propagationPath.push(A),A=A.getParent()}},"14Cm":function(Ft,I,a){"use strict";var f=a("b5wT");Ft.exports=i;function i(p,E){for(var S=0,A=1;A<E.length;++A)S+=g(p,E[A-1],E[A]);return S}function g(p,E,S){for(var A=f.zipObject(S,f.map(S,function(R,y){return y})),M=f.flatten(f.map(E,function(R){return f.sortBy(f.map(p.outEdges(R),function(y){return{pos:A[y.w],weight:p.edge(y).weight}}),"pos")}),!0),x=1;x<S.length;)x<<=1;var O=2*x-1;x-=1;var C=f.map(new Array(O),function(){return 0}),D=0;return f.forEach(M.forEach(function(R){var y=R.pos+x;C[y]+=R.weight;for(var w=0;y>0;)y%2&&(w+=C[y+1]),y=y-1>>1,C[y]+=R.weight;D+=R.weight*w})),D}},"17Tr":function(Ft,I,a){"use strict";var f=a("uCX8");a.d(I,"Annotation",function(){return f});var i=a("fP0w");a.d(I,"Axis",function(){return i});var g=a("/3+T");a.d(I,"Crosshair",function(){return g});var p=a("x3EW");a.d(I,"Grid",function(){return p});var E=a("5bFI");a.d(I,"Legend",function(){return E});var S=a("Ch+T");a.d(I,"Tooltip",function(){return S});var A=a("NmWf"),M=a("MeYt"),x=a("de35"),O=a("fFDA");a.d(I,"Slider",function(){return O.a});var C=a("3u8d");a.d(I,"Scrollbar",function(){return C.a});var D=a("vk7d"),R=a.n(D),y=a("uzHj"),w=a.n(y),N=a("1//c");a.d(I,"propagationDelegate",function(){return N.a});var z=a("u60a");a.d(I,"TOOLTIP_CSS_CONST",function(){return z})},"1ABj":function(Ft,I){function a(f,i){throw new Error("Decorating class property failed. Please ensure that proposal-class-properties is enabled and runs after the decorators transform.")}Ft.exports=a,Ft.exports.default=Ft.exports,Ft.exports.__esModule=!0},"1LK5":function(Ft,I){function a(f,i){var g=f.length;for(f.sort(i);g--;)f[g]=f[g].value;return f}Ft.exports=a},"1MZV":function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=new Map;function i(P,T){f.set(P,T)}function g(P){return f.get(P)}var p=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.width,st=T.height;return{x:W,y:Q,width:nt,height:st}},E=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.r;return{x:W-nt,y:Q-nt,width:nt*2,height:nt*2}},S=a("EYNi");function A(P,T){return!P||!T?P||T:{minX:Math.min(P.minX,T.minX),minY:Math.min(P.minY,T.minY),maxX:Math.max(P.maxX,T.maxX),maxY:Math.max(P.maxY,T.maxY)}}function M(P,T){var W=P.get("startArrowShape"),Q=P.get("endArrowShape"),nt=null,st=null;return W&&(nt=W.getCanvasBBox(),T=A(T,nt)),Q&&(st=Q.getCanvasBBox(),T=A(T,st)),T}var x=function(P){for(var T=P.attr(),W=T.points,Q=[],nt=[],st=0;st<W.length;st++){var et=W[st];Q.push(et[0]),nt.push(et[1])}var _=S.f.getBBoxByArray(Q,nt),Y=_.x,$=_.y,q=_.width,at=_.height,pt={minX:Y,minY:$,maxX:Y+q,maxY:$+at};return pt=M(P,pt),{x:pt.minX,y:pt.minY,width:pt.maxX-pt.minX,height:pt.maxY-pt.minY}},O=function(P){for(var T=P.attr(),W=T.points,Q=[],nt=[],st=0;st<W.length;st++){var et=W[st];Q.push(et[0]),nt.push(et[1])}return S.f.getBBoxByArray(Q,nt)},C=a("vIgC"),D=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.text,st=T.fontSize,et=T.lineHeight,_=T.font;_||(_=Object(C.a)(T));var Y=Object(C.c)(nt,_),$;if(!Y)$={x:W,y:Q,width:0,height:0};else{var q=T.textAlign,at=T.textBaseline,pt=Object(C.b)(nt,st,et),mt={x:W,y:Q-pt};q&&(q==="end"||q==="right"?mt.x-=Y:q==="center"&&(mt.x-=Y/2)),at&&(at==="top"?mt.y+=pt:at==="middle"&&(mt.y+=pt/2)),$={x:mt.x,y:mt.y,width:Y,height:pt}}return $},R=a("LvGN"),y=a("iTfj");function w(P,T){for(var W=[],Q=[],nt=[],st=0;st<P.length;st++){var et=P[st],_=et.currentPoint,Y=et.params,$=et.prePoint,q=void 0;switch(et.command){case"Q":q=S.e.box($[0],$[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":q=S.b.box($[0],$[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var at=et.arcParams;q=S.a.box(at.cx,at.cy,at.rx,at.ry,at.xRotation,at.startAngle,at.endAngle);break;default:W.push(_[0]),Q.push(_[1]);break}q&&(et.box=q,W.push(q.x,q.x+q.width),Q.push(q.y,q.y+q.height)),T&&(et.command==="L"||et.command==="M")&&et.prePoint&&et.nextPoint&&nt.push(et)}W=W.filter(function(Ht){return!Number.isNaN(Ht)}),Q=Q.filter(function(Ht){return!Number.isNaN(Ht)});var pt=Object(y.Z)(W),mt=Object(y.Z)(Q),ot=Object(y.W)(W),xt=Object(y.W)(Q);if(nt.length===0)return{x:pt,y:mt,width:ot-pt,height:xt-mt};for(var st=0;st<nt.length;st++){var et=nt[st],_=et.currentPoint,It=void 0;_[0]===pt?(It=N(et,T),pt=pt-It.xExtra):_[0]===ot&&(It=N(et,T),ot=ot+It.xExtra),_[1]===mt?(It=N(et,T),mt=mt-It.yExtra):_[1]===xt&&(It=N(et,T),xt=xt+It.yExtra)}return{x:pt,y:mt,width:ot-pt,height:xt-mt}}function N(P,T){var W=P.prePoint,Q=P.currentPoint,nt=P.nextPoint,st=Math.pow(Q[0]-W[0],2)+Math.pow(Q[1]-W[1],2),et=Math.pow(Q[0]-nt[0],2)+Math.pow(Q[1]-nt[1],2),_=Math.pow(W[0]-nt[0],2)+Math.pow(W[1]-nt[1],2),Y=Math.acos((st+et-_)/(2*Math.sqrt(st)*Math.sqrt(et)));if(!Y||Math.sin(Y)===0||Object(y.L)(Y,0))return{xExtra:0,yExtra:0};var $=Math.abs(Math.atan2(nt[1]-Q[1],nt[0]-Q[0])),q=Math.abs(Math.atan2(nt[0]-Q[0],nt[1]-Q[1]));$=$>Math.PI/2?Math.PI-$:$,q=q>Math.PI/2?Math.PI-q:q;var at={xExtra:Math.cos(Y/2-$)*(T/2*(1/Math.sin(Y/2)))-T/2||0,yExtra:Math.cos(q-Y/2)*(T/2*(1/Math.sin(Y/2)))-T/2||0};return at}var z=function(P){var T=P.attr(),W=T.path,Q=T.stroke,nt=Q?T.lineWidth:0,st=P.get("segments")||Object(R.e)(W),et=w(st,nt),_=et.x,Y=et.y,$=et.width,q=et.height,at={minX:_,minY:Y,maxX:_+$,maxY:Y+q};return at=M(P,at),{x:at.minX,y:at.minY,width:at.maxX-at.minX,height:at.maxY-at.minY}},V=function(P){var T=P.attr(),W=T.x1,Q=T.y1,nt=T.x2,st=T.y2,et=Math.min(W,nt),_=Math.max(W,nt),Y=Math.min(Q,st),$=Math.max(Q,st),q={minX:et,maxX:_,minY:Y,maxY:$};return q=M(P,q),{x:q.minX,y:q.minY,width:q.maxX-q.minX,height:q.maxY-q.minY}},B=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.rx,st=T.ry;return{x:W-nt,y:Q-st,width:nt*2,height:st*2}};i("rect",p),i("image",p),i("circle",E),i("marker",E),i("polyline",x),i("polygon",O),i("text",D),i("path",z),i("line",V),i("ellipse",B)},"1PPP":function(Ft,I,a){var f=a("b5wT");Ft.exports=i;function i(g,p,E){var S={},A;f.forEach(E,function(M){for(var x=g.parent(M),O,C;x;){if(O=g.parent(x),O?(C=S[O],S[O]=x):(C=A,A=x),C&&C!==x){p.setEdge(C,x);return}x=O}})}},"1iNE":function(Ft,I,a){var f=a("A90E"),i=a("QqLw"),g=a("MMmD"),p=a("4qC0"),E=a("Z1HP"),S="[object Map]",A="[object Set]";function M(x){if(x==null)return 0;if(g(x))return p(x)?E(x):x.length;var O=i(x);return O==S||O==A?x.size:f(x).length}Ft.exports=M},"1w02":function(Ft,I){function a(f,i,g){for(var p=-1,E=f.length,S=i.length,A={};++p<E;){var M=p<S?i[p]:void 0;g(A,f[p],M)}return A}Ft.exports=a},"24YM":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SensorTabIndex=I.SensorClassName=I.SizeSensorId=void 0;var f="size-sensor-id";I.SizeSensorId=f;var i="size-sensor-object";I.SensorClassName=i;var g="-1";I.SensorTabIndex=g},"2GVV":function(Ft,I){Ft.exports=a;function a(f,i){var g=new Float32Array(2);return g[0]=f,g[1]=i,g}},"2J+T":function(Ft,I,a){Ft.exports={components:a("5EqP"),dijkstra:a("pHPU"),dijkstraAll:a("0xIU"),findCycles:a("3azA"),floydWarshall:a("ZzYp"),isAcyclic:a("Q+g8"),postorder:a("Txda"),preorder:a("qvmO"),prim:a("Yen4"),tarjan:a("z6cq"),topsort:a("gYXE")}},"2ajD":function(Ft,I){function a(f){return f!==f}Ft.exports=a},"2fNS":function(Ft,I,a){"use strict";var f=a("b5wT");Ft.exports=i;function i(E,S){var A={};f.forEach(E,function(x,O){var C=A[x.v]={indegree:0,in:[],out:[],vs:[x.v],i:O};f.isUndefined(x.barycenter)||(C.barycenter=x.barycenter,C.weight=x.weight)}),f.forEach(S.edges(),function(x){var O=A[x.v],C=A[x.w];!f.isUndefined(O)&&!f.isUndefined(C)&&(C.indegree++,O.out.push(A[x.w]))});var M=f.filter(A,function(x){return!x.indegree});return g(M)}function g(E){var S=[];function A(O){return function(C){C.merged||(f.isUndefined(C.barycenter)||f.isUndefined(O.barycenter)||C.barycenter>=O.barycenter)&&p(O,C)}}function M(O){return function(C){C.in.push(O),--C.indegree==0&&E.push(C)}}for(;E.length;){var x=E.pop();S.push(x),f.forEach(x.in.reverse(),A(x)),f.forEach(x.out,M(x))}return f.map(f.filter(S,function(O){return!O.merged}),function(O){return f.pick(O,["vs","i","barycenter","weight"])})}function p(E,S){var A=0,M=0;E.weight&&(A+=E.barycenter*E.weight,M+=E.weight),S.weight&&(A+=S.barycenter*S.weight,M+=S.weight),E.vs=S.vs.concat(E.vs),E.barycenter=A/M,E.weight=M,E.i=Math.min(S.i,E.i),S.merged=!0}},"30v5":function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0],E=i[1];return f[0]=g[0]*p+g[2]*E,f[1]=g[1]*p+g[3]*E,f}},"3L66":function(Ft,I,a){var f=a("MMmD"),i=a("ExA7");function g(p){return i(p)&&f(p)}Ft.exports=g},"3T7b":function(Ft,I){},"3WF5":function(Ft,I,a){var f=a("eUgh"),i=a("ut/Y"),g=a("l9OW"),p=a("Z0cm");function E(S,A){var M=p(S)?f:g;return M(S,i(A,3))}Ft.exports=E},"3azA":function(Ft,I,a){var f=a("M96O"),i=a("z6cq");Ft.exports=g;function g(p){return f.filter(i(p),function(E){return E.length>1||E.length===1&&p.hasEdge(E[0],E[0])})}},"3u8d":function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("fIp6"),g=a("iTfj"),p=a("MeYt"),E={trackColor:"rgba(0,0,0,0)",thumbColor:"rgba(0,0,0,0.15)",size:8,lineCap:"round"},S={default:E,hover:{thumbColor:"rgba(0,0,0,0.2)"}},A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.clearEvents=g.db,O.onStartEvent=function(C){return function(D){O.isMobile=C,D.originalEvent.preventDefault();var R=C?Object(g.s)(D.originalEvent,"touches.0.clientX"):D.clientX,y=C?Object(g.s)(D.originalEvent,"touches.0.clientY"):D.clientY;O.startPos=O.cfg.isHorizontal?R:y,O.bindLaterEvent()}},O.bindLaterEvent=function(){var C=O.getContainerDOM(),D=[];O.isMobile?D=[Object(i.a)(C,"touchmove",O.onMouseMove),Object(i.a)(C,"touchend",O.onMouseUp),Object(i.a)(C,"touchcancel",O.onMouseUp)]:D=[Object(i.a)(C,"mousemove",O.onMouseMove),Object(i.a)(C,"mouseup",O.onMouseUp),Object(i.a)(C,"mouseleave",O.onMouseUp)],O.clearEvents=function(){D.forEach(function(R){R.remove()})}},O.onMouseMove=function(C){var D=O.cfg,R=D.isHorizontal,y=D.thumbOffset;C.preventDefault();var w=O.isMobile?Object(g.s)(C,"touches.0.clientX"):C.clientX,N=O.isMobile?Object(g.s)(C,"touches.0.clientY"):C.clientY,z=R?w:N,V=z-O.startPos;O.startPos=z,O.updateThumbOffset(y+V)},O.onMouseUp=function(C){C.preventDefault(),O.clearEvents()},O.onTrackClick=function(C){var D=O.cfg,R=D.isHorizontal,y=D.x,w=D.y,N=D.thumbLen,z=O.getContainerDOM(),V=z.getBoundingClientRect(),B=C.clientX,P=C.clientY,T=R?B-V.left-y-N/2:P-V.top-w-N/2,W=O.validateRange(T);O.updateThumbOffset(W)},O.onThumbMouseOver=function(){var C=O.cfg.theme.hover.thumbColor;O.getElementByLocalId("thumb").attr("stroke",C),O.draw()},O.onThumbMouseOut=function(){var C=O.cfg.theme.default.thumbColor;O.getElementByLocalId("thumb").attr("stroke",C),O.draw()},O}return x.prototype.setRange=function(O,C){this.set("minLimit",O),this.set("maxLimit",C);var D=this.getValue(),R=Object(g.c)(D,O,C);D!==R&&!this.get("isInit")&&this.setValue(R)},x.prototype.getRange=function(){var O=this.get("minLimit")||0,C=this.get("maxLimit")||1;return{min:O,max:C}},x.prototype.setValue=function(O){var C=this.getRange(),D=this.getValue();this.update({thumbOffset:(this.get("trackLen")-this.get("thumbLen"))*Object(g.c)(O,C.min,C.max)}),this.delegateEmit("valuechange",{originalValue:D,value:this.getValue()})},x.prototype.getValue=function(){return Object(g.c)(this.get("thumbOffset")/(this.get("trackLen")-this.get("thumbLen")),0,1)},x.prototype.getDefaultCfg=function(){var O=M.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},O),{name:"scrollbar",isHorizontal:!0,minThumbLen:20,thumbOffset:0,theme:S})},x.prototype.renderInner=function(O){this.renderTrackShape(O),this.renderThumbShape(O)},x.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},x.prototype.initEvent=function(){this.bindEvents()},x.prototype.renderTrackShape=function(O){var C=this.cfg,D=C.trackLen,R=C.theme,y=R===void 0?{default:{}}:R,w=Object(g.h)({},S,y).default,N=w.lineCap,z=w.trackColor,V=w.size,B=Object(g.s)(this.cfg,"size",V),P=this.get("isHorizontal")?{x1:0+B/2,y1:B/2,x2:D-B/2,y2:B/2,lineWidth:B,stroke:z,lineCap:N}:{x1:B/2,y1:0+B/2,x2:B/2,y2:D-B/2,lineWidth:B,stroke:z,lineCap:N};return this.addShape(O,{id:this.getElementId("track"),name:"track",type:"line",attrs:P})},x.prototype.renderThumbShape=function(O){var C=this.cfg,D=C.thumbOffset,R=C.thumbLen,y=C.theme,w=Object(g.h)({},S,y).default,N=w.size,z=w.lineCap,V=w.thumbColor,B=Object(g.s)(this.cfg,"size",N),P=this.get("isHorizontal")?{x1:D+B/2,y1:B/2,x2:D+R-B/2,y2:B/2,lineWidth:B,stroke:V,lineCap:z,cursor:"default"}:{x1:B/2,y1:D+B/2,x2:B/2,y2:D+R-B/2,lineWidth:B,stroke:V,lineCap:z,cursor:"default"};return this.addShape(O,{id:this.getElementId("thumb"),name:"thumb",type:"line",attrs:P})},x.prototype.bindEvents=function(){var O=this.get("group");O.on("mousedown",this.onStartEvent(!1)),O.on("mouseup",this.onMouseUp),O.on("touchstart",this.onStartEvent(!0)),O.on("touchend",this.onMouseUp);var C=O.findById(this.getElementId("track"));C.on("click",this.onTrackClick);var D=O.findById(this.getElementId("thumb"));D.on("mouseover",this.onThumbMouseOver),D.on("mouseout",this.onThumbMouseOut)},x.prototype.getContainerDOM=function(){var O=this.get("container"),C=O&&O.get("canvas");return C&&C.get("container")},x.prototype.validateRange=function(O){var C=this.cfg,D=C.thumbLen,R=C.trackLen,y=O;return O+D>R?y=R-D:O+D<D&&(y=0),y},x.prototype.draw=function(){var O=this.get("container"),C=O&&O.get("canvas");C&&C.draw()},x.prototype.updateThumbOffset=function(O){var C=this.cfg,D=C.thumbOffset,R=C.isHorizontal,y=C.thumbLen,w=C.size,N=this.validateRange(O);if(N!==D){var z=this.getElementByLocalId("thumb");R?z.attr({x1:N+w/2,x2:N+y-w/2}):z.attr({y1:N+w/2,y2:N+y-w/2}),this.emitOffsetChange(N)}},x.prototype.emitOffsetChange=function(O){var C=this.cfg,D=C.thumbOffset,R=C.trackLen,y=C.thumbLen;this.cfg.thumbOffset=O,this.emit("scrollchange",{thumbOffset:O,ratio:Object(g.c)(O/(R-y),0,1)}),this.delegateEmit("valuechange",{originalValue:D,value:O})},x}(p.a)},"3y7U":function(Ft,I,a){var f=a("M96O");Ft.exports=i;function i(p,E,S){f.isArray(E)||(E=[E]);var A=(p.isDirected()?p.successors:p.neighbors).bind(p),M=[],x={};return f.each(E,function(O){if(!p.hasNode(O))throw new Error("Graph does not have node: "+O);g(p,O,S==="post",x,A,M)}),M}function g(p,E,S,A,M,x){f.has(A,E)||(A[E]=!0,S||x.push(E),f.each(M(E),function(O){g(p,O,S,A,M,x)}),S&&x.push(E))}},"4/ic":function(Ft,I,a){var f=a("ZWtO");function i(g){return function(p){return f(p,g)}}Ft.exports=i},"406g":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingOnSyntax=void 0;var f=a("z4Hk"),i=function(){function g(p){this._binding=p}return g.prototype.onActivation=function(p){return this._binding.onActivation=p,new f.BindingWhenSyntax(this._binding)},g}();I.BindingOnSyntax=i},"409L":function(Ft,I,a){Ft.exports={graphlib:a("F9We"),layout:a("epwv"),debug:a("4JAw"),util:{time:a("tQ6r").time,notime:a("tQ6r").notime},version:a("khRU")}},"44Ds":function(Ft,I,a){var f=a("e4Nc"),i="Expected a function";function g(p,E){if(typeof p!="function"||E!=null&&typeof E!="function")throw new TypeError(i);var S=function(){var A=arguments,M=E?E.apply(this,A):A[0],x=S.cache;if(x.has(M))return x.get(M);var O=p.apply(this,A);return S.cache=x.set(M,O)||x,O};return S.cache=new(g.Cache||f),S}g.Cache=f,Ft.exports=g},"46lQ":function(Ft,I,a){"use strict";var f=a("QG4C"),i;(function(E){E.DEV="DEV",E.BETA="BETA",E.STABLE="STABLE"})(i||(i={}));function g(E,S){console.warn(E===i.DEV?"Plot '"+S+"' is in DEV stage, just give us issues.":E===i.BETA?"Plot '"+S+"' is in BETA stage, DO NOT use it in production env.":E===i.STABLE?"Plot '"+S+`' is in STABLE stage, import it by "import { `+S+` } from '@antv/g2plot'".`:"invalid Stage type.")}var p=function(){function E(){}return Object.defineProperty(E,"MultiView",{get:function(){return g(i.STABLE,"MultiView"),f.a},enumerable:!1,configurable:!0}),E}()},"48hD":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f.a}),a.d(I,"b",function(){return x.a});var f=a("ENEI"),i=a("lwsE"),g=a.n(i),p=a("W8MJ"),E=a.n(p),S=a("IOcx"),A=S.e.create(),M=function(){function z(V,B){g()(this,z),this.center=void 0,this.radius=void 0,this.center=V||S.e.create(),this.radius=B||.5}return E()(z,[{key:"containsPoint",value:function(B){return S.e.sub(A,B,this.center),S.e.length(A)<this.radius*this.radius}},{key:"intersects",value:function(B){S.e.sub(A,B.center,this.center);var P=B.radius+this.radius;return S.e.length(A)<=P*P}}]),z}(),x=a("qfsk"),O=a("cXWL"),C=S.e.create(),D=S.e.create(),R=S.e.create(),y=S.e.create(),w=S.e.create(),N=function(){function z(V,B){g()(this,z),this.origin=void 0,this.direction=void 0,this.origin=V||S.e.create(),this.direction=B||S.e.fromValues(0,0,-1)}return E()(z,[{key:"intersectsAABB",value:function(B,P){return P?this.intersectAABBWithIntersection(B,P):this.intersectsAABBWithoutIntersection(B)}},{key:"intersectsSphere",value:function(B,P){var T=S.e.sub(C,this.origin,B.center);S.e.normalize(D,S.e.copy(D,this.direction));var W=S.e.dot(T,D),Q=S.e.dot(T,T)-B.radius*B.radius;if(Q>0&&W>0)return null;var nt=W*W-Q;if(nt<0)return!1;var st=Math.abs(-W-Math.sqrt(nt));return P&&(S.e.copy(P,this.direction),S.e.scaleAndAdd(P,this.origin,P,st)),!0}},{key:"intersectsPlane",value:function(B,P){var T=(B.distance-S.e.dot(B.normal,this.origin))/S.e.dot(B.normal,this.direction),W=T>=0;return W&&P&&S.e.scaleAndAdd(P,this.origin,this.direction,T),W}},{key:"intersectsAABBWithoutIntersection",value:function(B){var P=C,T=D,W=R,Q=y,nt=w,st=this.direction;return S.e.sub(P,this.origin,B.center),S.e.set(Q,Math.abs(P[0]),Math.abs(P[1]),Math.abs(P[2])),S.e.mul(W,P,st),Q[0]>B.halfExtents[0]&&W[0]>=0||Q[1]>B.halfExtents[1]&&W[1]>=0||Q[2]>B.halfExtents[2]&&W[2]>=0?!1:(S.e.set(nt,Math.abs(st[0]),Math.abs(st[1]),Math.abs(st[2])),S.e.cross(T,st,P),S.e.set(T,Math.abs(T[0]),Math.abs(T[1]),Math.abs(T[2])),!(T[0]>B.halfExtents[1]*nt[2]+B.halfExtents[2]*nt[1]||T[1]>B.halfExtents[0]*nt[2]+B.halfExtents[2]*nt[0]||T[2]>B.halfExtents[0]*nt[1]+B.halfExtents[1]*nt[0]))}},{key:"intersectAABBWithIntersection",value:function(B,P){var T=S.e.copy(S.e.create(),B.getMin());S.e.sub(T,T,this.origin);var W=S.e.copy(S.e.create(),B.getMax());S.e.sub(W,W,this.origin);var Q=this.direction;Q[0]===0?(T[0]=T[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE,W[0]=W[0]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(T[0]/=Q[0],W[0]/=Q[0]),Q[1]===0?(T[1]=T[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE,W[1]=W[1]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(T[1]/=Q[1],W[1]/=Q[1]),Q[2]===0?(T[2]=T[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE,W[2]=W[2]<0?-Number.MAX_VALUE:Number.MAX_VALUE):(T[2]/=Q[2],W[2]/=Q[2]);var nt=S.e.set(R,Math.min(T[0],W[0]),Math.min(T[1],W[1]),Math.min(T[2],W[2])),st=S.e.set(y,Math.max(T[0],W[0]),Math.max(T[1],W[1]),Math.max(T[2],W[2])),et=Math.min(Math.min(st[0],st[1]),st[2]),_=Math.max(Math.max(nt[0],nt[1]),nt[2]),Y=et>=_&&_>=0;return Y&&(S.e.copy(P,this.direction),S.e.scaleAndAdd(P,this.origin,P,_)),Y}}]),z}()},"4Ai+":function(Ft,I,a){var f=a("Ac7g");Ft.exports={Graph:f.Graph,json:a("GbLa"),alg:a("2J+T"),version:f.version}},"4Hkj":function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i,f[1]=g,f}},"4JAw":function(Ft,I,a){var f=a("b5wT"),i=a("tQ6r"),g=a("F9We").Graph;Ft.exports={debugOrdering:p};function p(E){var S=i.buildLayerMatrix(E),A=new g({compound:!0,multigraph:!0}).setGraph({});return f.forEach(E.nodes(),function(M){A.setNode(M,{label:M}),A.setParent(M,"layer"+E.node(M).rank)}),f.forEach(E.edges(),function(M){A.setEdge(M.v,M.w,{},M.name)}),f.forEach(S,function(M,x){var O="layer"+x;A.setNode(O,{rank:"same"}),f.reduce(M,function(C,D){return A.setEdge(C,D,{style:"invis"}),D})}),A}},"4Olw":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"c",function(){return i}),a.d(I,"b",function(){return g});function f(p,E){return p.views.find(function(S){return S.id===E})}function i(p){var E=p.parent;return E?E.views:[]}function g(p){return i(p).filter(function(E){return E!==p})}},"4XUm":function(Ft,I,a){"use strict";var f=a("k6w6");a.d(I,"gl",function(){return f.a});var i=a("olaO"),g=a.n(i),p=a("A14R"),E=a.n(p),S=a("Oboc"),A=a.n(S),M=a("+RHd"),x=a.n(M),O=a("nO7B"),C=a.n(O),D=a("yaXH"),R=a.n(D),y=a("V/xP"),w=a("vdMR"),N=a.n(w),z=a("NirO"),V=a.n(z),B=a("JX23"),P=a.n(B),T=a("ZjWs"),W=a.n(T)},"4cb6":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.multiBindToService=I.getServiceIdentifierAsString=I.typeConstraint=I.namedConstraint=I.taggedConstraint=I.traverseAncerstors=I.decorate=I.id=I.MetadataReader=I.postConstruct=I.targetName=I.multiInject=I.unmanaged=I.optional=I.LazyServiceIdentifer=I.inject=I.named=I.tagged=I.injectable=I.ContainerModule=I.AsyncContainerModule=I.TargetTypeEnum=I.BindingTypeEnum=I.BindingScopeEnum=I.Container=I.METADATA_KEY=void 0;var f=a("xfSm");I.METADATA_KEY=f;var i=a("9Fde");Object.defineProperty(I,"Container",{enumerable:!0,get:function(){return i.Container}});var g=a("FV85");Object.defineProperty(I,"BindingScopeEnum",{enumerable:!0,get:function(){return g.BindingScopeEnum}}),Object.defineProperty(I,"BindingTypeEnum",{enumerable:!0,get:function(){return g.BindingTypeEnum}}),Object.defineProperty(I,"TargetTypeEnum",{enumerable:!0,get:function(){return g.TargetTypeEnum}});var p=a("dxzI");Object.defineProperty(I,"AsyncContainerModule",{enumerable:!0,get:function(){return p.AsyncContainerModule}}),Object.defineProperty(I,"ContainerModule",{enumerable:!0,get:function(){return p.ContainerModule}});var E=a("cZ5Q");Object.defineProperty(I,"injectable",{enumerable:!0,get:function(){return E.injectable}});var S=a("0gSV");Object.defineProperty(I,"tagged",{enumerable:!0,get:function(){return S.tagged}});var A=a("ZzCi");Object.defineProperty(I,"named",{enumerable:!0,get:function(){return A.named}});var M=a("Yk9n");Object.defineProperty(I,"inject",{enumerable:!0,get:function(){return M.inject}}),Object.defineProperty(I,"LazyServiceIdentifer",{enumerable:!0,get:function(){return M.LazyServiceIdentifer}});var x=a("jYx5");Object.defineProperty(I,"optional",{enumerable:!0,get:function(){return x.optional}});var O=a("n2J3");Object.defineProperty(I,"unmanaged",{enumerable:!0,get:function(){return O.unmanaged}});var C=a("jIg/");Object.defineProperty(I,"multiInject",{enumerable:!0,get:function(){return C.multiInject}});var D=a("oaX6");Object.defineProperty(I,"targetName",{enumerable:!0,get:function(){return D.targetName}});var R=a("Sk89");Object.defineProperty(I,"postConstruct",{enumerable:!0,get:function(){return R.postConstruct}});var y=a("wnjb");Object.defineProperty(I,"MetadataReader",{enumerable:!0,get:function(){return y.MetadataReader}});var w=a("d9O0");Object.defineProperty(I,"id",{enumerable:!0,get:function(){return w.id}});var N=a("Ztfv");Object.defineProperty(I,"decorate",{enumerable:!0,get:function(){return N.decorate}});var z=a("RR/i");Object.defineProperty(I,"traverseAncerstors",{enumerable:!0,get:function(){return z.traverseAncerstors}}),Object.defineProperty(I,"taggedConstraint",{enumerable:!0,get:function(){return z.taggedConstraint}}),Object.defineProperty(I,"namedConstraint",{enumerable:!0,get:function(){return z.namedConstraint}}),Object.defineProperty(I,"typeConstraint",{enumerable:!0,get:function(){return z.typeConstraint}});var V=a("ujMp");Object.defineProperty(I,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return V.getServiceIdentifierAsString}});var B=a("78VC");Object.defineProperty(I,"multiBindToService",{enumerable:!0,get:function(){return B.multiBindToService}})},"4cbP":function(Ft,I){},"4dNS":function(Ft,I,a){"use strict";a.d(I,"a",function(){return Y});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("4cb6"),N=a.n(w),z=a("Gj0h"),V=a("+uE7"),B=a("k6w6"),P,T,W,Q,nt,st,et,_,Y=(P=Object(w.injectable)(),T=Object(w.inject)(V.a.GeometryComponentManager),W=Object(w.inject)(V.a.RenderEngine),P(Q=(nt=(_=function(){function $(){M()(this,$),S()(this,"geometry",st,this),S()(this,"engine",et,this)}return O()($,[{key:"execute",value:function(){var q=p()(i.a.mark(function pt(){var mt=this;return i.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:this.geometry.forEach(function(It,Ht){Ht.dirty&&(Ht.attributes.forEach(function(Qt){if(Qt.dirty&&Qt.data){if(!Qt.buffer)Qt.buffer=mt.engine.createBuffer({data:Qt.data,type:B.a.FLOAT});else{var $t;($t=Qt.buffer)===null||$t===void 0||$t.subData({data:Qt.data,offset:0})}Qt.dirty=!1}}),Ht.indices&&(Ht.indicesBuffer?Ht.indicesBuffer.subData({data:Ht.indices,offset:0}):Ht.indicesBuffer=mt.engine.createElements({data:Ht.indices,count:Ht.indices.length,type:B.a.UNSIGNED_INT,usage:B.a.STATIC_DRAW})),Ht.dirty=!1)});case 1:case"end":return xt.stop()}},pt,this)}));function at(){return q.apply(this,arguments)}return at}()},{key:"tearDown",value:function(){this.geometry.forEach(function(at,pt){pt.indicesBuffer&&pt.indicesBuffer.destroy(),pt.attributes.forEach(function(mt){mt.buffer&&mt.buffer.destroy()})}),this.geometry.clear()}},{key:"createBufferGeometry",value:function(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{vertexCount:3},pt=at.vertexCount,mt=Object(z.createEntity)();return this.geometry.create(mt,{vertexCount:pt})}},{key:"createInstancedBufferGeometry",value:function(at){var pt=at.maxInstancedCount,mt=at.vertexCount,ot=Object(z.createEntity)();return this.geometry.create(ot,{maxInstancedCount:pt,vertexCount:mt})}}]),$}(),_),st=D()(nt.prototype,"geometry",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=D()(nt.prototype,"engine",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||Q)},"4hNi":function(Ft,I,a){Ft.exports={EPSILON:a("NEPx"),create:a("Ej2v"),clone:a("S8zm"),fromValues:a("2GVV"),copy:a("PMMO"),set:a("4Hkj"),equals:a("F4jT"),exactEquals:a("RRY9"),add:a("+sJh"),subtract:a("cGwC"),sub:a("uPCe"),multiply:a("u6oY"),mul:a("MF6L"),divide:a("Bu3x"),div:a("Svbc"),inverse:a("QOyy"),min:a("dOXA"),max:a("+A2u"),rotate:a("sj7I"),floor:a("Cq4r"),ceil:a("zLyj"),round:a("Ska/"),scale:a("My4P"),scaleAndAdd:a("+n+1"),distance:a("M5u/"),dist:a("CGoQ"),squaredDistance:a("C3Dj"),sqrDist:a("plQd"),length:a("yEj1"),len:a("vip/"),squaredLength:a("SGks"),sqrLen:a("Yr8b"),negate:a("AzzA"),normalize:a("t8N9"),dot:a("a8Yn"),cross:a("N2HP"),lerp:a("xDUe"),random:a("L26W"),transformMat2:a("30v5"),transformMat2d:a("blMc"),transformMat3:a("Twb9"),transformMat4:a("AEOw"),forEach:a("FKLu"),limit:a("5rkR")}},"4qC0":function(Ft,I,a){var f=a("NykK"),i=a("Z0cm"),g=a("ExA7"),p="[object String]";function E(S){return typeof S=="string"||!i(S)&&g(S)&&f(S)==p}Ft.exports=E},"4sDh":function(Ft,I,a){var f=a("4uTw"),i=a("03A+"),g=a("Z0cm"),p=a("wJg7"),E=a("shjB"),S=a("9Nap");function A(M,x,O){x=f(x,M);for(var C=-1,D=x.length,R=!1;++C<D;){var y=S(x[C]);if(!(R=M!=null&&O(M,y)))break;M=M[y]}return R||++C!=D?R:(D=M==null?0:M.length,!!D&&E(D)&&p(y,D)&&(g(M)||i(M)))}Ft.exports=A},"4uTw":function(Ft,I,a){var f=a("Z0cm"),i=a("9ggG"),g=a("GNiM"),p=a("dt0z");function E(S,A){return f(S)?S:i(S,A)?[S]:g(p(S))}Ft.exports=E},"5EqP":function(Ft,I,a){var f=a("M96O");Ft.exports=i;function i(g){var p={},E=[],S;function A(M){f.has(p,M)||(p[M]=!0,S.push(M),f.each(g.successors(M),A),f.each(g.predecessors(M),A))}return f.each(g.nodes(),function(M){S=[],A(M),S.length&&E.push(S)}),E}},"5HRO":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("iTfj");function i(g,p){if(g===!1)return{fields:!1};var E=Object(f.s)(g,"fields"),S=Object(f.s)(g,"formatter");return S&&!E&&(E=p),{fields:E,formatter:S}}},"5OoT":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("iTfj");function i(g,p){return!Object(f.K)(g)||!Object(f.K)(p)?"-":g===p?"100%":g===0?"\u221E":p===0?"-\u221E":(100*p/g).toFixed(2)+"%"}},"5Tg0":function(Ft,I,a){(function(f){var i=a("Kz5y"),g=I&&!I.nodeType&&I,p=g&&typeof f=="object"&&f&&!f.nodeType&&f,E=p&&p.exports===g,S=E?i.Buffer:void 0,A=S?S.allocUnsafe:void 0;function M(x,O){if(O)return x.slice();var C=x.length,D=A?A(C):new x.constructor(C);return x.copy(D),D}f.exports=M}).call(this,a("hOG+")(Ft))},"5UbV":function(Ft,I,a){"use strict";a.d(I,"c",function(){return i}),a.d(I,"a",function(){return g}),a.d(I,"h",function(){return p}),a.d(I,"k",function(){return E}),a.d(I,"j",function(){return S}),a.d(I,"b",function(){return A}),a.d(I,"g",function(){return M}),a.d(I,"e",function(){return x}),a.d(I,"i",function(){return D}),a.d(I,"d",function(){return w}),a.d(I,"m",function(){return N}),a.d(I,"l",function(){return z}),a.d(I,"f",function(){return V});var f=a("iTfj");function i(B){var P=0,T=0,W=0,Q=0;return Object(f.K)(B)?P=T=W=Q=B:Object(f.B)(B)&&(P=B[0],W=Object(f.I)(B[1])?B[0]:B[1],Q=Object(f.I)(B[2])?B[0]:B[2],T=Object(f.I)(B[3])?W:B[3]),[P,W,Q,T]}function g(B){for(var P=B.childNodes,T=P.length,W=T-1;W>=0;W--)B.removeChild(P[W])}function p(B,P){return!!B.className.match(new RegExp("(\\s|^)"+P+"(\\s|$)"))}function E(B){var P=B.start,T=B.end,W=Math.min(P.x,T.x),Q=Math.min(P.y,T.y),nt=Math.max(P.x,T.x),st=Math.max(P.y,T.y);return{x:W,y:Q,minX:W,minY:Q,maxX:nt,maxY:st,width:nt-W,height:st-Q}}function S(B){var P=B.map(function(et){return et.x}),T=B.map(function(et){return et.y}),W=Math.min.apply(Math,P),Q=Math.min.apply(Math,T),nt=Math.max.apply(Math,P),st=Math.max.apply(Math,T);return{x:W,y:Q,minX:W,minY:Q,maxX:nt,maxY:st,width:nt-W,height:st-Q}}function A(B,P,T,W){var Q=B+T,nt=P+W;return{x:B,y:P,width:T,height:W,minX:B,minY:P,maxX:isNaN(Q)?0:Q,maxY:isNaN(nt)?0:nt}}function M(B,P,T){return(1-T)*B+P*T}function x(B,P,T){return{x:B.x+Math.cos(T)*P,y:B.y+Math.sin(T)*P}}function O(B,P){var T=P.x-B.x,W=P.y-B.y;return Math.sqrt(T*T+W*W)}var C=function(P){return new Promise(function(T){setTimeout(T,P)})},D=function(P,T,W){return W===void 0&&(W=Math.pow(Number.EPSILON,.5)),[P,T].includes(Infinity)?Math.abs(P)===Math.abs(T):Math.abs(P-T)<W};function R(B,P){var T=Math.max(B.minX,P.minX),W=Math.max(B.minY,P.minY),Q=Math.min(B.maxX,P.maxX),nt=Math.min(B.maxY,P.maxY);return A(T,W,Q-T,nt-W)}function y(B,P){var T=Math.min(B.minX,P.minX),W=Math.min(B.minY,P.minY),Q=Math.max(B.maxX,P.maxX),nt=Math.max(B.maxY,P.maxY);return A(T,W,Q-T,nt-W)}function w(B){var P=B.getClip(),T=P&&P.getBBox(),W;if(!B.isGroup())W=B.getBBox();else{var Q=Infinity,nt=-Infinity,st=Infinity,et=-Infinity,_=B.getChildren();_.length>0?Object(f.j)(_,function(Y){if(Y.get("visible")){if(Y.isGroup()&&Y.get("children").length===0)return!0;var $=w(Y),q=Y.applyToMatrix([$.minX,$.minY,1]),at=Y.applyToMatrix([$.minX,$.maxY,1]),pt=Y.applyToMatrix([$.maxX,$.minY,1]),mt=Y.applyToMatrix([$.maxX,$.maxY,1]),ot=Math.min(q[0],at[0],pt[0],mt[0]),xt=Math.max(q[0],at[0],pt[0],mt[0]),It=Math.min(q[1],at[1],pt[1],mt[1]),Ht=Math.max(q[1],at[1],pt[1],mt[1]);ot<Q&&(Q=ot),xt>nt&&(nt=xt),It<st&&(st=It),Ht>et&&(et=Ht)}}):(Q=0,nt=0,st=0,et=0),W=A(Q,st,nt-Q,et-st)}return T?R(W,T):W}function N(B,P){if(!(!B.getClip()&&!P.getClip())){var T=P.getClip();if(!T){B.setClip(null);return}var W={type:T.get("type"),attrs:T.attr()};B.setClip(W)}}function z(B){return B+"px"}function V(B,P,T,W){var Q=O(B,P),nt=W/Q,st=0;return T==="start"?st=0-nt:T==="end"&&(st=1+nt),{x:M(B.x,P.x,st),y:M(B.y,P.y,st)}}},"5bFI":function(Ft,I,a){"use strict";a.r(I),a.d(I,"Category",function(){return R}),a.d(I,"Continuous",function(){return z}),a.d(I,"Base",function(){return O});var f=a("mrSG"),i=a("iTfj"),g=a("BgvD"),p=a("jqgP"),E=a("l3hu"),S=a("L16w"),A=a("MeYt"),M=a("5UbV"),x=function(V){Object(f.c)(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.getDefaultCfg=function(){var P=V.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},P),{name:"legend",layout:"horizontal",locationType:"point",x:0,y:0,offsetX:0,offsetY:0,title:null,background:null})},B.prototype.getLayoutBBox=function(){var P=V.prototype.getLayoutBBox.call(this),T=this.get("maxWidth"),W=this.get("maxHeight"),Q=P.width,nt=P.height;return T&&(Q=Math.min(Q,T)),W&&(nt=Math.min(nt,W)),Object(M.b)(P.minX,P.minY,Q,nt)},B.prototype.setLocation=function(P){this.set("x",P.x),this.set("y",P.y),this.resetLocation()},B.prototype.resetLocation=function(){var P=this.get("x"),T=this.get("y"),W=this.get("offsetX"),Q=this.get("offsetY");this.moveElementTo(this.get("group"),{x:P+W,y:T+Q})},B.prototype.applyOffset=function(){this.resetLocation()},B.prototype.getDrawPoint=function(){return this.get("currentPoint")},B.prototype.setDrawPoint=function(P){return this.set("currentPoint",P)},B.prototype.renderInner=function(P){this.resetDraw(),this.get("title")&&this.drawTitle(P),this.drawLegendContent(P),this.get("background")&&this.drawBackground(P)},B.prototype.drawBackground=function(P){var T=this.get("background"),W=P.getBBox(),Q=Object(M.c)(T.padding),nt=Object(f.a)({x:0,y:0,width:W.width+Q[1]+Q[3],height:W.height+Q[0]+Q[2]},T.style),st=this.addShape(P,{type:"rect",id:this.getElementId("background"),name:"legend-background",attrs:nt});st.toBack()},B.prototype.drawTitle=function(P){var T=this.get("currentPoint"),W=this.get("title"),Q=W.spacing,nt=W.style,st=W.text,et=this.addShape(P,{type:"text",id:this.getElementId("title"),name:"legend-title",attrs:Object(f.a)({text:st,x:T.x,y:T.y},nt)}),_=et.getBBox();this.set("currentPoint",{x:T.x,y:_.maxY+Q})},B.prototype.resetDraw=function(){var P=this.get("background"),T={x:0,y:0};if(P){var W=Object(M.c)(P.padding);T.x=W[3],T.y=W[0]}this.set("currentPoint",T)},B}(A.a),O=x,C={marker:{style:{inactiveFill:"#000",inactiveOpacity:.45,fill:"#000",opacity:1,size:12}},text:{style:{fill:"#ccc",fontSize:12}}},D=function(V){Object(f.c)(B,V);function B(){var P=V!==null&&V.apply(this,arguments)||this;return P.currentPageIndex=1,P.totalPagesCnt=1,P.pageWidth=0,P.pageHeight=0,P.startX=0,P.startY=0,P.onNavigationBack=function(){var T=P.getElementByLocalId("item-group");if(P.currentPageIndex>1){P.currentPageIndex-=1,P.updateNavigation();var W=P.getCurrentNavigationMatrix();P.get("animate")?T.animate({matrix:W},100):T.attr({matrix:W})}},P.onNavigationAfter=function(){var T=P.getElementByLocalId("item-group");if(P.currentPageIndex<P.totalPagesCnt){P.currentPageIndex+=1,P.updateNavigation();var W=P.getCurrentNavigationMatrix();P.get("animate")?T.animate({matrix:W},100):T.attr({matrix:W})}},P}return B.prototype.getDefaultCfg=function(){var P=V.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},P),{name:"legend",type:"category",itemSpacing:24,itemMarginBottom:8,maxItemWidth:null,itemWidth:null,itemHeight:null,itemName:{},itemValue:null,maxWidth:null,maxHeight:null,marker:{},items:[],itemStates:{},itemBackground:{},pageNavigator:{},defaultCfg:{title:{spacing:5,style:{fill:S.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}},background:{padding:5,style:{stroke:S.a.lineColor}},itemBackground:{style:{opacity:0,fill:"#fff"}},pageNavigator:C,itemName:{spacing:16,style:{fill:S.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},marker:{spacing:8,style:{r:6,symbol:"circle"}},itemValue:{alignRight:!1,formatter:null,style:{fill:S.a.textColor,fontSize:12,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:S.a.uncheckedColor},markerStyle:{fill:S.a.uncheckedColor,stroke:S.a.uncheckedColor}},inactive:{nameStyle:{fill:S.a.uncheckedColor},markerStyle:{opacity:.2}}}}})},B.prototype.isList=function(){return!0},B.prototype.getItems=function(){return this.get("items")},B.prototype.setItems=function(P){this.update({items:P})},B.prototype.updateItem=function(P,T){Object(i.bb)(P,T),this.clear(),this.render()},B.prototype.clearItems=function(){var P=this.getElementByLocalId("item-group");P&&P.clear()},B.prototype.setItemState=function(P,T,W){P[T]=W;var Q=this.getElementByLocalId("item-"+P.id);if(Q){var nt=this.getItems(),st=nt.indexOf(P),et=this.createOffScreenGroup(),_=this.drawItem(P,st,this.getItemHeight(),et);this.updateElements(_,Q),this.clearUpdateStatus(Q)}},B.prototype.hasState=function(P,T){return!!P[T]},B.prototype.getItemStates=function(P){var T=this.get("itemStates"),W=[];return Object(i.j)(T,function(Q,nt){P[nt]&&W.push(nt)}),W},B.prototype.clearItemsState=function(P){var T=this,W=this.getItemsByState(P);Object(i.j)(W,function(Q){T.setItemState(Q,P,!1)})},B.prototype.getItemsByState=function(P){var T=this,W=this.getItems();return Object(i.l)(W,function(Q){return T.hasState(Q,P)})},B.prototype.drawLegendContent=function(P){this.processItems(),this.drawItems(P)},B.prototype.processItems=function(){var P=this.get("items");Object(i.j)(P,function(T){T.id||(T.id=T.name)})},B.prototype.drawItems=function(P){var T=this,W=this.addGroup(P,{id:this.getElementId("item-container-group"),name:"legend-item-container-group"}),Q=this.addGroup(W,{id:this.getElementId("item-group"),name:"legend-item-group"}),nt=this.getItemHeight(),st=this.get("itemWidth"),et=this.get("itemSpacing"),_=this.get("itemMarginBottom"),Y=this.get("currentPoint"),$=Y.x,q=Y.y,at=this.get("layout"),pt=this.get("items"),mt=!1,ot=0,xt=this.get("maxWidth"),It=this.get("maxHeight");Object(i.j)(pt,function(Ht,Qt){var $t=T.drawItem(Ht,Qt,nt,Q),yt=$t.getBBox(),ut=st||yt.width;ut>ot&&(ot=ut),at==="horizontal"?(xt&&xt<Y.x+ut-$&&(mt=!0,Y.x=$,Y.y+=nt+_),T.moveElementTo($t,Y),Y.x+=ut+et):(It&&It<Y.y+nt+_-q&&(mt=!0,Y.x+=ot+et,Y.y=q,ot=0),T.moveElementTo($t,Y),Y.y+=nt+_)}),mt&&this.get("flipPage")&&(this.pageHeight=0,this.pageWidth=0,this.totalPagesCnt=1,this.startX=$,this.startY=q,this.adjustNavigation(P,Q))},B.prototype.getItemHeight=function(){var P=this.get("itemHeight");if(!P){var T=this.get("itemName");T&&(P=T.style.fontSize)}return P},B.prototype.drawMarker=function(P,T,W,Q){var nt=Object(f.a)(Object(f.a)(Object(f.a)({x:0,y:Q/2},T.style),{symbol:Object(i.s)(W.marker,"symbol","circle")}),Object(i.s)(W.marker,"style",{})),st=this.addShape(P,{type:"marker",id:this.getElementId("item-"+W.id+"-marker"),name:"legend-item-marker",attrs:nt}),et=st.getBBox();st.attr("x",et.width/2);var _=st.attr(),Y=_.stroke,$=_.fill;return Y&&st.set("isStroke",!0),$&&st.set("isFill",!0),st},B.prototype.drawItemText=function(P,T,W,Q,nt,st,et){var _=W.formatter,Y=Object(f.a)({x:st,y:nt/2,text:_?_(Q[T],Q,et):Q[T]},W.style);return this.addShape(P,{type:"text",id:this.getElementId("item-"+Q.id+"-"+T),name:"legend-item-"+T,attrs:Y})},B.prototype.drawItem=function(P,T,W,Q){var nt="item-"+P.id,st=this.addGroup(Q,{name:"legend-item-container",id:this.getElementId("item-container-"+nt),delegateObject:{item:P,index:T}}),et=this.addGroup(st,{name:"legend-item",id:this.getElementId(nt),delegateObject:{item:P,index:T}}),_=this.get("marker"),Y=this.get("itemName"),$=this.get("itemValue"),q=this.get("itemBackground"),at=this.getLimitItemWidth(),pt=0;if(_){var mt=this.drawMarker(et,_,P,W);pt=mt.getBBox().maxX+_.spacing}if(Y){var ot=this.drawItemText(et,"name",Y,P,W,pt,T);at&&Object(g.a)(!0,ot,Object(i.c)(at-pt,0,at)),pt=ot.getBBox().maxX+Y.spacing}if($){var xt=this.drawItemText(et,"value",$,P,W,pt,T);at&&($.alignRight?(xt.attr({textAlign:"right",x:at}),Object(g.a)(!0,xt,Object(i.c)(at-pt,0,at),"head")):Object(g.a)(!0,xt,Object(i.c)(at-pt,0,at)))}if(q){var It=et.getBBox(),Ht=this.addShape(et,{type:"rect",name:"legend-item-background",id:this.getElementId(nt+"-background"),attrs:Object(f.a)({x:0,y:0,width:It.width,height:W},q.style)});Ht.toBack()}return this.applyItemStates(P,et),et},B.prototype.adjustNavigation=function(P,T){var W=this,Q=this.startX,nt=this.startY,st=this.get("layout"),et=T.findAll(function(ft){return ft.get("name")==="legend-item"}),_=this.get("maxWidth"),Y=this.get("maxHeight"),$=this.get("itemWidth"),q=this.get("itemSpacing"),at=this.getItemHeight(),pt=Object(i.h)({},C,this.get("pageNavigator")),mt=this.drawNavigation(P,st,"00/00",pt),ot=mt.getBBox(),xt={x:Q,y:nt},It=1,Ht=0,Qt=0,$t=0;if(st==="horizontal")this.pageHeight=at,Object(i.j)(et,function(ft){var it=ft.getBBox(),vt=$||it.width;(Ht&&Ht<xt.x+vt+q||_<xt.x+vt+q+ot.width)&&(It===1&&(Ht=xt.x+q,W.pageWidth=Ht,W.moveElementTo(mt,{x:_-q-ot.width-ot.minX,y:xt.y+at/2-ot.height/2-ot.minY})),It+=1,xt.x=Q,xt.y+=at),W.moveElementTo(ft,xt),ft.getParent().setClip({type:"rect",attrs:{x:xt.x,y:xt.y,width:vt+q,height:at}}),xt.x+=vt+q});else{var yt=this.get("itemMarginBottom");Object(i.j)(et,function(ft){var it=ft.getBBox();it.width>Qt&&(Qt=it.width)}),$t=Qt,Qt+=q,_&&(Qt=Math.min(_,Qt),$t=Math.min(_,$t)),this.pageWidth=Qt,this.pageHeight=Y-Math.max(ot.height,at+yt);var ut=Math.floor(this.pageHeight/(at+yt));Object(i.j)(et,function(ft,it){it!==0&&it%ut==0&&(It+=1,xt.x+=Qt,xt.y=nt),W.moveElementTo(ft,xt),ft.getParent().setClip({type:"rect",attrs:{x:xt.x,y:xt.y,width:Qt,height:at}}),xt.y+=at+yt}),this.totalPagesCnt=It,this.moveElementTo(mt,{x:Q+$t/2-ot.width/2-ot.minX,y:Y-ot.height-ot.minY})}this.pageHeight&&this.pageWidth&&T.getParent().setClip({type:"rect",attrs:{x:this.startX,y:this.startY,width:this.pageWidth,height:this.pageHeight}}),this.totalPagesCnt=It,this.currentPageIndex>this.totalPagesCnt&&(this.currentPageIndex=1),this.updateNavigation(mt),T.attr("matrix",this.getCurrentNavigationMatrix())},B.prototype.drawNavigation=function(P,T,W,Q){var nt={x:0,y:0},st=this.addGroup(P,{id:this.getElementId("navigation-group"),name:"legend-navigation"}),et=Object(i.s)(Q.marker,"style",{}),_=et.size,Y=_===void 0?12:_,$=Object(f.e)(et,["size"]),q=this.drawArrow(st,nt,"navigation-arrow-left",T==="horizontal"?"up":"left",Y,$);q.on("click",this.onNavigationBack);var at=q.getBBox();nt.x+=at.width+2;var pt=this.addShape(st,{type:"text",id:this.getElementId("navigation-text"),name:"navigation-text",attrs:Object(f.a)({x:nt.x,y:nt.y+Y/2,text:W,textBaseline:"middle"},Object(i.s)(Q.text,"style"))}),mt=pt.getBBox();nt.x+=mt.width+2;var ot=this.drawArrow(st,nt,"navigation-arrow-right",T==="horizontal"?"down":"right",Y,$);return ot.on("click",this.onNavigationAfter),st},B.prototype.updateNavigation=function(P){var T=Object(i.h)({},C,this.get("pageNavigator")),W=T.marker.style,Q=W.fill,nt=W.opacity,st=W.inactiveFill,et=W.inactiveOpacity,_=this.currentPageIndex+"/"+this.totalPagesCnt,Y=P?P.getChildren()[1]:this.getElementByLocalId("navigation-text"),$=P?P.findById(this.getElementId("navigation-arrow-left")):this.getElementByLocalId("navigation-arrow-left"),q=P?P.findById(this.getElementId("navigation-arrow-right")):this.getElementByLocalId("navigation-arrow-right"),at=Y.getBBox();Y.attr("text",_);var pt=Y.getBBox();Y.attr("x",Y.attr("x")-(pt.width-at.width)/2),$.attr("opacity",this.currentPageIndex===1?et:nt),$.attr("fill",this.currentPageIndex===1?st:Q),$.attr("cursor",this.currentPageIndex===1?"not-allowed":"pointer"),q.attr("opacity",this.currentPageIndex===this.totalPagesCnt?et:nt),q.attr("fill",this.currentPageIndex===this.totalPagesCnt?st:Q),q.attr("cursor",this.currentPageIndex===this.totalPagesCnt?"not-allowed":"pointer")},B.prototype.drawArrow=function(P,T,W,Q,nt,st){var et=T.x,_=T.y,Y={right:90*Math.PI/180,left:(360-90)*Math.PI/180,up:0,down:180*Math.PI/180},$=this.addShape(P,{type:"path",id:this.getElementId(W),name:W,attrs:Object(f.a)({path:[["M",et+nt/2,_],["L",et,_+nt],["L",et+nt,_+nt],["Z"]],cursor:"pointer"},st)});return $.attr("matrix",Object(p.e)({x:et+nt/2,y:_+nt/2},Y[Q])),$},B.prototype.getCurrentNavigationMatrix=function(){var P=this,T=P.currentPageIndex,W=P.pageWidth,Q=P.pageHeight,nt=this.get("layout"),st=nt==="horizontal"?{x:0,y:Q*(1-T)}:{x:W*(1-T),y:0};return Object(p.f)(st)},B.prototype.applyItemStates=function(P,T){var W=this.getItemStates(P),Q=W.length>0;if(Q){var nt=T.getChildren(),st=this.get("itemStates");Object(i.j)(nt,function(et){var _=et.get("name"),Y=_.split("-")[2],$=Object(E.a)(P,Y,st);$&&(et.attr($),Y==="marker"&&!(et.get("isStroke")&&et.get("isFill"))&&(et.get("isStroke")&&et.attr("fill",null),et.get("isFill")&&et.attr("stroke",null)))})}},B.prototype.getLimitItemWidth=function(){var P=this.get("itemWidth"),T=this.get("maxItemWidth");return T?P&&(T=P<=T?P:T):P&&(T=P),T},B}(O),R=D,y=1.4,w=.4,N=function(V){Object(f.c)(B,V);function B(){return V!==null&&V.apply(this,arguments)||this}return B.prototype.getDefaultCfg=function(){var P=V.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},P),{type:"continue",min:0,max:100,value:null,colors:[],track:{},rail:{},label:{},handler:{},slidable:!0,tip:null,step:null,maxWidth:null,maxHeight:null,defaultCfg:{label:{align:"rail",spacing:5,formatter:null,style:{fontSize:12,fill:S.a.textColor,textBaseline:"middle",fontFamily:S.a.fontFamily}},handler:{size:10,style:{fill:"#fff",stroke:"#333"}},track:{},rail:{type:"color",size:20,defaultLength:100,style:{fill:"#DCDEE2"}},title:{spacing:5,style:{fill:S.a.textColor,fontSize:12,textAlign:"start",textBaseline:"top"}}}})},B.prototype.isSlider=function(){return!0},B.prototype.getValue=function(){return this.getCurrentValue()},B.prototype.getRange=function(){return{min:this.get("min"),max:this.get("max")}},B.prototype.setRange=function(P,T){this.update({min:P,max:T})},B.prototype.setValue=function(P){var T=this.getValue();this.set("value",P);var W=this.get("group");this.resetTrackClip(),this.get("slidable")&&this.resetHandlers(W),this.delegateEmit("valuechanged",{originValue:T,value:P})},B.prototype.initEvent=function(){var P=this.get("group");this.bindSliderEvent(P),this.bindRailEvent(P),this.bindTrackEvent(P)},B.prototype.drawLegendContent=function(P){this.drawRail(P),this.drawLabels(P),this.fixedElements(P),this.resetTrack(P),this.resetTrackClip(P),this.get("slidable")&&this.resetHandlers(P)},B.prototype.bindSliderEvent=function(P){this.bindHandlersEvent(P)},B.prototype.bindHandlersEvent=function(P){var T=this;P.on("legend-handler-min:drag",function(W){var Q=T.getValueByCanvasPoint(W.x,W.y),nt=T.getCurrentValue(),st=nt[1];st<Q&&(st=Q),T.setValue([Q,st])}),P.on("legend-handler-max:drag",function(W){var Q=T.getValueByCanvasPoint(W.x,W.y),nt=T.getCurrentValue(),st=nt[0];st>Q&&(st=Q),T.setValue([st,Q])})},B.prototype.bindRailEvent=function(P){},B.prototype.bindTrackEvent=function(P){var T=this,W=null;P.on("legend-track:dragstart",function(Q){W={x:Q.x,y:Q.y}}),P.on("legend-track:drag",function(Q){if(!!W){var nt=T.getValueByCanvasPoint(W.x,W.y),st=T.getValueByCanvasPoint(Q.x,Q.y),et=T.getCurrentValue(),_=et[1]-et[0],Y=T.getRange(),$=st-nt;$<0?et[0]+$>Y.min?T.setValue([et[0]+$,et[1]+$]):T.setValue([Y.min,Y.min+_]):$>0&&($>0&&et[1]+$<Y.max?T.setValue([et[0]+$,et[1]+$]):T.setValue([Y.max-_,Y.max])),W={x:Q.x,y:Q.y}}}),P.on("legend-track:dragend",function(Q){W=null})},B.prototype.drawLabels=function(P){this.drawLabel("min",P),this.drawLabel("max",P)},B.prototype.drawLabel=function(P,T){var W=this.get("label"),Q=W.style,nt=W.align,st=W.formatter,et=this.get(P),_=this.getLabelAlignAttrs(P,nt),Y="label-"+P;this.addShape(T,{type:"text",id:this.getElementId(Y),name:"legend-label-"+P,attrs:Object(f.a)(Object(f.a)({x:0,y:0,text:Object(i.H)(st)?st(et):et},Q),_)})},B.prototype.getLabelAlignAttrs=function(P,T){var W=this.isVertical(),Q="center",nt="middle";return W?(Q="start",T!=="rail"?P==="min"?nt="top":nt="bottom":nt="top"):T!=="rail"?(nt="top",P==="min"?Q="start":Q="end"):(Q="start",nt="middle"),{textAlign:Q,textBaseline:nt}},B.prototype.getRailPath=function(P,T,W,Q){var nt=this.get("rail"),st=nt.size,et=nt.defaultLength,_=nt.type,Y=this.isVertical(),$=et,q=W,at=Q;q||(q=Y?st:$),at||(at=Y?$:st);var pt=[];return _==="color"?(pt.push(["M",P,T]),pt.push(["L",P+q,T]),pt.push(["L",P+q,T+at]),pt.push(["L",P,T+at]),pt.push(["Z"])):(pt.push(["M",P+q,T]),pt.push(["L",P+q,T+at]),pt.push(["L",P,T+at]),pt.push(["Z"])),pt},B.prototype.drawRail=function(P){var T=this.get("rail"),W=T.style;this.addShape(P,{type:"path",id:this.getElementId("rail"),name:"legend-rail",attrs:Object(f.a)({path:this.getRailPath(0,0)},W)})},B.prototype.getTrackColor=function(P){var T=P.length;if(!T)return null;if(T===1)return P[0];var W;this.isVertical()?W="l(90)":W="l(0)";for(var Q=0;Q<T;Q++){var nt=Q/(T-1);W+=" "+nt+":"+P[Q]}return W},B.prototype.getTrackPath=function(P){var T=this.getRailShape(P),W=T.attr("path");return Object(i.e)(W)},B.prototype.getClipTrackAttrs=function(P){var T=this.getCurrentValue(),W=T[0],Q=T[1],nt=this.getRailBBox(P),st=this.getPointByValue(W,P),et=this.getPointByValue(Q,P),_=this.isVertical(),Y,$,q,at;return _?(Y=nt.minX,$=st.y,q=nt.width,at=et.y-st.y):(Y=st.x,$=nt.minY,q=et.x-st.x,at=nt.height),{x:Y,y:$,width:q,height:at}},B.prototype.getTrackAttrs=function(P){var T=this.get("track"),W=this.get("colors"),Q=this.getTrackPath(P);return Object(i.bb)({path:Q,fill:this.getTrackColor(W)},T.style)},B.prototype.resetTrackClip=function(P){var T=P||this.get("group"),W=this.getElementId("track"),Q=T.findById(W),nt=Q.getClip(),st=this.getClipTrackAttrs(P);nt?nt.attr(st):Q.setClip({type:"rect",attrs:st})},B.prototype.resetTrack=function(P){var T=this.getElementId("track"),W=P.findById(T),Q=this.getTrackAttrs(P);W?W.attr(Q):this.addShape(P,{type:"path",id:T,draggable:this.get("slidable"),name:"legend-track",attrs:Q})},B.prototype.getPointByValue=function(P,T){var W=this.getRange(),Q=W.min,nt=W.max,st=(P-Q)/(nt-Q),et=this.getRailBBox(T),_=this.isVertical(),Y={x:0,y:0};return _?(Y.x=et.minX+et.width/2,Y.y=Object(M.g)(et.minY,et.maxY,st)):(Y.x=Object(M.g)(et.minX,et.maxX,st),Y.y=et.minY+et.height/2),Y},B.prototype.getRailShape=function(P){var T=P||this.get("group");return T.findById(this.getElementId("rail"))},B.prototype.getRailBBox=function(P){var T=this.getRailShape(P),W=T.getBBox();return W},B.prototype.getRailCanvasBBox=function(){var P=this.get("group"),T=P.findById(this.getElementId("rail")),W=T.getCanvasBBox();return W},B.prototype.isVertical=function(){return this.get("layout")==="vertical"},B.prototype.getValueByCanvasPoint=function(P,T){var W=this.getRange(),Q=W.min,nt=W.max,st=this.getRailCanvasBBox(),et=this.isVertical(),_=this.get("step"),Y;et?Y=(T-st.minY)/st.height:Y=(P-st.minX)/st.width;var $=Object(M.g)(Q,nt,Y);if(_){var q=Math.round(($-Q)/_);$=Q+q*_}return $>nt&&($=nt),$<Q&&($=Q),$},B.prototype.getCurrentValue=function(){var P=this.get("value");return P||(P=[this.get("min"),this.get("max")]),P},B.prototype.resetHandlers=function(P){var T=this.getCurrentValue(),W=T[0],Q=T[1];this.resetHandler(P,"min",W),this.resetHandler(P,"max",Q)},B.prototype.getHandlerPath=function(P,T){var W=this.isVertical(),Q=[],nt=P.size,st=T.x,et=T.y,_=nt*y,Y=nt/2,$=nt/6;if(W){var q=st+_*w;Q.push(["M",st,et]),Q.push(["L",q,et+Y]),Q.push(["L",st+_,et+Y]),Q.push(["L",st+_,et-Y]),Q.push(["L",q,et-Y]),Q.push(["Z"]),Q.push(["M",q,et+$]),Q.push(["L",st+_-2,et+$]),Q.push(["M",q,et-$]),Q.push(["L",st+_-2,et-$])}else{var at=et+_*w;Q.push(["M",st,et]),Q.push(["L",st-Y,at]),Q.push(["L",st-Y,et+_]),Q.push(["L",st+Y,et+_]),Q.push(["L",st+Y,at]),Q.push(["Z"]),Q.push(["M",st-$,at]),Q.push(["L",st-$,et+_-2]),Q.push(["M",st+$,at]),Q.push(["L",st+$,et+_-2])}return Q},B.prototype.resetHandler=function(P,T,W){var Q=this.getPointByValue(W,P),nt=this.get("handler"),st=this.getHandlerPath(nt,Q),et=this.getElementId("handler-"+T),_=P.findById(et),Y=this.isVertical();_?_.attr("path",st):this.addShape(P,{type:"path",name:"legend-handler-"+T,draggable:!0,id:et,attrs:Object(f.a)(Object(f.a)({path:st},nt.style),{cursor:Y?"ns-resize":"ew-resize"})})},B.prototype.fixedElements=function(P){var T=P.findById(this.getElementId("rail")),W=P.findById(this.getElementId("label-min")),Q=P.findById(this.getElementId("label-max")),nt=this.getDrawPoint();this.isVertical()?this.fixedVertail(W,Q,T,nt):this.fixedHorizontal(W,Q,T,nt)},B.prototype.fitRailLength=function(P,T,W,Q){var nt=this.isVertical(),st=nt?"height":"width",et=this.get("label"),_=et.align,Y=et.spacing,$=this.get("max"+Object(i.tb)(st));if($){var q=_==="rail"?W[st]+P[st]+T[st]+Y*2:W[st],at=q-$;at>0&&this.changeRailLength(Q,st,W[st]-at)}},B.prototype.changeRailLength=function(P,T,W){var Q=P.getBBox(),nt;T==="height"?nt=this.getRailPath(Q.x,Q.y,Q.width,W):nt=this.getRailPath(Q.x,Q.y,W,Q.height),P.attr("path",nt)},B.prototype.changeRailPosition=function(P,T,W){var Q=P.getBBox(),nt=this.getRailPath(T,W,Q.width,Q.height);P.attr("path",nt)},B.prototype.fixedHorizontal=function(P,T,W,Q){var nt=this.get("label"),st=nt.align,et=nt.spacing,_=W.getBBox(),Y=P.getBBox(),$=T.getBBox(),q=_.height;this.fitRailLength(Y,$,_,W),_=W.getBBox(),st==="rail"?(P.attr({x:Q.x,y:Q.y+q/2}),this.changeRailPosition(W,Q.x+Y.width+et,Q.y),T.attr({x:Q.x+Y.width+_.width+et*2,y:Q.y+q/2})):st==="top"?(P.attr({x:Q.x,y:Q.y}),T.attr({x:Q.x+_.width,y:Q.y}),this.changeRailPosition(W,Q.x,Q.y+Y.height+et)):(this.changeRailPosition(W,Q.x,Q.y),P.attr({x:Q.x,y:Q.y+_.height+et}),T.attr({x:Q.x+_.width,y:Q.y+_.height+et}))},B.prototype.fixedVertail=function(P,T,W,Q){var nt=this.get("label"),st=nt.align,et=nt.spacing,_=W.getBBox(),Y=P.getBBox(),$=T.getBBox();if(this.fitRailLength(Y,$,_,W),_=W.getBBox(),st==="rail")P.attr({x:Q.x,y:Q.y}),this.changeRailPosition(W,Q.x,Q.y+Y.height+et),T.attr({x:Q.x,y:Q.y+Y.height+_.height+et*2});else if(st==="right")P.attr({x:Q.x+_.width+et,y:Q.y}),this.changeRailPosition(W,Q.x,Q.y),T.attr({x:Q.x+_.width+et,y:Q.y+_.height});else{var q=Math.max(Y.width,$.width);P.attr({x:Q.x,y:Q.y}),this.changeRailPosition(W,Q.x+q+et,Q.y),T.attr({x:Q.x,y:Q.y+_.height})}},B}(O),z=N},"5eLp":function(Ft,I,a){"use strict";var f=function(){function i(g,p){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=g,this.name=g,this.originalEvent=p,this.timeStamp=p.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var g=this.type;return"[Event (type="+g+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}();I.a=f},"5jIi":function(Ft,I,a){"use strict";var f=a("b5wT");Ft.exports=i;function i(g){var p={},E=f.filter(g.nodes(),function(O){return!g.children(O).length}),S=f.max(f.map(E,function(O){return g.node(O).rank})),A=f.map(f.range(S+1),function(){return[]});function M(O){if(!f.has(p,O)){p[O]=!0;var C=g.node(O);A[C.rank].push(O),f.forEach(g.successors(O),M)}}var x=f.sortBy(E,function(O){return g.node(O).rank});return f.forEach(x,M),A}},"5jV7":function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"c",function(){return E}),a.d(I,"a",function(){return S});var f=a("8Ek7"),i=a("xcS9");function g(A,M,x){var O=1;if(Object(f.h)(A)&&(O=A.split(`
`).length),O>1){var C=p(M,x);return M*O+C*(O-1)}return M}function p(A,M){return M?M-A:A*.14}function E(A,M){var x=Object(i.a)(),O=0;if(Object(f.e)(A)||A==="")return O;if(x.save(),x.font=M,Object(f.h)(A)&&A.includes(`
`)){var C=A.split(`
`);Object(f.a)(C,function(D){var R=x.measureText(D).width;O<R&&(O=R)})}else O=x.measureText(A).width;return x.restore(),O}function S(A){var M=A.fontSize,x=A.fontFamily,O=A.fontWeight,C=A.fontStyle,D=A.fontVariant;return[C,D,O,M+"px",x].join(" ").trim()}},"5rkR":function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0]*i[0]+i[1]*i[1];if(p>g*g){var E=Math.sqrt(p);f[0]=i[0]/E*g,f[1]=i[1]/E*g}else f[0]=i[0],f[1]=i[1];return f}},"5z4m":function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("aFU3"),g=a("iTfj"),p=a("aN7R"),E=a("c0lT"),S=a("APlK"),A=a("IvmH"),M=a("c+wO"),x=function(O){Object(f.c)(C,O);function C(){return O!==null&&O.apply(this,arguments)||this}return C.prototype.isEntityGroup=function(){return!0},C.prototype.createDom=function(){var D=Object(M.b)("g");this.set("el",D);var R=this.getParent();if(R){var y=R.get("el");y||(y=R.createDom(),R.set("el",y)),y.appendChild(D)}return D},C.prototype.afterAttrsChange=function(D){O.prototype.afterAttrsChange.call(this,D);var R=this.get("canvas");if(R&&R.get("autoDraw")){var y=R.get("context");this.createPath(y,D)}},C.prototype.onCanvasChange=function(D){Object(E.b)(this,D)},C.prototype.getShapeBase=function(){return p},C.prototype.getGroupBase=function(){return C},C.prototype.draw=function(D){var R=this.getChildren(),y=this.get("el");this.get("destroyed")?y&&y.parentNode.removeChild(y):(y||this.createDom(),Object(S.a)(this,D),this.createPath(D),R.length&&Object(E.a)(D,R))},C.prototype.createPath=function(D,R){var y=this.attr(),w=this.get("el");Object(g.j)(R||y,function(N,z){A.b[z]&&w.setAttribute(A.b[z],N)}),Object(S.c)(this)},C}(i.AbstractGroup);I.a=x},"6AGu":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingInSyntax=void 0;var f=a("FV85"),i=a("LKzl"),g=function(){function p(E){this._binding=E}return p.prototype.inRequestScope=function(){return this._binding.scope=f.BindingScopeEnum.Request,new i.BindingWhenOnSyntax(this._binding)},p.prototype.inSingletonScope=function(){return this._binding.scope=f.BindingScopeEnum.Singleton,new i.BindingWhenOnSyntax(this._binding)},p.prototype.inTransientScope=function(){return this._binding.scope=f.BindingScopeEnum.Transient,new i.BindingWhenOnSyntax(this._binding)},p}();I.BindingInSyntax=g},"6B+r":function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=a("lwsE"),i=a.n(f),g=a("PJYZ"),p=a.n(g),E=a("7W2i"),S=a.n(E),A=a("a1gu"),M=a.n(A),x=a("Nsbk"),O=a.n(x),C=a("oDt1"),D=a("ENEI");function R(N){var z=y();return function(){var B=O()(N),P;if(z){var T=O()(this).constructor;P=Reflect.construct(B,arguments,T)}else P=B.apply(this,arguments);return M()(this,P)}}function y(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(N){return!1}}var w=function(N){S()(V,N);var z=R(V);function V(B){var P;return i()(this,V),P=z.call(this,B),P.material=void 0,P.geometry=void 0,P.aabb=new D.a,P.aabbDirty=!0,P.model=void 0,P.visible=!0,P.children=[],Object.assign(p()(P),B),P}return V}(C.a)},"6Ekc":function(Ft,I,a){"use strict";var f=a("b5wT");Ft.exports={longestPath:i,slack:g};function i(p){var E={};function S(A){var M=p.node(A);if(f.has(E,A))return M.rank;E[A]=!0;var x=f.min(f.map(p.outEdges(A),function(O){return S(O.w)-p.edge(O).minlen}));return(x===Number.POSITIVE_INFINITY||x===void 0||x===null)&&(x=0),M.rank=x}f.forEach(p.sources(),S)}function g(p,E){return p.node(E.w).rank-p.node(E.v).rank-p.edge(E).minlen}},"6JdA":function(Ft,I,a){"use strict";a.d(I,"b",function(){return i.a}),a.d(I,"c",function(){return i.d}),a.d(I,"d",function(){return i.e}),a.d(I,"a",function(){return f});var f={};a.r(f),a.d(f,"leftTranslate",function(){return g}),a.d(f,"leftRotate",function(){return p}),a.d(f,"leftScale",function(){return E}),a.d(f,"transform",function(){return A}),a.d(f,"direction",function(){return M}),a.d(f,"angleTo",function(){return x}),a.d(f,"vertical",function(){return O});var i=a("IOcx");function g(C,D,R){var y=[0,0,0,0,0,0,0,0,0];return i.a.fromTranslation(y,R),i.a.multiply(C,y,D)}function p(C,D,R){var y=[0,0,0,0,0,0,0,0,0];return i.a.fromRotation(y,R),i.a.multiply(C,y,D)}function E(C,D,R){var y=[0,0,0,0,0,0,0,0,0];return i.a.fromScaling(y,R),i.a.multiply(C,y,D)}function S(C,D,R){return i.a.multiply(C,R,D)}function A(C,D){for(var R=C?[].concat(C):[1,0,0,0,1,0,0,0,1],y=0,w=D.length;y<w;y++){var N=D[y];switch(N[0]){case"t":g(R,R,[N[1],N[2]]);break;case"s":E(R,R,[N[1],N[2]]);break;case"r":p(R,R,N[1]);break;case"m":S(R,R,N[1]);break;default:break}}return R}function M(C,D){return C[0]*D[1]-D[0]*C[1]}function x(C,D,R){var y=i.d.angle(C,D),w=M(C,D)>=0;return R?w?Math.PI*2-y:y:w?y:Math.PI*2-y}function O(C,D,R){return R?(C[0]=D[1],C[1]=-1*D[0]):(C[0]=-1*D[1],C[1]=D[0]),C}},"6UX8":function(Ft,I,a){"use strict";var f=a("iTfj"),i=/rgba?\(([\s.,0-9]+)\)/,g=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,p=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,E=/[\d.]+:(#[^\s]+|[^\)]+\))/gi,S=function(V){return/^[r,R,L,l]{1}[\s]*\(/.test(V)},A=function(){var V=document.createElement("i");return V.title="Web Colour Picker",V.style.display="none",document.body.appendChild(V),V},M=function(V,B,P,T){return V[T]+(B[T]-V[T])*P};function x(z){return"#"+C(z[0])+C(z[1])+C(z[2])}var O=function(V){return[parseInt(V.substr(1,2),16),parseInt(V.substr(3,2),16),parseInt(V.substr(5,2),16)]},C=function(V){var B=Math.round(V).toString(16);return B.length===1?"0"+B:B},D=function(V,B){var P=isNaN(Number(B))||B<0?0:B>1?1:Number(B),T=V.length-1,W=Math.floor(T*P),Q=T*P-W,nt=V[W],st=W===T?nt:V[W+1];return x([M(nt,st,Q,0),M(nt,st,Q,1),M(nt,st,Q,2)])},R,y=function(V){if(V[0]==="#"&&V.length===7)return V;R||(R=A()),R.style.color=V;var B=document.defaultView.getComputedStyle(R,"").getPropertyValue("color"),P=i.exec(B),T=P[1].split(/\s*,\s*/).map(function(W){return Number(W)});return B=x(T),B},w=function(V){var B=Object(f.O)(V)?V.split("-"):V,P=Object(f.U)(B,function(T){return O(T.indexOf("#")===-1?y(T):T)});return function(T){return D(P,T)}},N=function(V){if(S(V)){var B,P=void 0;if(V[0]==="l"){var T=g.exec(V),W=+T[1]+90;P=T[2],B="linear-gradient("+W+"deg, "}else if(V[0]==="r"){B="radial-gradient(";var T=p.exec(V);P=T[4]}var Q=P.match(E);return Object(f.j)(Q,function(nt,st){var et=nt.split(":");B+=et[1]+" "+et[0]*100+"%",st!==Q.length-1&&(B+=", ")}),B+=")",B}return V};I.a={rgb2arr:O,gradient:w,toRGB:Object(f.Y)(y),toCSSGradient:N}},"6h3Y":function(Ft,I,a){"use strict";var f=function(G,Et,Tt){G.prototype=Et.prototype=Tt,Tt.constructor=G};function i(G,Et){var Tt=Object.create(G.prototype);for(var ct in Et)Tt[ct]=Et[ct];return Tt}function g(){}var p=.7,E=1/p,S="\\s*([+-]?\\d+)\\s*",A="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",M="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x=/^#([0-9a-f]{3,8})$/,O=new RegExp("^rgb\\("+[S,S,S]+"\\)$"),C=new RegExp("^rgb\\("+[M,M,M]+"\\)$"),D=new RegExp("^rgba\\("+[S,S,S,A]+"\\)$"),R=new RegExp("^rgba\\("+[M,M,M,A]+"\\)$"),y=new RegExp("^hsl\\("+[A,M,M]+"\\)$"),w=new RegExp("^hsla\\("+[A,M,M,A]+"\\)$"),N={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};f(g,P,{copy:function(Et){return Object.assign(new this.constructor,this,Et)},displayable:function(){return this.rgb().displayable()},hex:z,formatHex:z,formatHsl:V,formatRgb:B,toString:B});function z(){return this.rgb().formatHex()}function V(){return q(this).formatHsl()}function B(){return this.rgb().formatRgb()}function P(G){var Et,Tt;return G=(G+"").trim().toLowerCase(),(Et=x.exec(G))?(Tt=Et[1].length,Et=parseInt(Et[1],16),Tt===6?T(Et):Tt===3?new st(Et>>8&15|Et>>4&240,Et>>4&15|Et&240,(Et&15)<<4|Et&15,1):Tt===8?W(Et>>24&255,Et>>16&255,Et>>8&255,(Et&255)/255):Tt===4?W(Et>>12&15|Et>>8&240,Et>>8&15|Et>>4&240,Et>>4&15|Et&240,((Et&15)<<4|Et&15)/255):null):(Et=O.exec(G))?new st(Et[1],Et[2],Et[3],1):(Et=C.exec(G))?new st(Et[1]*255/100,Et[2]*255/100,Et[3]*255/100,1):(Et=D.exec(G))?W(Et[1],Et[2],Et[3],Et[4]):(Et=R.exec(G))?W(Et[1]*255/100,Et[2]*255/100,Et[3]*255/100,Et[4]):(Et=y.exec(G))?$(Et[1],Et[2]/100,Et[3]/100,1):(Et=w.exec(G))?$(Et[1],Et[2]/100,Et[3]/100,Et[4]):N.hasOwnProperty(G)?T(N[G]):G==="transparent"?new st(NaN,NaN,NaN,0):null}function T(G){return new st(G>>16&255,G>>8&255,G&255,1)}function W(G,Et,Tt,ct){return ct<=0&&(G=Et=Tt=NaN),new st(G,Et,Tt,ct)}function Q(G){return G instanceof g||(G=P(G)),G?(G=G.rgb(),new st(G.r,G.g,G.b,G.opacity)):new st}function nt(G,Et,Tt,ct){return arguments.length===1?Q(G):new st(G,Et,Tt,ct==null?1:ct)}function st(G,Et,Tt,ct){this.r=+G,this.g=+Et,this.b=+Tt,this.opacity=+ct}f(st,nt,i(g,{brighter:function(Et){return Et=Et==null?E:Math.pow(E,Et),new st(this.r*Et,this.g*Et,this.b*Et,this.opacity)},darker:function(Et){return Et=Et==null?p:Math.pow(p,Et),new st(this.r*Et,this.g*Et,this.b*Et,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:et,formatHex:et,formatRgb:_,toString:_}));function et(){return"#"+Y(this.r)+Y(this.g)+Y(this.b)}function _(){var G=this.opacity;return G=isNaN(G)?1:Math.max(0,Math.min(1,G)),(G===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(G===1?")":", "+G+")")}function Y(G){return G=Math.max(0,Math.min(255,Math.round(G)||0)),(G<16?"0":"")+G.toString(16)}function $(G,Et,Tt,ct){return ct<=0?G=Et=Tt=NaN:Tt<=0||Tt>=1?G=Et=NaN:Et<=0&&(G=NaN),new pt(G,Et,Tt,ct)}function q(G){if(G instanceof pt)return new pt(G.h,G.s,G.l,G.opacity);if(G instanceof g||(G=P(G)),!G)return new pt;if(G instanceof pt)return G;G=G.rgb();var Et=G.r/255,Tt=G.g/255,ct=G.b/255,St=Math.min(Et,Tt,ct),Vt=Math.max(Et,Tt,ct),Lt=NaN,Nt=Vt-St,Zt=(Vt+St)/2;return Nt?(Et===Vt?Lt=(Tt-ct)/Nt+(Tt<ct)*6:Tt===Vt?Lt=(ct-Et)/Nt+2:Lt=(Et-Tt)/Nt+4,Nt/=Zt<.5?Vt+St:2-Vt-St,Lt*=60):Nt=Zt>0&&Zt<1?0:Lt,new pt(Lt,Nt,Zt,G.opacity)}function at(G,Et,Tt,ct){return arguments.length===1?q(G):new pt(G,Et,Tt,ct==null?1:ct)}function pt(G,Et,Tt,ct){this.h=+G,this.s=+Et,this.l=+Tt,this.opacity=+ct}f(pt,at,i(g,{brighter:function(Et){return Et=Et==null?E:Math.pow(E,Et),new pt(this.h,this.s,this.l*Et,this.opacity)},darker:function(Et){return Et=Et==null?p:Math.pow(p,Et),new pt(this.h,this.s,this.l*Et,this.opacity)},rgb:function(){var Et=this.h%360+(this.h<0)*360,Tt=isNaN(Et)||isNaN(this.s)?0:this.s,ct=this.l,St=ct+(ct<.5?ct:1-ct)*Tt,Vt=2*ct-St;return new st(mt(Et>=240?Et-240:Et+120,Vt,St),mt(Et,Vt,St),mt(Et<120?Et+240:Et-120,Vt,St),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var Et=this.opacity;return Et=isNaN(Et)?1:Math.max(0,Math.min(1,Et)),(Et===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(Et===1?")":", "+Et+")")}}));function mt(G,Et,Tt){return(G<60?Et+(Tt-Et)*G/60:G<180?Tt:G<240?Et+(Tt-Et)*(240-G)/60:Et)*255}function ot(G,Et,Tt,ct,St){var Vt=G*G,Lt=Vt*G;return((1-3*G+3*Vt-Lt)*Et+(4-6*Vt+3*Lt)*Tt+(1+3*G+3*Vt-3*Lt)*ct+Lt*St)/6}var xt=function(G){var Et=G.length-1;return function(Tt){var ct=Tt<=0?Tt=0:Tt>=1?(Tt=1,Et-1):Math.floor(Tt*Et),St=G[ct],Vt=G[ct+1],Lt=ct>0?G[ct-1]:2*St-Vt,Nt=ct<Et-1?G[ct+2]:2*Vt-St;return ot((Tt-ct/Et)*Et,Lt,St,Vt,Nt)}},It=function(G){var Et=G.length;return function(Tt){var ct=Math.floor(((Tt%=1)<0?++Tt:Tt)*Et),St=G[(ct+Et-1)%Et],Vt=G[ct%Et],Lt=G[(ct+1)%Et],Nt=G[(ct+2)%Et];return ot((Tt-ct/Et)*Et,St,Vt,Lt,Nt)}},Ht=function(G){return function(){return G}};function Qt(G,Et){return function(Tt){return G+Tt*Et}}function $t(G,Et,Tt){return G=Math.pow(G,Tt),Et=Math.pow(Et,Tt)-G,Tt=1/Tt,function(ct){return Math.pow(G+ct*Et,Tt)}}function yt(G,Et){var Tt=Et-G;return Tt?Qt(G,Tt>180||Tt<-180?Tt-360*Math.round(Tt/360):Tt):Ht(isNaN(G)?Et:G)}function ut(G){return(G=+G)==1?ft:function(Et,Tt){return Tt-Et?$t(Et,Tt,G):Ht(isNaN(Et)?Tt:Et)}}function ft(G,Et){var Tt=Et-G;return Tt?Qt(G,Tt):Ht(isNaN(G)?Et:G)}var it=function G(Et){var Tt=ut(Et);function ct(St,Vt){var Lt=Tt((St=nt(St)).r,(Vt=nt(Vt)).r),Nt=Tt(St.g,Vt.g),Zt=Tt(St.b,Vt.b),oe=ft(St.opacity,Vt.opacity);return function(ue){return St.r=Lt(ue),St.g=Nt(ue),St.b=Zt(ue),St.opacity=oe(ue),St+""}}return ct.gamma=G,ct}(1);function vt(G){return function(Et){var Tt=Et.length,ct=new Array(Tt),St=new Array(Tt),Vt=new Array(Tt),Lt,Nt;for(Lt=0;Lt<Tt;++Lt)Nt=nt(Et[Lt]),ct[Lt]=Nt.r||0,St[Lt]=Nt.g||0,Vt[Lt]=Nt.b||0;return ct=G(ct),St=G(St),Vt=G(Vt),Nt.opacity=1,function(Zt){return Nt.r=ct(Zt),Nt.g=St(Zt),Nt.b=Vt(Zt),Nt+""}}}var Wt=vt(xt),Ct=vt(It),Z=a("ZzDG"),X=function(G,Et){var Tt=new Date;return G=+G,Et=+Et,function(ct){return Tt.setTime(G*(1-ct)+Et*ct),Tt}},dt=function(G,Et){return G=+G,Et=+Et,function(Tt){return G*(1-Tt)+Et*Tt}},H=function(G,Et){var Tt={},ct={},St;(G===null||typeof G!="object")&&(G={}),(Et===null||typeof Et!="object")&&(Et={});for(St in Et)St in G?Tt[St]=J(G[St],Et[St]):ct[St]=Et[St];return function(Vt){for(St in Tt)ct[St]=Tt[St](Vt);return ct}},lt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ot=new RegExp(lt.source,"g");function Rt(G){return function(){return G}}function zt(G){return function(Et){return G(Et)+""}}var Bt=function(G,Et){var Tt=lt.lastIndex=Ot.lastIndex=0,ct,St,Vt,Lt=-1,Nt=[],Zt=[];for(G=G+"",Et=Et+"";(ct=lt.exec(G))&&(St=Ot.exec(Et));)(Vt=St.index)>Tt&&(Vt=Et.slice(Tt,Vt),Nt[Lt]?Nt[Lt]+=Vt:Nt[++Lt]=Vt),(ct=ct[0])===(St=St[0])?Nt[Lt]?Nt[Lt]+=St:Nt[++Lt]=St:(Nt[++Lt]=null,Zt.push({i:Lt,x:dt(ct,St)})),Tt=Ot.lastIndex;return Tt<Et.length&&(Vt=Et.slice(Tt),Nt[Lt]?Nt[Lt]+=Vt:Nt[++Lt]=Vt),Nt.length<2?Zt[0]?zt(Zt[0].x):Rt(Et):(Et=Zt.length,function(oe){for(var ue=0,Ee;ue<Et;++ue)Nt[(Ee=Zt[ue]).i]=Ee.x(oe);return Nt.join("")})},tt=a("Ud7J"),J=I.a=function(G,Et){var Tt=typeof Et,ct;return Et==null||Tt==="boolean"?Ht(Et):(Tt==="number"?dt:Tt==="string"?(ct=P(Et))?(Et=ct,it):Bt:Et instanceof P?it:Et instanceof Date?X:Object(tt.b)(Et)?tt.a:Array.isArray(Et)?Z.b:typeof Et.valueOf!="function"&&typeof Et.toString!="function"||isNaN(Et)?H:dt)(G,Et)}},"7+4w":function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("YuPD"),g=a("zJSt"),p=function(E){Object(f.c)(S,E);function S(A,M,x,O){var C=E.call(this,A,Object(i.b)({},O,M))||this;return C.type="g2-plot",C.defaultOptions=O,C.adaptor=x,C}return S.prototype.getDefaultOptions=function(){return this.defaultOptions},S.prototype.getSchemaAdaptor=function(){return this.adaptor},S}(g.b)},"711d":function(Ft,I){function a(f){return function(i){return i==null?void 0:i[f]}}Ft.exports=a},"78VC":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.multiBindToService=void 0;var f=function(g){return function(p){return function(){for(var E=[],S=0;S<arguments.length;S++)E[S]=arguments[S];return E.forEach(function(A){return g.bind(A).toService(p)})}}};I.multiBindToService=f},"7IPS":function(Ft,I,a){"use strict";I.a=function(f,i,g,p,E){for(var S=f.children,A,M=-1,x=S.length,O=f.value&&(E-g)/f.value;++M<x;)A=S[M],A.x0=i,A.x1=p,A.y0=g,A.y1=g+=A.value*O}},"7Ix3":function(Ft,I){function a(f){var i=[];if(f!=null)for(var g in Object(f))i.push(g);return i}Ft.exports=a},"7ZbV":function(Ft,I,a){"use strict";a.d(I,"a",function(){return Q});var f=a("mrSG"),i=a("kXyF"),g=a("zJSt"),p=a("YuPD"),E=a("iTfj"),S=a("w02o"),A=a("tKoa"),M="first-axes-view",x="second-axes-view",O="series-field-key";function C(nt,st,et,_,Y){var $=[];st.forEach(function(xt){_.forEach(function(It){var Ht,Qt=(Ht={},Ht[nt]=It[nt],Ht[et]=xt,Ht[xt]=It[xt],Ht);$.push(Qt)})});var q=Object.values(Object(E.v)($,et)),at=q[0],pt=at===void 0?[]:at,mt=q[1],ot=mt===void 0?[]:mt;return Y?[pt.reverse(),ot.reverse()]:[pt,ot]}function D(nt){return nt!=="vertical"}function R(nt,st,et){var _=st[0],Y=st[1],$=_.autoPadding,q=Y.autoPadding,at=nt.__axisPosition,pt=at.layout,mt=at.position;if(D(pt)&&mt==="top"&&(_.autoPadding=et.instance($.top,0,$.bottom,$.left),Y.autoPadding=et.instance(q.top,$.left,q.bottom,0)),D(pt)&&mt==="bottom"&&(_.autoPadding=et.instance($.top,$.right/2+5,$.bottom,$.left),Y.autoPadding=et.instance(q.top,q.right,q.bottom,$.right/2+5)),!D(pt)&&mt==="bottom"){var ot=$.left>=q.left?$.left:q.left;_.autoPadding=et.instance($.top,$.right,$.bottom/2+5,ot),Y.autoPadding=et.instance($.bottom/2+5,q.right,q.bottom,ot)}if(!D(pt)&&mt==="top"){var ot=$.left>=q.left?$.left:q.left;_.autoPadding=et.instance($.top,$.right,0,ot),Y.autoPadding=et.instance(0,q.right,$.top,ot)}}function y(nt){var st=nt.chart,et=nt.options,_=et.data,Y=et.xField,$=et.yField,q=et.color,at=et.barStyle,pt=et.widthRatio,mt=et.legend,ot=et.layout,xt=C(Y,$,O,_,D(ot));mt?st.legend(O,mt):mt===!1&&st.legend(!1);var It,Ht,Qt=xt[0],$t=xt[1];D(ot)?(It=st.createView({region:{start:{x:0,y:0},end:{x:.5,y:1}},id:M}),It.coordinate().transpose().reflect("x"),Ht=st.createView({region:{start:{x:.5,y:0},end:{x:1,y:1}},id:x}),Ht.coordinate().transpose(),It.data(Qt),Ht.data($t)):(It=st.createView({region:{start:{x:0,y:0},end:{x:1,y:.5}},id:M}),Ht=st.createView({region:{start:{x:0,y:.5},end:{x:1,y:1}},id:x}),Ht.coordinate().reflect("y").rotate(Math.PI*0),It.data(Qt),Ht.data($t));var yt=Object(p.b)({},nt,{chart:It,options:{widthRatio:pt,xField:Y,yField:$[0],seriesField:O,interval:{color:q,style:at}}});Object(A.c)(yt);var ut=Object(p.b)({},nt,{chart:Ht,options:{xField:Y,yField:$[1],seriesField:O,widthRatio:pt,interval:{color:q,style:at}}});return Object(A.c)(ut),nt}function w(nt){var st,et,_,Y=nt.options,$=nt.chart,q=Y.xAxis,at=Y.yAxis,pt=Y.xField,mt=Y.yField,ot=Object(p.d)($,M),xt=Object(p.d)($,x),It={};return Object(E.R)((Y==null?void 0:Y.meta)||{}).map(function(Ht){Object(E.s)(Y==null?void 0:Y.meta,[Ht,"alias"])&&(It[Ht]=Y.meta[Ht].alias)}),$.scale((st={},st[O]={sync:!0,formatter:function(Qt){return Object(E.s)(It,Qt,Qt)}},st)),Object(S.f)((et={},et[pt]=q,et[mt[0]]=at[mt[0]],et))(Object(p.b)({},nt,{chart:ot})),Object(S.f)((_={},_[pt]=q,_[mt[1]]=at[mt[1]],_))(Object(p.b)({},nt,{chart:xt})),nt}function N(nt){var st=nt.chart,et=nt.options,_=et.xAxis,Y=et.yAxis,$=et.xField,q=et.yField,at=et.layout,pt=Object(p.d)(st,M),mt=Object(p.d)(st,x);return mt.axis($,!1),_===!1?pt.axis($,!1):pt.axis($,Object(f.a)({position:D(at)?"top":"bottom"},_)),Y===!1?(pt.axis(q[0],!1),mt.axis(q[1],!1)):(pt.axis(q[0],Y[q[0]]),mt.axis(q[1],Y[q[1]])),st.__axisPosition={position:pt.getOptions().axes[$].position,layout:at},nt}function z(nt){var st=nt.chart;return Object(S.c)(Object(p.b)({},nt,{chart:Object(p.d)(st,M)})),Object(S.c)(Object(p.b)({},nt,{chart:Object(p.d)(st,x)})),nt}function V(nt){var st=nt.chart,et=nt.options,_=et.yField,Y=et.yAxis;return Object(S.e)(Object(p.b)({},nt,{chart:Object(p.d)(st,M),options:{yAxis:Y[_[0]]}})),Object(S.e)(Object(p.b)({},nt,{chart:Object(p.d)(st,x),options:{yAxis:Y[_[1]]}})),nt}function B(nt){var st=nt.chart;return Object(S.j)(Object(p.b)({},nt,{chart:Object(p.d)(st,M)})),Object(S.j)(Object(p.b)({},nt,{chart:Object(p.d)(st,x)})),nt}function P(nt){var st=nt.chart;return Object(S.a)(Object(p.b)({},nt,{chart:Object(p.d)(st,M)})),Object(S.a)(Object(p.b)({},nt,{chart:Object(p.d)(st,x)})),nt}function T(nt){var st=nt.chart,et=nt.options,_=et.label,Y=et.yField,$=Object(p.d)(st,M),q=Object(p.d)(st,x),at=Object(p.c)($,"interval"),pt=Object(p.c)(q,"interval");if(!_)at.label(!1),pt.label(!1);else{var mt=_.callback,ot=Object(f.e)(_,["callback"]);at.label({fields:[Y[0]],callback:mt,cfg:Object(p.u)(ot)}),pt.label({fields:[Y[1]],callback:mt,cfg:Object(p.u)(ot)})}return nt}function W(nt){return Object(p.e)(y,w,N,V,B,T,S.k,z,P)(nt)}var Q=function(nt){Object(f.c)(st,nt);function st(){var et=nt!==null&&nt.apply(this,arguments)||this;return et.type="bidirectional-bar",et}return st.getDefaultOptions=function(){return Object(p.b)({},nt.getDefaultOptions.call(this),{syncViewPadding:R})},st.prototype.changeData=function(et){et===void 0&&(et=[]),this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({data:et});var _=this.options,Y=_.xField,$=_.yField,q=_.layout,at=C(Y,$,O,et,D(q)),pt=at[0],mt=at[1],ot=Object(p.d)(this.chart,M),xt=Object(p.d)(this.chart,x);ot.data(pt),xt.data(mt),this.chart.render(!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},st.prototype.getDefaultOptions=function(){return st.getDefaultOptions()},st.prototype.getSchemaAdaptor=function(){return W},st}(g.b)},"7cv3":function(Ft,I,a){"use strict";a.d(I,"c",function(){return g}),a.d(I,"d",function(){return p}),a.d(I,"b",function(){return E}),a.d(I,"a",function(){return S});var f=a("mrSG"),i=a("iTfj"),g="x",p="y",E={showTitle:!1,shared:!0,showMarkers:!1,customContent:function(M,x){return""+Object(i.s)(x,[0,"data","y"],0)},containerTpl:'<div class="g2-tooltip"><div class="g2-tooltip-list"></div></div>',itemTpl:"<span>{value}</span>",domStyles:{"g2-tooltip":{padding:"2px 4px",fontSize:"10px"}},showCrosshairs:!0,crosshairs:{type:"x"}},S={appendPadding:2,tooltip:Object(f.a)({},E),animation:{}}},"7s0d":function(Ft,I,a){"use strict";var f=a("FH2j");a.d(I,"getAdjust",function(){return f.getAdjust});var i=a("Qci9"),g=a("lOPJ"),p=a("KavR"),E=a("8FoI"),S=a("96lr"),A=a("WbAE"),M=a.n(A);Object(f.registerAdjust)("Dodge",g.a),Object(f.registerAdjust)("Jitter",p.a),Object(f.registerAdjust)("Stack",E.a),Object(f.registerAdjust)("Symmetric",S.a)},"81LO":function(Ft,I,a){var f=a("b5wT"),i=a("tQ6r");Ft.exports=g;function g(S,A){var M=i.partition(S,function(N){return f.has(N,"barycenter")}),x=M.lhs,O=f.sortBy(M.rhs,function(N){return-N.i}),C=[],D=0,R=0,y=0;x.sort(E(!!A)),y=p(C,O,y),f.forEach(x,function(N){y+=N.vs.length,C.push(N.vs),D+=N.barycenter*N.weight,R+=N.weight,y=p(C,O,y)});var w={vs:f.flatten(C,!0)};return R&&(w.barycenter=D/R,w.weight=R),w}function p(S,A,M){for(var x;A.length&&(x=f.last(A)).i<=M;)A.pop(),S.push(x.vs),M++;return M}function E(S){return function(A,M){return A.barycenter<M.barycenter?-1:A.barycenter>M.barycenter?1:S?M.i-A.i:A.i-M.i}}},"879j":function(Ft,I,a){"use strict";a.r(I),a.d(I,"default",function(){return p});var f=a("oZsa"),i=a("cHpt"),g=a("Nsem");function p(E){var S=Object(i.a)();return function(){var M=Object(f.a)(E),x;if(S){var O=Object(f.a)(this).constructor;x=Reflect.construct(M,arguments,O)}else x=M.apply(this,arguments);return Object(g.a)(this,x)}}},"88Gu":function(Ft,I){var a=800,f=16,i=Date.now;function g(p){var E=0,S=0;return function(){var A=i(),M=f-(A-S);if(S=A,M>0){if(++E>=a)return arguments[0]}else E=0;return p.apply(void 0,arguments)}}Ft.exports=g},"8Ek7":function(Ft,I,a){"use strict";a.d(I,"j",function(){return i}),a.d(I,"c",function(){return g}),a.d(I,"g",function(){return p}),a.d(I,"b",function(){return E});var f=a("iTfj");a.d(I,"e",function(){return f.I}),a.d(I,"d",function(){return f.H}),a.d(I,"h",function(){return f.O}),a.d(I,"f",function(){return f.M}),a.d(I,"i",function(){return f.bb}),a.d(I,"a",function(){return f.j}),a.d(I,"k",function(){return f.tb});function i(S,A){var M=S.indexOf(A);M!==-1&&S.splice(M,1)}var g=typeof window!="undefined"&&typeof window.document!="undefined";function p(S,A){if(S.isCanvas())return!0;for(var M=A.getParent(),x=!1;M;){if(M===S){x=!0;break}M=M.getParent()}return x}function E(S){return S.cfg.visible&&S.cfg.capture}},"8FoI":function(Ft,I,a){"use strict";var f=a("AA7f"),i=a("iTfj"),g=a("Qci9"),p=i.a,E=function(S){Object(f.b)(A,S);function A(M){var x=S.call(this,M)||this,O=M.adjustNames,C=O===void 0?["y"]:O,D=M.height,R=D===void 0?NaN:D,y=M.size,w=y===void 0?10:y,N=M.reverseOrder,z=N===void 0?!1:N;return x.adjustNames=C,x.height=R,x.size=w,x.reverseOrder=z,x}return A.prototype.process=function(M){var x=this,O=x.yField,C=x.reverseOrder,D=O?this.processStack(M):this.processOneDimStack(M);return C?this.reverse(D):D},A.prototype.reverse=function(M){return M.slice(0).reverse()},A.prototype.processStack=function(M){var x=this,O=x.xField,C=x.yField,D=x.reverseOrder,R=D?this.reverse(M):M,y=new p,w=new p;return R.map(function(N){return N.map(function(z){var V,B=i.s(z,O,0),P=i.s(z,[C]),T=B.toString();if(P=i.B(P)?P[1]:P,!i.I(P)){var W=P>=0?y:w;W.has(T)||W.set(T,0);var Q=W.get(T),nt=P+Q;return W.set(T,nt),Object(f.a)(Object(f.a)({},z),(V={},V[C]=[Q,nt],V))}return z})})},A.prototype.processOneDimStack=function(M){var x=this,O=this,C=O.xField,D=O.height,R=O.reverseOrder,y="y",w=R?this.reverse(M):M,N=new p;return w.map(function(z){return z.map(function(V){var B,P=x.size,T=V[C],W=P*2/D;N.has(T)||N.set(T,W/2);var Q=N.get(T);return N.set(T,Q+W),Object(f.a)(Object(f.a)({},V),(B={},B[y]=Q,B))})})},A}(g.a);I.a=E},"8c2E":function(Ft,I,a){var f=a("b5wT");Ft.exports=i;function i(E){var S=p(E);f.forEach(E.graph().dummyChains,function(A){for(var M=E.node(A),x=M.edgeObj,O=g(E,S,x.v,x.w),C=O.path,D=O.lca,R=0,y=C[R],w=!0;A!==x.w;){if(M=E.node(A),w){for(;(y=C[R])!==D&&E.node(y).maxRank<M.rank;)R++;y===D&&(w=!1)}if(!w){for(;R<C.length-1&&E.node(y=C[R+1]).minRank<=M.rank;)R++;y=C[R]}E.setParent(A,y),A=E.successors(A)[0]}})}function g(E,S,A,M){var x=[],O=[],C=Math.min(S[A].low,S[M].low),D=Math.max(S[A].lim,S[M].lim),R,y;R=A;do R=E.parent(R),x.push(R);while(R&&(S[R].low>C||D>S[R].lim));for(y=R,R=M;(R=E.parent(R))!==y;)O.push(R);return{path:x.concat(O.reverse()),lca:y}}function p(E){var S={},A=0;function M(x){var O=A;f.forEach(E.children(x),M),S[x]={low:O,lim:A++}}return f.forEach(E.children(),M),S}},"8jh/":function(Ft,I,a){"use strict";var f=a("Mn/Q"),i=a("LGRX"),g=a("yZ5d")},"8s5S":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i}),a.d(I,"b",function(){return S});var f=a("mrSG"),i;(function(A){A.ERROR="error",A.WARN="warn",A.INFO="log"})(i||(i={}));var g="AntV/G2Plot";function p(A){for(var M=[],x=1;x<arguments.length;x++)M[x-1]=arguments[x];var O=0;return g+": "+A.replace(/%s/g,function(){return""+M[O++]})}function E(A,M){for(var x=[],O=2;O<arguments.length;O++)x[O-2]=arguments[O];if(!A){var C=new Error(p.apply(void 0,Object(f.g)([M],x)));throw C.name=g,C}}function S(A,M,x){for(var O=[],C=3;C<arguments.length;C++)O[C-3]=arguments[C];M||console[A](p.apply(void 0,Object(f.g)([x],O)))}},"8vsG":function(Ft,I,a){"use strict";a.d(I,"a",function(){return O}),a.d(I,"b",function(){return Tt}),a.d(I,"c",function(){return A}),a.d(I,"d",function(){return _e});var f={};a.r(f),a.d(f,"default",function(){return ft}),a.d(f,"assign",function(){return P}),a.d(f,"format",function(){return $t}),a.d(f,"parse",function(){return yt}),a.d(f,"defaultI18n",function(){return st}),a.d(f,"setGlobalDateI18n",function(){return _}),a.d(f,"setGlobalDateMasks",function(){return Qt});var i=a("iTfj"),g={};function p(me){return g[me]}function E(me,he){g[me]=he}var S=function(){function me(he){this.type="base",this.isCategory=!1,this.isLinear=!1,this.isContinuous=!1,this.isIdentity=!1,this.values=[],this.range=[0,1],this.ticks=[],this.__cfg__=he,this.initCfg(),this.init()}return me.prototype.translate=function(he){return he},me.prototype.change=function(he){Object(i.b)(this.__cfg__,he),this.init()},me.prototype.clone=function(){return this.constructor(this.__cfg__)},me.prototype.getTicks=function(){var he=this;return Object(i.U)(this.ticks,function(be,Ve){return Object(i.M)(be)?be:{text:he.getText(be,Ve),tickValue:be,value:he.scale(be)}})},me.prototype.getText=function(he,be){var Ve=this.formatter,Ke=Ve?Ve(he,be):he;return Object(i.I)(Ke)||!Object(i.H)(Ke.toString)?"":Ke.toString()},me.prototype.getConfig=function(he){return this.__cfg__[he]},me.prototype.init=function(){Object(i.b)(this,this.__cfg__),this.setDomain(),Object(i.F)(this.getConfig("ticks"))&&(this.ticks=this.calculateTicks())},me.prototype.initCfg=function(){},me.prototype.setDomain=function(){},me.prototype.calculateTicks=function(){var he=this.tickMethod,be=[];if(Object(i.O)(he)){var Ve=p(he);if(!Ve)throw new Error("There is no method to to calculate ticks!");be=Ve(this)}else Object(i.H)(he)&&(be=he(this));return be},me.prototype.rangeMin=function(){return Object(i.y)(this.range)},me.prototype.rangeMax=function(){return Object(i.S)(this.range)},me.prototype.calcPercent=function(he,be,Ve){return Object(i.K)(he)?(he-be)/(Ve-be):NaN},me.prototype.calcValue=function(he,be,Ve){return be+he*(Ve-be)},me}(),A=S,M=a("mrSG"),x=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="cat",be.isCategory=!0,be}return he.prototype.buildIndexMap=function(){if(!this.translateIndexMap){this.translateIndexMap=new Map;for(var be=0;be<this.values.length;be++)this.translateIndexMap.set(this.values[be],be)}},he.prototype.translate=function(be){this.buildIndexMap();var Ve=this.translateIndexMap.get(be);return Ve===void 0&&(Ve=Object(i.K)(be)?be:NaN),Ve},he.prototype.scale=function(be){var Ve=this.translate(be),Ke=this.calcPercent(Ve,this.min,this.max);return this.calcValue(Ke,this.rangeMin(),this.rangeMax())},he.prototype.invert=function(be){var Ve=this.max-this.min,Ke=this.calcPercent(be,this.rangeMin(),this.rangeMax()),fr=Math.round(Ve*Ke)+this.min;return fr<this.min||fr>this.max?NaN:this.values[fr]},he.prototype.getText=function(be){for(var Ve=[],Ke=1;Ke<arguments.length;Ke++)Ve[Ke-1]=arguments[Ke];var fr=be;return Object(i.K)(be)&&!this.values.includes(be)&&(fr=this.values[fr]),me.prototype.getText.apply(this,Object(M.g)([fr],Ve))},he.prototype.initCfg=function(){this.tickMethod="cat"},he.prototype.setDomain=function(){if(Object(i.I)(this.getConfig("min"))&&(this.min=0),Object(i.I)(this.getConfig("max"))){var be=this.values.length;this.max=be>1?be-1:be}this.translateIndexMap&&(this.translateIndexMap=void 0)},he}(A),O=x,C=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,D="[1-9]\\d?",R="\\d\\d",y="\\d{3}",w="\\d{4}",N="[^\\s]+",z=/\[([^]*?)\]/gm;function V(me,he){for(var be=[],Ve=0,Ke=me.length;Ve<Ke;Ve++)be.push(me[Ve].substr(0,he));return be}var B=function(he){return function(be,Ve){var Ke=Ve[he].map(function(Lr){return Lr.toLowerCase()}),fr=Ke.indexOf(be.toLowerCase());return fr>-1?fr:null}};function P(me){for(var he=[],be=1;be<arguments.length;be++)he[be-1]=arguments[be];for(var Ve=0,Ke=he;Ve<Ke.length;Ve++){var fr=Ke[Ve];for(var Lr in fr)me[Lr]=fr[Lr]}return me}var T=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],W=["January","February","March","April","May","June","July","August","September","October","November","December"],Q=V(W,3),nt=V(T,3),st={dayNamesShort:nt,dayNames:T,monthNamesShort:Q,monthNames:W,amPm:["am","pm"],DoFn:function(he){return he+["th","st","nd","rd"][he%10>3?0:(he-he%10!=10?1:0)*he%10]}},et=P({},st),_=function(he){return et=P(et,he)},Y=function(he){return he.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},$=function(he,be){for(be===void 0&&(be=2),he=String(he);he.length<be;)he="0"+he;return he},q={D:function(he){return String(he.getDate())},DD:function(he){return $(he.getDate())},Do:function(he,be){return be.DoFn(he.getDate())},d:function(he){return String(he.getDay())},dd:function(he){return $(he.getDay())},ddd:function(he,be){return be.dayNamesShort[he.getDay()]},dddd:function(he,be){return be.dayNames[he.getDay()]},M:function(he){return String(he.getMonth()+1)},MM:function(he){return $(he.getMonth()+1)},MMM:function(he,be){return be.monthNamesShort[he.getMonth()]},MMMM:function(he,be){return be.monthNames[he.getMonth()]},YY:function(he){return $(String(he.getFullYear()),4).substr(2)},YYYY:function(he){return $(he.getFullYear(),4)},h:function(he){return String(he.getHours()%12||12)},hh:function(he){return $(he.getHours()%12||12)},H:function(he){return String(he.getHours())},HH:function(he){return $(he.getHours())},m:function(he){return String(he.getMinutes())},mm:function(he){return $(he.getMinutes())},s:function(he){return String(he.getSeconds())},ss:function(he){return $(he.getSeconds())},S:function(he){return String(Math.round(he.getMilliseconds()/100))},SS:function(he){return $(Math.round(he.getMilliseconds()/10),2)},SSS:function(he){return $(he.getMilliseconds(),3)},a:function(he,be){return he.getHours()<12?be.amPm[0]:be.amPm[1]},A:function(he,be){return he.getHours()<12?be.amPm[0].toUpperCase():be.amPm[1].toUpperCase()},ZZ:function(he){var be=he.getTimezoneOffset();return(be>0?"-":"+")+$(Math.floor(Math.abs(be)/60)*100+Math.abs(be)%60,4)},Z:function(he){var be=he.getTimezoneOffset();return(be>0?"-":"+")+$(Math.floor(Math.abs(be)/60),2)+":"+$(Math.abs(be)%60,2)}},at=function(he){return+he-1},pt=[null,D],mt=[null,N],ot=["isPm",N,function(me,he){var be=me.toLowerCase();return be===he.amPm[0]?0:be===he.amPm[1]?1:null}],xt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(me){var he=(me+"").match(/([+-]|\d\d)/gi);if(he){var be=+he[1]*60+parseInt(he[2],10);return he[0]==="+"?be:-be}return 0}],It={D:["day",D],DD:["day",R],Do:["day",D+N,function(me){return parseInt(me,10)}],M:["month",D,at],MM:["month",R,at],YY:["year",R,function(me){var he=new Date,be=+(""+he.getFullYear()).substr(0,2);return+(""+(+me>68?be-1:be)+me)}],h:["hour",D,void 0,"isPm"],hh:["hour",R,void 0,"isPm"],H:["hour",D],HH:["hour",R],m:["minute",D],mm:["minute",R],s:["second",D],ss:["second",R],YYYY:["year",w],S:["millisecond","\\d",function(me){return+me*100}],SS:["millisecond",R,function(me){return+me*10}],SSS:["millisecond",y],d:pt,dd:pt,ddd:mt,dddd:mt,MMM:["month",N,B("monthNamesShort")],MMMM:["month",N,B("monthNames")],a:ot,A:ot,ZZ:xt,Z:xt},Ht={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Qt=function(he){return P(Ht,he)},$t=function(he,be,Ve){if(be===void 0&&(be=Ht.default),Ve===void 0&&(Ve={}),typeof he=="number"&&(he=new Date(he)),Object.prototype.toString.call(he)!=="[object Date]"||isNaN(he.getTime()))throw new Error("Invalid Date pass to format");be=Ht[be]||be;var Ke=[];be=be.replace(z,function(Lr,_r){return Ke.push(_r),"@@@"});var fr=P(P({},et),Ve);return be=be.replace(C,function(Lr){return q[Lr](he,fr)}),be.replace(/@@@/g,function(){return Ke.shift()})};function yt(me,he,be){if(be===void 0&&(be={}),typeof he!="string")throw new Error("Invalid format in fecha parse");if(he=Ht[he]||he,me.length>1e3)return null;var Ve=new Date,Ke={year:Ve.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},fr=[],Lr=[],_r=he.replace(z,function(pe,Gi){return Lr.push(Y(Gi)),"@@@"}),ua={},ta={};_r=Y(_r).replace(C,function(pe){var Gi=It[pe],Ba=Gi[0],On=Gi[1],mo=Gi[3];if(ua[Ba])throw new Error("Invalid format. "+Ba+" specified twice in format");return ua[Ba]=!0,mo&&(ta[mo]=!0),fr.push(Gi),"("+On+")"}),Object.keys(ta).forEach(function(pe){if(!ua[pe])throw new Error("Invalid format. "+pe+" is required in specified format")}),_r=_r.replace(/@@@/g,function(){return Lr.shift()});var Kn=me.match(new RegExp(_r,"i"));if(!Kn)return null;for(var ji=P(P({},et),be),Ra=1;Ra<Kn.length;Ra++){var eo=fr[Ra-1],Si=eo[0],yo=eo[2],Co=yo?yo(Kn[Ra],ji):+Kn[Ra];if(Co==null)return null;Ke[Si]=Co}Ke.isPm===1&&Ke.hour!=null&&+Ke.hour!=12?Ke.hour=+Ke.hour+12:Ke.isPm===0&&+Ke.hour==12&&(Ke.hour=0);for(var Ro=new Date(Ke.year,Ke.month,Ke.day,Ke.hour,Ke.minute,Ke.second,Ke.millisecond),we=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Ra=0,ro=we.length;Ra<ro;Ra++)if(ua[we[Ra][0]]&&Ke[we[Ra][0]]!==Ro[we[Ra][1]]())return null;return Ke.timezoneOffset==null?Ro:new Date(Date.UTC(Ke.year,Ke.month,Ke.day,Ke.hour,Ke.minute-Ke.timezoneOffset,Ke.second,Ke.millisecond))}var ut={format:$t,parse:yt,defaultI18n:st,setGlobalDateI18n:_,setGlobalDateMasks:Qt},ft=ut,it=function(me){return function(he,be,Ve,Ke){for(var fr=Object(i.I)(Ve)?0:Ve,Lr=Object(i.I)(Ke)?he.length:Ke;fr<Lr;){var _r=fr+Lr>>>1;me(he[_r])>be?Lr=_r:fr=_r+1}return fr}},vt="format";function Wt(me,he){var be=f[vt]||ft[vt];return be(me,he)}function Ct(me){return Object(i.O)(me)&&(me.indexOf("T")>0?me=new Date(me).getTime():me=new Date(me.replace(/-/gi,"/")).getTime()),Object(i.D)(me)&&(me=me.getTime()),me}var Z=1e3,X=60*Z,dt=60*X,H=24*dt,lt=H*31,Ot=H*365,Rt=[["HH:mm:ss",Z],["HH:mm:ss",Z*10],["HH:mm:ss",Z*30],["HH:mm",X],["HH:mm",X*10],["HH:mm",X*30],["HH",dt],["HH",dt*6],["HH",dt*12],["YYYY-MM-DD",H],["YYYY-MM-DD",H*4],["YYYY-WW",H*7],["YYYY-MM",lt],["YYYY-MM",lt*4],["YYYY-MM",lt*6],["YYYY",H*380]];function zt(me,he,be){var Ve=(he-me)/be,Ke=it(function(Lr){return Lr[1]})(Rt,Ve)-1,fr=Rt[Ke];return Ke<0?fr=Rt[0]:Ke>=Rt.length&&(fr=Object(i.S)(Rt)),fr}var Bt=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="timeCat",be}return he.prototype.translate=function(be){be=Ct(be);var Ve=this.values.indexOf(be);return Ve===-1&&(Object(i.K)(be)&&be<this.values.length?Ve=be:Ve=NaN),Ve},he.prototype.getText=function(be,Ve){var Ke=this.translate(be);if(Ke>-1){var fr=this.values[Ke],Lr=this.formatter;return fr=Lr?Lr(fr,Ve):Wt(fr,this.mask),fr}return be},he.prototype.initCfg=function(){this.tickMethod="time-cat",this.mask="YYYY-MM-DD",this.tickCount=7},he.prototype.setDomain=function(){var be=this.values;Object(i.j)(be,function(Ve,Ke){be[Ke]=Ct(Ve)}),be.sort(function(Ve,Ke){return Ve-Ke}),me.prototype.setDomain.call(this)},he}(O),tt=Bt,J=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.isContinuous=!0,be}return he.prototype.scale=function(be){if(Object(i.I)(be))return NaN;var Ve=this.rangeMin(),Ke=this.rangeMax(),fr=this.max,Lr=this.min;if(fr===Lr)return Ve;var _r=this.getScalePercent(be);return Ve+_r*(Ke-Ve)},he.prototype.init=function(){me.prototype.init.call(this);var be=this.ticks,Ve=Object(i.y)(be),Ke=Object(i.S)(be);Ve<this.min&&(this.min=Ve),Ke>this.max&&(this.max=Ke),Object(i.I)(this.minLimit)||(this.min=Ve),Object(i.I)(this.maxLimit)||(this.max=Ke)},he.prototype.setDomain=function(){var be=Object(i.t)(this.values),Ve=be.min,Ke=be.max;Object(i.I)(this.min)&&(this.min=Ve),Object(i.I)(this.max)&&(this.max=Ke),this.min>this.max&&(this.min=Ve,this.max=Ke)},he.prototype.calculateTicks=function(){var be=this,Ve=me.prototype.calculateTicks.call(this);return this.nice||(Ve=Object(i.l)(Ve,function(Ke){return Ke>=be.min&&Ke<=be.max})),Ve},he.prototype.getScalePercent=function(be){var Ve=this.max,Ke=this.min;return(be-Ke)/(Ve-Ke)},he.prototype.getInvertPercent=function(be){return(be-this.rangeMin())/(this.rangeMax()-this.rangeMin())},he}(A),G=J,Et=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="linear",be.isLinear=!0,be}return he.prototype.invert=function(be){var Ve=this.getInvertPercent(be);return this.min+Ve*(this.max-this.min)},he.prototype.initCfg=function(){this.tickMethod="wilkinson-extended",this.nice=!1},he}(G),Tt=Et;function ct(me,he){var be=Math.E,Ve;return he>=0?Ve=Math.pow(be,Math.log(he)/me):Ve=Math.pow(be,Math.log(-he)/me)*-1,Ve}function St(me,he){return me===1?1:Math.log(he)/Math.log(me)}function Vt(me,he,be){Object(i.I)(be)&&(be=Math.max.apply(null,me));var Ve=be;return Object(i.j)(me,function(Ke){Ke>0&&Ke<Ve&&(Ve=Ke)}),Ve===be&&(Ve=be/he),Ve>1&&(Ve=1),Ve}var Lt=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="log",be}return he.prototype.invert=function(be){var Ve=this.base,Ke=St(Ve,this.max),fr=this.rangeMin(),Lr=this.rangeMax()-fr,_r,ua=this.positiveMin;if(ua){if(be===0)return 0;_r=St(Ve,ua/Ve);var ta=1/(Ke-_r)*Lr;if(be<ta)return be/ta*ua}else _r=St(Ve,this.min);var Kn=(be-fr)/Lr,ji=Kn*(Ke-_r)+_r;return Math.pow(Ve,ji)},he.prototype.initCfg=function(){this.tickMethod="log",this.base=10,this.tickCount=6,this.nice=!0},he.prototype.setDomain=function(){me.prototype.setDomain.call(this);var be=this.min;if(be<0)throw new Error("When you use log scale, the minimum value must be greater than zero!");be===0&&(this.positiveMin=Vt(this.values,this.base,this.max))},he.prototype.getScalePercent=function(be){var Ve=this.max,Ke=this.min;if(Ve===Ke||be<=0)return 0;var fr=this.base,Lr=this.positiveMin;Lr&&(Ke=Lr*1/fr);var _r;return be<Lr?_r=be/Lr/(St(fr,Ve)-St(fr,Ke)):_r=(St(fr,be)-St(fr,Ke))/(St(fr,Ve)-St(fr,Ke)),_r},he}(G),Nt=Lt,Zt=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="pow",be}return he.prototype.invert=function(be){var Ve=this.getInvertPercent(be),Ke=this.exponent,fr=ct(Ke,this.max),Lr=ct(Ke,this.min),_r=Ve*(fr-Lr)+Lr,ua=_r>=0?1:-1;return Math.pow(_r,Ke)*ua},he.prototype.initCfg=function(){this.tickMethod="pow",this.exponent=2,this.tickCount=5,this.nice=!0},he.prototype.getScalePercent=function(be){var Ve=this.max,Ke=this.min;if(Ve===Ke)return 0;var fr=this.exponent,Lr=(ct(fr,be)-ct(fr,Ke))/(ct(fr,Ve)-ct(fr,Ke));return Lr},he}(G),oe=Zt,ue=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="time",be}return he.prototype.getText=function(be,Ve){var Ke=this.translate(be),fr=this.formatter;return fr?fr(Ke,Ve):Wt(Ke,this.mask)},he.prototype.scale=function(be){var Ve=be;return(Object(i.O)(Ve)||Object(i.D)(Ve))&&(Ve=this.translate(Ve)),me.prototype.scale.call(this,Ve)},he.prototype.translate=function(be){return Ct(be)},he.prototype.initCfg=function(){this.tickMethod="time-pretty",this.mask="YYYY-MM-DD",this.tickCount=7,this.nice=!1},he.prototype.setDomain=function(){var be=this.values,Ve=this.getConfig("min"),Ke=this.getConfig("max");if((!Object(i.I)(Ve)||!Object(i.K)(Ve))&&(this.min=this.translate(this.min)),(!Object(i.I)(Ke)||!Object(i.K)(Ke))&&(this.max=this.translate(this.max)),be&&be.length){var fr=[],Lr=Infinity,_r=Lr,ua=0;Object(i.j)(be,function(ta){var Kn=Ct(ta);if(isNaN(Kn))throw new TypeError("Invalid Time: "+ta+" in time scale!");Lr>Kn?(_r=Lr,Lr=Kn):_r>Kn&&(_r=Kn),ua<Kn&&(ua=Kn),fr.push(Kn)}),be.length>1&&(this.minTickInterval=_r-Lr),Object(i.I)(Ve)&&(this.min=Lr),Object(i.I)(Ke)&&(this.max=ua)}},he}(Tt),Ee=ue,Te=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="quantize",be}return he.prototype.invert=function(be){var Ve=this.ticks,Ke=Ve.length,fr=this.getInvertPercent(be),Lr=Math.floor(fr*(Ke-1));if(Lr>=Ke-1)return Object(i.S)(Ve);if(Lr<0)return Object(i.y)(Ve);var _r=Ve[Lr],ua=Ve[Lr+1],ta=Lr/(Ke-1),Kn=(Lr+1)/(Ke-1);return _r+(fr-ta)/(Kn-ta)*(ua-_r)},he.prototype.initCfg=function(){this.tickMethod="r-pretty",this.tickCount=5,this.nice=!0},he.prototype.calculateTicks=function(){var be=me.prototype.calculateTicks.call(this);return this.nice||(Object(i.S)(be)!==this.max&&be.push(this.max),Object(i.y)(be)!==this.min&&be.unshift(this.min)),be},he.prototype.getScalePercent=function(be){var Ve=this.ticks;if(be<Object(i.y)(Ve))return 0;if(be>Object(i.S)(Ve))return 1;var Ke=0;return Object(i.j)(Ve,function(fr,Lr){if(be>=fr)Ke=Lr;else return!1}),Ke/(Ve.length-1)},he}(G),Se=Te,$e=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="quantile",be}return he.prototype.initCfg=function(){this.tickMethod="quantile",this.tickCount=5,this.nice=!0},he}(Se),cr=$e,He={};function _e(me){return He[me]}function ur(me,he){if(_e(me))throw new Error("type '"+me+"' existed.");He[me]=he}var jr=function(me){Object(M.c)(he,me);function he(){var be=me!==null&&me.apply(this,arguments)||this;return be.type="identity",be.isIdentity=!0,be}return he.prototype.calculateTicks=function(){return this.values},he.prototype.scale=function(be){return this.values[0]!==be&&Object(i.K)(be)?be:this.range[0]},he.prototype.invert=function(be){var Ve=this.range;return be<Ve[0]||be>Ve[1]?NaN:this.values[0]},he}(A),Ar=jr,Ge=[1,5,2,2.5,4,3],br=[1,5,2,2.5,4,3,1.5,7,6,8,9],er=Number.EPSILON*100;function nr(me,he){return(me%he+he)%he}function yr(me,he,be,Ve,Ke,fr){var Lr=Object(i.jb)(he),_r=Object(i.A)(he,me),ua=0,ta=nr(Ve,fr);return(ta<er||fr-ta<er)&&Ve<=0&&Ke>=0&&(ua=1),1-_r/(Lr-1)-be+ua}function Rr(me,he,be){var Ve=Object(i.jb)(he),Ke=Object(i.A)(he,me),fr=1;return 1-Ke/(Ve-1)-be+fr}function an(me,he,be,Ve,Ke,fr){var Lr=(me-1)/(fr-Ke),_r=(he-1)/(Math.max(fr,Ve)-Math.min(be,Ke));return 2-Math.max(Lr/_r,_r/Lr)}function In(me,he){return me>=he?2-(me-1)/(he-1):1}function Un(me,he,be,Ve){var Ke=he-me;return 1-.5*(Math.pow(he-Ve,2)+Math.pow(me-be,2))/Math.pow(.1*Ke,2)}function _n(me,he,be){var Ve=he-me;if(be>Ve){var Ke=(be-Ve)/2;return 1-Math.pow(Ke,2)/Math.pow(.1*Ve,2)}return 1}function sa(){return 1}function ci(me,he,be,Ve,Ke,fr){if(be===void 0&&(be=5),Ve===void 0&&(Ve=!0),Ke===void 0&&(Ke=Ge),fr===void 0&&(fr=[.25,.2,.5,.05]),typeof me!="number"||typeof he!="number"||!be)return{min:0,max:0,ticks:[]};if(he-me<1e-15||be===1)return{min:me,max:he,ticks:[me]};for(var Lr={score:-2,lmin:0,lmax:0,lstep:0},_r=1;_r<Infinity;){for(var ua=0,ta=Ke;ua<ta.length;ua++){var Kn=ta[ua],ji=Rr(Kn,Ke,_r);if(Number.isNaN(ji))throw new Error("NaN");if(fr[0]*ji+fr[1]+fr[2]+fr[3]<Lr.score){_r=Infinity;break}for(var Ra=2;Ra<Infinity;){var eo=In(Ra,be);if(fr[0]*ji+fr[1]+fr[2]*eo+fr[3]<Lr.score)break;for(var Si=(he-me)/(Ra+1)/_r/Kn,yo=Math.ceil(Math.log10(Si));yo<Infinity;){var Co=_r*Kn*Math.pow(10,yo),Ro=_n(me,he,Co*(Ra-1));if(fr[0]*ji+fr[1]*Ro+fr[2]*eo+fr[3]<Lr.score)break;var we=Math.floor(he/Co)*_r-(Ra-1)*_r,ro=Math.ceil(me/Co)*_r;if(we>ro){yo=yo+1;continue}for(var pe=we;pe<=ro;pe=pe+1){var Gi=pe*(Co/_r),Ba=Gi+Co*(Ra-1),On=Co,mo=yr(Kn,Ke,_r,Gi,Ba,On),Xo=Un(me,he,Gi,Ba),Ei=an(Ra,be,me,he,Gi,Ba),Zi=sa(),Do=fr[0]*mo+fr[1]*Xo+fr[2]*Ei+fr[3]*Zi;Do>Lr.score&&(!Ve||Gi<=me&&Ba>=he)&&(Lr.lmin=Gi,Lr.lmax=Ba,Lr.lstep=On,Lr.score=Do)}yo=yo+1}Ra=Ra+1}}_r=_r+1}for(var Po=Number.isInteger(Lr.lstep)?0:Math.ceil(Math.abs(Math.log10(Lr.lstep))),bo=[],Eo=Lr.lmin;Eo<=Lr.lmax;Eo+=Lr.lstep)bo.push(Eo);var hs=Po?Object(i.U)(bo,function(la){return Number.parseFloat(la.toFixed(Po))}):bo;return{min:Math.min(me,Object(i.y)(hs)),max:Math.max(he,Object(i.S)(hs)),ticks:hs}}function fi(me){var he=me.values,be=me.tickInterval,Ve=me.tickCount,Ke=he;if(Object(i.K)(be))return Object(i.l)(Ke,function(ta,Kn){return Kn%be==0});var fr=me.min,Lr=me.max;if(Object(i.I)(fr)&&(fr=0),Object(i.I)(Lr)&&(Lr=he.length-1),Object(i.K)(Ve)&&Ve<Lr-fr){var _r=ci(fr,Lr,Ve,!1,[1,2,5,3,4,7,6,8,9]).ticks,ua=Object(i.l)(_r,function(ta){return ta>=fr&&ta<=Lr});return ua.map(function(ta){return he[ta]})}return he.slice(fr,Lr+1)}function pa(me){var he=me.min,be=me.max,Ve=me.nice,Ke=me.tickCount,fr=new so;return fr.domain([he,be]),Ve&&fr.nice(Ke),fr.ticks(Ke)}var ga=5,Xi=Math.sqrt(50),Ci=Math.sqrt(10),Ki=Math.sqrt(2),so=function(){function me(){this._domain=[0,1]}return me.prototype.domain=function(he){return he?(this._domain=Array.from(he,Number),this):this._domain.slice()},me.prototype.nice=function(he){var be,Ve;he===void 0&&(he=ga);var Ke=this._domain.slice(),fr=0,Lr=this._domain.length-1,_r=this._domain[fr],ua=this._domain[Lr],ta;return ua<_r&&(be=[ua,_r],_r=be[0],ua=be[1],Ve=[Lr,fr],fr=Ve[0],Lr=Ve[1]),ta=fo(_r,ua,he),ta>0?(_r=Math.floor(_r/ta)*ta,ua=Math.ceil(ua/ta)*ta,ta=fo(_r,ua,he)):ta<0&&(_r=Math.ceil(_r*ta)/ta,ua=Math.floor(ua*ta)/ta,ta=fo(_r,ua,he)),ta>0?(Ke[fr]=Math.floor(_r/ta)*ta,Ke[Lr]=Math.ceil(ua/ta)*ta,this.domain(Ke)):ta<0&&(Ke[fr]=Math.ceil(_r*ta)/ta,Ke[Lr]=Math.floor(ua*ta)/ta,this.domain(Ke)),this},me.prototype.ticks=function(he){return he===void 0&&(he=ga),co(this._domain[0],this._domain[this._domain.length-1],he||ga)},me}();function co(me,he,be){var Ve,Ke=-1,fr,Lr,_r;if(he=+he,me=+me,be=+be,me===he&&be>0)return[me];if((Ve=he<me)&&(fr=me,me=he,he=fr),(_r=fo(me,he,be))===0||!isFinite(_r))return[];if(_r>0)for(me=Math.ceil(me/_r),he=Math.floor(he/_r),Lr=new Array(fr=Math.ceil(he-me+1));++Ke<fr;)Lr[Ke]=(me+Ke)*_r;else for(me=Math.floor(me*_r),he=Math.ceil(he*_r),Lr=new Array(fr=Math.ceil(me-he+1));++Ke<fr;)Lr[Ke]=(me-Ke)/_r;return Ve&&Lr.reverse(),Lr}function fo(me,he,be){var Ve=(he-me)/Math.max(0,be),Ke=Math.floor(Math.log(Ve)/Math.LN10),fr=Ve/Math.pow(10,Ke);return Ke>=0?(fr>=Xi?10:fr>=Ci?5:fr>=Ki?2:1)*Math.pow(10,Ke):-Math.pow(10,-Ke)/(fr>=Xi?10:fr>=Ci?5:fr>=Ki?2:1)}function ya(me,he,be){var Ve;return be==="ceil"?Ve=Math.ceil(me/he):be==="floor"?Ve=Math.floor(me/he):Ve=Math.round(me/he),Ve*he}function _a(me,he,be){var Ve=ya(me,be,"floor"),Ke=ya(he,be,"ceil");Ve=Object(i.p)(Ve,be),Ke=Object(i.p)(Ke,be);for(var fr=[],Lr=Ve;Lr<=Ke;Lr=Lr+be){var _r=Object(i.p)(Lr,be);fr.push(_r)}return{min:Ve,max:Ke,ticks:fr}}function rr(me,he,be){var Ve,Ke=me.minLimit,fr=me.maxLimit,Lr=me.min,_r=me.max,ua=me.tickCount,ta=ua===void 0?5:ua,Kn=Object(i.I)(Ke)?Object(i.I)(he)?Lr:he:Ke,ji=Object(i.I)(fr)?Object(i.I)(be)?_r:be:fr;if(Kn>ji&&(Ve=[Kn,ji],ji=Ve[0],Kn=Ve[1]),ta<=2)return[Kn,ji];for(var Ra=(ji-Kn)/(ta-1),eo=[],Si=0;Si<ta;Si++)eo.push(Kn+Ra*Si);return eo}function ir(me){var he=me.min,be=me.max,Ve=me.tickInterval,Ke=me.minLimit,fr=me.maxLimit,Lr=pa(me);return!Object(i.I)(Ke)||!Object(i.I)(fr)?rr(me,Object(i.y)(Lr),Object(i.S)(Lr)):Ve?_a(he,be,Ve).ticks:Lr}function Ye(me){var he=me.min,be=me.max,Ve=me.tickCount,Ke=me.nice,fr=me.tickInterval,Lr=me.minLimit,_r=me.maxLimit,ua=ci(he,be,Ve,Ke).ticks;return!Object(i.I)(Lr)||!Object(i.I)(_r)?rr(me,Object(i.y)(ua),Object(i.S)(ua)):fr?_a(he,be,fr).ticks:ua}function tr(me){var he=me.base,be=me.tickCount,Ve=me.min,Ke=me.max,fr=me.values,Lr,_r=St(he,Ke);if(Ve>0)Lr=Math.floor(St(he,Ve));else{var ua=Vt(fr,he,Ke);Lr=Math.floor(St(he,ua))}for(var ta=_r-Lr,Kn=Math.ceil(ta/be),ji=[],Ra=Lr;Ra<_r+Kn;Ra=Ra+Kn)ji.push(Math.pow(he,Ra));return Ve<=0&&ji.unshift(0),ji}function Fr(me,he,be){be===void 0&&(be=5);var Ve={max:0,min:0,ticks:[]};if(me===he)return{max:he,min:me,ticks:[me]};var Ke=1.5,fr=.5+1.5*Ke,Lr=he-me,_r=Lr/be,ua=Math.pow(10,Math.floor(Math.log10(_r))),ta=ua<1?Math.ceil(Math.abs(Math.log10(ua))):0,Kn=ua;2*ua-_r<Ke*(_r-Kn)&&(Kn=2*ua,5*ua-_r<fr*(_r-Kn)&&(Kn=5*ua,10*ua-_r<Ke*(_r-Kn)&&(Kn=10*ua)));var ji=Math.ceil(he/Kn),Ra=Math.floor(me/Kn);Ve.max=Math.max(ji*Kn,he),Ve.min=Math.min(Ra*Kn,me);for(var eo=Number.parseFloat((Ra*Kn).toFixed(ta));eo<he;)Ve.ticks.push(eo),eo+=Kn,ta&&(eo=Number.parseFloat(eo.toFixed(ta)));return Ve.ticks.push(eo),Ve}function tn(me){var he=me.exponent,be=me.tickCount,Ve=Math.ceil(ct(he,me.max)),Ke=Math.floor(ct(he,me.min)),fr=Fr(Ke,Ve,be).ticks;return fr.map(function(Lr){var _r=Lr>=0?1:-1;return Math.pow(Lr,he)*_r})}function bn(me,he){var be=me.length*he;return he===1?me[me.length-1]:he===0?me[0]:be%1!=0?me[Math.ceil(be)-1]:me.length%2==0?(me[be-1]+me[be])/2:me[be]}function on(me){var he=me.tickCount,be=me.values;if(!be||!be.length)return[];for(var Ve=be.slice().sort(function(_r,ua){return _r-ua}),Ke=[],fr=0;fr<he;fr++){var Lr=fr/(he-1);Ke.push(bn(Ve,Lr))}return Ke}function Oa(me){var he=me.min,be=me.max,Ve=me.tickCount,Ke=me.tickInterval,fr=me.minLimit,Lr=me.maxLimit,_r=Fr(he,be,Ve).ticks;return!Object(i.I)(fr)||!Object(i.I)(Lr)?rr(me,Object(i.y)(_r),Object(i.S)(_r)):Ke?_a(he,be,Ke).ticks:_r}function na(me){var he=me.min,be=me.max,Ve=me.minTickInterval,Ke=me.tickInterval,fr=me.tickCount;if(Ke)fr=Math.ceil((be-he)/Ke);else{Ke=zt(he,be,fr)[1];var Lr=(be-he)/Ke,_r=Lr/fr;_r>1&&(Ke=Ke*Math.ceil(_r)),Ve&&Ke<Ve&&(Ke=Ve)}for(var ua=[],ta=he;ta<be+Ke;ta+=Ke)ua.push(ta);return ua}function wa(me){var he=fi(me),be=Object(i.S)(me.values);return be!==Object(i.S)(he)&&he.push(be),he}function da(me){return new Date(me).getFullYear()}function bi(me){return new Date(me,0,1).getTime()}function qa(me){return new Date(me).getMonth()}function fa(me,he){var be=da(me),Ve=da(he),Ke=qa(me),fr=qa(he);return(Ve-be)*12+(fr-Ke)%12}function Aa(me,he){return new Date(me,he,1).getTime()}function Sa(me,he){return Math.ceil((he-me)/H)}function Fa(me,he){return Math.ceil((he-me)/dt)}function Ka(me,he){return Math.ceil((he-me)/(60*1e3))}function hi(me){var he=me.min,be=me.max,Ve=me.minTickInterval,Ke=me.tickCount,fr=me.tickInterval,Lr=[];fr||(fr=(be-he)/Ke,Ve&&fr<Ve&&(fr=Ve));var _r=da(he);if(fr>Ot)for(var ua=da(be),ta=Math.ceil(fr/Ot),Kn=_r;Kn<=ua+ta;Kn=Kn+ta)Lr.push(bi(Kn));else if(fr>lt)for(var ji=Math.ceil(fr/lt),Ra=qa(he),eo=fa(he,be),Kn=0;Kn<=eo+ji;Kn=Kn+ji)Lr.push(Aa(_r,Kn+Ra));else if(fr>H)for(var Si=new Date(he),yo=Si.getFullYear(),Co=Si.getMonth(),Ro=Si.getDate(),we=Math.ceil(fr/H),ro=Sa(he,be),Kn=0;Kn<ro+we;Kn=Kn+we)Lr.push(new Date(yo,Co,Ro+Kn).getTime());else if(fr>dt)for(var Si=new Date(he),yo=Si.getFullYear(),Co=Si.getMonth(),we=Si.getDate(),pe=Si.getHours(),Gi=Math.ceil(fr/dt),Ba=Fa(he,be),Kn=0;Kn<=Ba+Gi;Kn=Kn+Gi)Lr.push(new Date(yo,Co,we,pe+Kn).getTime());else if(fr>X)for(var On=Ka(he,be),mo=Math.ceil(fr/X),Kn=0;Kn<=On+mo;Kn=Kn+mo)Lr.push(he+Kn*X);else{var Xo=fr;Xo<Z&&(Xo=Z);for(var Ei=Math.floor(he/Z)*Z,Zi=Math.ceil((be-he)/Z),Do=Math.ceil(Xo/Z),Kn=0;Kn<Zi+Do;Kn=Kn+Do)Lr.push(Ei+Kn*Z)}return Lr.length>=512&&console.warn("Notice: current ticks length("+Lr.length+') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is '+fr+") is too small, increase the value to solve the problem!"),Lr}E("cat",fi),E("time-cat",wa),E("wilkinson-extended",Ye),E("r-pretty",Oa),E("time",na),E("time-pretty",hi),E("log",tr),E("pow",tn),E("quantile",on),E("d3-linear",ir),ur("cat",O),ur("category",O),ur("identity",Ar),ur("linear",Tt),ur("log",Nt),ur("pow",oe),ur("time",Ee),ur("timeCat",tt),ur("quantize",Se),ur("quantile",cr)},"94HZ":function(Ft,I,a){"use strict";a.d(I,"a",function(){return Z});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("IOcx"),N=a("4cb6"),z=a.n(N),V=a("+uE7"),B=a("k6w6"),P,T,W,Q,nt,st,et,_,Y,$,q,at,pt,mt,ot,xt,It,Ht,Qt,$t,yt,ut,ft,it;function vt(X,dt){var H;if(typeof Symbol=="undefined"||X[Symbol.iterator]==null){if(Array.isArray(X)||(H=Wt(X))||dt&&X&&typeof X.length=="number"){H&&(X=H);var lt=0,Ot=function(){};return{s:Ot,n:function(){return lt>=X.length?{done:!0}:{done:!1,value:X[lt++]}},e:function(J){throw J},f:Ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Rt=!0,zt=!1,Bt;return{s:function(){H=X[Symbol.iterator]()},n:function(){var J=H.next();return Rt=J.done,J},e:function(J){zt=!0,Bt=J},f:function(){try{!Rt&&H.return!=null&&H.return()}finally{if(zt)throw Bt}}}}function Wt(X,dt){if(!!X){if(typeof X=="string")return Ct(X,dt);var H=Object.prototype.toString.call(X).slice(8,-1);if(H==="Object"&&X.constructor&&(H=X.constructor.name),H==="Map"||H==="Set")return Array.from(X);if(H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H))return Ct(X,dt)}}function Ct(X,dt){(dt==null||dt>X.length)&&(dt=X.length);for(var H=0,lt=new Array(dt);H<dt;H++)lt[H]=X[H];return lt}var Z=(P=Object(N.injectable)(),T=Object(N.inject)(V.a.MeshComponentManager),W=Object(N.inject)(V.a.GeometryComponentManager),Q=Object(N.inject)(V.a.MaterialComponentManager),nt=Object(N.inject)(V.a.CullableComponentManager),st=Object(N.inject)(V.a.TransformComponentManager),et=Object(N.inject)(V.a.HierarchyComponentManager),_=Object(N.inject)(V.a.Systems),Y=Object(N.named)(V.a.FrameGraphSystem),$=Object(N.inject)(V.a.RenderEngine),q=Object(N.inject)(V.a.ResourcePool),P(at=(pt=(it=ft=function(){function X(){var dt=this;M()(this,X),S()(this,"mesh",mt,this),S()(this,"geometry",ot,this),S()(this,"material",xt,this),S()(this,"cullable",It,this),S()(this,"transform",Ht,this),S()(this,"hierarchy",Qt,this),S()(this,"frameGraphSystem",$t,this),S()(this,"engine",yt,this),S()(this,"resourcePool",ut,this),this.modelCache={},this.setup=function(H,lt,Ot){var Rt=H.createRenderTarget(lt,"color buffer",{width:1,height:1,usage:B.a.RENDER_ATTACHMENT|B.a.SAMPLED|B.a.COPY_SRC});Ot.data={output:lt.write(H,Rt)}},this.execute=function(){var H=p()(i.a.mark(function lt(Ot,Rt,zt){var Bt,tt,J,G,Et,Tt;return i.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:Bt=Ot.getResourceNode(Rt.data.output),tt=dt.resourcePool.getOrCreateResource(Bt.resource),J=vt(zt),St.prev=3,J.s();case 5:if((G=J.n()).done){St.next=11;break}return Et=G.value,St.next=9,dt.initView(Et);case 9:St.next=5;break;case 11:St.next=16;break;case 13:St.prev=13,St.t0=St.catch(3),J.e(St.t0);case 16:return St.prev=16,J.f(),St.finish(16);case 19:Tt=dt.engine.getCanvas(),tt.resize({width:Tt.width,height:Tt.height}),dt.engine.setScissor({enable:!1}),dt.engine.clear({framebuffer:tt,color:zt[0].getClearColor(),depth:1}),dt.engine.useFramebuffer(tt,function(){var Vt=vt(zt),Lt;try{for(Vt.s();!(Lt=Vt.n()).done;){var Nt=Lt.value;dt.renderView(Nt)}}catch(Zt){Vt.e(Zt)}finally{Vt.f()}});case 24:case"end":return St.stop()}},lt,null,[[3,13,16,19]])}));return function(lt,Ot,Rt){return H.apply(this,arguments)}}()}return O()(X,[{key:"renderView",value:function(H){var lt=H.getScene(),Ot=H.getCamera(),Rt=Ot.getViewTransform(),zt=w.b.multiply(w.b.create(),Ot.getPerspective(),Rt);Ot.getFrustum().extractFromVPMatrix(zt);var Bt=H.getViewport(),tt=Bt.x,J=Bt.y,G=Bt.width,Et=Bt.height;this.engine.viewport({x:tt,y:J,width:G,height:Et});var Tt=vt(lt.getEntities()),ct;try{for(Tt.s();!(ct=Tt.n()).done;){var St=ct.value;this.renderMesh(St,{camera:Ot,view:H,viewMatrix:Rt})}}catch(Vt){Tt.e(Vt)}finally{Tt.f()}}},{key:"renderMesh",value:function(H,lt){var Ot=lt.camera,Rt=lt.view,zt=lt.viewMatrix,Bt=this.mesh.getComponentByEntity(H);if(!(!Bt||!Bt.visible)){var tt=Bt.material,J=Bt.geometry;if(!(!J||J.dirty||!tt)){var G=this.transform.getComponentByEntity(H),Et=w.b.multiply(w.b.create(),zt,G.worldTransform),Tt=Rt.getViewport(),ct=Tt.width,St=Tt.height;tt.setUniform({projectionMatrix:Ot.getPerspective(),modelViewMatrix:Et,modelMatrix:G.worldTransform,viewMatrix:zt,cameraPosition:Ot.getPosition(),u_viewport:[ct,St]}),Bt.model&&(Bt.model.draw({uniforms:tt.uniforms.reduce(function(Vt,Lt){return Vt[Lt.name]=Lt.data,Vt},{})}),tt.uniforms.forEach(function(Vt){Vt.dirty=!1}),tt.dirty=!1)}}}},{key:"initMesh",value:function(){var dt=p()(i.a.mark(function lt(Ot,Rt){var zt,Bt,tt,J,G,Et,Tt,ct;return i.a.wrap(function(Vt){for(;;)switch(Vt.prev=Vt.next){case 0:if(zt=this.mesh.getComponentByEntity(Ot),zt){Vt.next=3;break}return Vt.abrupt("return");case 3:if(Bt=zt.material,tt=zt.geometry,!(!tt||tt.dirty||!Bt)){Vt.next=7;break}return Vt.abrupt("return");case 7:if(zt.model){Vt.next=24;break}if(J="m-".concat(Bt.entity,"-g-").concat(tt.entity),!this.modelCache[J]){Vt.next=12;break}return zt.model=this.modelCache[J],Vt.abrupt("return");case 12:return Bt.setUniform({projectionMatrix:1,modelViewMatrix:1,modelMatrix:1,viewMatrix:1,cameraPosition:1,u_viewport:1}),G=this.engine,Et=G.createModel,Tt=G.createAttribute,ct={vs:Bt.vertexShaderGLSL,fs:Bt.fragmentShaderGLSL,defines:Bt.defines,attributes:tt.attributes.reduce(function(Lt,Nt){return Nt.data&&Nt.buffer&&(Lt[Nt.name]=Tt({buffer:Nt.buffer,attributes:Nt.attributes,arrayStride:Nt.arrayStride,stepMode:Nt.stepMode,divisor:Nt.stepMode==="vertex"?0:1})),Lt},{}),uniforms:Bt.uniforms.reduce(function(Lt,Nt){return Lt[Nt.name]=Nt.data,Lt},{}),scissor:{enable:!0,box:function(){return Rt.getViewport()}}},Bt.cull&&(ct.cull=Bt.cull),Bt.depth&&(ct.depth=Bt.depth),Bt.blend&&(ct.blend=Bt.blend),tt.indicesBuffer&&(ct.elements=tt.indicesBuffer),tt.maxInstancedCount&&(ct.instances=tt.maxInstancedCount,ct.count=tt.vertexCount||3),Vt.next=22,Et(ct);case 22:zt.model=Vt.sent,this.modelCache[J]=zt.model;case 24:case"end":return Vt.stop()}},lt,this)}));function H(lt,Ot){return dt.apply(this,arguments)}return H}()},{key:"initView",value:function(){var dt=p()(i.a.mark(function lt(Ot){var Rt,zt,Bt,tt;return i.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:Rt=Ot.getScene(),zt=vt(Rt.getEntities()),G.prev=2,zt.s();case 4:if((Bt=zt.n()).done){G.next=10;break}return tt=Bt.value,G.next=8,this.initMesh(tt,Ot);case 8:G.next=4;break;case 10:G.next=15;break;case 12:G.prev=12,G.t0=G.catch(2),zt.e(G.t0);case 15:return G.prev=15,zt.f(),G.finish(15);case 18:case"end":return G.stop()}},lt,this,[[2,12,15,18]])}));function H(lt){return dt.apply(this,arguments)}return H}()}]),X}(),ft.IDENTIFIER="Render Pass",it),mt=D()(pt.prototype,"mesh",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ot=D()(pt.prototype,"geometry",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt=D()(pt.prototype,"material",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),It=D()(pt.prototype,"cullable",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ht=D()(pt.prototype,"transform",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qt=D()(pt.prototype,"hierarchy",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$t=D()(pt.prototype,"frameGraphSystem",[_,Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yt=D()(pt.prototype,"engine",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ut=D()(pt.prototype,"resourcePool",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt))||at)},"96lr":function(Ft,I,a){"use strict";var f=a("AA7f"),i=a("iTfj"),g=a("Qci9"),p=function(E){Object(f.b)(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.process=function(A){var M=i.q(A),x=this,O=x.xField,C=x.yField,D=this.getXValuesMaxMap(M),R=Math.max.apply(Math,Object.keys(D).map(function(y){return D[y]}));return i.U(A,function(y){return i.U(y,function(w){var N,z,V=w[C],B=w[O];if(i.B(V)){var P=(R-D[B])/2;return Object(f.a)(Object(f.a)({},w),(N={},N[C]=i.U(V,function(W){return P+W}),N))}var T=(R-V)/2;return Object(f.a)(Object(f.a)({},w),(z={},z[C]=[T,V+T],z))})})},S.prototype.getXValuesMaxMap=function(A){var M=this,x=this,O=x.xField,C=x.yField,D=i.v(A,function(R){return R[O]});return i.V(D,function(R){return M.getDimMaxValue(R,C)})},S.prototype.getDimMaxValue=function(A,M){var x=i.U(A,function(C){return i.s(C,M,[])}),O=i.q(x);return Math.max.apply(Math,O)},S}(g.a);I.a=p},"9B5s":function(Ft,I,a){"use strict";a.d(I,"a",function(){return p}),a.d(I,"b",function(){return E});var f=a("iTfj"),i=a("w+x+");function g(S,A){return S.map(function(M,x){var O;return O={},O[i.g]=M-(S[x-1]||0),O[i.f]=""+x,O[i.e]=A,O}).filter(function(M){return!!M[i.g]})}function p(S){var A;return[(A={},A[i.e]=Object(f.c)(S,0,1),A)]}function E(S,A){var M=Object(f.s)(A,["ticks"],[]),x=Object(f.jb)(M)?M:[0,Object(f.c)(S,0,1),1];return g(x,S)}},"9Fde":function(Ft,I,a){"use strict";var f=this&&this.__awaiter||function(z,V,B,P){function T(W){return W instanceof B?W:new B(function(Q){Q(W)})}return new(B||(B=Promise))(function(W,Q){function nt(_){try{et(P.next(_))}catch(Y){Q(Y)}}function st(_){try{et(P.throw(_))}catch(Y){Q(Y)}}function et(_){_.done?W(_.value):T(_.value).then(nt,st)}et((P=P.apply(z,V||[])).next())})},i=this&&this.__generator||function(z,V){var B={label:0,sent:function(){if(W[0]&1)throw W[1];return W[1]},trys:[],ops:[]},P,T,W,Q;return Q={next:nt(0),throw:nt(1),return:nt(2)},typeof Symbol=="function"&&(Q[Symbol.iterator]=function(){return this}),Q;function nt(et){return function(_){return st([et,_])}}function st(et){if(P)throw new TypeError("Generator is already executing.");for(;B;)try{if(P=1,T&&(W=et[0]&2?T.return:et[0]?T.throw||((W=T.return)&&W.call(T),0):T.next)&&!(W=W.call(T,et[1])).done)return W;switch(T=0,W&&(et=[et[0]&2,W.value]),et[0]){case 0:case 1:W=et;break;case 4:return B.label++,{value:et[1],done:!1};case 5:B.label++,T=et[1],et=[0];continue;case 7:et=B.ops.pop(),B.trys.pop();continue;default:if(W=B.trys,!(W=W.length>0&&W[W.length-1])&&(et[0]===6||et[0]===2)){B=0;continue}if(et[0]===3&&(!W||et[1]>W[0]&&et[1]<W[3])){B.label=et[1];break}if(et[0]===6&&B.label<W[1]){B.label=W[1],W=et;break}if(W&&B.label<W[2]){B.label=W[2],B.ops.push(et);break}W[2]&&B.ops.pop(),B.trys.pop();continue}et=V.call(z,B)}catch(_){et=[6,_],T=0}finally{P=W=0}if(et[0]&5)throw et[1];return{value:et[0]?et[1]:void 0,done:!0}}},g=this&&this.__spreadArray||function(z,V){for(var B=0,P=V.length,T=z.length;B<P;B++,T++)z[T]=V[B];return z};Object.defineProperty(I,"__esModule",{value:!0}),I.Container=void 0;var p=a("LgvC"),E=a("MON2"),S=a("FV85"),A=a("xfSm"),M=a("wnjb"),x=a("h7MG"),O=a("aPG5"),C=a("gzZq"),D=a("d9O0"),R=a("ujMp"),y=a("HpQ9"),w=a("AwBQ"),N=function(){function z(V){this._appliedMiddleware=[];var B=V||{};if(typeof B!="object")throw new Error(""+E.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(B.defaultScope===void 0)B.defaultScope=S.BindingScopeEnum.Transient;else if(B.defaultScope!==S.BindingScopeEnum.Singleton&&B.defaultScope!==S.BindingScopeEnum.Transient&&B.defaultScope!==S.BindingScopeEnum.Request)throw new Error(""+E.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(B.autoBindInjectable===void 0)B.autoBindInjectable=!1;else if(typeof B.autoBindInjectable!="boolean")throw new Error(""+E.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(B.skipBaseClassChecks===void 0)B.skipBaseClassChecks=!1;else if(typeof B.skipBaseClassChecks!="boolean")throw new Error(""+E.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:B.autoBindInjectable,defaultScope:B.defaultScope,skipBaseClassChecks:B.skipBaseClassChecks},this.id=D.id(),this._bindingDictionary=new w.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new M.MetadataReader}return z.merge=function(V,B){for(var P=[],T=2;T<arguments.length;T++)P[T-2]=arguments[T];var W=new z,Q=g([V,B],P).map(function(et){return x.getBindingDictionary(et)}),nt=x.getBindingDictionary(W);function st(et,_){et.traverse(function(Y,$){$.forEach(function(q){_.add(q.serviceIdentifier,q.clone())})})}return Q.forEach(function(et){st(et,nt)}),W},z.prototype.load=function(){for(var V=[],B=0;B<arguments.length;B++)V[B]=arguments[B];for(var P=this._getContainerModuleHelpersFactory(),T=0,W=V;T<W.length;T++){var Q=W[T],nt=P(Q.id);Q.registry(nt.bindFunction,nt.unbindFunction,nt.isboundFunction,nt.rebindFunction)}},z.prototype.loadAsync=function(){for(var V=[],B=0;B<arguments.length;B++)V[B]=arguments[B];return f(this,void 0,void 0,function(){var P,T,W,Q,nt;return i(this,function(st){switch(st.label){case 0:P=this._getContainerModuleHelpersFactory(),T=0,W=V,st.label=1;case 1:return T<W.length?(Q=W[T],nt=P(Q.id),[4,Q.registry(nt.bindFunction,nt.unbindFunction,nt.isboundFunction,nt.rebindFunction)]):[3,4];case 2:st.sent(),st.label=3;case 3:return T++,[3,1];case 4:return[2]}})})},z.prototype.unload=function(){for(var V=this,B=[],P=0;P<arguments.length;P++)B[P]=arguments[P];var T=function(Q){return function(nt){return nt.moduleId===Q}};B.forEach(function(W){var Q=T(W.id);V._bindingDictionary.removeByCondition(Q)})},z.prototype.bind=function(V){var B=this.options.defaultScope||S.BindingScopeEnum.Transient,P=new p.Binding(V,B);return this._bindingDictionary.add(V,P),new C.BindingToSyntax(P)},z.prototype.rebind=function(V){return this.unbind(V),this.bind(V)},z.prototype.unbind=function(V){try{this._bindingDictionary.remove(V)}catch(B){throw new Error(E.CANNOT_UNBIND+" "+R.getServiceIdentifierAsString(V))}},z.prototype.unbindAll=function(){this._bindingDictionary=new w.Lookup},z.prototype.isBound=function(V){var B=this._bindingDictionary.hasKey(V);return!B&&this.parent&&(B=this.parent.isBound(V)),B},z.prototype.isBoundNamed=function(V,B){return this.isBoundTagged(V,A.NAMED_TAG,B)},z.prototype.isBoundTagged=function(V,B,P){var T=!1;if(this._bindingDictionary.hasKey(V)){var W=this._bindingDictionary.get(V),Q=x.createMockRequest(this,V,B,P);T=W.some(function(nt){return nt.constraint(Q)})}return!T&&this.parent&&(T=this.parent.isBoundTagged(V,B,P)),T},z.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},z.prototype.restore=function(){var V=this._snapshots.pop();if(V===void 0)throw new Error(E.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=V.bindings,this._middleware=V.middleware},z.prototype.createChild=function(V){var B=new z(V||this.options);return B.parent=this,B},z.prototype.applyMiddleware=function(){for(var V=[],B=0;B<arguments.length;B++)V[B]=arguments[B];this._appliedMiddleware=this._appliedMiddleware.concat(V);var P=this._middleware?this._middleware:this._planAndResolve();this._middleware=V.reduce(function(T,W){return W(T)},P)},z.prototype.applyCustomMetadataReader=function(V){this._metadataReader=V},z.prototype.get=function(V){return this._get(!1,!1,S.TargetTypeEnum.Variable,V)},z.prototype.getTagged=function(V,B,P){return this._get(!1,!1,S.TargetTypeEnum.Variable,V,B,P)},z.prototype.getNamed=function(V,B){return this.getTagged(V,A.NAMED_TAG,B)},z.prototype.getAll=function(V){return this._get(!0,!0,S.TargetTypeEnum.Variable,V)},z.prototype.getAllTagged=function(V,B,P){return this._get(!1,!0,S.TargetTypeEnum.Variable,V,B,P)},z.prototype.getAllNamed=function(V,B){return this.getAllTagged(V,A.NAMED_TAG,B)},z.prototype.resolve=function(V){var B=this.createChild();return B.bind(V).toSelf(),this._appliedMiddleware.forEach(function(P){B.applyMiddleware(P)}),B.get(V)},z.prototype._getContainerModuleHelpersFactory=function(){var V=this,B=function(st,et){st._binding.moduleId=et},P=function(st){return function(et){var _=V.bind.bind(V),Y=_(et);return B(Y,st),Y}},T=function(st){return function(et){var _=V.unbind.bind(V);_(et)}},W=function(st){return function(et){var _=V.isBound.bind(V);return _(et)}},Q=function(st){return function(et){var _=V.rebind.bind(V),Y=_(et);return B(Y,st),Y}};return function(nt){return{bindFunction:P(nt),isboundFunction:W(nt),rebindFunction:Q(nt),unbindFunction:T(nt)}}},z.prototype._get=function(V,B,P,T,W,Q){var nt=null,st={avoidConstraints:V,contextInterceptor:function(_){return _},isMultiInject:B,key:W,serviceIdentifier:T,targetType:P,value:Q};if(this._middleware){if(nt=this._middleware(st),nt==null)throw new Error(E.INVALID_MIDDLEWARE_RETURN)}else nt=this._planAndResolve()(st);return nt},z.prototype._planAndResolve=function(){var V=this;return function(B){var P=x.plan(V._metadataReader,V,B.isMultiInject,B.targetType,B.serviceIdentifier,B.key,B.value,B.avoidConstraints);P=B.contextInterceptor(P);var T=O.resolve(P);return T}},z}();I.Container=N},"9Fwm":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("iTfj");function i(g){if(Object(f.K)(g))return[g,g,g,g];if(Object(f.B)(g)){var p=g.length;if(p===1)return[g[0],g[0],g[0],g[0]];if(p===2)return[g[0],g[1],g[0],g[1]];if(p===3)return[g[0],g[1],g[2],g[1]];if(p===4)return g}return[0,0,0,0]}},"9Nap":function(Ft,I,a){var f=a("/9aa"),i=1/0;function g(p){if(typeof p=="string"||f(p))return p;var E=p+"";return E=="0"&&1/p==-i?"-0":E}Ft.exports=g},"9eUa":function(Ft,I,a){"use strict";a.d(I,"a",function(){return A}),a.d(I,"d",function(){return M}),a.d(I,"b",function(){return x}),a.d(I,"c",function(){return C}),a.d(I,"e",function(){return y}),a.d(I,"h",function(){return w}),a.d(I,"f",function(){return z}),a.d(I,"g",function(){return V});var f=a("iTfj"),i=a("r0DC"),g=a("nCnq"),p=a("cyZq"),E=a("nycV"),S={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function A(B,P){var T=P.attr();for(var W in T){var Q=T[W],nt=S[W]?S[W]:W;nt==="matrix"&&Q?B.transform(Q[0],Q[1],Q[3],Q[4],Q[6],Q[7]):nt==="lineDash"&&B.setLineDash?Object(f.B)(Q)&&B.setLineDash(Q):(nt==="strokeStyle"||nt==="fillStyle"?Q=Object(i.b)(B,P,Q):nt==="globalAlpha"&&(Q=Q*B.globalAlpha),B[nt]=Q)}}function M(B,P,T){for(var W=0;W<P.length;W++){var Q=P[W];Q.cfg.visible?Q.draw(B,T):Q.skipDraw()}}function x(B,P,T){var W=B.get("refreshElements");Object(f.j)(W,function(Q){if(Q!==B)for(var nt=Q.cfg.parent;nt&&nt!==B&&!nt.cfg.refresh;)nt.cfg.refresh=!0,nt=nt.cfg.parent}),W[0]===B?D(P,T):O(P,T)}function O(B,P){for(var T=0;T<B.length;T++){var W=B[T];if(W.cfg.visible)if(W.cfg.hasChanged)W.cfg.refresh=!0,W.isGroup()&&D(W.cfg.children,P);else if(W.cfg.refresh)W.isGroup()&&O(W.cfg.children,P);else{var Q=R(W,P);W.cfg.refresh=Q,Q&&W.isGroup()&&O(W.cfg.children,P)}}}function C(B){for(var P=0;P<B.length;P++){var T=B[P];T.cfg.hasChanged=!1,T.isGroup()&&!T.destroyed&&C(T.cfg.children)}}function D(B,P){for(var T=0;T<B.length;T++){var W=B[T];W.cfg.refresh=!0,W.isGroup()&&D(W.get("children"),P)}}function R(B,P){var T=B.cfg.cacheCanvasBBox,W=B.cfg.isInView&&T&&Object(p.f)(T,P);return W}function y(B,P,T,W){var Q=T.path,nt=T.startArrow,st=T.endArrow;if(!!Q){var et=[0,0],_=[0,0],Y={dx:0,dy:0};P.beginPath();for(var $=0;$<Q.length;$++){var q=Q[$],at=q[0];if($===0&&nt&&nt.d){var pt=B.getStartTangent();Y=E.c(pt[0][0],pt[0][1],pt[1][0],pt[1][1],nt.d)}else if($===Q.length-2&&Q[$+1][0]==="Z"&&st&&st.d){var mt=Q[$+1];if(mt[0]==="Z"){var pt=B.getEndTangent();Y=E.c(pt[0][0],pt[0][1],pt[1][0],pt[1][1],st.d)}}else if($===Q.length-1&&st&&st.d&&Q[0]!=="Z"){var pt=B.getEndTangent();Y=E.c(pt[0][0],pt[0][1],pt[1][0],pt[1][1],st.d)}var ot=Y.dx,xt=Y.dy;switch(at){case"M":P.moveTo(q[1]-ot,q[2]-xt),_=[q[1],q[2]];break;case"L":P.lineTo(q[1]-ot,q[2]-xt);break;case"Q":P.quadraticCurveTo(q[1],q[2],q[3]-ot,q[4]-xt);break;case"C":P.bezierCurveTo(q[1],q[2],q[3],q[4],q[5]-ot,q[6]-xt);break;case"A":{var It=void 0;W?(It=W[$],It||(It=Object(g.a)(et,q),W[$]=It)):It=Object(g.a)(et,q);var Ht=It.cx,Qt=It.cy,$t=It.rx,yt=It.ry,ut=It.startAngle,ft=It.endAngle,it=It.xRotation,vt=It.sweepFlag;if(P.ellipse)P.ellipse(Ht,Qt,$t,yt,it,ut,ft,1-vt);else{var Wt=$t>yt?$t:yt,Ct=$t>yt?1:$t/yt,Z=$t>yt?yt/$t:1;P.translate(Ht,Qt),P.rotate(it),P.scale(Ct,Z),P.arc(0,0,Wt,ut,ft,1-vt),P.scale(1/Ct,1/Z),P.rotate(-it),P.translate(-Ht,-Qt)}break}case"Z":P.closePath();break;default:break}if(at==="Z")et=_;else{var X=q.length;et=[q[X-2],q[X-1]]}}}}function w(B,P){var T=B.get("canvas");T&&(P==="remove"&&(B._cacheCanvasBBox=B.get("cacheCanvasBBox")),B.get("hasChanged")||(B.set("hasChanged",!0),B.cfg.parent&&B.cfg.parent.get("hasChanged")||(T.refreshElement(B,P,T),T.get("autoDraw")&&T.draw())))}function N(B){var P;if(B.destroyed)P=B._cacheCanvasBBox;else{var T=B.get("cacheCanvasBBox"),W=T&&!!(T.width&&T.height),Q=B.getCanvasBBox(),nt=Q&&!!(Q.width&&Q.height);W&&nt?P=Object(p.l)(T,Q):W?P=T:nt&&(P=Q)}return P}function z(B){if(!B.length)return null;var P=[],T=[],W=[],Q=[];return Object(f.j)(B,function(nt){var st=N(nt);st&&(P.push(st.minX),T.push(st.minY),W.push(st.maxX),Q.push(st.maxY))}),{minX:Object(f.Z)(P),minY:Object(f.Z)(T),maxX:Object(f.W)(W),maxY:Object(f.W)(Q)}}function V(B,P){return!B||!P||!Object(p.f)(B,P)?null:{minX:Math.max(B.minX,P.minX),minY:Math.max(B.minY,P.minY),maxX:Math.min(B.maxX,P.maxX),maxY:Math.min(B.maxY,P.maxY)}}},"9ggG":function(Ft,I,a){var f=a("Z0cm"),i=a("/9aa"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,p=/^\w*$/;function E(S,A){if(f(S))return!1;var M=typeof S;return M=="number"||M=="symbol"||M=="boolean"||S==null||i(S)?!0:p.test(S)||!g.test(S)||A!=null&&S in Object(A)}Ft.exports=E},"9uj6":function(Ft,I,a){"use strict";function f(S){var A={};return function(M){return A[M]===void 0&&(A[M]=S(M)),A[M]}}var i=f,g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,p=i(function(S){return g.test(S)||S.charCodeAt(0)===111&&S.charCodeAt(1)===110&&S.charCodeAt(2)<91}),E=I.a=p},"9y2T":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return g});var f=-1,i=1;function g(){return i++}},A14R:function(Ft,I){},AA7f:function(Ft,I,a){"use strict";a.d(I,"b",function(){return i}),a.d(I,"a",function(){return g});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f=function(et,_){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,$){Y.__proto__=$}||function(Y,$){for(var q in $)$.hasOwnProperty(q)&&(Y[q]=$[q])},f(et,_)};function i(st,et){f(st,et);function _(){this.constructor=st}st.prototype=et===null?Object.create(et):(_.prototype=et.prototype,new _)}var g=function(){return g=Object.assign||function(_){for(var Y,$=1,q=arguments.length;$<q;$++){Y=arguments[$];for(var at in Y)Object.prototype.hasOwnProperty.call(Y,at)&&(_[at]=Y[at])}return _},g.apply(this,arguments)};function p(st,et){var _={};for(var Y in st)Object.prototype.hasOwnProperty.call(st,Y)&&et.indexOf(Y)<0&&(_[Y]=st[Y]);if(st!=null&&typeof Object.getOwnPropertySymbols=="function")for(var $=0,Y=Object.getOwnPropertySymbols(st);$<Y.length;$++)et.indexOf(Y[$])<0&&Object.prototype.propertyIsEnumerable.call(st,Y[$])&&(_[Y[$]]=st[Y[$]]);return _}function E(st,et,_,Y){var $=arguments.length,q=$<3?et:Y===null?Y=Object.getOwnPropertyDescriptor(et,_):Y,at;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")q=Reflect.decorate(st,et,_,Y);else for(var pt=st.length-1;pt>=0;pt--)(at=st[pt])&&(q=($<3?at(q):$>3?at(et,_,q):at(et,_))||q);return $>3&&q&&Object.defineProperty(et,_,q),q}function S(st,et){return function(_,Y){et(_,Y,st)}}function A(st,et){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(st,et)}function M(st,et,_,Y){function $(q){return q instanceof _?q:new _(function(at){at(q)})}return new(_||(_=Promise))(function(q,at){function pt(xt){try{ot(Y.next(xt))}catch(It){at(It)}}function mt(xt){try{ot(Y.throw(xt))}catch(It){at(It)}}function ot(xt){xt.done?q(xt.value):$(xt.value).then(pt,mt)}ot((Y=Y.apply(st,et||[])).next())})}function x(st,et){var _={label:0,sent:function(){if(q[0]&1)throw q[1];return q[1]},trys:[],ops:[]},Y,$,q,at;return at={next:pt(0),throw:pt(1),return:pt(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function pt(ot){return function(xt){return mt([ot,xt])}}function mt(ot){if(Y)throw new TypeError("Generator is already executing.");for(;_;)try{if(Y=1,$&&(q=ot[0]&2?$.return:ot[0]?$.throw||((q=$.return)&&q.call($),0):$.next)&&!(q=q.call($,ot[1])).done)return q;switch($=0,q&&(ot=[ot[0]&2,q.value]),ot[0]){case 0:case 1:q=ot;break;case 4:return _.label++,{value:ot[1],done:!1};case 5:_.label++,$=ot[1],ot=[0];continue;case 7:ot=_.ops.pop(),_.trys.pop();continue;default:if(q=_.trys,!(q=q.length>0&&q[q.length-1])&&(ot[0]===6||ot[0]===2)){_=0;continue}if(ot[0]===3&&(!q||ot[1]>q[0]&&ot[1]<q[3])){_.label=ot[1];break}if(ot[0]===6&&_.label<q[1]){_.label=q[1],q=ot;break}if(q&&_.label<q[2]){_.label=q[2],_.ops.push(ot);break}q[2]&&_.ops.pop(),_.trys.pop();continue}ot=et.call(st,_)}catch(xt){ot=[6,xt],$=0}finally{Y=q=0}if(ot[0]&5)throw ot[1];return{value:ot[0]?ot[1]:void 0,done:!0}}}function O(st,et,_,Y){Y===void 0&&(Y=_),st[Y]=et[_]}function C(st,et){for(var _ in st)_!=="default"&&!et.hasOwnProperty(_)&&(et[_]=st[_])}function D(st){var et=typeof Symbol=="function"&&Symbol.iterator,_=et&&st[et],Y=0;if(_)return _.call(st);if(st&&typeof st.length=="number")return{next:function(){return st&&Y>=st.length&&(st=void 0),{value:st&&st[Y++],done:!st}}};throw new TypeError(et?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(st,et){var _=typeof Symbol=="function"&&st[Symbol.iterator];if(!_)return st;var Y=_.call(st),$,q=[],at;try{for(;(et===void 0||et-- >0)&&!($=Y.next()).done;)q.push($.value)}catch(pt){at={error:pt}}finally{try{$&&!$.done&&(_=Y.return)&&_.call(Y)}finally{if(at)throw at.error}}return q}function y(){for(var st=[],et=0;et<arguments.length;et++)st=st.concat(R(arguments[et]));return st}function w(){for(var st=0,et=0,_=arguments.length;et<_;et++)st+=arguments[et].length;for(var Y=Array(st),$=0,et=0;et<_;et++)for(var q=arguments[et],at=0,pt=q.length;at<pt;at++,$++)Y[$]=q[at];return Y}function N(st){return this instanceof N?(this.v=st,this):new N(st)}function z(st,et,_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=_.apply(st,et||[]),$,q=[];return $={},at("next"),at("throw"),at("return"),$[Symbol.asyncIterator]=function(){return this},$;function at(Ht){Y[Ht]&&($[Ht]=function(Qt){return new Promise(function($t,yt){q.push([Ht,Qt,$t,yt])>1||pt(Ht,Qt)})})}function pt(Ht,Qt){try{mt(Y[Ht](Qt))}catch($t){It(q[0][3],$t)}}function mt(Ht){Ht.value instanceof N?Promise.resolve(Ht.value.v).then(ot,xt):It(q[0][2],Ht)}function ot(Ht){pt("next",Ht)}function xt(Ht){pt("throw",Ht)}function It(Ht,Qt){Ht(Qt),q.shift(),q.length&&pt(q[0][0],q[0][1])}}function V(st){var et,_;return et={},Y("next"),Y("throw",function($){throw $}),Y("return"),et[Symbol.iterator]=function(){return this},et;function Y($,q){et[$]=st[$]?function(at){return(_=!_)?{value:N(st[$](at)),done:$==="return"}:q?q(at):at}:q}}function B(st){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var et=st[Symbol.asyncIterator],_;return et?et.call(st):(st=typeof D=="function"?D(st):st[Symbol.iterator](),_={},Y("next"),Y("throw"),Y("return"),_[Symbol.asyncIterator]=function(){return this},_);function Y(q){_[q]=st[q]&&function(at){return new Promise(function(pt,mt){at=st[q](at),$(pt,mt,at.done,at.value)})}}function $(q,at,pt,mt){Promise.resolve(mt).then(function(ot){q({value:ot,done:pt})},at)}}function P(st,et){return Object.defineProperty?Object.defineProperty(st,"raw",{value:et}):st.raw=et,st}function T(st){if(st&&st.__esModule)return st;var et={};if(st!=null)for(var _ in st)Object.hasOwnProperty.call(st,_)&&(et[_]=st[_]);return et.default=st,et}function W(st){return st&&st.__esModule?st:{default:st}}function Q(st,et){if(!et.has(st))throw new TypeError("attempted to get private field on non-instance");return et.get(st)}function nt(st,et,_){if(!et.has(st))throw new TypeError("attempted to set private field on non-instance");return et.set(st,_),_}},AE40:function(Ft,I,a){var f=a("dunj"),i=a("jSBL"),g=a("zZ0H");function p(E){return E&&E.length?f(E,g,i):void 0}Ft.exports=p},AEOw:function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0],E=i[1];return f[0]=g[0]*p+g[4]*E+g[12],f[1]=g[1]*p+g[5]*E+g[13],f}},APlK:function(Ft,I,a){"use strict";a.d(I,"b",function(){return i}),a.d(I,"c",function(){return g}),a.d(I,"a",function(){return p});var f=a("c+wO");function i(E,S){var A=E.cfg.el,M=E.attr(),x={dx:M.shadowOffsetX,dy:M.shadowOffsetY,blur:M.shadowBlur,color:M.shadowColor};if(!x.dx&&!x.dy&&!x.blur&&!x.color)A.removeAttribute("filter");else{var O=S.find("filter",x);O||(O=S.addShadow(x)),A.setAttribute("filter","url(#"+O+")")}}function g(E){var S=E.attr().matrix;if(S){for(var A=E.cfg.el,M=[],x=0;x<9;x+=3)M.push(S[x]+","+S[x+1]);M=M.join(","),M.indexOf("NaN")===-1?A.setAttribute("transform","matrix("+M+")"):console.warn("invalid matrix:",S)}}function p(E,S){var A=E.getClip(),M=E.get("el");if(!A)M.removeAttribute("clip-path");else if(A&&!M.hasAttribute("clip-path")){Object(f.a)(A),A.createPath(S);var x=S.addClip(A);M.setAttribute("clip-path","url(#"+x+")")}}},APxj:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0});var f=a("Ucsi");function i(g,p){p===void 0&&(p=!0);var E=f.makePropertyInjectDecorator(g,p),S=f.makePropertyInjectNamedDecorator(g,p),A=f.makePropertyInjectTaggedDecorator(g,p),M=f.makePropertyMultiInjectDecorator(g,p);return{lazyInject:E,lazyInjectNamed:S,lazyInjectTagged:A,lazyMultiInject:M}}I.default=i},Ac7g:function(Ft,I,a){Ft.exports={Graph:a("lnHP"),version:a("w802")}},AevD:function(Ft,I,a){var f=a("M96O");Ft.exports=i;function i(){this._arr=[],this._keyIndices={}}i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(g){return g.key})},i.prototype.has=function(g){return f.has(this._keyIndices,g)},i.prototype.priority=function(g){var p=this._keyIndices[g];if(p!==void 0)return this._arr[p].priority},i.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(g,p){var E=this._keyIndices;if(g=String(g),!f.has(E,g)){var S=this._arr,A=S.length;return E[g]=A,S.push({key:g,priority:p}),this._decrease(A),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var g=this._arr.pop();return delete this._keyIndices[g.key],this._heapify(0),g.key},i.prototype.decrease=function(g,p){var E=this._keyIndices[g];if(p>this._arr[E].priority)throw new Error("New priority is greater than current priority. Key: "+g+" Old: "+this._arr[E].priority+" New: "+p);this._arr[E].priority=p,this._decrease(E)},i.prototype._heapify=function(g){var p=this._arr,E=2*g,S=E+1,A=g;E<p.length&&(A=p[E].priority<p[A].priority?E:A,S<p.length&&(A=p[S].priority<p[A].priority?S:A),A!==g&&(this._swap(g,A),this._heapify(A)))},i.prototype._decrease=function(g){for(var p=this._arr,E=p[g].priority,S;g!==0&&(S=g>>1,!(p[S].priority<E));)this._swap(g,S),g=S},i.prototype._swap=function(g,p){var E=this._arr,S=this._keyIndices,A=E[g],M=E[p];E[g]=M,E[p]=A,S[M.key]=g,S[A.key]=p}},AwBQ:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Lookup=void 0;var f=a("MON2"),i=function(){function g(){this._map=new Map}return g.prototype.getMap=function(){return this._map},g.prototype.add=function(p,E){if(p==null)throw new Error(f.NULL_ARGUMENT);if(E==null)throw new Error(f.NULL_ARGUMENT);var S=this._map.get(p);S!==void 0?(S.push(E),this._map.set(p,S)):this._map.set(p,[E])},g.prototype.get=function(p){if(p==null)throw new Error(f.NULL_ARGUMENT);var E=this._map.get(p);if(E!==void 0)return E;throw new Error(f.KEY_NOT_FOUND)},g.prototype.remove=function(p){if(p==null)throw new Error(f.NULL_ARGUMENT);if(!this._map.delete(p))throw new Error(f.KEY_NOT_FOUND)},g.prototype.removeByCondition=function(p){var E=this;this._map.forEach(function(S,A){var M=S.filter(function(x){return!p(x)});M.length>0?E._map.set(A,M):E._map.delete(A)})},g.prototype.hasKey=function(p){if(p==null)throw new Error(f.NULL_ARGUMENT);return this._map.has(p)},g.prototype.clone=function(){var p=new g;return this._map.forEach(function(E,S){E.forEach(function(A){return p.add(S,A.clone())})}),p},g.prototype.traverse=function(p){this._map.forEach(function(E,S){p(S,E)})},g}();I.Lookup=i},AzzA:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=-i[0],f[1]=-i[1],f}},B0vJ:function(Ft,I){},"B2d+":function(Ft,I){},B3DA:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=a("iTfj"),i=a("F/eT");function g(p){var E=Object(f.c)(Object(i.b)(p)?p:0,0,1);return[{type:"current",percent:E},{type:"target",percent:1-E}]}},BFph:function(Ft,I,a){"use strict";a.d(I,"a",function(){return $});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("IOcx"),N=a("4cb6"),z=a.n(N),V=a("+uE7"),B,P,T,W,Q,nt,st,et,_,Y,$=(B=Object(N.injectable)(),P=Object(N.inject)(V.a.HierarchyComponentManager),T=Object(N.inject)(V.a.TransformComponentManager),W=Object(N.inject)(V.a.MeshComponentManager),B(Q=(nt=(Y=function(){function q(){M()(this,q),S()(this,"hierarchy",st,this),S()(this,"transform",et,this),S()(this,"mesh",_,this)}return O()(q,[{key:"execute",value:function(){var at=p()(i.a.mark(function mt(){return i.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:this.runTransformUpdateSystem(),this.runHierarchyUpdateSystem();case 2:case"end":return xt.stop()}},mt,this)}));function pt(){return at.apply(this,arguments)}return pt}()},{key:"tearDown",value:function(){this.hierarchy.clear(),this.transform.clear()}},{key:"getHierarchyComponentManager",value:function(){return this.hierarchy}},{key:"getTransformComponentManager",value:function(){return this.transform}},{key:"runTransformUpdateSystem",value:function(){var pt=this;this.transform.forEach(function(mt,ot){(ot.isDirty()||ot.isLocalDirty())&&(pt.setMeshAABBDirty(pt.mesh.getComponentByEntity(mt)),ot.updateTransform())})}},{key:"runHierarchyUpdateSystem",value:function(){var pt=this;this.hierarchy.forEach(function(mt,ot){var xt=pt.transform.getComponentByEntity(mt),It=pt.transform.getComponentByEntity(ot.parentID);xt!==null&&It!==null&&xt.updateTransformWithParent(It)})}},{key:"attach",value:function(pt,mt,ot){this.hierarchy.contains(pt)&&this.detach(pt),this.hierarchy.create(pt,{parentID:mt});var xt=this.mesh.getComponentByEntity(mt);if(this.setMeshAABBDirty(xt),xt&&xt.children.indexOf(pt)===-1&&xt.children.push(pt),this.hierarchy.getCount()>1)for(var It=this.hierarchy.getCount()-1;It>0;--It)for(var Ht=this.hierarchy.getEntity(It),Qt=0;Qt<It;++Qt){var $t=this.hierarchy.getComponent(Qt);if($t.parentID===Ht){this.hierarchy.moveItem(It,Qt),++It;break}}var yt=this.hierarchy.getComponentByEntity(pt),ut=this.transform.getComponentByEntity(mt);ut===null&&(ut=this.transform.create(mt));var ft=this.transform.getComponentByEntity(pt);ft===null&&(ft=this.transform.create(pt),ut=this.transform.getComponentByEntity(mt)),ft.parent=ut,!ot&&ut&&(ft.matrixTransform(w.b.invert(w.b.create(),ut.worldTransform)),ft.updateTransform()),ut&&ft.updateTransformWithParent(ut)}},{key:"detach",value:function(pt){var mt=this.hierarchy.getComponentByEntity(pt);if(mt!==null){var ot=this.transform.getComponentByEntity(pt);ot!==null&&(ot.parent=null,ot.applyTransform()),this.hierarchy.removeKeepSorted(pt);var xt=this.mesh.getComponentByEntity(mt.parentID);if(xt){var It=xt.children.indexOf(pt);xt.children.splice(It,1)}this.setMeshAABBDirty(xt)}}},{key:"detachChildren",value:function(pt){var mt=this.mesh.getComponentByEntity(pt);mt&&(mt.children=[]);for(var ot=0;ot<this.hierarchy.getCount();){var xt;if(((xt=this.hierarchy.getComponent(ot))===null||xt===void 0?void 0:xt.parentID)===pt){var It=this.hierarchy.getEntity(ot);this.detach(It)}else++ot}}},{key:"setMeshAABBDirty",value:function(pt){pt&&(pt.aabbDirty=!0)}}]),q}(),Y),st=D()(nt.prototype,"hierarchy",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et=D()(nt.prototype,"transform",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=D()(nt.prototype,"mesh",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt))||Q)},BRni:function(Ft,I,a){(function(i,g){Ft.exports=g()})(typeof self!="undefined"?self:this,function(){return function(f){var i={};function g(p){if(i[p])return i[p].exports;var E=i[p]={i:p,l:!1,exports:{}};return f[p].call(E.exports,E,E.exports,g),E.l=!0,E.exports}return g.m=f,g.c=i,g.d=function(p,E,S){g.o(p,E)||Object.defineProperty(p,E,{configurable:!1,enumerable:!0,get:S})},g.n=function(p){var E=p&&p.__esModule?function(){return p.default}:function(){return p};return g.d(E,"a",E),E},g.o=function(p,E){return Object.prototype.hasOwnProperty.call(p,E)},g.p="",g(g.s=31)}([function(f,i,g){"use strict";var p=g(4);i.a=function(E){return Array.isArray?Array.isArray(E):Object(p.a)(E,"Array")}},function(f,i,g){"use strict";var p=function(S){return S!==null&&typeof S!="function"&&isFinite(S.length)};i.a=p},function(f,i,g){"use strict";var p=g(0),E=g(13);function S(A,M){if(!!A){var x;if(Object(p.a)(A))for(var O=0,C=A.length;O<C&&(x=M(A[O],O),x!==!1);O++);else if(Object(E.a)(A)){for(var D in A)if(A.hasOwnProperty(D)&&(x=M(A[D],D),x===!1))break}}}i.a=S},function(f,i,g){"use strict";var p=g(4);i.a=function(E){return Object(p.a)(E,"Function")}},function(f,i,g){"use strict";var p={}.toString,E=function(A,M){return p.call(A)==="[object "+M+"]"};i.a=E},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"Number")};i.a=E},function(f,i,g){"use strict";var p=function(S){return S==null};i.a=p},function(f,i,g){var p=g(33),E=p.mix;f.exports={assign:E}},function(f,i,g){"use strict";var p=g(4);i.a=function(E){return Object(p.a)(E,"String")}},function(f,i,g){"use strict";var p=g(15),E=g(4),S=function(M){if(!Object(p.a)(M)||!Object(E.a)(M,"Object"))return!1;if(Object.getPrototypeOf(M)===null)return!0;for(var x=M;Object.getPrototypeOf(x)!==null;)x=Object.getPrototypeOf(x);return Object.getPrototypeOf(M)===x};i.a=S},function(f,i,g){"use strict";var p=g(6);i.a=function(E){return Object(p.a)(E)?"":E.toString()}},function(f,i,g){var p=g(18),E=function(){function S(M,x){x===void 0&&(x={});var O=this;O.options=x,O.rootNode=p(M,x)}var A=S.prototype;return A.execute=function(){throw new Error("please override this method")},S}();f.exports=E},function(f,i,g){"use strict";var p=g(1),E=function(A,M){return Object(p.a)(A)?A.indexOf(M)>-1:!1};i.a=E},function(f,i,g){"use strict";i.a=function(p){var E=typeof p;return p!==null&&E==="object"||E==="function"}},function(f,i,g){"use strict";var p=g(2),E=g(1),S=function(M,x){if(!Object(E.a)(M))return M;var O=[];return Object(p.a)(M,function(C,D){x(C,D)&&O.push(C)}),O};i.a=S},function(f,i,g){"use strict";var p=function(S){return typeof S=="object"&&S!==null};i.a=p},function(f,i,g){"use strict";i.a=E;function p(S,A){for(var M in A)A.hasOwnProperty(M)&&M!=="constructor"&&A[M]!==void 0&&(S[M]=A[M])}function E(S,A,M,x){return A&&p(S,A),M&&p(S,M),x&&p(S,x),S}},function(f,i,g){var p=g(30),E=["LR","RL","TB","BT","H","V"],S=["LR","RL","H"],A=function(O){return S.indexOf(O)>-1},M=E[0];f.exports=function(x,O,C){var D=O.direction||M;if(O.isHorizontal=A(D),D&&E.indexOf(D)===-1)throw new TypeError("Invalid direction: "+D);if(D===E[0])C(x,O);else if(D===E[1])C(x,O),x.right2left();else if(D===E[2])C(x,O);else if(D===E[3])C(x,O),x.bottom2top();else if(D===E[4]||D===E[5]){var R=p(x,O),y=R.left,w=R.right;C(y,O),C(w,O),O.isHorizontal?y.right2left():y.bottom2top(),w.translate(y.x-w.x,y.y-w.y),x.x=y.x,x.y=w.y;var N=x.getBoundingBox();O.isHorizontal?N.top<0&&x.translate(0,-N.top):N.left<0&&x.translate(-N.left,0)}var z=O.fixedRoot;return z===void 0&&(z=!0),z&&x.translate(-(x.x+x.width/2+x.hgap),-(x.y+x.height/2+x.vgap)),x}},function(f,i,g){var p=g(7),E=18,S=E*2,A=E,M={getId:function(D){return D.id||D.name},getPreH:function(D){return D.preH||0},getPreV:function(D){return D.preV||0},getHGap:function(D){return D.hgap||A},getVGap:function(D){return D.vgap||A},getChildren:function(D){return D.children},getHeight:function(D){return D.height||S},getWidth:function(D){var R=D.label||" ";return D.width||R.split("").length*E}};function x(C,D){var R=this;if(R.vgap=R.hgap=0,C instanceof x)return C;R.data=C;var y=D.getHGap(C),w=D.getVGap(C);return R.preH=D.getPreH(C),R.preV=D.getPreV(C),R.width=D.getWidth(C),R.height=D.getHeight(C),R.width+=R.preH,R.height+=R.preV,R.id=D.getId(C),R.x=R.y=0,R.depth=0,R.children||(R.children=[]),R.addGap(y,w),R}p.assign(x.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(D,R){var y=this;y.hgap+=D,y.vgap+=R,y.width+=2*D,y.height+=2*R},eachNode:function(D){for(var R=this,y=[R],w;w=y.shift();)D(w),y=w.children.concat(y)},DFTraverse:function(D){this.eachNode(D)},BFTraverse:function(D){for(var R=this,y=[R],w;w=y.shift();)D(w),y=y.concat(w.children)},getBoundingBox:function(){var D={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(R){D.left=Math.min(D.left,R.x),D.top=Math.min(D.top,R.y),D.width=Math.max(D.width,R.x+R.width),D.height=Math.max(D.height,R.y+R.height)}),D},translate:function(D,R){D===void 0&&(D=0),R===void 0&&(R=0),this.eachNode(function(y){y.x+=D,y.y+=R,y.x+=y.preH,y.y+=y.preV})},right2left:function(){var D=this,R=D.getBoundingBox();D.eachNode(function(y){y.x=y.x-(y.x-R.left)*2-y.width}),D.translate(R.width,0)},bottom2top:function(){var D=this,R=D.getBoundingBox();D.eachNode(function(y){y.y=y.y-(y.y-R.top)*2-y.height}),D.translate(0,R.height)}});function O(C,D,R){D===void 0&&(D={}),D=p.assign({},M,D);var y=new x(C,D),w=[y],N;if(!R&&!C.collapsed){for(;N=w.shift();)if(!N.data.collapsed){var z=D.getChildren(N.data),V=z?z.length:0;if(N.children=new Array(V),z&&V)for(var B=0;B<V;B++){var P=new x(z[B],D);N.children[B]=P,w.push(P),P.parent=N,P.depth=N.depth+1}}}return y}f.exports=O},function(f,i,g){"use strict";var p=g(6),E=g(20);function S(A,M){var x=Object(E.a)(M),O=x.length;if(Object(p.a)(A))return!O;for(var C=0;C<O;C+=1){var D=x[C];if(M[D]!==A[D]||!(D in A))return!1}return!0}i.a=S},function(f,i,g){"use strict";var p=g(2),E=g(3),S=Object.keys?function(A){return Object.keys(A)}:function(A){var M=[];return Object(p.a)(A,function(x,O){Object(E.a)(A)&&O==="prototype"||M.push(O)}),M};i.a=S},function(f,i,g){"use strict";var p=g(1),E=Array.prototype.splice,S=function(M,x){if(!Object(p.a)(M))return[];for(var O=M?x.length:0,C=O-1;O--;){var D=void 0,R=x[O];(O===C||R!==D)&&(D=R,E.call(M,R,1))}return M};i.a=S},function(f,i,g){"use strict";var p=g(12),E=g(2),S=function(M){var x=[];return Object(E.a)(M,function(O){Object(p.a)(x,O)||x.push(O)}),x};i.a=S},function(f,i,g){"use strict";var p=g(0),E=g(3),S=g(24),A=function(x,O){if(!O)return{0:x};if(!Object(E.a)(O)){var C=Object(p.a)(O)?O:O.replace(/\s+/g,"").split("*");O=function(y){for(var w="_",N=0,z=C.length;N<z;N++)w+=y[C[N]]&&y[C[N]].toString();return w}}var D=Object(S.a)(x,O);return D};i.a=A},function(f,i,g){"use strict";var p=g(2),E=g(0),S=g(3),A=Object.prototype.hasOwnProperty;function M(x,O){if(!O||!Object(E.a)(x))return{};var C={},D=Object(S.a)(O)?O:function(y){return y[O]},R;return Object(p.a)(x,function(y){R=D(y),A.call(C,R)?C[R].push(y):C[R]=[y]}),C}i.a=M},function(f,i,g){"use strict";i.a=function(p,E){return p.hasOwnProperty(E)}},function(f,i,g){"use strict";var p=g(2),E=g(3),S=Object.values?function(A){return Object.values(A)}:function(A){var M=[];return Object(p.a)(A,function(x,O){Object(E.a)(A)&&O==="prototype"||M.push(x)}),M};i.a=S},function(f,i,g){"use strict";var p={}.toString,E=function(A){return p.call(A).replace(/^\[object /,"").replace(/]$/,"")};i.a=E},function(f,i,g){"use strict";var p=Object.prototype,E=function(A){var M=A&&A.constructor,x=typeof M=="function"&&M.prototype||p;return A===x};i.a=E},function(f,i,g){"use strict";var p=g(15),E=g(1),S=g(8),A=function M(x,O){if(x===O)return!0;if(!x||!O||Object(S.a)(x)||Object(S.a)(O))return!1;if(Object(E.a)(x)||Object(E.a)(O)){if(x.length!==O.length)return!1;for(var C=!0,D=0;D<x.length&&(C=M(x[D],O[D]),!!C);D++);return C}if(Object(p.a)(x)||Object(p.a)(O)){var R=Object.keys(x),y=Object.keys(O);if(R.length!==y.length)return!1;for(var C=!0,D=0;D<R.length&&(C=M(x[R[D]],O[R[D]]),!!C);D++);return C}return!1};i.a=A},function(f,i,g){var p=g(18);f.exports=function(E,S){for(var A=p(E.data,S,!0),M=p(E.data,S,!0),x=E.children.length,O=Math.round(x/2),C=S.getSide||function(w,N){return N<O?"right":"left"},D=0;D<x;D++){var R=E.children[D],y=C(R,D);y==="right"?M.children.push(R):A.children.push(R)}return A.eachNode(function(w){w.isRoot()||(w.side="left")}),M.eachNode(function(w){w.isRoot()||(w.side="right")}),{left:A,right:M}}},function(f,i,g){var p={compactBox:g(32),dendrogram:g(114),indented:g(116),mindmap:g(118)};f.exports=p},function(f,i,g){function p(D,R){D.prototype=Object.create(R.prototype),D.prototype.constructor=D,D.__proto__=R}var E=g(11),S=g(113),A=g(17),M=g(7),x=function(D){p(R,D);function R(){return D.apply(this,arguments)||this}var y=R.prototype;return y.execute=function(){var N=this;return A(N.rootNode,N.options,S)},R}(E),O={};function C(D,R){return R=M.assign({},O,R),new x(D,R).execute()}f.exports=C},function(f,i,g){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var p=g(12);g.d(i,"contains",function(){return p.a}),g.d(i,"includes",function(){return p.a});var E=g(34);g.d(i,"difference",function(){return E.a});var S=g(35);g.d(i,"find",function(){return S.a});var A=g(36);g.d(i,"findIndex",function(){return A.a});var M=g(37);g.d(i,"firstValue",function(){return M.a});var x=g(38);g.d(i,"flatten",function(){return x.a});var O=g(39);g.d(i,"flattenDeep",function(){return O.a});var C=g(40);g.d(i,"getRange",function(){return C.a});var D=g(41);g.d(i,"pull",function(){return D.a});var R=g(21);g.d(i,"pullAt",function(){return R.a});var y=g(42);g.d(i,"reduce",function(){return y.a});var w=g(43);g.d(i,"remove",function(){return w.a});var N=g(44);g.d(i,"sortBy",function(){return N.a});var z=g(45);g.d(i,"union",function(){return z.a});var V=g(22);g.d(i,"uniq",function(){return V.a});var B=g(46);g.d(i,"valuesOfKey",function(){return B.a});var P=g(47);g.d(i,"head",function(){return P.a});var T=g(48);g.d(i,"last",function(){return T.a});var W=g(49);g.d(i,"startsWith",function(){return W.a});var Q=g(50);g.d(i,"endsWith",function(){return Q.a});var nt=g(14);g.d(i,"filter",function(){return nt.a});var st=g(51);g.d(i,"every",function(){return st.a});var et=g(52);g.d(i,"some",function(){return et.a});var _=g(53);g.d(i,"group",function(){return _.a});var Y=g(24);g.d(i,"groupBy",function(){return Y.a});var $=g(23);g.d(i,"groupToMap",function(){return $.a});var q=g(54);g.d(i,"getWrapBehavior",function(){return q.a});var at=g(55);g.d(i,"wrapBehavior",function(){return at.a});var pt=g(56);g.d(i,"number2color",function(){return pt.a});var mt=g(57);g.d(i,"parseRadius",function(){return mt.a});var ot=g(58);g.d(i,"clamp",function(){return ot.a});var xt=g(59);g.d(i,"fixedBase",function(){return xt.a});var It=g(60);g.d(i,"isDecimal",function(){return It.a});var Ht=g(61);g.d(i,"isEven",function(){return Ht.a});var Qt=g(62);g.d(i,"isInteger",function(){return Qt.a});var $t=g(63);g.d(i,"isNegative",function(){return $t.a});var yt=g(64);g.d(i,"isNumberEqual",function(){return yt.a});var ut=g(65);g.d(i,"isOdd",function(){return ut.a});var ft=g(66);g.d(i,"isPositive",function(){return ft.a});var it=g(67);g.d(i,"maxBy",function(){return it.a});var vt=g(68);g.d(i,"minBy",function(){return vt.a});var Wt=g(69);g.d(i,"mod",function(){return Wt.a});var Ct=g(70);g.d(i,"toDegree",function(){return Ct.a});var Z=g(71);g.d(i,"toInteger",function(){return Z.a});var X=g(72);g.d(i,"toRadian",function(){return X.a});var dt=g(73);g.d(i,"forIn",function(){return dt.a});var H=g(25);g.d(i,"has",function(){return H.a});var lt=g(74);g.d(i,"hasKey",function(){return lt.a});var Ot=g(75);g.d(i,"hasValue",function(){return Ot.a});var Rt=g(20);g.d(i,"keys",function(){return Rt.a});var zt=g(19);g.d(i,"isMatch",function(){return zt.a});var Bt=g(26);g.d(i,"values",function(){return Bt.a});var tt=g(76);g.d(i,"lowerCase",function(){return tt.a});var J=g(77);g.d(i,"lowerFirst",function(){return J.a});var G=g(78);g.d(i,"substitute",function(){return G.a});var Et=g(79);g.d(i,"upperCase",function(){return Et.a});var Tt=g(80);g.d(i,"upperFirst",function(){return Tt.a});var ct=g(27);g.d(i,"getType",function(){return ct.a});var St=g(81);g.d(i,"isArguments",function(){return St.a});var Vt=g(0);g.d(i,"isArray",function(){return Vt.a});var Lt=g(1);g.d(i,"isArrayLike",function(){return Lt.a});var Nt=g(82);g.d(i,"isBoolean",function(){return Nt.a});var Zt=g(83);g.d(i,"isDate",function(){return Zt.a});var oe=g(84);g.d(i,"isError",function(){return oe.a});var ue=g(3);g.d(i,"isFunction",function(){return ue.a});var Ee=g(85);g.d(i,"isFinite",function(){return Ee.a});var Te=g(6);g.d(i,"isNil",function(){return Te.a});var Se=g(86);g.d(i,"isNull",function(){return Se.a});var $e=g(5);g.d(i,"isNumber",function(){return $e.a});var cr=g(13);g.d(i,"isObject",function(){return cr.a});var He=g(15);g.d(i,"isObjectLike",function(){return He.a});var _e=g(9);g.d(i,"isPlainObject",function(){return _e.a});var ur=g(28);g.d(i,"isPrototype",function(){return ur.a});var jr=g(87);g.d(i,"isRegExp",function(){return jr.a});var Ar=g(8);g.d(i,"isString",function(){return Ar.a});var Ge=g(4);g.d(i,"isType",function(){return Ge.a});var br=g(88);g.d(i,"isUndefined",function(){return br.a});var er=g(89);g.d(i,"isElement",function(){return er.a});var nr=g(90);g.d(i,"requestAnimationFrame",function(){return nr.a});var yr=g(91);g.d(i,"clearAnimationFrame",function(){return yr.a});var Rr=g(92);g.d(i,"augment",function(){return Rr.a});var an=g(93);g.d(i,"clone",function(){return an.a});var In=g(94);g.d(i,"debounce",function(){return In.a});var Un=g(95);g.d(i,"memoize",function(){return Un.a});var _n=g(96);g.d(i,"deepMix",function(){return _n.a});var sa=g(2);g.d(i,"each",function(){return sa.a});var ci=g(97);g.d(i,"extend",function(){return ci.a});var fi=g(98);g.d(i,"indexOf",function(){return fi.a});var pa=g(99);g.d(i,"isEmpty",function(){return pa.a});var ga=g(29);g.d(i,"isEqual",function(){return ga.a});var Xi=g(100);g.d(i,"isEqualWith",function(){return Xi.a});var Ci=g(101);g.d(i,"map",function(){return Ci.a});var Ki=g(102);g.d(i,"mapValues",function(){return Ki.a});var so=g(16);g.d(i,"mix",function(){return so.a}),g.d(i,"assign",function(){return so.a});var co=g(103);g.d(i,"get",function(){return co.a});var fo=g(104);g.d(i,"set",function(){return fo.a});var ya=g(105);g.d(i,"pick",function(){return ya.a});var _a=g(106);g.d(i,"throttle",function(){return _a.a});var rr=g(107);g.d(i,"toArray",function(){return rr.a});var ir=g(10);g.d(i,"toString",function(){return ir.a});var Ye=g(108);g.d(i,"uniqueId",function(){return Ye.a});var tr=g(109);g.d(i,"noop",function(){return tr.a});var Fr=g(110);g.d(i,"identity",function(){return Fr.a});var tn=g(111);g.d(i,"size",function(){return tn.a});var bn=g(112);g.d(i,"Cache",function(){return bn.a})},function(f,i,g){"use strict";var p=g(14),E=g(12),S=function(M,x){return x===void 0&&(x=[]),Object(p.a)(M,function(O){return!Object(E.a)(x,O)})};i.a=S},function(f,i,g){"use strict";var p=g(3),E=g(19),S=g(0),A=g(9);function M(x,O){if(!Object(S.a)(x))return null;var C;if(Object(p.a)(O)&&(C=O),Object(A.a)(O)&&(C=function(y){return Object(E.a)(y,O)}),C){for(var D=0;D<x.length;D+=1)if(C(x[D]))return x[D]}return null}i.a=M},function(f,i,g){"use strict";function p(E,S,A){A===void 0&&(A=0);for(var M=A;M<E.length;M++)if(S(E[M],M))return M;return-1}i.a=p},function(f,i,g){"use strict";var p=g(6),E=g(0),S=function(M,x){for(var O=null,C=0;C<M.length;C++){var D=M[C],R=D[x];if(!Object(p.a)(R)){Object(E.a)(R)?O=R[0]:O=R;break}}return O};i.a=S},function(f,i,g){"use strict";var p=g(0),E=function(A){if(!Object(p.a)(A))return[];for(var M=[],x=0;x<A.length;x++)M=M.concat(A[x]);return M};i.a=E},function(f,i,g){"use strict";var p=g(0),E=function S(A,M){if(M===void 0&&(M=[]),!Object(p.a)(A))M.push(A);else for(var x=0;x<A.length;x+=1)S(A[x],M);return M};i.a=E},function(f,i,g){"use strict";var p=g(0),E=g(14),S=function(M){if(M=Object(E.a)(M,function(R){return!isNaN(R)}),!M.length)return{min:0,max:0};if(Object(p.a)(M[0])){for(var x=[],O=0;O<M.length;O++)x=x.concat(M[O]);M=x}var C=Math.max.apply(null,M),D=Math.min.apply(null,M);return{min:D,max:C}};i.a=S},function(f,i,g){"use strict";var p=Array.prototype,E=p.splice,S=p.indexOf,A=function(x){for(var O=[],C=1;C<arguments.length;C++)O[C-1]=arguments[C];for(var D=0;D<O.length;D++)for(var R=O[D],y=-1;(y=S.call(x,R))>-1;)E.call(x,y,1);return x};i.a=A},function(f,i,g){"use strict";var p=g(2),E=g(0),S=g(9),A=function(x,O,C){if(!Object(E.a)(x)&&!Object(S.a)(x))return x;var D=C;return Object(p.a)(x,function(R,y){D=O(D,R,y)}),D};i.a=A},function(f,i,g){"use strict";var p=g(1),E=g(21),S=function(M,x){var O=[];if(!Object(p.a)(M))return O;for(var C=-1,D=[],R=M.length;++C<R;){var y=M[C];x(y,C,M)&&(O.push(y),D.push(C))}return Object(E.a)(M,D),O};i.a=S},function(f,i,g){"use strict";var p=g(0),E=g(8),S=g(3);function A(M,x){var O;if(Object(S.a)(x))O=function(R,y){return x(R)-x(y)};else{var C=[];Object(E.a)(x)?C.push(x):Object(p.a)(x)&&(C=x),O=function(R,y){for(var w=0;w<C.length;w+=1){var N=C[w];if(R[N]>y[N])return 1;if(R[N]<y[N])return-1}return 0}}return M.sort(O),M}i.a=A},function(f,i,g){"use strict";var p=g(22),E=function(){for(var A=[],M=0;M<arguments.length;M++)A[M]=arguments[M];return Object(p.a)([].concat.apply([],A))};i.a=E},function(f,i,g){"use strict";var p=g(2),E=g(0),S=g(6);i.a=function(A,M){var x=[],O={};return A.forEach(function(C){var D=C[M];Object(S.a)(D)||(Object(E.a)(D)||(D=[D]),Object(p.a)(D,function(R){O[R]||(x.push(R),O[R]=!0)}))}),x}},function(f,i,g){"use strict";i.a=E;var p=g(1);function E(S){if(Object(p.a)(S))return S[0]}},function(f,i,g){"use strict";i.a=E;var p=g(1);function E(S){if(Object(p.a)(S)){var A=S;return A[A.length-1]}}},function(f,i,g){"use strict";var p=g(0),E=g(8);function S(A,M){return Object(p.a)(A)||Object(E.a)(A)?A[0]===M:!1}i.a=S},function(f,i,g){"use strict";var p=g(0),E=g(8);function S(A,M){return Object(p.a)(A)||Object(E.a)(A)?A[A.length-1]===M:!1}i.a=S},function(f,i,g){"use strict";var p=function(S,A){for(var M=0;M<S.length;M++)if(!A(S[M],M))return!1;return!0};i.a=p},function(f,i,g){"use strict";var p=function(S,A){for(var M=0;M<S.length;M++)if(A(S[M],M))return!0;return!1};i.a=p},function(f,i,g){"use strict";var p=g(23);i.a=function(E,S){if(!S)return[E];var A=Object(p.a)(E,S),M=[];for(var x in A)M.push(A[x]);return M}},function(f,i,g){"use strict";function p(E,S){return E["_wrap_"+S]}i.a=p},function(f,i,g){"use strict";function p(E,S){if(E["_wrap_"+S])return E["_wrap_"+S];var A=function(x){E[S](x)};return E["_wrap_"+S]=A,A}i.a=p},function(f,i,g){"use strict";var p={};function E(S){var A=p[S];if(!A){for(var M=S.toString(16),x=M.length;x<6;x++)M="0"+M;A="#"+M,p[S]=A}return A}i.a=E},function(f,i,g){"use strict";var p=g(0);function E(S){var A=0,M=0,x=0,O=0;return Object(p.a)(S)?S.length===1?A=M=x=O=S[0]:S.length===2?(A=x=S[0],M=O=S[1]):S.length===3?(A=S[0],M=O=S[1],x=S[2]):(A=S[0],M=S[1],x=S[2],O=S[3]):A=M=x=O=S,{r1:A,r2:M,r3:x,r4:O}}i.a=E},function(f,i,g){"use strict";var p=function(S,A,M){return S<A?A:S>M?M:S};i.a=p},function(f,i,g){"use strict";var p=function(S,A){var M=A.toString(),x=M.indexOf(".");if(x===-1)return Math.round(S);var O=M.substr(x+1).length;return O>20&&(O=20),parseFloat(S.toFixed(O))};i.a=p},function(f,i,g){"use strict";var p=g(5),E=function(A){return Object(p.a)(A)&&A%1!=0};i.a=E},function(f,i,g){"use strict";var p=g(5),E=function(A){return Object(p.a)(A)&&A%2==0};i.a=E},function(f,i,g){"use strict";var p=g(5),E=Number.isInteger?Number.isInteger:function(S){return Object(p.a)(S)&&S%1==0};i.a=E},function(f,i,g){"use strict";var p=g(5),E=function(A){return Object(p.a)(A)&&A<0};i.a=E},function(f,i,g){"use strict";i.a=E;var p=1e-5;function E(S,A,M){return M===void 0&&(M=p),Math.abs(S-A)<M}},function(f,i,g){"use strict";var p=g(5),E=function(A){return Object(p.a)(A)&&A%2!=0};i.a=E},function(f,i,g){"use strict";var p=g(5),E=function(A){return Object(p.a)(A)&&A>0};i.a=E},function(f,i,g){"use strict";var p=g(2),E=g(0),S=g(3);i.a=function(A,M){if(!!Object(E.a)(A)){var x=A[0],O;Object(S.a)(M)?O=M(A[0]):O=A[0][M];var C;return Object(p.a)(A,function(D){Object(S.a)(M)?C=M(D):C=D[M],C>O&&(x=D,O=C)}),x}}},function(f,i,g){"use strict";var p=g(2),E=g(0),S=g(3);i.a=function(A,M){if(!!Object(E.a)(A)){var x=A[0],O;Object(S.a)(M)?O=M(A[0]):O=A[0][M];var C;return Object(p.a)(A,function(D){Object(S.a)(M)?C=M(D):C=D[M],C<O&&(x=D,O=C)}),x}}},function(f,i,g){"use strict";var p=function(S,A){return(S%A+A)%A};i.a=p},function(f,i,g){"use strict";var p=180/Math.PI,E=function(A){return p*A};i.a=E},function(f,i,g){"use strict";i.a=parseInt},function(f,i,g){"use strict";var p=Math.PI/180,E=function(A){return p*A};i.a=E},function(f,i,g){"use strict";var p=g(2);i.a=p.a},function(f,i,g){"use strict";var p=g(25);i.a=p.a},function(f,i,g){"use strict";var p=g(12),E=g(26);i.a=function(S,A){return Object(p.a)(Object(E.a)(S),A)}},function(f,i,g){"use strict";var p=g(10),E=function(A){return Object(p.a)(A).toLowerCase()};i.a=E},function(f,i,g){"use strict";var p=g(10),E=function(A){var M=Object(p.a)(A);return M.charAt(0).toLowerCase()+M.substring(1)};i.a=E},function(f,i,g){"use strict";function p(E,S){return!E||!S?E:E.replace(/\\?\{([^{}]+)\}/g,function(A,M){return A.charAt(0)==="\\"?A.slice(1):S[M]===void 0?"":S[M]})}i.a=p},function(f,i,g){"use strict";var p=g(10),E=function(A){return Object(p.a)(A).toUpperCase()};i.a=E},function(f,i,g){"use strict";var p=g(10),E=function(A){var M=Object(p.a)(A);return M.charAt(0).toUpperCase()+M.substring(1)};i.a=E},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"Arguments")};i.a=E},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"Boolean")};i.a=E},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"Date")};i.a=E},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"Error")};i.a=E},function(f,i,g){"use strict";var p=g(5);i.a=function(E){return Object(p.a)(E)&&isFinite(E)}},function(f,i,g){"use strict";var p=function(S){return S===null};i.a=p},function(f,i,g){"use strict";var p=g(4),E=function(A){return Object(p.a)(A,"RegExp")};i.a=E},function(f,i,g){"use strict";var p=function(S){return S===void 0};i.a=p},function(f,i,g){"use strict";var p=function(S){return S instanceof Element||S instanceof HTMLDocument};i.a=p},function(f,i,g){"use strict";i.a=p;function p(E){var S=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(A){return setTimeout(A,16)};return S(E)}},function(f,i,g){"use strict";i.a=p;function p(E){var S=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;S(E)}},function(f,i,g){"use strict";var p=g(16),E=g(3),S=function(){for(var M=[],x=0;x<arguments.length;x++)M[x]=arguments[x];for(var O=M[0],C=1;C<M.length;C++){var D=M[C];Object(E.a)(D)&&(D=D.prototype),Object(p.a)(O.prototype,D)}};i.a=S},function(f,i,g){"use strict";var p=g(0),E=function S(A){if(typeof A!="object"||A===null)return A;var M;if(Object(p.a)(A)){M=[];for(var x=0,O=A.length;x<O;x++)typeof A[x]=="object"&&A[x]!=null?M[x]=S(A[x]):M[x]=A[x]}else{M={};for(var C in A)typeof A[C]=="object"&&A[C]!=null?M[C]=S(A[C]):M[C]=A[C]}return M};i.a=E},function(f,i,g){"use strict";function p(E,S,A){var M;return function(){var x=this,O=arguments,C=function(){M=null,A||E.apply(x,O)},D=A&&!M;clearTimeout(M),M=setTimeout(C,S),D&&E.apply(x,O)}}i.a=p},function(f,i,g){"use strict";var p=g(3);i.a=function(E,S){if(!Object(p.a)(E))throw new TypeError("Expected a function");var A=function M(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];var C=S?S.apply(this,x):x[0],D=M.cache;if(D.has(C))return D.get(C);var R=E.apply(this,x);return D.set(C,R),R};return A.cache=new Map,A}},function(f,i,g){"use strict";var p=g(0),E=g(9),S=5;function A(x,O,C,D){C=C||0,D=D||S;for(var R in O)if(O.hasOwnProperty(R)){var y=O[R];y!==null&&Object(E.a)(y)?(Object(E.a)(x[R])||(x[R]={}),C<D?A(x[R],y,C+1,D):x[R]=O[R]):Object(p.a)(y)?(x[R]=[],x[R]=x[R].concat(y)):y!==void 0&&(x[R]=y)}}var M=function(O){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];for(var R=0;R<C.length;R+=1)A(O,C[R]);return O};i.a=M},function(f,i,g){"use strict";var p=g(16),E=g(3),S=function(M,x,O,C){Object(E.a)(x)||(O=x,x=M,M=function(){});var D=Object.create?function(y,w){return Object.create(y,{constructor:{value:w}})}:function(y,w){function N(){}N.prototype=y;var z=new N;return z.constructor=w,z},R=D(x.prototype,M);return M.prototype=Object(p.a)(R,M.prototype),M.superclass=D(x.prototype,x),Object(p.a)(R,O),Object(p.a)(M,C),M};i.a=S},function(f,i,g){"use strict";var p=g(1),E=function(A,M){if(!Object(p.a)(A))return-1;var x=Array.prototype.indexOf;if(x)return x.call(A,M);for(var O=-1,C=0;C<A.length;C++)if(A[C]===M){O=C;break}return O};i.a=E},function(f,i,g){"use strict";var p=g(6),E=g(1),S=g(27),A=g(28),M=Object.prototype.hasOwnProperty;function x(O){if(Object(p.a)(O))return!0;if(Object(E.a)(O))return!O.length;var C=Object(S.a)(O);if(C==="Map"||C==="Set")return!O.size;if(Object(A.a)(O))return!Object.keys(O).length;for(var D in O)if(M.call(O,D))return!1;return!0}i.a=x},function(f,i,g){"use strict";var p=g(3),E=g(29);i.a=function(S,A,M){return Object(p.a)(M)?!!M(S,A):Object(E.a)(S,A)}},function(f,i,g){"use strict";var p=g(2),E=g(1),S=function(M,x){if(!Object(E.a)(M))return M;var O=[];return Object(p.a)(M,function(C,D){O.push(x(C,D))}),O};i.a=S},function(f,i,g){"use strict";var p=g(6),E=g(13),S=function(M){return M};i.a=function(A,M){M===void 0&&(M=S);var x={};return Object(E.a)(A)&&!Object(p.a)(A)&&Object.keys(A).forEach(function(O){x[O]=M(A[O],O)}),x}},function(f,i,g){"use strict";var p=g(8);i.a=function(E,S,A){for(var M=0,x=Object(p.a)(S)?S.split("."):S;E&&M<x.length;)E=E[x[M++]];return E===void 0||M<x.length?A:E}},function(f,i,g){"use strict";var p=g(13),E=g(8),S=g(5);i.a=function(A,M,x){var O=A,C=Object(E.a)(M)?M.split("."):M;return C.forEach(function(D,R){R<C.length-1?(Object(p.a)(O[D])||(O[D]=Object(S.a)(C[R+1])?[]:{}),O=O[D]):O[D]=x}),A}},function(f,i,g){"use strict";var p=g(2),E=g(9),S=Object.prototype.hasOwnProperty;i.a=function(A,M){if(A===null||!Object(E.a)(A))return{};var x={};return Object(p.a)(M,function(O){S.call(A,O)&&(x[O]=A[O])}),x}},function(f,i,g){"use strict";i.a=function(p,E,S){var A,M,x,O,C=0;S||(S={});var D=function(){C=S.leading===!1?0:Date.now(),A=null,O=p.apply(M,x),A||(M=x=null)},R=function(){var w=Date.now();!C&&S.leading===!1&&(C=w);var N=E-(w-C);return M=this,x=arguments,N<=0||N>E?(A&&(clearTimeout(A),A=null),C=w,O=p.apply(M,x),A||(M=x=null)):!A&&S.trailing!==!1&&(A=setTimeout(D,N)),O};return R.cancel=function(){clearTimeout(A),C=0,A=M=x=null},R}},function(f,i,g){"use strict";var p=g(1);i.a=function(E){return Object(p.a)(E)?Array.prototype.slice.call(E):[]}},function(f,i,g){"use strict";var p={};i.a=function(E){return E=E||"g",p[E]?p[E]+=1:p[E]=1,E+p[E]}},function(f,i,g){"use strict";i.a=function(){}},function(f,i,g){"use strict";i.a=function(p){return p}},function(f,i,g){"use strict";i.a=S;var p=g(6),E=g(1);function S(A){return Object(p.a)(A)?0:Object(E.a)(A)?A.length:Object.keys(A).length}},function(f,i,g){"use strict";var p=function(){function E(){this.map={}}return E.prototype.has=function(S){return this.map[S]!==void 0},E.prototype.get=function(S,A){var M=this.map[S];return M===void 0?A:M},E.prototype.set=function(S,A){this.map[S]=A},E.prototype.clear=function(){this.map={}},E.prototype.delete=function(S){delete this.map[S]},E.prototype.size=function(){return Object.keys(this.map).length},E}();i.a=p},function(f,i){function g(x,O,C,D){D===void 0&&(D=[]);var R=this;R.w=x||0,R.h=O||0,R.y=C||0,R.x=0,R.c=D||[],R.cs=D.length,R.prelim=0,R.mod=0,R.shift=0,R.change=0,R.tl=null,R.tr=null,R.el=null,R.er=null,R.msel=0,R.mser=0}g.fromNode=function(x,O){if(!x)return null;var C=[];return x.children.forEach(function(D){C.push(g.fromNode(D,O))}),O?new g(x.height,x.width,x.x,C):new g(x.width,x.height,x.y,C)};function p(x,O,C){C?x.y+=O:x.x+=O,x.children.forEach(function(D){p(D,O,C)})}function E(x,O){var C=O?x.y:x.x;return x.children.forEach(function(D){C=Math.min(E(D,O),C)}),C}function S(x,O){var C=E(x,O);p(x,-C,O)}function A(x,O,C){C?O.y=x.x:O.x=x.x,x.c.forEach(function(D,R){A(D,O.children[R],C)})}function M(x,O,C){C===void 0&&(C=0),O?(x.x=C,C+=x.width):(x.y=C,C+=x.height),x.children.forEach(function(D){M(D,O,C)})}f.exports=function(x,O){O===void 0&&(O={});var C=O.isHorizontal;function D(_){if(_.cs===0){R(_);return}D(_.c[0]);for(var Y=st(V(_.c[0].el),0,null),$=1;$<_.cs;++$){D(_.c[$]);var q=V(_.c[$].er);y(_,$,Y),Y=st(q,$,Y)}T(_),R(_)}function R(_){_.cs===0?(_.el=_,_.er=_,_.msel=_.mser=0):(_.el=_.c[0].el,_.msel=_.c[0].msel,_.er=_.c[_.cs-1].er,_.mser=_.c[_.cs-1].mser)}function y(_,Y,$){for(var q=_.c[Y-1],at=q.mod,pt=_.c[Y],mt=pt.mod;q!==null&&pt!==null;){V(q)>$.low&&($=$.nxt);var ot=at+q.prelim+q.w-(mt+pt.prelim);ot>0&&(mt+=ot,w(_,Y,$.index,ot));var xt=V(q),It=V(pt);xt<=It&&(q=z(q),q!==null&&(at+=q.mod)),xt>=It&&(pt=N(pt),pt!==null&&(mt+=pt.mod))}!q&&!!pt?B(_,Y,pt,mt):!!q&&!pt&&P(_,Y,q,at)}function w(_,Y,$,q){_.c[Y].mod+=q,_.c[Y].msel+=q,_.c[Y].mser+=q,Q(_,Y,$,q)}function N(_){return _.cs===0?_.tl:_.c[0]}function z(_){return _.cs===0?_.tr:_.c[_.cs-1]}function V(_){return _.y+_.h}function B(_,Y,$,q){var at=_.c[0].el;at.tl=$;var pt=q-$.mod-_.c[0].msel;at.mod+=pt,at.prelim-=pt,_.c[0].el=_.c[Y].el,_.c[0].msel=_.c[Y].msel}function P(_,Y,$,q){var at=_.c[Y].er;at.tr=$;var pt=q-$.mod-_.c[Y].mser;at.mod+=pt,at.prelim-=pt,_.c[Y].er=_.c[Y-1].er,_.c[Y].mser=_.c[Y-1].mser}function T(_){_.prelim=(_.c[0].prelim+_.c[0].mod+_.c[_.cs-1].mod+_.c[_.cs-1].prelim+_.c[_.cs-1].w)/2-_.w/2}function W(_,Y){Y+=_.mod,_.x=_.prelim+Y,nt(_);for(var $=0;$<_.cs;$++)W(_.c[$],Y)}function Q(_,Y,$,q){if($!==Y-1){var at=Y-$;_.c[$+1].shift+=q/at,_.c[Y].shift-=q/at,_.c[Y].change-=q-q/at}}function nt(_){for(var Y=0,$=0,q=0;q<_.cs;q++)Y+=_.c[q].shift,$+=Y+_.c[q].change,_.c[q].mod+=$}function st(_,Y,$){for(;$!==null&&_>=$.low;)$=$.nxt;return{low:_,index:Y,nxt:$}}M(x,C);var et=g.fromNode(x,C);return D(et),W(et,0),A(et,x,C),S(x,C),x}},function(f,i,g){function p(D,R){D.prototype=Object.create(R.prototype),D.prototype.constructor=D,D.__proto__=R}var E=g(11),S=g(115),A=g(17),M=g(7),x=function(D){p(R,D);function R(){return D.apply(this,arguments)||this}var y=R.prototype;return y.execute=function(){var N=this;return N.rootNode.width=0,A(N.rootNode,N.options,S)},R}(E),O={};function C(D,R){return R=M.assign({},O,R),new x(D,R).execute()}f.exports=C},function(f,i,g){var p=g(7);function E(M,x){M===void 0&&(M=0),x===void 0&&(x=[]);var O=this;O.x=O.y=0,O.leftChild=O.rightChild=null,O.height=0,O.children=x}var S={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function A(M,x,O){O?(x.x=M.x,x.y=M.y):(x.x=M.y,x.y=M.x),M.children.forEach(function(C,D){A(C,x.children[D],O)})}f.exports=function(M,x){x===void 0&&(x={}),x=p.assign({},S,x);var O=0;function C(N){if(!N)return null;N.width=0,N.depth&&N.depth>O&&(O=N.depth);var z=N.children,V=z.length,B=new E(N.height,[]);return z.forEach(function(P,T){var W=C(P);B.children.push(W),T===0&&(B.leftChild=W),T===V-1&&(B.rightChild=W)}),B.originNode=N,B.isLeaf=N.isLeaf(),B}function D(N){if(N.isLeaf||N.children.length===0)N.drawingDepth=O;else{var z=N.children.map(function(B){return D(B)}),V=Math.min.apply(null,z);N.drawingDepth=V-1}return N.drawingDepth}var R;function y(N){N.x=N.drawingDepth*x.rankSep,N.isLeaf?(N.y=0,R&&(N.y=R.y+R.height+x.nodeSep,N.originNode.parent!==R.originNode.parent&&(N.y+=x.subTreeSep)),R=N):(N.children.forEach(function(z){y(z)}),N.y=(N.leftChild.y+N.rightChild.y)/2)}var w=C(M);return D(w),y(w),A(w,M,x.isHorizontal),M}},function(f,i,g){function p(y,w){y.prototype=Object.create(w.prototype),y.prototype.constructor=y,y.__proto__=w}var E=g(11),S=g(117),A=g(30),M=g(7),x=["LR","RL","H"],O=x[0],C=function(y){p(w,y);function w(){return y.apply(this,arguments)||this}var N=w.prototype;return N.execute=function(){var V=this,B=V.options,P=V.rootNode;B.isHorizontal=!0;var T=B.indent,W=T===void 0?20:T,Q=B.dropCap,nt=Q===void 0?!0:Q,st=B.direction||O;if(st&&x.indexOf(st)===-1)throw new TypeError("Invalid direction: "+st);if(st===x[0])S(P,W,nt);else if(st===x[1])S(P,W,nt),P.right2left();else if(st===x[2]){var et=A(P,B),_=et.left,Y=et.right;S(_,W,nt),_.right2left(),S(Y,W,nt);var $=_.getBoundingBox();Y.translate($.width,0),P.x=Y.x-P.width/2}return P},w}(E),D={};function R(y,w){return w=M.assign({},D,w),new C(y,w).execute()}f.exports=R},function(f,i){function g(p,E,S,A){if(!A)try{if(p.id===p.parent.children[0].id){p.x+=S*p.depth,p.y=E?E.y:0;return}}catch(M){}p.x+=S*p.depth,p.y=E?E.y+E.height:0}f.exports=function(p,E,S){var A=null;p.eachNode(function(M){g(M,A,E,S),A=M})}},function(f,i,g){function p(D,R){D.prototype=Object.create(R.prototype),D.prototype.constructor=D,D.__proto__=R}var E=g(11),S=g(119),A=g(17),M=g(7),x=function(D){p(R,D);function R(){return D.apply(this,arguments)||this}var y=R.prototype;return y.execute=function(){var N=this;return A(N.rootNode,N.options,S)},R}(E),O={};function C(D,R){return R=M.assign({},O,R),new x(D,R).execute()}f.exports=C},function(f,i,g){var p=g(7);function E(M,x){var O=0;return M.children.length?M.children.forEach(function(C){O+=E(C,x)}):O=M.height,M._subTreeSep=x.getSubTreeSep(M.data),M.totalHeight=Math.max(M.height,O)+2*M._subTreeSep,M.totalHeight}function S(M){var x=M.children,O=x.length;if(O){x.forEach(function(N){S(N)});var C=x[0],D=x[O-1],R=D.y-C.y+D.height,y=0;if(x.forEach(function(N){y+=N.totalHeight}),R>M.height)M.y=C.y+R/2-M.height/2;else if(x.length!==1||M.height>y){var w=M.y+(M.height-R)/2-C.y;x.forEach(function(N){N.translate(0,w)})}else M.y=(C.y+C.height/2+D.y+D.height/2)/2-M.height/2}}var A={getSubTreeSep:function(){return 0}};f.exports=function(M,x){x===void 0&&(x={}),x=p.assign({},A,x),M.parent={x:0,width:0,height:0,y:0},M.BFTraverse(function(O){O.x=O.parent.x+O.parent.width}),M.parent=null,E(M,x),M.startY=0,M.y=M.totalHeight/2-M.height/2,M.eachNode(function(O){var C=O.children,D=C.length;if(D){var R=C[0];if(R.startY=O.startY+O._subTreeSep,D===1)R.y=O.y+O.height/2-R.height/2;else{R.y=R.startY+R.totalHeight/2-R.height/2;for(var y=1;y<D;y++){var w=C[y];w.startY=C[y-1].startY+C[y-1].totalHeight,w.y=w.startY+w.totalHeight/2-w.height/2}}}}),S(M)}}])})},BYeR:function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("w02o"),E=a("YuPD"),S=a("tKoa");function A(N){var z=N.data,V=N.xField,B=N.measureField,P=N.rangeField,T=N.targetField,W=N.layout,Q=[],nt=[];z.forEach(function(_,Y){var $;_[P].sort(function(q,at){return q-at}),_[P].forEach(function(q,at){var pt,mt=at===0?q:_[P][at]-_[P][at-1];Q.push((pt={rKey:P+"_"+at},pt[V]=V?_[V]:String(Y),pt[P]=mt,pt))}),_[B].forEach(function(q,at){var pt;Q.push((pt={mKey:_[B].length>1?B+"_"+at:""+B},pt[V]=V?_[V]:String(Y),pt[B]=q,pt))}),Q.push(($={tKey:""+T},$[V]=V?_[V]:String(Y),$[T]=_[T],$)),nt.push(_[P],_[B],_[T])});var st=Math.min.apply(Math,nt.flat(Infinity)),et=Math.max.apply(Math,nt.flat(Infinity));return st=st>0?0:st,W==="vertical"&&Q.reverse(),{min:st,max:et,ds:Q}}function M(N){var z=N.chart,V=N.options,B=V.bulletStyle,P=V.targetField,T=V.rangeField,W=V.measureField,Q=V.xField,nt=V.color,st=V.layout,et=V.size,_=V.label,Y=A(V),$=Y.min,q=Y.max,at=Y.ds;z.data(at);var pt=Object(E.b)({},N,{options:{xField:Q,yField:T,seriesField:"rKey",isStack:!0,label:Object(g.s)(_,"range"),interval:{color:Object(g.s)(nt,"range"),style:Object(g.s)(B,"range"),size:Object(g.s)(et,"range")}}});Object(S.c)(pt),z.geometries[0].tooltip(!1);var mt=Object(E.b)({},N,{options:{xField:Q,yField:W,seriesField:"mKey",isStack:!0,label:Object(g.s)(_,"measure"),interval:{color:Object(g.s)(nt,"measure"),style:Object(g.s)(B,"measure"),size:Object(g.s)(et,"measure")}}});Object(S.c)(mt);var ot=Object(E.b)({},N,{options:{xField:Q,yField:P,seriesField:"tKey",label:Object(g.s)(_,"target"),point:{color:Object(g.s)(nt,"target"),style:Object(g.s)(B,"target"),size:Object(g.H)(Object(g.s)(et,"target"))?function(xt){return Object(g.s)(et,"target")(xt)/2}:Object(g.s)(et,"target")/2,shape:st==="horizontal"?"line":"hyphen"}}});return Object(S.e)(ot),st==="horizontal"&&z.coordinate().transpose(),Object(f.a)(Object(f.a)({},N),{ext:{data:{min:$,max:q}}})}function x(N){var z,V,B=N.options,P=N.ext,T=B.xAxis,W=B.yAxis,Q=B.targetField,nt=B.rangeField,st=B.measureField,et=B.xField,_=P.data;return Object(E.e)(Object(p.f)((z={},z[et]=T,z[st]=W,z),(V={},V[st]={min:_==null?void 0:_.min,max:_==null?void 0:_.max},V[Q]={sync:""+st},V[nt]={sync:""+st},V)))(N)}function O(N){var z=N.chart,V=N.options,B=V.xAxis,P=V.yAxis,T=V.xField,W=V.measureField,Q=V.rangeField,nt=V.targetField;return z.axis(""+Q,!1),z.axis(""+nt,!1),B===!1?z.axis(""+T,!1):z.axis(""+T,B),P===!1?z.axis(""+W,!1):z.axis(""+W,P),N}function C(N){var z=N.chart,V=N.options,B=V.legend;return z.removeInteraction("legend-filter"),z.legend(B),z.legend("rKey",!1),z.legend("mKey",!1),z.legend("tKey",!1),N}function D(N){var z=N.chart,V=N.options,B=V.label,P=V.measureField,T=V.targetField,W=V.rangeField,Q=z.geometries,nt=Q[0],st=Q[1],et=Q[2];return Object(g.s)(B,"range")?nt.label(""+W,Object(f.a)({layout:[{type:"limit-in-plot"}]},Object(E.u)(B.range))):nt.label(!1),Object(g.s)(B,"measure")?st.label(""+P,Object(f.a)({layout:[{type:"limit-in-plot"}]},Object(E.u)(B.measure))):st.label(!1),Object(g.s)(B,"target")?et.label(""+T,Object(f.a)({layout:[{type:"limit-in-plot"}]},Object(E.u)(B.target))):et.label(!1),N}function R(N){Object(E.e)(M,x,O,C,p.j,D,p.k,p.c,p.a)(N)}var y=Object(E.b)({},i.b.getDefaultOptions(),{layout:"horizontal",size:{range:30,measure:20,target:20},xAxis:{tickLine:!1,line:null},bulletStyle:{range:{fillOpacity:.5}},label:{measure:{position:"right"}},tooltip:{showMarkers:!1}}),w=function(N){Object(f.c)(z,N);function z(){var V=N!==null&&N.apply(this,arguments)||this;return V.type="bullet",V}return z.getDefaultOptions=function(){return y},z.prototype.changeData=function(V){this.updateOption({data:V});var B=A(this.options),P=B.min,T=B.max,W=B.ds;x({options:this.options,ext:{data:{min:P,max:T}},chart:this.chart}),this.chart.changeData(W)},z.prototype.getSchemaAdaptor=function(){return R},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z}(i.b)},BgvD:function(Ft,I,a){"use strict";a.d(I,"b",function(){return O}),a.d(I,"a",function(){return R});var f=a("iTfj"),i="\u2026";function g(y){for(var w=0,N=0;N<y.length;N++)w+=p(y,N);return w}function p(y,w){return y.charCodeAt(w)>0&&y.charCodeAt(w)<128?1:2}function E(y,w,N){N===void 0&&(N="tail");var z=y.length,V="";if(N==="tail"){for(var B=0,P=0;B<w;){var T=p(y,P);if(B+T<=w)V+=y[P],B+=p(y,P),P++;else break}V+=i}else if(N==="head"){for(var B=0,P=z-1;B<w;){var T=p(y,P);if(B+T<=w)V+=y[P],B+=p(y,P),P--;else break}V=i+V}else{for(var W="",Q="",B=0,nt=0,st=z-1;B<w;){var et=p(y,nt),_=!1;et+B<=w&&(W+=y[nt],nt++,B+=et,_=!0);var Y=p(y,st);if(Y+B<=w&&(Q=y[st]+Q,B+=Y,st--,_=!0),!_)break}V=W+i+Q}return V}var S="\u2026",A=2,M=400;function x(y){for(var w=y.map(function(W){var Q=W.attr("text");return Object(f.I)(Q)?"":""+Q}),N=0,z=0,V=0;V<w.length;V+=1){for(var B=0,P=0;P<=w[V].length;P+=1){var T=w[V].charCodeAt(P);T>=19968&&T<=40869?B+=2:B+=1}B>N&&(N=B,z=V)}return y[z].getBBox().width}function O(y){if(y.length>M)return x(y);var w=0;return Object(f.j)(y,function(N){var z=N.getBBox(),V=z.width;w<V&&(w=V)}),w}function C(y,w){var N=w.getCanvasBBox();return y?N.width:N.height}function D(y,w){return y.getBBox().width<w}function R(y,w,N,z){z===void 0&&(z="tail");var V=w.attr("text"),B=C(y,w),P=g(V),T=!1;if(N<B){var W=Math.floor(N/B*P)-A,Q=void 0;W>=0?Q=E(V,W,z):Q=S,Q&&(w.attr("text",Q),T=!0)}return T?w.set("tip",V):w.set("tip",null),T}},BiGR:function(Ft,I,a){var f=a("nmnc"),i=a("03A+"),g=a("Z0cm"),p=f?f.isConcatSpreadable:void 0;function E(S){return g(S)||i(S)||!!(p&&S&&S[p])}Ft.exports=E},BkRI:function(Ft,I,a){var f=a("OBhP"),i=1,g=4;function p(E){return f(E,i|g)}Ft.exports=p},Bu3x:function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i[0]/g[0],f[1]=i[1]/g[1],f}},BwSJ:function(Ft,I,a){"use strict";a.d(I,"a",function(){return N});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj");function p(z,V){var B=Math.floor(z/V);return[V*B,V*(B+1)]}function E(z){return Math.ceil(Math.log(z.length)/Math.LN2)+1}function S(z,V,B,P,T){var W=Object(g.e)(z);Object(g.lb)(W,V);var Q=Object(g.vb)(W,V),nt=Object(g.t)(Q),st=nt.max-nt.min,et=B;if(!B&&P&&(et=st/P),!B&&!P){var _=E(Q);et=st/_}var Y={},$=Object(g.v)(W,T);Object(g.F)($)?Object(g.j)(W,function(at){var pt=at[V],mt=p(pt,et),ot=mt[0]+"-"+mt[1];Object(g.x)(Y,ot)||(Y[ot]={range:mt,count:0}),Y[ot].count+=1}):Object.keys($).forEach(function(at){Object(g.j)($[at],function(pt){var mt=pt[V],ot=p(mt,et),xt=ot[0]+"-"+ot[1],It=xt+"-"+at;Object(g.x)(Y,It)||(Y[It]={range:ot,count:0},Y[It][T]=at),Y[It].count+=1})});var q=[];return Object(g.j)(Y,function(at){q.push(at)}),q}var A=a("w02o"),M=a("YuPD"),x=a("tKoa");function O(z){var V=z.chart,B=z.options,P=B.data,T=B.binField,W=B.binNumber,Q=B.binWidth,nt=B.color,st=B.stackField,et=B.legend,_=B.columnStyle,Y=S(P,T,Q,W,st);V.data(Y);var $=Object(M.b)({},z,{options:{xField:"range",yField:"count",seriesField:st,isStack:!0,interval:{color:nt,style:_}}});return Object(x.c)($),et&&st&&V.legend(st,et),z}function C(z){var V=z.options,B=V.xAxis,P=V.yAxis;return Object(M.e)(Object(A.f)({range:B,count:P}))(z)}function D(z){var V=z.chart,B=z.options,P=B.xAxis,T=B.yAxis;return P===!1?V.axis("range",!1):V.axis("range",P),T===!1?V.axis("count",!1):V.axis("count",T),z}function R(z){var V=z.chart,B=z.options,P=B.label,T=Object(M.c)(V,"interval");if(!P)T.label(!1);else{var W=P.callback,Q=Object(f.e)(P,["callback"]);T.label({fields:["count"],callback:W,cfg:Object(M.u)(Q)})}return z}function y(z){return Object(M.e)(O,C,D,A.j,A.i,R,A.k,A.c,A.a)(z)}var w=Object(M.b)({},i.b.getDefaultOptions(),{columnStyle:{stroke:"#FFFFFF"},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),N=function(z){Object(f.c)(V,z);function V(){var B=z!==null&&z.apply(this,arguments)||this;return B.type="histogram",B}return V.getDefaultOptions=function(){return w},V.prototype.changeData=function(B){this.updateOption({data:B});var P=this.options,T=P.binField,W=P.binNumber,Q=P.binWidth,nt=P.stackField;this.chart.changeData(S(B,T,Q,W,nt))},V.prototype.getDefaultOptions=function(){return V.getDefaultOptions()},V.prototype.getSchemaAdaptor=function(){return y},V}(i.b)},C3Dj:function(Ft,I){Ft.exports=a;function a(f,i){var g=i[0]-f[0],p=i[1]-f[1];return g*g+p*p}},C4tZ:function(Ft,I,a){"use strict";var f=a("6Ekc"),i=f.longestPath,g=a("GEWS"),p=a("dOj1");Ft.exports=E;function E(x){switch(x.graph().ranker){case"network-simplex":M(x);break;case"tight-tree":A(x);break;case"longest-path":S(x);break;default:M(x)}}var S=i;function A(x){i(x),g(x)}function M(x){p(x)}},CGoQ:function(Ft,I,a){Ft.exports=a("M5u/")},CMye:function(Ft,I,a){var f=a("GoyQ");function i(g){return g===g&&!f(g)}Ft.exports=i},CSvP:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(){return 0}I.b=function(i){return function(){return i}}},CZoQ:function(Ft,I){function a(f,i,g){for(var p=g-1,E=f.length;++p<E;)if(f[p]===i)return p;return-1}Ft.exports=a},"Ch+T":function(Ft,I,a){"use strict";a.r(I),a.d(I,"Html",function(){return N});var f=a("mrSG"),i=a("6UX8"),g=a("fIp6"),p=a("iTfj"),E=a("de35"),S=a("5UbV"),A=a("u60a"),M=a("L16w"),x,O=(x={},x[""+A.CONTAINER_CLASS]={position:"absolute",visibility:"visible",zIndex:8,transition:"visibility 0.2s cubic-bezier(0.23, 1, 0.32, 1), left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)",backgroundColor:"rgba(255, 255, 255, 0.9)",boxShadow:"0px 0px 10px #aeaeae",borderRadius:"3px",color:"rgb(87, 87, 87)",fontSize:"12px",fontFamily:M.a.fontFamily,lineHeight:"20px",padding:"10px 10px 6px 10px"},x[""+A.TITLE_CLASS]={marginBottom:"4px"},x[""+A.LIST_CLASS]={margin:"0px",listStyleType:"none",padding:"0px"},x[""+A.LIST_ITEM_CLASS]={listStyleType:"none",marginBottom:"4px"},x[""+A.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},x[""+A.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},x[""+A.CROSSHAIR_X]={position:"absolute",width:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x[""+A.CROSSHAIR_Y]={position:"absolute",height:"1px",backgroundColor:"rgba(0, 0, 0, 0.25)"},x);function C(z,V,B,P,T){var W={left:z<T.x,right:z+B>T.x+T.width,top:V<T.y,bottom:V+P>T.y+T.height};return W}function D(z,V,B,P,T,W){var Q=z,nt=V;switch(W){case"left":Q=z-P-B,nt=V-T/2;break;case"right":Q=z+B,nt=V-T/2;break;case"top":Q=z-P/2,nt=V-T-B;break;case"bottom":Q=z-P/2,nt=V+B;break;default:Q=z+B,nt=V-T-B;break}return{x:Q,y:nt}}function R(z,V,B,P,T,W,Q){var nt=D(z,V,B,P,T,W);if(Q){var st=C(nt.x,nt.y,P,T,Q);W==="auto"?(st.right&&(nt.x=Math.max(0,z-P-B)),st.top&&(nt.y=Math.max(0,V-T-B))):W==="top"||W==="bottom"?(st.left&&(nt.x=Q.x),st.right&&(nt.x=Q.x+Q.width-P),W==="top"&&st.top&&(nt.y=V+B),W==="bottom"&&st.bottom&&(nt.y=V-T-B)):(st.top&&(nt.y=Q.y),st.bottom&&(nt.y=Q.y+Q.height-T),W==="left"&&st.left&&(nt.x=z+B),W==="right"&&st.right&&(nt.x=z-P-B))}return nt}function y(z,V){var B=!1;return Object(p.j)(V,function(P){if(Object(p.x)(z,P))return B=!0,!1}),B}var w=function(z){Object(f.c)(V,z);function V(){return z!==null&&z.apply(this,arguments)||this}return V.prototype.getDefaultCfg=function(){var B=z.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},B),{name:"tooltip",type:"html",x:0,y:0,items:[],customContent:null,containerTpl:'<div class="'+A.CONTAINER_CLASS+'"><div class="'+A.TITLE_CLASS+'"></div><ul class="'+A.LIST_CLASS+'"></ul></div>',itemTpl:'<li class="'+A.LIST_ITEM_CLASS+`" data-index={index}>
          <span class="`+A.MARKER_CLASS+`" style="background:{color}"></span>
          <span class="`+A.NAME_CLASS+`">{name}</span>:
          <span class="`+A.VALUE_CLASS+`">{value}</span>
        </li>`,xCrosshairTpl:'<div class="'+A.CROSSHAIR_X+'"></div>',yCrosshairTpl:'<div class="'+A.CROSSHAIR_Y+'"></div>',title:null,showTitle:!0,region:null,crosshairsRegion:null,containerClassName:A.CONTAINER_CLASS,crosshairs:null,offset:10,position:"right",domStyles:null,defaultStyles:O})},V.prototype.render=function(){this.get("customContent")?this.renderCustomContent():(this.resetTitle(),this.renderItems()),this.resetPosition()},V.prototype.clear=function(){this.clearCrosshairs(),this.setTitle(""),this.clearItemDoms()},V.prototype.show=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!0),Object(g.e)(B,{visibility:"visible"}),this.setCrossHairsVisible(!0))},V.prototype.hide=function(){var B=this.getContainer();!B||this.destroyed||(this.set("visible",!1),Object(g.e)(B,{visibility:"hidden"}),this.setCrossHairsVisible(!1))},V.prototype.getLocation=function(){return{x:this.get("x"),y:this.get("y")}},V.prototype.setLocation=function(B){this.set("x",B.x),this.set("y",B.y),this.resetPosition()},V.prototype.setCrossHairsVisible=function(B){var P=B?"":"none",T=this.get("xCrosshairDom"),W=this.get("yCrosshairDom");T&&Object(g.e)(T,{display:P}),W&&Object(g.e)(W,{display:P})},V.prototype.initContainer=function(){if(z.prototype.initContainer.call(this),this.get("customContent")){this.get("container")&&this.get("container").remove();var B=this.getHtmlContentNode();this.get("parent").appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()}},V.prototype.updateInner=function(B){this.get("customContent")?this.renderCustomContent():(y(B,["title","showTitle"])&&this.resetTitle(),Object(p.x)(B,"items")&&this.renderItems()),z.prototype.updateInner.call(this,B)},V.prototype.initDom=function(){this.cacheDoms()},V.prototype.removeDom=function(){z.prototype.removeDom.call(this),this.clearCrosshairs()},V.prototype.resetPosition=function(){var B=this.get("x"),P=this.get("y"),T=this.get("offset"),W=this.getOffset(),Q=W.offsetX,nt=W.offsetY,st=this.get("position"),et=this.get("region"),_=this.getContainer(),Y=this.getBBox(),$=Y.width,q=Y.height,at;et&&(at=Object(S.k)(et));var pt=R(B,P,T,$,q,st,at);Object(g.e)(_,{left:Object(S.l)(pt.x+Q),top:Object(S.l)(pt.y+nt)}),this.resetCrosshairs()},V.prototype.renderCustomContent=function(){var B=this.getHtmlContentNode(),P=this.get("parent"),T=this.get("container");T&&T.parentNode===P?P.replaceChild(B,T):P.appendChild(B),this.set("container",B),this.resetStyles(),this.applyStyles()},V.prototype.getHtmlContentNode=function(){var B,P=this.get("customContent");if(P){var T=P(this.get("title"),this.get("items"));Object(p.E)(T)?B=T:B=Object(g.b)(T)}return B},V.prototype.cacheDoms=function(){var B=this.getContainer(),P=B.getElementsByClassName(A.TITLE_CLASS)[0],T=B.getElementsByClassName(A.LIST_CLASS)[0];this.set("titleDom",P),this.set("listDom",T)},V.prototype.resetTitle=function(){var B=this.get("title"),P=this.get("showTitle");P&&B?this.setTitle(B):this.setTitle("")},V.prototype.setTitle=function(B){var P=this.get("titleDom");P&&(P.innerText=B)},V.prototype.resetCrosshairs=function(){var B=this.get("crosshairsRegion"),P=this.get("crosshairs");if(!B||!P)this.clearCrosshairs();else{var T=Object(S.k)(B),W=this.get("xCrosshairDom"),Q=this.get("yCrosshairDom");P==="x"?(this.resetCrosshair("x",T),Q&&(Q.remove(),this.set("yCrosshairDom",null))):P==="y"?(this.resetCrosshair("y",T),W&&(W.remove(),this.set("xCrosshairDom",null))):(this.resetCrosshair("x",T),this.resetCrosshair("y",T)),this.setCrossHairsVisible(this.get("visible"))}},V.prototype.resetCrosshair=function(B,P){var T=this.checkCrosshair(B),W=this.get(B);B==="x"?Object(g.e)(T,{left:Object(S.l)(W),top:Object(S.l)(P.y),height:Object(S.l)(P.height)}):Object(g.e)(T,{top:Object(S.l)(W),left:Object(S.l)(P.x),width:Object(S.l)(P.width)})},V.prototype.checkCrosshair=function(B){var P=B+"CrosshairDom",T=B+"CrosshairTpl",W="CROSSHAIR_"+B.toUpperCase(),Q=A[W],nt=this.get(P),st=this.get("parent");return nt||(nt=Object(g.b)(this.get(T)),this.applyStyle(Q,nt),st.appendChild(nt),this.set(P,nt)),nt},V.prototype.renderItems=function(){this.clearItemDoms();var B=this.get("items"),P=this.get("itemTpl"),T=this.get("listDom");T&&(Object(p.j)(B,function(W){var Q=i.a.toCSSGradient(W.color),nt=Object(f.a)(Object(f.a)({},W),{color:Q}),st=Object(p.mb)(P,nt),et=Object(g.b)(st);T.appendChild(et)}),this.applyChildrenStyles(T,this.get("domStyles")))},V.prototype.clearItemDoms=function(){this.get("listDom")&&Object(S.a)(this.get("listDom"))},V.prototype.clearCrosshairs=function(){var B=this.get("xCrosshairDom"),P=this.get("yCrosshairDom");B&&B.remove(),P&&P.remove(),this.set("xCrosshairDom",null),this.set("yCrosshairDom",null)},V}(E.a),N=w},Cq4r:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=Math.floor(i[0]),f[1]=Math.floor(i[1]),f}},Cr25:function(Ft,I,a){"use strict";a.d(I,"a",function(){return x});var f=a("mrSG"),i=a("kXyF"),g=a("zJSt"),p=a("YuPD"),E=a("TZmy"),S=a("PLvT"),A=a("iIqE"),M=a("nmoi"),x=function(O){Object(f.c)(C,O);function C(){var D=O!==null&&O.apply(this,arguments)||this;return D.type="pie",D}return C.getDefaultOptions=function(){return S.a},C.prototype.changeData=function(D){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null));var R=this.options,y=this.options.angleField,w=Object(p.q)(R.data,y),N=Object(p.q)(D,y);Object(A.c)(w,y)||Object(A.c)(N,y)?this.update({data:D}):(this.updateOption({data:D}),this.chart.data(N),Object(E.b)({chart:this.chart,options:this.options}),this.chart.render(!0)),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},C.prototype.getDefaultOptions=function(){return C.getDefaultOptions()},C.prototype.getSchemaAdaptor=function(){return E.a},C}(g.b)},D9lx:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingInWhenOnSyntax=void 0;var f=a("6AGu"),i=a("406g"),g=a("z4Hk"),p=function(){function E(S){this._binding=S,this._bindingWhenSyntax=new g.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding),this._bindingInSyntax=new f.BindingInSyntax(S)}return E.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},E.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},E.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},E.prototype.when=function(S){return this._bindingWhenSyntax.when(S)},E.prototype.whenTargetNamed=function(S){return this._bindingWhenSyntax.whenTargetNamed(S)},E.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},E.prototype.whenTargetTagged=function(S,A){return this._bindingWhenSyntax.whenTargetTagged(S,A)},E.prototype.whenInjectedInto=function(S){return this._bindingWhenSyntax.whenInjectedInto(S)},E.prototype.whenParentNamed=function(S){return this._bindingWhenSyntax.whenParentNamed(S)},E.prototype.whenParentTagged=function(S,A){return this._bindingWhenSyntax.whenParentTagged(S,A)},E.prototype.whenAnyAncestorIs=function(S){return this._bindingWhenSyntax.whenAnyAncestorIs(S)},E.prototype.whenNoAncestorIs=function(S){return this._bindingWhenSyntax.whenNoAncestorIs(S)},E.prototype.whenAnyAncestorNamed=function(S){return this._bindingWhenSyntax.whenAnyAncestorNamed(S)},E.prototype.whenAnyAncestorTagged=function(S,A){return this._bindingWhenSyntax.whenAnyAncestorTagged(S,A)},E.prototype.whenNoAncestorNamed=function(S){return this._bindingWhenSyntax.whenNoAncestorNamed(S)},E.prototype.whenNoAncestorTagged=function(S,A){return this._bindingWhenSyntax.whenNoAncestorTagged(S,A)},E.prototype.whenAnyAncestorMatches=function(S){return this._bindingWhenSyntax.whenAnyAncestorMatches(S)},E.prototype.whenNoAncestorMatches=function(S){return this._bindingWhenSyntax.whenNoAncestorMatches(S)},E.prototype.onActivation=function(S){return this._bindingOnSyntax.onActivation(S)},E}();I.BindingInWhenOnSyntax=p},DMQx:function(Ft,I,a){"use strict";a.d(I,"b",function(){return P}),a.d(I,"a",function(){return nt});var f=a("mrSG"),i=a("YuPD"),g=a("w02o"),p=a("iTfj"),E=a("kXyF"),S=a("5OoT");function A(st,et){return Object(i.b)({size:et?32:80,spacing:et?8:12,offset:et?32:0,arrow:st.arrow!==!1&&{headSize:12,style:{fill:"rgba(0, 0, 0, 0.05)"}},text:st.text!==!1&&{style:{fontSize:12,fill:"rgba(0, 0, 0, 0.85)",textAlign:"center",textBaseline:"middle"},formatter:S.a}},st)}function M(st,et){return Object(p.U)(et.getModel().points,function(_){return st.convertPoint(_)})}function x(st,et,_){var Y=st.view,$=st.geometry,q=st.group,at=st.options,pt=st.horizontal,mt=at.offset,ot=at.size,xt=at.arrow,It=Y.getCoordinate(),Ht=M(It,et)[pt?3:0],Qt=M(It,_)[pt?0:3],$t=Qt.y-Ht.y,yt=Qt.x-Ht.x;if(typeof xt!="boolean"){var ut=xt.headSize,ft=at.spacing,it;pt?(yt-ut)/2<ft?(ft=Math.max(1,(yt-ut)/2),it=[[Ht.x+ft,Ht.y-mt],[Ht.x+ft,Ht.y-mt-ot],[Qt.x-ft,Qt.y-mt-ot/2]]):it=[[Ht.x+ft,Ht.y-mt],[Ht.x+ft,Ht.y-mt-ot],[Qt.x-ft-ut,Qt.y-mt-ot],[Qt.x-ft,Qt.y-mt-ot/2],[Qt.x-ft-ut,Qt.y-mt]]:($t-ut)/2<ft?(ft=Math.max(1,($t-ut)/2),it=[[Ht.x+mt,Ht.y+ft],[Ht.x+mt+ot,Ht.y+ft],[Qt.x+mt+ot/2,Qt.y-ft]]):it=[[Ht.x+mt,Ht.y+ft],[Ht.x+mt+ot,Ht.y+ft],[Qt.x+mt+ot,Qt.y-ft-ut],[Qt.x+mt+ot/2,Qt.y-ft],[Qt.x+mt,Qt.y-ft-ut]],q.addShape("polygon",{id:Y.id+"-conversion-tag-arrow-"+$.getElementId(et.getModel().mappingData),name:"conversion-tag-arrow",origin:{element:et,nextElement:_},attrs:Object(f.a)(Object(f.a)({},xt.style||{}),{points:it})})}}function O(st,et,_){var Y,$,q,at=st.view,pt=st.geometry,mt=st.group,ot=st.options,xt=st.field,It=st.horizontal,Ht=ot.offset,Qt=ot.size;if(typeof ot.text!="boolean"){var $t=at.getCoordinate(),yt=((Y=ot.text)===null||Y===void 0?void 0:Y.formatter)&&(($=ot.text)===null||$===void 0?void 0:$.formatter(et.getData()[xt],_.getData()[xt])),ut=M($t,et)[It?3:0],ft=M($t,_)[It?0:3],it=mt.addShape("text",{id:at.id+"-conversion-tag-text-"+pt.getElementId(et.getModel().mappingData),name:"conversion-tag-text",origin:{element:et,nextElement:_},attrs:Object(f.a)(Object(f.a)({},((q=ot.text)===null||q===void 0?void 0:q.style)||{}),{text:yt,x:It?(ut.x+ft.x)/2:ut.x+Ht+Qt/2,y:It?ut.y-Ht-Qt/2:(ut.y+ft.y)/2})});if(It){var vt=ft.x-ut.x,Wt=it.getBBox().width;if(Wt>vt){var Ct=Wt/yt.length,Z=Math.max(1,Math.ceil(vt/Ct)-1),X=yt.slice(0,Z)+"...";it.attr("text",X)}}}}function C(st,et,_){x(st,et,_),O(st,et,_)}function D(st,et,_){return et===void 0&&(et=!0),_===void 0&&(_=!1),function(Y){var $=Y.options,q=Y.chart,at=$.conversionTag,pt=$.theme;return at&&!_&&(q.theme(Object(i.b)({},Object(p.M)(pt)?pt:Object(E.getTheme)(pt),{columnWidthRatio:1/3})),q.annotation().shape({render:function(ot,xt){var It=ot.addGroup({id:q.id+"-conversion-tag-group",name:"conversion-tag-group"}),Ht=Object(p.m)(q.geometries,function(yt){return yt.type==="interval"}),Qt={view:xt,geometry:Ht,group:It,field:st,horizontal:et,options:A(at,et)},$t=et?Ht.elements:Ht.elements.slice().reverse();Object(p.j)($t,function(yt,ut){ut>0&&C(Qt,$t[ut-1],yt)})}})),Y}}var R={hover:"__interval-connected-area-hover__",click:"__interval-connected-area-click__"};Object(E.registerInteraction)(R.hover,{start:[{trigger:"interval:mouseenter",action:["element-highlight-by-color:highlight","element-link-by-color:link"]}],end:[{trigger:"interval:mouseleave",action:["element-highlight-by-color:reset","element-link-by-color:unlink"]}]}),Object(E.registerInteraction)(R.click,{start:[{trigger:"interval:click",action:["element-highlight-by-color:clear","element-highlight-by-color:highlight","element-link-by-color:clear","element-link-by-color:unlink","element-link-by-color:link"]}],end:[{trigger:"document:mousedown",action:["element-highlight-by-color:clear","element-link-by-color:clear"]}]});function y(st){return st===void 0&&(st=!1),function(et){var _=et.chart,Y=et.options,$=Y.connectedArea,q=function(){_.removeInteraction(R.hover),_.removeInteraction(R.click)};if(!st&&$){var at=$.trigger||"hover";q(),_.interaction(R[at])}else q();return et}}var w=a("tKoa"),N=a("sqD9"),z=a("DyAw");function V(st){var et=st.options,_=et.legend,Y=et.seriesField,$=et.isStack;return Y?_!==!1&&(_=Object(f.a)({position:$?"right-top":"top-left"},_)):_=!1,st.options.legend=_,st}function B(st){var et=st.chart,_=st.options,Y=_.data,$=_.columnStyle,q=_.color,at=_.columnWidthRatio,pt=_.isPercent,mt=_.xField,ot=_.yField,xt=_.seriesField,It=_.tooltip;et.data(Object(N.a)(Y,ot,mt,ot,pt));var Ht=pt?Object(f.a)({formatter:function(yt){return{name:yt[xt]||yt[mt],value:(Number(yt[ot])*100).toFixed(2)+"%"}}},It):It,Qt=Object(i.b)({},st,{options:{widthRatio:at,tooltip:Ht,interval:{style:$,color:q}}});return Object(w.c)(Qt),st}function P(st){var et,_,Y=st.options,$=Y.xAxis,q=Y.yAxis,at=Y.xField,pt=Y.yField,mt=Y.data,ot=Y.isPercent,xt=ot?{max:1,min:0,minLimit:0,maxLimit:1}:{};return Object(i.e)(Object(g.f)((et={},et[at]=$,et[pt]=q,et),(_={},_[at]={type:"cat"},_[pt]=Object(f.a)(Object(f.a)({},Object(z.a)(mt,pt)),xt),_)))(st)}function T(st){var et=st.chart,_=st.options,Y=_.xAxis,$=_.yAxis,q=_.xField,at=_.yField;return Y===!1?et.axis(q,!1):et.axis(q,Y),$===!1?et.axis(at,!1):et.axis(at,$),st}function W(st){var et=st.chart,_=st.options,Y=_.legend,$=_.seriesField;return Y&&$?et.legend($,Y):Y===!1&&et.legend(!1),st}function Q(st){var et=st.chart,_=st.options,Y=_.label,$=_.yField,q=_.isRange,at=Object(i.c)(et,"interval");if(!Y)at.label(!1);else{var pt=Y.callback,mt=Object(f.e)(Y,["callback"]);at.label({fields:[$],callback:pt,cfg:Object(f.a)({layout:(mt==null?void 0:mt.position)?void 0:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(i.u)(q?Object(f.a)({content:function(xt){var It;return(It=xt[$])===null||It===void 0?void 0:It.join("-")}},mt):mt))})}return st}function nt(st,et){et===void 0&&(et=!1);var _=st.options,Y=_.seriesField;return Object(i.e)(V,g.j,g.i,B,P,T,W,g.k,g.h,g.g,Q,g.c,g.a,Object(g.b)(),D(_.yField,!et,!!Y),y(!_.isStack),g.e)(st)}},DdT1:function(Ft,I,a){"use strict";I.a=function(f){f.x0=Math.round(f.x0),f.y0=Math.round(f.y0),f.x1=Math.round(f.x1),f.y1=Math.round(f.y1)}},Djfg:function(Ft,I,a){"use strict";var f=a("XiRp"),i=a.n(f),g=a("h4/5"),p=a.n(g),E=a("N9hJ"),S=a.n(E),A=a("3T7b"),M=a.n(A),x=a("B0vJ"),O=a.n(x),C=a("B2d+"),D=a.n(C)},"Dw+G":function(Ft,I,a){var f=a("juv8"),i=a("mTTR");function g(p,E){return p&&f(E,i(E),p)}Ft.exports=g},DyAw:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g}),a.d(I,"c",function(){return p}),a.d(I,"b",function(){return E});var f=a("iTfj"),i=a("8s5S");function g(S,A){var M=S.filter(function(C){var D=Object(f.s)(C,[A]);return Object(f.K)(D)&&!isNaN(D)}),x=M.every(function(C){return Object(f.s)(C,[A])>=0}),O=M.every(function(C){return Object(f.s)(C,[A])<=0});return x?{min:0}:O?{max:0}:{}}function p(S,A,M,x){if(!Array.isArray(S))return{nodes:[],links:[]};var O=[],C={},D=-1;return S.forEach(function(R){var y=R[A],w=R[M],N=R[x];C[y]||(C[y]={id:++D,name:y}),C[w]||(C[w]={id:++D,name:w}),O.push({source:C[y].id,target:C[w].id,value:N})}),{nodes:Object.values(C),links:O}}function E(S,A){var M=Object(f.l)(S,function(x){var O=x[A];return O===null||typeof O=="number"&&!isNaN(O)});return Object(i.b)(i.a.WARN,M.length===S.length,"illegal data existed in chart data."),M}},"E+oP":function(Ft,I,a){var f=a("A90E"),i=a("QqLw"),g=a("03A+"),p=a("Z0cm"),E=a("MMmD"),S=a("DSRE"),A=a("6sVZ"),M=a("c6wG"),x="[object Map]",O="[object Set]",C=Object.prototype,D=C.hasOwnProperty;function R(y){if(y==null)return!0;if(E(y)&&(p(y)||typeof y=="string"||typeof y.splice=="function"||S(y)||M(y)||g(y)))return!y.length;var w=i(y);if(w==x||w==O)return!y.size;if(A(y))return!f(y).length;for(var N in y)if(D.call(y,N))return!1;return!0}Ft.exports=R},EA7m:function(Ft,I,a){var f=a("zZ0H"),i=a("Ioao"),g=a("wclG");function p(E,S){return g(i(E,S,f),E+"")}Ft.exports=p},EEGq:function(Ft,I,a){var f=a("juv8"),i=a("oCl/");function g(p,E){return f(p,i(p),E)}Ft.exports=g},ENEI:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S});var f=a("lwsE"),i=a.n(f),g=a("W8MJ"),p=a.n(g),E=a("IOcx"),S=function(){function A(M,x){i()(this,A),this.center=void 0,this.halfExtents=void 0,this.min=E.e.create(),this.max=E.e.create(),this.update(M,x)}return p()(A,[{key:"update",value:function(x,O){this.center=x||E.e.create(),this.halfExtents=O||E.e.fromValues(.5,.5,.5),this.min=E.e.sub(this.min,this.center,this.halfExtents),this.max=E.e.add(this.max,this.center,this.halfExtents)}},{key:"setMinMax",value:function(x,O){E.e.add(this.center,O,x),E.e.scale(this.center,this.center,.5),E.e.sub(this.halfExtents,O,x),E.e.scale(this.halfExtents,this.halfExtents,.5),E.e.copy(this.min,x),E.e.copy(this.max,O)}},{key:"getMin",value:function(){return this.min}},{key:"getMax",value:function(){return this.max}},{key:"add",value:function(x){var O=this.center,C=O[0],D=O[1],R=O[2],y=this.halfExtents,w=y[0],N=y[1],z=y[2],V=C-w,B=C+w,P=D-N,T=D+N,W=R-z,Q=R+z,nt=x.center,st=nt[0],et=nt[1],_=nt[2],Y=x.halfExtents,$=Y[0],q=Y[1],at=Y[2],pt=st-$,mt=st+$,ot=et-q,xt=et+q,It=_-at,Ht=_+at;pt<V&&(V=pt),mt>B&&(B=mt),ot<P&&(P=ot),xt>T&&(T=xt),It<W&&(W=It),Ht>Q&&(Q=Ht),O[0]=(V+B)*.5,O[1]=(P+T)*.5,O[2]=(W+Q)*.5,y[0]=(B-V)*.5,y[1]=(T-P)*.5,y[2]=(Q-W)*.5,this.min[0]=V,this.min[1]=P,this.min[2]=W,this.max[0]=B,this.max[1]=T,this.max[2]=Q}},{key:"intersects",value:function(x){var O=this.getMax(),C=this.getMin(),D=x.getMax(),R=x.getMin();return C[0]<=D[0]&&O[0]>=R[0]&&C[1]<=D[1]&&O[1]>=R[1]&&C[2]<=D[2]&&O[2]>=R[2]}},{key:"containsPoint",value:function(x){var O=this.getMin(),C=this.getMax();return!(x[0]<O[0]||x[0]>C[0]||x[1]<O[1]||x[1]>C[1]||x[2]<O[2]||x[2]>C[2])}},{key:"getNegativeFarPoint",value:function(x){return x.pnVertexFlag===273?E.e.copy(E.e.create(),this.min):x.pnVertexFlag===272?E.e.fromValues(this.min[0],this.min[1],this.max[2]):x.pnVertexFlag===257?E.e.fromValues(this.min[0],this.max[1],this.min[2]):x.pnVertexFlag===256?E.e.fromValues(this.min[0],this.max[1],this.max[2]):x.pnVertexFlag===17?E.e.fromValues(this.max[0],this.min[1],this.min[2]):x.pnVertexFlag===16?E.e.fromValues(this.max[0],this.min[1],this.max[2]):x.pnVertexFlag===1?E.e.fromValues(this.max[0],this.max[1],this.min[2]):E.e.fromValues(this.max[0],this.max[1],this.max[2])}},{key:"getPositiveFarPoint",value:function(x){return x.pnVertexFlag===273?E.e.copy(E.e.create(),this.max):x.pnVertexFlag===272?E.e.fromValues(this.max[0],this.max[1],this.min[2]):x.pnVertexFlag===257?E.e.fromValues(this.max[0],this.min[1],this.max[2]):x.pnVertexFlag===256?E.e.fromValues(this.max[0],this.min[1],this.min[2]):x.pnVertexFlag===17?E.e.fromValues(this.min[0],this.max[1],this.max[2]):x.pnVertexFlag===16?E.e.fromValues(this.min[0],this.max[1],this.min[2]):x.pnVertexFlag===1?E.e.fromValues(this.min[0],this.min[1],this.max[2]):E.e.fromValues(this.min[0],this.min[1],this.min[2])}}]),A}()},EYNi:function(Ft,I,a){"use strict";a.d(I,"e",function(){return B}),a.d(I,"b",function(){return st}),a.d(I,"a",function(){return Ht}),a.d(I,"c",function(){return O}),a.d(I,"d",function(){return it}),a.d(I,"f",function(){return f});var f={};a.r(f),a.d(f,"distance",function(){return p}),a.d(f,"isNumberEqual",function(){return E}),a.d(f,"getBBoxByArray",function(){return S}),a.d(f,"getBBoxRange",function(){return A}),a.d(f,"piMod",function(){return M});function i(Ct){return Math.min.apply(null,Ct)}function g(Ct){return Math.max.apply(null,Ct)}function p(Ct,Z,X,dt){var H=Ct-X,lt=Z-dt;return Math.sqrt(H*H+lt*lt)}function E(Ct,Z){return Math.abs(Ct-Z)<.001}function S(Ct,Z){var X=i(Ct),dt=i(Z),H=g(Ct),lt=g(Z);return{x:X,y:dt,width:H-X,height:lt-dt}}function A(Ct,Z,X,dt){return{minX:i([Ct,X]),maxX:g([Ct,X]),minY:i([Z,dt]),maxY:g([Z,dt])}}function M(Ct){return(Ct+Math.PI*2)%(Math.PI*2)}var x=a("ZxFD"),O={box:function(Z,X,dt,H){return S([Z,dt],[X,H])},length:function(Z,X,dt,H){return p(Z,X,dt,H)},pointAt:function(Z,X,dt,H,lt){return{x:(1-lt)*Z+lt*dt,y:(1-lt)*X+lt*H}},pointDistance:function(Z,X,dt,H,lt,Ot){var Rt=(dt-Z)*(lt-Z)+(H-X)*(Ot-X);if(Rt<0)return p(Z,X,lt,Ot);var zt=(dt-Z)*(dt-Z)+(H-X)*(H-X);return Rt>zt?p(dt,H,lt,Ot):this.pointToLine(Z,X,dt,H,lt,Ot)},pointToLine:function(Z,X,dt,H,lt,Ot){var Rt=[dt-Z,H-X];if(x.exactEquals(Rt,[0,0]))return Math.sqrt((lt-Z)*(lt-Z)+(Ot-X)*(Ot-X));var zt=[-Rt[1],Rt[0]];x.normalize(zt,zt);var Bt=[lt-Z,Ot-X];return Math.abs(x.dot(Bt,zt))},tangentAngle:function(Z,X,dt,H){return Math.atan2(H-X,dt-Z)}},C=1e-4;function D(Ct,Z,X,dt,H,lt){var Ot,Rt=Infinity,zt=[X,dt],Bt=20;lt&&lt>200&&(Bt=lt/10);for(var tt=1/Bt,J=tt/10,G=0;G<=Bt;G++){var Et=G*tt,Tt=[H.apply(null,Ct.concat([Et])),H.apply(null,Z.concat([Et]))],ct=p(zt[0],zt[1],Tt[0],Tt[1]);ct<Rt&&(Ot=Et,Rt=ct)}if(Ot===0)return{x:Ct[0],y:Z[0]};if(Ot===1){var St=Ct.length;return{x:Ct[St-1],y:Z[St-1]}}Rt=Infinity;for(var G=0;G<32&&!(J<C);G++){var Vt=Ot-J,Lt=Ot+J,Tt=[H.apply(null,Ct.concat([Vt])),H.apply(null,Z.concat([Vt]))],ct=p(zt[0],zt[1],Tt[0],Tt[1]);if(Vt>=0&&ct<Rt)Ot=Vt,Rt=ct;else{var Nt=[H.apply(null,Ct.concat([Lt])),H.apply(null,Z.concat([Lt]))],Zt=p(zt[0],zt[1],Nt[0],Nt[1]);Lt<=1&&Zt<Rt?(Ot=Lt,Rt=Zt):J*=.5}}return{x:H.apply(null,Ct.concat([Ot])),y:H.apply(null,Z.concat([Ot]))}}function R(Ct,Z){for(var X=0,dt=Ct.length,H=0;H<dt;H++){var lt=Ct[H],Ot=Z[H],Rt=Ct[(H+1)%dt],zt=Z[(H+1)%dt];X+=p(lt,Ot,Rt,zt)}return X/2}function y(Ct,Z,X,dt){var H=1-dt;return H*H*Ct+2*dt*H*Z+dt*dt*X}function w(Ct,Z,X){var dt=Ct+X-2*Z;if(E(dt,0))return[.5];var H=(Ct-Z)/dt;return H<=1&&H>=0?[H]:[]}function N(Ct,Z,X,dt){return 2*(1-dt)*(Z-Ct)+2*dt*(X-Z)}function z(Ct,Z,X,dt,H,lt,Ot){var Rt=y(Ct,X,H,Ot),zt=y(Z,dt,lt,Ot),Bt=O.pointAt(Ct,Z,X,dt,Ot),tt=O.pointAt(X,dt,H,lt,Ot);return[[Ct,Z,Bt.x,Bt.y,Rt,zt],[Rt,zt,tt.x,tt.y,H,lt]]}function V(Ct,Z,X,dt,H,lt,Ot){if(Ot===0)return(p(Ct,Z,X,dt)+p(X,dt,H,lt)+p(Ct,Z,H,lt))/2;var Rt=z(Ct,Z,X,dt,H,lt,.5),zt=Rt[0],Bt=Rt[1];return zt.push(Ot-1),Bt.push(Ot-1),V.apply(null,zt)+V.apply(null,Bt)}var B={box:function(Z,X,dt,H,lt,Ot){var Rt=w(Z,dt,lt)[0],zt=w(X,H,Ot)[0],Bt=[Z,lt],tt=[X,Ot];return Rt!==void 0&&Bt.push(y(Z,dt,lt,Rt)),zt!==void 0&&tt.push(y(X,H,Ot,zt)),S(Bt,tt)},length:function(Z,X,dt,H,lt,Ot){return V(Z,X,dt,H,lt,Ot,3)},nearestPoint:function(Z,X,dt,H,lt,Ot,Rt,zt){return D([Z,dt,lt],[X,H,Ot],Rt,zt,y)},pointDistance:function(Z,X,dt,H,lt,Ot,Rt,zt){var Bt=this.nearestPoint(Z,X,dt,H,lt,Ot,Rt,zt);return p(Bt.x,Bt.y,Rt,zt)},interpolationAt:y,pointAt:function(Z,X,dt,H,lt,Ot,Rt){return{x:y(Z,dt,lt,Rt),y:y(X,H,Ot,Rt)}},divide:function(Z,X,dt,H,lt,Ot,Rt){return z(Z,X,dt,H,lt,Ot,Rt)},tangentAngle:function(Z,X,dt,H,lt,Ot,Rt){var zt=N(Z,dt,lt,Rt),Bt=N(X,H,Ot,Rt),tt=Math.atan2(Bt,zt);return M(tt)}};function P(Ct,Z,X,dt,H){var lt=1-H;return lt*lt*lt*Ct+3*Z*H*lt*lt+3*X*H*H*lt+dt*H*H*H}function T(Ct,Z,X,dt,H){var lt=1-H;return 3*(lt*lt*(Z-Ct)+2*lt*H*(X-Z)+H*H*(dt-X))}function W(Ct,Z,X,dt){var H=-3*Ct+9*Z-9*X+3*dt,lt=6*Ct-12*Z+6*X,Ot=3*Z-3*Ct,Rt=[],zt,Bt,tt;if(E(H,0))E(lt,0)||(zt=-Ot/lt,zt>=0&&zt<=1&&Rt.push(zt));else{var J=lt*lt-4*H*Ot;E(J,0)?Rt.push(-lt/(2*H)):J>0&&(tt=Math.sqrt(J),zt=(-lt+tt)/(2*H),Bt=(-lt-tt)/(2*H),zt>=0&&zt<=1&&Rt.push(zt),Bt>=0&&Bt<=1&&Rt.push(Bt))}return Rt}function Q(Ct,Z,X,dt,H,lt,Ot,Rt,zt){var Bt=P(Ct,X,H,Ot,zt),tt=P(Z,dt,lt,Rt,zt),J=O.pointAt(Ct,Z,X,dt,zt),G=O.pointAt(X,dt,H,lt,zt),Et=O.pointAt(H,lt,Ot,Rt,zt),Tt=O.pointAt(J.x,J.y,G.x,G.y,zt),ct=O.pointAt(G.x,G.y,Et.x,Et.y,zt);return[[Ct,Z,J.x,J.y,Tt.x,Tt.y,Bt,tt],[Bt,tt,ct.x,ct.y,Et.x,Et.y,Ot,Rt]]}function nt(Ct,Z,X,dt,H,lt,Ot,Rt,zt){if(zt===0)return R([Ct,X,H,Ot],[Z,dt,lt,Rt]);var Bt=Q(Ct,Z,X,dt,H,lt,Ot,Rt,.5),tt=Bt[0],J=Bt[1];return tt.push(zt-1),J.push(zt-1),nt.apply(null,tt)+nt.apply(null,J)}var st={extrema:W,box:function(Z,X,dt,H,lt,Ot,Rt,zt){for(var Bt=[Z,Rt],tt=[X,zt],J=W(Z,dt,lt,Rt),G=W(X,H,Ot,zt),Et=0;Et<J.length;Et++)Bt.push(P(Z,dt,lt,Rt,J[Et]));for(var Et=0;Et<G.length;Et++)tt.push(P(X,H,Ot,zt,G[Et]));return S(Bt,tt)},length:function(Z,X,dt,H,lt,Ot,Rt,zt){return nt(Z,X,dt,H,lt,Ot,Rt,zt,3)},nearestPoint:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt,tt,J){return D([Z,dt,lt,Rt],[X,H,Ot,zt],Bt,tt,P,J)},pointDistance:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt,tt,J){var G=this.nearestPoint(Z,X,dt,H,lt,Ot,Rt,zt,Bt,tt,J);return p(G.x,G.y,Bt,tt)},interpolationAt:P,pointAt:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt){return{x:P(Z,dt,lt,Rt,Bt),y:P(X,H,Ot,zt,Bt)}},divide:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt){return Q(Z,X,dt,H,lt,Ot,Rt,zt,Bt)},tangentAngle:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt){var tt=T(Z,dt,lt,Rt,Bt),J=T(X,H,Ot,zt,Bt);return M(Math.atan2(J,tt))}};function et(Ct,Z){var X=Math.abs(Ct);return Z>0?X:X*-1}var _={box:function(Z,X,dt,H){return{x:Z-dt,y:X-H,width:dt*2,height:H*2}},length:function(Z,X,dt,H){return Math.PI*(3*(dt+H)-Math.sqrt((3*dt+H)*(dt+3*H)))},nearestPoint:function(Z,X,dt,H,lt,Ot){var Rt=dt,zt=H;if(Rt===0||zt===0)return{x:Z,y:X};for(var Bt=lt-Z,tt=Ot-X,J=Math.abs(Bt),G=Math.abs(tt),Et=Rt*Rt,Tt=zt*zt,ct=Math.PI/4,St,Vt,Lt=0;Lt<4;Lt++){St=Rt*Math.cos(ct),Vt=zt*Math.sin(ct);var Nt=(Et-Tt)*Math.pow(Math.cos(ct),3)/Rt,Zt=(Tt-Et)*Math.pow(Math.sin(ct),3)/zt,oe=St-Nt,ue=Vt-Zt,Ee=J-Nt,Te=G-Zt,Se=Math.hypot(ue,oe),$e=Math.hypot(Te,Ee),cr=Se*Math.asin((oe*Te-ue*Ee)/(Se*$e)),He=cr/Math.sqrt(Et+Tt-St*St-Vt*Vt);ct+=He,ct=Math.min(Math.PI/2,Math.max(0,ct))}return{x:Z+et(St,Bt),y:X+et(Vt,tt)}},pointDistance:function(Z,X,dt,H,lt,Ot){var Rt=this.nearestPoint(Z,X,dt,H,lt,Ot);return p(Rt.x,Rt.y,lt,Ot)},pointAt:function(Z,X,dt,H,lt){var Ot=2*Math.PI*lt;return{x:Z+dt*Math.cos(Ot),y:X+H*Math.sin(Ot)}},tangentAngle:function(Z,X,dt,H,lt){var Ot=2*Math.PI*lt,Rt=Math.atan2(H*Math.cos(Ot),-dt*Math.sin(Ot));return M(Rt)}};function Y(Ct,Z,X,dt,H,lt,Ot,Rt){return-1*X*Math.cos(H)*Math.sin(Rt)-dt*Math.sin(H)*Math.cos(Rt)}function $(Ct,Z,X,dt,H,lt,Ot,Rt){return-1*X*Math.sin(H)*Math.sin(Rt)+dt*Math.cos(H)*Math.cos(Rt)}function q(Ct,Z,X){return Math.atan(-Z/Ct*Math.tan(X))}function at(Ct,Z,X){return Math.atan(Z/(Ct*Math.tan(X)))}function pt(Ct,Z,X,dt,H,lt){return X*Math.cos(H)*Math.cos(lt)-dt*Math.sin(H)*Math.sin(lt)+Ct}function mt(Ct,Z,X,dt,H,lt){return X*Math.sin(H)*Math.cos(lt)+dt*Math.cos(H)*Math.sin(lt)+Z}function ot(Ct,Z,X,dt){var H=Math.atan2(dt*Ct,X*Z);return(H+Math.PI*2)%(Math.PI*2)}function xt(Ct,Z,X){return{x:Ct*Math.cos(X),y:Z*Math.sin(X)}}function It(Ct,Z,X){var dt=Math.cos(X),H=Math.sin(X);return[Ct*dt-Z*H,Ct*H+Z*dt]}var Ht={box:function(Z,X,dt,H,lt,Ot,Rt){for(var zt=q(dt,H,lt),Bt=Infinity,tt=-Infinity,J=[Ot,Rt],G=-Math.PI*2;G<=Math.PI*2;G+=Math.PI){var Et=zt+G;Ot<Rt?Ot<Et&&Et<Rt&&J.push(Et):Rt<Et&&Et<Ot&&J.push(Et)}for(var G=0;G<J.length;G++){var Tt=pt(Z,X,dt,H,lt,J[G]);Tt<Bt&&(Bt=Tt),Tt>tt&&(tt=Tt)}for(var ct=at(dt,H,lt),St=Infinity,Vt=-Infinity,Lt=[Ot,Rt],G=-Math.PI*2;G<=Math.PI*2;G+=Math.PI){var Nt=ct+G;Ot<Rt?Ot<Nt&&Nt<Rt&&Lt.push(Nt):Rt<Nt&&Nt<Ot&&Lt.push(Nt)}for(var G=0;G<Lt.length;G++){var Zt=mt(Z,X,dt,H,lt,Lt[G]);Zt<St&&(St=Zt),Zt>Vt&&(Vt=Zt)}return{x:Bt,y:St,width:tt-Bt,height:Vt-St}},length:function(Z,X,dt,H,lt,Ot,Rt){},nearestPoint:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt){var tt=It(zt-Z,Bt-X,-lt),J=tt[0],G=tt[1],Et=_.nearestPoint(0,0,dt,H,J,G),Tt=ot(dt,H,Et.x,Et.y);Tt<Ot?Et=xt(dt,H,Ot):Tt>Rt&&(Et=xt(dt,H,Rt));var ct=It(Et.x,Et.y,lt);return{x:ct[0]+Z,y:ct[1]+X}},pointDistance:function(Z,X,dt,H,lt,Ot,Rt,zt,Bt){var tt=this.nearestPoint(Z,X,dt,H,zt,Bt);return p(tt.x,tt.y,zt,Bt)},pointAt:function(Z,X,dt,H,lt,Ot,Rt,zt){var Bt=(Rt-Ot)*zt+Ot;return{x:pt(Z,X,dt,H,lt,Bt),y:mt(Z,X,dt,H,lt,Bt)}},tangentAngle:function(Z,X,dt,H,lt,Ot,Rt,zt){var Bt=(Rt-Ot)*zt+Ot,tt=Y(Z,X,dt,H,lt,Ot,Rt,Bt),J=$(Z,X,dt,H,lt,Ot,Rt,Bt);return M(Math.atan2(J,tt))}};function Qt(Ct){for(var Z=0,X=[],dt=0;dt<Ct.length-1;dt++){var H=Ct[dt],lt=Ct[dt+1],Ot=p(H[0],H[1],lt[0],lt[1]),Rt={from:H,to:lt,length:Ot};X.push(Rt),Z+=Ot}return{segments:X,totalLength:Z}}function $t(Ct){if(Ct.length<2)return 0;for(var Z=0,X=0;X<Ct.length-1;X++){var dt=Ct[X],H=Ct[X+1];Z+=p(dt[0],dt[1],H[0],H[1])}return Z}function yt(Ct,Z){if(Z>1||Z<0||Ct.length<2)return null;var X=Qt(Ct),dt=X.segments,H=X.totalLength;if(H===0)return{x:Ct[0][0],y:Ct[0][1]};for(var lt=0,Ot=null,Rt=0;Rt<dt.length;Rt++){var zt=dt[Rt],Bt=zt.from,tt=zt.to,J=zt.length/H;if(Z>=lt&&Z<=lt+J){var G=(Z-lt)/J;Ot=O.pointAt(Bt[0],Bt[1],tt[0],tt[1],G);break}lt+=J}return Ot}function ut(Ct,Z){if(Z>1||Z<0||Ct.length<2)return 0;for(var X=Qt(Ct),dt=X.segments,H=X.totalLength,lt=0,Ot=0,Rt=0;Rt<dt.length;Rt++){var zt=dt[Rt],Bt=zt.from,tt=zt.to,J=zt.length/H;if(Z>=lt&&Z<=lt+J){Ot=Math.atan2(tt[1]-Bt[1],tt[0]-Bt[0]);break}lt+=J}return Ot}function ft(Ct,Z,X){for(var dt=Infinity,H=0;H<Ct.length-1;H++){var lt=Ct[H],Ot=Ct[H+1],Rt=O.pointDistance(lt[0],lt[1],Ot[0],Ot[1],Z,X);Rt<dt&&(dt=Rt)}return dt}var it={box:function(Z){for(var X=[],dt=[],H=0;H<Z.length;H++){var lt=Z[H];X.push(lt[0]),dt.push(lt[1])}return S(X,dt)},length:function(Z){return $t(Z)},pointAt:function(Z,X){return yt(Z,X)},pointDistance:function(Z,X,dt){return ft(Z,X,dt)},tangentAngle:function(Z,X){return ut(Z,X)}};function vt(Ct){var Z=Ct.slice(0);return Ct.length&&Z.push(Ct[0]),Z}var Wt={box:function(Z){return it.box(Z)},length:function(Z){return $t(vt(Z))},pointAt:function(Z,X){return yt(vt(Z),X)},pointDistance:function(Z,X,dt){return ft(vt(Z),X,dt)},tangentAngle:function(Z,X){return ut(vt(Z),X)}}},Ej2v:function(Ft,I){Ft.exports=a;function a(){var f=new Float32Array(2);return f[0]=0,f[1]=0,f}},EkMX:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("e0ae"),g=a("Mw2x"),p=a("sstZ"),E=a("iTfj"),S=a("dPRQ"),A=a("+3eq"),M=a("6h3Y"),x=a("ZzDG"),O=a("tvuL"),C=function(ot){return["fill","stroke","fillStyle","strokeStyle"].includes(ot)},D=function(ot){return/^[r,R,L,l]{1}[\s]*\(/.test(ot)},R=[1,0,0,0,1,0,0,0,1];function y(mt,ot,xt){var It={},Ht=ot.fromAttrs,Qt=ot.toAttrs;if(!mt.destroyed){var $t;for(var yt in Qt)if(!Object(E.G)(Ht[yt],Qt[yt]))if(yt==="path"){var ut=Qt[yt],ft=Ht[yt];ut.length>ft.length?(ut=O.parsePathString(Qt[yt]),ft=O.parsePathString(Ht[yt]),ft=O.fillPathByDiff(ft,ut),ft=O.formatPath(ft,ut),ot.fromAttrs.path=ft,ot.toAttrs.path=ut):ot.pathFormatted||(ut=O.parsePathString(Qt[yt]),ft=O.parsePathString(Ht[yt]),ft=O.formatPath(ft,ut),ot.fromAttrs.path=ft,ot.toAttrs.path=ut,ot.pathFormatted=!0),It[yt]=[];for(var it=0;it<ut.length;it++){for(var vt=ut[it],Wt=ft[it],Ct=[],Z=0;Z<vt.length;Z++)Object(E.K)(vt[Z])&&Wt&&Object(E.K)(Wt[Z])?($t=Object(M.a)(Wt[Z],vt[Z]),Ct.push($t(xt))):Ct.push(vt[Z]);It[yt].push(Ct)}}else if(yt==="matrix"){var X=Object(x.a)(Ht[yt]||R,Qt[yt]||R),dt=X(xt);It[yt]=dt}else C(yt)&&D(Qt[yt])?It[yt]=Qt[yt]:Object(E.H)(Qt[yt])||($t=Object(M.a)(Ht[yt],Qt[yt]),It[yt]=$t(xt));mt.attr(It)}}function w(mt,ot,xt){var It=ot.startTime,Ht=ot.delay;if(xt<It+Ht||ot._paused)return!1;var Qt,$t=ot.duration,yt=ot.easing;if(xt=xt-It-ot.delay,ot.repeat)Qt=xt%$t/$t,Qt=A[yt](Qt);else if(Qt=xt/$t,Qt<1)Qt=A[yt](Qt);else return ot.onFrame?mt.attr(ot.onFrame(1)):mt.attr(ot.toAttrs),!0;if(ot.onFrame){var ut=ot.onFrame(Qt);mt.attr(ut)}else y(mt,ot,Qt);return!1}var N=function(){function mt(ot){this.animators=[],this.current=0,this.timer=null,this.canvas=ot}return mt.prototype.initTimer=function(){var ot=this,xt=!1,It,Ht,Qt;this.timer=S.a(function($t){if(ot.current=$t,ot.animators.length>0){for(var yt=ot.animators.length-1;yt>=0;yt--){if(It=ot.animators[yt],It.destroyed){ot.removeAnimator(yt);continue}if(!It.isAnimatePaused()){Ht=It.get("animations");for(var ut=Ht.length-1;ut>=0;ut--)Qt=Ht[ut],xt=w(It,Qt,$t),xt&&(Ht.splice(ut,1),xt=!1,Qt.callback&&Qt.callback())}Ht.length===0&&ot.removeAnimator(yt)}var ft=ot.canvas.get("autoDraw");ft||ot.canvas.draw()}})},mt.prototype.addAnimator=function(ot){this.animators.push(ot)},mt.prototype.removeAnimator=function(ot){this.animators.splice(ot,1)},mt.prototype.isAnimating=function(){return!!this.animators.length},mt.prototype.stop=function(){this.timer&&this.timer.stop()},mt.prototype.stopAllAnimations=function(ot){ot===void 0&&(ot=!0),this.animators.forEach(function(xt){xt.stopAnimate(ot)}),this.animators=[],this.canvas.draw()},mt.prototype.getTime=function(){return this.current},mt}(),z=N,V=a("5eLp"),B=40,P=0,T=":",W=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Q(mt,ot){for(var xt in mt)if(mt.hasOwnProperty(xt)&&xt.indexOf(T+ot)>=0)return!0;return!1}function nt(mt,ot,xt){xt.name=ot,xt.target=mt,xt.currentTarget=mt,xt.delegateTarget=mt,mt.emit(ot,xt)}function st(mt,ot,xt){if(xt.bubbles){var It=void 0,Ht=!1;if(ot==="mouseenter"?(It=xt.fromShape,Ht=!0):ot==="mouseleave"&&(Ht=!0,It=xt.toShape),mt.isCanvas()&&Ht)return;if(It&&Object(p.g)(mt,It)){xt.bubbles=!1;return}xt.name=ot,xt.currentTarget=mt,xt.delegateTarget=mt,mt.emit(ot,xt)}}var et=function(){function mt(ot){var xt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(It){var Ht=It.type;xt._triggerEvent(Ht,It)},this._onDocumentMove=function(It){var Ht=xt.canvas,Qt=Ht.get("el");if(Qt!==It.target&&(xt.dragging||xt.currentShape)){var $t=xt._getPointInfo(It);xt.dragging&&xt._emitEvent("drag",It,$t,xt.draggingShape)}},this._onDocumentMouseUp=function(It){var Ht=xt.canvas,Qt=Ht.get("el");if(Qt!==It.target&&xt.dragging){var $t=xt._getPointInfo(It);xt.draggingShape&&xt._emitEvent("drop",It,$t,null),xt._emitEvent("dragend",It,$t,xt.draggingShape),xt._afterDrag(xt.draggingShape,$t,It)}},this.canvas=ot.canvas}return mt.prototype.init=function(){this._bindEvents()},mt.prototype._bindEvents=function(){var ot=this,xt=this.canvas.get("el");Object(p.a)(W,function(It){xt.addEventListener(It,ot._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},mt.prototype._clearEvents=function(){var ot=this,xt=this.canvas.get("el");Object(p.a)(W,function(It){xt.removeEventListener(It,ot._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},mt.prototype._getEventObj=function(ot,xt,It,Ht,Qt,$t){var yt=new V.a(ot,xt);return yt.fromShape=Qt,yt.toShape=$t,yt.x=It.x,yt.y=It.y,yt.clientX=It.clientX,yt.clientY=It.clientY,yt.propagationPath.push(Ht),yt},mt.prototype._getShape=function(ot,xt){return this.canvas.getShape(ot.x,ot.y,xt)},mt.prototype._getPointInfo=function(ot){var xt=this.canvas,It=xt.getClientByEvent(ot),Ht=xt.getPointByEvent(ot);return{x:Ht.x,y:Ht.y,clientX:It.x,clientY:It.y}},mt.prototype._triggerEvent=function(ot,xt){var It=this._getPointInfo(xt),Ht=this._getShape(It,xt),Qt=this["_on"+ot],$t=!1;if(Qt)Qt.call(this,It,Ht,xt);else{var yt=this.currentShape;ot==="mouseenter"||ot==="dragenter"||ot==="mouseover"?(this._emitEvent(ot,xt,It,null,null,Ht),Ht&&this._emitEvent(ot,xt,It,Ht,null,Ht),ot==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",xt,It,null)):ot==="mouseleave"||ot==="dragleave"||ot==="mouseout"?($t=!0,yt&&this._emitEvent(ot,xt,It,yt,yt,null),this._emitEvent(ot,xt,It,null,yt,null),ot==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",xt,It,null)):this._emitEvent(ot,xt,It,Ht,null,null)}if($t||(this.currentShape=Ht),Ht&&!Ht.get("destroyed")){var ut=this.canvas,ft=ut.get("el");ft.style.cursor=Ht.attr("cursor")||ut.get("cursor")}},mt.prototype._onmousedown=function(ot,xt,It){It.button===P&&(this.mousedownShape=xt,this.mousedownPoint=ot,this.mousedownTimeStamp=It.timeStamp),this._emitEvent("mousedown",It,ot,xt,null,null)},mt.prototype._emitMouseoverEvents=function(ot,xt,It,Ht){var Qt=this.canvas.get("el");It!==Ht&&(It&&(this._emitEvent("mouseout",ot,xt,It,It,Ht),this._emitEvent("mouseleave",ot,xt,It,It,Ht),(!Ht||Ht.get("destroyed"))&&(Qt.style.cursor=this.canvas.get("cursor"))),Ht&&(this._emitEvent("mouseover",ot,xt,Ht,It,Ht),this._emitEvent("mouseenter",ot,xt,Ht,It,Ht)))},mt.prototype._emitDragoverEvents=function(ot,xt,It,Ht,Qt){Ht?(Ht!==It&&(It&&this._emitEvent("dragleave",ot,xt,It,It,Ht),this._emitEvent("dragenter",ot,xt,Ht,It,Ht)),Qt||this._emitEvent("dragover",ot,xt,Ht)):It&&this._emitEvent("dragleave",ot,xt,It,It,Ht),Qt&&this._emitEvent("dragover",ot,xt,Ht)},mt.prototype._afterDrag=function(ot,xt,It){ot&&(ot.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ht=this._getShape(xt,It);Ht!==ot&&this._emitMouseoverEvents(It,xt,ot,Ht),this.currentShape=Ht},mt.prototype._onmouseup=function(ot,xt,It){if(It.button===P){var Ht=this.draggingShape;this.dragging?(Ht&&this._emitEvent("drop",It,ot,xt),this._emitEvent("dragend",It,ot,Ht),this._afterDrag(Ht,ot,It)):(this._emitEvent("mouseup",It,ot,xt),xt===this.mousedownShape&&this._emitEvent("click",It,ot,xt),this.mousedownShape=null,this.mousedownPoint=null)}},mt.prototype._ondragover=function(ot,xt,It){It.preventDefault();var Ht=this.currentShape;this._emitDragoverEvents(It,ot,Ht,xt,!0)},mt.prototype._onmousemove=function(ot,xt,It){var Ht=this.canvas,Qt=this.currentShape,$t=this.draggingShape;if(this.dragging)$t&&this._emitDragoverEvents(It,ot,Qt,xt,!1),this._emitEvent("drag",It,ot,$t);else{var yt=this.mousedownPoint;if(yt){var ut=this.mousedownShape,ft=It.timeStamp,it=ft-this.mousedownTimeStamp,vt=yt.clientX-ot.clientX,Wt=yt.clientY-ot.clientY,Ct=vt*vt+Wt*Wt;it>120||Ct>B?ut&&ut.get("draggable")?($t=this.mousedownShape,$t.set("capture",!1),this.draggingShape=$t,this.dragging=!0,this._emitEvent("dragstart",It,ot,$t),this.mousedownShape=null,this.mousedownPoint=null):!ut&&Ht.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",It,ot,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt)):(this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt))}else this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt)}},mt.prototype._emitEvent=function(ot,xt,It,Ht,Qt,$t){var yt=this._getEventObj(ot,xt,It,Ht,Qt,$t);if(Ht){yt.shape=Ht,nt(Ht,ot,yt);for(var ut=Ht.getParent();ut;)ut.emitDelegation(ot,yt),yt.propagationStopped||st(ut,ot,yt),yt.propagationPath.push(ut),ut=ut.getParent()}else{var ft=this.canvas;nt(ft,ot,yt)}},mt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},mt}(),_=et,Y="px",$=Object(i.a)(),q=$&&$.name==="firefox",at=function(mt){Object(f.c)(ot,mt);function ot(xt){var It=mt.call(this,xt)||this;return It.initContainer(),It.initDom(),It.initEvents(),It.initTimeline(),It}return ot.prototype.getDefaultCfg=function(){var xt=mt.prototype.getDefaultCfg.call(this);return xt.cursor="default",xt.supportCSSTransform=!1,xt},ot.prototype.initContainer=function(){var xt=this.get("container");Object(p.h)(xt)&&(xt=document.getElementById(xt),this.set("container",xt))},ot.prototype.initDom=function(){var xt=this.createDom();this.set("el",xt);var It=this.get("container");It.appendChild(xt),this.setDOMSize(this.get("width"),this.get("height"))},ot.prototype.initEvents=function(){var xt=new _({canvas:this});xt.init(),this.set("eventController",xt)},ot.prototype.initTimeline=function(){var xt=new z(this);this.set("timeline",xt)},ot.prototype.setDOMSize=function(xt,It){var Ht=this.get("el");p.c&&(Ht.style.width=xt+Y,Ht.style.height=It+Y)},ot.prototype.changeSize=function(xt,It){this.setDOMSize(xt,It),this.set("width",xt),this.set("height",It),this.onCanvasChange("changeSize")},ot.prototype.getRenderer=function(){return this.get("renderer")},ot.prototype.getCursor=function(){return this.get("cursor")},ot.prototype.setCursor=function(xt){this.set("cursor",xt);var It=this.get("el");p.c&&It&&(It.style.cursor=xt)},ot.prototype.getPointByEvent=function(xt){var It=this.get("supportCSSTransform");if(It){if(q&&!Object(p.e)(xt.layerX)&&xt.layerX!==xt.offsetX)return{x:xt.layerX,y:xt.layerY};if(!Object(p.e)(xt.offsetX))return{x:xt.offsetX,y:xt.offsetY}}var Ht=this.getClientByEvent(xt),Qt=Ht.x,$t=Ht.y;return this.getPointByClient(Qt,$t)},ot.prototype.getClientByEvent=function(xt){var It=xt;return xt.touches&&(xt.type==="touchend"?It=xt.changedTouches[0]:It=xt.touches[0]),{x:It.clientX,y:It.clientY}},ot.prototype.getPointByClient=function(xt,It){var Ht=this.get("el"),Qt=Ht.getBoundingClientRect();return{x:xt-Qt.left,y:It-Qt.top}},ot.prototype.getClientByPoint=function(xt,It){var Ht=this.get("el"),Qt=Ht.getBoundingClientRect();return{x:xt+Qt.left,y:It+Qt.top}},ot.prototype.draw=function(){},ot.prototype.removeDom=function(){var xt=this.get("el");xt.parentNode.removeChild(xt)},ot.prototype.clearEvents=function(){var xt=this.get("eventController");xt.destroy()},ot.prototype.isCanvas=function(){return!0},ot.prototype.getParent=function(){return null},ot.prototype.destroy=function(){var xt=this.get("timeline");this.get("destroyed")||(this.clear(),xt&&xt.stop(),this.clearEvents(),this.removeDom(),mt.prototype.destroy.call(this))},ot}(g.a),pt=I.a=at},EwQA:function(Ft,I,a){var f=a("zZ0H");function i(g){return typeof g=="function"?g:f}Ft.exports=i},"F/eT":function(Ft,I,a){"use strict";a.d(I,"b",function(){return f}),a.d(I,"a",function(){return i});function f(g){return typeof g=="number"&&!isNaN(g)}function i(g,p,E){var S=Math.min(p,E),A=Math.max(p,E);return g>=S&&g<=A}},F4jT:function(Ft,I,a){Ft.exports=i;var f=a("NEPx");function i(g,p){var E=g[0],S=g[1],A=p[0],M=p[1];return Math.abs(E-A)<=f*Math.max(1,Math.abs(E),Math.abs(A))&&Math.abs(S-M)<=f*Math.max(1,Math.abs(S),Math.abs(M))}},F9We:function(Ft,I,a){var f;try{f=a("4Ai+")}catch(i){}f||(f=window.graphlib),Ft.exports=f},FAXy:function(Ft,I,a){"use strict";a.d(I,"a",function(){return _});var f=a("mrSG"),i=a("kXyF"),g=a("zJSt"),p=a("iTfj"),E=a("w02o"),S=a("YuPD"),A=a("tKoa"),M="liquid";function x(Y){return[{percent:Y,type:M}]}function O(Y){var $=Y.chart,q=Y.options,at=q.percent,pt=q.liquidStyle,mt=q.radius,ot=q.outline,xt=q.wave,It=q.shape;$.scale({percent:{min:0,max:1}}),$.data(x(at));var Ht=q.color||$.getTheme().defaultColor,Qt=Object(S.b)({},Y,{options:{xField:"type",yField:"percent",widthRatio:mt,interval:{color:Ht,style:pt,shape:"liquid-fill-gauge"}}}),$t=Object(A.c)(Qt).ext,yt=$t.geometry,ut=$.getTheme().background,ft={radius:mt,outline:ot,wave:xt,shape:It,background:ut};return yt.customInfo(ft),$.legend(!1),$.axis(!1),$.tooltip(!1),Y}function C(Y,$){var q=Y.chart,at=Y.options,pt=at.statistic,mt=at.percent,ot=at.meta;if(q.getController("annotation").clear(!0),pt.content&&!pt.content.formatter){var xt=Object(p.s)(ot,["percent","formatter"]);pt.content.formatter=function(It){var Ht=It.percent;return xt?xt(Ht):(Ht*100).toFixed(2)+"%"}}return Object(S.s)(q,{statistic:pt,plotType:"liquid"},{percent:mt}),$&&q.render(!0),Y}function D(Y){return Object(S.e)(E.j,O,C,Object(E.f)({}),E.a,E.c)(Y)}var R={radius:.9,statistic:{title:!1,content:{formatter:function($){var q=$.percent;return(q*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:"30px",textAlign:"center"}}},outline:{border:2,distance:0},wave:{count:3,length:192},shape:"circle"},y=a("qaDU"),w=5e3;function N(Y,$,q){return Y+($-Y)*q}function z(Y){var $=Object(f.a)({opacity:1},Y.style);return Y.color&&!$.fill&&($.fill=Y.color),$}function V(Y){var $={fill:"#fff",fillOpacity:0,lineWidth:4},q=Object(p.bb)({},$,Y.style);return Y.color&&!q.stroke&&(q.stroke=Y.color),Object(p.K)(Y.opacity)&&(q.opacity=q.strokeOpacity=Y.opacity),q}function B(Y,$,q,at){return $===0?[[Y+1/2*q/Math.PI/2,at/2],[Y+1/2*q/Math.PI,at],[Y+q/4,at]]:$===1?[[Y+1/2*q/Math.PI/2*(Math.PI-2),at],[Y+1/2*q/Math.PI/2*(Math.PI-1),at/2],[Y+q/4,0]]:$===2?[[Y+1/2*q/Math.PI/2,-at/2],[Y+1/2*q/Math.PI,-at],[Y+q/4,-at]]:[[Y+1/2*q/Math.PI/2*(Math.PI-2),-at],[Y+1/2*q/Math.PI/2*(Math.PI-1),-at/2],[Y+q/4,0]]}function P(Y,$,q,at,pt,mt,ot){for(var xt=Math.ceil(2*Y/q*4)*4,It=[],Ht=at;Ht<-Math.PI*2;)Ht+=Math.PI*2;for(;Ht>0;)Ht-=Math.PI*2;Ht=Ht/Math.PI/2*q;var Qt=mt-Y+Ht-Y*2;It.push(["M",Qt,$]);for(var $t=0,yt=0;yt<xt;++yt){var ut=yt%4,ft=B(yt*q/4,ut,q,pt);It.push(["C",ft[0][0]+Qt,-ft[0][1]+$,ft[1][0]+Qt,-ft[1][1]+$,ft[2][0]+Qt,-ft[2][1]+$]),yt===xt-1&&($t=ft[2][0])}return It.push(["L",$t+Qt,ot+Y]),It.push(["L",Qt,ot+Y]),It.push(["Z"]),It}function T(Y,$,q,at,pt,mt,ot,xt,It){for(var Ht=pt.fill,Qt=pt.opacity,$t=ot.getBBox(),yt=$t.maxX-$t.minX,ut=$t.maxY-$t.minY,ft=0;ft<at;ft++){var it=at<=1?0:ft/(at-1),vt=mt.addShape("path",{name:"waterwave-path",attrs:{path:P(xt,$t.minY+ut*q,It,0,yt/32,Y,$),fill:Ht,opacity:N(.2,.9,it)*Qt}});try{var Wt=Object(y.a)([["t",It,0]]);vt.stopAnimate(),vt.animate({matrix:Wt},{duration:N(.5*w,w,it),repeat:!0})}catch(Ct){console.warn("off-screen group animate error!")}}}function W(Y,$,q,at){var pt=q*2/3,mt=Math.max(pt,at),ot=pt/2,xt=Y,It=ot+$-mt/2,Ht=Math.asin(ot/((mt-ot)*.85)),Qt=Math.sin(Ht)*ot,$t=Math.cos(Ht)*ot,yt=xt-$t,ut=It+Qt,ft=Y,it=It+ot/Math.sin(Ht);return`
      M `+yt+" "+ut+`
      A `+ot+" "+ot+" 0 1 1 "+(yt+$t*2)+" "+ut+`
      Q `+ft+" "+it+" "+Y+" "+($+mt/2)+`
      Q `+ft+" "+it+" "+yt+" "+ut+`
      Z 
    `}function Q(Y,$,q,at){var pt=q/2,mt=at/2;return`
      M `+Y+" "+($-mt)+` 
      a `+pt+" "+mt+" 0 1 0 0 "+mt*2+`
      a `+pt+" "+mt+" 0 1 0 0 "+-mt*2+`
      Z
    `}function nt(Y,$,q,at){var pt=at/2,mt=q/2;return`
      M `+Y+" "+($-pt)+`
      L `+(Y+mt)+" "+$+`
      L `+Y+" "+($+pt)+`
      L `+(Y-mt)+" "+$+`
      Z
    `}function st(Y,$,q,at){var pt=at/2,mt=q/2;return`
      M `+Y+" "+($-pt)+`
      L `+(Y+mt)+" "+($+pt)+`
      L `+(Y-mt)+" "+($+pt)+`
      Z
    `}function et(Y,$,q,at){var pt=.618,mt=at/2,ot=q/2*pt;return`
      M `+(Y-ot)+" "+($-mt)+`
      L `+(Y+ot)+" "+($-mt)+`
      L `+(Y+ot)+" "+($+mt)+`
      L `+(Y-ot)+" "+($+mt)+`
      Z
    `}Object(i.registerShape)("interval","liquid-fill-gauge",{draw:function($,q){var at=.5,pt=.5,mt=$.customInfo,ot=mt,xt=ot.radius,It=ot.shape,Ht=ot.background,Qt=mt.outline,$t=mt.wave,yt=Qt.border,ut=Qt.distance,ft=$t.count,it=$t.length,vt=Object(p.fb)($.points,function(J,G){return Math.min(J,G.x)},Infinity),Wt=this.parsePoint({x:at,y:pt}),Ct=this.parsePoint({x:vt,y:pt}),Z=Wt.x-Ct.x,X=Math.min(Z,Ct.y*xt),dt=z($),H=V(Object(p.bb)({},$,Qt)),lt=X-yt/2,Ot={pin:W,circle:Q,diamond:nt,triangle:st,rect:et},Rt=typeof It=="function"?It:Ot[It]||Ot.circle,zt=Rt(Wt.x,Wt.y,lt*2,lt*2),Bt=q.addGroup({name:"waves"}),tt=Bt.setClip({type:"path",attrs:{path:zt}});return T(Wt.x,Wt.y,1-$.points[1].y,ft,dt,Bt,tt,X*2,it),q.addShape("path",{name:"distance",attrs:{path:zt,fill:"transparent",lineWidth:yt+ut*2,stroke:Ht==="transparent"?"#fff":Ht}}),q.addShape("path",{name:"wrap",attrs:Object(p.bb)(H,{path:zt,fill:"transparent",lineWidth:yt})}),q}});var _=function(Y){Object(f.c)($,Y);function $(){var q=Y!==null&&Y.apply(this,arguments)||this;return q.type="liquid",q}return $.getDefaultOptions=function(){return R},$.prototype.getDefaultOptions=function(){return $.getDefaultOptions()},$.prototype.changeData=function(q){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:q}),this.chart.data(x(q)),C({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},$.prototype.getSchemaAdaptor=function(){return D},$}(g.b)},FH2j:function(Ft,I,a){"use strict";a.d(I,"getAdjust",function(){return E}),a.d(I,"registerAdjust",function(){return S});var f=a("Qci9"),i=a("WbAE"),g=a.n(i),p={},E=function(M){return p[M.toLowerCase()]},S=function(M,x){if(E(M))throw new Error("Adjust type '"+M+"' existed.");p[M.toLowerCase()]=x}},FKLu:function(Ft,I,a){Ft.exports=i;var f=a("Ej2v")();function i(g,p,E,S,A,M){var x,O;for(p||(p=2),E||(E=0),S?O=Math.min(S*p+E,g.length):O=g.length,x=E;x<O;x+=p)f[0]=g[x],f[1]=g[x+1],A(f,f,M),g[x]=f[0],g[x+1]=f[1];return g}},FLLP:function(Ft,I,a){"use strict";a.d(I,"a",function(){return nt});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("w02o"),E=a("tKoa"),S=a("YuPD"),A="$$yField$$",M="$$diffField$$",x="$$absoluteField$$",O="$$isTotal$$",C={label:{},leaderLine:{style:{lineWidth:1,stroke:"#8c8c8c",lineDash:[4,2]}},total:{label:"\u603B\u8BA1",style:{fill:"rgba(0, 0, 0, 0.25)"}},interactions:[{type:"element-active"}],risingFill:"#f4664a",fallingFill:"#30bf78",waterfallStyle:{fill:"rgba(0, 0, 0, 0.25)"},yAxis:{grid:{line:{style:{lineDash:[4,2]}}}}};function D(st,et,_,Y,$){var q,at=[];if(Object(g.fb)(st,function(mt,ot){var xt;Object(S.n)(S.a.WARN,Object(g.K)(ot[_]),ot[_]+" is not a valid number");var It=Object(g.Q)(ot[_])?null:ot[_];return at.push(Object(f.a)(Object(f.a)({},ot),(xt={},xt[Y]=[mt,mt+It],xt))),mt+It},0),at.length&&$){var pt=Object(g.s)(at,[[st.length-1],Y,[1]]);at.push((q={},q[et]=$.label,q[_]=pt,q[Y]=[0,pt],q))}return at}function R(st,et,_,Y){var $=D(st,et,_,A,Y);return $.map(function(q,at){var pt;return Object(g.M)(q)?Object(f.a)(Object(f.a)({},q),(pt={},pt[x]=q[A][1],pt[M]=q[A][1]-q[A][0],pt[O]=at===st.length,pt)):q})}var y=a("kXyF");function w(st){for(var et=[],_=0;_<st.length;_++){var Y=st[_];if(Y){var $=_===0?"M":"L";et.push([$,Y.x,Y.y])}}var q=st[0];return et.push(["L",q.x,q.y]),et.push(["z"]),et}function N(st){return Object(S.b)({},st.defaultStyle,st.style,{fill:st.color})}Object(y.registerShape)("interval","waterfall",{draw:function(et,_){var Y=et.customInfo,$=et.points,q=et.nextPoints,at=_.addGroup(),pt=this.parsePath(w($)),mt=N(et);at.addShape("path",{attrs:Object(f.a)(Object(f.a)({},mt),{path:pt})});var ot=Object(g.s)(Y,"leaderLine");if(ot&&q){var xt=[["M",$[2].x,$[2].y],["L",q[0].x,q[0].y]];$[2].y===q[1].y&&(xt[1]=["L",q[1].x,q[1].y]),xt=this.parsePath(xt),at.addShape("path",{attrs:Object(f.a)({path:xt},ot.style||{})})}return at}});function z(st){var et=st.chart,_=st.options,Y=_.data,$=_.xField,q=_.yField,at=_.total,pt=_.leaderLine,mt=_.columnWidthRatio,ot=_.waterfallStyle,xt=_.risingFill,It=_.fallingFill,Ht=_.color;et.data(R(Y,$,q,at));var Qt=Ht||function(ft){return Object(g.s)(ft,[O])?Object(g.s)(at,["style","fill"],""):Object(g.s)(ft,[A,1])-Object(g.s)(ft,[A,0])>0?xt:It},$t=Object(S.b)({},st,{options:{xField:$,yField:A,seriesField:$,rawFields:[q,M,O,A],widthRatio:mt,interval:{style:ot,shape:"waterfall",color:Qt}}}),yt=Object(E.c)($t).ext,ut=yt.geometry;return ut.customInfo({leaderLine:pt}),st}function V(st){var et,_,Y=st.options,$=Y.xAxis,q=Y.yAxis,at=Y.xField,pt=Y.yField,mt=Y.meta,ot=Object(S.b)({},{alias:pt},Object(g.s)(mt,pt));return Object(S.e)(Object(p.f)((et={},et[at]=$,et[pt]=q,et[A]=q,et),Object(S.b)({},mt,(_={},_[A]=ot,_[M]=ot,_[x]=ot,_))))(st)}function B(st){var et=st.chart,_=st.options,Y=_.xAxis,$=_.yAxis,q=_.xField,at=_.yField;return Y===!1?et.axis(q,!1):et.axis(q,Y),$===!1?(et.axis(at,!1),et.axis(A,!1)):(et.axis(at,$),et.axis(A,$)),st}function P(st){var et=st.chart,_=st.options,Y=_.legend,$=_.total,q=_.risingFill,at=_.fallingFill;if(Y===!1)et.legend(!1);else{var pt=[{name:"\u589E\u52A0",value:"increase",marker:{symbol:"square",style:{r:5,fill:q}}},{name:"\u51CF\u5C11",value:"decrease",marker:{symbol:"square",style:{r:5,fill:at}}}];$&&pt.push({name:$.label||"",value:"total",marker:{symbol:"square",style:Object(S.b)({},{r:5},Object(g.s)($,"style"))}}),et.legend(Object(S.b)({},{custom:!0,position:"top",items:pt},Y)),et.removeInteraction("legend-filter")}return st}function T(st){var et=st.chart,_=st.options,Y=_.label,$=_.labelMode,q=_.xField,at=Object(S.c)(et,"interval");if(!Y)at.label(!1);else{var pt=Y.callback,mt=Object(f.e)(Y,["callback"]);at.label({fields:$==="absolute"?[x,q]:[M,q],callback:pt,cfg:Object(S.u)(mt)})}return st}function W(st){var et=st.chart,_=st.options,Y=_.tooltip,$=_.xField,q=_.yField;if(Y!==!1){et.tooltip(Object(f.a)({showCrosshairs:!1,showMarkers:!1,shared:!0,fields:[q]},Y));var at=et.geometries[0];(Y==null?void 0:Y.formatter)?at.tooltip($+"*"+q,Y.formatter):at.tooltip(q)}else et.tooltip(!1);return st}function Q(st){return Object(S.e)(z,V,B,P,W,T,p.i,p.j,p.c,p.a,Object(p.b)())(st)}var nt=function(st){Object(f.c)(et,st);function et(){var _=st!==null&&st.apply(this,arguments)||this;return _.type="waterfall",_}return et.getDefaultOptions=function(){return C},et.prototype.changeData=function(_){var Y=this.options,$=Y.xField,q=Y.yField,at=Y.total;this.updateOption({data:_}),this.chart.changeData(R(_,$,q,at))},et.prototype.getSchemaAdaptor=function(){return Q},et.prototype.getDefaultOptions=function(){return et.getDefaultOptions()},et}(i.b)},FPPI:function(Ft,I,a){"use strict";I.a=function(f,i,g,p,E){for(var S=f.children,A,M=-1,x=S.length,O=f.value&&(p-i)/f.value;++M<x;)A=S[M],A.y0=g,A.y1=E,A.x0=i,A.x1=i+=A.value*O}},FV85:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.TargetTypeEnum=I.BindingTypeEnum=I.BindingScopeEnum=void 0;var f={Request:"Request",Singleton:"Singleton",Transient:"Transient"};I.BindingScopeEnum=f;var i={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};I.BindingTypeEnum=i;var g={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};I.TargetTypeEnum=g},FXSy:function(Ft,I){},FZoo:function(Ft,I,a){var f=a("MrPd"),i=a("4uTw"),g=a("wJg7"),p=a("GoyQ"),E=a("9Nap");function S(A,M,x,O){if(!p(A))return A;M=i(M,A);for(var C=-1,D=M.length,R=D-1,y=A;y!=null&&++C<D;){var w=E(M[C]),N=x;if(w==="__proto__"||w==="constructor"||w==="prototype")return A;if(C!=R){var z=y[w];N=O?O(z,w,y):void 0,N===void 0&&(N=p(z)?z:g(M[C+1])?[]:{})}f(y,w,N),y=y[w]}return A}Ft.exports=S},FfPP:function(Ft,I,a){var f=a("idmN"),i=a("hgQt");function g(p,E){return f(p,E,function(S,A){return i(p,A)})}Ft.exports=g},FlHB:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Ht});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("4cb6"),N=a.n(w),z=a("+uE7"),V=a("+xCn"),B=a("94HZ"),P,T,W,Q,nt,st,et,_,Y,$,q,at,pt;function mt(Qt,$t){var yt;if(typeof Symbol=="undefined"||Qt[Symbol.iterator]==null){if(Array.isArray(Qt)||(yt=ot(Qt))||$t&&Qt&&typeof Qt.length=="number"){yt&&(Qt=yt);var ut=0,ft=function(){};return{s:ft,n:function(){return ut>=Qt.length?{done:!0}:{done:!1,value:Qt[ut++]}},e:function(Z){throw Z},f:ft}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var it=!0,vt=!1,Wt;return{s:function(){yt=Qt[Symbol.iterator]()},n:function(){var Z=yt.next();return it=Z.done,Z},e:function(Z){vt=!0,Wt=Z},f:function(){try{!it&&yt.return!=null&&yt.return()}finally{if(vt)throw Wt}}}}function ot(Qt,$t){if(!!Qt){if(typeof Qt=="string")return xt(Qt,$t);var yt=Object.prototype.toString.call(Qt).slice(8,-1);if(yt==="Object"&&Qt.constructor&&(yt=Qt.constructor.name),yt==="Map"||yt==="Set")return Array.from(Qt);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return xt(Qt,$t)}}function xt(Qt,$t){($t==null||$t>Qt.length)&&($t=Qt.length);for(var yt=0,ut=new Array($t);yt<$t;yt++)ut[yt]=Qt[yt];return ut}var It={NONE:0,ENCODE:1,HIGHLIGHT:2},Ht=(P=Object(w.injectable)(),T=Object(w.inject)(z.a.RenderEngine),W=Object(w.inject)(z.a.ResourcePool),Q=Object(w.inject)(z.a.RenderPassFactory),nt=Object(w.inject)(z.a.MeshComponentManager),P(st=(et=(pt=at=function(){function Qt(){var $t=this;M()(this,Qt),S()(this,"engine",_,this),S()(this,"resourcePool",Y,this),S()(this,"renderPassFactory",$,this),S()(this,"mesh",q,this),this.pickingFBO=void 0,this.views=void 0,this.highlightEnabled=!0,this.highlightColor=[255,0,0,255],this.alreadyInRendering=!1,this.setup=function(yt,ut,ft){var it=yt.createRenderTarget(ut,"picking fbo",{width:1,height:1});ft.data={output:ut.write(yt,it)},ut.hasSideEffect=!0},this.execute=function(){var yt=p()(i.a.mark(function ut(ft,it,vt){var Wt,Ct,Z;return i.a.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:if($t.views=vt,!$t.alreadyInRendering){dt.next=3;break}return dt.abrupt("return");case 3:Wt=mt(vt);try{for(Z=function(){var lt=Ct.value,Ot=lt.getViewport(),Rt=Ot.width,zt=Ot.height;$t.alreadyInRendering=!0;var Bt=ft.getResourceNode(it.data.output);$t.pickingFBO=$t.resourcePool.getOrCreateResource(Bt.resource),$t.pickingFBO.resize({width:Rt,height:zt}),$t.engine.useFramebuffer($t.pickingFBO,function(){$t.engine.clear({framebuffer:$t.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});var tt=$t.renderPassFactory(B.a.IDENTIFIER),J=[],G=lt.getScene(),Et=mt(G.getEntities()),Tt;try{for(Et.s();!(Tt=Et.n()).done;){var ct=Tt.value,St=$t.mesh.getComponentByEntity(ct),Vt=St.material;Vt.setUniform("u_PickingStage",It.ENCODE),J.push(St)}}catch(Lt){Et.e(Lt)}finally{Et.f()}tt.renderView(lt),J.forEach(function(Lt){var Nt=Lt.material;Nt.setUniform("u_PickingStage",It.HIGHLIGHT)}),$t.alreadyInRendering=!1})},Wt.s();!(Ct=Wt.n()).done;)Z()}catch(H){Wt.e(H)}finally{Wt.f()}case 5:case"end":return dt.stop()}},ut)}));return function(ut,ft,it){return yt.apply(this,arguments)}}(),this.pick=function(yt,ut){var ft=yt.x,it=yt.y,vt=$t.engine,Wt=vt.readPixels,Ct=vt.useFramebuffer,Z=ut.getViewport(),X=Z.width,dt=Z.height,H=ft*window.devicePixelRatio,lt=it*window.devicePixelRatio;if(!(H>X||H<0||lt>dt||lt<0)){var Ot,Rt;return Ct($t.pickingFBO,function(){Ot=Wt({x:Math.round(H),y:Math.round(dt-(it+1)*window.devicePixelRatio),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:$t.pickingFBO}),(Ot[0]!==0||Ot[1]!==0||Ot[2]!==0)&&(Rt=Object(V.a)(Ot),$t.highlightEnabled&&$t.highlightPickedFeature(Ot,ut))}),Rt}}}return O()(Qt,[{key:"enableHighlight",value:function(yt){this.highlightEnabled=yt}},{key:"setHighlightColor",value:function(yt){this.highlightColor=yt}},{key:"highlightPickedFeature",value:function(yt,ut){if(yt){var ft=mt(ut.getScene().getEntities()),it;try{for(ft.s();!(it=ft.n()).done;){var vt=it.value,Wt=this.mesh.getComponentByEntity(vt),Ct=Wt.material;Ct.setUniform("u_PickingStage",It.HIGHLIGHT),Ct.setUniform("u_PickingColor",[yt[0],yt[1],yt[2]]),Ct.setUniform("u_HighlightColor",this.highlightColor)}}catch(Z){ft.e(Z)}finally{ft.f()}}}}]),Qt}(),at.IDENTIFIER="PixelPicking Pass",pt),_=D()(et.prototype,"engine",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=D()(et.prototype,"resourcePool",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=D()(et.prototype,"renderPassFactory",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=D()(et.prototype,"mesh",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et))||st)},FxDU:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createSensor=void 0;var f=a("QO+J"),i=a("j5sG"),g=typeof ResizeObserver!="undefined"?i.createSensor:f.createSensor;I.createSensor=g},G6z8:function(Ft,I,a){var f=a("fR/l"),i=a("oCl/"),g=a("mTTR");function p(E){return f(E,g,i)}Ft.exports=p},GDhZ:function(Ft,I,a){var f=a("wF/u"),i=a("mwIZ"),g=a("hgQt"),p=a("9ggG"),E=a("CMye"),S=a("IOzZ"),A=a("9Nap"),M=1,x=2;function O(C,D){return p(C)&&E(D)?S(A(C),D):function(R){var y=i(R,C);return y===void 0&&y===D?g(R,C):f(D,y,M|x)}}Ft.exports=O},GEWS:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("F9We").Graph,g=a("6Ekc").slack;Ft.exports=p;function p(M){var x=new i({directed:!1}),O=M.nodes()[0],C=M.nodeCount();x.setNode(O,{});for(var D,R;E(x,M)<C;)D=S(x,M),R=x.hasNode(D.v)?g(M,D):-g(M,D),A(x,M,R);return x}function E(M,x){function O(C){f.forEach(x.nodeEdges(C),function(D){var R=D.v,y=C===R?D.w:R;!M.hasNode(y)&&!g(x,D)&&(M.setNode(y,{}),M.setEdge(C,y,{}),O(y))})}return f.forEach(M.nodes(),O),M.nodeCount()}function S(M,x){return f.minBy(x.edges(),function(O){if(M.hasNode(O.v)!==M.hasNode(O.w))return g(x,O)})}function A(M,x,O){f.forEach(M.nodes(),function(C){x.node(C).rank+=O})}},GNiM:function(Ft,I,a){var f=a("I01J"),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,p=f(function(E){var S=[];return E.charCodeAt(0)===46&&S.push(""),E.replace(i,function(A,M,x,O){S.push(x?O.replace(g,"$1"):M||A)}),S});Ft.exports=p},GXnB:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Metadata=void 0;var f=a("xfSm"),i=function(){function g(p,E){this.key=p,this.value=E}return g.prototype.toString=function(){return this.key===f.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},g}();I.Metadata=i},GbLa:function(Ft,I,a){var f=a("M96O"),i=a("lnHP");Ft.exports={write:g,read:S};function g(A){var M={options:{directed:A.isDirected(),multigraph:A.isMultigraph(),compound:A.isCompound()},nodes:p(A),edges:E(A)};return f.isUndefined(A.graph())||(M.value=f.clone(A.graph())),M}function p(A){return f.map(A.nodes(),function(M){var x=A.node(M),O=A.parent(M),C={v:M};return f.isUndefined(x)||(C.value=x),f.isUndefined(O)||(C.parent=O),C})}function E(A){return f.map(A.edges(),function(M){var x=A.edge(M),O={v:M.v,w:M.w};return f.isUndefined(M.name)||(O.name=M.name),f.isUndefined(x)||(O.value=x),O})}function S(A){var M=new i(A.options).setGraph(A.value);return f.each(A.nodes,function(x){M.setNode(x.v,x.value),x.parent&&M.setParent(x.v,x.parent)}),f.each(A.edges,function(x){M.setEdge({v:x.v,w:x.w,name:x.name},x.value)}),M}},"Gc+X":function(Ft,I,a){"use strict";a.d(I,"a",function(){return z});var f=a("lwsE"),i=a.n(f),g=a("W8MJ"),p=a.n(g),E=a("PJYZ"),S=a.n(E),A=a("7W2i"),M=a.n(A),x=a("a1gu"),O=a.n(x),C=a("Nsbk"),D=a.n(C),R=a("IOcx"),y=a("oDt1");function w(V){var B=N();return function(){var T=D()(V),W;if(B){var Q=D()(this).constructor;W=Reflect.construct(T,arguments,Q)}else W=T.apply(this,arguments);return O()(this,W)}}function N(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(V){return!1}}var z=function(V){M()(P,V);var B=w(P);function P(T){var W;return i()(this,P),W=B.call(this,T),W.dirtyFlag=void 0,W.localDirtyFlag=void 0,W.parent=null,W.localPosition=R.e.fromValues(0,0,0),W.localRotation=R.c.fromValues(0,0,0,1),W.localScale=R.e.fromValues(1,1,1),W.localTransform=R.b.create(),W.position=R.e.fromValues(0,0,0),W.rotation=R.c.fromValues(0,0,0,1),W.scaling=R.e.fromValues(1,1,1),W.worldTransform=R.b.create(),W.matrixTransform=function(){var Q=R.b.create();return function(nt){R.b.multiply(Q,W.getLocalTransform(),nt),R.b.getScaling(W.localScale,Q),R.b.getTranslation(W.localPosition,Q),R.b.getRotation(W.localRotation,Q)}}(),W.rotateRollPitchYaw=function(){var Q=R.c.create(),nt=R.c.create(),st=R.c.create();return function(et,_,Y){W.setDirty(),R.c.fromEuler(Q,et,0,0),R.c.fromEuler(nt,0,_,0),R.c.fromEuler(st,0,0,Y),R.c.multiply(W.localRotation,Q,W.localRotation),R.c.multiply(W.localRotation,W.localRotation,nt),R.c.multiply(W.localRotation,st,W.localRotation),R.c.normalize(W.localRotation,W.localRotation)}}(),W.lerp=function(){var Q=R.e.create(),nt=R.c.create(),st=R.e.create(),et=R.e.create(),_=R.c.create(),Y=R.e.create();return function($,q,at){W.setDirty(),R.b.getScaling(Q,$.worldTransform),R.b.getTranslation(st,$.worldTransform),R.b.getRotation(nt,$.worldTransform),R.b.getScaling(et,q.worldTransform),R.b.getTranslation(Y,q.worldTransform),R.b.getRotation(_,q.worldTransform),R.e.lerp(W.localScale,Q,et,at),R.c.slerp(W.localRotation,nt,_,at),R.e.lerp(W.localPosition,st,Y,at)}}(),W.translate=function(){var Q=R.e.create();return function(nt){return R.e.add(Q,W.getPosition(),nt),W.setPosition(Q),W.setDirty(!0),S()(W)}}(),W.translateLocal=function(){return function(Q){return R.e.transformQuat(Q,Q,W.localRotation),R.e.add(W.localPosition,W.localPosition,Q),W.setLocalDirty(!0),S()(W)}}(),W.setPosition=function(){var Q=R.b.create();return function(nt){return W.position=nt,W.setLocalDirty(!0),W.parent===null?R.e.copy(W.localPosition,nt):(R.b.copy(Q,W.parent.worldTransform),R.b.invert(Q,Q),R.e.transformMat4(W.localPosition,nt,Q)),S()(W)}}(),W.rotate=function(){var Q=R.c.create();return function(nt){if(W.parent===null)R.c.multiply(W.localRotation,W.localRotation,nt),R.c.normalize(W.localRotation,W.localRotation);else{var st=W.getRotation(),et=W.parent.getRotation();R.c.copy(Q,et),R.c.invert(Q,Q),R.c.multiply(Q,Q,nt),R.c.multiply(W.localRotation,nt,st),R.c.normalize(W.localRotation,W.localRotation)}return W.setLocalDirty(),S()(W)}}(),W.rotateLocal=function(){return function(Q){return R.c.multiply(W.localRotation,W.localRotation,Q),R.c.normalize(W.localRotation,W.localRotation),W.setLocalDirty(!0),S()(W)}}(),W.setRotation=function(){var Q=R.c.create();return function(nt){return W.parent===null?R.c.copy(W.localRotation,nt):(R.c.copy(Q,W.parent.getRotation()),R.c.invert(Q,Q),R.c.copy(W.localRotation,Q),R.c.mul(W.localRotation,W.localRotation,nt)),W.setLocalDirty(!0),S()(W)}}(),W}return p()(P,[{key:"setLocalPosition",value:function(W){R.e.copy(this.localPosition,W),this.setLocalDirty(!0)}},{key:"setLocalScale",value:function(W){R.e.copy(this.localScale,W),this.setLocalDirty(!0)}},{key:"setLocalRotation",value:function(W){return R.c.copy(this.localRotation,W),this.setLocalDirty(!0),this}},{key:"isDirty",value:function(){return this.dirtyFlag}},{key:"setDirty",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;W?this.dirtyFlag|=P.DIRTY:this.dirtyFlag&=~P.DIRTY}},{key:"isLocalDirty",value:function(){return this.localDirtyFlag}},{key:"setLocalDirty",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;W?(this.localDirtyFlag|=P.DIRTY,this.setDirty(!0)):this.localDirtyFlag&=~P.DIRTY}},{key:"updateTransform",value:function(){this.isLocalDirty()&&this.getLocalTransform(),this.isDirty()&&this.parent===null&&(R.b.copy(this.worldTransform,this.getLocalTransform()),this.setDirty(!1))}},{key:"updateTransformWithParent",value:function(W){R.b.multiply(this.worldTransform,W.worldTransform,this.getLocalTransform())}},{key:"applyTransform",value:function(){this.setDirty(),R.b.getScaling(this.localScale,this.worldTransform),R.b.getTranslation(this.localPosition,this.worldTransform),R.b.getRotation(this.localRotation,this.worldTransform)}},{key:"clearTransform",value:function(){this.setDirty(),this.localPosition=R.e.fromValues(0,0,0),this.localRotation=R.c.fromValues(0,0,0,1),this.localScale=R.e.fromValues(1,1,1)}},{key:"scaleLocal",value:function(W){return this.setLocalDirty(),R.e.multiply(this.localScale,this.localScale,W),this}},{key:"getLocalPosition",value:function(){return this.localPosition}},{key:"getLocalRotation",value:function(){return this.localRotation}},{key:"getLocalScale",value:function(){return this.localScale}},{key:"getLocalTransform",value:function(){return this.localDirtyFlag&&(R.b.fromRotationTranslationScale(this.localTransform,this.localRotation,this.localPosition,this.localScale),this.setLocalDirty(!1)),this.localTransform}},{key:"getWorldTransform",value:function(){return!this.isLocalDirty()&&!this.isDirty()?this.worldTransform:(this.parent&&this.parent.getWorldTransform(),this.updateTransform(),this.worldTransform)}},{key:"getPosition",value:function(){return R.b.getTranslation(this.position,this.worldTransform),this.position}},{key:"getRotation",value:function(){return R.b.getRotation(this.rotation,this.worldTransform),this.rotation}},{key:"getScale",value:function(){return R.b.getScaling(this.scaling,this.worldTransform),this.scaling}}]),P}(y.a);z.DIRTY=1<<0},Gg4N:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("YS0J"),g=function(E){Object(f.c)(S,E);function S(){return E!==null&&E.apply(this,arguments)||this}return S.prototype.isGroup=function(){return!0},S.prototype.isEntityGroup=function(){return!1},S.prototype.clone=function(){for(var A=E.prototype.clone.call(this),M=this.getChildren(),x=0;x<M.length;x++){var O=M[x];A.add(O.clone())}return A},S}(i.a),p=g},Gi0A:function(Ft,I,a){var f=a("QqLw"),i=a("ExA7"),g="[object Map]";function p(E){return i(E)&&f(E)==g}Ft.exports=p},Gj0h:function(Ft,I,a){"use strict";a.d(I,"AST_TOKEN_TYPES",function(){return $}),a.d(I,"STORAGE_CLASS",function(){return at}),a.d(I,"Target",function(){return pt}),a.d(I,"DefineValuePlaceholder",function(){return mt});var f=a("mNvP"),i=a.n(f),g=a("oDt1"),p=a("z5Mu"),E=a("0arJ"),S=a("4dNS"),A=a("ph3A"),M=a("RlxE"),x=a("baXp"),O=a("6B+r"),C=a("kfnj"),D=a("FlHB"),R=a("tyuB"),y=a("IQ25"),w=a("BFph"),N=a("Gc+X"),z=a("9y2T");a.d(I,"createEntity",function(){return z.b});var V=a("+uE7");a.d(I,"IDENTIFIER",function(){return V.a});var B=a("OqSR");a.d(I,"createWorldContainer",function(){return B.a});var P=a("Ssa2");a.d(I,"generateAABBFromVertices",function(){return P.a});var T=a("ljNz");a.d(I,"isSafari",function(){return T.a});var W=a("8jh/"),Q=a("48hD");a.d(I,"AABB",function(){return Q.a}),a.d(I,"Frustum",function(){return Q.b});var nt=a("4XUm");a.o(nt,"gl")&&a.d(I,"gl",function(){return nt.gl});var st=a("FXSy"),et=a.n(st);a.o(st,"gl")&&a.d(I,"gl",function(){return st.gl});var _=a("Yydy"),Y=a.n(_);a.o(_,"gl")&&a.d(I,"gl",function(){return _.gl}),a.o(nt,"gl")&&a.d(I,"gl",function(){return nt.gl});var $;(function(ot){ot.Void="Void",ot.Boolean="Boolean",ot.Float="Float",ot.Uint32="Uint32",ot.Int32="Int32",ot.Vector="Vector",ot.Vector2Float="vec2<f32>",ot.Vector3Float="vec3<f32>",ot.Vector4Float="vec4<f32>",ot.Vector2Boolean="vec2<bool>",ot.Vector3Boolean="vec3<bool>",ot.Vector4Boolean="vec4<bool>",ot.Vector2Uint="vec2<u32>",ot.Vector3Uint="vec3<u32>",ot.Vector4Uint="vec4<u32>",ot.Vector2Int="vec2<i32>",ot.Vector3Int="vec3<i32>",ot.Vector4Int="vec4<i32>",ot.Matrix="Matrix",ot.Matrix3x3Float="mat3x3<f32>",ot.Matrix4x4Float="mat4x4<i32>",ot.Struct="Struct",ot.FloatArray="Float[]",ot.Vector4FloatArray="vec4<f32>[]"})($||($={}));var q;(function(ot){ot.Program="Program",ot.Identifier="Identifier",ot.VariableDeclaration="VariableDeclaration",ot.BlockStatement="BlockStatement",ot.ReturnStatement="ReturnStatement",ot.FunctionDeclaration="FunctionDeclaration",ot.VariableDeclarator="VariableDeclarator",ot.AssignmentExpression="AssignmentExpression",ot.LogicalExpression="LogicalExpression",ot.BinaryExpression="BinaryExpression",ot.ArrayExpression="ArrayExpression",ot.UnaryExpression="UnaryExpression",ot.UpdateExpression="UpdateExpression",ot.FunctionExpression="FunctionExpression",ot.MemberExpression="MemberExpression",ot.ConditionalExpression="ConditionalExpression",ot.ExpressionStatement="ExpressionStatement",ot.CallExpression="CallExpression",ot.NumThreadStatement="NumThreadStatement",ot.StorageStatement="StorageStatement",ot.DoWhileStatement="DoWhileStatement",ot.WhileStatement="WhileStatement",ot.ForStatement="ForStatement",ot.BreakStatement="BreakStatement",ot.ContinueStatement="ContinueStatement",ot.IfStatement="IfStatement",ot.ImportedFunctionStatement="ImportedFunctionStatement"})(q||(q={}));var at;(function(ot){ot.Input="Input",ot.Output="Output",ot.Uniform="Uniform",ot.Workgroup="Workgroup",ot.UniformConstant="UniformConstant",ot.Image="Image",ot.StorageBuffer="StorageBuffer",ot.Private="Private",ot.Function="Function"})(at||(at={}));var pt;(function(ot){ot.GLSL100="GLSL100",ot.GLSL450="GLSL450",ot.WGSL="WGSL"})(pt||(pt={}));var mt="__DefineValuePlaceholder__"},GrlX:function(Ft,I,a){var f=a("T016"),i=a("JRS9"),g={};for(var p in f)f.hasOwnProperty(p)&&(g[f[p]]=p);var E=Ft.exports={to:{},get:{}};E.get=function(M){var x=M.substring(0,3).toLowerCase(),O,C;switch(x){case"hsl":O=E.get.hsl(M),C="hsl";break;case"hwb":O=E.get.hwb(M),C="hwb";break;default:O=E.get.rgb(M),C="rgb";break}return O?{model:C,value:O}:null},E.get.rgb=function(M){if(!M)return null;var x=/^#([a-f0-9]{3,4})$/i,O=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,C=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,D=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,R=/(\D+)/,y=[0,0,0,1],w,N,z;if(w=M.match(O)){for(z=w[2],w=w[1],N=0;N<3;N++){var V=N*2;y[N]=parseInt(w.slice(V,V+2),16)}z&&(y[3]=parseInt(z,16)/255)}else if(w=M.match(x)){for(w=w[1],z=w[3],N=0;N<3;N++)y[N]=parseInt(w[N]+w[N],16);z&&(y[3]=parseInt(z+z,16)/255)}else if(w=M.match(C)){for(N=0;N<3;N++)y[N]=parseInt(w[N+1],0);w[4]&&(y[3]=parseFloat(w[4]))}else if(w=M.match(D)){for(N=0;N<3;N++)y[N]=Math.round(parseFloat(w[N+1])*2.55);w[4]&&(y[3]=parseFloat(w[4]))}else return(w=M.match(R))?w[1]==="transparent"?[0,0,0,0]:(y=f[w[1]],y?(y[3]=1,y):null):null;for(N=0;N<3;N++)y[N]=S(y[N],0,255);return y[3]=S(y[3],0,1),y},E.get.hsl=function(M){if(!M)return null;var x=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,O=M.match(x);if(O){var C=parseFloat(O[4]),D=(parseFloat(O[1])+360)%360,R=S(parseFloat(O[2]),0,100),y=S(parseFloat(O[3]),0,100),w=S(isNaN(C)?1:C,0,1);return[D,R,y,w]}return null},E.get.hwb=function(M){if(!M)return null;var x=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,O=M.match(x);if(O){var C=parseFloat(O[4]),D=(parseFloat(O[1])%360+360)%360,R=S(parseFloat(O[2]),0,100),y=S(parseFloat(O[3]),0,100),w=S(isNaN(C)?1:C,0,1);return[D,R,y,w]}return null},E.to.hex=function(){var M=i(arguments);return"#"+A(M[0])+A(M[1])+A(M[2])+(M[3]<1?A(Math.round(M[3]*255)):"")},E.to.rgb=function(){var M=i(arguments);return M.length<4||M[3]===1?"rgb("+Math.round(M[0])+", "+Math.round(M[1])+", "+Math.round(M[2])+")":"rgba("+Math.round(M[0])+", "+Math.round(M[1])+", "+Math.round(M[2])+", "+M[3]+")"},E.to.rgb.percent=function(){var M=i(arguments),x=Math.round(M[0]/255*100),O=Math.round(M[1]/255*100),C=Math.round(M[2]/255*100);return M.length<4||M[3]===1?"rgb("+x+"%, "+O+"%, "+C+"%)":"rgba("+x+"%, "+O+"%, "+C+"%, "+M[3]+")"},E.to.hsl=function(){var M=i(arguments);return M.length<4||M[3]===1?"hsl("+M[0]+", "+M[1]+"%, "+M[2]+"%)":"hsla("+M[0]+", "+M[1]+"%, "+M[2]+"%, "+M[3]+")"},E.to.hwb=function(){var M=i(arguments),x="";return M.length>=4&&M[3]!==1&&(x=", "+M[3]),"hwb("+M[0]+", "+M[1]+"%, "+M[2]+"%"+x+")"},E.to.keyword=function(M){return g[M.slice(0,3)]};function S(M,x,O){return Math.min(Math.max(x,M),O)}function A(M){var x=M.toString(16).toUpperCase();return x.length<2?"0"+x:x}},"Gu+u":function(Ft,I){var a=[],f=[],i="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function g(E,S){if(S=S||{},E===void 0)throw new Error(i);var A=S.prepend===!0?"prepend":"append",M=S.container!==void 0?S.container:document.querySelector("head"),x=a.indexOf(M);x===-1&&(x=a.push(M)-1,f[x]={});var O;return f[x]!==void 0&&f[x][A]!==void 0?O=f[x][A]:(O=f[x][A]=p(),A==="prepend"?M.insertBefore(O,M.childNodes[0]):M.appendChild(O)),E.charCodeAt(0)===65279&&(E=E.substr(1,E.length)),O.styleSheet?O.styleSheet.cssText+=E:O.textContent+=E,O}function p(){var E=document.createElement("style");return E.setAttribute("type","text/css"),E}Ft.exports=g,Ft.exports.insertCss=g},Gytx:function(Ft,I){Ft.exports=function(f,i,g,p){var E=g?g.call(p,f,i):void 0;if(E!==void 0)return!!E;if(f===i)return!0;if(typeof f!="object"||!f||typeof i!="object"||!i)return!1;var S=Object.keys(f),A=Object.keys(i);if(S.length!==A.length)return!1;for(var M=Object.prototype.hasOwnProperty.bind(i),x=0;x<S.length;x++){var O=S[x];if(!M(O))return!1;var C=f[O],D=i[O];if(E=g?g.call(p,C,D,O):void 0,E===!1||E===void 0&&C!==D)return!1}return!0}},H7K6:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("e0ae"),g=a("YS0J"),p=a("8Ek7"),E=a("iTfj"),S=a("dPRQ"),A=a("+3eq"),M=a("6h3Y"),x=a("ZzDG"),O=a("kdrt"),C=function(ot){return["fill","stroke","fillStyle","strokeStyle"].includes(ot)},D=function(ot){return/^[r,R,L,l]{1}[\s]*\(/.test(ot)},R=[1,0,0,0,1,0,0,0,1];function y(mt,ot,xt){var It={},Ht=ot.fromAttrs,Qt=ot.toAttrs;if(!mt.destroyed){var $t;for(var yt in Qt)if(!Object(E.G)(Ht[yt],Qt[yt]))if(yt==="path"){var ut=Qt[yt],ft=Ht[yt];ut.length>ft.length?(ut=O.c(Qt[yt]),ft=O.c(Ht[yt]),ft=O.a(ft,ut),ft=O.b(ft,ut),ot.fromAttrs.path=ft,ot.toAttrs.path=ut):ot.pathFormatted||(ut=O.c(Qt[yt]),ft=O.c(Ht[yt]),ft=O.b(ft,ut),ot.fromAttrs.path=ft,ot.toAttrs.path=ut,ot.pathFormatted=!0),It[yt]=[];for(var it=0;it<ut.length;it++){for(var vt=ut[it],Wt=ft[it],Ct=[],Z=0;Z<vt.length;Z++)Object(E.K)(vt[Z])&&Wt&&Object(E.K)(Wt[Z])?($t=Object(M.a)(Wt[Z],vt[Z]),Ct.push($t(xt))):Ct.push(vt[Z]);It[yt].push(Ct)}}else if(yt==="matrix"){var X=Object(x.a)(Ht[yt]||R,Qt[yt]||R),dt=X(xt);It[yt]=dt}else C(yt)&&D(Qt[yt])?It[yt]=Qt[yt]:Object(E.H)(Qt[yt])||($t=Object(M.a)(Ht[yt],Qt[yt]),It[yt]=$t(xt));mt.attr(It)}}function w(mt,ot,xt){var It=ot.startTime,Ht=ot.delay;if(xt<It+Ht||ot._paused)return!1;var Qt,$t=ot.duration,yt=ot.easing;if(xt=xt-It-ot.delay,ot.repeat)Qt=xt%$t/$t,Qt=A[yt](Qt);else if(Qt=xt/$t,Qt<1)Qt=A[yt](Qt);else return ot.onFrame?mt.attr(ot.onFrame(1)):mt.attr(ot.toAttrs),!0;if(ot.onFrame){var ut=ot.onFrame(Qt);mt.attr(ut)}else y(mt,ot,Qt);return!1}var N=function(){function mt(ot){this.animators=[],this.current=0,this.timer=null,this.canvas=ot}return mt.prototype.initTimer=function(){var ot=this,xt=!1,It,Ht,Qt;this.timer=S.a(function($t){if(ot.current=$t,ot.animators.length>0){for(var yt=ot.animators.length-1;yt>=0;yt--){if(It=ot.animators[yt],It.destroyed){ot.removeAnimator(yt);continue}if(!It.isAnimatePaused()){Ht=It.get("animations");for(var ut=Ht.length-1;ut>=0;ut--)Qt=Ht[ut],xt=w(It,Qt,$t),xt&&(Ht.splice(ut,1),xt=!1,Qt.callback&&Qt.callback())}Ht.length===0&&ot.removeAnimator(yt)}var ft=ot.canvas.get("autoDraw");ft||ot.canvas.draw()}})},mt.prototype.addAnimator=function(ot){this.animators.push(ot)},mt.prototype.removeAnimator=function(ot){this.animators.splice(ot,1)},mt.prototype.isAnimating=function(){return!!this.animators.length},mt.prototype.stop=function(){this.timer&&this.timer.stop()},mt.prototype.stopAllAnimations=function(ot){ot===void 0&&(ot=!0),this.animators.forEach(function(xt){xt.stopAnimate(ot)}),this.animators=[],this.canvas.draw()},mt.prototype.getTime=function(){return this.current},mt}(),z=N,V=a("weLR"),B=40,P=0,T=":",W=["mousedown","mouseup","dblclick","mouseout","mouseover","mousemove","mouseleave","mouseenter","touchstart","touchmove","touchend","dragenter","dragover","dragleave","drop","contextmenu","mousewheel"];function Q(mt,ot){for(var xt in mt)if(mt.hasOwnProperty(xt)&&xt.indexOf(T+ot)>=0)return!0;return!1}function nt(mt,ot,xt){xt.name=ot,xt.target=mt,xt.currentTarget=mt,xt.delegateTarget=mt,mt.emit(ot,xt)}function st(mt,ot,xt){if(xt.bubbles){var It=void 0,Ht=!1;if(ot==="mouseenter"?(It=xt.fromShape,Ht=!0):ot==="mouseleave"&&(Ht=!0,It=xt.toShape),mt.isCanvas()&&Ht)return;if(It&&Object(p.g)(mt,It)){xt.bubbles=!1;return}xt.name=ot,xt.currentTarget=mt,xt.delegateTarget=mt,mt.emit(ot,xt)}}var et=function(){function mt(ot){var xt=this;this.draggingShape=null,this.dragging=!1,this.currentShape=null,this.mousedownShape=null,this.mousedownPoint=null,this._eventCallback=function(It){var Ht=It.type;xt._triggerEvent(Ht,It)},this._onDocumentMove=function(It){var Ht=xt.canvas,Qt=Ht.get("el");if(Qt!==It.target&&(xt.dragging||xt.currentShape)){var $t=xt._getPointInfo(It);xt.dragging&&xt._emitEvent("drag",It,$t,xt.draggingShape)}},this._onDocumentMouseUp=function(It){var Ht=xt.canvas,Qt=Ht.get("el");if(Qt!==It.target&&xt.dragging){var $t=xt._getPointInfo(It);xt.draggingShape&&xt._emitEvent("drop",It,$t,null),xt._emitEvent("dragend",It,$t,xt.draggingShape),xt._afterDrag(xt.draggingShape,$t,It)}},this.canvas=ot.canvas}return mt.prototype.init=function(){this._bindEvents()},mt.prototype._bindEvents=function(){var ot=this,xt=this.canvas.get("el");Object(p.a)(W,function(It){xt.addEventListener(It,ot._eventCallback)}),document&&(document.addEventListener("mousemove",this._onDocumentMove),document.addEventListener("mouseup",this._onDocumentMouseUp))},mt.prototype._clearEvents=function(){var ot=this,xt=this.canvas.get("el");Object(p.a)(W,function(It){xt.removeEventListener(It,ot._eventCallback)}),document&&(document.removeEventListener("mousemove",this._onDocumentMove),document.removeEventListener("mouseup",this._onDocumentMouseUp))},mt.prototype._getEventObj=function(ot,xt,It,Ht,Qt,$t){var yt=new V.a(ot,xt);return yt.fromShape=Qt,yt.toShape=$t,yt.x=It.x,yt.y=It.y,yt.clientX=It.clientX,yt.clientY=It.clientY,yt.propagationPath.push(Ht),yt},mt.prototype._getShape=function(ot,xt){return this.canvas.getShape(ot.x,ot.y,xt)},mt.prototype._getPointInfo=function(ot){var xt=this.canvas,It=xt.getClientByEvent(ot),Ht=xt.getPointByEvent(ot);return{x:Ht.x,y:Ht.y,clientX:It.x,clientY:It.y}},mt.prototype._triggerEvent=function(ot,xt){var It=this._getPointInfo(xt),Ht=this._getShape(It,xt),Qt=this["_on"+ot],$t=!1;if(Qt)Qt.call(this,It,Ht,xt);else{var yt=this.currentShape;ot==="mouseenter"||ot==="dragenter"||ot==="mouseover"?(this._emitEvent(ot,xt,It,null,null,Ht),Ht&&this._emitEvent(ot,xt,It,Ht,null,Ht),ot==="mouseenter"&&this.draggingShape&&this._emitEvent("dragenter",xt,It,null)):ot==="mouseleave"||ot==="dragleave"||ot==="mouseout"?($t=!0,yt&&this._emitEvent(ot,xt,It,yt,yt,null),this._emitEvent(ot,xt,It,null,yt,null),ot==="mouseleave"&&this.draggingShape&&this._emitEvent("dragleave",xt,It,null)):this._emitEvent(ot,xt,It,Ht,null,null)}if($t||(this.currentShape=Ht),Ht&&!Ht.get("destroyed")){var ut=this.canvas,ft=ut.get("el");ft.style.cursor=Ht.attr("cursor")||ut.get("cursor")}},mt.prototype._onmousedown=function(ot,xt,It){It.button===P&&(this.mousedownShape=xt,this.mousedownPoint=ot,this.mousedownTimeStamp=It.timeStamp),this._emitEvent("mousedown",It,ot,xt,null,null)},mt.prototype._emitMouseoverEvents=function(ot,xt,It,Ht){var Qt=this.canvas.get("el");It!==Ht&&(It&&(this._emitEvent("mouseout",ot,xt,It,It,Ht),this._emitEvent("mouseleave",ot,xt,It,It,Ht),(!Ht||Ht.get("destroyed"))&&(Qt.style.cursor=this.canvas.get("cursor"))),Ht&&(this._emitEvent("mouseover",ot,xt,Ht,It,Ht),this._emitEvent("mouseenter",ot,xt,Ht,It,Ht)))},mt.prototype._emitDragoverEvents=function(ot,xt,It,Ht,Qt){Ht?(Ht!==It&&(It&&this._emitEvent("dragleave",ot,xt,It,It,Ht),this._emitEvent("dragenter",ot,xt,Ht,It,Ht)),Qt||this._emitEvent("dragover",ot,xt,Ht)):It&&this._emitEvent("dragleave",ot,xt,It,It,Ht),Qt&&this._emitEvent("dragover",ot,xt,Ht)},mt.prototype._afterDrag=function(ot,xt,It){ot&&(ot.set("capture",!0),this.draggingShape=null),this.dragging=!1;var Ht=this._getShape(xt,It);Ht!==ot&&this._emitMouseoverEvents(It,xt,ot,Ht),this.currentShape=Ht},mt.prototype._onmouseup=function(ot,xt,It){if(It.button===P){var Ht=this.draggingShape;this.dragging?(Ht&&this._emitEvent("drop",It,ot,xt),this._emitEvent("dragend",It,ot,Ht),this._afterDrag(Ht,ot,It)):(this._emitEvent("mouseup",It,ot,xt),xt===this.mousedownShape&&this._emitEvent("click",It,ot,xt),this.mousedownShape=null,this.mousedownPoint=null)}},mt.prototype._ondragover=function(ot,xt,It){It.preventDefault();var Ht=this.currentShape;this._emitDragoverEvents(It,ot,Ht,xt,!0)},mt.prototype._onmousemove=function(ot,xt,It){var Ht=this.canvas,Qt=this.currentShape,$t=this.draggingShape;if(this.dragging)$t&&this._emitDragoverEvents(It,ot,Qt,xt,!1),this._emitEvent("drag",It,ot,$t);else{var yt=this.mousedownPoint;if(yt){var ut=this.mousedownShape,ft=It.timeStamp,it=ft-this.mousedownTimeStamp,vt=yt.clientX-ot.clientX,Wt=yt.clientY-ot.clientY,Ct=vt*vt+Wt*Wt;it>120||Ct>B?ut&&ut.get("draggable")?($t=this.mousedownShape,$t.set("capture",!1),this.draggingShape=$t,this.dragging=!0,this._emitEvent("dragstart",It,ot,$t),this.mousedownShape=null,this.mousedownPoint=null):!ut&&Ht.get("draggable")?(this.dragging=!0,this._emitEvent("dragstart",It,ot,null),this.mousedownShape=null,this.mousedownPoint=null):(this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt)):(this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt))}else this._emitMouseoverEvents(It,ot,Qt,xt),this._emitEvent("mousemove",It,ot,xt)}},mt.prototype._emitEvent=function(ot,xt,It,Ht,Qt,$t){var yt=this._getEventObj(ot,xt,It,Ht,Qt,$t);if(Ht){yt.shape=Ht,nt(Ht,ot,yt);for(var ut=Ht.getParent();ut;)ut.emitDelegation(ot,yt),yt.propagationStopped||st(ut,ot,yt),yt.propagationPath.push(ut),ut=ut.getParent()}else{var ft=this.canvas;nt(ft,ot,yt)}},mt.prototype.destroy=function(){this._clearEvents(),this.canvas=null,this.currentShape=null,this.draggingShape=null,this.mousedownPoint=null,this.mousedownShape=null,this.mousedownTimeStamp=null},mt}(),_=et,Y="px",$=Object(i.a)(),q=$&&$.name==="firefox",at=function(mt){Object(f.c)(ot,mt);function ot(xt){var It=mt.call(this,xt)||this;return It.initContainer(),It.initDom(),It.initEvents(),It.initTimeline(),It}return ot.prototype.getDefaultCfg=function(){var xt=mt.prototype.getDefaultCfg.call(this);return xt.cursor="default",xt.supportCSSTransform=!1,xt},ot.prototype.initContainer=function(){var xt=this.get("container");Object(p.h)(xt)&&(xt=document.getElementById(xt),this.set("container",xt))},ot.prototype.initDom=function(){var xt=this.createDom();this.set("el",xt);var It=this.get("container");It.appendChild(xt),this.setDOMSize(this.get("width"),this.get("height"))},ot.prototype.initEvents=function(){var xt=new _({canvas:this});xt.init(),this.set("eventController",xt)},ot.prototype.initTimeline=function(){var xt=new z(this);this.set("timeline",xt)},ot.prototype.setDOMSize=function(xt,It){var Ht=this.get("el");p.c&&(Ht.style.width=xt+Y,Ht.style.height=It+Y)},ot.prototype.changeSize=function(xt,It){this.setDOMSize(xt,It),this.set("width",xt),this.set("height",It),this.onCanvasChange("changeSize")},ot.prototype.getRenderer=function(){return this.get("renderer")},ot.prototype.getCursor=function(){return this.get("cursor")},ot.prototype.setCursor=function(xt){this.set("cursor",xt);var It=this.get("el");p.c&&It&&(It.style.cursor=xt)},ot.prototype.getPointByEvent=function(xt){var It=this.get("supportCSSTransform");if(It){if(q&&!Object(p.e)(xt.layerX)&&xt.layerX!==xt.offsetX)return{x:xt.layerX,y:xt.layerY};if(!Object(p.e)(xt.offsetX))return{x:xt.offsetX,y:xt.offsetY}}var Ht=this.getClientByEvent(xt),Qt=Ht.x,$t=Ht.y;return this.getPointByClient(Qt,$t)},ot.prototype.getClientByEvent=function(xt){var It=xt;return xt.touches&&(xt.type==="touchend"?It=xt.changedTouches[0]:It=xt.touches[0]),{x:It.clientX,y:It.clientY}},ot.prototype.getPointByClient=function(xt,It){var Ht=this.get("el"),Qt=Ht.getBoundingClientRect();return{x:xt-Qt.left,y:It-Qt.top}},ot.prototype.getClientByPoint=function(xt,It){var Ht=this.get("el"),Qt=Ht.getBoundingClientRect();return{x:xt+Qt.left,y:It+Qt.top}},ot.prototype.draw=function(){},ot.prototype.removeDom=function(){var xt=this.get("el");xt.parentNode.removeChild(xt)},ot.prototype.clearEvents=function(){var xt=this.get("eventController");xt.destroy()},ot.prototype.isCanvas=function(){return!0},ot.prototype.getParent=function(){return null},ot.prototype.destroy=function(){var xt=this.get("timeline");this.get("destroyed")||(this.clear(),xt&&xt.stop(),this.clearEvents(),this.removeDom(),mt.prototype.destroy.call(this))},ot}(g.a),pt=at},HLqC:function(Ft,I,a){var f=a("R5Y4"),i=a("mv/X"),g=a("ZCgT");function p(E){return function(S,A,M){return M&&typeof M!="number"&&i(S,A,M)&&(A=M=void 0),S=g(S),A===void 0?(A=S,S=0):A=g(A),M=M===void 0?S<A?1:-1:g(M),f(S,A,M,E)}}Ft.exports=p},HXND:function(Ft,I,a){"use strict";a.d(I,"a",function(){return C});var f=a("mrSG"),i=a("iTfj"),g=a("w02o"),p=a("YuPD"),E=a("tKoa"),S=a("sqD9"),A=a("hJqF");a.d(I,"b",function(){return A.d});function M(D){var R=D.chart,y=D.options,w=y.data,N=y.areaStyle,z=y.color,V=y.point,B=y.line,P=y.isPercent,T=y.xField,W=y.yField,Q=y.tooltip,nt=y.seriesField,st=y.startOnZero,et=V==null?void 0:V.state,_=Object(S.a)(w,W,T,W,P);R.data(_);var Y=P?Object(f.a)({formatter:function(mt){return{name:mt[nt]||mt[T],value:(Number(mt[W])*100).toFixed(2)+"%"}}},Q):Q,$=Object(p.b)({},D,{options:{area:{color:z,style:N},line:B&&Object(f.a)({color:z},B),point:V&&Object(f.a)({color:z},V),tooltip:Y,label:void 0,args:{startOnZero:st}}}),q=Object(p.b)({},$,{options:{tooltip:!1}}),at=Object(p.b)({},$,{options:{tooltip:!1,state:et}});return Object(E.a)($),Object(E.d)(q),Object(E.e)(at),D}function x(D){var R=D.chart,y=D.options,w=y.label,N=y.yField,z=Object(p.c)(R,"area");if(!w)z.label(!1);else{var V=w.callback,B=Object(f.e)(w,["callback"]);z.label({fields:[N],callback:V,cfg:Object(f.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(p.u)(B))})}return D}function O(D){var R=D.chart,y=D.options,w=y.isStack,N=y.isPercent,z=y.seriesField;return(N||w)&&z&&Object(i.j)(R.geometries,function(V){V.adjust("stack")}),D}function C(D){return Object(p.e)(M,A.d,O,g.j,A.b,A.c,g.k,x,g.h,Object(g.b)(),g.c,g.a,g.e)(D)}},HpQ9:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ContainerSnapshot=void 0;var f=function(){function i(){}return i.of=function(g,p){var E=new i;return E.bindings=g,E.middleware=p,E},i}();I.ContainerSnapshot=f},HzoJ:function(Ft,I,a){var f=a("b5wT");Ft.exports=i;function i(g,p){return f.map(p,function(E){var S=g.inEdges(E);if(S.length){var A=f.reduce(S,function(M,x){var O=g.edge(x),C=g.node(x.v);return{sum:M.sum+O.weight*C.order,weight:M.weight+O.weight}},{sum:0,weight:0});return{v:E,barycenter:A.sum/A.weight,weight:A.weight}}else return{v:E}})}},I01J:function(Ft,I,a){var f=a("44Ds"),i=500;function g(p){var E=f(p,function(A){return S.size===i&&S.clear(),A}),S=E.cache;return E}Ft.exports=g},I4jL:function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"c",function(){return p});var f=a("FPPI"),i=a("7IPS"),g=(1+Math.sqrt(5))/2;function p(E,S,A,M,x,O){for(var C=[],D=S.children,R,y,w=0,N=0,z=D.length,V,B,P=S.value,T,W,Q,nt,st,et,_;w<z;){V=x-A,B=O-M;do T=D[N++].value;while(!T&&N<z);for(W=Q=T,et=Math.max(B/V,V/B)/(P*E),_=T*T*et,st=Math.max(Q/_,_/W);N<z;++N){if(T+=y=D[N].value,y<W&&(W=y),y>Q&&(Q=y),_=T*T*et,nt=Math.max(Q/_,_/W),nt>st){T-=y;break}st=nt}C.push(R={value:T,dice:V<B,children:D.slice(w,N)}),R.dice?Object(f.a)(R,A,M,x,P?M+=B*T/P:O):Object(i.a)(R,A,M,P?A+=V*T/P:x,O),P-=T,w=N}return C}I.a=function E(S){function A(M,x,O,C,D){p(S,M,x,O,C,D)}return A.ratio=function(M){return E((M=+M)>1?M:1)},A}(g)},I7nc:function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"a",function(){return p});var f=a("iTfj"),i="Invalid field: it must be a string!";function g(E,S){var A=E.field,M=E.fields;if(Object(f.O)(A))return A;if(Object(f.B)(A))return console.warn(i),A[0];if(console.warn(i+" will try to get fields instead."),Object(f.O)(M))return M;if(Object(f.B)(M)&&M.length)return M[0];if(S)return S;throw new TypeError(i)}function p(E){var S=[];return E&&E.each?E.each(function(A){S.push(A)}):E&&E.eachNode&&E.eachNode(function(A){S.push(A)}),S}},IOcx:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return i}),a.d(I,"c",function(){return p}),a.d(I,"d",function(){return Us}),a.d(I,"e",function(){return an}),a.d(I,"f",function(){return g});var f={};a.r(f),a.d(f,"create",function(){return S}),a.d(f,"fromMat4",function(){return A}),a.d(f,"clone",function(){return M}),a.d(f,"copy",function(){return x}),a.d(f,"fromValues",function(){return O}),a.d(f,"set",function(){return C}),a.d(f,"identity",function(){return D}),a.d(f,"transpose",function(){return R}),a.d(f,"invert",function(){return y}),a.d(f,"adjoint",function(){return w}),a.d(f,"determinant",function(){return N}),a.d(f,"multiply",function(){return z}),a.d(f,"translate",function(){return V}),a.d(f,"rotate",function(){return B}),a.d(f,"scale",function(){return P}),a.d(f,"fromTranslation",function(){return T}),a.d(f,"fromRotation",function(){return W}),a.d(f,"fromScaling",function(){return Q}),a.d(f,"fromMat2d",function(){return nt}),a.d(f,"fromQuat",function(){return st}),a.d(f,"normalFromMat4",function(){return et}),a.d(f,"projection",function(){return _}),a.d(f,"str",function(){return Y}),a.d(f,"frob",function(){return $}),a.d(f,"add",function(){return q}),a.d(f,"subtract",function(){return at}),a.d(f,"multiplyScalar",function(){return pt}),a.d(f,"multiplyScalarAndAdd",function(){return mt}),a.d(f,"exactEquals",function(){return ot}),a.d(f,"equals",function(){return xt}),a.d(f,"mul",function(){return It}),a.d(f,"sub",function(){return Ht});var i={};a.r(i),a.d(i,"create",function(){return Qt}),a.d(i,"clone",function(){return $t}),a.d(i,"copy",function(){return yt}),a.d(i,"fromValues",function(){return ut}),a.d(i,"set",function(){return ft}),a.d(i,"identity",function(){return it}),a.d(i,"transpose",function(){return vt}),a.d(i,"invert",function(){return Wt}),a.d(i,"adjoint",function(){return Ct}),a.d(i,"determinant",function(){return Z}),a.d(i,"multiply",function(){return X}),a.d(i,"translate",function(){return dt}),a.d(i,"scale",function(){return H}),a.d(i,"rotate",function(){return lt}),a.d(i,"rotateX",function(){return Ot}),a.d(i,"rotateY",function(){return Rt}),a.d(i,"rotateZ",function(){return zt}),a.d(i,"fromTranslation",function(){return Bt}),a.d(i,"fromScaling",function(){return tt}),a.d(i,"fromRotation",function(){return J}),a.d(i,"fromXRotation",function(){return G}),a.d(i,"fromYRotation",function(){return Et}),a.d(i,"fromZRotation",function(){return Tt}),a.d(i,"fromRotationTranslation",function(){return ct}),a.d(i,"fromQuat2",function(){return St}),a.d(i,"getTranslation",function(){return Vt}),a.d(i,"getScaling",function(){return Lt}),a.d(i,"getRotation",function(){return Nt}),a.d(i,"fromRotationTranslationScale",function(){return Zt}),a.d(i,"fromRotationTranslationScaleOrigin",function(){return oe}),a.d(i,"fromQuat",function(){return ue}),a.d(i,"frustum",function(){return Ee}),a.d(i,"perspective",function(){return Te}),a.d(i,"perspectiveFromFieldOfView",function(){return Se}),a.d(i,"ortho",function(){return $e}),a.d(i,"lookAt",function(){return cr}),a.d(i,"targetTo",function(){return He}),a.d(i,"str",function(){return _e}),a.d(i,"frob",function(){return ur}),a.d(i,"add",function(){return jr}),a.d(i,"subtract",function(){return Ar}),a.d(i,"multiplyScalar",function(){return Ge}),a.d(i,"multiplyScalarAndAdd",function(){return br}),a.d(i,"exactEquals",function(){return er}),a.d(i,"equals",function(){return nr}),a.d(i,"mul",function(){return yr}),a.d(i,"sub",function(){return Rr});var g={};a.r(g),a.d(g,"create",function(){return In}),a.d(g,"clone",function(){return Un}),a.d(g,"fromValues",function(){return _n}),a.d(g,"copy",function(){return sa}),a.d(g,"set",function(){return ci}),a.d(g,"add",function(){return fi}),a.d(g,"subtract",function(){return pa}),a.d(g,"multiply",function(){return ga}),a.d(g,"divide",function(){return Xi}),a.d(g,"ceil",function(){return Ci}),a.d(g,"floor",function(){return Ki}),a.d(g,"min",function(){return so}),a.d(g,"max",function(){return co}),a.d(g,"round",function(){return fo}),a.d(g,"scale",function(){return ya}),a.d(g,"scaleAndAdd",function(){return _a}),a.d(g,"distance",function(){return rr}),a.d(g,"squaredDistance",function(){return ir}),a.d(g,"length",function(){return Ye}),a.d(g,"squaredLength",function(){return tr}),a.d(g,"negate",function(){return Fr}),a.d(g,"inverse",function(){return tn}),a.d(g,"normalize",function(){return bn}),a.d(g,"dot",function(){return on}),a.d(g,"cross",function(){return Oa}),a.d(g,"lerp",function(){return na}),a.d(g,"random",function(){return wa}),a.d(g,"transformMat4",function(){return da}),a.d(g,"transformQuat",function(){return bi}),a.d(g,"zero",function(){return qa}),a.d(g,"str",function(){return fa}),a.d(g,"exactEquals",function(){return Aa}),a.d(g,"equals",function(){return Sa}),a.d(g,"sub",function(){return Fa}),a.d(g,"mul",function(){return Ka}),a.d(g,"div",function(){return hi}),a.d(g,"dist",function(){return me}),a.d(g,"sqrDist",function(){return he}),a.d(g,"len",function(){return be}),a.d(g,"sqrLen",function(){return Ve}),a.d(g,"forEach",function(){return Ke});var p={};a.r(p),a.d(p,"create",function(){return fr}),a.d(p,"identity",function(){return Lr}),a.d(p,"setAxisAngle",function(){return _r}),a.d(p,"getAxisAngle",function(){return ua}),a.d(p,"getAngle",function(){return ta}),a.d(p,"multiply",function(){return Kn}),a.d(p,"rotateX",function(){return ji}),a.d(p,"rotateY",function(){return Ra}),a.d(p,"rotateZ",function(){return eo}),a.d(p,"calculateW",function(){return Si}),a.d(p,"exp",function(){return yo}),a.d(p,"ln",function(){return Co}),a.d(p,"pow",function(){return Ro}),a.d(p,"slerp",function(){return we}),a.d(p,"random",function(){return ro}),a.d(p,"invert",function(){return pe}),a.d(p,"conjugate",function(){return Gi}),a.d(p,"fromMat3",function(){return Ba}),a.d(p,"fromEuler",function(){return On}),a.d(p,"str",function(){return mo}),a.d(p,"clone",function(){return Xo}),a.d(p,"fromValues",function(){return Ei}),a.d(p,"copy",function(){return Zi}),a.d(p,"set",function(){return Do}),a.d(p,"add",function(){return Po}),a.d(p,"mul",function(){return bo}),a.d(p,"scale",function(){return Eo}),a.d(p,"dot",function(){return hs}),a.d(p,"lerp",function(){return la}),a.d(p,"length",function(){return Cs}),a.d(p,"len",function(){return Ns}),a.d(p,"squaredLength",function(){return Bs}),a.d(p,"sqrLen",function(){return as}),a.d(p,"normalize",function(){return is}),a.d(p,"exactEquals",function(){return os}),a.d(p,"equals",function(){return As}),a.d(p,"rotationTo",function(){return fu}),a.d(p,"sqlerp",function(){return Gs}),a.d(p,"setAxes",function(){return ru});var E=a("yU0y");function S(){var k=new E.a(9);return E.a!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[5]=0,k[6]=0,k[7]=0),k[0]=1,k[4]=1,k[8]=1,k}function A(k,Dt){return k[0]=Dt[0],k[1]=Dt[1],k[2]=Dt[2],k[3]=Dt[4],k[4]=Dt[5],k[5]=Dt[6],k[6]=Dt[8],k[7]=Dt[9],k[8]=Dt[10],k}function M(k){var Dt=new E.a(9);return Dt[0]=k[0],Dt[1]=k[1],Dt[2]=k[2],Dt[3]=k[3],Dt[4]=k[4],Dt[5]=k[5],Dt[6]=k[6],Dt[7]=k[7],Dt[8]=k[8],Dt}function x(k,Dt){return k[0]=Dt[0],k[1]=Dt[1],k[2]=Dt[2],k[3]=Dt[3],k[4]=Dt[4],k[5]=Dt[5],k[6]=Dt[6],k[7]=Dt[7],k[8]=Dt[8],k}function O(k,Dt,re,le,Ce,Re,ke,Ze,lr){var dr=new E.a(9);return dr[0]=k,dr[1]=Dt,dr[2]=re,dr[3]=le,dr[4]=Ce,dr[5]=Re,dr[6]=ke,dr[7]=Ze,dr[8]=lr,dr}function C(k,Dt,re,le,Ce,Re,ke,Ze,lr,dr){return k[0]=Dt,k[1]=re,k[2]=le,k[3]=Ce,k[4]=Re,k[5]=ke,k[6]=Ze,k[7]=lr,k[8]=dr,k}function D(k){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=1,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function R(k,Dt){if(k===Dt){var re=Dt[1],le=Dt[2],Ce=Dt[5];k[1]=Dt[3],k[2]=Dt[6],k[3]=re,k[5]=Dt[7],k[6]=le,k[7]=Ce}else k[0]=Dt[0],k[1]=Dt[3],k[2]=Dt[6],k[3]=Dt[1],k[4]=Dt[4],k[5]=Dt[7],k[6]=Dt[2],k[7]=Dt[5],k[8]=Dt[8];return k}function y(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Dt[4],Ze=Dt[5],lr=Dt[6],dr=Dt[7],Cr=Dt[8],Yr=Cr*ke-Ze*dr,Nr=-Cr*Re+Ze*lr,Vr=dr*Re-ke*lr,cn=re*Yr+le*Nr+Ce*Vr;return cn?(cn=1/cn,k[0]=Yr*cn,k[1]=(-Cr*le+Ce*dr)*cn,k[2]=(Ze*le-Ce*ke)*cn,k[3]=Nr*cn,k[4]=(Cr*re-Ce*lr)*cn,k[5]=(-Ze*re+Ce*Re)*cn,k[6]=Vr*cn,k[7]=(-dr*re+le*lr)*cn,k[8]=(ke*re-le*Re)*cn,k):null}function w(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Dt[4],Ze=Dt[5],lr=Dt[6],dr=Dt[7],Cr=Dt[8];return k[0]=ke*Cr-Ze*dr,k[1]=Ce*dr-le*Cr,k[2]=le*Ze-Ce*ke,k[3]=Ze*lr-Re*Cr,k[4]=re*Cr-Ce*lr,k[5]=Ce*Re-re*Ze,k[6]=Re*dr-ke*lr,k[7]=le*lr-re*dr,k[8]=re*ke-le*Re,k}function N(k){var Dt=k[0],re=k[1],le=k[2],Ce=k[3],Re=k[4],ke=k[5],Ze=k[6],lr=k[7],dr=k[8];return Dt*(dr*Re-ke*lr)+re*(-dr*Ce+ke*Ze)+le*(lr*Ce-Re*Ze)}function z(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Dt[4],lr=Dt[5],dr=Dt[6],Cr=Dt[7],Yr=Dt[8],Nr=re[0],Vr=re[1],cn=re[2],ln=re[3],Hr=re[4],ia=re[5],Oi=re[6],Ua=re[7],Wa=re[8];return k[0]=Nr*le+Vr*ke+cn*dr,k[1]=Nr*Ce+Vr*Ze+cn*Cr,k[2]=Nr*Re+Vr*lr+cn*Yr,k[3]=ln*le+Hr*ke+ia*dr,k[4]=ln*Ce+Hr*Ze+ia*Cr,k[5]=ln*Re+Hr*lr+ia*Yr,k[6]=Oi*le+Ua*ke+Wa*dr,k[7]=Oi*Ce+Ua*Ze+Wa*Cr,k[8]=Oi*Re+Ua*lr+Wa*Yr,k}function V(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Dt[4],lr=Dt[5],dr=Dt[6],Cr=Dt[7],Yr=Dt[8],Nr=re[0],Vr=re[1];return k[0]=le,k[1]=Ce,k[2]=Re,k[3]=ke,k[4]=Ze,k[5]=lr,k[6]=Nr*le+Vr*ke+dr,k[7]=Nr*Ce+Vr*Ze+Cr,k[8]=Nr*Re+Vr*lr+Yr,k}function B(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Dt[4],lr=Dt[5],dr=Dt[6],Cr=Dt[7],Yr=Dt[8],Nr=Math.sin(re),Vr=Math.cos(re);return k[0]=Vr*le+Nr*ke,k[1]=Vr*Ce+Nr*Ze,k[2]=Vr*Re+Nr*lr,k[3]=Vr*ke-Nr*le,k[4]=Vr*Ze-Nr*Ce,k[5]=Vr*lr-Nr*Re,k[6]=dr,k[7]=Cr,k[8]=Yr,k}function P(k,Dt,re){var le=re[0],Ce=re[1];return k[0]=le*Dt[0],k[1]=le*Dt[1],k[2]=le*Dt[2],k[3]=Ce*Dt[3],k[4]=Ce*Dt[4],k[5]=Ce*Dt[5],k[6]=Dt[6],k[7]=Dt[7],k[8]=Dt[8],k}function T(k,Dt){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=1,k[5]=0,k[6]=Dt[0],k[7]=Dt[1],k[8]=1,k}function W(k,Dt){var re=Math.sin(Dt),le=Math.cos(Dt);return k[0]=le,k[1]=re,k[2]=0,k[3]=-re,k[4]=le,k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function Q(k,Dt){return k[0]=Dt[0],k[1]=0,k[2]=0,k[3]=0,k[4]=Dt[1],k[5]=0,k[6]=0,k[7]=0,k[8]=1,k}function nt(k,Dt){return k[0]=Dt[0],k[1]=Dt[1],k[2]=0,k[3]=Dt[2],k[4]=Dt[3],k[5]=0,k[6]=Dt[4],k[7]=Dt[5],k[8]=1,k}function st(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=re+re,Ze=le+le,lr=Ce+Ce,dr=re*ke,Cr=le*ke,Yr=le*Ze,Nr=Ce*ke,Vr=Ce*Ze,cn=Ce*lr,ln=Re*ke,Hr=Re*Ze,ia=Re*lr;return k[0]=1-Yr-cn,k[3]=Cr-ia,k[6]=Nr+Hr,k[1]=Cr+ia,k[4]=1-dr-cn,k[7]=Vr-ln,k[2]=Nr-Hr,k[5]=Vr+ln,k[8]=1-dr-Yr,k}function et(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Dt[4],Ze=Dt[5],lr=Dt[6],dr=Dt[7],Cr=Dt[8],Yr=Dt[9],Nr=Dt[10],Vr=Dt[11],cn=Dt[12],ln=Dt[13],Hr=Dt[14],ia=Dt[15],Oi=re*Ze-le*ke,Ua=re*lr-Ce*ke,Wa=re*dr-Re*ke,ei=le*lr-Ce*Ze,za=le*dr-Re*Ze,Na=Ce*dr-Re*lr,Qi=Cr*ln-Yr*cn,qi=Cr*Hr-Nr*cn,wi=Cr*ia-Vr*cn,Ia=Yr*Hr-Nr*ln,yn=Yr*ia-Vr*ln,ce=Nr*ia-Vr*Hr,or=Oi*ce-Ua*yn+Wa*Ia+ei*wi-za*qi+Na*Qi;return or?(or=1/or,k[0]=(Ze*ce-lr*yn+dr*Ia)*or,k[1]=(lr*wi-ke*ce-dr*qi)*or,k[2]=(ke*yn-Ze*wi+dr*Qi)*or,k[3]=(Ce*yn-le*ce-Re*Ia)*or,k[4]=(re*ce-Ce*wi+Re*qi)*or,k[5]=(le*wi-re*yn-Re*Qi)*or,k[6]=(ln*Na-Hr*za+ia*ei)*or,k[7]=(Hr*Wa-cn*Na-ia*Ua)*or,k[8]=(cn*za-ln*Wa+ia*Oi)*or,k):null}function _(k,Dt,re){return k[0]=2/Dt,k[1]=0,k[2]=0,k[3]=0,k[4]=-2/re,k[5]=0,k[6]=-1,k[7]=1,k[8]=1,k}function Y(k){return"mat3("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+")"}function $(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8])}function q(k,Dt,re){return k[0]=Dt[0]+re[0],k[1]=Dt[1]+re[1],k[2]=Dt[2]+re[2],k[3]=Dt[3]+re[3],k[4]=Dt[4]+re[4],k[5]=Dt[5]+re[5],k[6]=Dt[6]+re[6],k[7]=Dt[7]+re[7],k[8]=Dt[8]+re[8],k}function at(k,Dt,re){return k[0]=Dt[0]-re[0],k[1]=Dt[1]-re[1],k[2]=Dt[2]-re[2],k[3]=Dt[3]-re[3],k[4]=Dt[4]-re[4],k[5]=Dt[5]-re[5],k[6]=Dt[6]-re[6],k[7]=Dt[7]-re[7],k[8]=Dt[8]-re[8],k}function pt(k,Dt,re){return k[0]=Dt[0]*re,k[1]=Dt[1]*re,k[2]=Dt[2]*re,k[3]=Dt[3]*re,k[4]=Dt[4]*re,k[5]=Dt[5]*re,k[6]=Dt[6]*re,k[7]=Dt[7]*re,k[8]=Dt[8]*re,k}function mt(k,Dt,re,le){return k[0]=Dt[0]+re[0]*le,k[1]=Dt[1]+re[1]*le,k[2]=Dt[2]+re[2]*le,k[3]=Dt[3]+re[3]*le,k[4]=Dt[4]+re[4]*le,k[5]=Dt[5]+re[5]*le,k[6]=Dt[6]+re[6]*le,k[7]=Dt[7]+re[7]*le,k[8]=Dt[8]+re[8]*le,k}function ot(k,Dt){return k[0]===Dt[0]&&k[1]===Dt[1]&&k[2]===Dt[2]&&k[3]===Dt[3]&&k[4]===Dt[4]&&k[5]===Dt[5]&&k[6]===Dt[6]&&k[7]===Dt[7]&&k[8]===Dt[8]}function xt(k,Dt){var re=k[0],le=k[1],Ce=k[2],Re=k[3],ke=k[4],Ze=k[5],lr=k[6],dr=k[7],Cr=k[8],Yr=Dt[0],Nr=Dt[1],Vr=Dt[2],cn=Dt[3],ln=Dt[4],Hr=Dt[5],ia=Dt[6],Oi=Dt[7],Ua=Dt[8];return Math.abs(re-Yr)<=E.b*Math.max(1,Math.abs(re),Math.abs(Yr))&&Math.abs(le-Nr)<=E.b*Math.max(1,Math.abs(le),Math.abs(Nr))&&Math.abs(Ce-Vr)<=E.b*Math.max(1,Math.abs(Ce),Math.abs(Vr))&&Math.abs(Re-cn)<=E.b*Math.max(1,Math.abs(Re),Math.abs(cn))&&Math.abs(ke-ln)<=E.b*Math.max(1,Math.abs(ke),Math.abs(ln))&&Math.abs(Ze-Hr)<=E.b*Math.max(1,Math.abs(Ze),Math.abs(Hr))&&Math.abs(lr-ia)<=E.b*Math.max(1,Math.abs(lr),Math.abs(ia))&&Math.abs(dr-Oi)<=E.b*Math.max(1,Math.abs(dr),Math.abs(Oi))&&Math.abs(Cr-Ua)<=E.b*Math.max(1,Math.abs(Cr),Math.abs(Ua))}var It=z,Ht=at;function Qt(){var k=new E.a(16);return E.a!=Float32Array&&(k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=0,k[12]=0,k[13]=0,k[14]=0),k[0]=1,k[5]=1,k[10]=1,k[15]=1,k}function $t(k){var Dt=new E.a(16);return Dt[0]=k[0],Dt[1]=k[1],Dt[2]=k[2],Dt[3]=k[3],Dt[4]=k[4],Dt[5]=k[5],Dt[6]=k[6],Dt[7]=k[7],Dt[8]=k[8],Dt[9]=k[9],Dt[10]=k[10],Dt[11]=k[11],Dt[12]=k[12],Dt[13]=k[13],Dt[14]=k[14],Dt[15]=k[15],Dt}function yt(k,Dt){return k[0]=Dt[0],k[1]=Dt[1],k[2]=Dt[2],k[3]=Dt[3],k[4]=Dt[4],k[5]=Dt[5],k[6]=Dt[6],k[7]=Dt[7],k[8]=Dt[8],k[9]=Dt[9],k[10]=Dt[10],k[11]=Dt[11],k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15],k}function ut(k,Dt,re,le,Ce,Re,ke,Ze,lr,dr,Cr,Yr,Nr,Vr,cn,ln){var Hr=new E.a(16);return Hr[0]=k,Hr[1]=Dt,Hr[2]=re,Hr[3]=le,Hr[4]=Ce,Hr[5]=Re,Hr[6]=ke,Hr[7]=Ze,Hr[8]=lr,Hr[9]=dr,Hr[10]=Cr,Hr[11]=Yr,Hr[12]=Nr,Hr[13]=Vr,Hr[14]=cn,Hr[15]=ln,Hr}function ft(k,Dt,re,le,Ce,Re,ke,Ze,lr,dr,Cr,Yr,Nr,Vr,cn,ln,Hr){return k[0]=Dt,k[1]=re,k[2]=le,k[3]=Ce,k[4]=Re,k[5]=ke,k[6]=Ze,k[7]=lr,k[8]=dr,k[9]=Cr,k[10]=Yr,k[11]=Nr,k[12]=Vr,k[13]=cn,k[14]=ln,k[15]=Hr,k}function it(k){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function vt(k,Dt){if(k===Dt){var re=Dt[1],le=Dt[2],Ce=Dt[3],Re=Dt[6],ke=Dt[7],Ze=Dt[11];k[1]=Dt[4],k[2]=Dt[8],k[3]=Dt[12],k[4]=re,k[6]=Dt[9],k[7]=Dt[13],k[8]=le,k[9]=Re,k[11]=Dt[14],k[12]=Ce,k[13]=ke,k[14]=Ze}else k[0]=Dt[0],k[1]=Dt[4],k[2]=Dt[8],k[3]=Dt[12],k[4]=Dt[1],k[5]=Dt[5],k[6]=Dt[9],k[7]=Dt[13],k[8]=Dt[2],k[9]=Dt[6],k[10]=Dt[10],k[11]=Dt[14],k[12]=Dt[3],k[13]=Dt[7],k[14]=Dt[11],k[15]=Dt[15];return k}function Wt(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Dt[4],Ze=Dt[5],lr=Dt[6],dr=Dt[7],Cr=Dt[8],Yr=Dt[9],Nr=Dt[10],Vr=Dt[11],cn=Dt[12],ln=Dt[13],Hr=Dt[14],ia=Dt[15],Oi=re*Ze-le*ke,Ua=re*lr-Ce*ke,Wa=re*dr-Re*ke,ei=le*lr-Ce*Ze,za=le*dr-Re*Ze,Na=Ce*dr-Re*lr,Qi=Cr*ln-Yr*cn,qi=Cr*Hr-Nr*cn,wi=Cr*ia-Vr*cn,Ia=Yr*Hr-Nr*ln,yn=Yr*ia-Vr*ln,ce=Nr*ia-Vr*Hr,or=Oi*ce-Ua*yn+Wa*Ia+ei*wi-za*qi+Na*Qi;return or?(or=1/or,k[0]=(Ze*ce-lr*yn+dr*Ia)*or,k[1]=(Ce*yn-le*ce-Re*Ia)*or,k[2]=(ln*Na-Hr*za+ia*ei)*or,k[3]=(Nr*za-Yr*Na-Vr*ei)*or,k[4]=(lr*wi-ke*ce-dr*qi)*or,k[5]=(re*ce-Ce*wi+Re*qi)*or,k[6]=(Hr*Wa-cn*Na-ia*Ua)*or,k[7]=(Cr*Na-Nr*Wa+Vr*Ua)*or,k[8]=(ke*yn-Ze*wi+dr*Qi)*or,k[9]=(le*wi-re*yn-Re*Qi)*or,k[10]=(cn*za-ln*Wa+ia*Oi)*or,k[11]=(Yr*Wa-Cr*za-Vr*Oi)*or,k[12]=(Ze*qi-ke*Ia-lr*Qi)*or,k[13]=(re*Ia-le*qi+Ce*Qi)*or,k[14]=(ln*Ua-cn*ei-Hr*Oi)*or,k[15]=(Cr*ei-Yr*Ua+Nr*Oi)*or,k):null}function Ct(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Dt[4],Ze=Dt[5],lr=Dt[6],dr=Dt[7],Cr=Dt[8],Yr=Dt[9],Nr=Dt[10],Vr=Dt[11],cn=Dt[12],ln=Dt[13],Hr=Dt[14],ia=Dt[15];return k[0]=Ze*(Nr*ia-Vr*Hr)-Yr*(lr*ia-dr*Hr)+ln*(lr*Vr-dr*Nr),k[1]=-(le*(Nr*ia-Vr*Hr)-Yr*(Ce*ia-Re*Hr)+ln*(Ce*Vr-Re*Nr)),k[2]=le*(lr*ia-dr*Hr)-Ze*(Ce*ia-Re*Hr)+ln*(Ce*dr-Re*lr),k[3]=-(le*(lr*Vr-dr*Nr)-Ze*(Ce*Vr-Re*Nr)+Yr*(Ce*dr-Re*lr)),k[4]=-(ke*(Nr*ia-Vr*Hr)-Cr*(lr*ia-dr*Hr)+cn*(lr*Vr-dr*Nr)),k[5]=re*(Nr*ia-Vr*Hr)-Cr*(Ce*ia-Re*Hr)+cn*(Ce*Vr-Re*Nr),k[6]=-(re*(lr*ia-dr*Hr)-ke*(Ce*ia-Re*Hr)+cn*(Ce*dr-Re*lr)),k[7]=re*(lr*Vr-dr*Nr)-ke*(Ce*Vr-Re*Nr)+Cr*(Ce*dr-Re*lr),k[8]=ke*(Yr*ia-Vr*ln)-Cr*(Ze*ia-dr*ln)+cn*(Ze*Vr-dr*Yr),k[9]=-(re*(Yr*ia-Vr*ln)-Cr*(le*ia-Re*ln)+cn*(le*Vr-Re*Yr)),k[10]=re*(Ze*ia-dr*ln)-ke*(le*ia-Re*ln)+cn*(le*dr-Re*Ze),k[11]=-(re*(Ze*Vr-dr*Yr)-ke*(le*Vr-Re*Yr)+Cr*(le*dr-Re*Ze)),k[12]=-(ke*(Yr*Hr-Nr*ln)-Cr*(Ze*Hr-lr*ln)+cn*(Ze*Nr-lr*Yr)),k[13]=re*(Yr*Hr-Nr*ln)-Cr*(le*Hr-Ce*ln)+cn*(le*Nr-Ce*Yr),k[14]=-(re*(Ze*Hr-lr*ln)-ke*(le*Hr-Ce*ln)+cn*(le*lr-Ce*Ze)),k[15]=re*(Ze*Nr-lr*Yr)-ke*(le*Nr-Ce*Yr)+Cr*(le*lr-Ce*Ze),k}function Z(k){var Dt=k[0],re=k[1],le=k[2],Ce=k[3],Re=k[4],ke=k[5],Ze=k[6],lr=k[7],dr=k[8],Cr=k[9],Yr=k[10],Nr=k[11],Vr=k[12],cn=k[13],ln=k[14],Hr=k[15],ia=Dt*ke-re*Re,Oi=Dt*Ze-le*Re,Ua=Dt*lr-Ce*Re,Wa=re*Ze-le*ke,ei=re*lr-Ce*ke,za=le*lr-Ce*Ze,Na=dr*cn-Cr*Vr,Qi=dr*ln-Yr*Vr,qi=dr*Hr-Nr*Vr,wi=Cr*ln-Yr*cn,Ia=Cr*Hr-Nr*cn,yn=Yr*Hr-Nr*ln;return ia*yn-Oi*Ia+Ua*wi+Wa*qi-ei*Qi+za*Na}function X(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Dt[4],lr=Dt[5],dr=Dt[6],Cr=Dt[7],Yr=Dt[8],Nr=Dt[9],Vr=Dt[10],cn=Dt[11],ln=Dt[12],Hr=Dt[13],ia=Dt[14],Oi=Dt[15],Ua=re[0],Wa=re[1],ei=re[2],za=re[3];return k[0]=Ua*le+Wa*Ze+ei*Yr+za*ln,k[1]=Ua*Ce+Wa*lr+ei*Nr+za*Hr,k[2]=Ua*Re+Wa*dr+ei*Vr+za*ia,k[3]=Ua*ke+Wa*Cr+ei*cn+za*Oi,Ua=re[4],Wa=re[5],ei=re[6],za=re[7],k[4]=Ua*le+Wa*Ze+ei*Yr+za*ln,k[5]=Ua*Ce+Wa*lr+ei*Nr+za*Hr,k[6]=Ua*Re+Wa*dr+ei*Vr+za*ia,k[7]=Ua*ke+Wa*Cr+ei*cn+za*Oi,Ua=re[8],Wa=re[9],ei=re[10],za=re[11],k[8]=Ua*le+Wa*Ze+ei*Yr+za*ln,k[9]=Ua*Ce+Wa*lr+ei*Nr+za*Hr,k[10]=Ua*Re+Wa*dr+ei*Vr+za*ia,k[11]=Ua*ke+Wa*Cr+ei*cn+za*Oi,Ua=re[12],Wa=re[13],ei=re[14],za=re[15],k[12]=Ua*le+Wa*Ze+ei*Yr+za*ln,k[13]=Ua*Ce+Wa*lr+ei*Nr+za*Hr,k[14]=Ua*Re+Wa*dr+ei*Vr+za*ia,k[15]=Ua*ke+Wa*Cr+ei*cn+za*Oi,k}function dt(k,Dt,re){var le=re[0],Ce=re[1],Re=re[2],ke,Ze,lr,dr,Cr,Yr,Nr,Vr,cn,ln,Hr,ia;return Dt===k?(k[12]=Dt[0]*le+Dt[4]*Ce+Dt[8]*Re+Dt[12],k[13]=Dt[1]*le+Dt[5]*Ce+Dt[9]*Re+Dt[13],k[14]=Dt[2]*le+Dt[6]*Ce+Dt[10]*Re+Dt[14],k[15]=Dt[3]*le+Dt[7]*Ce+Dt[11]*Re+Dt[15]):(ke=Dt[0],Ze=Dt[1],lr=Dt[2],dr=Dt[3],Cr=Dt[4],Yr=Dt[5],Nr=Dt[6],Vr=Dt[7],cn=Dt[8],ln=Dt[9],Hr=Dt[10],ia=Dt[11],k[0]=ke,k[1]=Ze,k[2]=lr,k[3]=dr,k[4]=Cr,k[5]=Yr,k[6]=Nr,k[7]=Vr,k[8]=cn,k[9]=ln,k[10]=Hr,k[11]=ia,k[12]=ke*le+Cr*Ce+cn*Re+Dt[12],k[13]=Ze*le+Yr*Ce+ln*Re+Dt[13],k[14]=lr*le+Nr*Ce+Hr*Re+Dt[14],k[15]=dr*le+Vr*Ce+ia*Re+Dt[15]),k}function H(k,Dt,re){var le=re[0],Ce=re[1],Re=re[2];return k[0]=Dt[0]*le,k[1]=Dt[1]*le,k[2]=Dt[2]*le,k[3]=Dt[3]*le,k[4]=Dt[4]*Ce,k[5]=Dt[5]*Ce,k[6]=Dt[6]*Ce,k[7]=Dt[7]*Ce,k[8]=Dt[8]*Re,k[9]=Dt[9]*Re,k[10]=Dt[10]*Re,k[11]=Dt[11]*Re,k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15],k}function lt(k,Dt,re,le){var Ce=le[0],Re=le[1],ke=le[2],Ze=Math.hypot(Ce,Re,ke),lr,dr,Cr,Yr,Nr,Vr,cn,ln,Hr,ia,Oi,Ua,Wa,ei,za,Na,Qi,qi,wi,Ia,yn,ce,or,de;return Ze<E.b?null:(Ze=1/Ze,Ce*=Ze,Re*=Ze,ke*=Ze,lr=Math.sin(re),dr=Math.cos(re),Cr=1-dr,Yr=Dt[0],Nr=Dt[1],Vr=Dt[2],cn=Dt[3],ln=Dt[4],Hr=Dt[5],ia=Dt[6],Oi=Dt[7],Ua=Dt[8],Wa=Dt[9],ei=Dt[10],za=Dt[11],Na=Ce*Ce*Cr+dr,Qi=Re*Ce*Cr+ke*lr,qi=ke*Ce*Cr-Re*lr,wi=Ce*Re*Cr-ke*lr,Ia=Re*Re*Cr+dr,yn=ke*Re*Cr+Ce*lr,ce=Ce*ke*Cr+Re*lr,or=Re*ke*Cr-Ce*lr,de=ke*ke*Cr+dr,k[0]=Yr*Na+ln*Qi+Ua*qi,k[1]=Nr*Na+Hr*Qi+Wa*qi,k[2]=Vr*Na+ia*Qi+ei*qi,k[3]=cn*Na+Oi*Qi+za*qi,k[4]=Yr*wi+ln*Ia+Ua*yn,k[5]=Nr*wi+Hr*Ia+Wa*yn,k[6]=Vr*wi+ia*Ia+ei*yn,k[7]=cn*wi+Oi*Ia+za*yn,k[8]=Yr*ce+ln*or+Ua*de,k[9]=Nr*ce+Hr*or+Wa*de,k[10]=Vr*ce+ia*or+ei*de,k[11]=cn*ce+Oi*or+za*de,Dt!==k&&(k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15]),k)}function Ot(k,Dt,re){var le=Math.sin(re),Ce=Math.cos(re),Re=Dt[4],ke=Dt[5],Ze=Dt[6],lr=Dt[7],dr=Dt[8],Cr=Dt[9],Yr=Dt[10],Nr=Dt[11];return Dt!==k&&(k[0]=Dt[0],k[1]=Dt[1],k[2]=Dt[2],k[3]=Dt[3],k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15]),k[4]=Re*Ce+dr*le,k[5]=ke*Ce+Cr*le,k[6]=Ze*Ce+Yr*le,k[7]=lr*Ce+Nr*le,k[8]=dr*Ce-Re*le,k[9]=Cr*Ce-ke*le,k[10]=Yr*Ce-Ze*le,k[11]=Nr*Ce-lr*le,k}function Rt(k,Dt,re){var le=Math.sin(re),Ce=Math.cos(re),Re=Dt[0],ke=Dt[1],Ze=Dt[2],lr=Dt[3],dr=Dt[8],Cr=Dt[9],Yr=Dt[10],Nr=Dt[11];return Dt!==k&&(k[4]=Dt[4],k[5]=Dt[5],k[6]=Dt[6],k[7]=Dt[7],k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15]),k[0]=Re*Ce-dr*le,k[1]=ke*Ce-Cr*le,k[2]=Ze*Ce-Yr*le,k[3]=lr*Ce-Nr*le,k[8]=Re*le+dr*Ce,k[9]=ke*le+Cr*Ce,k[10]=Ze*le+Yr*Ce,k[11]=lr*le+Nr*Ce,k}function zt(k,Dt,re){var le=Math.sin(re),Ce=Math.cos(re),Re=Dt[0],ke=Dt[1],Ze=Dt[2],lr=Dt[3],dr=Dt[4],Cr=Dt[5],Yr=Dt[6],Nr=Dt[7];return Dt!==k&&(k[8]=Dt[8],k[9]=Dt[9],k[10]=Dt[10],k[11]=Dt[11],k[12]=Dt[12],k[13]=Dt[13],k[14]=Dt[14],k[15]=Dt[15]),k[0]=Re*Ce+dr*le,k[1]=ke*Ce+Cr*le,k[2]=Ze*Ce+Yr*le,k[3]=lr*Ce+Nr*le,k[4]=dr*Ce-Re*le,k[5]=Cr*Ce-ke*le,k[6]=Yr*Ce-Ze*le,k[7]=Nr*Ce-lr*le,k}function Bt(k,Dt){return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=Dt[0],k[13]=Dt[1],k[14]=Dt[2],k[15]=1,k}function tt(k,Dt){return k[0]=Dt[0],k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=Dt[1],k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=Dt[2],k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function J(k,Dt,re){var le=re[0],Ce=re[1],Re=re[2],ke=Math.hypot(le,Ce,Re),Ze,lr,dr;return ke<E.b?null:(ke=1/ke,le*=ke,Ce*=ke,Re*=ke,Ze=Math.sin(Dt),lr=Math.cos(Dt),dr=1-lr,k[0]=le*le*dr+lr,k[1]=Ce*le*dr+Re*Ze,k[2]=Re*le*dr-Ce*Ze,k[3]=0,k[4]=le*Ce*dr-Re*Ze,k[5]=Ce*Ce*dr+lr,k[6]=Re*Ce*dr+le*Ze,k[7]=0,k[8]=le*Re*dr+Ce*Ze,k[9]=Ce*Re*dr-le*Ze,k[10]=Re*Re*dr+lr,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k)}function G(k,Dt){var re=Math.sin(Dt),le=Math.cos(Dt);return k[0]=1,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=le,k[6]=re,k[7]=0,k[8]=0,k[9]=-re,k[10]=le,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function Et(k,Dt){var re=Math.sin(Dt),le=Math.cos(Dt);return k[0]=le,k[1]=0,k[2]=-re,k[3]=0,k[4]=0,k[5]=1,k[6]=0,k[7]=0,k[8]=re,k[9]=0,k[10]=le,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function Tt(k,Dt){var re=Math.sin(Dt),le=Math.cos(Dt);return k[0]=le,k[1]=re,k[2]=0,k[3]=0,k[4]=-re,k[5]=le,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=1,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function ct(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=le+le,lr=Ce+Ce,dr=Re+Re,Cr=le*Ze,Yr=le*lr,Nr=le*dr,Vr=Ce*lr,cn=Ce*dr,ln=Re*dr,Hr=ke*Ze,ia=ke*lr,Oi=ke*dr;return k[0]=1-(Vr+ln),k[1]=Yr+Oi,k[2]=Nr-ia,k[3]=0,k[4]=Yr-Oi,k[5]=1-(Cr+ln),k[6]=cn+Hr,k[7]=0,k[8]=Nr+ia,k[9]=cn-Hr,k[10]=1-(Cr+Vr),k[11]=0,k[12]=re[0],k[13]=re[1],k[14]=re[2],k[15]=1,k}function St(k,Dt){var re=new E.a(3),le=-Dt[0],Ce=-Dt[1],Re=-Dt[2],ke=Dt[3],Ze=Dt[4],lr=Dt[5],dr=Dt[6],Cr=Dt[7],Yr=le*le+Ce*Ce+Re*Re+ke*ke;return Yr>0?(re[0]=(Ze*ke+Cr*le+lr*Re-dr*Ce)*2/Yr,re[1]=(lr*ke+Cr*Ce+dr*le-Ze*Re)*2/Yr,re[2]=(dr*ke+Cr*Re+Ze*Ce-lr*le)*2/Yr):(re[0]=(Ze*ke+Cr*le+lr*Re-dr*Ce)*2,re[1]=(lr*ke+Cr*Ce+dr*le-Ze*Re)*2,re[2]=(dr*ke+Cr*Re+Ze*Ce-lr*le)*2),ct(k,Dt,re),k}function Vt(k,Dt){return k[0]=Dt[12],k[1]=Dt[13],k[2]=Dt[14],k}function Lt(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[4],ke=Dt[5],Ze=Dt[6],lr=Dt[8],dr=Dt[9],Cr=Dt[10];return k[0]=Math.hypot(re,le,Ce),k[1]=Math.hypot(Re,ke,Ze),k[2]=Math.hypot(lr,dr,Cr),k}function Nt(k,Dt){var re=new E.a(3);Lt(re,Dt);var le=1/re[0],Ce=1/re[1],Re=1/re[2],ke=Dt[0]*le,Ze=Dt[1]*Ce,lr=Dt[2]*Re,dr=Dt[4]*le,Cr=Dt[5]*Ce,Yr=Dt[6]*Re,Nr=Dt[8]*le,Vr=Dt[9]*Ce,cn=Dt[10]*Re,ln=ke+Cr+cn,Hr=0;return ln>0?(Hr=Math.sqrt(ln+1)*2,k[3]=.25*Hr,k[0]=(Yr-Vr)/Hr,k[1]=(Nr-lr)/Hr,k[2]=(Ze-dr)/Hr):ke>Cr&&ke>cn?(Hr=Math.sqrt(1+ke-Cr-cn)*2,k[3]=(Yr-Vr)/Hr,k[0]=.25*Hr,k[1]=(Ze+dr)/Hr,k[2]=(Nr+lr)/Hr):Cr>cn?(Hr=Math.sqrt(1+Cr-ke-cn)*2,k[3]=(Nr-lr)/Hr,k[0]=(Ze+dr)/Hr,k[1]=.25*Hr,k[2]=(Yr+Vr)/Hr):(Hr=Math.sqrt(1+cn-ke-Cr)*2,k[3]=(Ze-dr)/Hr,k[0]=(Nr+lr)/Hr,k[1]=(Yr+Vr)/Hr,k[2]=.25*Hr),k}function Zt(k,Dt,re,le){var Ce=Dt[0],Re=Dt[1],ke=Dt[2],Ze=Dt[3],lr=Ce+Ce,dr=Re+Re,Cr=ke+ke,Yr=Ce*lr,Nr=Ce*dr,Vr=Ce*Cr,cn=Re*dr,ln=Re*Cr,Hr=ke*Cr,ia=Ze*lr,Oi=Ze*dr,Ua=Ze*Cr,Wa=le[0],ei=le[1],za=le[2];return k[0]=(1-(cn+Hr))*Wa,k[1]=(Nr+Ua)*Wa,k[2]=(Vr-Oi)*Wa,k[3]=0,k[4]=(Nr-Ua)*ei,k[5]=(1-(Yr+Hr))*ei,k[6]=(ln+ia)*ei,k[7]=0,k[8]=(Vr+Oi)*za,k[9]=(ln-ia)*za,k[10]=(1-(Yr+cn))*za,k[11]=0,k[12]=re[0],k[13]=re[1],k[14]=re[2],k[15]=1,k}function oe(k,Dt,re,le,Ce){var Re=Dt[0],ke=Dt[1],Ze=Dt[2],lr=Dt[3],dr=Re+Re,Cr=ke+ke,Yr=Ze+Ze,Nr=Re*dr,Vr=Re*Cr,cn=Re*Yr,ln=ke*Cr,Hr=ke*Yr,ia=Ze*Yr,Oi=lr*dr,Ua=lr*Cr,Wa=lr*Yr,ei=le[0],za=le[1],Na=le[2],Qi=Ce[0],qi=Ce[1],wi=Ce[2],Ia=(1-(ln+ia))*ei,yn=(Vr+Wa)*ei,ce=(cn-Ua)*ei,or=(Vr-Wa)*za,de=(1-(Nr+ia))*za,ee=(Hr+Oi)*za,ve=(cn+Ua)*Na,De=(Hr-Oi)*Na,Ir=(1-(Nr+ln))*Na;return k[0]=Ia,k[1]=yn,k[2]=ce,k[3]=0,k[4]=or,k[5]=de,k[6]=ee,k[7]=0,k[8]=ve,k[9]=De,k[10]=Ir,k[11]=0,k[12]=re[0]+Qi-(Ia*Qi+or*qi+ve*wi),k[13]=re[1]+qi-(yn*Qi+de*qi+De*wi),k[14]=re[2]+wi-(ce*Qi+ee*qi+Ir*wi),k[15]=1,k}function ue(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=re+re,Ze=le+le,lr=Ce+Ce,dr=re*ke,Cr=le*ke,Yr=le*Ze,Nr=Ce*ke,Vr=Ce*Ze,cn=Ce*lr,ln=Re*ke,Hr=Re*Ze,ia=Re*lr;return k[0]=1-Yr-cn,k[1]=Cr+ia,k[2]=Nr-Hr,k[3]=0,k[4]=Cr-ia,k[5]=1-dr-cn,k[6]=Vr+ln,k[7]=0,k[8]=Nr+Hr,k[9]=Vr-ln,k[10]=1-dr-Yr,k[11]=0,k[12]=0,k[13]=0,k[14]=0,k[15]=1,k}function Ee(k,Dt,re,le,Ce,Re,ke){var Ze=1/(re-Dt),lr=1/(Ce-le),dr=1/(Re-ke);return k[0]=Re*2*Ze,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=Re*2*lr,k[6]=0,k[7]=0,k[8]=(re+Dt)*Ze,k[9]=(Ce+le)*lr,k[10]=(ke+Re)*dr,k[11]=-1,k[12]=0,k[13]=0,k[14]=ke*Re*2*dr,k[15]=0,k}function Te(k,Dt,re,le,Ce){var Re=1/Math.tan(Dt/2),ke;return k[0]=Re/re,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=Re,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[11]=-1,k[12]=0,k[13]=0,k[15]=0,Ce!=null&&Ce!==Infinity?(ke=1/(le-Ce),k[10]=(Ce+le)*ke,k[14]=2*Ce*le*ke):(k[10]=-1,k[14]=-2*le),k}function Se(k,Dt,re,le){var Ce=Math.tan(Dt.upDegrees*Math.PI/180),Re=Math.tan(Dt.downDegrees*Math.PI/180),ke=Math.tan(Dt.leftDegrees*Math.PI/180),Ze=Math.tan(Dt.rightDegrees*Math.PI/180),lr=2/(ke+Ze),dr=2/(Ce+Re);return k[0]=lr,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=dr,k[6]=0,k[7]=0,k[8]=-((ke-Ze)*lr*.5),k[9]=(Ce-Re)*dr*.5,k[10]=le/(re-le),k[11]=-1,k[12]=0,k[13]=0,k[14]=le*re/(re-le),k[15]=0,k}function $e(k,Dt,re,le,Ce,Re,ke){var Ze=1/(Dt-re),lr=1/(le-Ce),dr=1/(Re-ke);return k[0]=-2*Ze,k[1]=0,k[2]=0,k[3]=0,k[4]=0,k[5]=-2*lr,k[6]=0,k[7]=0,k[8]=0,k[9]=0,k[10]=2*dr,k[11]=0,k[12]=(Dt+re)*Ze,k[13]=(Ce+le)*lr,k[14]=(ke+Re)*dr,k[15]=1,k}function cr(k,Dt,re,le){var Ce,Re,ke,Ze,lr,dr,Cr,Yr,Nr,Vr,cn=Dt[0],ln=Dt[1],Hr=Dt[2],ia=le[0],Oi=le[1],Ua=le[2],Wa=re[0],ei=re[1],za=re[2];return Math.abs(cn-Wa)<E.b&&Math.abs(ln-ei)<E.b&&Math.abs(Hr-za)<E.b?it(k):(Cr=cn-Wa,Yr=ln-ei,Nr=Hr-za,Vr=1/Math.hypot(Cr,Yr,Nr),Cr*=Vr,Yr*=Vr,Nr*=Vr,Ce=Oi*Nr-Ua*Yr,Re=Ua*Cr-ia*Nr,ke=ia*Yr-Oi*Cr,Vr=Math.hypot(Ce,Re,ke),Vr?(Vr=1/Vr,Ce*=Vr,Re*=Vr,ke*=Vr):(Ce=0,Re=0,ke=0),Ze=Yr*ke-Nr*Re,lr=Nr*Ce-Cr*ke,dr=Cr*Re-Yr*Ce,Vr=Math.hypot(Ze,lr,dr),Vr?(Vr=1/Vr,Ze*=Vr,lr*=Vr,dr*=Vr):(Ze=0,lr=0,dr=0),k[0]=Ce,k[1]=Ze,k[2]=Cr,k[3]=0,k[4]=Re,k[5]=lr,k[6]=Yr,k[7]=0,k[8]=ke,k[9]=dr,k[10]=Nr,k[11]=0,k[12]=-(Ce*cn+Re*ln+ke*Hr),k[13]=-(Ze*cn+lr*ln+dr*Hr),k[14]=-(Cr*cn+Yr*ln+Nr*Hr),k[15]=1,k)}function He(k,Dt,re,le){var Ce=Dt[0],Re=Dt[1],ke=Dt[2],Ze=le[0],lr=le[1],dr=le[2],Cr=Ce-re[0],Yr=Re-re[1],Nr=ke-re[2],Vr=Cr*Cr+Yr*Yr+Nr*Nr;Vr>0&&(Vr=1/Math.sqrt(Vr),Cr*=Vr,Yr*=Vr,Nr*=Vr);var cn=lr*Nr-dr*Yr,ln=dr*Cr-Ze*Nr,Hr=Ze*Yr-lr*Cr;return Vr=cn*cn+ln*ln+Hr*Hr,Vr>0&&(Vr=1/Math.sqrt(Vr),cn*=Vr,ln*=Vr,Hr*=Vr),k[0]=cn,k[1]=ln,k[2]=Hr,k[3]=0,k[4]=Yr*Hr-Nr*ln,k[5]=Nr*cn-Cr*Hr,k[6]=Cr*ln-Yr*cn,k[7]=0,k[8]=Cr,k[9]=Yr,k[10]=Nr,k[11]=0,k[12]=Ce,k[13]=Re,k[14]=ke,k[15]=1,k}function _e(k){return"mat4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+", "+k[4]+", "+k[5]+", "+k[6]+", "+k[7]+", "+k[8]+", "+k[9]+", "+k[10]+", "+k[11]+", "+k[12]+", "+k[13]+", "+k[14]+", "+k[15]+")"}function ur(k){return Math.hypot(k[0],k[1],k[2],k[3],k[4],k[5],k[6],k[7],k[8],k[9],k[10],k[11],k[12],k[13],k[14],k[15])}function jr(k,Dt,re){return k[0]=Dt[0]+re[0],k[1]=Dt[1]+re[1],k[2]=Dt[2]+re[2],k[3]=Dt[3]+re[3],k[4]=Dt[4]+re[4],k[5]=Dt[5]+re[5],k[6]=Dt[6]+re[6],k[7]=Dt[7]+re[7],k[8]=Dt[8]+re[8],k[9]=Dt[9]+re[9],k[10]=Dt[10]+re[10],k[11]=Dt[11]+re[11],k[12]=Dt[12]+re[12],k[13]=Dt[13]+re[13],k[14]=Dt[14]+re[14],k[15]=Dt[15]+re[15],k}function Ar(k,Dt,re){return k[0]=Dt[0]-re[0],k[1]=Dt[1]-re[1],k[2]=Dt[2]-re[2],k[3]=Dt[3]-re[3],k[4]=Dt[4]-re[4],k[5]=Dt[5]-re[5],k[6]=Dt[6]-re[6],k[7]=Dt[7]-re[7],k[8]=Dt[8]-re[8],k[9]=Dt[9]-re[9],k[10]=Dt[10]-re[10],k[11]=Dt[11]-re[11],k[12]=Dt[12]-re[12],k[13]=Dt[13]-re[13],k[14]=Dt[14]-re[14],k[15]=Dt[15]-re[15],k}function Ge(k,Dt,re){return k[0]=Dt[0]*re,k[1]=Dt[1]*re,k[2]=Dt[2]*re,k[3]=Dt[3]*re,k[4]=Dt[4]*re,k[5]=Dt[5]*re,k[6]=Dt[6]*re,k[7]=Dt[7]*re,k[8]=Dt[8]*re,k[9]=Dt[9]*re,k[10]=Dt[10]*re,k[11]=Dt[11]*re,k[12]=Dt[12]*re,k[13]=Dt[13]*re,k[14]=Dt[14]*re,k[15]=Dt[15]*re,k}function br(k,Dt,re,le){return k[0]=Dt[0]+re[0]*le,k[1]=Dt[1]+re[1]*le,k[2]=Dt[2]+re[2]*le,k[3]=Dt[3]+re[3]*le,k[4]=Dt[4]+re[4]*le,k[5]=Dt[5]+re[5]*le,k[6]=Dt[6]+re[6]*le,k[7]=Dt[7]+re[7]*le,k[8]=Dt[8]+re[8]*le,k[9]=Dt[9]+re[9]*le,k[10]=Dt[10]+re[10]*le,k[11]=Dt[11]+re[11]*le,k[12]=Dt[12]+re[12]*le,k[13]=Dt[13]+re[13]*le,k[14]=Dt[14]+re[14]*le,k[15]=Dt[15]+re[15]*le,k}function er(k,Dt){return k[0]===Dt[0]&&k[1]===Dt[1]&&k[2]===Dt[2]&&k[3]===Dt[3]&&k[4]===Dt[4]&&k[5]===Dt[5]&&k[6]===Dt[6]&&k[7]===Dt[7]&&k[8]===Dt[8]&&k[9]===Dt[9]&&k[10]===Dt[10]&&k[11]===Dt[11]&&k[12]===Dt[12]&&k[13]===Dt[13]&&k[14]===Dt[14]&&k[15]===Dt[15]}function nr(k,Dt){var re=k[0],le=k[1],Ce=k[2],Re=k[3],ke=k[4],Ze=k[5],lr=k[6],dr=k[7],Cr=k[8],Yr=k[9],Nr=k[10],Vr=k[11],cn=k[12],ln=k[13],Hr=k[14],ia=k[15],Oi=Dt[0],Ua=Dt[1],Wa=Dt[2],ei=Dt[3],za=Dt[4],Na=Dt[5],Qi=Dt[6],qi=Dt[7],wi=Dt[8],Ia=Dt[9],yn=Dt[10],ce=Dt[11],or=Dt[12],de=Dt[13],ee=Dt[14],ve=Dt[15];return Math.abs(re-Oi)<=E.b*Math.max(1,Math.abs(re),Math.abs(Oi))&&Math.abs(le-Ua)<=E.b*Math.max(1,Math.abs(le),Math.abs(Ua))&&Math.abs(Ce-Wa)<=E.b*Math.max(1,Math.abs(Ce),Math.abs(Wa))&&Math.abs(Re-ei)<=E.b*Math.max(1,Math.abs(Re),Math.abs(ei))&&Math.abs(ke-za)<=E.b*Math.max(1,Math.abs(ke),Math.abs(za))&&Math.abs(Ze-Na)<=E.b*Math.max(1,Math.abs(Ze),Math.abs(Na))&&Math.abs(lr-Qi)<=E.b*Math.max(1,Math.abs(lr),Math.abs(Qi))&&Math.abs(dr-qi)<=E.b*Math.max(1,Math.abs(dr),Math.abs(qi))&&Math.abs(Cr-wi)<=E.b*Math.max(1,Math.abs(Cr),Math.abs(wi))&&Math.abs(Yr-Ia)<=E.b*Math.max(1,Math.abs(Yr),Math.abs(Ia))&&Math.abs(Nr-yn)<=E.b*Math.max(1,Math.abs(Nr),Math.abs(yn))&&Math.abs(Vr-ce)<=E.b*Math.max(1,Math.abs(Vr),Math.abs(ce))&&Math.abs(cn-or)<=E.b*Math.max(1,Math.abs(cn),Math.abs(or))&&Math.abs(ln-de)<=E.b*Math.max(1,Math.abs(ln),Math.abs(de))&&Math.abs(Hr-ee)<=E.b*Math.max(1,Math.abs(Hr),Math.abs(ee))&&Math.abs(ia-ve)<=E.b*Math.max(1,Math.abs(ia),Math.abs(ve))}var yr=X,Rr=Ar,an=a("n+fv");function In(){var k=new E.a(4);return E.a!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0,k[3]=0),k}function Un(k){var Dt=new E.a(4);return Dt[0]=k[0],Dt[1]=k[1],Dt[2]=k[2],Dt[3]=k[3],Dt}function _n(k,Dt,re,le){var Ce=new E.a(4);return Ce[0]=k,Ce[1]=Dt,Ce[2]=re,Ce[3]=le,Ce}function sa(k,Dt){return k[0]=Dt[0],k[1]=Dt[1],k[2]=Dt[2],k[3]=Dt[3],k}function ci(k,Dt,re,le,Ce){return k[0]=Dt,k[1]=re,k[2]=le,k[3]=Ce,k}function fi(k,Dt,re){return k[0]=Dt[0]+re[0],k[1]=Dt[1]+re[1],k[2]=Dt[2]+re[2],k[3]=Dt[3]+re[3],k}function pa(k,Dt,re){return k[0]=Dt[0]-re[0],k[1]=Dt[1]-re[1],k[2]=Dt[2]-re[2],k[3]=Dt[3]-re[3],k}function ga(k,Dt,re){return k[0]=Dt[0]*re[0],k[1]=Dt[1]*re[1],k[2]=Dt[2]*re[2],k[3]=Dt[3]*re[3],k}function Xi(k,Dt,re){return k[0]=Dt[0]/re[0],k[1]=Dt[1]/re[1],k[2]=Dt[2]/re[2],k[3]=Dt[3]/re[3],k}function Ci(k,Dt){return k[0]=Math.ceil(Dt[0]),k[1]=Math.ceil(Dt[1]),k[2]=Math.ceil(Dt[2]),k[3]=Math.ceil(Dt[3]),k}function Ki(k,Dt){return k[0]=Math.floor(Dt[0]),k[1]=Math.floor(Dt[1]),k[2]=Math.floor(Dt[2]),k[3]=Math.floor(Dt[3]),k}function so(k,Dt,re){return k[0]=Math.min(Dt[0],re[0]),k[1]=Math.min(Dt[1],re[1]),k[2]=Math.min(Dt[2],re[2]),k[3]=Math.min(Dt[3],re[3]),k}function co(k,Dt,re){return k[0]=Math.max(Dt[0],re[0]),k[1]=Math.max(Dt[1],re[1]),k[2]=Math.max(Dt[2],re[2]),k[3]=Math.max(Dt[3],re[3]),k}function fo(k,Dt){return k[0]=Math.round(Dt[0]),k[1]=Math.round(Dt[1]),k[2]=Math.round(Dt[2]),k[3]=Math.round(Dt[3]),k}function ya(k,Dt,re){return k[0]=Dt[0]*re,k[1]=Dt[1]*re,k[2]=Dt[2]*re,k[3]=Dt[3]*re,k}function _a(k,Dt,re,le){return k[0]=Dt[0]+re[0]*le,k[1]=Dt[1]+re[1]*le,k[2]=Dt[2]+re[2]*le,k[3]=Dt[3]+re[3]*le,k}function rr(k,Dt){var re=Dt[0]-k[0],le=Dt[1]-k[1],Ce=Dt[2]-k[2],Re=Dt[3]-k[3];return Math.hypot(re,le,Ce,Re)}function ir(k,Dt){var re=Dt[0]-k[0],le=Dt[1]-k[1],Ce=Dt[2]-k[2],Re=Dt[3]-k[3];return re*re+le*le+Ce*Ce+Re*Re}function Ye(k){var Dt=k[0],re=k[1],le=k[2],Ce=k[3];return Math.hypot(Dt,re,le,Ce)}function tr(k){var Dt=k[0],re=k[1],le=k[2],Ce=k[3];return Dt*Dt+re*re+le*le+Ce*Ce}function Fr(k,Dt){return k[0]=-Dt[0],k[1]=-Dt[1],k[2]=-Dt[2],k[3]=-Dt[3],k}function tn(k,Dt){return k[0]=1/Dt[0],k[1]=1/Dt[1],k[2]=1/Dt[2],k[3]=1/Dt[3],k}function bn(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=re*re+le*le+Ce*Ce+Re*Re;return ke>0&&(ke=1/Math.sqrt(ke)),k[0]=re*ke,k[1]=le*ke,k[2]=Ce*ke,k[3]=Re*ke,k}function on(k,Dt){return k[0]*Dt[0]+k[1]*Dt[1]+k[2]*Dt[2]+k[3]*Dt[3]}function Oa(k,Dt,re,le){var Ce=re[0]*le[1]-re[1]*le[0],Re=re[0]*le[2]-re[2]*le[0],ke=re[0]*le[3]-re[3]*le[0],Ze=re[1]*le[2]-re[2]*le[1],lr=re[1]*le[3]-re[3]*le[1],dr=re[2]*le[3]-re[3]*le[2],Cr=Dt[0],Yr=Dt[1],Nr=Dt[2],Vr=Dt[3];return k[0]=Yr*dr-Nr*lr+Vr*Ze,k[1]=-(Cr*dr)+Nr*ke-Vr*Re,k[2]=Cr*lr-Yr*ke+Vr*Ce,k[3]=-(Cr*Ze)+Yr*Re-Nr*Ce,k}function na(k,Dt,re,le){var Ce=Dt[0],Re=Dt[1],ke=Dt[2],Ze=Dt[3];return k[0]=Ce+le*(re[0]-Ce),k[1]=Re+le*(re[1]-Re),k[2]=ke+le*(re[2]-ke),k[3]=Ze+le*(re[3]-Ze),k}function wa(k,Dt){Dt=Dt||1;var re,le,Ce,Re,ke,Ze;do re=E.c()*2-1,le=E.c()*2-1,ke=re*re+le*le;while(ke>=1);do Ce=E.c()*2-1,Re=E.c()*2-1,Ze=Ce*Ce+Re*Re;while(Ze>=1);var lr=Math.sqrt((1-ke)/Ze);return k[0]=Dt*re,k[1]=Dt*le,k[2]=Dt*Ce*lr,k[3]=Dt*Re*lr,k}function da(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3];return k[0]=re[0]*le+re[4]*Ce+re[8]*Re+re[12]*ke,k[1]=re[1]*le+re[5]*Ce+re[9]*Re+re[13]*ke,k[2]=re[2]*le+re[6]*Ce+re[10]*Re+re[14]*ke,k[3]=re[3]*le+re[7]*Ce+re[11]*Re+re[15]*ke,k}function bi(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=re[0],Ze=re[1],lr=re[2],dr=re[3],Cr=dr*le+Ze*Re-lr*Ce,Yr=dr*Ce+lr*le-ke*Re,Nr=dr*Re+ke*Ce-Ze*le,Vr=-ke*le-Ze*Ce-lr*Re;return k[0]=Cr*dr+Vr*-ke+Yr*-lr-Nr*-Ze,k[1]=Yr*dr+Vr*-Ze+Nr*-ke-Cr*-lr,k[2]=Nr*dr+Vr*-lr+Cr*-Ze-Yr*-ke,k[3]=Dt[3],k}function qa(k){return k[0]=0,k[1]=0,k[2]=0,k[3]=0,k}function fa(k){return"vec4("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"}function Aa(k,Dt){return k[0]===Dt[0]&&k[1]===Dt[1]&&k[2]===Dt[2]&&k[3]===Dt[3]}function Sa(k,Dt){var re=k[0],le=k[1],Ce=k[2],Re=k[3],ke=Dt[0],Ze=Dt[1],lr=Dt[2],dr=Dt[3];return Math.abs(re-ke)<=E.b*Math.max(1,Math.abs(re),Math.abs(ke))&&Math.abs(le-Ze)<=E.b*Math.max(1,Math.abs(le),Math.abs(Ze))&&Math.abs(Ce-lr)<=E.b*Math.max(1,Math.abs(Ce),Math.abs(lr))&&Math.abs(Re-dr)<=E.b*Math.max(1,Math.abs(Re),Math.abs(dr))}var Fa=pa,Ka=ga,hi=Xi,me=rr,he=ir,be=Ye,Ve=tr,Ke=function(){var k=In();return function(Dt,re,le,Ce,Re,ke){var Ze,lr;for(re||(re=4),le||(le=0),Ce?lr=Math.min(Ce*re+le,Dt.length):lr=Dt.length,Ze=le;Ze<lr;Ze+=re)k[0]=Dt[Ze],k[1]=Dt[Ze+1],k[2]=Dt[Ze+2],k[3]=Dt[Ze+3],Re(k,k,ke),Dt[Ze]=k[0],Dt[Ze+1]=k[1],Dt[Ze+2]=k[2],Dt[Ze+3]=k[3];return Dt}}();function fr(){var k=new E.a(4);return E.a!=Float32Array&&(k[0]=0,k[1]=0,k[2]=0),k[3]=1,k}function Lr(k){return k[0]=0,k[1]=0,k[2]=0,k[3]=1,k}function _r(k,Dt,re){re=re*.5;var le=Math.sin(re);return k[0]=le*Dt[0],k[1]=le*Dt[1],k[2]=le*Dt[2],k[3]=Math.cos(re),k}function ua(k,Dt){var re=Math.acos(Dt[3])*2,le=Math.sin(re/2);return le>E.b?(k[0]=Dt[0]/le,k[1]=Dt[1]/le,k[2]=Dt[2]/le):(k[0]=1,k[1]=0,k[2]=0),re}function ta(k,Dt){var re=hs(k,Dt);return Math.acos(2*re*re-1)}function Kn(k,Dt,re){var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=re[0],lr=re[1],dr=re[2],Cr=re[3];return k[0]=le*Cr+ke*Ze+Ce*dr-Re*lr,k[1]=Ce*Cr+ke*lr+Re*Ze-le*dr,k[2]=Re*Cr+ke*dr+le*lr-Ce*Ze,k[3]=ke*Cr-le*Ze-Ce*lr-Re*dr,k}function ji(k,Dt,re){re*=.5;var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Math.sin(re),lr=Math.cos(re);return k[0]=le*lr+ke*Ze,k[1]=Ce*lr+Re*Ze,k[2]=Re*lr-Ce*Ze,k[3]=ke*lr-le*Ze,k}function Ra(k,Dt,re){re*=.5;var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Math.sin(re),lr=Math.cos(re);return k[0]=le*lr-Re*Ze,k[1]=Ce*lr+ke*Ze,k[2]=Re*lr+le*Ze,k[3]=ke*lr-Ce*Ze,k}function eo(k,Dt,re){re*=.5;var le=Dt[0],Ce=Dt[1],Re=Dt[2],ke=Dt[3],Ze=Math.sin(re),lr=Math.cos(re);return k[0]=le*lr+Ce*Ze,k[1]=Ce*lr-le*Ze,k[2]=Re*lr+ke*Ze,k[3]=ke*lr-Re*Ze,k}function Si(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2];return k[0]=re,k[1]=le,k[2]=Ce,k[3]=Math.sqrt(Math.abs(1-re*re-le*le-Ce*Ce)),k}function yo(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Math.sqrt(re*re+le*le+Ce*Ce),Ze=Math.exp(Re),lr=ke>0?Ze*Math.sin(ke)/ke:0;return k[0]=re*lr,k[1]=le*lr,k[2]=Ce*lr,k[3]=Ze*Math.cos(ke),k}function Co(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=Math.sqrt(re*re+le*le+Ce*Ce),Ze=ke>0?Math.atan2(ke,Re)/ke:0;return k[0]=re*Ze,k[1]=le*Ze,k[2]=Ce*Ze,k[3]=.5*Math.log(re*re+le*le+Ce*Ce+Re*Re),k}function Ro(k,Dt,re){return Co(k,Dt),Eo(k,k,re),yo(k,k),k}function we(k,Dt,re,le){var Ce=Dt[0],Re=Dt[1],ke=Dt[2],Ze=Dt[3],lr=re[0],dr=re[1],Cr=re[2],Yr=re[3],Nr,Vr,cn,ln,Hr;return Vr=Ce*lr+Re*dr+ke*Cr+Ze*Yr,Vr<0&&(Vr=-Vr,lr=-lr,dr=-dr,Cr=-Cr,Yr=-Yr),1-Vr>E.b?(Nr=Math.acos(Vr),cn=Math.sin(Nr),ln=Math.sin((1-le)*Nr)/cn,Hr=Math.sin(le*Nr)/cn):(ln=1-le,Hr=le),k[0]=ln*Ce+Hr*lr,k[1]=ln*Re+Hr*dr,k[2]=ln*ke+Hr*Cr,k[3]=ln*Ze+Hr*Yr,k}function ro(k){var Dt=E.c(),re=E.c(),le=E.c(),Ce=Math.sqrt(1-Dt),Re=Math.sqrt(Dt);return k[0]=Ce*Math.sin(2*Math.PI*re),k[1]=Ce*Math.cos(2*Math.PI*re),k[2]=Re*Math.sin(2*Math.PI*le),k[3]=Re*Math.cos(2*Math.PI*le),k}function pe(k,Dt){var re=Dt[0],le=Dt[1],Ce=Dt[2],Re=Dt[3],ke=re*re+le*le+Ce*Ce+Re*Re,Ze=ke?1/ke:0;return k[0]=-re*Ze,k[1]=-le*Ze,k[2]=-Ce*Ze,k[3]=Re*Ze,k}function Gi(k,Dt){return k[0]=-Dt[0],k[1]=-Dt[1],k[2]=-Dt[2],k[3]=Dt[3],k}function Ba(k,Dt){var re=Dt[0]+Dt[4]+Dt[8],le;if(re>0)le=Math.sqrt(re+1),k[3]=.5*le,le=.5/le,k[0]=(Dt[5]-Dt[7])*le,k[1]=(Dt[6]-Dt[2])*le,k[2]=(Dt[1]-Dt[3])*le;else{var Ce=0;Dt[4]>Dt[0]&&(Ce=1),Dt[8]>Dt[Ce*3+Ce]&&(Ce=2);var Re=(Ce+1)%3,ke=(Ce+2)%3;le=Math.sqrt(Dt[Ce*3+Ce]-Dt[Re*3+Re]-Dt[ke*3+ke]+1),k[Ce]=.5*le,le=.5/le,k[3]=(Dt[Re*3+ke]-Dt[ke*3+Re])*le,k[Re]=(Dt[Re*3+Ce]+Dt[Ce*3+Re])*le,k[ke]=(Dt[ke*3+Ce]+Dt[Ce*3+ke])*le}return k}function On(k,Dt,re,le){var Ce=.5*Math.PI/180;Dt*=Ce,re*=Ce,le*=Ce;var Re=Math.sin(Dt),ke=Math.cos(Dt),Ze=Math.sin(re),lr=Math.cos(re),dr=Math.sin(le),Cr=Math.cos(le);return k[0]=Re*lr*Cr-ke*Ze*dr,k[1]=ke*Ze*Cr+Re*lr*dr,k[2]=ke*lr*dr-Re*Ze*Cr,k[3]=ke*lr*Cr+Re*Ze*dr,k}function mo(k){return"quat("+k[0]+", "+k[1]+", "+k[2]+", "+k[3]+")"}var Xo=Un,Ei=_n,Zi=sa,Do=ci,Po=fi,bo=Kn,Eo=ya,hs=on,la=na,Cs=Ye,Ns=Cs,Bs=tr,as=Bs,is=bn,os=Aa,As=Sa,fu=function(){var k=an.create(),Dt=an.fromValues(1,0,0),re=an.fromValues(0,1,0);return function(le,Ce,Re){var ke=an.dot(Ce,Re);return ke<-.999999?(an.cross(k,Dt,Ce),an.len(k)<1e-6&&an.cross(k,re,Ce),an.normalize(k,k),_r(le,k,Math.PI),le):ke>.999999?(le[0]=0,le[1]=0,le[2]=0,le[3]=1,le):(an.cross(k,Ce,Re),le[0]=k[0],le[1]=k[1],le[2]=k[2],le[3]=1+ke,is(le,le))}}(),Gs=function(){var k=fr(),Dt=fr();return function(re,le,Ce,Re,ke,Ze){return we(k,le,ke,Ze),we(Dt,Ce,Re,Ze),we(re,k,Dt,2*Ze*(1-Ze)),re}}(),ru=function(){var k=S();return function(Dt,re,le,Ce){return k[0]=le[0],k[3]=le[1],k[6]=le[2],k[1]=Ce[0],k[4]=Ce[1],k[7]=Ce[2],k[2]=-re[0],k[5]=-re[1],k[8]=-re[2],is(Dt,Ba(Dt,k))}}(),Us=a("ZxFD")},IOzZ:function(Ft,I){function a(f,i){return function(g){return g==null?!1:g[f]===i&&(i!==void 0||f in Object(g))}}Ft.exports=a},IQ25:function(Ft,I,a){"use strict";a.d(I,"a",function(){return y});var f=a("lwsE"),i=a.n(f),g=a("PJYZ"),p=a.n(g),E=a("7W2i"),S=a.n(E),A=a("a1gu"),M=a.n(A),x=a("Nsbk"),O=a.n(x),C=a("oDt1");function D(w){var N=R();return function(){var V=O()(w),B;if(N){var P=O()(this).constructor;B=Reflect.construct(V,arguments,P)}else B=V.apply(this,arguments);return M()(this,B)}}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(w){return!1}}var y=function(w){S()(z,w);var N=D(z);function z(V){var B;return i()(this,z),B=N.call(this,V),B.parentID=void 0,Object.assign(p()(B),V),B}return z}(C.a)},IWTy:function(Ft,I,a){var f=a("yue5");function i(g,p,E){for(var S=-1,A=g.criteria,M=p.criteria,x=A.length,O=E.length;++S<x;){var C=f(A[S],M[S]);if(C){if(S>=O)return C;var D=E[S];return C*(D=="desc"?-1:1)}}return g.index-p.index}Ft.exports=i},IeU1:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return i});function f(g){return g==null?null:i(g)}function i(g){if(typeof g!="function")throw new Error;return g}},Ig6t:function(Ft,I,a){var f=a("b5wT"),i=a("tQ6r");Ft.exports=g;function g(E){function S(A){var M=E.children(A),x=E.node(A);if(M.length&&f.forEach(M,S),f.has(x,"minRank")){x.borderLeft=[],x.borderRight=[];for(var O=x.minRank,C=x.maxRank+1;O<C;++O)p(E,"borderLeft","_bl",A,x,O),p(E,"borderRight","_br",A,x,O)}}f.forEach(E.children(),S)}function p(E,S,A,M,x,O){var C={width:0,height:0,rank:O,borderType:S},D=x[S][O-1],R=i.addDummyNode(E,"border",C,A);x[S][O]=R,E.setParent(R,M),D&&E.setEdge(D,R,{weight:1})}},IlFV:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("f6Jy"),g=a("8Ek7"),p=function(E){Object(f.c)(S,E);function S(A){var M=E.call(this)||this;M.destroyed=!1;var x=M.getDefaultCfg();return M.cfg=Object(g.i)(x,A),M}return S.prototype.getDefaultCfg=function(){return{}},S.prototype.get=function(A){return this.cfg[A]},S.prototype.set=function(A,M){this.cfg[A]=M},S.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},S}(i.a);I.a=p},Ioao:function(Ft,I,a){var f=a("heNW"),i=Math.max;function g(p,E,S){return E=i(E===void 0?p.length-1:E,0),function(){for(var A=arguments,M=-1,x=i(A.length-E,0),O=Array(x);++M<x;)O[M]=A[E+M];M=-1;for(var C=Array(E+1);++M<E;)C[M]=A[M];return C[E]=S(O),f(p,this,C)}}Ft.exports=g},IvmH:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return i});var f={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"},g=["click","mousedown","mouseup","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","wheel"]},IyW0:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("tQ6r"),g=a("jFXE").positionX;Ft.exports=p;function p(S){S=i.asNonCompoundGraph(S),E(S),f.forEach(g(S),function(A,M){S.node(M).x=A})}function E(S){var A=i.buildLayerMatrix(S),M=S.graph().ranksep,x=0;f.forEach(A,function(O){var C=f.max(f.map(O,function(D){return S.node(D).height}));f.forEach(O,function(D){S.node(D).y=x+C/2}),x+=C+M})}},J2m7:function(Ft,I,a){var f=a("XKAG"),i=a("UfWW"),g=f(i);Ft.exports=g},JC6p:function(Ft,I,a){var f=a("cq/+"),i=a("7GkX");function g(p,E){return p&&f(p,E,i)}Ft.exports=g},JRS9:function(Ft,I,a){"use strict";var f=a("uPr3"),i=Array.prototype.concat,g=Array.prototype.slice,p=Ft.exports=function(S){for(var A=[],M=0,x=S.length;M<x;M++){var O=S[M];f(O)?A=i.call(A,g.call(O)):A.push(O)}return A};p.wrap=function(E){return function(){return E(p(arguments))}}},JRpN:function(Ft,I,a){var f=a("b5wT"),i=a("tQ6r");Ft.exports={run:g,cleanup:A};function g(M){var x=i.addDummyNode(M,"root",{},"_root"),O=E(M),C=f.max(f.values(O))-1,D=2*C+1;M.graph().nestingRoot=x,f.forEach(M.edges(),function(y){M.edge(y).minlen*=D});var R=S(M)+1;f.forEach(M.children(),function(y){p(M,x,D,R,C,O,y)}),M.graph().nodeRankFactor=D}function p(M,x,O,C,D,R,y){var w=M.children(y);if(!w.length){y!==x&&M.setEdge(x,y,{weight:0,minlen:O});return}var N=i.addBorderNode(M,"_bt"),z=i.addBorderNode(M,"_bb"),V=M.node(y);M.setParent(N,y),V.borderTop=N,M.setParent(z,y),V.borderBottom=z,f.forEach(w,function(B){p(M,x,O,C,D,R,B);var P=M.node(B),T=P.borderTop?P.borderTop:B,W=P.borderBottom?P.borderBottom:B,Q=P.borderTop?C:2*C,nt=T!==W?1:D-R[y]+1;M.setEdge(N,T,{weight:Q,minlen:nt,nestingEdge:!0}),M.setEdge(W,z,{weight:Q,minlen:nt,nestingEdge:!0})}),M.parent(y)||M.setEdge(x,N,{weight:0,minlen:D+R[y]})}function E(M){var x={};function O(C,D){var R=M.children(C);R&&R.length&&f.forEach(R,function(y){O(y,D+1)}),x[C]=D}return f.forEach(M.children(),function(C){O(C,1)}),x}function S(M){return f.reduce(M.edges(),function(x,O){return x+M.edge(O).weight},0)}function A(M){var x=M.graph();M.removeNode(x.nestingRoot),delete x.nestingRoot,f.forEach(M.edges(),function(O){var C=M.edge(O);C.nestingEdge&&M.removeEdge(O)})}},JX23:function(Ft,I){},JYrq:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("U6MU"),g=a("uwyu"),p=function(S){Object(f.c)(A,S);function A(M){return S.call(this,M)||this}return A.prototype._isInBBox=function(M,x){var O=this.getBBox();return O.minX<=M&&O.maxX>=M&&O.minY<=x&&O.maxY>=x},A.prototype.afterAttrsChange=function(M){S.prototype.afterAttrsChange.call(this,M),this.clearCacheBBox()},A.prototype.getBBox=function(){var M=this.cfg.bbox;return M||(M=this.calculateBBox(),this.set("bbox",M)),M},A.prototype.getCanvasBBox=function(){var M=this.cfg.canvasBBox;return M||(M=this.calculateCanvasBBox(),this.set("canvasBBox",M)),M},A.prototype.applyMatrix=function(M){S.prototype.applyMatrix.call(this,M),this.set("canvasBBox",null)},A.prototype.calculateCanvasBBox=function(){var M=this.getBBox(),x=this.getTotalMatrix(),O=M.minX,C=M.minY,D=M.maxX,R=M.maxY;if(x){var y=Object(g.c)(x,[M.minX,M.minY]),w=Object(g.c)(x,[M.maxX,M.minY]),N=Object(g.c)(x,[M.minX,M.maxY]),z=Object(g.c)(x,[M.maxX,M.maxY]);O=Math.min(y[0],w[0],N[0],z[0]),D=Math.max(y[0],w[0],N[0],z[0]),C=Math.min(y[1],w[1],N[1],z[1]),R=Math.max(y[1],w[1],N[1],z[1])}var V=this.attrs;if(V.shadowColor){var B=V.shadowBlur,P=B===void 0?0:B,T=V.shadowOffsetX,W=T===void 0?0:T,Q=V.shadowOffsetY,nt=Q===void 0?0:Q,st=O-P+W,et=D+P+W,_=C-P+nt,Y=R+P+nt;O=Math.min(O,st),D=Math.max(D,et),C=Math.min(C,_),R=Math.max(R,Y)}return{x:O,y:C,minX:O,minY:C,maxX:D,maxY:R,width:D-O,height:R-C}},A.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},A.prototype.isClipShape=function(){return this.get("isClipShape")},A.prototype.isInShape=function(M,x){return!1},A.prototype.isOnlyHitBox=function(){return!1},A.prototype.isHit=function(M,x){var O=this.get("startArrowShape"),C=this.get("endArrowShape"),D=[M,x,1];D=this.invertFromMatrix(D);var R=D[0],y=D[1],w=this._isInBBox(R,y);return this.isOnlyHitBox()?w:!!(w&&!this.isClipped(R,y)&&(this.isInShape(R,y)||O&&O.isHit(R,y)||C&&C.isHit(R,y)))},A}(i.a),E=p},JZM8:function(Ft,I,a){var f=a("FfPP"),i=a("xs/l"),g=i(function(p,E){return p==null?{}:f(p,E)});Ft.exports=g},JmpY:function(Ft,I,a){var f=a("eUgh");function i(g,p){return f(p,function(E){return g[E]})}Ft.exports=i},Juji:function(Ft,I){function a(f,i){return f!=null&&i in Object(f)}Ft.exports=a},KMYG:function(Ft,I,a){"use strict";a.d(I,"a",function(){return E});var f=a("mrSG"),i=a("5HRO"),g=a("YuPD"),p=a("WOQw");function E(S){var A=S.options,M=A.polygon,x=A.xField,O=A.yField,C=A.seriesField,D=A.tooltip,R=Object(i.a)(D,[x,O,C]),y=R.fields,w=R.formatter;return M?Object(p.a)(Object(g.b)({},S,{options:{type:"polygon",colorField:C,tooltipFields:y,mapping:Object(f.a)({tooltip:w},M)}})):S}},"KZ/l":function(Ft,I,a){var f=a("b5wT"),i=a("F9We").Graph,g=a("RYnF");Ft.exports=E;var p=f.constant(1);function E(O,C){if(O.nodeCount()<=1)return[];var D=M(O,C||p),R=S(D.graph,D.buckets,D.zeroIdx);return f.flatten(f.map(R,function(y){return O.outEdges(y.v,y.w)}),!0)}function S(O,C,D){for(var R=[],y=C[C.length-1],w=C[0],N;O.nodeCount();){for(;N=w.dequeue();)A(O,C,D,N);for(;N=y.dequeue();)A(O,C,D,N);if(O.nodeCount()){for(var z=C.length-2;z>0;--z)if(N=C[z].dequeue(),N){R=R.concat(A(O,C,D,N,!0));break}}}return R}function A(O,C,D,R,y){var w=y?[]:void 0;return f.forEach(O.inEdges(R.v),function(N){var z=O.edge(N),V=O.node(N.v);y&&w.push({v:N.v,w:N.w}),V.out-=z,x(C,D,V)}),f.forEach(O.outEdges(R.v),function(N){var z=O.edge(N),V=N.w,B=O.node(V);B.in-=z,x(C,D,B)}),O.removeNode(R.v),w}function M(O,C){var D=new i,R=0,y=0;f.forEach(O.nodes(),function(z){D.setNode(z,{v:z,in:0,out:0})}),f.forEach(O.edges(),function(z){var V=D.edge(z.v,z.w)||0,B=C(z),P=V+B;D.setEdge(z.v,z.w,P),y=Math.max(y,D.node(z.v).out+=B),R=Math.max(R,D.node(z.w).in+=B)});var w=f.range(y+R+3).map(function(){return new g}),N=R+1;return f.forEach(D.nodes(),function(z){x(w,N,D.node(z))}),{graph:D,buckets:w,zeroIdx:N}}function x(O,C,D){D.out?D.in?O[D.out-D.in+C].enqueue(D):O[O.length-1].enqueue(D):O[0].enqueue(D)}},KavR:function(Ft,I,a){"use strict";var f=a("AA7f"),i=a("iTfj"),g=a("0Xep"),p=a("Qci9");function E(A,M){return(M-A)*Math.random()+A}var S=function(A){Object(f.b)(M,A);function M(){return A!==null&&A.apply(this,arguments)||this}return M.prototype.process=function(x){var O=i.e(x),C=i.q(O);return this.adjustData(O,C),O},M.prototype.adjustDim=function(x,O,C){var D=this,R=this.groupData(C,x);return i.j(R,function(y,w){return D.adjustGroup(y,x,parseFloat(w),O)})},M.prototype.getAdjustOffset=function(x){var O=x.pre,C=x.next,D=(C-O)*g.c;return E(O+D,C-D)},M.prototype.adjustGroup=function(x,O,C,D){var R=this,y=this.getAdjustRange(O,C,D);return i.j(x,function(w){w[O]=R.getAdjustOffset(y)}),x},M}(p.a);I.a=S},Kp9H:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("5jIi"),g=a("14Cm"),p=a("OOL/"),E=a("iBet"),S=a("1PPP"),A=a("F9We").Graph,M=a("tQ6r");Ft.exports=x;function x(R){var y=M.maxRank(R),w=O(R,f.range(1,y+1),"inEdges"),N=O(R,f.range(y-1,-1,-1),"outEdges"),z=i(R);D(R,z);for(var V=Number.POSITIVE_INFINITY,B,P=0,T=0;T<4;++P,++T){C(P%2?w:N,P%4>=2),z=M.buildLayerMatrix(R);var W=g(R,z);W<V&&(T=0,B=f.cloneDeep(z),V=W)}D(R,B)}function O(R,y,w){return f.map(y,function(N){return E(R,N,w)})}function C(R,y){var w=new A;f.forEach(R,function(N){var z=N.graph().root,V=p(N,z,w,y);f.forEach(V.vs,function(B,P){N.node(B).order=P}),S(N,w,V.vs)})}function D(R,y){f.forEach(y,function(w){f.forEach(w,function(N,z){R.node(N).order=z})})}},KwMD:function(Ft,I){function a(f,i,g,p){for(var E=f.length,S=g+(p?1:-1);p?S--:++S<E;)if(i(f[S],S,f))return S;return-1}Ft.exports=a},L16w:function(Ft,I,a){"use strict";I.a={fontFamily:`
  "-apple-system", BlinkMacSystemFont, "Segoe UI", Roboto,"Helvetica Neue",
  Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei",
  SimSun, "sans-serif"`,textColor:"#2C3542",activeTextColor:"#333333",uncheckedColor:"#D8D8D8",lineColor:"#416180",regionColor:"#CCD7EB",verticalAxisRotate:-Math.PI/4,horizontalAxisRotate:Math.PI/4}},L26W:function(Ft,I){Ft.exports=a;function a(f,i){i=i||1;var g=Math.random()*2*Math.PI;return f[0]=Math.cos(g)*i,f[1]=Math.sin(g)*i,f}},LGRX:function(Ft,I,a){"use strict";a.d(I,"a",function(){return O});var f=a("lwsE"),i=a.n(f),g=a("W8MJ"),p=a.n(g),E=a("4cb6"),S=a.n(E),A,M,x;(function(C){C.PANSTART="PANSTART",C.PANEND="PANEND",C.PANMOVE="PANMOVE",C.PINCH="PINCH",C.KEYDOWN="KEYDOWN",C.KEYUP="KEYUP",C.HOVER="HOVER"})(x||(x={}));var O=(A=Object(E.injectable)(),A(M=function(){function C(){i()(this,C)}return p()(C,[{key:"listen",value:function(R){}},{key:"on",value:function(R,y){}},{key:"connect",value:function(){}},{key:"disconnect",value:function(){}},{key:"destroy",value:function(){}}]),C}())||M)},LGYb:function(Ft,I,a){var f=a("1hJj"),i=a("jbM+"),g=a("Xt/L"),p=a("xYSL"),E=a("dQpi"),S=a("rEGp"),A=200;function M(x,O,C){var D=-1,R=i,y=x.length,w=!0,N=[],z=N;if(C)w=!1,R=g;else if(y>=A){var V=O?null:E(x);if(V)return S(V);w=!1,R=p,z=new f}else z=O?[]:N;t:for(;++D<y;){var B=x[D],P=O?O(B):B;if(B=C||B!==0?B:0,w&&P===P){for(var T=z.length;T--;)if(z[T]===P)continue t;O&&z.push(P),N.push(B)}else R(z,P,C)||(z!==N&&z.push(P),N.push(B))}return N}Ft.exports=M},LKzl:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingWhenOnSyntax=void 0;var f=a("406g"),i=a("z4Hk"),g=function(){function p(E){this._binding=E,this._bindingWhenSyntax=new i.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new f.BindingOnSyntax(this._binding)}return p.prototype.when=function(E){return this._bindingWhenSyntax.when(E)},p.prototype.whenTargetNamed=function(E){return this._bindingWhenSyntax.whenTargetNamed(E)},p.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},p.prototype.whenTargetTagged=function(E,S){return this._bindingWhenSyntax.whenTargetTagged(E,S)},p.prototype.whenInjectedInto=function(E){return this._bindingWhenSyntax.whenInjectedInto(E)},p.prototype.whenParentNamed=function(E){return this._bindingWhenSyntax.whenParentNamed(E)},p.prototype.whenParentTagged=function(E,S){return this._bindingWhenSyntax.whenParentTagged(E,S)},p.prototype.whenAnyAncestorIs=function(E){return this._bindingWhenSyntax.whenAnyAncestorIs(E)},p.prototype.whenNoAncestorIs=function(E){return this._bindingWhenSyntax.whenNoAncestorIs(E)},p.prototype.whenAnyAncestorNamed=function(E){return this._bindingWhenSyntax.whenAnyAncestorNamed(E)},p.prototype.whenAnyAncestorTagged=function(E,S){return this._bindingWhenSyntax.whenAnyAncestorTagged(E,S)},p.prototype.whenNoAncestorNamed=function(E){return this._bindingWhenSyntax.whenNoAncestorNamed(E)},p.prototype.whenNoAncestorTagged=function(E,S){return this._bindingWhenSyntax.whenNoAncestorTagged(E,S)},p.prototype.whenAnyAncestorMatches=function(E){return this._bindingWhenSyntax.whenAnyAncestorMatches(E)},p.prototype.whenNoAncestorMatches=function(E){return this._bindingWhenSyntax.whenNoAncestorMatches(E)},p.prototype.onActivation=function(E){return this._bindingOnSyntax.onActivation(E)},p}();I.BindingWhenOnSyntax=g},LcsW:function(Ft,I,a){var f=a("kekF"),i=f(Object.getPrototypeOf,Object);Ft.exports=i},LgvC:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Binding=void 0;var f=a("FV85"),i=a("d9O0"),g=function(){function p(E,S){this.id=i.id(),this.activated=!1,this.serviceIdentifier=E,this.scope=S,this.type=f.BindingTypeEnum.Invalid,this.constraint=function(A){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return p.prototype.clone=function(){var E=new p(this.serviceIdentifier,this.scope);return E.activated=E.scope===f.BindingScopeEnum.Singleton?this.activated:!1,E.implementationType=this.implementationType,E.dynamicValue=this.dynamicValue,E.scope=this.scope,E.type=this.type,E.factory=this.factory,E.provider=this.provider,E.constraint=this.constraint,E.onActivation=this.onActivation,E.cache=this.cache,E},p}();I.Binding=g},LmB6:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("f6Jy"),g=a("sstZ"),p=function(E){Object(f.c)(S,E);function S(A){var M=E.call(this)||this;M.destroyed=!1;var x=M.getDefaultCfg();return M.cfg=Object(g.i)(x,A),M}return S.prototype.getDefaultCfg=function(){return{}},S.prototype.get=function(A){return this.cfg[A]},S.prototype.set=function(A,M){this.cfg[A]=M},S.prototype.destroy=function(){this.cfg={destroyed:!0},this.off(),this.destroyed=!0},S}(i.a);I.a=p},LsHQ:function(Ft,I,a){var f=a("EA7m"),i=a("mv/X");function g(p){return f(function(E,S){var A=-1,M=S.length,x=M>1?S[M-1]:void 0,O=M>2?S[2]:void 0;for(x=p.length>3&&typeof x=="function"?(M--,x):void 0,O&&i(S[0],S[1],O)&&(x=M<3?void 0:x,M=1),E=Object(E);++A<M;){var C=S[A];C&&p(E,C,A,x)}return E})}Ft.exports=g},LvGN:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S}),a.d(I,"c",function(){return T}),a.d(I,"d",function(){return nt}),a.d(I,"e",function(){return dt}),a.d(I,"b",function(){return Tt});var f=a("iTfj"),i=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/ig,g=/[^\s\,]+/ig;function p(ct){var St=ct||[];if(Object(f.B)(St))return St;if(Object(f.O)(St))return St=St.match(i),Object(f.j)(St,function(Vt,Lt){if(Vt=Vt.match(g),Vt[0].length>1){var Nt=Vt[0].charAt(0);Vt.splice(1,0,Vt[0].substr(1)),Vt[0]=Nt}Object(f.j)(Vt,function(Zt,oe){isNaN(Zt)||(Vt[oe]=+Zt)}),St[Lt]=Vt}),St}var E=p;function S(ct,St){for(var Vt=[],Lt=0,Nt=ct.length;Nt-2*!St>Lt;Lt+=2){var Zt=[{x:+ct[Lt-2],y:+ct[Lt-1]},{x:+ct[Lt],y:+ct[Lt+1]},{x:+ct[Lt+2],y:+ct[Lt+3]},{x:+ct[Lt+4],y:+ct[Lt+5]}];St?Lt?Nt-4===Lt?Zt[3]={x:+ct[0],y:+ct[1]}:Nt-2===Lt&&(Zt[2]={x:+ct[0],y:+ct[1]},Zt[3]={x:+ct[2],y:+ct[3]}):Zt[0]={x:+ct[Nt-2],y:+ct[Nt-1]}:Nt-4===Lt?Zt[3]=Zt[2]:Lt||(Zt[0]={x:+ct[Lt],y:+ct[Lt+1]}),Vt.push(["C",(-Zt[0].x+6*Zt[1].x+Zt[2].x)/6,(-Zt[0].y+6*Zt[1].y+Zt[2].y)/6,(Zt[1].x+6*Zt[2].x-Zt[3].x)/6,(Zt[1].y+6*Zt[2].y-Zt[3].y)/6,Zt[2].x,Zt[2].y])}return Vt}function A(ct,St){var Vt=[],Lt=[];function Nt(Zt,oe){if(Zt.length===1)Vt.push(Zt[0]),Lt.push(Zt[0]);else{for(var ue=[],Ee=0;Ee<Zt.length-1;Ee++)Ee===0&&Vt.push(Zt[0]),Ee===Zt.length-2&&Lt.push(Zt[Ee+1]),ue[Ee]=[(1-oe)*Zt[Ee][0]+oe*Zt[Ee+1][0],(1-oe)*Zt[Ee][1]+oe*Zt[Ee+1][1]];Nt(ue,oe)}}return ct.length&&Nt(ct,St),{left:Vt,right:Lt.reverse()}}function M(ct,St,Vt){var Lt=[[ct[1],ct[2]]];Vt=Vt||2;var Nt=[];St[0]==="A"?(Lt.push(St[6]),Lt.push(St[7])):St[0]==="C"?(Lt.push([St[1],St[2]]),Lt.push([St[3],St[4]]),Lt.push([St[5],St[6]])):St[0]==="S"||St[0]==="Q"?(Lt.push([St[1],St[2]]),Lt.push([St[3],St[4]])):Lt.push([St[1],St[2]]);for(var Zt=Lt,oe=1/Vt,ue=0;ue<Vt-1;ue++){var Ee=oe/(1-oe*ue),Te=A(Zt,Ee);Nt.push(Te.left),Zt=Te.right}Nt.push(Zt);var Se=Nt.map(function($e){var cr=[];return $e.length===4&&(cr.push("C"),cr=cr.concat($e[2])),$e.length>=3&&($e.length===3&&cr.push("Q"),cr=cr.concat($e[1])),$e.length===2&&cr.push("L"),cr=cr.concat($e[$e.length-1]),cr});return Se}function x(ct,St,Vt){if(Vt===1)return[[].concat(ct)];var Lt=[];if(St[0]==="L"||St[0]==="C"||St[0]==="Q")Lt=Lt.concat(M(ct,St,Vt));else{var Nt=[].concat(ct);Nt[0]==="M"&&(Nt[0]="L");for(var Zt=0;Zt<=Vt-1;Zt++)Lt.push(Nt)}return Lt}function O(ct,St){if(ct.length===1)return ct;var Vt=ct.length-1,Lt=St.length-1,Nt=Vt/Lt,Zt=[];if(ct.length===1&&ct[0][0]==="M"){for(var oe=0;oe<Lt-Vt;oe++)ct.push(ct[0]);return ct}for(var oe=0;oe<Lt;oe++){var ue=Math.floor(Nt*oe);Zt[ue]=(Zt[ue]||0)+1}var Ee=Zt.reduce(function(Te,Se,$e){return $e===Vt?Te.concat(ct[Vt]):Te.concat(x(ct[$e],ct[$e+1],Se))},[]);return Ee.unshift(ct[0]),(St[Lt]==="Z"||St[Lt]==="z")&&Ee.push("Z"),Ee}function C(ct,St,Vt){var Lt=null,Nt=Vt;return St<Nt&&(Nt=St,Lt="add"),ct<Nt&&(Nt=ct,Lt="del"),{type:Lt,min:Nt}}var D=function(St,Vt){var Lt=St.length,Nt=Vt.length,Zt,oe,ue=0;if(Lt===0||Nt===0)return null;for(var Ee=[],Te=0;Te<=Lt;Te++)Ee[Te]=[],Ee[Te][0]={min:Te};for(var Se=0;Se<=Nt;Se++)Ee[0][Se]={min:Se};for(var Te=1;Te<=Lt;Te++){Zt=St[Te-1];for(var Se=1;Se<=Nt;Se++){oe=Vt[Se-1],Object(f.G)(Zt,oe)?ue=0:ue=1;var $e=Ee[Te-1][Se].min+1,cr=Ee[Te][Se-1].min+1,He=Ee[Te-1][Se-1].min+ue;Ee[Te][Se]=C($e,cr,He)}}return Ee};function R(ct,St){var Vt=D(ct,St),Lt=ct.length,Nt=St.length,Zt=[],oe=1,ue=1;if(Vt[Lt][Nt]!==Lt){for(var Ee=1;Ee<=Lt;Ee++){var Te=Vt[Ee][Ee].min;ue=Ee;for(var Se=oe;Se<=Nt;Se++)Vt[Ee][Se].min<Te&&(Te=Vt[Ee][Se].min,ue=Se);oe=ue,Vt[Ee][oe].type&&Zt.push({index:Ee-1,type:Vt[Ee][oe].type})}for(var Ee=Zt.length-1;Ee>=0;Ee--)oe=Zt[Ee].index,Zt[Ee].type==="add"?ct.splice(oe,0,[].concat(ct[oe])):ct.splice(oe,1)}if(Lt=ct.length,Lt<Nt)for(var Ee=0;Ee<Nt-Lt;Ee++)ct[Lt-1][0]==="z"||ct[Lt-1][0]==="Z"?ct.splice(Lt-2,0,ct[Lt-2]):ct.push(ct[Lt-1]);return ct}function y(ct){var St=[];switch(ct[0]){case"M":St.push([ct[1],ct[2]]);break;case"L":St.push([ct[1],ct[2]]);break;case"A":St.push([ct[6],ct[7]]);break;case"Q":St.push([ct[3],ct[4]]),St.push([ct[1],ct[2]]);break;case"T":St.push([ct[1],ct[2]]);break;case"C":St.push([ct[5],ct[6]]),St.push([ct[1],ct[2]]),St.push([ct[3],ct[4]]);break;case"S":St.push([ct[3],ct[4]]),St.push([ct[1],ct[2]]);break;case"H":St.push([ct[1],ct[1]]);break;case"V":St.push([ct[1],ct[1]]);break;default:}return St}function w(ct,St,Vt){for(var Lt=[].concat(ct),Nt,Zt=1/(Vt+1),oe=y(St)[0],ue=1;ue<=Vt;ue++)Zt*=ue,Nt=Math.floor(ct.length*Zt),Nt===0?Lt.unshift([oe[0]*Zt+ct[Nt][0]*(1-Zt),oe[1]*Zt+ct[Nt][1]*(1-Zt)]):Lt.splice(Nt,0,[oe[0]*Zt+ct[Nt][0]*(1-Zt),oe[1]*Zt+ct[Nt][1]*(1-Zt)]);return Lt}function N(ct,St){if(ct.length<=1)return ct;for(var Vt,Lt=0;Lt<St.length;Lt++)if(ct[Lt][0]!==St[Lt][0])switch(Vt=y(ct[Lt]),St[Lt][0]){case"M":ct[Lt]=["M"].concat(Vt[0]);break;case"L":ct[Lt]=["L"].concat(Vt[0]);break;case"A":ct[Lt]=[].concat(St[Lt]),ct[Lt][6]=Vt[0][0],ct[Lt][7]=Vt[0][1];break;case"Q":if(Vt.length<2)if(Lt>0)Vt=w(Vt,ct[Lt-1],1);else{ct[Lt]=St[Lt];break}ct[Lt]=["Q"].concat(Vt.reduce(function(Nt,Zt){return Nt.concat(Zt)},[]));break;case"T":ct[Lt]=["T"].concat(Vt[0]);break;case"C":if(Vt.length<3)if(Lt>0)Vt=w(Vt,ct[Lt-1],2);else{ct[Lt]=St[Lt];break}ct[Lt]=["C"].concat(Vt.reduce(function(Nt,Zt){return Nt.concat(Zt)},[]));break;case"S":if(Vt.length<2)if(Lt>0)Vt=w(Vt,ct[Lt-1],1);else{ct[Lt]=St[Lt];break}ct[Lt]=["S"].concat(Vt.reduce(function(Nt,Zt){return Nt.concat(Zt)},[]));break;default:ct[Lt]=St[Lt]}return ct}function z(ct,St,Vt,Lt,Nt){return Nt?[["M",+ct+ +Nt,St],["l",Vt-Nt*2,0],["a",Nt,Nt,0,0,1,Nt,Nt],["l",0,Lt-Nt*2],["a",Nt,Nt,0,0,1,-Nt,Nt],["l",Nt*2-Vt,0],["a",Nt,Nt,0,0,1,-Nt,-Nt],["l",0,Nt*2-Lt],["a",Nt,Nt,0,0,1,Nt,-Nt],["z"]]:[["M",ct,St],["l",Vt,0],["l",0,Lt],["l",-Vt,0],["z"]]}var V=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,B=new RegExp("([a-z])["+V+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+V+"]*,?["+V+"]*)+)","ig"),P=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+V+"]*,?["+V+"]*","ig");function T(ct){if(!ct)return null;if(Object(f.B)(ct))return ct;var St={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},Vt=[];return String(ct).replace(B,function(Lt,Nt,Zt){var oe=[],ue=Nt.toLowerCase();if(Zt.replace(P,function(Ee,Te){Te&&oe.push(+Te)}),ue==="m"&&oe.length>2&&(Vt.push([Nt].concat(oe.splice(0,2))),ue="l",Nt=Nt==="m"?"l":"L"),ue==="o"&&oe.length===1&&Vt.push([Nt,oe[0]]),ue==="r")Vt.push([Nt].concat(oe));else for(;oe.length>=St[ue]&&(Vt.push([Nt].concat(oe.splice(0,St[ue]))),!!St[ue]););return""}),Vt}var W=/[a-z]/;function Q(ct,St){return[St[0]+(St[0]-ct[0]),St[1]+(St[1]-ct[1])]}function nt(ct){var St=T(ct);if(!St||!St.length)return[["M",0,0]];for(var Vt=!1,Lt=0;Lt<St.length;Lt++){var Nt=St[Lt][0];if(W.test(Nt)||["V","H","T","S"].indexOf(Nt)>=0){Vt=!0;break}}if(!Vt)return St;var Zt=[],oe=0,ue=0,Ee=0,Te=0,Se=0,$e,cr,He=St[0];(He[0]==="M"||He[0]==="m")&&(oe=+He[1],ue=+He[2],Ee=oe,Te=ue,Se++,Zt[0]=["M",oe,ue]);for(var Lt=Se,_e=St.length;Lt<_e;Lt++){var ur=St[Lt],jr=Zt[Lt-1],Ar=[],Nt=ur[0],Ge=Nt.toUpperCase();if(Nt!==Ge)switch(Ar[0]=Ge,Ge){case"A":Ar[1]=ur[1],Ar[2]=ur[2],Ar[3]=ur[3],Ar[4]=ur[4],Ar[5]=ur[5],Ar[6]=+ur[6]+oe,Ar[7]=+ur[7]+ue;break;case"V":Ar[1]=+ur[1]+ue;break;case"H":Ar[1]=+ur[1]+oe;break;case"M":Ee=+ur[1]+oe,Te=+ur[2]+ue;break;default:for(var br=1,er=ur.length;br<er;br++)Ar[br]=+ur[br]+(br%2?oe:ue)}else Ar=St[Lt];switch(Ge){case"Z":oe=+Ee,ue=+Te;break;case"H":oe=Ar[1],Ar=["L",oe,ue];break;case"V":ue=Ar[1],Ar=["L",oe,ue];break;case"T":oe=Ar[1],ue=Ar[2];var nr=Q([jr[1],jr[2]],[jr[3],jr[4]]);Ar=["Q",nr[0],nr[1],oe,ue];break;case"S":oe=Ar[Ar.length-2],ue=Ar[Ar.length-1];var yr=jr.length,Rr=Q([jr[yr-4],jr[yr-3]],[jr[yr-2],jr[yr-1]]);Ar=["C",Rr[0],Rr[1],Ar[1],Ar[2],oe,ue];break;case"M":Ee=Ar[Ar.length-2],Te=Ar[Ar.length-1];break;default:oe=Ar[Ar.length-2],ue=Ar[Ar.length-1]}Zt.push(Ar)}return Zt}var st=function ct(St,Vt,Lt,Nt,Zt,oe,ue,Ee,Te,Se){Lt===Nt&&(Lt+=1);var $e=Math.PI*120/180,cr=Math.PI/180*(+Zt||0),He=[],_e,ur,jr,Ar,Ge,br=function(Fr,tn,bn){var on=Fr*Math.cos(bn)-tn*Math.sin(bn),Oa=Fr*Math.sin(bn)+tn*Math.cos(bn);return{x:on,y:Oa}};if(Se)ur=Se[0],jr=Se[1],Ar=Se[2],Ge=Se[3];else{_e=br(St,Vt,-cr),St=_e.x,Vt=_e.y,_e=br(Ee,Te,-cr),Ee=_e.x,Te=_e.y,St===Ee&&Vt===Te&&(Ee+=1,Te+=1);var er=(St-Ee)/2,nr=(Vt-Te)/2,yr=er*er/(Lt*Lt)+nr*nr/(Nt*Nt);yr>1&&(yr=Math.sqrt(yr),Lt=yr*Lt,Nt=yr*Nt);var Rr=Lt*Lt,an=Nt*Nt,In=(oe===ue?-1:1)*Math.sqrt(Math.abs((Rr*an-Rr*nr*nr-an*er*er)/(Rr*nr*nr+an*er*er)));Ar=In*Lt*nr/Nt+(St+Ee)/2,Ge=In*-Nt*er/Lt+(Vt+Te)/2,ur=Math.asin(Number(((Vt-Ge)/Nt).toFixed(9))),jr=Math.asin(Number(((Te-Ge)/Nt).toFixed(9))),ur=St<Ar?Math.PI-ur:ur,jr=Ee<Ar?Math.PI-jr:jr,ur<0&&(ur=Math.PI*2+ur),jr<0&&(jr=Math.PI*2+jr),ue&&ur>jr&&(ur=ur-Math.PI*2),!ue&&jr>ur&&(jr=jr-Math.PI*2)}var Un=jr-ur;if(Math.abs(Un)>$e){var _n=jr,sa=Ee,ci=Te;jr=ur+$e*(ue&&jr>ur?1:-1),Ee=Ar+Lt*Math.cos(jr),Te=Ge+Nt*Math.sin(jr),He=ct(Ee,Te,Lt,Nt,Zt,0,ue,sa,ci,[jr,_n,Ar,Ge])}Un=jr-ur;var fi=Math.cos(ur),pa=Math.sin(ur),ga=Math.cos(jr),Xi=Math.sin(jr),Ci=Math.tan(Un/4),Ki=4/3*Lt*Ci,so=4/3*Nt*Ci,co=[St,Vt],fo=[St+Ki*pa,Vt-so*fi],ya=[Ee+Ki*Xi,Te-so*ga],_a=[Ee,Te];if(fo[0]=2*co[0]-fo[0],fo[1]=2*co[1]-fo[1],Se)return[fo,ya,_a].concat(He);He=[fo,ya,_a].concat(He).join().split(",");for(var rr=[],ir=0,Ye=He.length;ir<Ye;ir++)rr[ir]=ir%2?br(He[ir-1],He[ir],cr).y:br(He[ir],He[ir+1],cr).x;return rr},et=function(St,Vt,Lt,Nt){return[St,Vt,Lt,Nt,Lt,Nt]},_=function(St,Vt,Lt,Nt,Zt,oe){var ue=1/3,Ee=2/3;return[ue*St+Ee*Lt,ue*Vt+Ee*Nt,ue*Zt+Ee*Lt,ue*oe+Ee*Nt,Zt,oe]};function Y(ct,St){var Vt=nt(ct),Lt=St&&nt(St),Nt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Zt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},oe=[],ue=[],Ee="",Te="",Se,$e=function(er,nr,yr){var Rr,an;if(!er)return["C",nr.x,nr.y,nr.x,nr.y,nr.x,nr.y];switch(!(er[0]in{T:1,Q:1})&&(nr.qx=nr.qy=null),er[0]){case"M":nr.X=er[1],nr.Y=er[2];break;case"A":er=["C"].concat(st.apply(0,[nr.x,nr.y].concat(er.slice(1))));break;case"S":yr==="C"||yr==="S"?(Rr=nr.x*2-nr.bx,an=nr.y*2-nr.by):(Rr=nr.x,an=nr.y),er=["C",Rr,an].concat(er.slice(1));break;case"T":yr==="Q"||yr==="T"?(nr.qx=nr.x*2-nr.qx,nr.qy=nr.y*2-nr.qy):(nr.qx=nr.x,nr.qy=nr.y),er=["C"].concat(_(nr.x,nr.y,nr.qx,nr.qy,er[1],er[2]));break;case"Q":nr.qx=er[1],nr.qy=er[2],er=["C"].concat(_(nr.x,nr.y,er[1],er[2],er[3],er[4]));break;case"L":er=["C"].concat(et(nr.x,nr.y,er[1],er[2]));break;case"H":er=["C"].concat(et(nr.x,nr.y,er[1],nr.y));break;case"V":er=["C"].concat(et(nr.x,nr.y,nr.x,er[1]));break;case"Z":er=["C"].concat(et(nr.x,nr.y,nr.X,nr.Y));break;default:break}return er},cr=function(er,nr){if(er[nr].length>7){er[nr].shift();for(var yr=er[nr];yr.length;)oe[nr]="A",Lt&&(ue[nr]="A"),er.splice(nr++,0,["C"].concat(yr.splice(0,6)));er.splice(nr,1),Se=Math.max(Vt.length,Lt&&Lt.length||0)}},He=function(er,nr,yr,Rr,an){er&&nr&&er[an][0]==="M"&&nr[an][0]!=="M"&&(nr.splice(an,0,["M",Rr.x,Rr.y]),yr.bx=0,yr.by=0,yr.x=er[an][1],yr.y=er[an][2],Se=Math.max(Vt.length,Lt&&Lt.length||0))};Se=Math.max(Vt.length,Lt&&Lt.length||0);for(var _e=0;_e<Se;_e++){Vt[_e]&&(Ee=Vt[_e][0]),Ee!=="C"&&(oe[_e]=Ee,_e&&(Te=oe[_e-1])),Vt[_e]=$e(Vt[_e],Nt,Te),oe[_e]!=="A"&&Ee==="C"&&(oe[_e]="C"),cr(Vt,_e),Lt&&(Lt[_e]&&(Ee=Lt[_e][0]),Ee!=="C"&&(ue[_e]=Ee,_e&&(Te=ue[_e-1])),Lt[_e]=$e(Lt[_e],Zt,Te),ue[_e]!=="A"&&Ee==="C"&&(ue[_e]="C"),cr(Lt,_e)),He(Vt,Lt,Nt,Zt,_e),He(Lt,Vt,Zt,Nt,_e);var ur=Vt[_e],jr=Lt&&Lt[_e],Ar=ur.length,Ge=Lt&&jr.length;Nt.x=ur[Ar-2],Nt.y=ur[Ar-1],Nt.bx=parseFloat(ur[Ar-4])||Nt.x,Nt.by=parseFloat(ur[Ar-3])||Nt.y,Zt.bx=Lt&&(parseFloat(jr[Ge-4])||Zt.x),Zt.by=Lt&&(parseFloat(jr[Ge-3])||Zt.y),Zt.x=Lt&&jr[Ge-2],Zt.y=Lt&&jr[Ge-1]}return Lt?[Vt,Lt]:Vt}var $=function(St,Vt,Lt,Nt,Zt){var oe=-3*Vt+9*Lt-9*Nt+3*Zt,ue=St*oe+6*Vt-12*Lt+6*Nt;return St*ue-3*Vt+3*Lt},q=function(St,Vt,Lt,Nt,Zt,oe,ue,Ee,Te){Te===null&&(Te=1),Te=Te>1?1:Te<0?0:Te;for(var Se=Te/2,$e=12,cr=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],He=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],_e=0,ur=0;ur<$e;ur++){var jr=Se*cr[ur]+Se,Ar=$(jr,St,Lt,Zt,ue),Ge=$(jr,Vt,Nt,oe,Ee),br=Ar*Ar+Ge*Ge;_e+=He[ur]*Math.sqrt(br)}return Se*_e},at=function(St,Vt,Lt,Nt,Zt,oe,ue,Ee){for(var Te=[],Se=[[],[]],$e,cr,He,_e,ur=0;ur<2;++ur){if(ur===0?(cr=6*St-12*Lt+6*Zt,$e=-3*St+9*Lt-9*Zt+3*ue,He=3*Lt-3*St):(cr=6*Vt-12*Nt+6*oe,$e=-3*Vt+9*Nt-9*oe+3*Ee,He=3*Nt-3*Vt),Math.abs($e)<1e-12){if(Math.abs(cr)<1e-12)continue;_e=-He/cr,_e>0&&_e<1&&Te.push(_e);continue}var jr=cr*cr-4*He*$e,Ar=Math.sqrt(jr);if(!(jr<0)){var Ge=(-cr+Ar)/(2*$e);Ge>0&&Ge<1&&Te.push(Ge);var br=(-cr-Ar)/(2*$e);br>0&&br<1&&Te.push(br)}}for(var er=Te.length,nr=er,yr;er--;)_e=Te[er],yr=1-_e,Se[0][er]=yr*yr*yr*St+3*yr*yr*_e*Lt+3*yr*_e*_e*Zt+_e*_e*_e*ue,Se[1][er]=yr*yr*yr*Vt+3*yr*yr*_e*Nt+3*yr*_e*_e*oe+_e*_e*_e*Ee;return Se[0][nr]=St,Se[1][nr]=Vt,Se[0][nr+1]=ue,Se[1][nr+1]=Ee,Se[0].length=Se[1].length=nr+2,{min:{x:Math.min.apply(0,Se[0]),y:Math.min.apply(0,Se[1])},max:{x:Math.max.apply(0,Se[0]),y:Math.max.apply(0,Se[1])}}},pt=function(St,Vt,Lt,Nt,Zt,oe,ue,Ee){if(!(Math.max(St,Lt)<Math.min(Zt,ue)||Math.min(St,Lt)>Math.max(Zt,ue)||Math.max(Vt,Nt)<Math.min(oe,Ee)||Math.min(Vt,Nt)>Math.max(oe,Ee))){var Te=(St*Nt-Vt*Lt)*(Zt-ue)-(St-Lt)*(Zt*Ee-oe*ue),Se=(St*Nt-Vt*Lt)*(oe-Ee)-(Vt-Nt)*(Zt*Ee-oe*ue),$e=(St-Lt)*(oe-Ee)-(Vt-Nt)*(Zt-ue);if(!!$e){var cr=Te/$e,He=Se/$e,_e=+cr.toFixed(2),ur=+He.toFixed(2);if(!(_e<+Math.min(St,Lt).toFixed(2)||_e>+Math.max(St,Lt).toFixed(2)||_e<+Math.min(Zt,ue).toFixed(2)||_e>+Math.max(Zt,ue).toFixed(2)||ur<+Math.min(Vt,Nt).toFixed(2)||ur>+Math.max(Vt,Nt).toFixed(2)||ur<+Math.min(oe,Ee).toFixed(2)||ur>+Math.max(oe,Ee).toFixed(2)))return{x:cr,y:He}}}},mt=function(St,Vt,Lt){return Vt>=St.x&&Vt<=St.x+St.width&&Lt>=St.y&&Lt<=St.y+St.height},ot=function(St,Vt,Lt,Nt){return St===null&&(St=Vt=Lt=Nt=0),Vt===null&&(Vt=St.y,Lt=St.width,Nt=St.height,St=St.x),{x:St,y:Vt,width:Lt,w:Lt,height:Nt,h:Nt,x2:St+Lt,y2:Vt+Nt,cx:St+Lt/2,cy:Vt+Nt/2,r1:Math.min(Lt,Nt)/2,r2:Math.max(Lt,Nt)/2,r0:Math.sqrt(Lt*Lt+Nt*Nt)/2,path:z(St,Vt,Lt,Nt),vb:[St,Vt,Lt,Nt].join(" ")}},xt=function(St,Vt){return St=ot(St),Vt=ot(Vt),mt(Vt,St.x,St.y)||mt(Vt,St.x2,St.y)||mt(Vt,St.x,St.y2)||mt(Vt,St.x2,St.y2)||mt(St,Vt.x,Vt.y)||mt(St,Vt.x2,Vt.y)||mt(St,Vt.x,Vt.y2)||mt(St,Vt.x2,Vt.y2)||(St.x<Vt.x2&&St.x>Vt.x||Vt.x<St.x2&&Vt.x>St.x)&&(St.y<Vt.y2&&St.y>Vt.y||Vt.y<St.y2&&Vt.y>St.y)},It=function(St,Vt,Lt,Nt,Zt,oe,ue,Ee){Object(f.B)(St)||(St=[St,Vt,Lt,Nt,Zt,oe,ue,Ee]);var Te=at.apply(null,St);return ot(Te.min.x,Te.min.y,Te.max.x-Te.min.x,Te.max.y-Te.min.y)},Ht=function(St,Vt,Lt,Nt,Zt,oe,ue,Ee,Te){var Se=1-Te,$e=Math.pow(Se,3),cr=Math.pow(Se,2),He=Te*Te,_e=He*Te,ur=$e*St+cr*3*Te*Lt+Se*3*Te*Te*Zt+_e*ue,jr=$e*Vt+cr*3*Te*Nt+Se*3*Te*Te*oe+_e*Ee,Ar=St+2*Te*(Lt-St)+He*(Zt-2*Lt+St),Ge=Vt+2*Te*(Nt-Vt)+He*(oe-2*Nt+Vt),br=Lt+2*Te*(Zt-Lt)+He*(ue-2*Zt+Lt),er=Nt+2*Te*(oe-Nt)+He*(Ee-2*oe+Nt),nr=Se*St+Te*Lt,yr=Se*Vt+Te*Nt,Rr=Se*Zt+Te*ue,an=Se*oe+Te*Ee,In=90-Math.atan2(Ar-br,Ge-er)*180/Math.PI;return{x:ur,y:jr,m:{x:Ar,y:Ge},n:{x:br,y:er},start:{x:nr,y:yr},end:{x:Rr,y:an},alpha:In}},Qt=function(St,Vt,Lt){var Nt=It(St),Zt=It(Vt);if(!xt(Nt,Zt))return Lt?0:[];for(var oe=q.apply(0,St),ue=q.apply(0,Vt),Ee=~~(oe/8),Te=~~(ue/8),Se=[],$e=[],cr={},He=Lt?0:[],_e=0;_e<Ee+1;_e++){var ur=Ht.apply(0,St.concat(_e/Ee));Se.push({x:ur.x,y:ur.y,t:_e/Ee})}for(var _e=0;_e<Te+1;_e++){var ur=Ht.apply(0,Vt.concat(_e/Te));$e.push({x:ur.x,y:ur.y,t:_e/Te})}for(var _e=0;_e<Ee;_e++)for(var jr=0;jr<Te;jr++){var Ar=Se[_e],Ge=Se[_e+1],br=$e[jr],er=$e[jr+1],nr=Math.abs(Ge.x-Ar.x)<.001?"y":"x",yr=Math.abs(er.x-br.x)<.001?"y":"x",Rr=pt(Ar.x,Ar.y,Ge.x,Ge.y,br.x,br.y,er.x,er.y);if(Rr){if(cr[Rr.x.toFixed(4)]===Rr.y.toFixed(4))continue;cr[Rr.x.toFixed(4)]=Rr.y.toFixed(4);var an=Ar.t+Math.abs((Rr[nr]-Ar[nr])/(Ge[nr]-Ar[nr]))*(Ge.t-Ar.t),In=br.t+Math.abs((Rr[yr]-br[yr])/(er[yr]-br[yr]))*(er.t-br.t);an>=0&&an<=1&&In>=0&&In<=1&&(Lt?He++:He.push({x:Rr.x,y:Rr.y,t1:an,t2:In}))}}return He},$t=function(St,Vt,Lt){St=Y(St),Vt=Y(Vt);for(var Nt,Zt,oe,ue,Ee,Te,Se,$e,cr,He,_e=Lt?0:[],ur=0,jr=St.length;ur<jr;ur++){var Ar=St[ur];if(Ar[0]==="M")Nt=Ee=Ar[1],Zt=Te=Ar[2];else{Ar[0]==="C"?(cr=[Nt,Zt].concat(Ar.slice(1)),Nt=cr[6],Zt=cr[7]):(cr=[Nt,Zt,Nt,Zt,Ee,Te,Ee,Te],Nt=Ee,Zt=Te);for(var Ge=0,br=Vt.length;Ge<br;Ge++){var er=Vt[Ge];if(er[0]==="M")oe=Se=er[1],ue=$e=er[2];else{er[0]==="C"?(He=[oe,ue].concat(er.slice(1)),oe=He[6],ue=He[7]):(He=[oe,ue,oe,ue,Se,$e,Se,$e],oe=Se,ue=$e);var nr=Qt(cr,He,Lt);if(Lt)_e+=nr;else{for(var yr=0,Rr=nr.length;yr<Rr;yr++)nr[yr].segment1=ur,nr[yr].segment2=Ge,nr[yr].bez1=cr,nr[yr].bez2=He;_e=_e.concat(nr)}}}}}return _e};function yt(ct,St){return $t(ct,St)}var ut=/,?([a-z]),?/gi;function ft(ct){return ct.join(",").replace(ut,"$1")}function it(ct){return Math.sqrt(ct[0]*ct[0]+ct[1]*ct[1])}function vt(ct,St){return it(ct)*it(St)?(ct[0]*St[0]+ct[1]*St[1])/(it(ct)*it(St)):1}function Wt(ct,St){return(ct[0]*St[1]<ct[1]*St[0]?-1:1)*Math.acos(vt(ct,St))}function Ct(ct,St){return ct[0]===St[0]&&ct[1]===St[1]}function Z(ct,St){var Vt=St[1],Lt=St[2],Nt=Object(f.cb)(Object(f.pb)(St[3]),Math.PI*2),Zt=St[4],oe=St[5],ue=ct[0],Ee=ct[1],Te=St[6],Se=St[7],$e=Math.cos(Nt)*(ue-Te)/2+Math.sin(Nt)*(Ee-Se)/2,cr=-1*Math.sin(Nt)*(ue-Te)/2+Math.cos(Nt)*(Ee-Se)/2,He=$e*$e/(Vt*Vt)+cr*cr/(Lt*Lt);He>1&&(Vt*=Math.sqrt(He),Lt*=Math.sqrt(He));var _e=Vt*Vt*(cr*cr)+Lt*Lt*($e*$e),ur=_e?Math.sqrt((Vt*Vt*(Lt*Lt)-_e)/_e):1;Zt===oe&&(ur*=-1),isNaN(ur)&&(ur=0);var jr=Lt?ur*Vt*cr/Lt:0,Ar=Vt?ur*-Lt*$e/Vt:0,Ge=(ue+Te)/2+Math.cos(Nt)*jr-Math.sin(Nt)*Ar,br=(Ee+Se)/2+Math.sin(Nt)*jr+Math.cos(Nt)*Ar,er=[($e-jr)/Vt,(cr-Ar)/Lt],nr=[(-1*$e-jr)/Vt,(-1*cr-Ar)/Lt],yr=Wt([1,0],er),Rr=Wt(er,nr);return vt(er,nr)<=-1&&(Rr=Math.PI),vt(er,nr)>=1&&(Rr=0),oe===0&&Rr>0&&(Rr=Rr-2*Math.PI),oe===1&&Rr<0&&(Rr=Rr+2*Math.PI),{cx:Ge,cy:br,rx:Ct(ct,[Te,Se])?0:Vt,ry:Ct(ct,[Te,Se])?0:Lt,startAngle:yr,endAngle:yr+Rr,xRotation:Nt,arcFlag:Zt,sweepFlag:oe}}function X(ct,St){return[St[0]+(St[0]-ct[0]),St[1]+(St[1]-ct[1])]}function dt(ct){ct=E(ct);for(var St=[],Vt=null,Lt=null,Nt=null,Zt=0,oe=ct.length,ue=0;ue<oe;ue++){var Ee=ct[ue];Lt=ct[ue+1];var Te=Ee[0],Se={command:Te,prePoint:Vt,params:Ee,startTangent:null,endTangent:null};switch(Te){case"M":Nt=[Ee[1],Ee[2]],Zt=ue;break;case"A":var $e=Z(Vt,Ee);Se.arcParams=$e;break;default:break}if(Te==="Z")Vt=Nt,Lt=ct[Zt+1];else{var cr=Ee.length;Vt=[Ee[cr-2],Ee[cr-1]]}Lt&&Lt[0]==="Z"&&(Lt=ct[Zt],St[Zt]&&(St[Zt].prePoint=Vt)),Se.currentPoint=Vt,St[Zt]&&Ct(Vt,St[Zt].currentPoint)&&(St[Zt].prePoint=Se.prePoint);var He=Lt?[Lt[Lt.length-2],Lt[Lt.length-1]]:null;Se.nextPoint=He;var _e=Se.prePoint;if(["L","H","V"].includes(Te))Se.startTangent=[_e[0]-Vt[0],_e[1]-Vt[1]],Se.endTangent=[Vt[0]-_e[0],Vt[1]-_e[1]];else if(Te==="Q"){var ur=[Ee[1],Ee[2]];Se.startTangent=[_e[0]-ur[0],_e[1]-ur[1]],Se.endTangent=[Vt[0]-ur[0],Vt[1]-ur[1]]}else if(Te==="T"){var jr=St[ue-1],ur=X(jr.currentPoint,_e);jr.command==="Q"?(Se.command="Q",Se.startTangent=[_e[0]-ur[0],_e[1]-ur[1]],Se.endTangent=[Vt[0]-ur[0],Vt[1]-ur[1]]):(Se.command="TL",Se.startTangent=[_e[0]-Vt[0],_e[1]-Vt[1]],Se.endTangent=[Vt[0]-_e[0],Vt[1]-_e[1]])}else if(Te==="C"){var Ar=[Ee[1],Ee[2]],Ge=[Ee[3],Ee[4]];Se.startTangent=[_e[0]-Ar[0],_e[1]-Ar[1]],Se.endTangent=[Vt[0]-Ge[0],Vt[1]-Ge[1]]}else if(Te==="S"){var jr=St[ue-1],Ar=X(jr.currentPoint,_e),Ge=[Ee[1],Ee[2]];jr.command==="C"?(Se.command="C",Se.startTangent=[_e[0]-Ar[0],_e[1]-Ar[1]],Se.endTangent=[Vt[0]-Ge[0],Vt[1]-Ge[1]]):(Se.command="SQ",Se.startTangent=[_e[0]-Ge[0],_e[1]-Ge[1]],Se.endTangent=[Vt[0]-Ge[0],Vt[1]-Ge[1]])}else if(Te==="A"){var br=.001,er=Se.arcParams||{},nr=er.cx,yr=nr===void 0?0:nr,Rr=er.cy,an=Rr===void 0?0:Rr,In=er.rx,Un=In===void 0?0:In,_n=er.ry,sa=_n===void 0?0:_n,ci=er.sweepFlag,fi=ci===void 0?0:ci,pa=er.startAngle,ga=pa===void 0?0:pa,Xi=er.endAngle,Ci=Xi===void 0?0:Xi;fi===0&&(br*=-1);var Ki=Un*Math.cos(ga-br)+yr,so=sa*Math.sin(ga-br)+an;Se.startTangent=[Ki-Nt[0],so-Nt[1]];var co=Un*Math.cos(ga+Ci+br)+yr,fo=sa*Math.sin(ga+Ci-br)+an;Se.endTangent=[_e[0]-co,_e[1]-fo]}St.push(Se)}return St}var H=function(St,Vt,Lt){return St>=Vt&&St<=Lt};function lt(ct,St,Vt,Lt){var Nt=.001,Zt={x:Vt.x-ct.x,y:Vt.y-ct.y},oe={x:St.x-ct.x,y:St.y-ct.y},ue={x:Lt.x-Vt.x,y:Lt.y-Vt.y},Ee=oe.x*ue.y-oe.y*ue.x,Te=Ee*Ee,Se=oe.x*oe.x+oe.y*oe.y,$e=ue.x*ue.x+ue.y*ue.y,cr=null;if(Te>Nt*Se*$e){var He=(Zt.x*ue.y-Zt.y*ue.x)/Ee,_e=(Zt.x*oe.y-Zt.y*oe.x)/Ee;H(He,0,1)&&H(_e,0,1)&&(cr={x:ct.x+He*oe.x,y:ct.y+He*oe.y})}return cr}var Ot=1e-6;function Rt(ct){return Math.abs(ct)<Ot?0:ct<0?-1:1}function zt(ct,St,Vt){return(Vt[0]-ct[0])*(St[1]-ct[1])==(St[0]-ct[0])*(Vt[1]-ct[1])&&Math.min(ct[0],St[0])<=Vt[0]&&Vt[0]<=Math.max(ct[0],St[0])&&Math.min(ct[1],St[1])<=Vt[1]&&Vt[1]<=Math.max(ct[1],St[1])}function Bt(ct,St,Vt){var Lt=!1,Nt=ct.length;if(Nt<=2)return!1;for(var Zt=0;Zt<Nt;Zt++){var oe=ct[Zt],ue=ct[(Zt+1)%Nt];if(zt(oe,ue,[St,Vt]))return!0;Rt(oe[1]-Vt)>0!=Rt(ue[1]-Vt)>0&&Rt(St-(Vt-oe[1])*(oe[0]-ue[0])/(oe[1]-ue[1])-oe[0])<0&&(Lt=!Lt)}return Lt}function tt(ct){for(var St=[],Vt=ct.length,Lt=0;Lt<Vt-1;Lt++){var Nt=ct[Lt],Zt=ct[Lt+1];St.push({from:{x:Nt[0],y:Nt[1]},to:{x:Zt[0],y:Zt[1]}})}if(St.length>1){var oe=ct[0],ue=ct[Vt-1];St.push({from:{x:ue[0],y:ue[1]},to:{x:oe[0],y:oe[1]}})}return St}function J(ct,St){var Vt=!1;return Object(f.j)(ct,function(Lt){if(lt(Lt.from,Lt.to,St.from,St.to))return Vt=!0,!1}),Vt}function G(ct){var St=ct.map(function(Lt){return Lt[0]}),Vt=ct.map(function(Lt){return Lt[1]});return{minX:Math.min.apply(null,St),maxX:Math.max.apply(null,St),minY:Math.min.apply(null,Vt),maxY:Math.max.apply(null,Vt)}}function Et(ct,St){return!(St.minX>ct.maxX||St.maxX<ct.minX||St.minY>ct.maxY||St.maxY<ct.minY)}function Tt(ct,St){if(ct.length<2||St.length<2)return!1;var Vt=G(ct),Lt=G(St);if(!Et(Vt,Lt))return!1;var Nt=!1;if(Object(f.j)(St,function(Ee){if(Bt(ct,Ee[0],Ee[1]))return Nt=!0,!1}),Nt||(Object(f.j)(ct,function(Ee){if(Bt(St,Ee[0],Ee[1]))return Nt=!0,!1}),Nt))return!0;var Zt=tt(ct),oe=tt(St),ue=!1;return Object(f.j)(oe,function(Ee){if(J(Zt,Ee))return ue=!0,!1}),ue}},"M5u/":function(Ft,I){Ft.exports=a;function a(f,i){var g=i[0]-f[0],p=i[1]-f[1];return Math.sqrt(g*g+p*p)}},M96O:function(Ft,I,a){var f;try{f={clone:a("uM7l"),constant:a("cvCv"),each:a("xkGU"),filter:a("k4Da"),has:a("OFL0"),isArray:a("Z0cm"),isEmpty:a("E+oP"),isFunction:a("lSCD"),isUndefined:a("TP7S"),keys:a("7GkX"),map:a("3WF5"),reduce:a("xaJk"),size:a("1iNE"),transform:a("UMpK"),union:a("v8eK"),values:a("P/G1")}}catch(i){}f||(f=window._),Ft.exports=f},ME5O:function(Ft,I,a){"use strict";var f={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};I.a=f},MF6L:function(Ft,I,a){Ft.exports=a("u6oY")},MON2:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.STACK_OVERFLOW=I.CIRCULAR_DEPENDENCY_IN_FACTORY=I.POST_CONSTRUCT_ERROR=I.MULTIPLE_POST_CONSTRUCT_METHODS=I.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=I.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=I.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=I.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=I.ARGUMENTS_LENGTH_MISMATCH=I.INVALID_DECORATOR_OPERATION=I.INVALID_TO_SELF_VALUE=I.INVALID_FUNCTION_BINDING=I.INVALID_MIDDLEWARE_RETURN=I.NO_MORE_SNAPSHOTS_AVAILABLE=I.INVALID_BINDING_TYPE=I.NOT_IMPLEMENTED=I.CIRCULAR_DEPENDENCY=I.UNDEFINED_INJECT_ANNOTATION=I.MISSING_INJECT_ANNOTATION=I.MISSING_INJECTABLE_ANNOTATION=I.NOT_REGISTERED=I.CANNOT_UNBIND=I.AMBIGUOUS_MATCH=I.KEY_NOT_FOUND=I.NULL_ARGUMENT=I.DUPLICATED_METADATA=I.DUPLICATED_INJECTABLE_DECORATOR=void 0,I.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",I.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",I.NULL_ARGUMENT="NULL argument",I.KEY_NOT_FOUND="Key Not Found",I.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",I.CANNOT_UNBIND="Could not unbind serviceIdentifier:",I.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",I.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",I.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var f=function(S){return"@inject called with undefined this could mean that the class "+S+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."};I.UNDEFINED_INJECT_ANNOTATION=f,I.CIRCULAR_DEPENDENCY="Circular dependency found:",I.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",I.INVALID_BINDING_TYPE="Invalid binding type:",I.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",I.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",I.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",I.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",I.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var i=function(){for(var S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];return"The number of constructor arguments in the derived class "+(S[0]+" must be >= than the number of constructor arguments of its base class.")};I.ARGUMENTS_LENGTH_MISMATCH=i,I.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",I.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",I.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",I.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",I.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";var g=function(){for(var S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];return"@postConstruct error in class "+S[0]+": "+S[1]};I.POST_CONSTRUCT_ERROR=g;var p=function(){for(var S=[],A=0;A<arguments.length;A++)S[A]=arguments[A];return"It looks like there is a circular dependency "+("in one of the '"+S[0]+"' bindings. Please investigate bindings with")+("service identifier '"+S[1]+"'.")};I.CIRCULAR_DEPENDENCY_IN_FACTORY=p,I.STACK_OVERFLOW="Maximum call stack size exceeded"},MaEA:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("zK8m"),g=a("aSjE"),p=function(E){Object(f.c)(S,E);function S(A){return E.call(this,A)||this}return S.prototype._isInBBox=function(A,M){var x=this.getBBox();return x.minX<=A&&x.maxX>=A&&x.minY<=M&&x.maxY>=M},S.prototype.afterAttrsChange=function(A){E.prototype.afterAttrsChange.call(this,A),this.clearCacheBBox()},S.prototype.getBBox=function(){var A=this.cfg.bbox;return A||(A=this.calculateBBox(),this.set("bbox",A)),A},S.prototype.getCanvasBBox=function(){var A=this.cfg.canvasBBox;return A||(A=this.calculateCanvasBBox(),this.set("canvasBBox",A)),A},S.prototype.applyMatrix=function(A){E.prototype.applyMatrix.call(this,A),this.set("canvasBBox",null)},S.prototype.calculateCanvasBBox=function(){var A=this.getBBox(),M=this.getTotalMatrix(),x=A.minX,O=A.minY,C=A.maxX,D=A.maxY;if(M){var R=Object(g.c)(M,[A.minX,A.minY]),y=Object(g.c)(M,[A.maxX,A.minY]),w=Object(g.c)(M,[A.minX,A.maxY]),N=Object(g.c)(M,[A.maxX,A.maxY]);x=Math.min(R[0],y[0],w[0],N[0]),C=Math.max(R[0],y[0],w[0],N[0]),O=Math.min(R[1],y[1],w[1],N[1]),D=Math.max(R[1],y[1],w[1],N[1])}var z=this.attrs;if(z.shadowColor){var V=z.shadowBlur,B=V===void 0?0:V,P=z.shadowOffsetX,T=P===void 0?0:P,W=z.shadowOffsetY,Q=W===void 0?0:W,nt=x-B+T,st=C+B+T,et=O-B+Q,_=D+B+Q;x=Math.min(x,nt),C=Math.max(C,st),O=Math.min(O,et),D=Math.max(D,_)}return{x,y:O,minX:x,minY:O,maxX:C,maxY:D,width:C-x,height:D-O}},S.prototype.clearCacheBBox=function(){this.set("bbox",null),this.set("canvasBBox",null)},S.prototype.isClipShape=function(){return this.get("isClipShape")},S.prototype.isInShape=function(A,M){return!1},S.prototype.isOnlyHitBox=function(){return!1},S.prototype.isHit=function(A,M){var x=this.get("startArrowShape"),O=this.get("endArrowShape"),C=[A,M,1];C=this.invertFromMatrix(C);var D=C[0],R=C[1],y=this._isInBBox(D,R);return this.isOnlyHitBox()?y:!!(y&&!this.isClipped(D,R)&&(this.isInShape(D,R)||x&&x.isHit(D,R)||O&&O.isHit(D,R)))},S}(i.a);I.a=p},MeYt:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("iTfj"),g=a("1//c"),p=a("jqgP"),E=a("5UbV"),S=a("NmWf"),A="update_status",M=["visible","tip","delegateObject"],x=["container","group","shapesMap","isRegister","isUpdating","destroyed"],O=function(C){Object(f.c)(D,C);function D(){return C!==null&&C.apply(this,arguments)||this}return D.prototype.getDefaultCfg=function(){var R=C.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},R),{container:null,shapesMap:{},group:null,capture:!0,isRegister:!1,isUpdating:!1,isInit:!0})},D.prototype.remove=function(){this.clear();var R=this.get("group");R.remove()},D.prototype.clear=function(){var R=this.get("group");R.clear(),this.set("shapesMap",{}),this.clearOffScreenCache(),this.set("isInit",!0)},D.prototype.getChildComponentById=function(R){var y=this.getElementById(R),w=y&&y.get("component");return w},D.prototype.getElementById=function(R){return this.get("shapesMap")[R]},D.prototype.getElementByLocalId=function(R){var y=this.getElementId(R);return this.getElementById(y)},D.prototype.getElementsByName=function(R){var y=[];return Object(i.j)(this.get("shapesMap"),function(w){w.get("name")===R&&y.push(w)}),y},D.prototype.getContainer=function(){return this.get("container")},D.prototype.updateInner=function(R){this.offScreenRender(),this.get("updateAutoRender")&&this.render()},D.prototype.render=function(){var R=this.get("offScreenGroup");R||(R=this.offScreenRender());var y=this.get("group");this.updateElements(R,y),this.deleteElements(),this.applyOffset(),this.get("eventInitted")||(this.initEvent(),this.set("eventInitted",!0)),this.set("isInit",!1)},D.prototype.show=function(){var R=this.get("group");R.show(),this.set("visible",!0)},D.prototype.hide=function(){var R=this.get("group");R.hide(),this.set("visible",!1)},D.prototype.setCapture=function(R){var y=this.get("group");y.set("capture",R),this.set("capture",R)},D.prototype.destroy=function(){this.removeEvent(),this.remove(),C.prototype.destroy.call(this)},D.prototype.getBBox=function(){return this.get("group").getCanvasBBox()},D.prototype.getLayoutBBox=function(){var R=this.get("group"),y=this.getInnerLayoutBBox(),w=R.getTotalMatrix();return w&&(y=Object(p.a)(w,y)),y},D.prototype.on=function(R,y,w){var N=this.get("group");return N.on(R,y,w),this},D.prototype.off=function(R,y){var w=this.get("group");return w&&w.off(R,y),this},D.prototype.emit=function(R,y){var w=this.get("group");w.emit(R,y)},D.prototype.init=function(){C.prototype.init.call(this),this.get("group")||this.initGroup(),this.offScreenRender()},D.prototype.getInnerLayoutBBox=function(){return this.get("offScreenBBox")||this.get("group").getBBox()},D.prototype.delegateEmit=function(R,y){var w=this.get("group");y.target=w,w.emit(R,y),Object(g.a)(w,R,y)},D.prototype.createOffScreenGroup=function(){var R=this.get("group"),y=R.getGroupBase(),w=new y({delegateObject:this.getDelegateObject()});return w},D.prototype.applyOffset=function(){var R=this.get("offsetX"),y=this.get("offsetY");this.moveElementTo(this.get("group"),{x:R,y})},D.prototype.initGroup=function(){var R=this.get("container");this.set("group",R.addGroup({id:this.get("id"),name:this.get("name"),capture:this.get("capture"),visible:this.get("visible"),isComponent:!0,component:this,delegateObject:this.getDelegateObject()}))},D.prototype.offScreenRender=function(){this.clearOffScreenCache();var R=this.createOffScreenGroup();return this.renderInner(R),this.set("offScreenGroup",R),this.set("offScreenBBox",Object(E.d)(R)),R},D.prototype.addGroup=function(R,y){this.appendDelegateObject(R,y);var w=R.addGroup(y);return this.get("isRegister")&&this.registerElement(w),w},D.prototype.addShape=function(R,y){this.appendDelegateObject(R,y);var w=R.addShape(y);return this.get("isRegister")&&this.registerElement(w),w},D.prototype.addComponent=function(R,y){var w=y.id,N=y.component,z=Object(f.e)(y,["id","component"]),V=new N(Object(f.a)(Object(f.a)({},z),{id:w,container:R,updateAutoRender:this.get("updateAutoRender")}));return V.init(),V.render(),this.get("isRegister")&&this.registerElement(V.get("group")),V},D.prototype.initEvent=function(){},D.prototype.removeEvent=function(){var R=this.get("group");R.off()},D.prototype.getElementId=function(R){var y=this.get("id"),w=this.get("name");return y+"-"+w+"-"+R},D.prototype.registerElement=function(R){var y=R.get("id");this.get("shapesMap")[y]=R},D.prototype.unregisterElement=function(R){var y=R.get("id");delete this.get("shapesMap")[y]},D.prototype.moveElementTo=function(R,y){var w=Object(p.f)(y);R.attr("matrix",w)},D.prototype.addAnimation=function(R,y,w){var N=y.attr("opacity");Object(i.I)(N)&&(N=1),y.attr("opacity",0),y.animate({opacity:N},w)},D.prototype.removeAnimation=function(R,y,w){y.animate({opacity:0},w)},D.prototype.updateAnimation=function(R,y,w,N){y.animate(w,N)},D.prototype.updateElements=function(R,y){var w=this,N=this.get("animate"),z=this.get("animateOption"),V=R.getChildren().slice(0),B;Object(i.j)(V,function(P){var T=P.get("id"),W=w.getElementById(T),Q=P.get("name");if(W)if(P.get("isComponent")){var nt=P.get("component"),st=W.get("component"),et=Object(i.eb)(nt.cfg,Object(i.i)(Object(i.R)(nt.cfg),x));st.update(et),W.set(A,"update")}else{var _=w.getReplaceAttrs(W,P);N&&z.update?w.updateAnimation(Q,W,_,z.update):W.attr(_),P.isGroup()&&w.updateElements(P,W),Object(i.j)(M,function(at){W.set(at,P.get(at))}),Object(E.m)(W,P),B=W,W.set(A,"update")}else{y.add(P);var Y=y.getChildren();if(Y.splice(Y.length-1,1),B){var $=Y.indexOf(B);Y.splice($+1,0,P)}else Y.unshift(P);if(w.registerElement(P),P.set(A,"add"),P.get("isComponent")){var nt=P.get("component");nt.set("container",y)}else P.isGroup()&&w.registerNewGroup(P);if(B=P,N){var q=w.get("isInit")?z.appear:z.enter;q&&w.addAnimation(Q,P,q)}}})},D.prototype.clearUpdateStatus=function(R){var y=R.getChildren();Object(i.j)(y,function(w){w.set(A,null)})},D.prototype.clearOffScreenCache=function(){var R=this.get("offScreenGroup");R&&R.destroy(),this.set("offScreenGroup",null),this.set("offScreenBBox",null)},D.prototype.getDelegateObject=function(){var R,y=this.get("name"),w=(R={},R[y]=this,R.component=this,R);return w},D.prototype.appendDelegateObject=function(R,y){var w=R.get("delegateObject");y.delegateObject||(y.delegateObject={}),Object(i.bb)(y.delegateObject,w)},D.prototype.getReplaceAttrs=function(R,y){var w=R.attr(),N=y.attr();return Object(i.j)(w,function(z,V){N[V]===void 0&&(N[V]=void 0)}),N},D.prototype.registerNewGroup=function(R){var y=this,w=R.getChildren();Object(i.j)(w,function(N){y.registerElement(N),N.set(A,"add"),N.isGroup()&&y.registerNewGroup(N)})},D.prototype.deleteElements=function(){var R=this,y=this.get("shapesMap"),w=[];Object(i.j)(y,function(V,B){!V.get(A)||V.destroyed?w.push([B,V]):V.set(A,null)});var N=this.get("animate"),z=this.get("animateOption");Object(i.j)(w,function(V){var B=V[0],P=V[1];if(!P.destroyed){var T=P.get("name");if(N&&z.leave){var W=Object(i.bb)({callback:function(){R.removeElement(P)}},z.leave);R.removeAnimation(T,P,W)}else R.removeElement(P)}delete y[B]})},D.prototype.removeElement=function(R){if(R.get("isGroup")){var y=R.get("component");y&&y.destroy()}R.remove()},D}(S.a);I.a=O},Mffy:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return i});var f=["#FAAD14","#E8EDF3"],i={percent:.2,color:f,animation:{}}},Mj7Y:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Z});var f=a("mrSG"),i=a("zJSt"),g=a("w02o"),p=a("YuPD"),E=a("tKoa"),S=a("iTfj"),A=a("9Fwm"),M={font:function(){return"serif"},padding:1,size:[500,500],spiral:"archimedean",timeInterval:3e3};function x(X,dt){return dt=Object(S.b)({},M,dt),O(X,dt)}function O(X,dt){var H=q();["font","fontSize","fontWeight","padding","rotate","size","spiral","timeInterval","random"].forEach(function(tt){Object(S.I)(dt[tt])||H[tt](dt[tt])}),H.words(X),dt.imageMask&&H.createMask(dt.imageMask);var lt=H.start(),Ot=lt._tags;Ot.forEach(function(tt){tt.x+=dt.size[0]/2,tt.y+=dt.size[1]/2});var Rt=dt.size,zt=Rt[0],Bt=Rt[1];return Ot.push({text:"",value:0,x:0,y:0,opacity:0}),Ot.push({text:"",value:0,x:zt,y:Bt,opacity:0}),Ot}var C=Math.PI/180,D=1<<11>>5,R=1<<11;function y(X){return X.text}function w(){return"serif"}function N(){return"normal"}function z(X){return X.value}function V(){return~~(Math.random()*2)*90}function B(){return 1}function P(X,dt,H,lt){if(!dt.sprite){var Ot=X.context,Rt=X.ratio;Ot.clearRect(0,0,(D<<5)/Rt,R/Rt);var zt=0,Bt=0,tt=0,J=H.length;for(--lt;++lt<J;){dt=H[lt],Ot.save(),Ot.font=dt.style+" "+dt.weight+" "+~~((dt.size+1)/Rt)+"px "+dt.font;var G=Ot.measureText(dt.text+"m").width*Rt,Et=dt.size<<1;if(dt.rotate){var Tt=Math.sin(dt.rotate*C),ct=Math.cos(dt.rotate*C),St=G*ct,Vt=G*Tt,Lt=Et*ct,Nt=Et*Tt;G=Math.max(Math.abs(St+Nt),Math.abs(St-Nt))+31>>5<<5,Et=~~Math.max(Math.abs(Vt+Lt),Math.abs(Vt-Lt))}else G=G+31>>5<<5;if(Et>tt&&(tt=Et),zt+G>=D<<5&&(zt=0,Bt+=tt,tt=0),Bt+Et>=R)break;Ot.translate((zt+(G>>1))/Rt,(Bt+(Et>>1))/Rt),dt.rotate&&Ot.rotate(dt.rotate*C),Ot.fillText(dt.text,0,0),dt.padding&&(Ot.lineWidth=2*dt.padding,Ot.strokeText(dt.text,0,0)),Ot.restore(),dt.width=G,dt.height=Et,dt.xoff=zt,dt.yoff=Bt,dt.x1=G>>1,dt.y1=Et>>1,dt.x0=-dt.x1,dt.y0=-dt.y1,dt.hasText=!0,zt+=G}for(var Zt=Ot.getImageData(0,0,(D<<5)/Rt,R/Rt).data,oe=[];--lt>=0;)if(dt=H[lt],!!dt.hasText){for(var G=dt.width,ue=G>>5,Et=dt.y1-dt.y0,Ee=0;Ee<Et*ue;Ee++)oe[Ee]=0;if(zt=dt.xoff,zt==null)return;Bt=dt.yoff;for(var Te=0,Se=-1,$e=0;$e<Et;$e++){for(var Ee=0;Ee<G;Ee++){var cr=ue*$e+(Ee>>5),He=Zt[(Bt+$e)*(D<<5)+(zt+Ee)<<2]?1<<31-Ee%32:0;oe[cr]|=He,Te|=He}Te?Se=$e:(dt.y0++,Et--,$e--,Bt++)}dt.y1=dt.y0+Se,dt.sprite=oe.slice(0,(dt.y1-dt.y0)*ue)}}}function T(X,dt,H){H>>=5;for(var lt=X.sprite,Ot=X.width>>5,Rt=X.x-(Ot<<4),zt=Rt&127,Bt=32-zt,tt=X.y1-X.y0,J=(X.y+X.y0)*H+(Rt>>5),G,Et=0;Et<tt;Et++){G=0;for(var Tt=0;Tt<=Ot;Tt++)if((G<<Bt|(Tt<Ot?(G=lt[Et*Ot+Tt])>>>zt:0))&dt[J+Tt])return!0;J+=H}return!1}function W(X,dt){var H=X[0],lt=X[1];dt.x+dt.x0<H.x&&(H.x=dt.x+dt.x0),dt.y+dt.y0<H.y&&(H.y=dt.y+dt.y0),dt.x+dt.x1>lt.x&&(lt.x=dt.x+dt.x1),dt.y+dt.y1>lt.y&&(lt.y=dt.y+dt.y1)}function Q(X,dt){return X.x+X.x1>dt[0].x&&X.x+X.x0<dt[1].x&&X.y+X.y1>dt[0].y&&X.y+X.y0<dt[1].y}function nt(X){var dt=X[0]/X[1];return function(H){return[dt*(H*=.1)*Math.cos(H),H*Math.sin(H)]}}function st(X){var dt=4,H=dt*X[0]/X[1],lt=0,Ot=0;return function(Rt){var zt=Rt<0?-1:1;switch(Math.sqrt(1+4*zt*Rt)-zt&3){case 0:lt+=H;break;case 1:Ot+=dt;break;case 2:lt-=H;break;default:Ot-=dt;break}return[lt,Ot]}}function et(X){for(var dt=[],H=-1;++H<X;)dt[H]=0;return dt}function _(){return document.createElement("canvas")}function Y(X){return Object(S.H)(X)?X:function(){return X}}var $={archimedean:nt,rectangular:st};function q(){var X=[256,256],dt=w,H=z,lt=N,Ot=V,Rt=B,zt=nt,Bt=Math.random,tt=[],J=Infinity,G=y,Et=N,Tt=_,ct={};ct.start=function(){var Lt=X[0],Nt=X[1],Zt=St(Tt()),oe=ct.board?ct.board:et((X[0]>>5)*X[1]),ue=tt.length,Ee=[],Te=tt.map(function(He,_e,ur){return He.text=G.call(this,He,_e,ur),He.font=dt.call(this,He,_e,ur),He.style=Et.call(this,He,_e,ur),He.weight=lt.call(this,He,_e,ur),He.rotate=Ot.call(this,He,_e,ur),He.size=~~H.call(this,He,_e,ur),He.padding=Rt.call(this,He,_e,ur),He}).sort(function(He,_e){return _e.size-He.size}),Se=-1,$e=ct.board?[{x:0,y:0},{x:Lt,y:Nt}]:null;cr();function cr(){for(var He=Date.now();Date.now()-He<J&&++Se<ue;){var _e=Te[Se];_e.x=Lt*(Bt()+.5)>>1,_e.y=Nt*(Bt()+.5)>>1,P(Zt,_e,Te,Se),_e.hasText&&Vt(oe,_e,$e)&&(Ee.push(_e),$e?ct.hasImage||W($e,_e):$e=[{x:_e.x+_e.x0,y:_e.y+_e.y0},{x:_e.x+_e.x1,y:_e.y+_e.y1}],_e.x-=X[0]>>1,_e.y-=X[1]>>1)}ct._tags=Ee,ct._bounds=$e}return ct};function St(Lt){Lt.width=Lt.height=1;var Nt=Math.sqrt(Lt.getContext("2d").getImageData(0,0,1,1).data.length>>2);Lt.width=(D<<5)/Nt,Lt.height=R/Nt;var Zt=Lt.getContext("2d");return Zt.fillStyle=Zt.strokeStyle="red",Zt.textAlign="center",{context:Zt,ratio:Nt}}function Vt(Lt,Nt,Zt){for(var oe=Nt.x,ue=Nt.y,Ee=Math.sqrt(X[0]*X[0]+X[1]*X[1]),Te=zt(X),Se=Bt()<.5?1:-1,$e,cr=-Se,He,_e;($e=Te(cr+=Se))&&(He=~~$e[0],_e=~~$e[1],!(Math.min(Math.abs(He),Math.abs(_e))>=Ee));)if(Nt.x=oe+He,Nt.y=ue+_e,!(Nt.x+Nt.x0<0||Nt.y+Nt.y0<0||Nt.x+Nt.x1>X[0]||Nt.y+Nt.y1>X[1])&&(!Zt||!T(Nt,Lt,X[0]))&&(!Zt||Q(Nt,Zt))){for(var ur=Nt.sprite,jr=Nt.width>>5,Ar=X[0]>>5,Ge=Nt.x-(jr<<4),br=Ge&127,er=32-br,nr=Nt.y1-Nt.y0,yr=void 0,Rr=(Nt.y+Nt.y0)*Ar+(Ge>>5),an=0;an<nr;an++){yr=0;for(var In=0;In<=jr;In++)Lt[Rr+In]|=yr<<er|(In<jr?(yr=ur[an*jr+In])>>>br:0);Rr+=Ar}return delete Nt.sprite,!0}return!1}return ct.createMask=function(Lt){var Nt=document.createElement("canvas"),Zt=X[0],oe=X[1];if(!(!Zt||!oe)){var ue=Zt>>5,Ee=et((Zt>>5)*oe);Nt.width=Zt,Nt.height=oe;var Te=Nt.getContext("2d");Te.drawImage(Lt,0,0,Lt.width,Lt.height,0,0,Zt,oe);for(var Se=Te.getImageData(0,0,Zt,oe).data,$e=0;$e<oe;$e++)for(var cr=0;cr<Zt;cr++){var He=ue*$e+(cr>>5),_e=$e*Zt+cr<<2,ur=Se[_e]>=250&&Se[_e+1]>=250&&Se[_e+2]>=250,jr=ur?1<<31-cr%32:0;Ee[He]|=jr}ct.board=Ee,ct.hasImage=!0}},ct.timeInterval=function(Lt){J=Lt==null?Infinity:Lt},ct.words=function(Lt){tt=Lt},ct.size=function(Lt){X=[+Lt[0],+Lt[1]]},ct.font=function(Lt){dt=Y(Lt)},ct.fontWeight=function(Lt){lt=Y(Lt)},ct.rotate=function(Lt){Ot=Y(Lt)},ct.spiral=function(Lt){zt=$[Lt]||Lt},ct.fontSize=function(Lt){H=Y(Lt)},ct.padding=function(Lt){Rt=Y(Lt)},ct.random=function(Lt){Bt=Y(Lt)},ct}function at(X){var dt=X.options,H=X.chart,lt=H,Ot=lt.width,Rt=lt.height,zt=lt.padding,Bt=lt.appendPadding,tt=lt.ele,J=dt.data,G=dt.imageMask,Et=dt.wordField,Tt=dt.weightField,ct=dt.colorField,St=dt.wordStyle,Vt=dt.timeInterval,Lt=dt.random,Nt=dt.spiral,Zt=dt.autoFit,oe=Zt===void 0?!0:Zt,ue=dt.placementStrategy;if(!J||!J.length)return[];var Ee=St.fontFamily,Te=St.fontWeight,Se=St.padding,$e=St.fontSize,cr=It(J,Tt),He=[$t(cr),yt(cr)],_e=J.map(function(Ar){return{text:Ar[Et],value:Ar[Tt],color:Ar[ct],datum:Ar}}),ur={imageMask:G,font:Ee,fontSize:xt($e,He),fontWeight:Te,size:pt({width:Ot,height:Rt,padding:zt,appendPadding:Bt,autoFit:oe,container:tt}),padding:Se,timeInterval:Vt,random:Lt,spiral:Nt,rotate:Ht(dt)};if(Object(S.H)(ue)){var jr=_e.map(function(Ar,Ge,br){return Object(f.a)(Object(f.a)(Object(f.a)({},Ar),{hasText:!!Ar.text,font:Y(ur.font)(Ar,Ge,br),weight:Y(ur.fontWeight)(Ar,Ge,br),rotate:Y(ur.rotate)(Ar,Ge,br),size:Y(ur.fontSize)(Ar,Ge,br),style:"normal"}),ue.call(H,Ar,Ge,br))});return jr.push({text:"",value:0,x:0,y:0,opacity:0}),jr.push({text:"",value:0,x:ur.size[0],y:ur.size[1],opacity:0}),jr}return x(_e,ur)}function pt(X){var dt=X.width,H=X.height,lt=X.container,Ot=X.autoFit,Rt=X.padding,zt=X.appendPadding;if(Ot){var Bt=Object(p.h)(lt);dt=Bt.width,H=Bt.height}dt=dt||400,H=H||400;var tt=mt({padding:Rt,appendPadding:zt}),J=tt[0],G=tt[1],Et=tt[2],Tt=tt[3],ct=[dt-(Tt+G),H-(J+Et)];return ct}function mt(X){var dt=Object(A.a)(X.padding),H=Object(A.a)(X.appendPadding),lt=dt[0]+H[0],Ot=dt[1]+H[1],Rt=dt[2]+H[2],zt=dt[3]+H[3];return[lt,Ot,Rt,zt]}function ot(X){return new Promise(function(dt,H){if(X instanceof HTMLImageElement){dt(X);return}if(Object(S.O)(X)){var lt=new Image;lt.crossOrigin="anonymous",lt.src=X,lt.onload=function(){dt(lt)},lt.onerror=function(){Object(p.n)(p.a.ERROR,!1,"image %s load failed !!!",X),H()};return}Object(p.n)(p.a.WARN,X===void 0,"The type of imageMask option must be String or HTMLImageElement."),H()})}function xt(X,dt){if(Object(S.H)(X))return X;if(Object(S.B)(X)){var H=X[0],lt=X[1];if(!dt)return function(){return(lt+H)/2};var Ot=dt[0],Rt=dt[1];return Rt===Ot?function(){return(lt+H)/2}:function(Bt){var tt=Bt.value;return(lt-H)/(Rt-Ot)*(tt-Ot)+H}}return function(){return X}}function It(X,dt){return X.map(function(H){return H[dt]}).filter(function(H){return typeof H=="number"&&!isNaN(H)})}function Ht(X){var dt=Qt(X),H=dt.rotation,lt=dt.rotationSteps;if(!Object(S.B)(H))return H;var Ot=H[0],Rt=H[1],zt=lt===1?0:(Rt-Ot)/(lt-1);return function(){return Rt===Ot?Rt:Math.floor(Math.random()*lt)*zt}}function Qt(X){var dt=X.wordStyle.rotationSteps;return dt<1&&(Object(p.n)(p.a.WARN,!1,"The rotationSteps option must be greater than or equal to 1."),dt=1),{rotation:X.wordStyle.rotation,rotationSteps:dt}}function $t(X){return Math.min.apply(Math,X)}function yt(X){return Math.max.apply(Math,X)}function ut(X){var dt=X.chart,H=X.options,lt=H.colorField,Ot=H.color,Rt=at(X);dt.data(Rt);var zt=Object(p.b)({},X,{options:{xField:"x",yField:"y",seriesField:lt&&"color",point:{color:Ot,shape:"word-cloud"}}}),Bt=Object(E.e)(zt).ext;return Bt.geometry.label(!1),dt.coordinate().reflect("y"),dt.axis(!1),X}function ft(X){return Object(p.e)(Object(g.f)({x:{nice:!1},y:{nice:!1}}))(X)}function it(X){Object(p.e)(ut,ft,g.k,g.d,g.c,g.a,g.j,g.i)(X)}var vt=Object(p.b)({},i.b.getDefaultOptions(),{timeInterval:2e3,legend:!1,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!1,fields:["text","value","color"],formatter:function(dt){return{name:dt.text,value:dt.value}}},wordStyle:{fontFamily:"Verdana",fontWeight:"normal",padding:1,fontSize:[12,60],rotation:[0,90],rotationSteps:2,rotateRatio:.5}}),Wt=a("kXyF");Object(Wt.registerShape)("point","word-cloud",{draw:function(dt,H){var lt=dt.x,Ot=dt.y,Rt=H.addShape("text",{attrs:Object(f.a)(Object(f.a)({},Ct(dt)),{x:lt,y:Ot})}),zt=dt.data.rotate;return typeof zt=="number"&&Wt.Util.rotate(Rt,zt*Math.PI/180),Rt}});function Ct(X){return{fontSize:X.data.size,text:X.data.text,textAlign:"center",fontFamily:X.data.font,fontWeight:X.data.weight,fill:X.color||X.defaultStyle.stroke,textBaseline:"alphabetic"}}var Z=function(X){Object(f.c)(dt,X);function dt(){var H=X!==null&&X.apply(this,arguments)||this;return H.type="word-cloud",H}return dt.getDefaultOptions=function(){return vt},dt.prototype.changeData=function(H){this.updateOption({data:H}),this.options.imageMask?this.render():this.chart.changeData(at({chart:this.chart,options:this.options}))},dt.prototype.getDefaultOptions=function(){return dt.getDefaultOptions()},dt.prototype.render=function(){var H=this;return new Promise(function(lt){var Ot=H.options.imageMask;if(!Ot){X.prototype.render.call(H),lt();return}var Rt=function(Bt){H.options=Object(f.a)(Object(f.a)({},H.options),{imageMask:Bt||null}),X.prototype.render.call(H),lt()};ot(Ot).then(Rt).catch(Rt)})},dt.prototype.getSchemaAdaptor=function(){return it},dt.prototype.triggerResize=function(){var H=this;this.chart.destroyed||(this.execAdaptor(),window.setTimeout(function(){X.prototype.triggerResize.call(H)}))},dt}(i.b)},"Mn/Q":function(Ft,I,a){"use strict";a.d(I,"a",function(){return O});var f=a("lwsE"),i=a.n(f),g=a("W8MJ"),p=a.n(g),E=a("4cb6"),S=a.n(E),A,M,x,O=(A=Object(E.injectable)(),A(M=(x=function(){function C(){i()(this,C),this.config=void 0}return p()(C,[{key:"get",value:function(){return this.config}},{key:"set",value:function(R){this.config=R}}]),C}(),x))||M)},MpV0:function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=5,i={}.toString,g=function(O,C){return i.call(O)==="[object "+C+"]"},p=function(O){return g(O,"Array")},E=function(O){return typeof O=="object"&&O!==null},S=function(O){if(!E(O)||!g(O,"Object"))return!1;for(var C=O;Object.getPrototypeOf(C)!==null;)C=Object.getPrototypeOf(C);return Object.getPrototypeOf(O)===C},A=function x(O,C,D,R){D=D||0,R=R||f;for(var y in C)if(Object.prototype.hasOwnProperty.call(C,y)){var w=C[y];w?S(w)?(S(O[y])||(O[y]={}),D<R?x(O[y],w,D+1,R):O[y]=C[y]):p(w)?(O[y]=[],O[y]=O[y].concat(w)):O[y]=w:O[y]=w}},M=function(O){for(var C=[],D=1;D<arguments.length;D++)C[D-1]=arguments[D];for(var R=0;R<C.length;R+=1)A(O,C[R]);return O}},MrPd:function(Ft,I,a){var f=a("hypo"),i=a("ljhN"),g=Object.prototype,p=g.hasOwnProperty;function E(S,A,M){var x=S[A];(!(p.call(S,A)&&i(x,M))||M===void 0&&!(A in S))&&f(S,A,M)}Ft.exports=E},Mw2x:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("iTfj"),g=a("zK8m"),p=a("sstZ"),E={},S="_INDEX";function A(R,y){if(R.set("canvas",y),R.isGroup()){var w=R.get("children");w.length&&w.forEach(function(N){A(N,y)})}}function M(R,y){if(R.set("timeline",y),R.isGroup()){var w=R.get("children");w.length&&w.forEach(function(N){M(N,y)})}}function x(R,y){var w=R.getChildren();return w.indexOf(y)>=0}function O(R,y,w){w===void 0&&(w=!0),w?y.destroy():(y.set("parent",null),y.set("canvas",null)),Object(p.j)(R.getChildren(),y)}function C(R){return function(y,w){var N=R(y,w);return N===0?y[S]-w[S]:N}}var D=function(R){Object(f.c)(y,R);function y(){return R!==null&&R.apply(this,arguments)||this}return y.prototype.isCanvas=function(){return!1},y.prototype.getBBox=function(){var w=Infinity,N=-Infinity,z=Infinity,V=-Infinity,B=[],P=[],T=this.getChildren().filter(function(Q){return Q.get("visible")&&(!Q.isGroup()||Q.isGroup()&&Q.getChildren().length>0)});T.length>0?(Object(p.a)(T,function(Q){var nt=Q.getBBox();B.push(nt.minX,nt.maxX),P.push(nt.minY,nt.maxY)}),w=Object(i.Z)(B),N=Object(i.W)(B),z=Object(i.Z)(P),V=Object(i.W)(P)):(w=0,N=0,z=0,V=0);var W={x:w,y:z,minX:w,minY:z,maxX:N,maxY:V,width:N-w,height:V-z};return W},y.prototype.getCanvasBBox=function(){var w=Infinity,N=-Infinity,z=Infinity,V=-Infinity,B=[],P=[],T=this.getChildren().filter(function(Q){return Q.get("visible")&&(!Q.isGroup()||Q.isGroup()&&Q.getChildren().length>0)});T.length>0?(Object(p.a)(T,function(Q){var nt=Q.getCanvasBBox();B.push(nt.minX,nt.maxX),P.push(nt.minY,nt.maxY)}),w=Object(i.Z)(B),N=Object(i.W)(B),z=Object(i.Z)(P),V=Object(i.W)(P)):(w=0,N=0,z=0,V=0);var W={x:w,y:z,minX:w,minY:z,maxX:N,maxY:V,width:N-w,height:V-z};return W},y.prototype.getDefaultCfg=function(){var w=R.prototype.getDefaultCfg.call(this);return w.children=[],w},y.prototype.onAttrChange=function(w,N,z){if(R.prototype.onAttrChange.call(this,w,N,z),w==="matrix"){var V=this.getTotalMatrix();this._applyChildrenMarix(V)}},y.prototype.applyMatrix=function(w){var N=this.getTotalMatrix();R.prototype.applyMatrix.call(this,w);var z=this.getTotalMatrix();z!==N&&this._applyChildrenMarix(z)},y.prototype._applyChildrenMarix=function(w){var N=this.getChildren();Object(p.a)(N,function(z){z.applyMatrix(w)})},y.prototype.addShape=function(){for(var w=[],N=0;N<arguments.length;N++)w[N]=arguments[N];var z=w[0],V=w[1];Object(p.f)(z)?V=z:V.type=z;var B=E[V.type];B||(B=Object(p.k)(V.type),E[V.type]=B);var P=this.getShapeBase(),T=new P[B](V);return this.add(T),T},y.prototype.addGroup=function(){for(var w=[],N=0;N<arguments.length;N++)w[N]=arguments[N];var z=w[0],V=w[1],B;if(Object(p.d)(z))V?B=new z(V):B=new z({parent:this});else{var P=z||{},T=this.getGroupBase();B=new T(P)}return this.add(B),B},y.prototype.getCanvas=function(){var w;return this.isCanvas()?w=this:w=this.get("canvas"),w},y.prototype.getShape=function(w,N,z){if(!Object(p.b)(this))return null;var V=this.getChildren(),B;if(this.isCanvas())B=this._findShape(V,w,N,z);else{var P=[w,N,1];P=this.invertFromMatrix(P),this.isClipped(P[0],P[1])||(B=this._findShape(V,P[0],P[1],z))}return B},y.prototype._findShape=function(w,N,z,V){for(var B=null,P=w.length-1;P>=0;P--){var T=w[P];if(Object(p.b)(T)&&(T.isGroup()?B=T.getShape(N,z,V):T.isHit(N,z)&&(B=T)),B)break}return B},y.prototype.add=function(w){var N=this.getCanvas(),z=this.getChildren(),V=this.get("timeline"),B=w.getParent();B&&O(B,w,!1),w.set("parent",this),N&&A(w,N),V&&M(w,V),z.push(w),w.onCanvasChange("add"),this._applyElementMatrix(w)},y.prototype._applyElementMatrix=function(w){var N=this.getTotalMatrix();N&&w.applyMatrix(N)},y.prototype.getChildren=function(){return this.get("children")},y.prototype.sort=function(){var w=this.getChildren();Object(p.a)(w,function(N,z){return N[S]=z,N}),w.sort(C(function(N,z){return N.get("zIndex")-z.get("zIndex")})),this.onCanvasChange("sort")},y.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var w=this.getChildren(),N=w.length-1;N>=0;N--)w[N].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},y.prototype.destroy=function(){this.get("destroyed")||(this.clear(),R.prototype.destroy.call(this))},y.prototype.getFirst=function(){return this.getChildByIndex(0)},y.prototype.getLast=function(){var w=this.getChildren();return this.getChildByIndex(w.length-1)},y.prototype.getChildByIndex=function(w){var N=this.getChildren();return N[w]},y.prototype.getCount=function(){var w=this.getChildren();return w.length},y.prototype.contain=function(w){var N=this.getChildren();return N.indexOf(w)>-1},y.prototype.removeChild=function(w,N){N===void 0&&(N=!0),this.contain(w)&&w.remove(N)},y.prototype.findAll=function(w){var N=[],z=this.getChildren();return Object(p.a)(z,function(V){w(V)&&N.push(V),V.isGroup()&&(N=N.concat(V.findAll(w)))}),N},y.prototype.find=function(w){var N=null,z=this.getChildren();return Object(p.a)(z,function(V){if(w(V)?N=V:V.isGroup()&&(N=V.find(w)),N)return!1}),N},y.prototype.findById=function(w){return this.find(function(N){return N.get("id")===w})},y.prototype.findByClassName=function(w){return this.find(function(N){return N.get("className")===w})},y.prototype.findAllByName=function(w){return this.findAll(function(N){return N.get("name")===w})},y}(g.a);I.a=D},My4P:function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i[0]*g,f[1]=i[1]*g,f}},N2HP:function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0]*g[1]-i[1]*g[0];return f[0]=f[1]=0,f[2]=p,f}},N9hJ:function(Ft,I){},NEPx:function(Ft,I){Ft.exports=1e-6},NirO:function(Ft,I){},NmWf:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("qU1D"),g=a("iTfj"),p={none:[],point:["x","y"],region:["start","end"],points:["points"],circle:["center","radius","startAngle","endAngle"]},E=function(S){Object(f.c)(A,S);function A(M){var x=S.call(this,M)||this;return x.initCfg(),x}return A.prototype.getDefaultCfg=function(){return{id:"",name:"",type:"",locationType:"none",offsetX:0,offsetY:0,animate:!1,capture:!0,updateAutoRender:!1,animateOption:{appear:null,update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},events:null,defaultCfg:{},visible:!0}},A.prototype.clear=function(){},A.prototype.update=function(M){var x=this,O=this.get("defaultCfg");Object(g.j)(M,function(C,D){var R=x.get(D),y=C;R!==C&&(Object(g.M)(C)&&O[D]&&(y=Object(g.h)({},O[D],C)),x.set(D,y))}),this.updateInner(M),this.afterUpdate(M)},A.prototype.updateInner=function(M){},A.prototype.afterUpdate=function(M){Object(g.x)(M,"visible")&&(M.visible?this.show():this.hide()),Object(g.x)(M,"capture")&&this.setCapture(M.capture)},A.prototype.getLayoutBBox=function(){return this.getBBox()},A.prototype.getLocationType=function(){return this.get("locationType")},A.prototype.getOffset=function(){return{offsetX:this.get("offsetX"),offsetY:this.get("offsetY")}},A.prototype.setOffset=function(M,x){this.update({offsetX:M,offsetY:x})},A.prototype.setLocation=function(M){var x=Object(f.a)({},M);this.update(x)},A.prototype.getLocation=function(){var M=this,x={},O=this.get("locationType"),C=p[O];return Object(g.j)(C,function(D){x[D]=M.get(D)}),x},A.prototype.isList=function(){return!1},A.prototype.isSlider=function(){return!1},A.prototype.init=function(){},A.prototype.initCfg=function(){var M=this,x=this.get("defaultCfg");Object(g.j)(x,function(O,C){var D=M.get(C);if(Object(g.M)(D)){var R=Object(g.h)({},O,D);M.set(C,R)}})},A}(i.Base);I.a=E},NohK:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var f=function(g){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:60,E=null;return function(){for(var S=this,A=arguments.length,M=new Array(A),x=0;x<A;x++)M[x]=arguments[x];clearTimeout(E),E=setTimeout(function(){g.apply(S,M)},p)}};I.default=f},Nsem:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=a("QyJ8"),i=a("tS8v");function g(p,E){return E&&(Object(f.a)(E)==="object"||typeof E=="function")?E:Object(i.a)(p)}},NzZ7:function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("yUfG"),i=a("tvR+"),g=a("a8tM"),p=a("iTfj"),E=a("I7nc"),S={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,ignoreParentValue:!0,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"],sort:function(O,C){return C.value-O.value},ratio:.5*(1+Math.sqrt(5))};function A(x,O){return x==="treemapSquarify"?f[x].ratio(O):f[x]}function M(x,O){O=Object(p.b)({},S,O);var C=O.as;if(!Object(p.B)(C)||C.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var D;try{D=Object(E.b)(O)}catch(V){console.warn(V)}var R=A(O.tile,O.ratio),y=function(B){return i.a().tile(R).size(O.size).round(O.round).padding(O.padding).paddingInner(O.paddingInner).paddingOuter(O.paddingOuter).paddingTop(O.paddingTop).paddingRight(O.paddingRight).paddingBottom(O.paddingBottom).paddingLeft(O.paddingLeft)(g.c(B).sum(function(P){return O.ignoreParentValue&&P.children?0:P[D]}).sort(O.sort))},w=y(x),N=C[0],z=C[1];return w.each(function(V){V[N]=[V.x0,V.x1,V.x1,V.x0],V[z]=[V.y1,V.y1,V.y0,V.y0],["x0","x1","y0","y1"].forEach(function(B){C.indexOf(B)===-1&&delete V[B]})}),Object(E.a)(w)}},O0oS:function(Ft,I,a){var f=a("Cwc5"),i=function(){try{var g=f(Object,"defineProperty");return g({},"",{}),g}catch(p){}}();Ft.exports=i},O5pF:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i){return i&&i.slice().reverse()}},O7RO:function(Ft,I,a){var f=a("CMye"),i=a("7GkX");function g(p){for(var E=i(p),S=E.length;S--;){var A=E[S],M=p[A];E[S]=[A,M,f(M)]}return E}Ft.exports=g},OBhP:function(Ft,I,a){var f=a("fmRc"),i=a("gFfm"),g=a("MrPd"),p=a("WwFo"),E=a("Dw+G"),S=a("5Tg0"),A=a("Q1l4"),M=a("VOtZ"),x=a("EEGq"),O=a("qZTm"),C=a("G6z8"),D=a("QqLw"),R=a("yHx3"),y=a("wrZu"),w=a("+iFO"),N=a("Z0cm"),z=a("DSRE"),V=a("zEVN"),B=a("GoyQ"),P=a("1+5i"),T=a("7GkX"),W=a("mTTR"),Q=1,nt=2,st=4,et="[object Arguments]",_="[object Array]",Y="[object Boolean]",$="[object Date]",q="[object Error]",at="[object Function]",pt="[object GeneratorFunction]",mt="[object Map]",ot="[object Number]",xt="[object Object]",It="[object RegExp]",Ht="[object Set]",Qt="[object String]",$t="[object Symbol]",yt="[object WeakMap]",ut="[object ArrayBuffer]",ft="[object DataView]",it="[object Float32Array]",vt="[object Float64Array]",Wt="[object Int8Array]",Ct="[object Int16Array]",Z="[object Int32Array]",X="[object Uint8Array]",dt="[object Uint8ClampedArray]",H="[object Uint16Array]",lt="[object Uint32Array]",Ot={};Ot[et]=Ot[_]=Ot[ut]=Ot[ft]=Ot[Y]=Ot[$]=Ot[it]=Ot[vt]=Ot[Wt]=Ot[Ct]=Ot[Z]=Ot[mt]=Ot[ot]=Ot[xt]=Ot[It]=Ot[Ht]=Ot[Qt]=Ot[$t]=Ot[X]=Ot[dt]=Ot[H]=Ot[lt]=!0,Ot[q]=Ot[at]=Ot[yt]=!1;function Rt(zt,Bt,tt,J,G,Et){var Tt,ct=Bt&Q,St=Bt&nt,Vt=Bt&st;if(tt&&(Tt=G?tt(zt,J,G,Et):tt(zt)),Tt!==void 0)return Tt;if(!B(zt))return zt;var Lt=N(zt);if(Lt){if(Tt=R(zt),!ct)return A(zt,Tt)}else{var Nt=D(zt),Zt=Nt==at||Nt==pt;if(z(zt))return S(zt,ct);if(Nt==xt||Nt==et||Zt&&!G){if(Tt=St||Zt?{}:w(zt),!ct)return St?x(zt,E(Tt,zt)):M(zt,p(Tt,zt))}else{if(!Ot[Nt])return G?zt:{};Tt=y(zt,Nt,ct)}}Et||(Et=new f);var oe=Et.get(zt);if(oe)return oe;Et.set(zt,Tt),P(zt)?zt.forEach(function(Te){Tt.add(Rt(Te,Bt,tt,Te,zt,Et))}):V(zt)&&zt.forEach(function(Te,Se){Tt.set(Se,Rt(Te,Bt,tt,Se,zt,Et))});var ue=Vt?St?C:O:St?W:T,Ee=Lt?void 0:ue(zt);return i(Ee||zt,function(Te,Se){Ee&&(Se=Te,Te=zt[Se]),g(Tt,Se,Rt(Te,Bt,tt,Se,zt,Et))}),Tt}Ft.exports=Rt},OFL0:function(Ft,I,a){var f=a("lvO4"),i=a("4sDh");function g(p,E){return p!=null&&i(p,E,f)}Ft.exports=g},"OOL/":function(Ft,I,a){var f=a("b5wT"),i=a("HzoJ"),g=a("2fNS"),p=a("81LO");Ft.exports=E;function E(M,x,O,C){var D=M.children(x),R=M.node(x),y=R?R.borderLeft:void 0,w=R?R.borderRight:void 0,N={};y&&(D=f.filter(D,function(W){return W!==y&&W!==w}));var z=i(M,D);f.forEach(z,function(W){if(M.children(W.v).length){var Q=E(M,W.v,O,C);N[W.v]=Q,f.has(Q,"barycenter")&&A(W,Q)}});var V=g(z,O);S(V,N);var B=p(V,C);if(y&&(B.vs=f.flatten([y,B.vs,w],!0),M.predecessors(y).length)){var P=M.node(M.predecessors(y)[0]),T=M.node(M.predecessors(w)[0]);f.has(B,"barycenter")||(B.barycenter=0,B.weight=0),B.barycenter=(B.barycenter*B.weight+P.order+T.order)/(B.weight+2),B.weight+=2}return B}function S(M,x){f.forEach(M,function(O){O.vs=f.flatten(O.vs.map(function(C){return x[C]?x[C].vs:C}),!0)})}function A(M,x){f.isUndefined(M.barycenter)?(M.barycenter=x.barycenter,M.weight=x.weight):(M.barycenter=(M.barycenter*M.weight+x.barycenter*x.weight)/(M.weight+x.weight),M.weight+=x.weight)}},Oboc:function(Ft,I){},OqSR:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Bt});var f=a("mNvP"),i=a("4cb6"),g=a("APxj"),p=a.n(g),E=a("oDt1"),S=a("yG8O"),A=a.n(S),M=a("lwsE"),x=a.n(M),O=a("W8MJ"),C=a.n(O),D=a("U+yc"),R=a.n(D),y=a("1ABj"),w=a("+uE7"),N=a("k6w6"),z,V,B,P,T,W,Q=(z=Object(i.injectable)(),V=Object(i.inject)(w.a.RenderEngine),z(B=(P=(W=function(){function tt(){x()(this,tt),A()(this,"engine",T,this),this.resourcePool={}}return C()(tt,[{key:"getOrCreateResource",value:function(G){if(!this.resourcePool[G.name]){var Et=G.descriptor,Tt=Et.width,ct=Et.height,St=Et.usage;this.resourcePool[G.name]=this.engine.createFramebuffer({color:this.engine.createTexture2D({width:Tt,height:ct,wrapS:N.a.CLAMP_TO_EDGE,wrapT:N.a.CLAMP_TO_EDGE,usage:St})})}return this.resourcePool[G.name]}},{key:"clean",value:function(){this.resourcePool={}}}]),tt}(),W),T=R()(P.prototype,"engine",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P))||B),nt=a("z5Mu"),st=a("0arJ"),et=a("4dNS"),_=a("ph3A"),Y=a("RlxE"),$=a("baXp"),q=a("6B+r"),at=a("kfnj"),pt=a("g1CP"),mt=a("FlHB"),ot=a("94HZ"),xt=a("tyuB"),It=a("IQ25"),Ht=a("7W2i"),Qt=a.n(Ht),$t=a("a1gu"),yt=a.n($t),ut=a("Nsbk"),ft=a.n(ut);function it(tt){var J=vt();return function(){var Et=ft()(tt),Tt;if(J){var ct=ft()(this).constructor;Tt=Reflect.construct(Et,arguments,ct)}else Tt=Et.apply(this,arguments);return yt()(this,Tt)}}function vt(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(tt){return!1}}var Wt=function(tt){Qt()(G,tt);var J=it(G);function G(Et){var Tt;return x()(this,G),Tt=J.call(this,Et),Tt.name=void 0,Tt.name=Et.name||"",Tt}return G}(E.a),Ct=a("BFph"),Z=a("Gc+X"),X=a("Mn/Q"),dt=a("LGRX"),H=a("yZ5d"),lt=new i.Container,Ot=p()(lt,!1),Rt=function(J){var G=Ot.lazyInject(J);return function(Et,Tt,ct){G.call(this,Et,Tt),ct&&(ct.initializer=function(){return Et[Tt]})}},zt=function(J){var G=Ot.lazyMultiInject(J);return function(Et,Tt,ct){G.call(this,Et,Tt),ct&&(ct.initializer=function(){return Et[Tt]})}};lt.bind(w.a.ShaderModuleService).to(H.a).inSingletonScope(),lt.bind(w.a.NameComponentManager).toConstantValue(new E.b(Wt)),lt.bind(w.a.HierarchyComponentManager).toConstantValue(new E.b(It.a)),lt.bind(w.a.TransformComponentManager).toConstantValue(new E.b(Z.a)),lt.bind(w.a.MeshComponentManager).toConstantValue(new E.b(q.a)),lt.bind(w.a.CullableComponentManager).toConstantValue(new E.b($.a)),lt.bind(w.a.GeometryComponentManager).toConstantValue(new E.b(st.a)),lt.bind(w.a.MaterialComponentManager).toConstantValue(new E.b(_.a));function Bt(){var tt=new i.Container;return tt.parent=lt,tt.bind(w.a.Systems).to(Ct.a).inSingletonScope().whenTargetNamed(w.a.SceneGraphSystem),tt.bind(w.a.Systems).to(nt.a).inSingletonScope().whenTargetNamed(w.a.FrameGraphSystem),tt.bind(w.a.Systems).to(at.a).inSingletonScope().whenTargetNamed(w.a.MeshSystem),tt.bind(w.a.Systems).to(et.a).inSingletonScope().whenTargetNamed(w.a.GeometrySystem),tt.bind(w.a.Systems).to(Y.a).inSingletonScope().whenTargetNamed(w.a.MaterialSystem),tt.bind(w.a.Systems).to(xt.a).inSingletonScope().whenTargetNamed(w.a.RendererSystem),tt.bind(w.a.ResourcePool).to(Q).inSingletonScope(),tt.bind(w.a.ConfigService).to(X.a).inSingletonScope(),tt.bind(w.a.InteractorService).to(dt.a).inSingletonScope(),tt.bind(w.a.RenderPass).to(ot.a).inSingletonScope().whenTargetNamed(ot.a.IDENTIFIER),tt.bind(w.a.RenderPass).to(pt.a).inSingletonScope().whenTargetNamed(pt.a.IDENTIFIER),tt.bind(w.a.RenderPass).to(mt.a).inSingletonScope().whenTargetNamed(mt.a.IDENTIFIER),tt.bind(w.a.RenderPassFactory).toFactory(function(J){return function(G){return J.container.getNamed(w.a.RenderPass,G)}}),tt}},"P/G1":function(Ft,I,a){var f=a("JmpY"),i=a("7GkX");function g(p){return p==null?[]:f(p,i(p))}Ft.exports=g},P4Qj:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.removeSensor=I.getSensor=void 0;var f=p(a("chpo")),i=a("FxDU"),g=a("24YM");function p(M){return M&&M.__esModule?M:{default:M}}var E={},S=function(x){var O=x.getAttribute(g.SizeSensorId);if(O&&E[O])return E[O];var C=(0,f.default)();x.setAttribute(g.SizeSensorId,C);var D=(0,i.createSensor)(x);return E[C]=D,D};I.getSensor=S;var A=function(x){var O=x.element.getAttribute(g.SizeSensorId);x.element.removeAttribute(g.SizeSensorId),x.destroy(),O&&E[O]&&delete E[O]};I.removeSensor=A},PL7N:function(Ft,I,a){"use strict";var f=new Map;function i(P,T){f.set(P,T)}function g(P){return f.get(P)}var p=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.width,st=T.height;return{x:W,y:Q,width:nt,height:st}},E=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.r;return{x:W-nt,y:Q-nt,width:nt*2,height:nt*2}},S=a("EYNi");function A(P,T){return!P||!T?P||T:{minX:Math.min(P.minX,T.minX),minY:Math.min(P.minY,T.minY),maxX:Math.max(P.maxX,T.maxX),maxY:Math.max(P.maxY,T.maxY)}}function M(P,T){var W=P.get("startArrowShape"),Q=P.get("endArrowShape"),nt=null,st=null;return W&&(nt=W.getCanvasBBox(),T=A(T,nt)),Q&&(st=Q.getCanvasBBox(),T=A(T,st)),T}var x=function(P){for(var T=P.attr(),W=T.points,Q=[],nt=[],st=0;st<W.length;st++){var et=W[st];Q.push(et[0]),nt.push(et[1])}var _=S.f.getBBoxByArray(Q,nt),Y=_.x,$=_.y,q=_.width,at=_.height,pt={minX:Y,minY:$,maxX:Y+q,maxY:$+at};return pt=M(P,pt),{x:pt.minX,y:pt.minY,width:pt.maxX-pt.minX,height:pt.maxY-pt.minY}},O=function(P){for(var T=P.attr(),W=T.points,Q=[],nt=[],st=0;st<W.length;st++){var et=W[st];Q.push(et[0]),nt.push(et[1])}return S.f.getBBoxByArray(Q,nt)},C=a("5jV7"),D=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.text,st=T.fontSize,et=T.lineHeight,_=T.font;_||(_=Object(C.a)(T));var Y=Object(C.c)(nt,_),$;if(!Y)$={x:W,y:Q,width:0,height:0};else{var q=T.textAlign,at=T.textBaseline,pt=Object(C.b)(nt,st,et),mt={x:W,y:Q-pt};q&&(q==="end"||q==="right"?mt.x-=Y:q==="center"&&(mt.x-=Y/2)),at&&(at==="top"?mt.y+=pt:at==="middle"&&(mt.y+=pt/2)),$={x:mt.x,y:mt.y,width:Y,height:pt}}return $},R=a("LvGN"),y=a("iTfj");function w(P,T){for(var W=[],Q=[],nt=[],st=0;st<P.length;st++){var et=P[st],_=et.currentPoint,Y=et.params,$=et.prePoint,q=void 0;switch(et.command){case"Q":q=S.e.box($[0],$[1],Y[1],Y[2],Y[3],Y[4]);break;case"C":q=S.b.box($[0],$[1],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6]);break;case"A":var at=et.arcParams;q=S.a.box(at.cx,at.cy,at.rx,at.ry,at.xRotation,at.startAngle,at.endAngle);break;default:W.push(_[0]),Q.push(_[1]);break}q&&(et.box=q,W.push(q.x,q.x+q.width),Q.push(q.y,q.y+q.height)),T&&(et.command==="L"||et.command==="M")&&et.prePoint&&et.nextPoint&&nt.push(et)}W=W.filter(function(Ht){return!Number.isNaN(Ht)}),Q=Q.filter(function(Ht){return!Number.isNaN(Ht)});var pt=Object(y.Z)(W),mt=Object(y.Z)(Q),ot=Object(y.W)(W),xt=Object(y.W)(Q);if(nt.length===0)return{x:pt,y:mt,width:ot-pt,height:xt-mt};for(var st=0;st<nt.length;st++){var et=nt[st],_=et.currentPoint,It=void 0;_[0]===pt?(It=N(et,T),pt=pt-It.xExtra):_[0]===ot&&(It=N(et,T),ot=ot+It.xExtra),_[1]===mt?(It=N(et,T),mt=mt-It.yExtra):_[1]===xt&&(It=N(et,T),xt=xt+It.yExtra)}return{x:pt,y:mt,width:ot-pt,height:xt-mt}}function N(P,T){var W=P.prePoint,Q=P.currentPoint,nt=P.nextPoint,st=Math.pow(Q[0]-W[0],2)+Math.pow(Q[1]-W[1],2),et=Math.pow(Q[0]-nt[0],2)+Math.pow(Q[1]-nt[1],2),_=Math.pow(W[0]-nt[0],2)+Math.pow(W[1]-nt[1],2),Y=Math.acos((st+et-_)/(2*Math.sqrt(st)*Math.sqrt(et)));if(!Y||Math.sin(Y)===0||Object(y.L)(Y,0))return{xExtra:0,yExtra:0};var $=Math.abs(Math.atan2(nt[1]-Q[1],nt[0]-Q[0])),q=Math.abs(Math.atan2(nt[0]-Q[0],nt[1]-Q[1]));$=$>Math.PI/2?Math.PI-$:$,q=q>Math.PI/2?Math.PI-q:q;var at={xExtra:Math.cos(Y/2-$)*(T/2*(1/Math.sin(Y/2)))-T/2||0,yExtra:Math.cos(q-Y/2)*(T/2*(1/Math.sin(Y/2)))-T/2||0};return at}var z=function(P){var T=P.attr(),W=T.path,Q=T.stroke,nt=Q?T.lineWidth:0,st=P.get("segments")||Object(R.e)(W),et=w(st,nt),_=et.x,Y=et.y,$=et.width,q=et.height,at={minX:_,minY:Y,maxX:_+$,maxY:Y+q};return at=M(P,at),{x:at.minX,y:at.minY,width:at.maxX-at.minX,height:at.maxY-at.minY}},V=function(P){var T=P.attr(),W=T.x1,Q=T.y1,nt=T.x2,st=T.y2,et=Math.min(W,nt),_=Math.max(W,nt),Y=Math.min(Q,st),$=Math.max(Q,st),q={minX:et,maxX:_,minY:Y,maxY:$};return q=M(P,q),{x:q.minX,y:q.minY,width:q.maxX-q.minX,height:q.maxY-q.minY}},B=function(P){var T=P.attr(),W=T.x,Q=T.y,nt=T.rx,st=T.ry;return{x:W-nt,y:Q-st,width:nt*2,height:st*2}};i("rect",p),i("image",p),i("circle",E),i("marker",E),i("polyline",x),i("polygon",O),i("text",D),i("path",z),i("line",V),i("ellipse",B)},PLvT:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=a("zJSt"),i=a("YuPD"),g=Object(i.b)({},f.b.getDefaultOptions(),{legend:{position:"right"},tooltip:{shared:!1,showTitle:!1,showMarkers:!1},label:{layout:{type:"limit-in-plot",cfg:{action:"ellipsis"}}},pieStyle:{stroke:"white",lineWidth:1},statistic:{title:{style:{fontWeight:300,color:"#4B535E",textAlign:"center",fontSize:"20px",lineHeight:1}},content:{style:{fontWeight:"bold",color:"rgba(44,53,66,0.85)",textAlign:"center",fontSize:"32px",lineHeight:1}}},theme:{components:{annotation:{text:{animate:!1}}}}})},PMMO:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=i[0],f[1]=i[1],f}},"Pv/L":function(Ft,I,a){"use strict";a.d(I,"a",function(){return E});var f=a("+kx5"),i=a("Y9hK"),g=a("Qw5x"),p=a("u6e6");function E(S){return Object(f.a)(S)||Object(i.a)(S)||Object(g.a)(S)||Object(p.a)()}},"Q+g8":function(Ft,I,a){var f=a("gYXE");Ft.exports=i;function i(g){try{f(g)}catch(p){if(p instanceof f.CycleException)return!1;throw p}return!0}},Q1l4:function(Ft,I){function a(f,i){var g=-1,p=f.length;for(i||(i=Array(p));++g<p;)i[g]=f[g];return i}Ft.exports=a},QG4C:function(Ft,I,a){"use strict";a.d(I,"a",function(){return yt});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("WOQw"),E=a("w02o"),S=a("n/J0"),A=a("YuPD"),M=a("hJqF"),x=a("TZmy"),O=a("DMQx"),C=a("X/+Q"),D=a("HXND"),R=a("U49A"),y=a("sshJ"),w=a("mgjb"),N=a("hYLx"),z=a("mI1Z"),V=a("u9/z"),B=a("XloR"),P=a("Cr25"),T=a("Y+LX"),W=a("u9VJ"),Q=a("uw/B"),nt=a("XpFM"),st=a("mttH"),et=a("05BJ"),_=a("027J"),Y=a("YP77"),$=a("kwiP"),q={line:M.a,pie:x.a,column:O.a,bar:C.a,area:D.a,gauge:R.a,"tiny-line":y.a,"tiny-column":w.a,"tiny-area":N.a,"ring-progress":z.a,progress:V.a},at={line:B.a,pie:P.a,column:W.a,bar:T.a,area:Q.a,gauge:nt.a,"tiny-line":st.a,"tiny-column":_.a,"tiny-area":et.a,"ring-progress":Y.a,progress:$.a};function pt(ut,ft,it){var vt=at[ut];if(!vt){console.error("could not find "+ut+" plot");return}var Wt=q[ut];Wt({chart:ft,options:Object(A.b)({},vt.getDefaultOptions(),it)})}function mt(ut){var ft=ut.chart,it=ut.options,vt=it.views,Wt=it.legend;return Object(g.j)(vt,function(Ct){var Z=Ct.region,X=Ct.data,dt=Ct.meta,H=Ct.axes,lt=Ct.coordinate,Ot=Ct.interactions,Rt=Ct.annotations,zt=Ct.tooltip,Bt=Ct.geometries,tt=ft.createView({region:Z});tt.data(X);var J={};H&&Object(g.j)(H,function(G,Et){J[Et]=Object(A.p)(G,S.a)}),J=Object(A.b)({},dt,J),tt.scale(J),H?Object(g.j)(H,function(G,Et){tt.axis(Et,G)}):tt.axis(!1),tt.coordinate(lt),Object(g.j)(Bt,function(G){var Et=Object(p.a)({chart:tt,options:G}).ext,Tt=G.adjust;Tt&&Et.geometry.adjust(Tt)}),Object(g.j)(Ot,function(G){G.enable===!1?tt.removeInteraction(G.type):tt.interaction(G.type,G.cfg)}),Object(g.j)(Rt,function(G){tt.annotation()[G.type](Object(f.a)({},G))}),typeof Ct.animation=="boolean"?tt.animate(!1):(tt.animate(!0),Object(g.j)(tt.geometries,function(G){G.animate(Ct.animation)})),zt&&(tt.interaction("tooltip"),tt.tooltip(zt))}),Wt?Object(g.j)(Wt,function(Ct,Z){ft.legend(Z,Ct)}):ft.legend(!1),ft.tooltip(it.tooltip),ut}function ot(ut){var ft=ut.chart,it=ut.options,vt=it.plots;return Object(g.j)(vt,function(Wt){var Ct=Wt.type,Z=Wt.region,X=Wt.options,dt=X===void 0?{}:X,H=dt.tooltip,lt=ft.createView(Object(f.a)({region:Z},Object(A.p)(dt,i.a)));H&&lt.interaction("tooltip"),pt(Ct,lt,dt)}),ut}function xt(ut){return Object(A.e)(E.a,mt,ot,E.c,E.a,E.j,E.k)(ut)}var It=a("kXyF");function Ht(ut,ft){var it=ut.getModel(),vt=it.data,Wt;return Object(g.B)(vt)?Wt=vt[0][ft]:Wt=vt[ft],Wt}function Qt(ut){var ft=Object(A.f)(ut);Object(g.j)(ft,function(it){it.hasState("active")&&it.setState("active",!1),it.hasState("selected")&&it.setState("selected",!1),it.hasState("inactive")&&it.setState("inactive",!1)})}var $t=function(ut){Object(f.c)(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.prototype.getAssociationItems=function(it,vt){var Wt,Ct=this.context.event,Z=vt||{},X=Z.linkField,dt=Z.dim,H=[];if((Wt=Ct.data)===null||Wt===void 0?void 0:Wt.data){var lt=Ct.data.data;Object(g.j)(it,function(Ot){var Rt,zt,Bt=X;if(dt==="x"?Bt=Ot.getXScale().field:dt==="y"?Bt=(Rt=Ot.getYScales().find(function(J){return J.field===Bt}))===null||Rt===void 0?void 0:Rt.field:Bt||(Bt=(zt=Ot.getGroupScales()[0])===null||zt===void 0?void 0:zt.field),!!Bt){var tt=Object(g.U)(Object(A.f)(Ot),function(J){var G=!1,Et=!1,Tt=Object(g.B)(lt)?Object(g.s)(lt[0],Bt):Object(g.s)(lt,Bt);return Ht(J,Bt)===Tt?G=!0:Et=!0,{element:J,view:Ot,active:G,inactive:Et}});H.push.apply(H,tt)}})}return H},ft.prototype.showTooltip=function(it){var vt=Object(A.i)(this.context.view),Wt=this.getAssociationItems(vt,it);Object(g.j)(Wt,function(Ct){if(Ct.active){var Z=Ct.element.shape.getCanvasBBox();Ct.view.showTooltip({x:Z.minX+Z.width/2,y:Z.minY+Z.height/2})}})},ft.prototype.hideTooltip=function(){var it=Object(A.i)(this.context.view);Object(g.j)(it,function(vt){vt.hideTooltip()})},ft.prototype.active=function(it){var vt=Object(A.k)(this.context.view),Wt=this.getAssociationItems(vt,it);Object(g.j)(Wt,function(Ct){var Z=Ct.active,X=Ct.element;Z&&X.setState("active",!0)})},ft.prototype.selected=function(it){var vt=Object(A.k)(this.context.view),Wt=this.getAssociationItems(vt,it);Object(g.j)(Wt,function(Ct){var Z=Ct.active,X=Ct.element;Z&&X.setState("selected",!0)})},ft.prototype.highlight=function(it){var vt=Object(A.k)(this.context.view),Wt=this.getAssociationItems(vt,it);Object(g.j)(Wt,function(Ct){var Z=Ct.inactive,X=Ct.element;Z&&X.setState("inactive",!0)})},ft.prototype.reset=function(){var it=Object(A.k)(this.context.view);Object(g.j)(it,function(vt){Qt(vt)})},ft}(It.Action);Object(It.registerAction)("association",$t),Object(It.registerInteraction)("association-active",{start:[{trigger:"element:mouseenter",action:"association:active"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-selected",{start:[{trigger:"element:mouseenter",action:"association:selected"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-highlight",{start:[{trigger:"element:mouseenter",action:"association:highlight"}],end:[{trigger:"element:mouseleave",action:"association:reset"}]}),Object(It.registerInteraction)("association-tooltip",{start:[{trigger:"element:mousemove",action:"association:showTooltip"}],end:[{trigger:"element:mouseleave",action:"association:hideTooltip"}]});var yt=function(ut){Object(f.c)(ft,ut);function ft(){var it=ut!==null&&ut.apply(this,arguments)||this;return it.type="multi-view",it}return ft.prototype.getSchemaAdaptor=function(){return xt},ft}(i.b)},"QO+J":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createSensor=void 0;var f=g(a("NohK")),i=a("24YM");function g(E){return E&&E.__esModule?E:{default:E}}var p=function(S){var A=void 0,M=[],x=function(){getComputedStyle(S).position==="static"&&(S.style.position="relative");var w=document.createElement("object");return w.onload=function(){w.contentDocument.defaultView.addEventListener("resize",O),O()},w.style.display="block",w.style.position="absolute",w.style.top="0",w.style.left="0",w.style.height="100%",w.style.width="100%",w.style.overflow="hidden",w.style.pointerEvents="none",w.style.zIndex="-1",w.style.opacity="0",w.setAttribute("class",i.SensorClassName),w.setAttribute("tabindex",i.SensorTabIndex),w.type="text/html",S.appendChild(w),w.data="about:blank",w},O=(0,f.default)(function(){M.forEach(function(y){y(S)})}),C=function(w){A||(A=x()),M.indexOf(w)===-1&&M.push(w)},D=function(){A&&A.parentNode&&(A.contentDocument&&A.contentDocument.defaultView.removeEventListener("resize",O),A.parentNode.removeChild(A),A=void 0,M=[])},R=function(w){var N=M.indexOf(w);N!==-1&&M.splice(N,1),M.length===0&&A&&D()};return{element:S,bind:C,destroy:D,unbind:R}};I.createSensor=p},QOyy:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=1/i[0],f[1]=1/i[1],f}},QcOe:function(Ft,I,a){var f=a("GoyQ"),i=a("6sVZ"),g=a("7Ix3"),p=Object.prototype,E=p.hasOwnProperty;function S(A){if(!f(A))return g(A);var M=i(A),x=[];for(var O in A)O=="constructor"&&(M||!E.call(A,O))||x.push(O);return x}Ft.exports=S},Qci9:function(Ft,I,a){"use strict";var f=a("iTfj"),i=a("0Xep"),g=function(){function p(E){var S=E.xField,A=E.yField,M=E.adjustNames,x=M===void 0?["x","y"]:M;this.adjustNames=x,this.xField=S,this.yField=A}return p.prototype.isAdjust=function(E){return this.adjustNames.indexOf(E)>=0},p.prototype.getAdjustRange=function(E,S,A){var M=this.yField,x=A.indexOf(S),O=A.length,C,D;return!M&&this.isAdjust("y")?(C=0,D=1):O>1?(C=A[x===0?0:x-1],D=A[x===O-1?O-1:x+1],x!==0?C+=(S-C)/2:C-=(D-S)/2,x!==O-1?D-=(D-S)/2:D+=(S-A[O-2])/2):(C=S===0?0:S-.5,D=S===0?1:S+.5),{pre:C,next:D}},p.prototype.adjustData=function(E,S){var A=this,M=this.getDimValues(S);f.j(E,function(x,O){f.j(M,function(C,D){A.adjustDim(D,C,x,O)})})},p.prototype.groupData=function(E,S){return f.j(E,function(A){A[S]===void 0&&(A[S]=i.a)}),f.v(E,S)},p.prototype.adjustDim=function(E,S,A,M){},p.prototype.getDimValues=function(E){var S=this,A=S.xField,M=S.yField,x={},O=[];if(A&&this.isAdjust("x")&&O.push(A),M&&this.isAdjust("y")&&O.push(M),O.forEach(function(D){x[D]=f.vb(E,D).sort(function(R,y){return R-y})}),!M&&this.isAdjust("y")){var C="y";x[C]=[i.a,1]}return x},p}();I.a=g},QkVN:function(Ft,I,a){var f=a("+Qka"),i=a("LsHQ"),g=i(function(p,E,S){f(p,E,S)});Ft.exports=g},QyJ8:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?f=function(p){return typeof p}:f=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},f(i)}},"R/W3":function(Ft,I,a){var f=a("KwMD"),i=a("2ajD"),g=a("CZoQ");function p(E,S,A){return S===S?g(E,S,A):f(E,i,A)}Ft.exports=p},R5Y4:function(Ft,I){var a=Math.ceil,f=Math.max;function i(g,p,E,S){for(var A=-1,M=f(a((p-g)/(E||1)),0),x=Array(M);M--;)x[S?M:++A]=g,g+=E;return x}Ft.exports=i},R5nb:function(Ft,I,a){"use strict";a.r(I),a.d(I,"Base",function(){return M}),a.d(I,"Circle",function(){return O}),a.d(I,"Ellipse",function(){return R}),a.d(I,"Image",function(){return N}),a.d(I,"Line",function(){return T}),a.d(I,"Marker",function(){return et}),a.d(I,"Path",function(){return ft}),a.d(I,"Polygon",function(){return Wt}),a.d(I,"Polyline",function(){return Z}),a.d(I,"Rect",function(){return Ot}),a.d(I,"Text",function(){return zt});var f={};a.r(f),a.d(f,"Base",function(){return M}),a.d(f,"Circle",function(){return O}),a.d(f,"Ellipse",function(){return R}),a.d(f,"Image",function(){return N}),a.d(f,"Line",function(){return T}),a.d(f,"Marker",function(){return et}),a.d(f,"Path",function(){return ft}),a.d(f,"Polygon",function(){return Wt}),a.d(f,"Polyline",function(){return Z}),a.d(f,"Rect",function(){return Ot}),a.d(f,"Text",function(){return zt});var i=a("mrSG"),g=a("aFU3"),p=a("cyZq"),E=a("9eUa"),S=a("wq2r"),A=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},tt.prototype.getShapeBase=function(){return f},tt.prototype.getGroupBase=function(){return S.a},tt.prototype.onCanvasChange=function(J){Object(E.h)(this,J)},tt.prototype.calculateBBox=function(){var J=this.get("type"),G=this.getHitLineWidth(),Et=Object(g.getBBoxMethod)(J),Tt=Et(this),ct=G/2,St=Tt.x-ct,Vt=Tt.y-ct,Lt=Tt.x+Tt.width+ct,Nt=Tt.y+Tt.height+ct;return{x:St,minX:St,y:Vt,minY:Vt,width:Tt.width+G,height:Tt.height+G,maxX:Lt,maxY:Nt}},tt.prototype.isFill=function(){return!!this.attrs.fill||this.isClipShape()},tt.prototype.isStroke=function(){return!!this.attrs.stroke},tt.prototype._applyClip=function(J,G){G&&(J.save(),Object(E.a)(J,G),G.createPath(J),J.restore(),J.clip(),G._afterDraw())},tt.prototype.draw=function(J,G){var Et=this.cfg.clipShape;if(G){if(this.cfg.refresh===!1){this.set("hasChanged",!1);return}var Tt=this.getCanvasBBox();if(!Object(p.f)(G,Tt)){this.set("hasChanged",!1),this.cfg.isInView&&this._afterDraw();return}}J.save(),Object(E.a)(J,this),this._applyClip(J,Et),this.drawPath(J),J.restore(),this._afterDraw()},tt.prototype.getCanvasViewBox=function(){var J=this.cfg.canvas;return J?J.getViewRange():null},tt.prototype.cacheCanvasBBox=function(){var J=this.getCanvasViewBox();if(J){var G=this.getCanvasBBox(),Et=Object(p.f)(G,J);this.set("isInView",Et),Et?this.set("cacheCanvasBBox",G):this.set("cacheCanvasBBox",null)}},tt.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},tt.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},tt.prototype.drawPath=function(J){this.createPath(J),this.strokeAndFill(J),this.afterDrawPath(J)},tt.prototype.fill=function(J){J.fill()},tt.prototype.stroke=function(J){J.stroke()},tt.prototype.strokeAndFill=function(J){var G=this.attrs,Et=G.lineWidth,Tt=G.opacity,ct=G.strokeOpacity,St=G.fillOpacity;this.isFill()&&(!Object(p.i)(St)&&St!==1?(J.globalAlpha=St,this.fill(J),J.globalAlpha=Tt):this.fill(J)),this.isStroke()&&Et>0&&(!Object(p.i)(ct)&&ct!==1&&(J.globalAlpha=ct),this.stroke(J)),this.afterDrawPath(J)},tt.prototype.createPath=function(J){},tt.prototype.afterDrawPath=function(J){},tt.prototype.isInShape=function(J,G){var Et=this.isStroke(),Tt=this.isFill(),ct=this.getHitLineWidth();return this.isInStrokeOrPath(J,G,Et,Tt,ct)},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){return!1},tt.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var J=this.attrs;return J.lineWidth+J.lineAppendWidth},tt}(g.AbstractShape),M=A,x=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x:0,y:0,r:0})},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){var St=this.attr(),Vt=St.x,Lt=St.y,Nt=St.r,Zt=ct/2,oe=Object(p.b)(Vt,Lt,J,G);return Tt&&Et?oe<=Nt+Zt:Tt?oe<=Nt:Et?oe>=Nt-Zt&&oe<=Nt+Zt:!1},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.x,Tt=G.y,ct=G.r;J.beginPath(),J.arc(Et,Tt,ct,0,Math.PI*2,!1),J.closePath()},tt}(M),O=x;function C(Bt,tt,J,G){return Bt/(J*J)+tt/(G*G)}var D=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x:0,y:0,rx:0,ry:0})},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){var St=this.attr(),Vt=ct/2,Lt=St.x,Nt=St.y,Zt=St.rx,oe=St.ry,ue=(J-Lt)*(J-Lt),Ee=(G-Nt)*(G-Nt);return Tt&&Et?C(ue,Ee,Zt+Vt,oe+Vt)<=1:Tt?C(ue,Ee,Zt,oe)<=1:Et?C(ue,Ee,Zt-Vt,oe-Vt)>=1&&C(ue,Ee,Zt+Vt,oe+Vt)<=1:!1},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.x,Tt=G.y,ct=G.rx,St=G.ry;if(J.beginPath(),J.ellipse)J.ellipse(Et,Tt,ct,St,0,0,Math.PI*2,!1);else{var Vt=ct>St?ct:St,Lt=ct>St?1:ct/St,Nt=ct>St?St/ct:1;J.save(),J.translate(Et,Tt),J.scale(Lt,Nt),J.arc(0,0,Vt,0,Math.PI*2),J.restore(),J.closePath()}},tt}(M),R=D;function y(Bt){return Bt instanceof HTMLElement&&Object(p.k)(Bt.nodeName)&&Bt.nodeName.toUpperCase()==="CANVAS"}var w=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x:0,y:0,width:0,height:0})},tt.prototype.initAttrs=function(J){this._setImage(J.img)},tt.prototype.isStroke=function(){return!1},tt.prototype.isOnlyHitBox=function(){return!0},tt.prototype._afterLoading=function(){if(this.get("toDraw")===!0){var J=this.get("canvas");J?J.draw():this.createPath(this.get("context"))}},tt.prototype._setImage=function(J){var G=this,Et=this.attrs;if(Object(p.k)(J)){var Tt=new Image;Tt.onload=function(){if(G.destroyed)return!1;G.attr("img",Tt),G.set("loading",!1),G._afterLoading();var ct=G.get("callback");ct&&ct.call(G)},Tt.crossOrigin="Anonymous",Tt.src=J,this.set("loading",!0)}else J instanceof Image?(Et.width||(Et.width=J.width),Et.height||(Et.height=J.height)):y(J)&&(Et.width||(Et.width=Number(J.getAttribute("width"))),Et.height||(Et.height,Number(J.getAttribute("height"))))},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),J==="img"&&this._setImage(G)},tt.prototype.createPath=function(J){if(this.get("loading")){this.set("toDraw",!0),this.set("context",J);return}var G=this.attr(),Et=G.x,Tt=G.y,ct=G.width,St=G.height,Vt=G.sx,Lt=G.sy,Nt=G.swidth,Zt=G.sheight,oe=G.img;(oe instanceof Image||y(oe))&&(!Object(p.i)(Vt)&&!Object(p.i)(Lt)&&!Object(p.i)(Nt)&&!Object(p.i)(Zt)?J.drawImage(oe,Vt,Lt,Nt,Zt,Et,Tt,ct,St):J.drawImage(oe,Et,Tt,ct,St))},tt}(M),N=w,z=a("EYNi");function V(Bt,tt,J,G,Et,Tt,ct){var St=Math.min(Bt,J),Vt=Math.max(Bt,J),Lt=Math.min(tt,G),Nt=Math.max(tt,G),Zt=Et/2;return Tt>=St-Zt&&Tt<=Vt+Zt&&ct>=Lt-Zt&&ct<=Nt+Zt?z.c.pointToLine(Bt,tt,J,G,Tt,ct)<=Et/2:!1}var B=a("nycV"),P=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},tt.prototype.initAttrs=function(J){this.setArrow()},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),this.setArrow()},tt.prototype.setArrow=function(){var J=this.attr(),G=J.x1,Et=J.y1,Tt=J.x2,ct=J.y2,St=J.startArrow,Vt=J.endArrow;St&&B.b(this,J,Tt,ct,G,Et),Vt&&B.a(this,J,G,Et,Tt,ct)},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){if(!Et||!ct)return!1;var St=this.attr(),Vt=St.x1,Lt=St.y1,Nt=St.x2,Zt=St.y2;return V(Vt,Lt,Nt,Zt,ct,J,G)},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.x1,Tt=G.y1,ct=G.x2,St=G.y2,Vt=G.startArrow,Lt=G.endArrow,Nt={dx:0,dy:0},Zt={dx:0,dy:0};Vt&&Vt.d&&(Nt=B.c(Et,Tt,ct,St,G.startArrow.d)),Lt&&Lt.d&&(Zt=B.c(Et,Tt,ct,St,G.endArrow.d)),J.beginPath(),J.moveTo(Et+Nt.dx,Tt+Nt.dy),J.lineTo(ct-Zt.dx,St-Zt.dy)},tt.prototype.afterDrawPath=function(J){var G=this.get("startArrowShape"),Et=this.get("endArrowShape");G&&G.draw(J),Et&&Et.draw(J)},tt.prototype.getTotalLength=function(){var J=this.attr(),G=J.x1,Et=J.y1,Tt=J.x2,ct=J.y2;return z.c.length(G,Et,Tt,ct)},tt.prototype.getPoint=function(J){var G=this.attr(),Et=G.x1,Tt=G.y1,ct=G.x2,St=G.y2;return z.c.pointAt(Et,Tt,ct,St,J)},tt}(M),T=P,W=a("iTfj"),Q=a("LvGN"),nt={circle:function(tt,J,G){return[["M",tt-G,J],["A",G,G,0,1,0,tt+G,J],["A",G,G,0,1,0,tt-G,J]]},square:function(tt,J,G){return[["M",tt-G,J-G],["L",tt+G,J-G],["L",tt+G,J+G],["L",tt-G,J+G],["Z"]]},diamond:function(tt,J,G){return[["M",tt-G,J],["L",tt,J-G],["L",tt+G,J],["L",tt,J+G],["Z"]]},triangle:function(tt,J,G){var Et=G*Math.sin(1/3*Math.PI);return[["M",tt-G,J+Et],["L",tt,J-Et],["L",tt+G,J+Et],["Z"]]},"triangle-down":function(tt,J,G){var Et=G*Math.sin(1/3*Math.PI);return[["M",tt-G,J-Et],["L",tt+G,J-Et],["L",tt,J+Et],["Z"]]}},st=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.initAttrs=function(J){this._resetParamsCache()},tt.prototype._resetParamsCache=function(){this.set("paramsCache",{})},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),["symbol","x","y","r","radius"].indexOf(J)!==-1&&this._resetParamsCache()},tt.prototype.isOnlyHitBox=function(){return!0},tt.prototype._getR=function(J){return Object(W.I)(J.r)?J.radius:J.r},tt.prototype._getPath=function(){var J=this.attr(),G=J.x,Et=J.y,Tt=J.symbol||"circle",ct=this._getR(J),St,Vt;if(Object(p.h)(Tt))St=Tt,Vt=St(G,Et,ct),Vt=Object(Q.d)(Vt);else{if(St=tt.Symbols[Tt],!St)return console.warn(Tt+" marker is not supported."),null;Vt=St(G,Et,ct)}return Vt},tt.prototype.createPath=function(J){var G=this._getPath(),Et=this.get("paramsCache");Object(E.e)(this,J,{path:G},Et)},tt.Symbols=nt,tt}(M),et=st;function _(Bt,tt,J){var G=Object(g.getOffScreenContext)();return Bt.createPath(G),G.isPointInPath(tt,J)}var Y=1e-6;function $(Bt){return Math.abs(Bt)<Y?0:Bt<0?-1:1}function q(Bt,tt,J){return(J[0]-Bt[0])*(tt[1]-Bt[1])==(tt[0]-Bt[0])*(J[1]-Bt[1])&&Math.min(Bt[0],tt[0])<=J[0]&&J[0]<=Math.max(Bt[0],tt[0])&&Math.min(Bt[1],tt[1])<=J[1]&&J[1]<=Math.max(Bt[1],tt[1])}function at(Bt,tt,J){var G=!1,Et=Bt.length;if(Et<=2)return!1;for(var Tt=0;Tt<Et;Tt++){var ct=Bt[Tt],St=Bt[(Tt+1)%Et];if(q(ct,St,[tt,J]))return!0;$(ct[1]-J)>0!=$(St[1]-J)>0&&$(tt-(J-ct[1])*(ct[0]-St[0])/(ct[1]-St[1])-ct[0])<0&&(G=!G)}return G}var pt=a("6JdA"),mt=a("n+fv");function ot(Bt,tt,J,G,Et,Tt,ct,St){var Vt=(Math.atan2(St-tt,ct-Bt)+Math.PI*2)%(Math.PI*2);if(Vt<G||Vt>Et)return!1;var Lt={x:Bt+J*Math.cos(Vt),y:tt+J*Math.sin(Vt)};return Object(p.b)(Lt.x,Lt.y,ct,St)<=Tt/2}var xt=pt.a.transform;function It(Bt){for(var tt=!1,J=Bt.length,G=0;G<J;G++){var Et=Bt[G],Tt=Et[0];if(Tt==="C"||Tt==="A"||Tt==="Q"){tt=!0;break}}return tt}function Ht(Bt,tt,J,G,Et){for(var Tt=!1,ct=tt/2,St=0;St<Bt.length;St++){var Vt=Bt[St],Lt=Vt.currentPoint,Nt=Vt.params,Zt=Vt.prePoint,oe=Vt.box;if(!(oe&&!Object(p.e)(oe.x-ct,oe.y-ct,oe.width+tt,oe.height+tt,J,G))){switch(Vt.command){case"L":case"Z":Tt=V(Zt[0],Zt[1],Lt[0],Lt[1],tt,J,G);break;case"Q":var ue=z.e.pointDistance(Zt[0],Zt[1],Nt[1],Nt[2],Nt[3],Nt[4],J,G);Tt=ue<=tt/2;break;case"C":var Ee=z.b.pointDistance(Zt[0],Zt[1],Nt[1],Nt[2],Nt[3],Nt[4],Nt[5],Nt[6],J,G,Et);Tt=Ee<=tt/2;break;case"A":var Te=Vt.arcParams,Se=Te.cx,$e=Te.cy,cr=Te.rx,He=Te.ry,_e=Te.startAngle,ur=Te.endAngle,jr=Te.xRotation,Ar=[J,G,1],Ge=cr>He?cr:He,br=cr>He?1:cr/He,er=cr>He?He/cr:1,nr=xt(null,[["t",-Se,-$e],["r",-jr],["s",1/br,1/er]]);mt.transformMat3(Ar,Ar,nr),Tt=ot(0,0,Ge,_e,ur,tt,Ar[0],Ar[1]);break;default:break}if(Tt)break}}return Tt}function Qt(Bt){for(var tt=Bt.length,J=[],G=[],Et=[],Tt=0;Tt<tt;Tt++){var ct=Bt[Tt],St=ct[0];St==="M"?(Et.length&&(G.push(Et),Et=[]),Et.push([ct[1],ct[2]])):St==="Z"?Et.length&&(J.push(Et),Et=[]):Et.push([ct[1],ct[2]])}return Et.length>0&&G.push(Et),{polygons:J,polylines:G}}var $t=Object(i.a)({hasArc:It,extractPolygons:Qt,isPointInStroke:Ht},g.PathUtil);function yt(Bt,tt,J){for(var G=!1,Et=0;Et<Bt.length;Et++){var Tt=Bt[Et];if(G=at(Tt,tt,J),G)break}return G}var ut=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{startArrow:!1,endArrow:!1})},tt.prototype.initAttrs=function(J){this._setPathArr(J.path),this.setArrow()},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),J==="path"&&this._setPathArr(G),this.setArrow()},tt.prototype._setPathArr=function(J){this.attrs.path=Object(Q.d)(J);var G=$t.hasArc(J);this.set("hasArc",G),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},tt.prototype.getSegments=function(){var J=this.get("segements");return J||(J=Object(Q.e)(this.attr("path")),this.set("segments",J)),J},tt.prototype.setArrow=function(){var J=this.attr(),G=J.startArrow,Et=J.endArrow;if(G){var Tt=this.getStartTangent();B.b(this,J,Tt[0][0],Tt[0][1],Tt[1][0],Tt[1][1])}if(Et){var Tt=this.getEndTangent();B.a(this,J,Tt[0][0],Tt[0][1],Tt[1][0],Tt[1][1])}},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){var St=this.getSegments(),Vt=this.get("hasArc"),Lt=!1;if(Et){var Nt=this.getTotalLength();Lt=$t.isPointInStroke(St,ct,J,G,Nt)}if(!Lt&&Tt)if(Vt)Lt=_(this,J,G);else{var Zt=this.attr("path"),oe=$t.extractPolygons(Zt);Lt=yt(oe.polygons,J,G)||yt(oe.polylines,J,G)}return Lt},tt.prototype.createPath=function(J){var G=this.attr(),Et=this.get("paramsCache");Object(E.e)(this,J,G,Et)},tt.prototype.afterDrawPath=function(J){var G=this.get("startArrowShape"),Et=this.get("endArrowShape");G&&G.draw(J),Et&&Et.draw(J)},tt.prototype.getTotalLength=function(){var J=this.get("totalLength");return Object(W.I)(J)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):J},tt.prototype.getPoint=function(J){var G=this.get("tCache");G||(this._calculateCurve(),this._setTcache(),G=this.get("tCache"));var Et,Tt,ct=this.get("curve");if(!G||G.length===0)return ct?{x:ct[0][1],y:ct[0][2]}:null;Object(W.j)(G,function(Nt,Zt){J>=Nt[0]&&J<=Nt[1]&&(Et=(J-Nt[0])/(Nt[1]-Nt[0]),Tt=Zt)});var St=ct[Tt];if(Object(W.I)(St)||Object(W.I)(Tt))return null;var Vt=St.length,Lt=ct[Tt+1];return z.b.pointAt(St[Vt-2],St[Vt-1],Lt[1],Lt[2],Lt[3],Lt[4],Lt[5],Lt[6],Et)},tt.prototype._calculateCurve=function(){var J=this.attr().path;this.set("curve",$t.pathToCurve(J))},tt.prototype._setTcache=function(){var J=0,G=0,Et=[],Tt,ct,St,Vt,Lt=this.get("curve");if(!!Lt){if(Object(W.j)(Lt,function(Nt,Zt){St=Lt[Zt+1],Vt=Nt.length,St&&(J+=z.b.length(Nt[Vt-2],Nt[Vt-1],St[1],St[2],St[3],St[4],St[5],St[6])||0)}),this.set("totalLength",J),J===0){this.set("tCache",[]);return}Object(W.j)(Lt,function(Nt,Zt){St=Lt[Zt+1],Vt=Nt.length,St&&(Tt=[],Tt[0]=G/J,ct=z.b.length(Nt[Vt-2],Nt[Vt-1],St[1],St[2],St[3],St[4],St[5],St[6]),G+=ct||0,Tt[1]=G/J,Et.push(Tt))}),this.set("tCache",Et)}},tt.prototype.getStartTangent=function(){var J=this.getSegments(),G;if(J.length>1){var Et=J[0].currentPoint,Tt=J[1].currentPoint,ct=J[1].startTangent;G=[],ct?(G.push([Et[0]-ct[0],Et[1]-ct[1]]),G.push([Et[0],Et[1]])):(G.push([Tt[0],Tt[1]]),G.push([Et[0],Et[1]]))}return G},tt.prototype.getEndTangent=function(){var J=this.getSegments(),G=J.length,Et;if(G>1){var Tt=J[G-2].currentPoint,ct=J[G-1].currentPoint,St=J[G-1].endTangent;Et=[],St?(Et.push([ct[0]-St[0],ct[1]-St[1]]),Et.push([ct[0],ct[1]])):(Et.push([Tt[0],Tt[1]]),Et.push([ct[0],ct[1]]))}return Et},tt}(M),ft=ut;function it(Bt,tt,J,G,Et){var Tt=Bt.length;if(Tt<2)return!1;for(var ct=0;ct<Tt-1;ct++){var St=Bt[ct][0],Vt=Bt[ct][1],Lt=Bt[ct+1][0],Nt=Bt[ct+1][1];if(V(St,Vt,Lt,Nt,tt,J,G))return!0}if(Et){var Zt=Bt[0],oe=Bt[Tt-1];if(V(Zt[0],Zt[1],oe[0],oe[1],tt,J,G))return!0}return!1}var vt=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){var St=this.attr().points,Vt=!1;return Et&&(Vt=it(St,ct,J,G,!0)),!Vt&&Tt&&(Vt=at(St,J,G)),Vt},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.points;if(!(Et.length<2)){J.beginPath();for(var Tt=0;Tt<Et.length;Tt++){var ct=Et[Tt];Tt===0?J.moveTo(ct[0],ct[1]):J.lineTo(ct[0],ct[1])}J.closePath()}},tt}(M),Wt=vt,Ct=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{startArrow:!1,endArrow:!1})},tt.prototype.initAttrs=function(J){this.setArrow()},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),this.setArrow(),["points"].indexOf(J)!==-1&&this._resetCache()},tt.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},tt.prototype.setArrow=function(){var J=this.attr(),G=this.attrs,Et=G.points,Tt=G.startArrow,ct=G.endArrow,St=Et.length,Vt=Et[0][0],Lt=Et[0][1],Nt=Et[St-1][0],Zt=Et[St-1][1];Tt&&B.b(this,J,Et[1][0],Et[1][1],Vt,Lt),ct&&B.a(this,J,Et[St-2][0],Et[St-2][1],Nt,Zt)},tt.prototype.isFill=function(){return!1},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){if(!Et||!ct)return!1;var St=this.attr().points;return it(St,ct,J,G,!1)},tt.prototype.isStroke=function(){return!0},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.points,Tt=G.startArrow,ct=G.endArrow,St=Et.length;if(!(Et.length<2)){var Vt=Et[0][0],Lt=Et[0][1],Nt=Et[St-1][0],Zt=Et[St-1][1];if(Tt&&Tt.d){var oe=B.c(Vt,Lt,Et[1][0],Et[1][1],Tt.d);Vt+=oe.dx,Lt+=oe.dy}if(ct&&ct.d){var oe=B.c(Et[St-2][0],Et[St-2][1],Nt,Zt,ct.d);Nt-=oe.dx,Zt-=oe.dy}J.beginPath(),J.moveTo(Vt,Lt);for(var ue=0;ue<St-1;ue++){var Ee=Et[ue];J.lineTo(Ee[0],Ee[1])}J.lineTo(Nt,Zt)}},tt.prototype.afterDrawPath=function(J){var G=this.get("startArrowShape"),Et=this.get("endArrowShape");G&&G.draw(J),Et&&Et.draw(J)},tt.prototype.getTotalLength=function(){var J=this.attr().points,G=this.get("totalLength");return Object(W.I)(G)?(this.set("totalLength",z.d.length(J)),this.get("totalLength")):G},tt.prototype.getPoint=function(J){var G=this.attr().points,Et=this.get("tCache");Et||(this._setTcache(),Et=this.get("tCache"));var Tt,ct;return Object(W.j)(Et,function(St,Vt){J>=St[0]&&J<=St[1]&&(Tt=(J-St[0])/(St[1]-St[0]),ct=Vt)}),z.c.pointAt(G[ct][0],G[ct][1],G[ct+1][0],G[ct+1][1],Tt)},tt.prototype._setTcache=function(){var J=this.attr().points;if(!(!J||J.length===0)){var G=this.getTotalLength();if(!(G<=0)){var Et=0,Tt=[],ct,St;Object(W.j)(J,function(Vt,Lt){J[Lt+1]&&(ct=[],ct[0]=Et/G,St=z.c.length(Vt[0],Vt[1],J[Lt+1][0],J[Lt+1][1]),Et+=St,ct[1]=Et/G,Tt.push(ct))}),this.set("tCache",Tt)}}},tt.prototype.getStartTangent=function(){var J=this.attr().points,G=[];return G.push([J[1][0],J[1][1]]),G.push([J[0][0],J[0][1]]),G},tt.prototype.getEndTangent=function(){var J=this.attr().points,G=J.length-1,Et=[];return Et.push([J[G-1][0],J[G-1][1]]),Et.push([J[G][0],J[G][1]]),Et},tt}(M),Z=Ct,X=a("r0DC");function dt(Bt,tt,J,G,Et,Tt,ct){var St=Et/2;return Object(p.e)(Bt-St,tt-St,J,Et,Tt,ct)||Object(p.e)(Bt+J-St,tt-St,Et,G,Tt,ct)||Object(p.e)(Bt+St,tt+G-St,J,Et,Tt,ct)||Object(p.e)(Bt-St,tt+St,Et,G,Tt,ct)}function H(Bt,tt,J,G,Et,Tt,ct,St){var Vt=Tt/2;return V(Bt+Et,tt,Bt+J-Et,tt,Tt,ct,St)||V(Bt+J,tt+Et,Bt+J,tt+G-Et,Tt,ct,St)||V(Bt+J-Et,tt+G,Bt+Et,tt+G,Tt,ct,St)||V(Bt,tt+G-Et,Bt,tt+Et,Tt,ct,St)||ot(Bt+J-Et,tt+Et,Et,1.5*Math.PI,2*Math.PI,Tt,ct,St)||ot(Bt+J-Et,tt+G-Et,Et,0,.5*Math.PI,Tt,ct,St)||ot(Bt+Et,tt+G-Et,Et,.5*Math.PI,Math.PI,Tt,ct,St)||ot(Bt+Et,tt+Et,Et,Math.PI,1.5*Math.PI,Tt,ct,St)}var lt=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x:0,y:0,width:0,height:0,radius:0})},tt.prototype.isInStrokeOrPath=function(J,G,Et,Tt,ct){var St=this.attr(),Vt=St.x,Lt=St.y,Nt=St.width,Zt=St.height,oe=St.radius;if(oe){var Ee=!1;return Et&&(Ee=H(Vt,Lt,Nt,Zt,oe,ct,J,G)),!Ee&&Tt&&(Ee=_(this,J,G)),Ee}else{var ue=ct/2;if(Tt&&Et)return Object(p.e)(Vt-ue,Lt-ue,Nt+ue,Zt+ue,J,G);if(Tt)return Object(p.e)(Vt,Lt,Nt,Zt,J,G);if(Et)return dt(Vt,Lt,Nt,Zt,ct,J,G)}},tt.prototype.createPath=function(J){var G=this.attr(),Et=G.x,Tt=G.y,ct=G.width,St=G.height,Vt=G.radius;if(J.beginPath(),Vt===0)J.rect(Et,Tt,ct,St);else{var Lt=Object(X.a)(Vt),Nt=Lt[0],Zt=Lt[1],oe=Lt[2],ue=Lt[3];J.moveTo(Et+Nt,Tt),J.lineTo(Et+ct-Zt,Tt),Zt!==0&&J.arc(Et+ct-Zt,Tt+Zt,Zt,-Math.PI/2,0),J.lineTo(Et+ct,Tt+St-oe),oe!==0&&J.arc(Et+ct-oe,Tt+St-oe,oe,0,Math.PI/2),J.lineTo(Et+ue,Tt+St),ue!==0&&J.arc(Et+ue,Tt+St-ue,ue,Math.PI/2,Math.PI),J.lineTo(Et,Tt+Nt),Nt!==0&&J.arc(Et+Nt,Tt+Nt,Nt,Math.PI,Math.PI*1.5),J.closePath()}},tt}(M),Ot=lt,Rt=function(Bt){Object(i.c)(tt,Bt);function tt(){return Bt!==null&&Bt.apply(this,arguments)||this}return tt.prototype.getDefaultAttrs=function(){var J=Bt.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},J),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},tt.prototype.isOnlyHitBox=function(){return!0},tt.prototype.initAttrs=function(J){this._assembleFont(),J.text&&this._setText(J.text)},tt.prototype._assembleFont=function(){var J=this.attrs;J.font=Object(g.assembleFont)(J)},tt.prototype._setText=function(J){var G=null;Object(p.k)(J)&&J.indexOf(`
`)!==-1&&(G=J.split(`
`)),this.set("textArr",G)},tt.prototype.onAttrChange=function(J,G,Et){Bt.prototype.onAttrChange.call(this,J,G,Et),J.startsWith("font")&&this._assembleFont(),J==="text"&&this._setText(G)},tt.prototype._getSpaceingY=function(){var J=this.attrs,G=J.lineHeight,Et=J.fontSize*1;return G?G-Et:Et*.14},tt.prototype._drawTextArr=function(J,G,Et){var Tt=this.attrs,ct=Tt.textBaseline,St=Tt.x,Vt=Tt.y,Lt=Tt.fontSize*1,Nt=this._getSpaceingY(),Zt=Object(g.getTextHeight)(Tt.text,Tt.fontSize,Tt.lineHeight),oe;Object(p.c)(G,function(ue,Ee){oe=Vt+Ee*(Nt+Lt)-Zt+Lt,ct==="middle"&&(oe+=Zt-Lt-(Zt-Lt)/2),ct==="top"&&(oe+=Zt-Lt),ue&&(Et?J.fillText(ue,St,oe):J.strokeText(ue,St,oe))})},tt.prototype._drawText=function(J,G){var Et=this.attr(),Tt=Et.x,ct=Et.y,St=this.get("textArr");if(St)this._drawTextArr(J,St,G);else{var Vt=Et.text;Vt&&(G?J.fillText(Vt,Tt,ct):J.strokeText(Vt,Tt,ct))}},tt.prototype.strokeAndFill=function(J){var G=this.attrs,Et=G.lineWidth,Tt=G.opacity,ct=G.strokeOpacity,St=G.fillOpacity;this.isStroke()&&Et>0&&(!Object(p.i)(ct)&&ct!==1&&(J.globalAlpha=Tt),this.stroke(J)),this.isFill()&&(!Object(p.i)(St)&&St!==1?(J.globalAlpha=St,this.fill(J),J.globalAlpha=Tt):this.fill(J)),this.afterDrawPath(J)},tt.prototype.fill=function(J){this._drawText(J,!0)},tt.prototype.stroke=function(J){this._drawText(J,!1)},tt}(M),zt=Rt},RBan:function(Ft,I){function a(f){var i=f==null?0:f.length;return i?f[i-1]:void 0}Ft.exports=a},"RR/i":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.typeConstraint=I.namedConstraint=I.taggedConstraint=I.traverseAncerstors=void 0;var f=a("xfSm"),i=a("GXnB"),g=function A(M,x){var O=M.parentRequest;return O!==null?x(O)?!0:A(O,x):!1};I.traverseAncerstors=g;var p=function(M){return function(x){var O=function(D){return D!==null&&D.target!==null&&D.target.matchesTag(M)(x)};return O.metaData=new i.Metadata(M,x),O}};I.taggedConstraint=p;var E=p(f.NAMED_TAG);I.namedConstraint=E;var S=function(M){return function(x){var O=null;if(x!==null)if(O=x.bindings[0],typeof M=="string"){var C=O.serviceIdentifier;return C===M}else{var D=x.bindings[0].implementationType;return M===D}return!1}};I.typeConstraint=S},RRY9:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]===i[0]&&f[1]===i[1]}},RYnF:function(Ft,I){Ft.exports=a;function a(){var g={};g._next=g._prev=g,this._sentinel=g}a.prototype.dequeue=function(){var g=this._sentinel,p=g._prev;if(p!==g)return f(p),p},a.prototype.enqueue=function(g){var p=this._sentinel;g._prev&&g._next&&f(g),g._next=p._next,p._next._prev=g,p._next=g,g._prev=p},a.prototype.toString=function(){for(var g=[],p=this._sentinel,E=p._prev;E!==p;)g.push(JSON.stringify(E,i)),E=E._prev;return"["+g.join(", ")+"]"};function f(g){g._prev._next=g._next,g._next._prev=g._prev,delete g._next,delete g._prev}function i(g,p){if(g!=="_next"&&g!=="_prev")return p}},Re5C:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("tQ6r");Ft.exports={run:g,undo:E};function g(S){S.graph().dummyChains=[],f.forEach(S.edges(),function(A){p(S,A)})}function p(S,A){var M=A.v,x=S.node(M).rank,O=A.w,C=S.node(O).rank,D=A.name,R=S.edge(A),y=R.labelRank;if(C!==x+1){S.removeEdge(A);var w,N,z;for(z=0,++x;x<C;++z,++x)R.points=[],N={width:0,height:0,edgeLabel:R,edgeObj:A,rank:x},w=i.addDummyNode(S,"edge",N,"_d"),x===y&&(N.width=R.width,N.height=R.height,N.dummy="edge-label",N.labelpos=R.labelpos),S.setEdge(M,w,{weight:R.weight},D),z===0&&S.graph().dummyChains.push(w),M=w;S.setEdge(M,O,{weight:R.weight},D)}}function E(S){f.forEach(S.graph().dummyChains,function(A){var M=S.node(A),x=M.edgeLabel,O;for(S.setEdge(M.edgeObj,x);M.dummy;)O=S.successors(A)[0],S.removeNode(A),x.points.push({x:M.x,y:M.y}),M.dummy==="edge-label"&&(x.x=M.x,x.y=M.y,x.width=M.width,x.height=M.height),A=O,M=S.node(A)})}},RlxE:function(Ft,I,a){"use strict";a.d(I,"a",function(){return mt});var f=a("lSNA"),i=a.n(f),g=a("o0o1"),p=a.n(g),E=a("yXPU"),S=a.n(E),A=a("yG8O"),M=a.n(A),x=a("lwsE"),O=a.n(x),C=a("W8MJ"),D=a.n(C),R=a("U+yc"),y=a.n(R),w=a("1ABj"),N=a.n(w),z=a("4cb6"),V=a.n(z),B=a("Gj0h"),P=a("+uE7"),T,W,Q,nt,st,et,_,Y,$,q;function at(ot,xt){var It=Object.keys(ot);if(Object.getOwnPropertySymbols){var Ht=Object.getOwnPropertySymbols(ot);xt&&(Ht=Ht.filter(function(Qt){return Object.getOwnPropertyDescriptor(ot,Qt).enumerable})),It.push.apply(It,Ht)}return It}function pt(ot){for(var xt=1;xt<arguments.length;xt++){var It=arguments[xt]!=null?arguments[xt]:{};xt%2?at(Object(It),!0).forEach(function(Ht){i()(ot,Ht,It[Ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(It)):at(Object(It)).forEach(function(Ht){Object.defineProperty(ot,Ht,Object.getOwnPropertyDescriptor(It,Ht))})}return ot}var mt=(T=Object(z.injectable)(),W=Object(z.inject)(P.a.MaterialComponentManager),Q=Object(z.inject)(P.a.RenderEngine),nt=Object(z.inject)(P.a.ShaderModuleService),T(st=(et=(q=function(){function ot(){O()(this,ot),M()(this,"material",_,this),M()(this,"engine",Y,this),M()(this,"shaderModule",$,this)}return D()(ot,[{key:"execute",value:function(){var xt=S()(p.a.mark(function Ht(){return p.a.wrap(function($t){for(;;)switch($t.prev=$t.next){case 0:case"end":return $t.stop()}},Ht)}));function It(){return xt.apply(this,arguments)}return It}()},{key:"tearDown",value:function(){this.material.clear()}},{key:"createShaderMaterial",value:function(It){var Ht=Object(B.createEntity)(),Qt=It.vertexShader,$t=It.fragmentShader,yt=[];if(!this.engine.supportWebGPU){var ut="material-".concat(Ht);this.shaderModule.registerModule(ut,{vs:It.vertexShader,fs:It.fragmentShader});var ft=this.shaderModule.getModule(ut);Qt=ft.vs,$t=ft.fs,ft.uniforms&&(yt=Object.keys(ft.uniforms).map(function(it){return{dirty:!0,name:it,data:ft.uniforms[it]}}))}return this.material.create(Ht,pt(pt({vertexShaderGLSL:Qt,fragmentShaderGLSL:$t},It),{},{uniforms:yt}))}}]),ot}(),q),_=y()(et.prototype,"material",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=y()(et.prototype,"engine",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=y()(et.prototype,"shaderModule",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),et))||st)},S8zm:function(Ft,I){Ft.exports=a;function a(f){var i=new Float32Array(2);return i[0]=f[0],i[1]=f[1],i}},SGks:function(Ft,I){Ft.exports=a;function a(f){var i=f[0],g=f[1];return i*i+g*g}},SKAX:function(Ft,I,a){var f=a("JC6p"),i=a("lQqw"),g=i(f);Ft.exports=g},Sk89:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.postConstruct=void 0;var f=a("MON2"),i=a("xfSm"),g=a("GXnB");function p(){return function(E,S,A){var M=new g.Metadata(i.POST_CONSTRUCT,S);if(Reflect.hasOwnMetadata(i.POST_CONSTRUCT,E.constructor))throw new Error(f.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(i.POST_CONSTRUCT,M,E.constructor)}}I.postConstruct=p},"Ska/":function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=Math.round(i[0]),f[1]=Math.round(i[1]),f}},Ssa2:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=a("IOcx"),i=a("ENEI");function g(p){for(var E=new i.a,S=f.e.fromValues(p[0],p[1],p[2]),A=f.e.fromValues(p[0],p[1],p[2]),M=3;M<p.length;){var x=p[M++],O=p[M++],C=p[M++];x<S[0]&&(S[0]=x),O<S[1]&&(S[1]=O),C<S[2]&&(S[2]=C),x>A[0]&&(A[0]=x),O>A[1]&&(A[1]=O),C>A[2]&&(A[2]=C)}return E.setMinMax(S,A),E}},Svbc:function(Ft,I,a){Ft.exports=a("Bu3x")},Sxd8:function(Ft,I,a){var f=a("ZCgT");function i(g){var p=f(g),E=p%1;return p===p?E?p-E:p:0}Ft.exports=i},T016:function(Ft,I,a){"use strict";Ft.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},T1AV:function(Ft,I,a){var f=a("t2Dn"),i=a("5Tg0"),g=a("yP5f"),p=a("Q1l4"),E=a("+iFO"),S=a("03A+"),A=a("Z0cm"),M=a("3L66"),x=a("DSRE"),O=a("lSCD"),C=a("GoyQ"),D=a("YO3V"),R=a("c6wG"),y=a("itsj"),w=a("jeLo");function N(z,V,B,P,T,W,Q){var nt=y(z,B),st=y(V,B),et=Q.get(st);if(et){f(z,B,et);return}var _=W?W(nt,st,B+"",z,V,Q):void 0,Y=_===void 0;if(Y){var $=A(st),q=!$&&x(st),at=!$&&!q&&R(st);_=st,$||q||at?A(nt)?_=nt:M(nt)?_=p(nt):q?(Y=!1,_=i(st,!0)):at?(Y=!1,_=g(st,!0)):_=[]:D(st)||S(st)?(_=nt,S(nt)?_=w(nt):(!C(nt)||O(nt))&&(_=E(st))):Y=!1}Y&&(Q.set(st,_),T(_,st,P,W,Q),Q.delete(st)),f(z,B,_)}Ft.exports=N},TEat:function(Ft,I,a){"use strict";a.d(I,"a",function(){return y});var f=a("mrSG"),i=a("zJSt"),g=a("w02o"),p=a("YuPD"),E=a("tKoa");function S(w,N,z){var V=z.map(function(T){return T[N]}).filter(function(T){return T!==void 0}),B=V.length>0?Math.max.apply(Math,V):0,P=Math.abs(w)%360;return P?B*360/P:B}function A(w){var N=w.chart,z=w.options,V=z.barStyle,B=z.color,P=z.tooltip,T=z.colorField,W=z.type,Q=z.xField,nt=z.yField,st=z.data,et=Object(p.q)(st,nt);N.data(et);var _=Object(p.b)({},w,{options:{tooltip:P,seriesField:T,interval:{style:V,color:B,shape:W==="line"?"line":"intervel"},minColumnWidth:z.minBarWidth,maxColumnWidth:z.maxBarWidth,columnBackground:z.barBackground}});return Object(E.c)(_),W==="line"&&Object(E.e)({chart:N,options:{xField:Q,yField:nt,seriesField:T,point:{shape:"circle",color:B}}}),w}function M(w){var N,z=w.options,V=z.yField,B=z.maxAngle,P=z.data,T=Object(p.q)(P,V);return Object(p.e)(Object(g.f)((N={},N[V]={min:0,max:S(B,V,T)},N)))(w)}function x(w){var N=w.chart,z=w.options,V=z.radius,B=z.innerRadius,P=z.startAngle,T=z.endAngle;return N.coordinate({type:"polar",cfg:{radius:V,innerRadius:B,startAngle:P,endAngle:T}}).transpose(),w}function O(w){var N=w.chart,z=w.options,V=z.xField,B=z.xAxis;return N.axis(V,B),w}function C(w){var N=w.chart,z=w.options,V=z.label,B=z.yField,P=Object(p.c)(N,"interval");if(!V)P.label(!1);else{var T=V.callback,W=Object(f.e)(V,["callback"]);P.label({fields:[B],callback:T,cfg:Object(f.a)(Object(f.a)({},Object(p.u)(W)),{type:"polar"})})}return w}function D(w){return Object(p.e)(A,M,O,x,g.c,g.a,g.j,g.k,g.d,Object(g.b)(),C)(w)}var R=Object(p.b)({},i.b.getDefaultOptions(),{interactions:[{type:"element-active"}],legend:!1,tooltip:{showMarkers:!1},xAxis:{grid:null,tickLine:null,line:null},maxAngle:240}),y=function(w){Object(f.c)(N,w);function N(){var z=w!==null&&w.apply(this,arguments)||this;return z.type="radial-bar",z}return N.getDefaultOptions=function(){return R},N.prototype.changeData=function(z){this.updateOption({data:z}),M({chart:this.chart,options:this.options}),this.chart.changeData(z)},N.prototype.getDefaultOptions=function(){return N.getDefaultOptions()},N.prototype.getSchemaAdaptor=function(){return D},N}(i.b)},TP7S:function(Ft,I){function a(f){return f===void 0}Ft.exports=a},TYy9:function(Ft,I,a){var f=a("XGnz");function i(g){var p=g==null?0:g.length;return p?f(g,1):[]}Ft.exports=i},TZmy:function(Ft,I,a){"use strict";a.d(I,"b",function(){return w}),a.d(I,"a",function(){return V});var f=a("mrSG"),i=a("iTfj"),g=a("w02o"),p=a("WOQw"),E=a("tKoa"),S=a("YuPD"),A=a("PLvT"),M=a("iIqE"),x=a("nmoi");function O(B){var P=B.chart,T=B.options,W=T.data,Q=T.angleField,nt=T.colorField,st=T.color,et=T.pieStyle,_=Object(S.q)(W,Q);if(Object(M.c)(_,Q)){var Y="$$percentage$$";_=_.map(function(q){var at;return Object(f.a)(Object(f.a)({},q),(at={},at[Y]=1/_.length,at))}),P.data(_);var $=Object(S.b)({},B,{options:{xField:"1",yField:Y,seriesField:nt,isStack:!0,interval:{color:st,style:et},args:{zIndexReversed:!0}}});Object(E.c)($)}else{P.data(_);var $=Object(S.b)({},B,{options:{xField:"1",yField:Q,seriesField:nt,isStack:!0,interval:{color:st,style:et},args:{zIndexReversed:!0}}});Object(E.c)($)}return B}function C(B){var P,T=B.chart,W=B.options,Q=W.meta,nt=W.colorField,st=Object(S.b)({},Q);return T.scale(st,(P={},P[nt]={type:"cat"},P)),B}function D(B){var P=B.chart,T=B.options,W=T.radius,Q=T.innerRadius,nt=T.startAngle,st=T.endAngle;return P.coordinate({type:"theta",cfg:{radius:W,innerRadius:Q,startAngle:nt,endAngle:st}}),B}function R(B){var P=B.chart,T=B.options,W=T.label,Q=T.colorField,nt=T.angleField,st=P.geometries[0];if(!W)st.label(!1);else{var et=W.callback,_=Object(f.e)(W,["callback"]),Y=Object(S.u)(_);if(Y.content){var $=Y.content;Y.content=function(mt,ot,xt){var It=mt[Q],Ht=mt[nt],Qt=P.getScaleByField(nt),$t=Qt==null?void 0:Qt.scale(Ht);return Object(i.H)($)?$(Object(f.a)(Object(f.a)({},mt),{percent:$t}),ot,xt):Object(i.O)($)?Object(S.t)($,{value:Ht,name:It,percentage:Object(i.K)($t)&&!Object(i.I)(Ht)?($t*100).toFixed(2)+"%":null}):$}}var q={inner:"",outer:"pie-outer",spider:"pie-spider"},at=Y.type?q[Y.type]:"pie-outer",pt=Y.layout?Object(i.B)(Y.layout)?Y.layout:[Y.layout]:[];Y.layout=(at?[{type:at}]:[]).concat(pt),st.label({fields:Q?[nt,Q]:[nt],callback:et,cfg:Object(f.a)(Object(f.a)({},Y),{offset:Object(M.a)(Y.type,Y.offset),type:"pie"})})}return B}function y(B){var P=B.innerRadius,T=B.statistic,W=B.angleField,Q=B.colorField,nt=B.meta;if(P&&T){var st=Object(S.b)({},A.a.statistic,T),et=st.title,_=st.content;return et!==!1&&(et=Object(S.b)({},{formatter:function($){return $?$[Q]:"\u603B\u8BA1"}},et)),_!==!1&&(_=Object(S.b)({},{formatter:function($,q){var at=Object(i.s)(nt,[W,"formatter"]),pt=$?$[W]:Object(M.b)(q,W);return at?at(pt):pt}},_)),Object(S.b)({},{statistic:{title:et,content:_}},B)}return B}function w(B){var P=B.chart,T=B.options,W=y(T),Q=W.innerRadius,nt=W.statistic;return P.getController("annotation").clear(!0),Object(S.e)(Object(g.b)())(B),Q&&nt&&Object(S.s)(P,{statistic:nt,plotType:"pie"}),B}function N(B){var P=B.chart,T=B.options,W=T.tooltip,Q=T.colorField,nt=T.angleField,st=T.data;if(W===!1)P.tooltip(W);else if(P.tooltip(Object(S.b)({},W,{shared:!1})),Object(M.c)(st,nt)){var et=Object(i.s)(W,"fields"),_=Object(i.s)(W,"formatter");Object(i.F)(Object(i.s)(W,"fields"))&&(et=[Q,nt],_=_||function(Y){return{name:Y[Q],value:Object(i.qb)(Y[nt])}}),P.geometries[0].tooltip(et.join("*"),Object(p.b)(et,_))}return B}function z(B){var P=B.chart,T=B.options,W=y(T),Q=W.interactions,nt=W.statistic,st=W.annotations;return Object(i.j)(Q,function(et){var _,Y;if(et.enable===!1)P.removeInteraction(et.type);else if(et.type==="pie-statistic-active"){var $=[];((_=et.cfg)===null||_===void 0?void 0:_.start)||($=[{trigger:"element:mouseenter",action:x.a+":change",arg:{statistic:nt,annotations:st}}]),Object(i.j)((Y=et.cfg)===null||Y===void 0?void 0:Y.start,function(q){$.push(Object(f.a)(Object(f.a)({},q),{arg:{statistic:nt,annotations:st}}))}),P.interaction(et.type,Object(S.b)({},et.cfg,{start:$}))}else P.interaction(et.type,et.cfg||{})}),B}function V(B){return Object(S.e)(O,C,g.j,D,g.d,N,R,g.i,w,z,g.a)(B)}},Tc6Q:function(Ft,I,a){(function(f,i){i(I)})(this,function(f){"use strict";function i(Y,$){return g(Y)||p(Y,$)||E()}function g(Y){if(Array.isArray(Y))return Y}function p(Y,$){var q=[],at=!0,pt=!1,mt=void 0;try{for(var ot=Y[Symbol.iterator](),xt;!(at=(xt=ot.next()).done)&&(q.push(xt.value),!($&&q.length===$));at=!0);}catch(It){pt=!0,mt=It}finally{try{!at&&ot.return!=null&&ot.return()}finally{if(pt)throw mt}}return q}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function S(Y,$,q,at){Y=Y.filter(function(ft,it){var vt=$(ft,it),Wt=q(ft,it);return vt!=null&&isFinite(vt)&&Wt!=null&&isFinite(Wt)}),at&&Y.sort(function(ft,it){return $(ft)-$(it)});for(var pt=Y.length,mt=new Float64Array(pt),ot=new Float64Array(pt),xt=0,It=0,Ht,Qt,$t,yt=0;yt<pt;)$t=Y[yt],mt[yt]=Ht=+$($t,yt,Y),ot[yt]=Qt=+q($t,yt,Y),++yt,xt+=(Ht-xt)/yt,It+=(Qt-It)/yt;for(var ut=0;ut<pt;++ut)mt[ut]-=xt,ot[ut]-=It;return[mt,ot,xt,It]}function A(Y,$,q,at){for(var pt=0,mt=0,ot=Y.length;mt<ot;mt++){var xt=Y[mt],It=+$(xt,mt,Y),Ht=+q(xt,mt,Y);It!=null&&isFinite(It)&&Ht!=null&&isFinite(Ht)&&at(It,Ht,pt++)}}function M(Y,$,q,at,pt){var mt=0,ot=0;return A(Y,$,q,function(xt,It){var Ht=It-pt(xt),Qt=It-at;mt+=Ht*Ht,ot+=Qt*Qt}),1-mt/ot}function x(Y){return Math.atan2(Y[1][1]-Y[0][1],Y[1][0]-Y[0][0])*180/Math.PI}function O(Y){return[(Y[0][0]+Y[1][0])/2,(Y[0][1]+Y[1][1])/2]}function C(Y,$,q){for(var at=Math.log($-Y)*Math.LOG10E+1|0,pt=1*Math.pow(10,-at/2-1),mt=1e4,ot=[It(Y),It($)],xt=0;Ht(ot)&&xt<mt;);return ot;function It(Qt){return[Qt,q(Qt)]}function Ht(Qt){xt++;for(var $t=Qt.length,yt=!1,ut=0;ut<$t-1;ut++){var ft=Qt[ut],it=Qt[ut+1],vt=O([ft,it]),Wt=It(vt[0]),Ct=x([ft,vt]),Z=x([ft,Wt]),X=Math.abs(Ct-Z);X>pt&&(Qt.splice(ut+1,0,Wt),yt=!0)}return yt}}function D(Y,$,q,at){var pt=at-Y*Y,mt=Math.abs(pt)<1e-24?0:(q-Y*$)/pt,ot=$-mt*Y;return[ot,mt]}function R(){var Y=function(mt){return mt[0]},$=function(mt){return mt[1]},q;function at(pt){var mt=0,ot=0,xt=0,It=0,Ht=0,Qt=0,$t=q?+q[0]:Infinity,yt=q?+q[1]:-Infinity;A(pt,Y,$,function(Z,X){var dt=Math.log(X),H=Z*X;++mt,ot+=(X-ot)/mt,It+=(H-It)/mt,Qt+=(Z*H-Qt)/mt,xt+=(X*dt-xt)/mt,Ht+=(H*dt-Ht)/mt,q||(Z<$t&&($t=Z),Z>yt&&(yt=Z))});var ut=D(It/ot,xt/ot,Ht/ot,Qt/ot),ft=i(ut,2),it=ft[0],vt=ft[1];it=Math.exp(it);var Wt=function(X){return it*Math.exp(vt*X)},Ct=C($t,yt,Wt);return Ct.a=it,Ct.b=vt,Ct.predict=Wt,Ct.rSquared=M(pt,Y,$,ot,Wt),Ct}return at.domain=function(pt){return arguments.length?(q=pt,at):q},at.x=function(pt){return arguments.length?(Y=pt,at):Y},at.y=function(pt){return arguments.length?($=pt,at):$},at}function y(){var Y=function(mt){return mt[0]},$=function(mt){return mt[1]},q;function at(pt){var mt=0,ot=0,xt=0,It=0,Ht=0,Qt=q?+q[0]:Infinity,$t=q?+q[1]:-Infinity;A(pt,Y,$,function(Ct,Z){++mt,ot+=(Ct-ot)/mt,xt+=(Z-xt)/mt,It+=(Ct*Z-It)/mt,Ht+=(Ct*Ct-Ht)/mt,q||(Ct<Qt&&(Qt=Ct),Ct>$t&&($t=Ct))});var yt=D(ot,xt,It,Ht),ut=i(yt,2),ft=ut[0],it=ut[1],vt=function(Z){return it*Z+ft},Wt=[[Qt,vt(Qt)],[$t,vt($t)]];return Wt.a=it,Wt.b=ft,Wt.predict=vt,Wt.rSquared=M(pt,Y,$,xt,vt),Wt}return at.domain=function(pt){return arguments.length?(q=pt,at):q},at.x=function(pt){return arguments.length?(Y=pt,at):Y},at.y=function(pt){return arguments.length?($=pt,at):$},at}function w(Y){Y.sort(function(q,at){return q-at});var $=Y.length/2;return $%1==0?(Y[$-1]+Y[$])/2:Y[Math.floor($)]}var N=2,z=1e-12;function V(){var Y=function(mt){return mt[0]},$=function(mt){return mt[1]},q=.3;function at(pt){for(var mt=S(pt,Y,$,!0),ot=i(mt,4),xt=ot[0],It=ot[1],Ht=ot[2],Qt=ot[3],$t=xt.length,yt=Math.max(2,~~(q*$t)),ut=new Float64Array($t),ft=new Float64Array($t),it=new Float64Array($t).fill(1),vt=-1;++vt<=N;){for(var Wt=[0,yt-1],Ct=0;Ct<$t;++Ct){for(var Z=xt[Ct],X=Wt[0],dt=Wt[1],H=Z-xt[X]>xt[dt]-Z?X:dt,lt=0,Ot=0,Rt=0,zt=0,Bt=0,tt=1/Math.abs(xt[H]-Z||1),J=X;J<=dt;++J){var G=xt[J],Et=It[J],Tt=B(Math.abs(Z-G)*tt)*it[J],ct=G*Tt;lt+=Tt,Ot+=ct,Rt+=Et*Tt,zt+=Et*ct,Bt+=G*ct}var St=D(Ot/lt,Rt/lt,zt/lt,Bt/lt),Vt=i(St,2),Lt=Vt[0],Nt=Vt[1];ut[Ct]=Lt+Nt*Z,ft[Ct]=Math.abs(It[Ct]-ut[Ct]),P(xt,Ct+1,Wt)}if(vt===N)break;var Zt=w(ft);if(Math.abs(Zt)<z)break;for(var oe=0,ue,Ee;oe<$t;++oe)ue=ft[oe]/(6*Zt),it[oe]=ue>=1?z:(Ee=1-ue*ue)*Ee}return T(xt,ut,Ht,Qt)}return at.bandwidth=function(pt){return arguments.length?(q=pt,at):q},at.x=function(pt){return arguments.length?(Y=pt,at):Y},at.y=function(pt){return arguments.length?($=pt,at):$},at}function B(Y){return(Y=1-Y*Y*Y)*Y*Y}function P(Y,$,q){var at=Y[$],pt=q[0],mt=q[1]+1;if(!(mt>=Y.length))for(;$>pt&&Y[mt]-at<=at-Y[pt];)q[0]=++pt,q[1]=mt,++mt}function T(Y,$,q,at){for(var pt=Y.length,mt=[],ot=0,xt=0,It=[],Ht;ot<pt;++ot)Ht=Y[ot]+q,It[0]===Ht?It[1]+=($[ot]-It[1])/++xt:(xt=0,It[1]+=at,It=[Ht,$[ot]],mt.push(It));return It[1]+=at,mt}function W(){var Y=function(ot){return ot[0]},$=function(ot){return ot[1]},q=Math.E,at;function pt(mt){var ot=0,xt=0,It=0,Ht=0,Qt=0,$t=at?+at[0]:Infinity,yt=at?+at[1]:-Infinity,ut=Math.log(q);A(mt,Y,$,function(X,dt){var H=Math.log(X)/ut;++ot,xt+=(H-xt)/ot,It+=(dt-It)/ot,Ht+=(H*dt-Ht)/ot,Qt+=(H*H-Qt)/ot,at||(X<$t&&($t=X),X>yt&&(yt=X))});var ft=D(xt,It,Ht,Qt),it=i(ft,2),vt=it[0],Wt=it[1],Ct=function(dt){return Wt*Math.log(dt)/ut+vt},Z=C($t,yt,Ct);return Z.a=Wt,Z.b=vt,Z.predict=Ct,Z.rSquared=M(mt,Y,$,It,Ct),Z}return pt.domain=function(mt){return arguments.length?(at=mt,pt):at},pt.x=function(mt){return arguments.length?(Y=mt,pt):Y},pt.y=function(mt){return arguments.length?($=mt,pt):$},pt.base=function(mt){return arguments.length?(q=mt,pt):q},pt}function Q(){var Y=function(mt){return mt[0]},$=function(mt){return mt[1]},q;function at(pt){var mt=S(pt,Y,$),ot=i(mt,4),xt=ot[0],It=ot[1],Ht=ot[2],Qt=ot[3],$t=xt.length,yt=0,ut=0,ft=0,it=0,vt=0,Wt,Ct,Z,X;for(Wt=0;Wt<$t;)Ct=xt[Wt],Z=It[Wt++],X=Ct*Ct,yt+=(X-yt)/Wt,ut+=(X*Ct-ut)/Wt,ft+=(X*X-ft)/Wt,it+=(Ct*Z-it)/Wt,vt+=(X*Z-vt)/Wt;var dt=0,H=0,lt=q?+q[0]:Infinity,Ot=q?+q[1]:-Infinity;A(pt,Y,$,function(Tt,ct){H++,dt+=(ct-dt)/H,q||(Tt<lt&&(lt=Tt),Tt>Ot&&(Ot=Tt))});var Rt=ft-yt*yt,zt=yt*Rt-ut*ut,Bt=(vt*yt-it*ut)/zt,tt=(it*Rt-vt*ut)/zt,J=-Bt*yt,G=function(ct){return ct=ct-Ht,Bt*ct*ct+tt*ct+J+Qt},Et=C(lt,Ot,G);return Et.a=Bt,Et.b=tt-2*Bt*Ht,Et.c=J-tt*Ht+Bt*Ht*Ht+Qt,Et.predict=G,Et.rSquared=M(pt,Y,$,dt,G),Et}return at.domain=function(pt){return arguments.length?(q=pt,at):q},at.x=function(pt){return arguments.length?(Y=pt,at):Y},at.y=function(pt){return arguments.length?($=pt,at):$},at}function nt(){var Y=function(ot){return ot[0]},$=function(ot){return ot[1]},q=3,at;function pt(mt){if(q===1){var ot=y().x(Y).y($).domain(at)(mt);return ot.coefficients=[ot.b,ot.a],delete ot.a,delete ot.b,ot}if(q===2){var xt=Q().x(Y).y($).domain(at)(mt);return xt.coefficients=[xt.c,xt.b,xt.a],delete xt.a,delete xt.b,delete xt.c,xt}var It=S(mt,Y,$),Ht=i(It,4),Qt=Ht[0],$t=Ht[1],yt=Ht[2],ut=Ht[3],ft=Qt.length,it=[],vt=[],Wt=q+1,Ct=0,Z=0,X=at?+at[0]:Infinity,dt=at?+at[1]:-Infinity;A(mt,Y,$,function(G,Et){++Z,Ct+=(Et-Ct)/Z,at||(G<X&&(X=G),G>dt&&(dt=G))});var H,lt,Ot,Rt,zt;for(H=0;H<Wt;++H){for(Ot=0,Rt=0;Ot<ft;++Ot)Rt+=Math.pow(Qt[Ot],H)*$t[Ot];for(it.push(Rt),zt=new Float64Array(Wt),lt=0;lt<Wt;++lt){for(Ot=0,Rt=0;Ot<ft;++Ot)Rt+=Math.pow(Qt[Ot],H+lt);zt[lt]=Rt}vt.push(zt)}vt.push(it);var Bt=et(vt),tt=function(Et){Et-=yt;var Tt=ut+Bt[0]+Bt[1]*Et+Bt[2]*Et*Et;for(H=3;H<Wt;++H)Tt+=Bt[H]*Math.pow(Et,H);return Tt},J=C(X,dt,tt);return J.coefficients=st(Wt,Bt,-yt,ut),J.predict=tt,J.rSquared=M(mt,Y,$,Ct,tt),J}return pt.domain=function(mt){return arguments.length?(at=mt,pt):at},pt.x=function(mt){return arguments.length?(Y=mt,pt):Y},pt.y=function(mt){return arguments.length?($=mt,pt):$},pt.order=function(mt){return arguments.length?(q=mt,pt):q},pt}function st(Y,$,q,at){var pt=Array(Y),mt,ot,xt,It;for(mt=0;mt<Y;++mt)pt[mt]=0;for(mt=Y-1;mt>=0;--mt)for(xt=$[mt],It=1,pt[mt]+=xt,ot=1;ot<=mt;++ot)It*=(mt+1-ot)/ot,pt[mt-ot]+=xt*Math.pow(q,ot)*It;return pt[0]+=at,pt}function et(Y){var $=Y.length-1,q=[],at,pt,mt,ot,xt;for(at=0;at<$;++at){for(ot=at,pt=at+1;pt<$;++pt)Math.abs(Y[at][pt])>Math.abs(Y[at][ot])&&(ot=pt);for(mt=at;mt<$+1;++mt)xt=Y[mt][at],Y[mt][at]=Y[mt][ot],Y[mt][ot]=xt;for(pt=at+1;pt<$;++pt)for(mt=$;mt>=at;mt--)Y[mt][pt]-=Y[mt][at]*Y[at][pt]/Y[at][at]}for(pt=$-1;pt>=0;--pt){for(xt=0,mt=pt+1;mt<$;++mt)xt+=Y[mt][pt]*q[mt];q[pt]=(Y[$][pt]-xt)/Y[pt][pt]}return q}function _(){var Y=function(mt){return mt[0]},$=function(mt){return mt[1]},q;function at(pt){var mt=0,ot=0,xt=0,It=0,Ht=0,Qt=0,$t=q?+q[0]:Infinity,yt=q?+q[1]:-Infinity;A(pt,Y,$,function(Z,X){var dt=Math.log(Z),H=Math.log(X);++mt,ot+=(dt-ot)/mt,xt+=(H-xt)/mt,It+=(dt*H-It)/mt,Ht+=(dt*dt-Ht)/mt,Qt+=(X-Qt)/mt,q||(Z<$t&&($t=Z),Z>yt&&(yt=Z))});var ut=D(ot,xt,It,Ht),ft=i(ut,2),it=ft[0],vt=ft[1];it=Math.exp(it);var Wt=function(X){return it*Math.pow(X,vt)},Ct=C($t,yt,Wt);return Ct.a=it,Ct.b=vt,Ct.predict=Wt,Ct.rSquared=M(pt,Y,$,Qt,Wt),Ct}return at.domain=function(pt){return arguments.length?(q=pt,at):q},at.x=function(pt){return arguments.length?(Y=pt,at):Y},at.y=function(pt){return arguments.length?($=pt,at):$},at}f.regressionExp=R,f.regressionLinear=y,f.regressionLoess=V,f.regressionLog=W,f.regressionPoly=nt,f.regressionPow=_,f.regressionQuad=Q,Object.defineProperty(f,"__esModule",{value:!0})})},Twb9:function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0],E=i[1];return f[0]=g[0]*p+g[3]*E+g[6],f[1]=g[1]*p+g[4]*E+g[7],f}},Txda:function(Ft,I,a){var f=a("3y7U");Ft.exports=i;function i(g,p){return f(g,p,"post")}},"U+yc":function(Ft,I){function a(f,i,g,p,E){var S={};return Object.keys(p).forEach(function(A){S[A]=p[A]}),S.enumerable=!!S.enumerable,S.configurable=!!S.configurable,("value"in S||S.initializer)&&(S.writable=!0),S=g.slice().reverse().reduce(function(A,M){return M(f,i,A)||A},S),E&&S.initializer!==void 0&&(S.value=S.initializer?S.initializer.call(E):void 0,S.initializer=void 0),S.initializer===void 0&&(Object.defineProperty(f,i,S),S=null),S}Ft.exports=a,Ft.exports.default=Ft.exports,Ft.exports.__esModule=!0},U49A:function(Ft,I,a){"use strict";a.d(I,"b",function(){return D}),a.d(I,"a",function(){return y});var f=a("mrSG"),i=a("iTfj"),g=a("w02o"),p=a("tKoa"),E=a("n/J0"),S=a("YuPD"),A=a("w+x+"),M=a("9B5s");function x(w){var N=w.chart,z=w.options,V=z.percent,B=z.range,P=z.radius,T=z.innerRadius,W=z.startAngle,Q=z.endAngle,nt=z.axis,st=z.indicator,et=z.gaugeStyle,_=B.color,Y=B.width;if(st){var $=Object(M.a)(V),q=N.createView({id:A.c});q.data($),q.point().position(A.e+"*1").shape("gauge-indicator").customInfo({defaultColor:N.getTheme().defaultColor,indicator:st}),q.coordinate("polar",{startAngle:W,endAngle:Q,radius:T*P}),q.axis(A.e,nt),q.scale(A.e,Object(S.p)(nt,E.a))}var at=Object(M.b)(V,z.range),pt=N.createView({id:A.h});pt.data(at);var mt=Object(i.O)(_)?[_,A.a]:_;return Object(p.c)({chart:pt,options:{xField:"1",yField:A.g,seriesField:A.f,rawFields:[A.e],isStack:!0,interval:{color:mt,style:et},args:{zIndexReversed:!0},minColumnWidth:Y,maxColumnWidth:Y}}),pt.coordinate("polar",{innerRadius:T,radius:P,startAngle:W,endAngle:Q}).transpose(),w}function O(w){var N,z=w.chart,V=w.options,B=V.type,P=V.meter;if(B==="meter"){var T=V.innerRadius,W=V.radius,Q=V.startAngle,nt=V.endAngle,st=V.range,et=st==null?void 0:st.width,_=st==null?void 0:st.width,Y=z.getTheme().background,$=Y;(!$||$==="transparent")&&($="#fff");var q=z.createView({id:A.d});q.data([(N={},N[A.f]="1",N[A.g]=1,N)]);var at={meter:P};q.interval({minColumnWidth:et,maxColumnWidth:_}).position("1*"+A.g).color($).adjust("stack").shape("meter-gauge").customInfo(at),q.coordinate("polar",{innerRadius:T,radius:W,startAngle:Q,endAngle:nt}).transpose()}return w}function C(w){var N;return Object(S.e)(Object(g.f)((N={range:{min:0,max:1,maxLimit:1,minLimit:0}},N[A.e]={},N)))(w)}function D(w,N){var z=w.chart,V=w.options,B=V.statistic,P=V.percent;if(z.getController("annotation").clear(!0),B){var T=B.content,W=void 0;T&&(W=Object(S.b)({},{formatter:function(nt){var st=nt.percent;return(st*100).toFixed(2)+"%"},style:{opacity:.75,fontSize:"30px",lineHeight:1,textAlign:"center",color:"rgba(44,53,66,0.85)"}},T)),Object(S.r)(z,{statistic:Object(f.a)(Object(f.a)({},B),{content:W})},{percent:P})}return N&&z.render(!0),w}function R(w){var N=w.chart;return N.legend(!1),N.tooltip(!1),w}function y(w){return Object(S.e)(g.j,g.a,x,C,D,g.c,O,Object(g.b)(),R)(w)}},U6MU:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("iTfj"),g=a("6JdA"),p=a("8Ek7"),E=a("uwyu"),S=a("IlFV"),A=g.a.transform,M="matrix",x=["zIndex","capture","visible","type"],O=["repeat"],C=":",D="*";function R(V){for(var B=[],P=0;P<V.length;P++)Object(i.B)(V[P])?B.push([].concat(V[P])):B.push(V[P]);return B}function y(V,B){var P={},T=B.attrs;for(var W in V)P[W]=T[W];return P}function w(V,B){var P={},T=B.attr();return Object(i.j)(V,function(W,Q){O.indexOf(Q)===-1&&!Object(i.G)(T[Q],W)&&(P[Q]=W)}),P}function N(V,B){if(B.onFrame)return V;var P=B.startTime,T=B.delay,W=B.duration,Q=Object.prototype.hasOwnProperty;return Object(i.j)(V,function(nt){P+T<nt.startTime+nt.delay+nt.duration&&W>nt.delay&&Object(i.j)(B.toAttrs,function(st,et){Q.call(nt.toAttrs,et)&&(delete nt.toAttrs[et],delete nt.fromAttrs[et])})}),V}var z=function(V){Object(f.c)(B,V);function B(P){var T=V.call(this,P)||this;T.attrs={};var W=T.getDefaultAttrs();return Object(i.bb)(W,P.attrs),T.attrs=W,T.initAttrs(W),T.initAnimate(),T}return B.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},B.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},B.prototype.onCanvasChange=function(P){},B.prototype.initAttrs=function(P){},B.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},B.prototype.isGroup=function(){return!1},B.prototype.getParent=function(){return this.get("parent")},B.prototype.getCanvas=function(){return this.get("canvas")},B.prototype.attr=function(){for(var P,T=[],W=0;W<arguments.length;W++)T[W]=arguments[W];var Q=T[0],nt=T[1];if(!Q)return this.attrs;if(Object(i.M)(Q)){for(var st in Q)this.setAttr(st,Q[st]);return this.afterAttrsChange(Q),this}return T.length===2?(this.setAttr(Q,nt),this.afterAttrsChange((P={},P[Q]=nt,P)),this):this.attrs[Q]},B.prototype.isClipped=function(P,T){var W=this.getClip();return W&&!W.isHit(P,T)},B.prototype.setAttr=function(P,T){var W=this.attrs[P];W!==T&&(this.attrs[P]=T,this.onAttrChange(P,T,W))},B.prototype.onAttrChange=function(P,T,W){P==="matrix"&&this.set("totalMatrix",null)},B.prototype.afterAttrsChange=function(P){if(this.cfg.isClipShape){var T=this.cfg.applyTo;T&&T.onCanvasChange("clip")}else this.onCanvasChange("attr")},B.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},B.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},B.prototype.setZIndex=function(P){this.set("zIndex",P);var T=this.getParent();return T&&T.sort(),this},B.prototype.toFront=function(){var P=this.getParent();if(!!P){var T=P.getChildren(),W=this.get("el"),Q=T.indexOf(this);T.splice(Q,1),T.push(this),this.onCanvasChange("zIndex")}},B.prototype.toBack=function(){var P=this.getParent();if(!!P){var T=P.getChildren(),W=this.get("el"),Q=T.indexOf(this);T.splice(Q,1),T.unshift(this),this.onCanvasChange("zIndex")}},B.prototype.remove=function(P){P===void 0&&(P=!0);var T=this.getParent();T?(Object(p.j)(T.getChildren(),this),T.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),P&&this.destroy()},B.prototype.resetMatrix=function(){this.attr(M,this.getDefaultMatrix()),this.onCanvasChange("matrix")},B.prototype.getMatrix=function(){return this.attr(M)},B.prototype.setMatrix=function(P){this.attr(M,P),this.onCanvasChange("matrix")},B.prototype.getTotalMatrix=function(){var P=this.cfg.totalMatrix;if(!P){var T=this.attr("matrix"),W=this.cfg.parentMatrix;W&&T?P=Object(E.b)(W,T):P=T||W,this.set("totalMatrix",P)}return P},B.prototype.applyMatrix=function(P){var T=this.attr("matrix"),W=null;P&&T?W=Object(E.b)(P,T):W=T||P,this.set("totalMatrix",W),this.set("parentMatrix",P)},B.prototype.getDefaultMatrix=function(){return null},B.prototype.applyToMatrix=function(P){var T=this.attr("matrix");return T?Object(E.c)(T,P):P},B.prototype.invertFromMatrix=function(P){var T=this.attr("matrix");if(T){var W=Object(E.a)(T);if(W)return Object(E.c)(W,P)}return P},B.prototype.setClip=function(P){var T=this.getCanvas(),W=null;if(P){var Q=this.getShapeBase(),nt=Object(i.tb)(P.type),st=Q[nt];st&&(W=new st({type:P.type,isClipShape:!0,applyTo:this,attrs:P.attrs,canvas:T}))}return this.set("clipShape",W),this.onCanvasChange("clip"),W},B.prototype.getClip=function(){var P=this.cfg.clipShape;return P||null},B.prototype.clone=function(){var P=this,T=this.attrs,W={};Object(i.j)(T,function(st,et){Object(i.B)(T[et])?W[et]=R(T[et]):W[et]=T[et]});var Q=this.constructor,nt=new Q({attrs:W});return Object(i.j)(x,function(st){nt.set(st,P.get(st))}),nt},B.prototype.destroy=function(){var P=this.destroyed;P||(this.attrs={},V.prototype.destroy.call(this))},B.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},B.prototype.animate=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var W=this.get("timeline");W||(W=this.get("canvas").get("timeline"),this.set("timeline",W));var Q=this.get("animations")||[];W.timer||W.initTimer();var nt=P[0],st=P[1],et=P[2],_=et===void 0?"easeLinear":et,Y=P[3],$=Y===void 0?i.db:Y,q=P[4],at=q===void 0?0:q,pt,mt,ot,xt,It;Object(i.H)(nt)?(pt=nt,nt={}):Object(i.M)(nt)&&nt.onFrame&&(pt=nt.onFrame,mt=nt.repeat),Object(i.M)(st)?(It=st,st=It.duration,_=It.easing||"easeLinear",at=It.delay||0,mt=It.repeat||mt||!1,$=It.callback||i.db,ot=It.pauseCallback||i.db,xt=It.resumeCallback||i.db):(Object(i.K)($)&&(at=$,$=null),Object(i.H)(_)?($=_,_="easeLinear"):_=_||"easeLinear");var Ht=w(nt,this),Qt={fromAttrs:y(Ht,this),toAttrs:Ht,duration:st,easing:_,repeat:mt,callback:$,pauseCallback:ot,resumeCallback:xt,delay:at,startTime:W.getTime(),id:Object(i.sb)(),onFrame:pt,pathFormatted:!1};Q.length>0?Q=N(Q,Qt):W.addAnimator(this),Q.push(Qt),this.set("animations",Q),this.set("_pause",{isPaused:!1})}},B.prototype.stopAnimate=function(P){var T=this;P===void 0&&(P=!0);var W=this.get("animations");Object(i.j)(W,function(Q){P&&(Q.onFrame?T.attr(Q.onFrame(1)):T.attr(Q.toAttrs)),Q.callback&&Q.callback()}),this.set("animating",!1),this.set("animations",[])},B.prototype.pauseAnimate=function(){var P=this.get("timeline"),T=this.get("animations"),W=P.getTime();return Object(i.j)(T,function(Q){Q._paused=!0,Q._pauseTime=W,Q.pauseCallback&&Q.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:W}),this},B.prototype.resumeAnimate=function(){var P=this.get("timeline"),T=P.getTime(),W=this.get("animations"),Q=this.get("_pause").pauseTime;return Object(i.j)(W,function(nt){nt.startTime=nt.startTime+(T-Q),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",W),this},B.prototype.emitDelegation=function(P,T){var W=this,Q=T.propagationPath,nt=this.getEvents(),st;P==="mouseenter"?st=T.fromShape:P==="mouseleave"&&(st=T.toShape);for(var et=function(at){var pt=Q[at],mt=pt.get("name");if(mt){if((pt.isGroup()||pt.isCanvas&&pt.isCanvas())&&st&&Object(p.g)(pt,st))return"break";Object(i.B)(mt)?Object(i.j)(mt,function(ot){W.emitDelegateEvent(pt,ot,T)}):_.emitDelegateEvent(pt,mt,T)}},_=this,Y=0;Y<Q.length;Y++){var $=et(Y);if($==="break")break}},B.prototype.emitDelegateEvent=function(P,T,W){var Q=this.getEvents(),nt=T+C+W.type;(Q[nt]||Q[D])&&(W.name=nt,W.currentTarget=P,W.delegateTarget=this,W.delegateObject=P.get("delegateObject"),this.emit(nt,W))},B.prototype.translate=function(P,T){P===void 0&&(P=0),T===void 0&&(T=0);var W=this.getMatrix(),Q=A(W,[["t",P,T]]);return this.setMatrix(Q),this},B.prototype.move=function(P,T){var W=this.attr("x")||0,Q=this.attr("y")||0;return this.translate(P-W,T-Q),this},B.prototype.moveTo=function(P,T){return this.move(P,T)},B.prototype.scale=function(P,T){var W=this.getMatrix(),Q=A(W,[["s",P,T||P]]);return this.setMatrix(Q),this},B.prototype.rotate=function(P){var T=this.getMatrix(),W=A(T,[["r",P]]);return this.setMatrix(W),this},B.prototype.rotateAtStart=function(P){var T=this.attr(),W=T.x,Q=T.y,nt=this.getMatrix(),st=A(nt,[["t",-W,-Q],["r",P],["t",W,Q]]);return this.setMatrix(st),this},B.prototype.rotateAtPoint=function(P,T,W){var Q=this.getMatrix(),nt=A(Q,[["t",-P,-T],["r",W],["t",P,T]]);return this.setMatrix(nt),this},B}(S.a);I.a=z},U8jP:function(Ft,I,a){"use strict";a.r(I),a.d(I,"version",function(){return A});var f=a("R5nb");a.d(I,"Shape",function(){return f});var i=a("aFU3");for(var g in i)["default","Canvas","Group","Shape","getArcParams","version"].indexOf(g)<0&&function(M){a.d(I,M,function(){return i[M]})}(g);var p=a("sYIZ");a.d(I,"Canvas",function(){return p.a});var E=a("wq2r");a.d(I,"Group",function(){return E.a});var S=a("nCnq");a.d(I,"getArcParams",function(){return S.a});var A="0.5.10"},UMpK:function(Ft,I,a){var f=a("gFfm"),i=a("dTAl"),g=a("JC6p"),p=a("ut/Y"),E=a("LcsW"),S=a("Z0cm"),A=a("DSRE"),M=a("lSCD"),x=a("GoyQ"),O=a("c6wG");function C(D,R,y){var w=S(D),N=w||A(D)||O(D);if(R=p(R,4),y==null){var z=D&&D.constructor;N?y=w?new z:[]:x(D)?y=M(z)?i(E(D)):{}:y={}}return(N?f:g)(D,function(V,B,P){return R(y,V,B,P)}),y}Ft.exports=C},Ucsi:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0});var f=Symbol.for("INJECTION");function i(A,M,x,O){function C(){return O&&!Reflect.hasMetadata(f,this,M)&&Reflect.defineMetadata(f,x(),this,M),Reflect.hasMetadata(f,this,M)?Reflect.getMetadata(f,this,M):x()}function D(R){Reflect.defineMetadata(f,R,this,M)}Object.defineProperty(A,M,{configurable:!0,enumerable:!0,get:C,set:D})}function g(A,M){return function(x){return function(O,C){var D=function(){return A.get(x)};i(O,C,D,M)}}}I.makePropertyInjectDecorator=g;function p(A,M){return function(x,O){return function(C,D){var R=function(){return A.getNamed(x,O)};i(C,D,R,M)}}}I.makePropertyInjectNamedDecorator=p;function E(A,M){return function(x,O,C){return function(D,R){var y=function(){return A.getTagged(x,O,C)};i(D,R,y,M)}}}I.makePropertyInjectTaggedDecorator=E;function S(A,M){return function(x){return function(O,C){var D=function(){return A.getAll(x)};i(O,C,D,M)}}}I.makePropertyMultiInjectDecorator=S},Ud7J:function(Ft,I,a){"use strict";a.d(I,"b",function(){return f}),I.a=function(i,g){g||(g=[]);var p=i?Math.min(g.length,i.length):0,E=g.slice(),S;return function(A){for(S=0;S<p;++S)E[S]=i[S]*(1-A)+g[S]*A;return E}};function f(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}},UfWW:function(Ft,I,a){var f=a("KwMD"),i=a("ut/Y"),g=a("Sxd8"),p=Math.max;function E(S,A,M){var x=S==null?0:S.length;if(!x)return-1;var O=M==null?0:g(M);return O<0&&(O=p(x+O,0)),f(S,i(A,3),O)}Ft.exports=E},Uo7R:function(Ft,I,a){"use strict";a.d(I,"a",function(){return $});var f=a("mrSG"),i=a("zJSt"),g=a("w02o"),p=a("YuPD"),E=a("tKoa"),S=a("iTfj"),A={y:0,nodeWidthRatio:.05,weight:!1,nodePaddingRatio:.1,id:function(at){return at.id},source:function(at){return at.source},target:function(at){return at.target},sourceWeight:function(at){return at.value||1},targetWeight:function(at){return at.value||1},sortBy:null};function M(q,at,pt){Object(S.r)(q,function(mt,ot){mt.inEdges=at.filter(function(xt){return""+pt.target(xt)==""+ot}),mt.outEdges=at.filter(function(xt){return""+pt.source(xt)==""+ot}),mt.edges=mt.outEdges.concat(mt.inEdges),mt.frequency=mt.edges.length,mt.value=0,mt.inEdges.forEach(function(xt){mt.value+=pt.targetWeight(xt)}),mt.outEdges.forEach(function(xt){mt.value+=pt.sourceWeight(xt)})})}function x(q,at){var pt={weight:function(xt,It){return It.value-xt.value},frequency:function(xt,It){return It.frequency-xt.frequency},id:function(xt,It){return(""+at.id(xt)).localeCompare(""+at.id(It))}},mt=pt[at.sortBy];!mt&&Object(S.H)(at.sortBy)&&(mt=at.sortBy),mt&&q.sort(mt)}function O(q,at){var pt=q.length;if(!pt)throw new TypeError("Invalid nodes: it's empty!");if(at.weight){var mt=at.nodePaddingRatio;if(mt<0||mt>=1)throw new TypeError("Invalid nodePaddingRatio: it must be in range [0, 1)!");var ot=mt/(2*pt),xt=at.nodeWidthRatio;if(xt<=0||xt>=1)throw new TypeError("Invalid nodeWidthRatio: it must be in range (0, 1)!");var It=0;q.forEach(function(Qt){It+=Qt.value}),q.forEach(function(Qt){Qt.weight=Qt.value/It,Qt.width=Qt.weight*(1-mt),Qt.height=xt}),q.forEach(function(Qt,$t){for(var yt=0,ut=$t-1;ut>=0;ut--)yt+=q[ut].width+2*ot;var ft=Qt.minX=ot+yt,it=Qt.maxX=Qt.minX+Qt.width,vt=Qt.minY=at.y-xt/2,Wt=Qt.maxY=vt+xt;Qt.x=[ft,it,it,ft],Qt.y=[vt,vt,Wt,Wt]})}else{var Ht=1/pt;q.forEach(function(Qt,$t){Qt.x=($t+.5)*Ht,Qt.y=at.y})}return q}function C(q,at,pt){if(pt.weight){var mt={};Object(S.r)(q,function(ot,xt){mt[xt]=ot.value}),at.forEach(function(ot){var xt=pt.source(ot),It=pt.target(ot),Ht=q[xt],Qt=q[It];if(Ht&&Qt){var $t=mt[xt],yt=pt.sourceWeight(ot),ut=Ht.minX+(Ht.value-$t)/Ht.value*Ht.width,ft=ut+yt/Ht.value*Ht.width;mt[xt]-=yt;var it=mt[It],vt=pt.targetWeight(ot),Wt=Qt.minX+(Qt.value-it)/Qt.value*Qt.width,Ct=Wt+vt/Qt.value*Qt.width;mt[It]-=vt;var Z=pt.y;ot.x=[ut,ft,Wt,Ct],ot.y=[Z,Z,Z,Z],ot.source=Ht,ot.target=Qt}})}else at.forEach(function(ot){var xt=q[pt.source(ot)],It=q[pt.target(ot)];xt&&It&&(ot.x=[xt.x,It.x],ot.y=[xt.y,It.y],ot.source=xt,ot.target=It)});return at}function D(q){return Object(S.b)({},A,q)}function R(q,at){var pt=D(q),mt={},ot=at.nodes,xt=at.links;ot.forEach(function(Qt){var $t=pt.id(Qt);mt[$t]=Qt}),M(mt,xt,pt),x(ot,pt);var It=O(ot,pt),Ht=C(mt,xt,pt);return{nodes:It,links:Ht}}var y=a("DyAw"),w="x",N="y",z="name",V="source",B={nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.5,lineWidth:2},label:{fields:["x","name"],callback:function(at,pt){var mt=(at[0]+at[1])/2,ot=mt>.5?-4:4;return{labelEmit:!0,style:{fill:"#8c8c8c"},offsetX:ot,content:pt}}},tooltip:{fields:["source","target","value"],formatter:function(at){var pt=at.source,mt=at.target,ot=at.value;return{name:pt+" -> "+mt,value:ot}}},interactions:[{type:"element-active"}],weight:!0,nodePaddingRatio:.1,nodeWidthRatio:.05};function P(q){var at=q.options,pt=at.data,mt=at.sourceField,ot=at.targetField,xt=at.weightField,It=at.nodePaddingRatio,Ht=at.nodeWidthRatio,Qt=Object(y.c)(pt,mt,ot,xt),$t=R({weight:!0,nodePaddingRatio:It,nodeWidthRatio:Ht},Qt),yt=$t.nodes,ut=$t.links,ft=yt.map(function(vt){return{id:vt.id,x:vt.x,y:vt.y,name:vt.name}}),it=ut.map(function(vt){return{source:vt.source.name,target:vt.target.name,x:vt.x,y:vt.y,value:vt.value}});return Object(f.a)(Object(f.a)({},q),{ext:Object(f.a)(Object(f.a)({},q.ext),{chordData:{nodesData:ft,edgesData:it}})})}function T(q){var at,pt=q.chart;return pt.scale((at={x:{sync:!0,nice:!0},y:{sync:!0,nice:!0,max:1}},at[z]={sync:"color"},at[V]={sync:"color"},at)),q}function W(q){var at=q.chart;return at.axis(!1),q}function Q(q){var at=q.chart;return at.legend(!1),q}function nt(q){var at=q.chart;return at.tooltip({showTitle:!1,showMarkers:!1}),q}function st(q){var at=q.chart;return at.coordinate("polar").reflect("y"),q}function et(q){var at=q.chart,pt=q.options,mt=q.ext.chordData.nodesData,ot=pt.nodeStyle,xt=pt.label,It=at.createView();return It.data(mt),Object(E.f)({chart:It,options:{xField:w,yField:N,seriesField:z,polygon:{style:ot},label:xt,tooltip:!1}}),q}function _(q){var at=q.chart,pt=q.options,mt=q.ext.chordData.edgesData,ot=pt.edgeStyle,xt=pt.tooltip,It=at.createView();It.data(mt);var Ht={xField:w,yField:N,seriesField:V,edge:{style:ot,shape:"arc"},tooltip:xt};return Object(E.b)({chart:It,options:Ht}),q}function Y(q){return Object(p.e)(P,st,T,W,Q,nt,_,et,g.c,g.a,g.j)(q)}var $=function(q){Object(f.c)(at,q);function at(){var pt=q!==null&&q.apply(this,arguments)||this;return pt.type="chord",pt}return at.getDefaultOptions=function(){return B},at.prototype.getDefaultOptions=function(){return at.getDefaultOptions()},at.prototype.getSchemaAdaptor=function(){return Y},at}(i.b)},"V/xP":function(Ft,I,a){"use strict";var f;(function(i){i.Normal="normal",i.PostProcessing="post-processing"})(f||(f={}))},V9xz:function(Ft,I){function a(f,i){return f>i}Ft.exports=a},VJLA:function(Ft,I,a){var f=a("MrPd"),i=a("1w02");function g(p,E){return i(p||[],E||[],f)}Ft.exports=g},VOtZ:function(Ft,I,a){var f=a("juv8"),i=a("MvSz");function g(p,E){return f(p,i(p),E)}Ft.exports=g},WOQw:function(Ft,I,a){"use strict";a.d(I,"b",function(){return E}),a.d(I,"a",function(){return S});var f=a("mrSG"),i=a("iTfj"),g=a("YuPD");function p(A,M){var x=A.xField,O=A.yField,C=A.colorField,D=A.shapeField,R=A.sizeField,y=A.styleField,w=A.rawFields,N=w===void 0?[]:w,z=[];if(M==="color")z=Object(f.g)([C||x],N);else if(M==="shape")z=Object(f.g)([D||x],N);else if(M==="size")z=Object(f.g)([R||x],N);else{z=Object(f.g)([x,O,C,D,R,y],N);var V=["x","y","color","shape","size","style"].indexOf(M),B=z[V];z.splice(V,1),z.unshift(B)}return Object(i.rb)(z.filter(function(P){return!!P}))}function E(A,M){if(!!M)return function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];var C={};return A.forEach(function(D,R){C[D]=x[R]}),delete C.undefined,M(C)}}function S(A){var M=A.chart,x=A.options,O=x.type,C=x.args,D=x.mapping,R=x.xField,y=x.yField,w=x.colorField,N=x.shapeField,z=x.sizeField,V=x.tooltipFields,B=x.label,P=x.state;if(!D)return A;var T=D.color,W=D.shape,Q=D.size,nt=D.style,st=D.tooltip,et=M[O](C).position(R+"*"+y);if(Object(i.O)(T))w?et.color(w,T):et.color(T);else if(Object(i.H)(T)){var _=p(x,"color");et.color(_.join("*"),E(_,T))}else w&&et.color(w,T);if(Object(i.O)(W))N?et.shape(N,[W]):et.shape(W);else if(Object(i.H)(W)){var _=p(x,"shape");et.shape(_.join("*"),E(_,W))}else N&&et.shape(N,W);if(Object(i.K)(Q))z?et.size(z,Q):et.size(Q);else if(Object(i.H)(Q)){var _=p(x,"size");et.size(_.join("*"),E(_,Q))}else z&&et.size(z,Q);if(Object(i.H)(nt)){var _=p(x,"style");et.style(_.join("*"),E(_,nt))}else Object(i.M)(nt)&&et.style(nt);if(V===!1?et.tooltip(!1):Object(i.F)(V)||et.tooltip(V.join("*"),E(V,st)),B===!1)et.label(!1);else if(B){var Y=B.callback,$=B.fields,q=Object(f.e)(B,["callback","fields"]);et.label({fields:$||[y],callback:Y,cfg:Object(g.u)(q)})}return P&&et.state(P),[R,y].filter(function(at){return at!==w}).forEach(function(at){M.legend(at,!1)}),Object(f.a)(Object(f.a)({},A),{ext:{geometry:et}})}},WPeF:function(Ft,I){function a(f,i,g,p,E){return E(f,function(S,A,M){g=p?(p=!1,S):i(g,S,A,M)}),g}Ft.exports=a},WXeg:function(Ft,I){},WbAE:function(Ft,I){},WjpJ:function(Ft,I,a){var f=a("HLqC"),i=f();Ft.exports=i},WwFo:function(Ft,I,a){var f=a("juv8"),i=a("7GkX");function g(p,E){return p&&f(E,i(E),p)}Ft.exports=g},"X/+Q":function(Ft,I,a){"use strict";a.d(I,"a",function(){return p});var f=a("mrSG"),i=a("DMQx"),g=a("O5pF");a.d(I,"b",function(){return i.b});function p(E){var S=E.chart,A=E.options,M=A.xField,x=A.yField,O=A.xAxis,C=A.yAxis,D=A.barStyle,R=A.barWidthRatio,y=A.label,w=A.data,N=A.seriesField,z=A.isStack,V=A.minBarWidth,B=A.maxBarWidth;y&&!y.position&&(y.position="left",y.layout||(y.layout=[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"},{type:"limit-in-plot",cfg:{action:"hide"}}]));var P=A.legend;N?P!==!1&&(P=Object(f.a)({position:z?"top-left":"right-top",reversed:!z},P||{})):P=!1,E.options.legend=P;var T=A.tooltip;return N&&T!==!1&&(T=Object(f.a)({reversed:!z},T||{})),E.options.tooltip=T,S.coordinate().transpose(),Object(i.a)({chart:S,options:Object(f.a)(Object(f.a)({},A),{label:y,xField:x,yField:M,xAxis:C,yAxis:O,columnStyle:D,columnWidthRatio:R,minColumnWidth:V,maxColumnWidth:B,columnBackground:A.barBackground,data:Object(g.a)(w)})},!0)}},XGnz:function(Ft,I,a){var f=a("CH3K"),i=a("BiGR");function g(p,E,S,A,M){var x=-1,O=p.length;for(S||(S=i),M||(M=[]);++x<O;){var C=p[x];E>0&&S(C)?E>1?g(C,E-1,S,A,M):f(M,C):A||(M[M.length]=C)}return M}Ft.exports=g},XKAG:function(Ft,I,a){var f=a("ut/Y"),i=a("MMmD"),g=a("7GkX");function p(E){return function(S,A,M){var x=Object(S);if(!i(S)){var O=f(A,3);S=g(S),A=function(D){return O(x[D],D,x)}}var C=E(S,A,M);return C>-1?x[O?S[C]:C]:void 0}}Ft.exports=p},XYm9:function(Ft,I,a){var f=a("+K+b");function i(g,p){var E=p?f(g.buffer):g.buffer;return new g.constructor(E,g.byteOffset,g.byteLength)}Ft.exports=i},XiRp:function(Ft,I){},XkVO:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0});var f;(function($){$.TextureCompressionBC="texture-compression-bc"})(f=I.ExtensionName||(I.ExtensionName={}));var i;(function($){$.ClampToEdge="clamp-to-edge",$.Repeat="repeat",$.MirrorRepeat="mirror-repeat"})(i=I.AddressMode||(I.AddressMode={}));var g;(function($){$.UniformBuffer="uniform-buffer",$.StorageBuffer="storage-buffer",$.ReadonlyStorageBuffer="readonly-storage-buffer",$.Sampler="sampler",$.ComparisonSampler="comparison-sampler",$.SampledTexture="sampled-texture",$.ReadonlyStorageTexture="readonly-storage-texture",$.WriteonlyStorageTexture="writeonly-storage-texture"})(g=I.BindingType||(I.BindingType={}));var p;(function($){$.Zero="zero",$.One="one",$.SrcColor="src-color",$.OneMinusSrcColor="one-minus-src-color",$.SrcAlpha="src-alpha",$.OneMinusSrcAlpha="one-minus-src-alpha",$.DstColor="dst-color",$.OneMinusDstColor="one-minus-dst-color",$.DstAlpha="dst-alpha",$.OneMinusDstAlpha="one-minus-dst-alpha",$.SrcAlphaSaturated="src-alpha-saturated",$.BlendColor="blend-color",$.OneMinusBlendColor="one-minus-blend-color"})(p=I.BlendFactor||(I.BlendFactor={}));var E;(function($){$.Add="add",$.Subtract="subtract",$.ReverseSubtract="reverse-subtract",$.Min="min",$.Max="max"})(E=I.BlendOperation||(I.BlendOperation={}));var S;(function($){$.Never="never",$.Less="less",$.Equal="equal",$.LessEqual="less-equal",$.Greater="greater",$.NotEqual="not-equal",$.GreaterEqual="greater-equal",$.Always="always"})(S=I.CompareFunction||(I.CompareFunction={}));var A;(function($){$.None="none",$.Front="front",$.Back="back"})(A=I.CullMode||(I.CullMode={}));var M;(function($){$.Nearest="nearest",$.Linear="linear"})(M=I.FilterMode||(I.FilterMode={}));var x;(function($){$.CCW="ccw",$.CW="cw"})(x=I.FrontFace||(I.FrontFace={}));var O;(function($){$.Uint16="uint16",$.Uint32="uint32"})(O=I.IndexFormat||(I.IndexFormat={}));var C;(function($){$.Vertex="vertex",$.Instance="instance"})(C=I.InputStepMode||(I.InputStepMode={}));var D;(function($){$.Load="load"})(D=I.LoadOp||(I.LoadOp={}));var R;(function($){$.PointList="point-list",$.LineList="line-list",$.LineStrip="line-strip",$.TriangleList="triangle-list",$.TriangleStrip="triangle-strip"})(R=I.PrimitiveTopology||(I.PrimitiveTopology={}));var y;(function($){$.Keep="keep",$.Zero="zero",$.Replace="replace",$.Invert="invert",$.IncrementClamp="increment-clamp",$.DecrementClamp="decrement-clamp",$.IncrementWrap="increment-wrap",$.DecrementWrap="decrement-wrap"})(y=I.StencilOperation||(I.StencilOperation={}));var w;(function($){$.Store="store",$.Clear="clear"})(w=I.StoreOp||(I.StoreOp={}));var N;(function($){$.E1d="1d",$.E2d="2d",$.E3d="3d"})(N=I.TextureDimension||(I.TextureDimension={}));var z;(function($){$.R8Unorm="r8unorm",$.R8Snorm="r8snorm",$.R8Uint="r8uint",$.R8Sint="r8sint",$.R16Uint="r16uint",$.R16Sint="r16sint",$.R16Float="r16float",$.RG8Unorm="rg8unorm",$.RG8Snorm="rg8snorm",$.RG8Uint="rg8uint",$.RG8Sint="rg8sint",$.R32Uint="r32uint",$.R32Sint="r32sint",$.R32Float="r32float",$.RG16Uint="rg16uint",$.RG16Sint="rg16sint",$.RG16Float="rg16float",$.RGBA8Unorm="rgba8unorm",$.RGBA8UnormSRGB="rgba8unorm-srgb",$.RGBA8Snorm="rgba8snorm",$.RGBA8Uint="rgba8uint",$.RGBA8Sint="rgba8sint",$.BGRA8Unorm="bgra8unorm",$.BGRA8UnormSRGB="bgra8unorm-srgb",$.RGB10A2Unorm="rgb10a2unorm",$.RG11B10Float="rg11b10float",$.RG32Uint="rg32uint",$.RG32Sint="rg32sint",$.RG32Float="rg32float",$.RGBA16Uint="rgba16uint",$.RGBA16Sint="rgba16sint",$.RGBA16Float="rgba16float",$.RGBA32Uint="rgba32uint",$.RGBA32Sint="rgba32sint",$.RGBA32Float="rgba32float",$.Depth32Float="depth32float",$.Depth24Plus="depth24plus",$.Depth24PlusStencil8="depth24plus-stencil8"})(z=I.TextureFormat||(I.TextureFormat={}));var V;(function($){$.Float="float",$.Sint="sint",$.Uint="uint"})(V=I.TextureComponentType||(I.TextureComponentType={}));var B;(function($){$.E1d="1d",$.E2d="2d",$.E2dArray="2d-array",$.Cube="cube",$.CubeArray="cube-array",$.E3d="3d"})(B=I.TextureViewDimension||(I.TextureViewDimension={}));var P;(function($){$.Uchar2="uchar2",$.Uchar4="uchar4",$.Char2="char2",$.Char4="char4",$.Uchar2Norm="uchar2norm",$.Uchar4Norm="uchar4norm",$.Char2Norm="char2norm",$.Char4Norm="char4norm",$.Ushort2="ushort2",$.Ushort4="ushort4",$.Short2="short2",$.Short4="short4",$.Ushort2Norm="ushort2norm",$.Ushort4Norm="ushort4norm",$.Short2Norm="short2norm",$.Short4Norm="short4norm",$.Half2="half2",$.Half4="half4",$.Float="float",$.Float2="float2",$.Float3="float3",$.Float4="float4",$.Uint="uint",$.Uint2="uint2",$.Uint3="uint3",$.Uint4="uint4",$.Int="int",$.Int2="int2",$.Int3="int3",$.Int4="int4"})(P=I.VertexFormat||(I.VertexFormat={}));var T;(function($){$.All="all",$.StencilOnly="stencil-only",$.DepthOnly="depth-only"})(T=I.TextureAspect||(I.TextureAspect={}));var W;(function($){$.Error="error",$.Warning="warning",$.Info="info"})(W=I.CompilationMessageType||(I.CompilationMessageType={}));var Q;(function($){$.Occlusion="occlusion"})(Q=I.QueryType||(I.QueryType={}));var nt;(function($){$[$.MapRead=1]="MapRead",$[$.MapWrite=2]="MapWrite",$[$.CopySrc=4]="CopySrc",$[$.CopyDst=8]="CopyDst",$[$.Index=16]="Index",$[$.Vertex=32]="Vertex",$[$.Uniform=64]="Uniform",$[$.Storage=128]="Storage",$[$.Indirect=256]="Indirect",$[$.QueryResolve=512]="QueryResolve"})(nt=I.BufferUsage||(I.BufferUsage={}));var st;(function($){$[$.Red=1]="Red",$[$.Green=2]="Green",$[$.Blue=4]="Blue",$[$.Alpha=8]="Alpha",$[$.All=15]="All"})(st=I.ColorWrite||(I.ColorWrite={}));var et;(function($){$[$.Vertex=1]="Vertex",$[$.Fragment=2]="Fragment",$[$.Compute=4]="Compute"})(et=I.ShaderStage||(I.ShaderStage={}));var _;(function($){$[$.CopySrc=1]="CopySrc",$[$.CopyDst=2]="CopyDst",$[$.Sampled=4]="Sampled",$[$.Storage=8]="Storage",$[$.OutputAttachment=16]="OutputAttachment"})(_=I.TextureUsage||(I.TextureUsage={}));var Y;(function($){$[$.Read=1]="Read",$[$.Write=2]="Write"})(Y=I.MapMode||(I.MapMode={}))},XloR:function(Ft,I,a){"use strict";a.d(I,"a",function(){return x});var f=a("mrSG"),i=a("zJSt"),g=a("hJqF"),p=a("YuPD"),E=Object(p.b)({},i.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},legend:{position:"top-left"},isStack:!1}),S=a("kXyF"),A=a("iTfj"),M=function(O){Object(f.c)(C,O);function C(){return O!==null&&O.apply(this,arguments)||this}return C.prototype.active=function(){var D=this.getView(),R=this.context.event;if(R.data){var y=R.data.items,w=D.geometries.filter(function(N){return N.type==="point"});Object(A.j)(w,function(N){Object(A.j)(N.elements,function(z){var V=Object(A.n)(y,function(B){return B.data===z.data})!==-1;z.setState("active",V)})})}},C.prototype.getView=function(){return this.context.view},C}(S.InteractionAction);Object(S.registerAction)("marker-active",M),Object(S.registerInteraction)("marker-active",{start:[{trigger:"tooltip:show",action:"marker-active:active"}]});var x=function(O){Object(f.c)(C,O);function C(){var D=O!==null&&O.apply(this,arguments)||this;return D.type="line",D}return C.getDefaultOptions=function(){return E},C.prototype.changeData=function(D){this.updateOption({data:D});var R=this,y=R.chart,w=R.options;Object(g.d)({chart:y,options:w}),this.chart.changeData(D)},C.prototype.getDefaultOptions=function(){return C.getDefaultOptions()},C.prototype.getSchemaAdaptor=function(){return g.a},C}(i.b)},XpFM:function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("kXyF"),g=a("zJSt"),p=a("U49A"),E=a("w+x+"),S=a("9B5s");Object(i.registerShape)("point","gauge-indicator",{draw:function(x,O){var C=x.customInfo,D=C.indicator,R=C.defaultColor,y=D,w=y.pointer,N=y.pin,z=O.addGroup(),V=this.parsePoint({x:0,y:0});return w&&z.addShape("line",{name:"pointer",attrs:Object(f.a)({x1:V.x,y1:V.y,x2:x.x,y2:x.y,stroke:R},w.style)}),N&&z.addShape("circle",{name:"pin",attrs:Object(f.a)({x:V.x,y:V.y,stroke:R},N.style)}),z}}),Object(i.registerShape)("interval","meter-gauge",{draw:function(x,O){var C=x.customInfo.meter,D=C===void 0?{}:C,R=D.steps,y=R===void 0?50:R,w=D.stepRatio,N=w===void 0?.5:w,z=this.coordinate.endAngle-this.coordinate.startAngle,V=z/y,B=0;N>0&&N<=1&&(V=z/((1-N)/N*(y-1)+y),B=V*(1-N)/N);var P=O.addGroup();if(B>0)for(var T=this.coordinate.getCenter(),W=this.coordinate.getRadius(),Q=i.Util.getAngle(x,this.coordinate),nt=Q.startAngle,st=Q.endAngle,et=nt,_=0;et<st&&_<2*y-1;_++){var Y=_%2;if(Y){var $=i.Util.getSectorPath(T.x,T.y,W,et,Math.min(et+B,st),W*this.coordinate.innerRadius);P.addShape("path",{name:"meter-gauge-mask",attrs:{path:$,fill:x.color,stroke:x.color,lineWidth:.5},capture:!1})}et+=Y?B:V}return P}});var A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.type="gauge",O}return x.getDefaultOptions=function(){return E.b},x.prototype.changeData=function(O){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:O});var C=this.chart.views.find(function(R){return R.id===E.c});C&&C.data(Object(S.a)(O));var D=this.chart.views.find(function(R){return R.id===E.h});D&&D.data(Object(S.b)(O,this.options.range)),Object(p.b)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},x.prototype.getDefaultOptions=function(){return x.getDefaultOptions()},x.prototype.getSchemaAdaptor=function(){return p.a},x}(g.b)},"Xt/L":function(Ft,I){function a(f,i,g){for(var p=-1,E=f==null?0:f.length;++p<E;)if(g(i,f[p]))return!0;return!1}Ft.exports=a},"Y+LX":function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("mrSG"),i=a("zJSt"),g=a("sqD9"),p=a("X/+Q"),E=a("YuPD"),S=Object(E.b)({},i.b.getDefaultOptions(),{barWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),A=a("O5pF"),M=function(x){Object(f.c)(O,x);function O(){var C=x!==null&&x.apply(this,arguments)||this;return C.type="bar",C}return O.getDefaultOptions=function(){return S},O.prototype.changeData=function(C){this.updateOption({data:C});var D=this,R=D.chart,y=D.options,w=y.xField,N=y.yField,z=y.isPercent,V=Object(f.a)(Object(f.a)({},y),{xField:N,yField:w});Object(p.b)({chart:R,options:V}),R.changeData(Object(g.a)(Object(A.a)(C),w,N,w,z))},O.prototype.getDefaultOptions=function(){return O.getDefaultOptions()},O.prototype.getSchemaAdaptor=function(){return p.a},O}(i.b)},Y9hK:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(i))return Array.from(i)}},YO3V:function(Ft,I,a){var f=a("NykK"),i=a("LcsW"),g=a("ExA7"),p="[object Object]",E=Function.prototype,S=Object.prototype,A=E.toString,M=S.hasOwnProperty,x=A.call(Object);function O(C){if(!g(C)||f(C)!=p)return!1;var D=i(C);if(D===null)return!0;var R=M.call(D,"constructor")&&D.constructor;return typeof R=="function"&&R instanceof R&&A.call(R)==x}Ft.exports=O},YP77:function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("kXyF"),g=a("zJSt"),p=a("B3DA"),E=a("mI1Z"),S={percent:.2,innerRadius:.8,radius:.98,color:["#FAAD14","#E8EDF3"],statistic:{title:!1,content:{style:{fontSize:"14px",fontWeight:300,fill:"#4D4D4D",textAlign:"center",textBaseline:"middle"},formatter:function(x){var O=x.percent;return(O*100).toFixed(2)+"%"}}},animation:{}},A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.type="ring-process",O}return x.getDefaultOptions=function(){return S},x.prototype.changeData=function(O){this.chart.emit(i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA,null)),this.updateOption({percent:O}),this.chart.data(Object(p.a)(O)),Object(E.b)({chart:this.chart,options:this.options},!0),this.chart.emit(i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,i.Event.fromData(this.chart,i.VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA,null))},x.prototype.getDefaultOptions=function(){return x.getDefaultOptions()},x.prototype.getSchemaAdaptor=function(){return E.a},x}(g.b)},YS0J:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("iTfj"),g=a("U6MU"),p=a("8Ek7"),E={},S="_INDEX";function A(R,y){if(R.set("canvas",y),R.isGroup()){var w=R.get("children");w.length&&w.forEach(function(N){A(N,y)})}}function M(R,y){if(R.set("timeline",y),R.isGroup()){var w=R.get("children");w.length&&w.forEach(function(N){M(N,y)})}}function x(R,y){var w=R.getChildren();return w.indexOf(y)>=0}function O(R,y,w){w===void 0&&(w=!0),w?y.destroy():(y.set("parent",null),y.set("canvas",null)),Object(p.j)(R.getChildren(),y)}function C(R){return function(y,w){var N=R(y,w);return N===0?y[S]-w[S]:N}}var D=function(R){Object(f.c)(y,R);function y(){return R!==null&&R.apply(this,arguments)||this}return y.prototype.isCanvas=function(){return!1},y.prototype.getBBox=function(){var w=Infinity,N=-Infinity,z=Infinity,V=-Infinity,B=[],P=[],T=this.getChildren().filter(function(Q){return Q.get("visible")&&(!Q.isGroup()||Q.isGroup()&&Q.getChildren().length>0)});T.length>0?(Object(p.a)(T,function(Q){var nt=Q.getBBox();B.push(nt.minX,nt.maxX),P.push(nt.minY,nt.maxY)}),w=Object(i.Z)(B),N=Object(i.W)(B),z=Object(i.Z)(P),V=Object(i.W)(P)):(w=0,N=0,z=0,V=0);var W={x:w,y:z,minX:w,minY:z,maxX:N,maxY:V,width:N-w,height:V-z};return W},y.prototype.getCanvasBBox=function(){var w=Infinity,N=-Infinity,z=Infinity,V=-Infinity,B=[],P=[],T=this.getChildren().filter(function(Q){return Q.get("visible")&&(!Q.isGroup()||Q.isGroup()&&Q.getChildren().length>0)});T.length>0?(Object(p.a)(T,function(Q){var nt=Q.getCanvasBBox();B.push(nt.minX,nt.maxX),P.push(nt.minY,nt.maxY)}),w=Object(i.Z)(B),N=Object(i.W)(B),z=Object(i.Z)(P),V=Object(i.W)(P)):(w=0,N=0,z=0,V=0);var W={x:w,y:z,minX:w,minY:z,maxX:N,maxY:V,width:N-w,height:V-z};return W},y.prototype.getDefaultCfg=function(){var w=R.prototype.getDefaultCfg.call(this);return w.children=[],w},y.prototype.onAttrChange=function(w,N,z){if(R.prototype.onAttrChange.call(this,w,N,z),w==="matrix"){var V=this.getTotalMatrix();this._applyChildrenMarix(V)}},y.prototype.applyMatrix=function(w){var N=this.getTotalMatrix();R.prototype.applyMatrix.call(this,w);var z=this.getTotalMatrix();z!==N&&this._applyChildrenMarix(z)},y.prototype._applyChildrenMarix=function(w){var N=this.getChildren();Object(p.a)(N,function(z){z.applyMatrix(w)})},y.prototype.addShape=function(){for(var w=[],N=0;N<arguments.length;N++)w[N]=arguments[N];var z=w[0],V=w[1];Object(p.f)(z)?V=z:V.type=z;var B=E[V.type];B||(B=Object(p.k)(V.type),E[V.type]=B);var P=this.getShapeBase(),T=new P[B](V);return this.add(T),T},y.prototype.addGroup=function(){for(var w=[],N=0;N<arguments.length;N++)w[N]=arguments[N];var z=w[0],V=w[1],B;if(Object(p.d)(z))V?B=new z(V):B=new z({parent:this});else{var P=z||{},T=this.getGroupBase();B=new T(P)}return this.add(B),B},y.prototype.getCanvas=function(){var w;return this.isCanvas()?w=this:w=this.get("canvas"),w},y.prototype.getShape=function(w,N,z){if(!Object(p.b)(this))return null;var V=this.getChildren(),B;if(this.isCanvas())B=this._findShape(V,w,N,z);else{var P=[w,N,1];P=this.invertFromMatrix(P),this.isClipped(P[0],P[1])||(B=this._findShape(V,P[0],P[1],z))}return B},y.prototype._findShape=function(w,N,z,V){for(var B=null,P=w.length-1;P>=0;P--){var T=w[P];if(Object(p.b)(T)&&(T.isGroup()?B=T.getShape(N,z,V):T.isHit(N,z)&&(B=T)),B)break}return B},y.prototype.add=function(w){var N=this.getCanvas(),z=this.getChildren(),V=this.get("timeline"),B=w.getParent();B&&O(B,w,!1),w.set("parent",this),N&&A(w,N),V&&M(w,V),z.push(w),w.onCanvasChange("add"),this._applyElementMatrix(w)},y.prototype._applyElementMatrix=function(w){var N=this.getTotalMatrix();N&&w.applyMatrix(N)},y.prototype.getChildren=function(){return this.get("children")},y.prototype.sort=function(){var w=this.getChildren();Object(p.a)(w,function(N,z){return N[S]=z,N}),w.sort(C(function(N,z){return N.get("zIndex")-z.get("zIndex")})),this.onCanvasChange("sort")},y.prototype.clear=function(){if(this.set("clearing",!0),!this.destroyed){for(var w=this.getChildren(),N=w.length-1;N>=0;N--)w[N].destroy();this.set("children",[]),this.onCanvasChange("clear"),this.set("clearing",!1)}},y.prototype.destroy=function(){this.get("destroyed")||(this.clear(),R.prototype.destroy.call(this))},y.prototype.getFirst=function(){return this.getChildByIndex(0)},y.prototype.getLast=function(){var w=this.getChildren();return this.getChildByIndex(w.length-1)},y.prototype.getChildByIndex=function(w){var N=this.getChildren();return N[w]},y.prototype.getCount=function(){var w=this.getChildren();return w.length},y.prototype.contain=function(w){var N=this.getChildren();return N.indexOf(w)>-1},y.prototype.removeChild=function(w,N){N===void 0&&(N=!0),this.contain(w)&&w.remove(N)},y.prototype.findAll=function(w){var N=[],z=this.getChildren();return Object(p.a)(z,function(V){w(V)&&N.push(V),V.isGroup()&&(N=N.concat(V.findAll(w)))}),N},y.prototype.find=function(w){var N=null,z=this.getChildren();return Object(p.a)(z,function(V){if(w(V)?N=V:V.isGroup()&&(N=V.find(w)),N)return!1}),N},y.prototype.findById=function(w){return this.find(function(N){return N.get("id")===w})},y.prototype.findByClassName=function(w){return this.find(function(N){return N.get("className")===w})},y.prototype.findAllByName=function(w){return this.findAll(function(N){return N.get("name")===w})},y}(g.a);I.a=D},Yen4:function(Ft,I,a){var f=a("M96O"),i=a("lnHP"),g=a("AevD");Ft.exports=p;function p(E,S){var A=new i,M={},x=new g,O;function C(R){var y=R.v===O?R.w:R.v,w=x.priority(y);if(w!==void 0){var N=S(R);N<w&&(M[y]=O,x.decrease(y,N))}}if(E.nodeCount()===0)return A;f.each(E.nodes(),function(R){x.add(R,Number.POSITIVE_INFINITY),A.setNode(R)}),x.decrease(E.nodes()[0],0);for(var D=!1;x.size()>0;){if(O=x.removeMin(),f.has(M,O))A.setEdge(O,M[O]);else{if(D)throw new Error("Input graph is not connected: "+E);D=!0}E.nodeEdges(O).forEach(C)}return A}},Yk9n:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.inject=I.LazyServiceIdentifer=void 0;var f=a("MON2"),i=a("xfSm"),g=a("GXnB"),p=a("Ztfv"),E=function(){function A(M){this._cb=M}return A.prototype.unwrap=function(){return this._cb()},A}();I.LazyServiceIdentifer=E;function S(A){return function(M,x,O){if(A===void 0)throw new Error(f.UNDEFINED_INJECT_ANNOTATION(M.name));var C=new g.Metadata(i.INJECT_TAG,A);typeof O=="number"?p.tagParameter(M,x,O,C):p.tagProperty(M,x,C)}}I.inject=S},Yr8b:function(Ft,I,a){Ft.exports=a("SGks")},YuPD:function(Ft,I,a){"use strict";a.d(I,"e",function(){return f}),a.d(I,"p",function(){return i}),a.d(I,"t",function(){return p}),a.d(I,"n",function(){return E.b}),a.d(I,"a",function(){return E.a}),a.d(I,"h",function(){return S}),a.d(I,"c",function(){return A}),a.d(I,"f",function(){return M}),a.d(I,"g",function(){return x}),a.d(I,"d",function(){return O.a}),a.d(I,"k",function(){return O.c}),a.d(I,"i",function(){return O.b}),a.d(I,"u",function(){return D}),a.d(I,"j",function(){return z}),a.d(I,"b",function(){return V.a}),a.d(I,"m",function(){return B}),a.d(I,"s",function(){return P.b}),a.d(I,"r",function(){return P.a}),a.d(I,"o",function(){return Q}),a.d(I,"l",function(){return nt.a}),a.d(I,"q",function(){return st.b});function f(){for(var et=[],_=0;_<arguments.length;_++)et[_]=arguments[_];return function(Y){return et.reduce(function($,q){return q($)},Y)}}function i(et,_){var Y={};return et!==null&&typeof et=="object"&&_.forEach(function($){var q=et[$];q!==void 0&&(Y[$]=q)}),Y}var g=a("iTfj");function p(et,_){return Object(g.fb)(_,function(Y,$,q){return Y.replace(new RegExp("{\\s*"+q+"\\s*}","g"),$)},et)}var E=a("8s5S");function S(et){if(!et)return{width:0,height:0};var _=getComputedStyle(et);return{width:(et.clientWidth||parseInt(_.width,10))-parseInt(_.paddingLeft,10)-parseInt(_.paddingRight,10),height:(et.clientHeight||parseInt(_.height,10))-parseInt(_.paddingTop,10)-parseInt(_.paddingBottom,10)}}function A(et,_){return et.geometries.find(function(Y){return Y.type===_})}function M(et){return Object(g.fb)(et.geometries,function(_,Y){return _.concat(Y.elements)},[])}function x(et){return Object(g.s)(et,["views","length"],0)<=0?M(et):Object(g.fb)(et.views,function(_,Y){return _.concat(x(Y))},M(et))}var O=a("4Olw"),C=a("mrSG");function D(et){if(!Object(g.P)(et,"Object"))return et;var _=Object(C.a)({},et);return _.formatter&&!_.content&&(_.content=_.formatter),_}var R=a("6JdA");function y(et,_){var Y=[];if(et.length){Y.push(["M",et[0].x,et[0].y]);for(var $=1,q=et.length;$<q;$+=1){var at=et[$];Y.push(["L",at.x,at.y])}_&&Y.push(["Z"])}return Y}var w=function(_,Y,$,q){var at=[],pt,mt,ot=!!q,xt,It;if(ot){xt=[Infinity,Infinity],It=[-Infinity,-Infinity];for(var Ht=0,Qt=_.length;Ht<Qt;Ht++){var $t=_[Ht];xt=R.c.min([0,0],xt,$t),It=R.c.max([0,0],It,$t)}xt=R.c.min([0,0],xt,q[0]),It=R.c.max([0,0],It,q[1])}for(var Ht=0,yt=_.length;Ht<yt;Ht++){var $t=_[Ht];if($)pt=_[Ht?Ht-1:yt-1],mt=_[(Ht+1)%yt];else if(Ht===0||Ht===yt-1){at.push($t);continue}else pt=_[Ht-1],mt=_[Ht+1];var ut=[0,0];ut=R.c.sub(ut,mt,pt),ut=R.c.scale(ut,ut,Y);var ft=R.c.distance($t,pt),it=R.c.distance($t,mt),vt=ft+it;vt!==0&&(ft/=vt,it/=vt);var Wt=R.c.scale([0,0],ut,-ft),Ct=R.c.scale([0,0],ut,it),Z=R.c.add([0,0],$t,Wt),X=R.c.add([0,0],$t,Ct);ot&&(Z=R.c.max([0,0],Z,xt),Z=R.c.min([0,0],Z,It),X=R.c.max([0,0],X,xt),X=R.c.min([0,0],X,It)),at.push(Z),at.push(X)}return $&&at.push(at.shift()),at};function N(et,_,Y){for(var $=!!_,q=[],at=0,pt=et.length;at<pt;at+=2)q.push([et[at],et[at+1]]);for(var mt=w(q,.4,$,Y),ot=q.length,xt=[],It,Ht,Qt,at=0;at<ot-1;at++)It=mt[at*2],Ht=mt[at*2+1],Qt=q[at+1],xt.push(["C",It[0],It[1],Ht[0],Ht[1],Qt[0],Qt[1]]);return $&&(It=mt[ot],Ht=mt[ot+1],Qt=q[0],xt.push(["C",It[0],It[1],Ht[0],Ht[1],Qt[0],Qt[1]])),xt}function z(et,_,Y){var $=[],q=et[0],at=null;if(et.length<=2)return y(et,_);for(var pt=0,mt=et.length;pt<mt;pt++){var ot=et[pt];(!at||!(at.x===ot.x&&at.y===ot.y))&&($.push(ot.x),$.push(ot.y),at=ot)}var xt=Y||[[0,0],[1,1]],It=N($,_,xt);return It.unshift(["M",q.x,q.y]),It}var V=a("MpV0");function B(et){if(!et)return et;var _=et.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);return _.map(function(Y){return Y.toLowerCase()}).join("-")}var P=a("mj6g"),T;function W(){return T||(T=document.createElement("canvas").getContext("2d")),T}var Q=Object(g.Y)(function(et,_){_===void 0&&(_={});var Y=_.fontSize,$=_.fontFamily,q=$===void 0?"sans-serif":$,at=_.fontWeight,pt=_.fontStyle,mt=_.fontVariant,ot=W();ot.font=[pt,at,mt,Y+"px",q].join(" ");var xt=ot.measureText(Object(g.O)(et)?et:"");return xt.width},function(et,_){return _===void 0&&(_={}),Object(C.g)([et],Object(g.ub)(_)).join("")}),nt=a("F/eT"),st=a("DyAw")},Yydy:function(Ft,I){},Z1HP:function(Ft,I,a){var f=a("ycre"),i=a("quyA"),g=a("q4HE");function p(E){return i(E)?g(E):f(E)}Ft.exports=p},ZCgT:function(Ft,I,a){var f=a("tLB3"),i=1/0,g=17976931348623157e292;function p(E){if(!E)return E===0?E:0;if(E=f(E),E===i||E===-i){var S=E<0?-1:1;return S*g}return E===E?E:0}Ft.exports=p},ZCpW:function(Ft,I,a){var f=a("lm/5"),i=a("O7RO"),g=a("IOzZ");function p(E){var S=i(E);return S.length==1&&S[0][2]?g(S[0][0],S[0][1]):function(A){return A===E||f(A,E,S)}}Ft.exports=p},ZWtO:function(Ft,I,a){var f=a("4uTw"),i=a("9Nap");function g(p,E){E=f(E,p);for(var S=0,A=E.length;p!=null&&S<A;)p=p[i(E[S++])];return S&&S==A?p:void 0}Ft.exports=g},ZjWs:function(Ft,I){},Zss7:function(Ft,I,a){var f;(function(i){var g=/^\s+/,p=/\s+$/,E=0,S=i.round,A=i.min,M=i.max,x=i.random;function O(H,lt){if(H=H||"",lt=lt||{},H instanceof O)return H;if(!(this instanceof O))return new O(H,lt);var Ot=C(H);this._originalInput=H,this._r=Ot.r,this._g=Ot.g,this._b=Ot.b,this._a=Ot.a,this._roundA=S(100*this._a)/100,this._format=lt.format||Ot.format,this._gradientType=lt.gradientType,this._r<1&&(this._r=S(this._r)),this._g<1&&(this._g=S(this._g)),this._b<1&&(this._b=S(this._b)),this._ok=Ot.ok,this._tc_id=E++}O.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var lt=this.toRgb();return(lt.r*299+lt.g*587+lt.b*114)/1e3},getLuminance:function(){var lt=this.toRgb(),Ot,Rt,zt,Bt,tt,J;return Ot=lt.r/255,Rt=lt.g/255,zt=lt.b/255,Ot<=.03928?Bt=Ot/12.92:Bt=i.pow((Ot+.055)/1.055,2.4),Rt<=.03928?tt=Rt/12.92:tt=i.pow((Rt+.055)/1.055,2.4),zt<=.03928?J=zt/12.92:J=i.pow((zt+.055)/1.055,2.4),.2126*Bt+.7152*tt+.0722*J},setAlpha:function(lt){return this._a=It(lt),this._roundA=S(100*this._a)/100,this},toHsv:function(){var lt=w(this._r,this._g,this._b);return{h:lt.h*360,s:lt.s,v:lt.v,a:this._a}},toHsvString:function(){var lt=w(this._r,this._g,this._b),Ot=S(lt.h*360),Rt=S(lt.s*100),zt=S(lt.v*100);return this._a==1?"hsv("+Ot+", "+Rt+"%, "+zt+"%)":"hsva("+Ot+", "+Rt+"%, "+zt+"%, "+this._roundA+")"},toHsl:function(){var lt=R(this._r,this._g,this._b);return{h:lt.h*360,s:lt.s,l:lt.l,a:this._a}},toHslString:function(){var lt=R(this._r,this._g,this._b),Ot=S(lt.h*360),Rt=S(lt.s*100),zt=S(lt.l*100);return this._a==1?"hsl("+Ot+", "+Rt+"%, "+zt+"%)":"hsla("+Ot+", "+Rt+"%, "+zt+"%, "+this._roundA+")"},toHex:function(lt){return z(this._r,this._g,this._b,lt)},toHexString:function(lt){return"#"+this.toHex(lt)},toHex8:function(lt){return V(this._r,this._g,this._b,this._a,lt)},toHex8String:function(lt){return"#"+this.toHex8(lt)},toRgb:function(){return{r:S(this._r),g:S(this._g),b:S(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+S(this._r)+", "+S(this._g)+", "+S(this._b)+")":"rgba("+S(this._r)+", "+S(this._g)+", "+S(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:S(Ht(this._r,255)*100)+"%",g:S(Ht(this._g,255)*100)+"%",b:S(Ht(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+S(Ht(this._r,255)*100)+"%, "+S(Ht(this._g,255)*100)+"%, "+S(Ht(this._b,255)*100)+"%)":"rgba("+S(Ht(this._r,255)*100)+"%, "+S(Ht(this._g,255)*100)+"%, "+S(Ht(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:ot[z(this._r,this._g,this._b,!0)]||!1},toFilter:function(lt){var Ot="#"+B(this._r,this._g,this._b,this._a),Rt=Ot,zt=this._gradientType?"GradientType = 1, ":"";if(lt){var Bt=O(lt);Rt="#"+B(Bt._r,Bt._g,Bt._b,Bt._a)}return"progid:DXImageTransform.Microsoft.gradient("+zt+"startColorstr="+Ot+",endColorstr="+Rt+")"},toString:function(lt){var Ot=!!lt;lt=lt||this._format;var Rt=!1,zt=this._a<1&&this._a>=0,Bt=!Ot&&zt&&(lt==="hex"||lt==="hex6"||lt==="hex3"||lt==="hex4"||lt==="hex8"||lt==="name");return Bt?lt==="name"&&this._a===0?this.toName():this.toRgbString():(lt==="rgb"&&(Rt=this.toRgbString()),lt==="prgb"&&(Rt=this.toPercentageRgbString()),(lt==="hex"||lt==="hex6")&&(Rt=this.toHexString()),lt==="hex3"&&(Rt=this.toHexString(!0)),lt==="hex4"&&(Rt=this.toHex8String(!0)),lt==="hex8"&&(Rt=this.toHex8String()),lt==="name"&&(Rt=this.toName()),lt==="hsl"&&(Rt=this.toHslString()),lt==="hsv"&&(Rt=this.toHsvString()),Rt||this.toHexString())},clone:function(){return O(this.toString())},_applyModification:function(lt,Ot){var Rt=lt.apply(null,[this].concat([].slice.call(Ot)));return this._r=Rt._r,this._g=Rt._g,this._b=Rt._b,this.setAlpha(Rt._a),this},lighten:function(){return this._applyModification(Q,arguments)},brighten:function(){return this._applyModification(nt,arguments)},darken:function(){return this._applyModification(st,arguments)},desaturate:function(){return this._applyModification(P,arguments)},saturate:function(){return this._applyModification(T,arguments)},greyscale:function(){return this._applyModification(W,arguments)},spin:function(){return this._applyModification(et,arguments)},_applyCombination:function(lt,Ot){return lt.apply(null,[this].concat([].slice.call(Ot)))},analogous:function(){return this._applyCombination(at,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(pt,arguments)},splitcomplement:function(){return this._applyCombination(q,arguments)},triad:function(){return this._applyCombination(Y,arguments)},tetrad:function(){return this._applyCombination($,arguments)}},O.fromRatio=function(H,lt){if(typeof H=="object"){var Ot={};for(var Rt in H)H.hasOwnProperty(Rt)&&(Rt==="a"?Ot[Rt]=H[Rt]:Ot[Rt]=it(H[Rt]));H=Ot}return O(H,lt)};function C(H){var lt={r:0,g:0,b:0},Ot=1,Rt=null,zt=null,Bt=null,tt=!1,J=!1;return typeof H=="string"&&(H=X(H)),typeof H=="object"&&(Z(H.r)&&Z(H.g)&&Z(H.b)?(lt=D(H.r,H.g,H.b),tt=!0,J=String(H.r).substr(-1)==="%"?"prgb":"rgb"):Z(H.h)&&Z(H.s)&&Z(H.v)?(Rt=it(H.s),zt=it(H.v),lt=N(H.h,Rt,zt),tt=!0,J="hsv"):Z(H.h)&&Z(H.s)&&Z(H.l)&&(Rt=it(H.s),Bt=it(H.l),lt=y(H.h,Rt,Bt),tt=!0,J="hsl"),H.hasOwnProperty("a")&&(Ot=H.a)),Ot=It(Ot),{ok:tt,format:H.format||J,r:A(255,M(lt.r,0)),g:A(255,M(lt.g,0)),b:A(255,M(lt.b,0)),a:Ot}}function D(H,lt,Ot){return{r:Ht(H,255)*255,g:Ht(lt,255)*255,b:Ht(Ot,255)*255}}function R(H,lt,Ot){H=Ht(H,255),lt=Ht(lt,255),Ot=Ht(Ot,255);var Rt=M(H,lt,Ot),zt=A(H,lt,Ot),Bt,tt,J=(Rt+zt)/2;if(Rt==zt)Bt=tt=0;else{var G=Rt-zt;switch(tt=J>.5?G/(2-Rt-zt):G/(Rt+zt),Rt){case H:Bt=(lt-Ot)/G+(lt<Ot?6:0);break;case lt:Bt=(Ot-H)/G+2;break;case Ot:Bt=(H-lt)/G+4;break}Bt/=6}return{h:Bt,s:tt,l:J}}function y(H,lt,Ot){var Rt,zt,Bt;H=Ht(H,360),lt=Ht(lt,100),Ot=Ht(Ot,100);function tt(Et,Tt,ct){return ct<0&&(ct+=1),ct>1&&(ct-=1),ct<1/6?Et+(Tt-Et)*6*ct:ct<1/2?Tt:ct<2/3?Et+(Tt-Et)*(2/3-ct)*6:Et}if(lt===0)Rt=zt=Bt=Ot;else{var J=Ot<.5?Ot*(1+lt):Ot+lt-Ot*lt,G=2*Ot-J;Rt=tt(G,J,H+1/3),zt=tt(G,J,H),Bt=tt(G,J,H-1/3)}return{r:Rt*255,g:zt*255,b:Bt*255}}function w(H,lt,Ot){H=Ht(H,255),lt=Ht(lt,255),Ot=Ht(Ot,255);var Rt=M(H,lt,Ot),zt=A(H,lt,Ot),Bt,tt,J=Rt,G=Rt-zt;if(tt=Rt===0?0:G/Rt,Rt==zt)Bt=0;else{switch(Rt){case H:Bt=(lt-Ot)/G+(lt<Ot?6:0);break;case lt:Bt=(Ot-H)/G+2;break;case Ot:Bt=(H-lt)/G+4;break}Bt/=6}return{h:Bt,s:tt,v:J}}function N(H,lt,Ot){H=Ht(H,360)*6,lt=Ht(lt,100),Ot=Ht(Ot,100);var Rt=i.floor(H),zt=H-Rt,Bt=Ot*(1-lt),tt=Ot*(1-zt*lt),J=Ot*(1-(1-zt)*lt),G=Rt%6,Et=[Ot,tt,Bt,Bt,J,Ot][G],Tt=[J,Ot,Ot,tt,Bt,Bt][G],ct=[Bt,Bt,J,Ot,Ot,tt][G];return{r:Et*255,g:Tt*255,b:ct*255}}function z(H,lt,Ot,Rt){var zt=[ft(S(H).toString(16)),ft(S(lt).toString(16)),ft(S(Ot).toString(16))];return Rt&&zt[0].charAt(0)==zt[0].charAt(1)&&zt[1].charAt(0)==zt[1].charAt(1)&&zt[2].charAt(0)==zt[2].charAt(1)?zt[0].charAt(0)+zt[1].charAt(0)+zt[2].charAt(0):zt.join("")}function V(H,lt,Ot,Rt,zt){var Bt=[ft(S(H).toString(16)),ft(S(lt).toString(16)),ft(S(Ot).toString(16)),ft(vt(Rt))];return zt&&Bt[0].charAt(0)==Bt[0].charAt(1)&&Bt[1].charAt(0)==Bt[1].charAt(1)&&Bt[2].charAt(0)==Bt[2].charAt(1)&&Bt[3].charAt(0)==Bt[3].charAt(1)?Bt[0].charAt(0)+Bt[1].charAt(0)+Bt[2].charAt(0)+Bt[3].charAt(0):Bt.join("")}function B(H,lt,Ot,Rt){var zt=[ft(vt(Rt)),ft(S(H).toString(16)),ft(S(lt).toString(16)),ft(S(Ot).toString(16))];return zt.join("")}O.equals=function(H,lt){return!H||!lt?!1:O(H).toRgbString()==O(lt).toRgbString()},O.random=function(){return O.fromRatio({r:x(),g:x(),b:x()})};function P(H,lt){lt=lt===0?0:lt||10;var Ot=O(H).toHsl();return Ot.s-=lt/100,Ot.s=Qt(Ot.s),O(Ot)}function T(H,lt){lt=lt===0?0:lt||10;var Ot=O(H).toHsl();return Ot.s+=lt/100,Ot.s=Qt(Ot.s),O(Ot)}function W(H){return O(H).desaturate(100)}function Q(H,lt){lt=lt===0?0:lt||10;var Ot=O(H).toHsl();return Ot.l+=lt/100,Ot.l=Qt(Ot.l),O(Ot)}function nt(H,lt){lt=lt===0?0:lt||10;var Ot=O(H).toRgb();return Ot.r=M(0,A(255,Ot.r-S(255*-(lt/100)))),Ot.g=M(0,A(255,Ot.g-S(255*-(lt/100)))),Ot.b=M(0,A(255,Ot.b-S(255*-(lt/100)))),O(Ot)}function st(H,lt){lt=lt===0?0:lt||10;var Ot=O(H).toHsl();return Ot.l-=lt/100,Ot.l=Qt(Ot.l),O(Ot)}function et(H,lt){var Ot=O(H).toHsl(),Rt=(Ot.h+lt)%360;return Ot.h=Rt<0?360+Rt:Rt,O(Ot)}function _(H){var lt=O(H).toHsl();return lt.h=(lt.h+180)%360,O(lt)}function Y(H){var lt=O(H).toHsl(),Ot=lt.h;return[O(H),O({h:(Ot+120)%360,s:lt.s,l:lt.l}),O({h:(Ot+240)%360,s:lt.s,l:lt.l})]}function $(H){var lt=O(H).toHsl(),Ot=lt.h;return[O(H),O({h:(Ot+90)%360,s:lt.s,l:lt.l}),O({h:(Ot+180)%360,s:lt.s,l:lt.l}),O({h:(Ot+270)%360,s:lt.s,l:lt.l})]}function q(H){var lt=O(H).toHsl(),Ot=lt.h;return[O(H),O({h:(Ot+72)%360,s:lt.s,l:lt.l}),O({h:(Ot+216)%360,s:lt.s,l:lt.l})]}function at(H,lt,Ot){lt=lt||6,Ot=Ot||30;var Rt=O(H).toHsl(),zt=360/Ot,Bt=[O(H)];for(Rt.h=(Rt.h-(zt*lt>>1)+720)%360;--lt;)Rt.h=(Rt.h+zt)%360,Bt.push(O(Rt));return Bt}function pt(H,lt){lt=lt||6;for(var Ot=O(H).toHsv(),Rt=Ot.h,zt=Ot.s,Bt=Ot.v,tt=[],J=1/lt;lt--;)tt.push(O({h:Rt,s:zt,v:Bt})),Bt=(Bt+J)%1;return tt}O.mix=function(H,lt,Ot){Ot=Ot===0?0:Ot||50;var Rt=O(H).toRgb(),zt=O(lt).toRgb(),Bt=Ot/100,tt={r:(zt.r-Rt.r)*Bt+Rt.r,g:(zt.g-Rt.g)*Bt+Rt.g,b:(zt.b-Rt.b)*Bt+Rt.b,a:(zt.a-Rt.a)*Bt+Rt.a};return O(tt)},O.readability=function(H,lt){var Ot=O(H),Rt=O(lt);return(i.max(Ot.getLuminance(),Rt.getLuminance())+.05)/(i.min(Ot.getLuminance(),Rt.getLuminance())+.05)},O.isReadable=function(H,lt,Ot){var Rt=O.readability(H,lt),zt,Bt;switch(Bt=!1,zt=dt(Ot),zt.level+zt.size){case"AAsmall":case"AAAlarge":Bt=Rt>=4.5;break;case"AAlarge":Bt=Rt>=3;break;case"AAAsmall":Bt=Rt>=7;break}return Bt},O.mostReadable=function(H,lt,Ot){var Rt=null,zt=0,Bt,tt,J,G;Ot=Ot||{},tt=Ot.includeFallbackColors,J=Ot.level,G=Ot.size;for(var Et=0;Et<lt.length;Et++)Bt=O.readability(H,lt[Et]),Bt>zt&&(zt=Bt,Rt=O(lt[Et]));return O.isReadable(H,Rt,{level:J,size:G})||!tt?Rt:(Ot.includeFallbackColors=!1,O.mostReadable(H,["#fff","#000"],Ot))};var mt=O.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},ot=O.hexNames=xt(mt);function xt(H){var lt={};for(var Ot in H)H.hasOwnProperty(Ot)&&(lt[H[Ot]]=Ot);return lt}function It(H){return H=parseFloat(H),(isNaN(H)||H<0||H>1)&&(H=1),H}function Ht(H,lt){yt(H)&&(H="100%");var Ot=ut(H);return H=A(lt,M(0,parseFloat(H))),Ot&&(H=parseInt(H*lt,10)/100),i.abs(H-lt)<1e-6?1:H%lt/parseFloat(lt)}function Qt(H){return A(1,M(0,H))}function $t(H){return parseInt(H,16)}function yt(H){return typeof H=="string"&&H.indexOf(".")!=-1&&parseFloat(H)===1}function ut(H){return typeof H=="string"&&H.indexOf("%")!=-1}function ft(H){return H.length==1?"0"+H:""+H}function it(H){return H<=1&&(H=H*100+"%"),H}function vt(H){return i.round(parseFloat(H)*255).toString(16)}function Wt(H){return $t(H)/255}var Ct=function(){var H="[-\\+]?\\d+%?",lt="[-\\+]?\\d*\\.\\d+%?",Ot="(?:"+lt+")|(?:"+H+")",Rt="[\\s|\\(]+("+Ot+")[,|\\s]+("+Ot+")[,|\\s]+("+Ot+")\\s*\\)?",zt="[\\s|\\(]+("+Ot+")[,|\\s]+("+Ot+")[,|\\s]+("+Ot+")[,|\\s]+("+Ot+")\\s*\\)?";return{CSS_UNIT:new RegExp(Ot),rgb:new RegExp("rgb"+Rt),rgba:new RegExp("rgba"+zt),hsl:new RegExp("hsl"+Rt),hsla:new RegExp("hsla"+zt),hsv:new RegExp("hsv"+Rt),hsva:new RegExp("hsva"+zt),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Z(H){return!!Ct.CSS_UNIT.exec(H)}function X(H){H=H.replace(g,"").replace(p,"").toLowerCase();var lt=!1;if(mt[H])H=mt[H],lt=!0;else if(H=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Ot;return(Ot=Ct.rgb.exec(H))?{r:Ot[1],g:Ot[2],b:Ot[3]}:(Ot=Ct.rgba.exec(H))?{r:Ot[1],g:Ot[2],b:Ot[3],a:Ot[4]}:(Ot=Ct.hsl.exec(H))?{h:Ot[1],s:Ot[2],l:Ot[3]}:(Ot=Ct.hsla.exec(H))?{h:Ot[1],s:Ot[2],l:Ot[3],a:Ot[4]}:(Ot=Ct.hsv.exec(H))?{h:Ot[1],s:Ot[2],v:Ot[3]}:(Ot=Ct.hsva.exec(H))?{h:Ot[1],s:Ot[2],v:Ot[3],a:Ot[4]}:(Ot=Ct.hex8.exec(H))?{r:$t(Ot[1]),g:$t(Ot[2]),b:$t(Ot[3]),a:Wt(Ot[4]),format:lt?"name":"hex8"}:(Ot=Ct.hex6.exec(H))?{r:$t(Ot[1]),g:$t(Ot[2]),b:$t(Ot[3]),format:lt?"name":"hex"}:(Ot=Ct.hex4.exec(H))?{r:$t(Ot[1]+""+Ot[1]),g:$t(Ot[2]+""+Ot[2]),b:$t(Ot[3]+""+Ot[3]),a:Wt(Ot[4]+""+Ot[4]),format:lt?"name":"hex8"}:(Ot=Ct.hex3.exec(H))?{r:$t(Ot[1]+""+Ot[1]),g:$t(Ot[2]+""+Ot[2]),b:$t(Ot[3]+""+Ot[3]),format:lt?"name":"hex"}:!1}function dt(H){var lt,Ot;return H=H||{level:"AA",size:"small"},lt=(H.level||"AA").toUpperCase(),Ot=(H.size||"small").toLowerCase(),lt!=="AA"&&lt!=="AAA"&&(lt="AA"),Ot!=="small"&&Ot!=="large"&&(Ot="small"),{level:lt,size:Ot}}Ft.exports?Ft.exports=O:(f=function(){return O}.call(I,a,I,Ft),f!==void 0&&(Ft.exports=f))})(Math)},Ztfv:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.tagProperty=I.tagParameter=I.decorate=void 0;var f=a("MON2"),i=a("xfSm");function g(x,O,C,D){var R=i.TAGGED;E(R,x,O,D,C)}I.tagParameter=g;function p(x,O,C){var D=i.TAGGED_PROP;E(D,x.constructor,O,C)}I.tagProperty=p;function E(x,O,C,D,R){var y={},w=typeof R=="number",N=R!==void 0&&w?R.toString():C;if(w&&C!==void 0)throw new Error(f.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(x,O)&&(y=Reflect.getMetadata(x,O));var z=y[N];if(!Array.isArray(z))z=[];else for(var V=0,B=z;V<B.length;V++){var P=B[V];if(P.key===D.key)throw new Error(f.DUPLICATED_METADATA+" "+P.key.toString())}z.push(D),y[N]=z,Reflect.defineMetadata(x,y,O)}function S(x,O){Reflect.decorate(x,O)}function A(x,O){return function(C,D){O(C,D,x)}}function M(x,O,C){typeof C=="number"?S([A(C,x)],O):typeof C=="string"?Reflect.decorate([x],O,C):S([x],O)}I.decorate=M},ZxFD:function(Ft,I,a){"use strict";a.r(I),a.d(I,"create",function(){return i}),a.d(I,"clone",function(){return g}),a.d(I,"fromValues",function(){return p}),a.d(I,"copy",function(){return E}),a.d(I,"set",function(){return S}),a.d(I,"add",function(){return A}),a.d(I,"subtract",function(){return M}),a.d(I,"multiply",function(){return x}),a.d(I,"divide",function(){return O}),a.d(I,"ceil",function(){return C}),a.d(I,"floor",function(){return D}),a.d(I,"min",function(){return R}),a.d(I,"max",function(){return y}),a.d(I,"round",function(){return w}),a.d(I,"scale",function(){return N}),a.d(I,"scaleAndAdd",function(){return z}),a.d(I,"distance",function(){return V}),a.d(I,"squaredDistance",function(){return B}),a.d(I,"length",function(){return P}),a.d(I,"squaredLength",function(){return T}),a.d(I,"negate",function(){return W}),a.d(I,"inverse",function(){return Q}),a.d(I,"normalize",function(){return nt}),a.d(I,"dot",function(){return st}),a.d(I,"cross",function(){return et}),a.d(I,"lerp",function(){return _}),a.d(I,"random",function(){return Y}),a.d(I,"transformMat2",function(){return $}),a.d(I,"transformMat2d",function(){return q}),a.d(I,"transformMat3",function(){return at}),a.d(I,"transformMat4",function(){return pt}),a.d(I,"rotate",function(){return mt}),a.d(I,"angle",function(){return ot}),a.d(I,"zero",function(){return xt}),a.d(I,"str",function(){return It}),a.d(I,"exactEquals",function(){return Ht}),a.d(I,"equals",function(){return Qt}),a.d(I,"len",function(){return $t}),a.d(I,"sub",function(){return yt}),a.d(I,"mul",function(){return ut}),a.d(I,"div",function(){return ft}),a.d(I,"dist",function(){return it}),a.d(I,"sqrDist",function(){return vt}),a.d(I,"sqrLen",function(){return Wt}),a.d(I,"forEach",function(){return Ct});var f=a("yU0y");function i(){var Z=new f.a(2);return f.a!=Float32Array&&(Z[0]=0,Z[1]=0),Z}function g(Z){var X=new f.a(2);return X[0]=Z[0],X[1]=Z[1],X}function p(Z,X){var dt=new f.a(2);return dt[0]=Z,dt[1]=X,dt}function E(Z,X){return Z[0]=X[0],Z[1]=X[1],Z}function S(Z,X,dt){return Z[0]=X,Z[1]=dt,Z}function A(Z,X,dt){return Z[0]=X[0]+dt[0],Z[1]=X[1]+dt[1],Z}function M(Z,X,dt){return Z[0]=X[0]-dt[0],Z[1]=X[1]-dt[1],Z}function x(Z,X,dt){return Z[0]=X[0]*dt[0],Z[1]=X[1]*dt[1],Z}function O(Z,X,dt){return Z[0]=X[0]/dt[0],Z[1]=X[1]/dt[1],Z}function C(Z,X){return Z[0]=Math.ceil(X[0]),Z[1]=Math.ceil(X[1]),Z}function D(Z,X){return Z[0]=Math.floor(X[0]),Z[1]=Math.floor(X[1]),Z}function R(Z,X,dt){return Z[0]=Math.min(X[0],dt[0]),Z[1]=Math.min(X[1],dt[1]),Z}function y(Z,X,dt){return Z[0]=Math.max(X[0],dt[0]),Z[1]=Math.max(X[1],dt[1]),Z}function w(Z,X){return Z[0]=Math.round(X[0]),Z[1]=Math.round(X[1]),Z}function N(Z,X,dt){return Z[0]=X[0]*dt,Z[1]=X[1]*dt,Z}function z(Z,X,dt,H){return Z[0]=X[0]+dt[0]*H,Z[1]=X[1]+dt[1]*H,Z}function V(Z,X){var dt=X[0]-Z[0],H=X[1]-Z[1];return Math.hypot(dt,H)}function B(Z,X){var dt=X[0]-Z[0],H=X[1]-Z[1];return dt*dt+H*H}function P(Z){var X=Z[0],dt=Z[1];return Math.hypot(X,dt)}function T(Z){var X=Z[0],dt=Z[1];return X*X+dt*dt}function W(Z,X){return Z[0]=-X[0],Z[1]=-X[1],Z}function Q(Z,X){return Z[0]=1/X[0],Z[1]=1/X[1],Z}function nt(Z,X){var dt=X[0],H=X[1],lt=dt*dt+H*H;return lt>0&&(lt=1/Math.sqrt(lt)),Z[0]=X[0]*lt,Z[1]=X[1]*lt,Z}function st(Z,X){return Z[0]*X[0]+Z[1]*X[1]}function et(Z,X,dt){var H=X[0]*dt[1]-X[1]*dt[0];return Z[0]=Z[1]=0,Z[2]=H,Z}function _(Z,X,dt,H){var lt=X[0],Ot=X[1];return Z[0]=lt+H*(dt[0]-lt),Z[1]=Ot+H*(dt[1]-Ot),Z}function Y(Z,X){X=X||1;var dt=f.c()*2*Math.PI;return Z[0]=Math.cos(dt)*X,Z[1]=Math.sin(dt)*X,Z}function $(Z,X,dt){var H=X[0],lt=X[1];return Z[0]=dt[0]*H+dt[2]*lt,Z[1]=dt[1]*H+dt[3]*lt,Z}function q(Z,X,dt){var H=X[0],lt=X[1];return Z[0]=dt[0]*H+dt[2]*lt+dt[4],Z[1]=dt[1]*H+dt[3]*lt+dt[5],Z}function at(Z,X,dt){var H=X[0],lt=X[1];return Z[0]=dt[0]*H+dt[3]*lt+dt[6],Z[1]=dt[1]*H+dt[4]*lt+dt[7],Z}function pt(Z,X,dt){var H=X[0],lt=X[1];return Z[0]=dt[0]*H+dt[4]*lt+dt[12],Z[1]=dt[1]*H+dt[5]*lt+dt[13],Z}function mt(Z,X,dt,H){var lt=X[0]-dt[0],Ot=X[1]-dt[1],Rt=Math.sin(H),zt=Math.cos(H);return Z[0]=lt*zt-Ot*Rt+dt[0],Z[1]=lt*Rt+Ot*zt+dt[1],Z}function ot(Z,X){var dt=Z[0],H=Z[1],lt=X[0],Ot=X[1],Rt=Math.sqrt(dt*dt+H*H)*Math.sqrt(lt*lt+Ot*Ot),zt=Rt&&(dt*lt+H*Ot)/Rt;return Math.acos(Math.min(Math.max(zt,-1),1))}function xt(Z){return Z[0]=0,Z[1]=0,Z}function It(Z){return"vec2("+Z[0]+", "+Z[1]+")"}function Ht(Z,X){return Z[0]===X[0]&&Z[1]===X[1]}function Qt(Z,X){var dt=Z[0],H=Z[1],lt=X[0],Ot=X[1];return Math.abs(dt-lt)<=f.b*Math.max(1,Math.abs(dt),Math.abs(lt))&&Math.abs(H-Ot)<=f.b*Math.max(1,Math.abs(H),Math.abs(Ot))}var $t=P,yt=M,ut=x,ft=O,it=V,vt=B,Wt=T,Ct=function(){var Z=i();return function(X,dt,H,lt,Ot,Rt){var zt,Bt;for(dt||(dt=2),H||(H=0),lt?Bt=Math.min(lt*dt+H,X.length):Bt=X.length,zt=H;zt<Bt;zt+=dt)Z[0]=X[zt],Z[1]=X[zt+1],Ot(Z,Z,Rt),X[zt]=Z[0],X[zt+1]=Z[1];return X}}()},ZzCi:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.named=void 0;var f=a("xfSm"),i=a("GXnB"),g=a("Ztfv");function p(E){return function(S,A,M){var x=new i.Metadata(f.NAMED_TAG,E);typeof M=="number"?g.tagParameter(S,A,M,x):g.tagProperty(S,A,x)}}I.named=p},ZzDG:function(Ft,I,a){"use strict";a.d(I,"b",function(){return g});var f=a("6h3Y"),i=a("Ud7J");I.a=function(p,E){return(Object(i.b)(E)?i.a:g)(p,E)};function g(p,E){var S=E?E.length:0,A=p?Math.min(S,p.length):0,M=new Array(A),x=new Array(S),O;for(O=0;O<A;++O)M[O]=Object(f.a)(p[O],E[O]);for(;O<S;++O)x[O]=E[O];return function(C){for(O=0;O<A;++O)x[O]=M[O](C);return x}}},ZzYp:function(Ft,I,a){var f=a("M96O");Ft.exports=g;var i=f.constant(1);function g(E,S,A){return p(E,S||i,A||function(M){return E.outEdges(M)})}function p(E,S,A){var M={},x=E.nodes();return x.forEach(function(O){M[O]={},M[O][O]={distance:0},x.forEach(function(C){O!==C&&(M[O][C]={distance:Number.POSITIVE_INFINITY})}),A(O).forEach(function(C){var D=C.v===O?C.w:C.v,R=S(C);M[O][D]={distance:R,predecessor:O}})}),x.forEach(function(O){var C=M[O];x.forEach(function(D){var R=M[D];x.forEach(function(y){var w=R[O],N=C[y],z=R[y],V=w.distance+N.distance;V<z.distance&&(z.distance=V,z.predecessor=N.predecessor)})})}),M}},a8Yn:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]*i[0]+f[1]*i[1]}},a8tM:function(Ft,I,a){"use strict";a.d(I,"c",function(){return T}),a.d(I,"b",function(){return et}),a.d(I,"a",function(){return _});var f=a("jrin");function i(Y){var $=0,q=Y.children,at=q&&q.length;if(!at)$=1;else for(;--at>=0;)$+=q[at].value;Y.value=$}var g=function(){return this.eachAfter(i)},p=a("rAM+"),E=function(Y,$){var q=-1,at=Object(p.a)(this),pt;try{for(at.s();!(pt=at.n()).done;){var mt=pt.value;Y.call($,mt,++q,this)}}catch(ot){at.e(ot)}finally{at.f()}return this},S=function(Y,$){for(var q=this,at=[q],pt,mt,ot=-1;q=at.pop();)if(Y.call($,q,++ot,this),pt=q.children)for(mt=pt.length-1;mt>=0;--mt)at.push(pt[mt]);return this},A=function(Y,$){for(var q=this,at=[q],pt=[],mt,ot,xt,It=-1;q=at.pop();)if(pt.push(q),mt=q.children)for(ot=0,xt=mt.length;ot<xt;++ot)at.push(mt[ot]);for(;q=pt.pop();)Y.call($,q,++It,this);return this},M=function(Y,$){var q=-1,at=Object(p.a)(this),pt;try{for(at.s();!(pt=at.n()).done;){var mt=pt.value;if(Y.call($,mt,++q,this))return mt}}catch(ot){at.e(ot)}finally{at.f()}},x=function(Y){return this.eachAfter(function($){for(var q=+Y($.data)||0,at=$.children,pt=at&&at.length;--pt>=0;)q+=at[pt].value;$.value=q})},O=function(Y){return this.eachBefore(function($){$.children&&$.children.sort(Y)})},C=function(Y){for(var $=this,q=D($,Y),at=[$];$!==q;)$=$.parent,at.push($);for(var pt=at.length;Y!==q;)at.splice(pt,0,Y),Y=Y.parent;return at};function D(Y,$){if(Y===$)return Y;var q=Y.ancestors(),at=$.ancestors(),pt=null;for(Y=q.pop(),$=at.pop();Y===$;)pt=Y,Y=q.pop(),$=at.pop();return pt}var R=function(){for(var Y=this,$=[Y];Y=Y.parent;)$.push(Y);return $},y=function(){return Array.from(this)},w=function(){var Y=[];return this.eachBefore(function($){$.children||Y.push($)}),Y},N=function(){var Y=this,$=[];return Y.each(function(q){q!==Y&&$.push({source:q.parent,target:q})}),$},z=a("WmNS"),V=a.n(z),B=V.a.mark(P);function P(){var Y,$,q,at,pt,mt;return V.a.wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:Y=this,q=[Y];case 1:$=q.reverse(),q=[];case 2:if(!(Y=$.pop())){xt.next=8;break}return xt.next=5,Y;case 5:if(at=Y.children)for(pt=0,mt=at.length;pt<mt;++pt)q.push(at[pt]);xt.next=2;break;case 8:if(q.length){xt.next=1;break}case 9:case"end":return xt.stop()}},B,this)}function T(Y,$){Y instanceof Map?(Y=[void 0,Y],$===void 0&&($=nt)):$===void 0&&($=Q);for(var q=new _(Y),at,pt=[q],mt,ot,xt,It;at=pt.pop();)if((ot=$(at.data))&&(It=(ot=Array.from(ot)).length))for(at.children=ot,xt=It-1;xt>=0;--xt)pt.push(mt=ot[xt]=new _(ot[xt])),mt.parent=at,mt.depth=at.depth+1;return q.eachBefore(et)}function W(){return T(this).eachBefore(st)}function Q(Y){return Y.children}function nt(Y){return Array.isArray(Y)?Y[1]:null}function st(Y){Y.data.value!==void 0&&(Y.value=Y.data.value),Y.data=Y.data.data}function et(Y){var $=0;do Y.height=$;while((Y=Y.parent)&&Y.height<++$)}function _(Y){this.data=Y,this.depth=this.height=0,this.parent=null}_.prototype=T.prototype=Object(f.a)({constructor:_,count:g,each:E,eachAfter:A,eachBefore:S,find:M,sum:x,sort:O,path:C,ancestors:R,descendants:y,leaves:w,links:N,copy:W},Symbol.iterator,P)},aFU3:function(Ft,I,a){"use strict";a.r(I),a.d(I,"version",function(){return z});var f=a("tvuL");a.d(I,"PathUtil",function(){return f});var i=a("4cbP"),g=a.n(i);for(var p in i)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(p)<0&&function(V){a.d(I,V,function(){return i[V]})}(p);var E=a("tdXX"),S=a.n(E);for(var p in E)["default","Event","Base","AbstractCanvas","AbstractGroup","AbstractShape","PathUtil","getBBoxMethod","getTextHeight","assembleFont","isAllowCapture","multiplyVec2","invert","getOffScreenContext","version"].indexOf(p)<0&&function(B){a.d(I,B,function(){return E[B]})}(p);var A=a("5eLp");a.d(I,"Event",function(){return A.a});var M=a("LmB6");a.d(I,"Base",function(){return M.a});var x=a("EkMX");a.d(I,"AbstractCanvas",function(){return x.a});var O=a("+DwW");a.d(I,"AbstractGroup",function(){return O.a});var C=a("MaEA");a.d(I,"AbstractShape",function(){return C.a});var D=a("1MZV");a.d(I,"getBBoxMethod",function(){return D.a});var R=a("vIgC");a.d(I,"getTextHeight",function(){return R.b}),a.d(I,"assembleFont",function(){return R.a});var y=a("sstZ");a.d(I,"isAllowCapture",function(){return y.b});var w=a("aSjE");a.d(I,"multiplyVec2",function(){return w.c}),a.d(I,"invert",function(){return w.a});var N=a("lt7v");a.d(I,"getOffScreenContext",function(){return N.a});var z="0.5.6"},aLzy:function(Ft,I,a){"use strict";a.d(I,"a",function(){return yt});var f=a("mrSG"),i=a("zJSt"),g=a("w02o"),p=a("YuPD"),E=a("5OoT"),S=a("iTfj"),A=a("5HRO"),M=a("WOQw"),x="$$percentage$$",O="$$mappingValue$$",C="$$conversion$$",D="$$totalPercentage$$",R="$$x$$",y="$$y$$";function w(ut,ft,it){var vt=[],Wt=it.yField,Ct=it.maxSize,Z=it.minSize,X=Object(S.X)(ft,Wt)[Wt],dt=Object(S.K)(Ct)?Ct:1,H=Object(S.K)(Z)?Z:0;return vt=Object(S.U)(ut,function(lt,Ot){var Rt=(lt[Wt]||0)/X;return lt[x]=Rt,lt[O]=(dt-H)*Rt+H,lt[C]=[Object(S.s)(ut,[Ot-1,Wt]),lt[Wt]],lt}),vt}function N(ut){return function(ft){var it=ft.chart,vt=ft.options,Wt=vt.conversionTag,Ct=it.getOptions().data;if(Wt){var Z=Wt.formatter;Ct.forEach(function(X,dt){if(!(dt<=0)){var H=ut(X,dt,Ct,{top:!0,text:{content:Object(S.H)(Z)?Z(X,Ct):Z,offsetX:Wt.offsetX,offsetY:Wt.offsetY,position:"end",autoRotate:!1,style:Object(f.a)({textAlign:"start",textBaseline:"middle"},Wt.style)}});it.annotation().line(H)}})}return ft}}function z(ut){var ft=ut.chart,it=ut.options,vt=it.data,Wt=vt===void 0?[]:vt,Ct=it.yField,Z=it.maxSize,X=it.minSize,dt=w(Wt,Wt,{yField:Ct,maxSize:Z,minSize:X});return ft.data(dt),ut}function V(ut){var ft=ut.chart,it=ut.options,vt=it.xField,Wt=it.yField,Ct=it.color,Z=it.tooltip,X=it.label,dt=Object(A.a)(Z,[vt,Wt]),H=dt.fields,lt=dt.formatter;Object(M.a)({chart:ft,options:{type:"interval",xField:vt,yField:O,colorField:vt,tooltipFields:Object(S.B)(H)&&H.concat([x,C]),mapping:{shape:"funnel",tooltip:lt,color:Ct},label:X}});var Ot=Object(p.c)(ut.chart,"interval");return Ot.adjust("symmetric"),ut}function B(ut){var ft=ut.chart,it=ut.options,vt=it.isTransposed;return ft.coordinate({type:"rect",actions:vt?[]:[["transpose"],["scale",1,-1]]}),ut}function P(ut){var ft=ut.options,it=ft.maxSize,vt=function(Ct,Z,X,dt){var H=it-(it-Ct[O])/2;return Object(f.a)(Object(f.a)({},dt),{start:[Z-.5,H],end:[Z-.5,H+.05]})};return N(vt)(ut),ut}function T(ut){return Object(p.e)(z,V,B,P)(ut)}function W(ut){var ft,it=ut.chart,vt=ut.options,Wt=vt.data,Ct=Wt===void 0?[]:Wt,Z=vt.yField;return it.data(Ct),it.scale((ft={},ft[Z]={sync:!0},ft)),ut}function Q(ut){var ft=ut.chart,it=ut.options,vt=it.data,Wt=it.xField,Ct=it.yField,Z=it.color,X=it.compareField,dt=it.isTransposed,H=it.tooltip,lt=it.maxSize,Ot=it.minSize,Rt=it.label;return ft.facet("mirror",{fields:[X],transpose:!dt,padding:dt?0:[32,0,0,0],eachView:function(Bt,tt){var J=dt?tt.rowIndex:tt.columnIndex;dt||Bt.coordinate({type:"rect",actions:[["transpose"],["scale",J===0?-1:1,-1]]});var G=w(tt.data,vt,{yField:Ct,maxSize:lt,minSize:Ot});Bt.data(G);var Et=Object(A.a)(H,[Wt,Ct,X]),Tt=Et.fields,ct=Et.formatter,St=dt?{offset:J===0?10:-23,position:J===0?"bottom":"top"}:{offset:10,position:"left",style:{textAlign:J===0?"end":"start"}};Object(M.a)({chart:Bt,options:{type:"interval",xField:Wt,yField:O,colorField:Wt,tooltipFields:Object(S.B)(Tt)&&Tt.concat([x,C]),mapping:{shape:"funnel",tooltip:ct,color:Z,style:{lineWidth:1,stroke:"#fff"}},label:Rt===!1?!1:Object(p.b)({},St,Rt)}})}}),ut}function nt(ut){var ft=ut.chart,it=ut.options,vt=it.conversionTag,Wt=it.isTransposed;return ft.once("beforepaint",function(){ft.views.forEach(function(Ct,Z){var X=function(H,lt,Ot,Rt){var zt=Z===0?-1:1;return Object(p.b)({},Rt,{start:[lt-.5,H[O]],end:[lt-.5,H[O]+.05],text:Wt?{style:{textAlign:"start"}}:{offsetX:vt!==!1?zt*vt.offsetX:0,style:{textAlign:Z===0?"end":"start"}}})};N(X)(Object(p.b)({},{chart:Ct,options:it}))})}),ut}function st(ut){return Object(p.e)(W,Q,nt)(ut)}function et(ut){var ft,it=ut.chart,vt=ut.options,Wt=vt.data,Ct=Wt===void 0?[]:Wt,Z=vt.yField;return it.data(Ct),it.scale((ft={},ft[Z]={sync:!0},ft)),ut}function _(ut){var ft=ut.chart,it=ut.options,vt=it.seriesField,Wt=it.isTransposed;return ft.facet("rect",{fields:[vt],padding:[Wt?0:32,10,0,10],eachView:function(Z,X){T(Object(p.b)({},ut,{chart:Z,options:{data:X.data}}))}}),ut}function Y(ut){return Object(p.e)(et,_)(ut)}function $(ut){var ft=ut.chart,it=ut.options,vt=it.data,Wt=vt===void 0?[]:vt,Ct=it.yField,Z=Object(S.fb)(Wt,function(H,lt){return H+(lt[Ct]||0)},0),X=Object(S.X)(Wt,Ct)[Ct],dt=Object(S.U)(Wt,function(H,lt){var Ot=[],Rt=[];if(H[D]=(H[Ct]||0)/Z,lt){var zt=Wt[lt-1][R],Bt=Wt[lt-1][y];Ot[0]=zt[3],Rt[0]=Bt[3],Ot[1]=zt[2],Rt[1]=Bt[2]}else Ot[0]=-.5,Rt[0]=1,Ot[1]=.5,Rt[1]=1;return Rt[2]=Rt[1]-H[D],Ot[2]=(Rt[2]+1)/4,Rt[3]=Rt[2],Ot[3]=-Ot[2],H[R]=Ot,H[y]=Rt,H[x]=(H[Ct]||0)/X,H[C]=[Object(S.s)(Wt,[lt-1,Ct]),H[Ct]],H});return ft.data(dt),ut}function q(ut){var ft=ut.chart,it=ut.options,vt=it.xField,Wt=it.yField,Ct=it.color,Z=it.tooltip,X=it.label,dt=Object(A.a)(Z,[vt,Wt]),H=dt.fields,lt=dt.formatter;return Object(M.a)({chart:ft,options:{type:"polygon",xField:R,yField:y,colorField:vt,tooltipFields:Object(S.B)(H)&&H.concat([x,C]),label:X,mapping:{tooltip:lt,color:Ct}}}),ut}function at(ut){var ft=ut.chart,it=ut.options,vt=it.isTransposed;return ft.coordinate({type:"rect",actions:vt?[["transpose"],["reflect","x"]]:[]}),ut}function pt(ut){var ft=function(vt,Wt,Ct,Z){return Object(f.a)(Object(f.a)({},Z),{start:[vt[R][1],vt[y][1]],end:[vt[R][1]+.05,vt[y][1]]})};return N(ft)(ut),ut}function mt(ut){return Object(p.e)($,q,at,pt)(ut)}function ot(ut){var ft,it=ut.options,vt=it.compareField,Wt=it.xField,Ct=it.yField,Z={minSize:0,maxSize:1,meta:(ft={},ft[O]={min:0,max:1,nice:!1},ft),label:vt?{fields:[Wt,Ct,vt,x,C],style:{fill:"#fff",fontSize:12},formatter:function(dt){return""+dt[Ct]}}:{fields:[Wt,Ct,x,C],offset:0,position:"middle",style:{fill:"#fff",fontSize:12},formatter:function(dt){return dt[Wt]+" "+dt[Ct]}},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,title:Wt,formatter:function(dt){return{name:dt[Wt],value:dt[Ct]}}},conversionTag:{offsetX:10,offsetY:0,style:{},formatter:function(dt){return"\u8F6C\u5316\u7387: "+E.a.apply(void 0,dt[C])}}};return Object(p.b)({options:Z},ut)}function xt(ut){var ft=ut.options,it=ft.compareField,vt=ft.dynamicHeight,Wt=ft.seriesField;return Wt?Y(ut):it?st(ut):vt?mt(ut):T(ut)}function It(ut){var ft,it=ut.options,vt=it.xAxis,Wt=it.yAxis,Ct=it.xField,Z=it.yField;return Object(p.e)(Object(g.f)((ft={},ft[Ct]=vt,ft[Z]=Wt,ft)))(ut)}function Ht(ut){var ft=ut.chart;return ft.axis(!1),ut}function Qt(ut){var ft=ut.chart,it=ut.options,vt=it.legend;return vt===!1?ft.legend(!1):ft.legend(vt),ut}function $t(ut){return Object(p.e)(ot,xt,It,Ht,g.k,g.c,Qt,g.a,g.j,Object(g.b)())(ut)}var yt=function(ut){Object(f.c)(ft,ut);function ft(){var it=ut!==null&&ut.apply(this,arguments)||this;return it.type="funnel",it}return ft.getDefaultOptions=function(){return{appendPadding:[0,80]}},ft.prototype.getDefaultOptions=function(){return ft.getDefaultOptions()},ft.prototype.getSchemaAdaptor=function(){return $t},ft}(i.b)},aMEK:function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=a("k1fw"),i=a("rAM+"),g=a("oBTY"),p=function(){function N(B,P){function T(){this.constructor=B}T.prototype=P.prototype,B.prototype=new T}function z(B,P,T,W){this.message=B,this.expected=P,this.found=T,this.location=W,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,z)}N(z,Error),z.buildMessage=function(B,P){var T={literal:function($){return'"'+Q($.text)+'"'},class:function($){var q="",at;for(at=0;at<$.parts.length;at++)q+=$.parts[at]instanceof Array?nt($.parts[at][0])+"-"+nt($.parts[at][1]):nt($.parts[at]);return"["+($.inverted?"^":"")+q+"]"},any:function($){return"any character"},end:function($){return"end of input"},other:function($){return $.description}};function W(Y){return Y.charCodeAt(0).toString(16).toUpperCase()}function Q(Y){return Y.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+W($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+W($)})}function nt(Y){return Y.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function($){return"\\x0"+W($)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function($){return"\\x"+W($)})}function st(Y){return T[Y.type](Y)}function et(Y){var $=new Array(Y.length),q,at;for(q=0;q<Y.length;q++)$[q]=st(Y[q]);if($.sort(),$.length>0){for(q=1,at=1;q<$.length;q++)$[q-1]!==$[q]&&($[at]=$[q],at++);$.length=at}switch($.length){case 1:return $[0];case 2:return $[0]+" or "+$[1];default:return $.slice(0,-1).join(", ")+", or "+$[$.length-1]}}function _(Y){return Y?'"'+Q(Y)+'"':"end of input"}return"Expected "+et(B)+" but "+_(P)+" found."};function V(B,P){P=P!==void 0?P:{};var T={},W={Start:Ns},Q=Ns,nt=function(or){return or},st="MAX",et=Ei("MAX",!1),_="MIN",Y=Ei("MIN",!1),$="SUM",q=Ei("SUM",!1),at="AVG",pt=Ei("AVG",!1),mt="COUNT",ot=Ei("COUNT",!1),xt="+",It=Ei("+",!1),Ht="-",Qt=Ei("-",!1),$t=function(or,de){return de.length===0?or:{type:"arithmetic",ops:de.map(function(ee){return ee[1]}),terms:[or].concat(Object(g.a)(de.map(function(ee){return ee[3]})))}},yt="*",ut=Ei("*",!1),ft="/",it=Ei("/",!1),vt="(",Wt=Ei("(",!1),Ct=")",Z=Ei(")",!1),X=function(or,de){return{type:"aggr-func-call",funcName:or,subExpr:de}},dt=function(or){return or},H=function(or){return{type:"n",n:or}},lt=function(or){return{type:"field",code:or}},Ot=bo("identifier"),Rt=function(or,de){return or+de.join("")},zt=bo("number"),Bt=/^[+\-]/,tt=Zi(["+","-"],!1,!1),J=function(or,de){return or==="-"?-de:de},G="0x",Et=Ei("0x",!0),Tt=function(or){return Number(Xo())},ct="0b",St=Ei("0b",!0),Vt=/^[01]/,Lt=Zi(["0","1"],!1,!1),Nt=".",Zt=Ei(".",!1),oe=function(){return Number(Xo())},ue="0",Ee=Ei("0",!1),Te=/^[\n\r\u2028\u2029]/,Se=Zi([`
`,"\r","\u2028","\u2029"],!1,!1),$e=bo("end of line"),cr=`
`,He=Ei(`
`,!1),_e=`\r
`,ur=Ei(`\r
`,!1),jr="\r",Ar=Ei("\r",!1),Ge="\u2028",br=Ei("\u2028",!1),er="\u2029",nr=Ei("\u2029",!1),yr=bo("comment"),Rr="/*",an=Ei("/*",!1),In="*/",Un=Ei("*/",!1),_n="//",sa=Ei("//",!1),ci=Do(),fi=bo("whitespace"),pa="	",ga=Ei("	",!1),Xi="\v",Ci=Ei("\v",!1),Ki="\f",so=Ei("\f",!1),co=" ",fo=Ei(" ",!1),ya="\xA0",_a=Ei("\xA0",!1),rr="\uFEFF",ir=Ei("\uFEFF",!1),Ye="\u200C",tr=Ei("\u200C",!1),Fr="\u200D",tn=Ei("\u200D",!1),bn="$",on=Ei("$",!1),Oa="_",na=Ei("_",!1),wa=/^[0-9]/,da=Zi([["0","9"]],!1,!1),bi=/^[1-9]/,qa=Zi([["1","9"]],!1,!1),fa=/^[0-9a-f]/i,Aa=Zi([["0","9"],["a","f"]],!1,!0),Sa=/^[a-z\xB5\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137-\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148-\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C-\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA-\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9-\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC-\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF-\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F-\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02AF\u0371\u0373\u0377\u037B-\u037D\u0390\u03AC-\u03CE\u03D0-\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB-\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE-\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0561-\u0587\u13F8-\u13FD\u1D00-\u1D2B\u1D6B-\u1D77\u1D79-\u1D9A\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6-\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FC7\u1FD0-\u1FD3\u1FD6-\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6-\u1FF7\u210A\u210E-\u210F\u2113\u212F\u2134\u2139\u213C-\u213D\u2146-\u2149\u214E\u2184\u2C30-\u2C5E\u2C61\u2C65-\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73-\u2C74\u2C76-\u2C7B\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3-\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F\uA771-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7B5\uA7B7\uA7FA\uAB30-\uAB5A\uAB60-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]/,Fa=Zi([["a","z"],"\xB5",["\xDF","\xF6"],["\xF8","\xFF"],"\u0101","\u0103","\u0105","\u0107","\u0109","\u010B","\u010D","\u010F","\u0111","\u0113","\u0115","\u0117","\u0119","\u011B","\u011D","\u011F","\u0121","\u0123","\u0125","\u0127","\u0129","\u012B","\u012D","\u012F","\u0131","\u0133","\u0135",["\u0137","\u0138"],"\u013A","\u013C","\u013E","\u0140","\u0142","\u0144","\u0146",["\u0148","\u0149"],"\u014B","\u014D","\u014F","\u0151","\u0153","\u0155","\u0157","\u0159","\u015B","\u015D","\u015F","\u0161","\u0163","\u0165","\u0167","\u0169","\u016B","\u016D","\u016F","\u0171","\u0173","\u0175","\u0177","\u017A","\u017C",["\u017E","\u0180"],"\u0183","\u0185","\u0188",["\u018C","\u018D"],"\u0192","\u0195",["\u0199","\u019B"],"\u019E","\u01A1","\u01A3","\u01A5","\u01A8",["\u01AA","\u01AB"],"\u01AD","\u01B0","\u01B4","\u01B6",["\u01B9","\u01BA"],["\u01BD","\u01BF"],"\u01C6","\u01C9","\u01CC","\u01CE","\u01D0","\u01D2","\u01D4","\u01D6","\u01D8","\u01DA",["\u01DC","\u01DD"],"\u01DF","\u01E1","\u01E3","\u01E5","\u01E7","\u01E9","\u01EB","\u01ED",["\u01EF","\u01F0"],"\u01F3","\u01F5","\u01F9","\u01FB","\u01FD","\u01FF","\u0201","\u0203","\u0205","\u0207","\u0209","\u020B","\u020D","\u020F","\u0211","\u0213","\u0215","\u0217","\u0219","\u021B","\u021D","\u021F","\u0221","\u0223","\u0225","\u0227","\u0229","\u022B","\u022D","\u022F","\u0231",["\u0233","\u0239"],"\u023C",["\u023F","\u0240"],"\u0242","\u0247","\u0249","\u024B","\u024D",["\u024F","\u0293"],["\u0295","\u02AF"],"\u0371","\u0373","\u0377",["\u037B","\u037D"],"\u0390",["\u03AC","\u03CE"],["\u03D0","\u03D1"],["\u03D5","\u03D7"],"\u03D9","\u03DB","\u03DD","\u03DF","\u03E1","\u03E3","\u03E5","\u03E7","\u03E9","\u03EB","\u03ED",["\u03EF","\u03F3"],"\u03F5","\u03F8",["\u03FB","\u03FC"],["\u0430","\u045F"],"\u0461","\u0463","\u0465","\u0467","\u0469","\u046B","\u046D","\u046F","\u0471","\u0473","\u0475","\u0477","\u0479","\u047B","\u047D","\u047F","\u0481","\u048B","\u048D","\u048F","\u0491","\u0493","\u0495","\u0497","\u0499","\u049B","\u049D","\u049F","\u04A1","\u04A3","\u04A5","\u04A7","\u04A9","\u04AB","\u04AD","\u04AF","\u04B1","\u04B3","\u04B5","\u04B7","\u04B9","\u04BB","\u04BD","\u04BF","\u04C2","\u04C4","\u04C6","\u04C8","\u04CA","\u04CC",["\u04CE","\u04CF"],"\u04D1","\u04D3","\u04D5","\u04D7","\u04D9","\u04DB","\u04DD","\u04DF","\u04E1","\u04E3","\u04E5","\u04E7","\u04E9","\u04EB","\u04ED","\u04EF","\u04F1","\u04F3","\u04F5","\u04F7","\u04F9","\u04FB","\u04FD","\u04FF","\u0501","\u0503","\u0505","\u0507","\u0509","\u050B","\u050D","\u050F","\u0511","\u0513","\u0515","\u0517","\u0519","\u051B","\u051D","\u051F","\u0521","\u0523","\u0525","\u0527","\u0529","\u052B","\u052D","\u052F",["\u0561","\u0587"],["\u13F8","\u13FD"],["\u1D00","\u1D2B"],["\u1D6B","\u1D77"],["\u1D79","\u1D9A"],"\u1E01","\u1E03","\u1E05","\u1E07","\u1E09","\u1E0B","\u1E0D","\u1E0F","\u1E11","\u1E13","\u1E15","\u1E17","\u1E19","\u1E1B","\u1E1D","\u1E1F","\u1E21","\u1E23","\u1E25","\u1E27","\u1E29","\u1E2B","\u1E2D","\u1E2F","\u1E31","\u1E33","\u1E35","\u1E37","\u1E39","\u1E3B","\u1E3D","\u1E3F","\u1E41","\u1E43","\u1E45","\u1E47","\u1E49","\u1E4B","\u1E4D","\u1E4F","\u1E51","\u1E53","\u1E55","\u1E57","\u1E59","\u1E5B","\u1E5D","\u1E5F","\u1E61","\u1E63","\u1E65","\u1E67","\u1E69","\u1E6B","\u1E6D","\u1E6F","\u1E71","\u1E73","\u1E75","\u1E77","\u1E79","\u1E7B","\u1E7D","\u1E7F","\u1E81","\u1E83","\u1E85","\u1E87","\u1E89","\u1E8B","\u1E8D","\u1E8F","\u1E91","\u1E93",["\u1E95","\u1E9D"],"\u1E9F","\u1EA1","\u1EA3","\u1EA5","\u1EA7","\u1EA9","\u1EAB","\u1EAD","\u1EAF","\u1EB1","\u1EB3","\u1EB5","\u1EB7","\u1EB9","\u1EBB","\u1EBD","\u1EBF","\u1EC1","\u1EC3","\u1EC5","\u1EC7","\u1EC9","\u1ECB","\u1ECD","\u1ECF","\u1ED1","\u1ED3","\u1ED5","\u1ED7","\u1ED9","\u1EDB","\u1EDD","\u1EDF","\u1EE1","\u1EE3","\u1EE5","\u1EE7","\u1EE9","\u1EEB","\u1EED","\u1EEF","\u1EF1","\u1EF3","\u1EF5","\u1EF7","\u1EF9","\u1EFB","\u1EFD",["\u1EFF","\u1F07"],["\u1F10","\u1F15"],["\u1F20","\u1F27"],["\u1F30","\u1F37"],["\u1F40","\u1F45"],["\u1F50","\u1F57"],["\u1F60","\u1F67"],["\u1F70","\u1F7D"],["\u1F80","\u1F87"],["\u1F90","\u1F97"],["\u1FA0","\u1FA7"],["\u1FB0","\u1FB4"],["\u1FB6","\u1FB7"],"\u1FBE",["\u1FC2","\u1FC4"],["\u1FC6","\u1FC7"],["\u1FD0","\u1FD3"],["\u1FD6","\u1FD7"],["\u1FE0","\u1FE7"],["\u1FF2","\u1FF4"],["\u1FF6","\u1FF7"],"\u210A",["\u210E","\u210F"],"\u2113","\u212F","\u2134","\u2139",["\u213C","\u213D"],["\u2146","\u2149"],"\u214E","\u2184",["\u2C30","\u2C5E"],"\u2C61",["\u2C65","\u2C66"],"\u2C68","\u2C6A","\u2C6C","\u2C71",["\u2C73","\u2C74"],["\u2C76","\u2C7B"],"\u2C81","\u2C83","\u2C85","\u2C87","\u2C89","\u2C8B","\u2C8D","\u2C8F","\u2C91","\u2C93","\u2C95","\u2C97","\u2C99","\u2C9B","\u2C9D","\u2C9F","\u2CA1","\u2CA3","\u2CA5","\u2CA7","\u2CA9","\u2CAB","\u2CAD","\u2CAF","\u2CB1","\u2CB3","\u2CB5","\u2CB7","\u2CB9","\u2CBB","\u2CBD","\u2CBF","\u2CC1","\u2CC3","\u2CC5","\u2CC7","\u2CC9","\u2CCB","\u2CCD","\u2CCF","\u2CD1","\u2CD3","\u2CD5","\u2CD7","\u2CD9","\u2CDB","\u2CDD","\u2CDF","\u2CE1",["\u2CE3","\u2CE4"],"\u2CEC","\u2CEE","\u2CF3",["\u2D00","\u2D25"],"\u2D27","\u2D2D","\uA641","\uA643","\uA645","\uA647","\uA649","\uA64B","\uA64D","\uA64F","\uA651","\uA653","\uA655","\uA657","\uA659","\uA65B","\uA65D","\uA65F","\uA661","\uA663","\uA665","\uA667","\uA669","\uA66B","\uA66D","\uA681","\uA683","\uA685","\uA687","\uA689","\uA68B","\uA68D","\uA68F","\uA691","\uA693","\uA695","\uA697","\uA699","\uA69B","\uA723","\uA725","\uA727","\uA729","\uA72B","\uA72D",["\uA72F","\uA731"],"\uA733","\uA735","\uA737","\uA739","\uA73B","\uA73D","\uA73F","\uA741","\uA743","\uA745","\uA747","\uA749","\uA74B","\uA74D","\uA74F","\uA751","\uA753","\uA755","\uA757","\uA759","\uA75B","\uA75D","\uA75F","\uA761","\uA763","\uA765","\uA767","\uA769","\uA76B","\uA76D","\uA76F",["\uA771","\uA778"],"\uA77A","\uA77C","\uA77F","\uA781","\uA783","\uA785","\uA787","\uA78C","\uA78E","\uA791",["\uA793","\uA795"],"\uA797","\uA799","\uA79B","\uA79D","\uA79F","\uA7A1","\uA7A3","\uA7A5","\uA7A7","\uA7A9","\uA7B5","\uA7B7","\uA7FA",["\uAB30","\uAB5A"],["\uAB60","\uAB65"],["\uAB70","\uABBF"],["\uFB00","\uFB06"],["\uFB13","\uFB17"],["\uFF41","\uFF5A"]],!1,!1),Ka=/^[\u02B0-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0374\u037A\u0559\u0640\u06E5-\u06E6\u07F4-\u07F5\u07FA\u081A\u0824\u0828\u0971\u0E46\u0EC6\u10FC\u17D7\u1843\u1AA7\u1C78-\u1C7D\u1D2C-\u1D6A\u1D78\u1D9B-\u1DBF\u2071\u207F\u2090-\u209C\u2C7C-\u2C7D\u2D6F\u2E2F\u3005\u3031-\u3035\u303B\u309D-\u309E\u30FC-\u30FE\uA015\uA4F8-\uA4FD\uA60C\uA67F\uA69C-\uA69D\uA717-\uA71F\uA770\uA788\uA7F8-\uA7F9\uA9CF\uA9E6\uAA70\uAADD\uAAF3-\uAAF4\uAB5C-\uAB5F\uFF70\uFF9E-\uFF9F]/,hi=Zi([["\u02B0","\u02C1"],["\u02C6","\u02D1"],["\u02E0","\u02E4"],"\u02EC","\u02EE","\u0374","\u037A","\u0559","\u0640",["\u06E5","\u06E6"],["\u07F4","\u07F5"],"\u07FA","\u081A","\u0824","\u0828","\u0971","\u0E46","\u0EC6","\u10FC","\u17D7","\u1843","\u1AA7",["\u1C78","\u1C7D"],["\u1D2C","\u1D6A"],"\u1D78",["\u1D9B","\u1DBF"],"\u2071","\u207F",["\u2090","\u209C"],["\u2C7C","\u2C7D"],"\u2D6F","\u2E2F","\u3005",["\u3031","\u3035"],"\u303B",["\u309D","\u309E"],["\u30FC","\u30FE"],"\uA015",["\uA4F8","\uA4FD"],"\uA60C","\uA67F",["\uA69C","\uA69D"],["\uA717","\uA71F"],"\uA770","\uA788",["\uA7F8","\uA7F9"],"\uA9CF","\uA9E6","\uAA70","\uAADD",["\uAAF3","\uAAF4"],["\uAB5C","\uAB5F"],"\uFF70",["\uFF9E","\uFF9F"]],!1,!1),me=/^[\xAA\xBA\u01BB\u01C0-\u01C3\u0294\u05D0-\u05EA\u05F0-\u05F2\u0620-\u063F\u0641-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u0800-\u0815\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0972-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E45\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10D0-\u10FA\u10FD-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17DC\u1820-\u1842\u1844-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C77\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u2135-\u2138\u2D30-\u2D67\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3006\u303C\u3041-\u3096\u309F\u30A1-\u30FA\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA014\uA016-\uA48C\uA4D0-\uA4F7\uA500-\uA60B\uA610-\uA61F\uA62A-\uA62B\uA66E\uA6A0-\uA6E5\uA78F\uA7F7\uA7FB-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9E0-\uA9E4\uA9E7-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA6F\uAA71-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADC\uAAE0-\uAAEA\uAAF2\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF66-\uFF6F\uFF71-\uFF9D\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,he=Zi(["\xAA","\xBA","\u01BB",["\u01C0","\u01C3"],"\u0294",["\u05D0","\u05EA"],["\u05F0","\u05F2"],["\u0620","\u063F"],["\u0641","\u064A"],["\u066E","\u066F"],["\u0671","\u06D3"],"\u06D5",["\u06EE","\u06EF"],["\u06FA","\u06FC"],"\u06FF","\u0710",["\u0712","\u072F"],["\u074D","\u07A5"],"\u07B1",["\u07CA","\u07EA"],["\u0800","\u0815"],["\u0840","\u0858"],["\u08A0","\u08B4"],["\u0904","\u0939"],"\u093D","\u0950",["\u0958","\u0961"],["\u0972","\u0980"],["\u0985","\u098C"],["\u098F","\u0990"],["\u0993","\u09A8"],["\u09AA","\u09B0"],"\u09B2",["\u09B6","\u09B9"],"\u09BD","\u09CE",["\u09DC","\u09DD"],["\u09DF","\u09E1"],["\u09F0","\u09F1"],["\u0A05","\u0A0A"],["\u0A0F","\u0A10"],["\u0A13","\u0A28"],["\u0A2A","\u0A30"],["\u0A32","\u0A33"],["\u0A35","\u0A36"],["\u0A38","\u0A39"],["\u0A59","\u0A5C"],"\u0A5E",["\u0A72","\u0A74"],["\u0A85","\u0A8D"],["\u0A8F","\u0A91"],["\u0A93","\u0AA8"],["\u0AAA","\u0AB0"],["\u0AB2","\u0AB3"],["\u0AB5","\u0AB9"],"\u0ABD","\u0AD0",["\u0AE0","\u0AE1"],"\u0AF9",["\u0B05","\u0B0C"],["\u0B0F","\u0B10"],["\u0B13","\u0B28"],["\u0B2A","\u0B30"],["\u0B32","\u0B33"],["\u0B35","\u0B39"],"\u0B3D",["\u0B5C","\u0B5D"],["\u0B5F","\u0B61"],"\u0B71","\u0B83",["\u0B85","\u0B8A"],["\u0B8E","\u0B90"],["\u0B92","\u0B95"],["\u0B99","\u0B9A"],"\u0B9C",["\u0B9E","\u0B9F"],["\u0BA3","\u0BA4"],["\u0BA8","\u0BAA"],["\u0BAE","\u0BB9"],"\u0BD0",["\u0C05","\u0C0C"],["\u0C0E","\u0C10"],["\u0C12","\u0C28"],["\u0C2A","\u0C39"],"\u0C3D",["\u0C58","\u0C5A"],["\u0C60","\u0C61"],["\u0C85","\u0C8C"],["\u0C8E","\u0C90"],["\u0C92","\u0CA8"],["\u0CAA","\u0CB3"],["\u0CB5","\u0CB9"],"\u0CBD","\u0CDE",["\u0CE0","\u0CE1"],["\u0CF1","\u0CF2"],["\u0D05","\u0D0C"],["\u0D0E","\u0D10"],["\u0D12","\u0D3A"],"\u0D3D","\u0D4E",["\u0D5F","\u0D61"],["\u0D7A","\u0D7F"],["\u0D85","\u0D96"],["\u0D9A","\u0DB1"],["\u0DB3","\u0DBB"],"\u0DBD",["\u0DC0","\u0DC6"],["\u0E01","\u0E30"],["\u0E32","\u0E33"],["\u0E40","\u0E45"],["\u0E81","\u0E82"],"\u0E84",["\u0E87","\u0E88"],"\u0E8A","\u0E8D",["\u0E94","\u0E97"],["\u0E99","\u0E9F"],["\u0EA1","\u0EA3"],"\u0EA5","\u0EA7",["\u0EAA","\u0EAB"],["\u0EAD","\u0EB0"],["\u0EB2","\u0EB3"],"\u0EBD",["\u0EC0","\u0EC4"],["\u0EDC","\u0EDF"],"\u0F00",["\u0F40","\u0F47"],["\u0F49","\u0F6C"],["\u0F88","\u0F8C"],["\u1000","\u102A"],"\u103F",["\u1050","\u1055"],["\u105A","\u105D"],"\u1061",["\u1065","\u1066"],["\u106E","\u1070"],["\u1075","\u1081"],"\u108E",["\u10D0","\u10FA"],["\u10FD","\u1248"],["\u124A","\u124D"],["\u1250","\u1256"],"\u1258",["\u125A","\u125D"],["\u1260","\u1288"],["\u128A","\u128D"],["\u1290","\u12B0"],["\u12B2","\u12B5"],["\u12B8","\u12BE"],"\u12C0",["\u12C2","\u12C5"],["\u12C8","\u12D6"],["\u12D8","\u1310"],["\u1312","\u1315"],["\u1318","\u135A"],["\u1380","\u138F"],["\u1401","\u166C"],["\u166F","\u167F"],["\u1681","\u169A"],["\u16A0","\u16EA"],["\u16F1","\u16F8"],["\u1700","\u170C"],["\u170E","\u1711"],["\u1720","\u1731"],["\u1740","\u1751"],["\u1760","\u176C"],["\u176E","\u1770"],["\u1780","\u17B3"],"\u17DC",["\u1820","\u1842"],["\u1844","\u1877"],["\u1880","\u18A8"],"\u18AA",["\u18B0","\u18F5"],["\u1900","\u191E"],["\u1950","\u196D"],["\u1970","\u1974"],["\u1980","\u19AB"],["\u19B0","\u19C9"],["\u1A00","\u1A16"],["\u1A20","\u1A54"],["\u1B05","\u1B33"],["\u1B45","\u1B4B"],["\u1B83","\u1BA0"],["\u1BAE","\u1BAF"],["\u1BBA","\u1BE5"],["\u1C00","\u1C23"],["\u1C4D","\u1C4F"],["\u1C5A","\u1C77"],["\u1CE9","\u1CEC"],["\u1CEE","\u1CF1"],["\u1CF5","\u1CF6"],["\u2135","\u2138"],["\u2D30","\u2D67"],["\u2D80","\u2D96"],["\u2DA0","\u2DA6"],["\u2DA8","\u2DAE"],["\u2DB0","\u2DB6"],["\u2DB8","\u2DBE"],["\u2DC0","\u2DC6"],["\u2DC8","\u2DCE"],["\u2DD0","\u2DD6"],["\u2DD8","\u2DDE"],"\u3006","\u303C",["\u3041","\u3096"],"\u309F",["\u30A1","\u30FA"],"\u30FF",["\u3105","\u312D"],["\u3131","\u318E"],["\u31A0","\u31BA"],["\u31F0","\u31FF"],["\u3400","\u4DB5"],["\u4E00","\u9FD5"],["\uA000","\uA014"],["\uA016","\uA48C"],["\uA4D0","\uA4F7"],["\uA500","\uA60B"],["\uA610","\uA61F"],["\uA62A","\uA62B"],"\uA66E",["\uA6A0","\uA6E5"],"\uA78F","\uA7F7",["\uA7FB","\uA801"],["\uA803","\uA805"],["\uA807","\uA80A"],["\uA80C","\uA822"],["\uA840","\uA873"],["\uA882","\uA8B3"],["\uA8F2","\uA8F7"],"\uA8FB","\uA8FD",["\uA90A","\uA925"],["\uA930","\uA946"],["\uA960","\uA97C"],["\uA984","\uA9B2"],["\uA9E0","\uA9E4"],["\uA9E7","\uA9EF"],["\uA9FA","\uA9FE"],["\uAA00","\uAA28"],["\uAA40","\uAA42"],["\uAA44","\uAA4B"],["\uAA60","\uAA6F"],["\uAA71","\uAA76"],"\uAA7A",["\uAA7E","\uAAAF"],"\uAAB1",["\uAAB5","\uAAB6"],["\uAAB9","\uAABD"],"\uAAC0","\uAAC2",["\uAADB","\uAADC"],["\uAAE0","\uAAEA"],"\uAAF2",["\uAB01","\uAB06"],["\uAB09","\uAB0E"],["\uAB11","\uAB16"],["\uAB20","\uAB26"],["\uAB28","\uAB2E"],["\uABC0","\uABE2"],["\uAC00","\uD7A3"],["\uD7B0","\uD7C6"],["\uD7CB","\uD7FB"],["\uF900","\uFA6D"],["\uFA70","\uFAD9"],"\uFB1D",["\uFB1F","\uFB28"],["\uFB2A","\uFB36"],["\uFB38","\uFB3C"],"\uFB3E",["\uFB40","\uFB41"],["\uFB43","\uFB44"],["\uFB46","\uFBB1"],["\uFBD3","\uFD3D"],["\uFD50","\uFD8F"],["\uFD92","\uFDC7"],["\uFDF0","\uFDFB"],["\uFE70","\uFE74"],["\uFE76","\uFEFC"],["\uFF66","\uFF6F"],["\uFF71","\uFF9D"],["\uFFA0","\uFFBE"],["\uFFC2","\uFFC7"],["\uFFCA","\uFFCF"],["\uFFD2","\uFFD7"],["\uFFDA","\uFFDC"]],!1,!1),be=/^[\u01C5\u01C8\u01CB\u01F2\u1F88-\u1F8F\u1F98-\u1F9F\u1FA8-\u1FAF\u1FBC\u1FCC\u1FFC]/,Ve=Zi(["\u01C5","\u01C8","\u01CB","\u01F2",["\u1F88","\u1F8F"],["\u1F98","\u1F9F"],["\u1FA8","\u1FAF"],"\u1FBC","\u1FCC","\u1FFC"],!1,!1),Ke=/^[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178-\u0179\u017B\u017D\u0181-\u0182\u0184\u0186-\u0187\u0189-\u018B\u018E-\u0191\u0193-\u0194\u0196-\u0198\u019C-\u019D\u019F-\u01A0\u01A2\u01A4\u01A6-\u01A7\u01A9\u01AC\u01AE-\u01AF\u01B1-\u01B3\u01B5\u01B7-\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A-\u023B\u023D-\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9-\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0-\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E-\u213F\u2145\u2183\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D-\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0-\uA7B4\uA7B6\uFF21-\uFF3A]/,fr=Zi([["A","Z"],["\xC0","\xD6"],["\xD8","\xDE"],"\u0100","\u0102","\u0104","\u0106","\u0108","\u010A","\u010C","\u010E","\u0110","\u0112","\u0114","\u0116","\u0118","\u011A","\u011C","\u011E","\u0120","\u0122","\u0124","\u0126","\u0128","\u012A","\u012C","\u012E","\u0130","\u0132","\u0134","\u0136","\u0139","\u013B","\u013D","\u013F","\u0141","\u0143","\u0145","\u0147","\u014A","\u014C","\u014E","\u0150","\u0152","\u0154","\u0156","\u0158","\u015A","\u015C","\u015E","\u0160","\u0162","\u0164","\u0166","\u0168","\u016A","\u016C","\u016E","\u0170","\u0172","\u0174","\u0176",["\u0178","\u0179"],"\u017B","\u017D",["\u0181","\u0182"],"\u0184",["\u0186","\u0187"],["\u0189","\u018B"],["\u018E","\u0191"],["\u0193","\u0194"],["\u0196","\u0198"],["\u019C","\u019D"],["\u019F","\u01A0"],"\u01A2","\u01A4",["\u01A6","\u01A7"],"\u01A9","\u01AC",["\u01AE","\u01AF"],["\u01B1","\u01B3"],"\u01B5",["\u01B7","\u01B8"],"\u01BC","\u01C4","\u01C7","\u01CA","\u01CD","\u01CF","\u01D1","\u01D3","\u01D5","\u01D7","\u01D9","\u01DB","\u01DE","\u01E0","\u01E2","\u01E4","\u01E6","\u01E8","\u01EA","\u01EC","\u01EE","\u01F1","\u01F4",["\u01F6","\u01F8"],"\u01FA","\u01FC","\u01FE","\u0200","\u0202","\u0204","\u0206","\u0208","\u020A","\u020C","\u020E","\u0210","\u0212","\u0214","\u0216","\u0218","\u021A","\u021C","\u021E","\u0220","\u0222","\u0224","\u0226","\u0228","\u022A","\u022C","\u022E","\u0230","\u0232",["\u023A","\u023B"],["\u023D","\u023E"],"\u0241",["\u0243","\u0246"],"\u0248","\u024A","\u024C","\u024E","\u0370","\u0372","\u0376","\u037F","\u0386",["\u0388","\u038A"],"\u038C",["\u038E","\u038F"],["\u0391","\u03A1"],["\u03A3","\u03AB"],"\u03CF",["\u03D2","\u03D4"],"\u03D8","\u03DA","\u03DC","\u03DE","\u03E0","\u03E2","\u03E4","\u03E6","\u03E8","\u03EA","\u03EC","\u03EE","\u03F4","\u03F7",["\u03F9","\u03FA"],["\u03FD","\u042F"],"\u0460","\u0462","\u0464","\u0466","\u0468","\u046A","\u046C","\u046E","\u0470","\u0472","\u0474","\u0476","\u0478","\u047A","\u047C","\u047E","\u0480","\u048A","\u048C","\u048E","\u0490","\u0492","\u0494","\u0496","\u0498","\u049A","\u049C","\u049E","\u04A0","\u04A2","\u04A4","\u04A6","\u04A8","\u04AA","\u04AC","\u04AE","\u04B0","\u04B2","\u04B4","\u04B6","\u04B8","\u04BA","\u04BC","\u04BE",["\u04C0","\u04C1"],"\u04C3","\u04C5","\u04C7","\u04C9","\u04CB","\u04CD","\u04D0","\u04D2","\u04D4","\u04D6","\u04D8","\u04DA","\u04DC","\u04DE","\u04E0","\u04E2","\u04E4","\u04E6","\u04E8","\u04EA","\u04EC","\u04EE","\u04F0","\u04F2","\u04F4","\u04F6","\u04F8","\u04FA","\u04FC","\u04FE","\u0500","\u0502","\u0504","\u0506","\u0508","\u050A","\u050C","\u050E","\u0510","\u0512","\u0514","\u0516","\u0518","\u051A","\u051C","\u051E","\u0520","\u0522","\u0524","\u0526","\u0528","\u052A","\u052C","\u052E",["\u0531","\u0556"],["\u10A0","\u10C5"],"\u10C7","\u10CD",["\u13A0","\u13F5"],"\u1E00","\u1E02","\u1E04","\u1E06","\u1E08","\u1E0A","\u1E0C","\u1E0E","\u1E10","\u1E12","\u1E14","\u1E16","\u1E18","\u1E1A","\u1E1C","\u1E1E","\u1E20","\u1E22","\u1E24","\u1E26","\u1E28","\u1E2A","\u1E2C","\u1E2E","\u1E30","\u1E32","\u1E34","\u1E36","\u1E38","\u1E3A","\u1E3C","\u1E3E","\u1E40","\u1E42","\u1E44","\u1E46","\u1E48","\u1E4A","\u1E4C","\u1E4E","\u1E50","\u1E52","\u1E54","\u1E56","\u1E58","\u1E5A","\u1E5C","\u1E5E","\u1E60","\u1E62","\u1E64","\u1E66","\u1E68","\u1E6A","\u1E6C","\u1E6E","\u1E70","\u1E72","\u1E74","\u1E76","\u1E78","\u1E7A","\u1E7C","\u1E7E","\u1E80","\u1E82","\u1E84","\u1E86","\u1E88","\u1E8A","\u1E8C","\u1E8E","\u1E90","\u1E92","\u1E94","\u1E9E","\u1EA0","\u1EA2","\u1EA4","\u1EA6","\u1EA8","\u1EAA","\u1EAC","\u1EAE","\u1EB0","\u1EB2","\u1EB4","\u1EB6","\u1EB8","\u1EBA","\u1EBC","\u1EBE","\u1EC0","\u1EC2","\u1EC4","\u1EC6","\u1EC8","\u1ECA","\u1ECC","\u1ECE","\u1ED0","\u1ED2","\u1ED4","\u1ED6","\u1ED8","\u1EDA","\u1EDC","\u1EDE","\u1EE0","\u1EE2","\u1EE4","\u1EE6","\u1EE8","\u1EEA","\u1EEC","\u1EEE","\u1EF0","\u1EF2","\u1EF4","\u1EF6","\u1EF8","\u1EFA","\u1EFC","\u1EFE",["\u1F08","\u1F0F"],["\u1F18","\u1F1D"],["\u1F28","\u1F2F"],["\u1F38","\u1F3F"],["\u1F48","\u1F4D"],"\u1F59","\u1F5B","\u1F5D","\u1F5F",["\u1F68","\u1F6F"],["\u1FB8","\u1FBB"],["\u1FC8","\u1FCB"],["\u1FD8","\u1FDB"],["\u1FE8","\u1FEC"],["\u1FF8","\u1FFB"],"\u2102","\u2107",["\u210B","\u210D"],["\u2110","\u2112"],"\u2115",["\u2119","\u211D"],"\u2124","\u2126","\u2128",["\u212A","\u212D"],["\u2130","\u2133"],["\u213E","\u213F"],"\u2145","\u2183",["\u2C00","\u2C2E"],"\u2C60",["\u2C62","\u2C64"],"\u2C67","\u2C69","\u2C6B",["\u2C6D","\u2C70"],"\u2C72","\u2C75",["\u2C7E","\u2C80"],"\u2C82","\u2C84","\u2C86","\u2C88","\u2C8A","\u2C8C","\u2C8E","\u2C90","\u2C92","\u2C94","\u2C96","\u2C98","\u2C9A","\u2C9C","\u2C9E","\u2CA0","\u2CA2","\u2CA4","\u2CA6","\u2CA8","\u2CAA","\u2CAC","\u2CAE","\u2CB0","\u2CB2","\u2CB4","\u2CB6","\u2CB8","\u2CBA","\u2CBC","\u2CBE","\u2CC0","\u2CC2","\u2CC4","\u2CC6","\u2CC8","\u2CCA","\u2CCC","\u2CCE","\u2CD0","\u2CD2","\u2CD4","\u2CD6","\u2CD8","\u2CDA","\u2CDC","\u2CDE","\u2CE0","\u2CE2","\u2CEB","\u2CED","\u2CF2","\uA640","\uA642","\uA644","\uA646","\uA648","\uA64A","\uA64C","\uA64E","\uA650","\uA652","\uA654","\uA656","\uA658","\uA65A","\uA65C","\uA65E","\uA660","\uA662","\uA664","\uA666","\uA668","\uA66A","\uA66C","\uA680","\uA682","\uA684","\uA686","\uA688","\uA68A","\uA68C","\uA68E","\uA690","\uA692","\uA694","\uA696","\uA698","\uA69A","\uA722","\uA724","\uA726","\uA728","\uA72A","\uA72C","\uA72E","\uA732","\uA734","\uA736","\uA738","\uA73A","\uA73C","\uA73E","\uA740","\uA742","\uA744","\uA746","\uA748","\uA74A","\uA74C","\uA74E","\uA750","\uA752","\uA754","\uA756","\uA758","\uA75A","\uA75C","\uA75E","\uA760","\uA762","\uA764","\uA766","\uA768","\uA76A","\uA76C","\uA76E","\uA779","\uA77B",["\uA77D","\uA77E"],"\uA780","\uA782","\uA784","\uA786","\uA78B","\uA78D","\uA790","\uA792","\uA796","\uA798","\uA79A","\uA79C","\uA79E","\uA7A0","\uA7A2","\uA7A4","\uA7A6","\uA7A8",["\uA7AA","\uA7AD"],["\uA7B0","\uA7B4"],"\uA7B6",["\uFF21","\uFF3A"]],!1,!1),Lr=/^[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E-\u094F\u0982-\u0983\u09BE-\u09C0\u09C7-\u09C8\u09CB-\u09CC\u09D7\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB-\u0ACC\u0B02-\u0B03\u0B3E\u0B40\u0B47-\u0B48\u0B4B-\u0B4C\u0B57\u0BBE-\u0BBF\u0BC1-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0BD7\u0C01-\u0C03\u0C41-\u0C44\u0C82-\u0C83\u0CBE\u0CC0-\u0CC4\u0CC7-\u0CC8\u0CCA-\u0CCB\u0CD5-\u0CD6\u0D02-\u0D03\u0D3E-\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D57\u0D82-\u0D83\u0DCF-\u0DD1\u0DD8-\u0DDF\u0DF2-\u0DF3\u0F3E-\u0F3F\u0F7F\u102B-\u102C\u1031\u1038\u103B-\u103C\u1056-\u1057\u1062-\u1064\u1067-\u106D\u1083-\u1084\u1087-\u108C\u108F\u109A-\u109C\u17B6\u17BE-\u17C5\u17C7-\u17C8\u1923-\u1926\u1929-\u192B\u1930-\u1931\u1933-\u1938\u1A19-\u1A1A\u1A55\u1A57\u1A61\u1A63-\u1A64\u1A6D-\u1A72\u1B04\u1B35\u1B3B\u1B3D-\u1B41\u1B43-\u1B44\u1B82\u1BA1\u1BA6-\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2-\u1BF3\u1C24-\u1C2B\u1C34-\u1C35\u1CE1\u1CF2-\u1CF3\u302E-\u302F\uA823-\uA824\uA827\uA880-\uA881\uA8B4-\uA8C3\uA952-\uA953\uA983\uA9B4-\uA9B5\uA9BA-\uA9BB\uA9BD-\uA9C0\uAA2F-\uAA30\uAA33-\uAA34\uAA4D\uAA7B\uAA7D\uAAEB\uAAEE-\uAAEF\uAAF5\uABE3-\uABE4\uABE6-\uABE7\uABE9-\uABEA\uABEC]/,_r=Zi(["\u0903","\u093B",["\u093E","\u0940"],["\u0949","\u094C"],["\u094E","\u094F"],["\u0982","\u0983"],["\u09BE","\u09C0"],["\u09C7","\u09C8"],["\u09CB","\u09CC"],"\u09D7","\u0A03",["\u0A3E","\u0A40"],"\u0A83",["\u0ABE","\u0AC0"],"\u0AC9",["\u0ACB","\u0ACC"],["\u0B02","\u0B03"],"\u0B3E","\u0B40",["\u0B47","\u0B48"],["\u0B4B","\u0B4C"],"\u0B57",["\u0BBE","\u0BBF"],["\u0BC1","\u0BC2"],["\u0BC6","\u0BC8"],["\u0BCA","\u0BCC"],"\u0BD7",["\u0C01","\u0C03"],["\u0C41","\u0C44"],["\u0C82","\u0C83"],"\u0CBE",["\u0CC0","\u0CC4"],["\u0CC7","\u0CC8"],["\u0CCA","\u0CCB"],["\u0CD5","\u0CD6"],["\u0D02","\u0D03"],["\u0D3E","\u0D40"],["\u0D46","\u0D48"],["\u0D4A","\u0D4C"],"\u0D57",["\u0D82","\u0D83"],["\u0DCF","\u0DD1"],["\u0DD8","\u0DDF"],["\u0DF2","\u0DF3"],["\u0F3E","\u0F3F"],"\u0F7F",["\u102B","\u102C"],"\u1031","\u1038",["\u103B","\u103C"],["\u1056","\u1057"],["\u1062","\u1064"],["\u1067","\u106D"],["\u1083","\u1084"],["\u1087","\u108C"],"\u108F",["\u109A","\u109C"],"\u17B6",["\u17BE","\u17C5"],["\u17C7","\u17C8"],["\u1923","\u1926"],["\u1929","\u192B"],["\u1930","\u1931"],["\u1933","\u1938"],["\u1A19","\u1A1A"],"\u1A55","\u1A57","\u1A61",["\u1A63","\u1A64"],["\u1A6D","\u1A72"],"\u1B04","\u1B35","\u1B3B",["\u1B3D","\u1B41"],["\u1B43","\u1B44"],"\u1B82","\u1BA1",["\u1BA6","\u1BA7"],"\u1BAA","\u1BE7",["\u1BEA","\u1BEC"],"\u1BEE",["\u1BF2","\u1BF3"],["\u1C24","\u1C2B"],["\u1C34","\u1C35"],"\u1CE1",["\u1CF2","\u1CF3"],["\u302E","\u302F"],["\uA823","\uA824"],"\uA827",["\uA880","\uA881"],["\uA8B4","\uA8C3"],["\uA952","\uA953"],"\uA983",["\uA9B4","\uA9B5"],["\uA9BA","\uA9BB"],["\uA9BD","\uA9C0"],["\uAA2F","\uAA30"],["\uAA33","\uAA34"],"\uAA4D","\uAA7B","\uAA7D","\uAAEB",["\uAAEE","\uAAEF"],"\uAAF5",["\uABE3","\uABE4"],["\uABE6","\uABE7"],["\uABE9","\uABEA"],"\uABEC"],!1,!1),ua=/^[\u0300-\u036F\u0483-\u0487\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09C1-\u09C4\u09CD\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B62-\u0B63\u0B82\u0BC0\u0BCD\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC6\u0CCC-\u0CCD\u0CE2-\u0CE3\u0D01\u0D41-\u0D44\u0D4D\u0D62-\u0D63\u0DCA\u0DD2-\u0DD4\u0DD6\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u3099-\u309A\uA66F\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/,ta=Zi([["\u0300","\u036F"],["\u0483","\u0487"],["\u0591","\u05BD"],"\u05BF",["\u05C1","\u05C2"],["\u05C4","\u05C5"],"\u05C7",["\u0610","\u061A"],["\u064B","\u065F"],"\u0670",["\u06D6","\u06DC"],["\u06DF","\u06E4"],["\u06E7","\u06E8"],["\u06EA","\u06ED"],"\u0711",["\u0730","\u074A"],["\u07A6","\u07B0"],["\u07EB","\u07F3"],["\u0816","\u0819"],["\u081B","\u0823"],["\u0825","\u0827"],["\u0829","\u082D"],["\u0859","\u085B"],["\u08E3","\u0902"],"\u093A","\u093C",["\u0941","\u0948"],"\u094D",["\u0951","\u0957"],["\u0962","\u0963"],"\u0981","\u09BC",["\u09C1","\u09C4"],"\u09CD",["\u09E2","\u09E3"],["\u0A01","\u0A02"],"\u0A3C",["\u0A41","\u0A42"],["\u0A47","\u0A48"],["\u0A4B","\u0A4D"],"\u0A51",["\u0A70","\u0A71"],"\u0A75",["\u0A81","\u0A82"],"\u0ABC",["\u0AC1","\u0AC5"],["\u0AC7","\u0AC8"],"\u0ACD",["\u0AE2","\u0AE3"],"\u0B01","\u0B3C","\u0B3F",["\u0B41","\u0B44"],"\u0B4D","\u0B56",["\u0B62","\u0B63"],"\u0B82","\u0BC0","\u0BCD","\u0C00",["\u0C3E","\u0C40"],["\u0C46","\u0C48"],["\u0C4A","\u0C4D"],["\u0C55","\u0C56"],["\u0C62","\u0C63"],"\u0C81","\u0CBC","\u0CBF","\u0CC6",["\u0CCC","\u0CCD"],["\u0CE2","\u0CE3"],"\u0D01",["\u0D41","\u0D44"],"\u0D4D",["\u0D62","\u0D63"],"\u0DCA",["\u0DD2","\u0DD4"],"\u0DD6","\u0E31",["\u0E34","\u0E3A"],["\u0E47","\u0E4E"],"\u0EB1",["\u0EB4","\u0EB9"],["\u0EBB","\u0EBC"],["\u0EC8","\u0ECD"],["\u0F18","\u0F19"],"\u0F35","\u0F37","\u0F39",["\u0F71","\u0F7E"],["\u0F80","\u0F84"],["\u0F86","\u0F87"],["\u0F8D","\u0F97"],["\u0F99","\u0FBC"],"\u0FC6",["\u102D","\u1030"],["\u1032","\u1037"],["\u1039","\u103A"],["\u103D","\u103E"],["\u1058","\u1059"],["\u105E","\u1060"],["\u1071","\u1074"],"\u1082",["\u1085","\u1086"],"\u108D","\u109D",["\u135D","\u135F"],["\u1712","\u1714"],["\u1732","\u1734"],["\u1752","\u1753"],["\u1772","\u1773"],["\u17B4","\u17B5"],["\u17B7","\u17BD"],"\u17C6",["\u17C9","\u17D3"],"\u17DD",["\u180B","\u180D"],"\u18A9",["\u1920","\u1922"],["\u1927","\u1928"],"\u1932",["\u1939","\u193B"],["\u1A17","\u1A18"],"\u1A1B","\u1A56",["\u1A58","\u1A5E"],"\u1A60","\u1A62",["\u1A65","\u1A6C"],["\u1A73","\u1A7C"],"\u1A7F",["\u1AB0","\u1ABD"],["\u1B00","\u1B03"],"\u1B34",["\u1B36","\u1B3A"],"\u1B3C","\u1B42",["\u1B6B","\u1B73"],["\u1B80","\u1B81"],["\u1BA2","\u1BA5"],["\u1BA8","\u1BA9"],["\u1BAB","\u1BAD"],"\u1BE6",["\u1BE8","\u1BE9"],"\u1BED",["\u1BEF","\u1BF1"],["\u1C2C","\u1C33"],["\u1C36","\u1C37"],["\u1CD0","\u1CD2"],["\u1CD4","\u1CE0"],["\u1CE2","\u1CE8"],"\u1CED","\u1CF4",["\u1CF8","\u1CF9"],["\u1DC0","\u1DF5"],["\u1DFC","\u1DFF"],["\u20D0","\u20DC"],"\u20E1",["\u20E5","\u20F0"],["\u2CEF","\u2CF1"],"\u2D7F",["\u2DE0","\u2DFF"],["\u302A","\u302D"],["\u3099","\u309A"],"\uA66F",["\uA674","\uA67D"],["\uA69E","\uA69F"],["\uA6F0","\uA6F1"],"\uA802","\uA806","\uA80B",["\uA825","\uA826"],"\uA8C4",["\uA8E0","\uA8F1"],["\uA926","\uA92D"],["\uA947","\uA951"],["\uA980","\uA982"],"\uA9B3",["\uA9B6","\uA9B9"],"\uA9BC","\uA9E5",["\uAA29","\uAA2E"],["\uAA31","\uAA32"],["\uAA35","\uAA36"],"\uAA43","\uAA4C","\uAA7C","\uAAB0",["\uAAB2","\uAAB4"],["\uAAB7","\uAAB8"],["\uAABE","\uAABF"],"\uAAC1",["\uAAEC","\uAAED"],"\uAAF6","\uABE5","\uABE8","\uABED","\uFB1E",["\uFE00","\uFE0F"],["\uFE20","\uFE2F"]],!1,!1),Kn=/^[0-9\u0660-\u0669\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0DE6-\u0DEF\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uA9F0-\uA9F9\uAA50-\uAA59\uABF0-\uABF9\uFF10-\uFF19]/,ji=Zi([["0","9"],["\u0660","\u0669"],["\u06F0","\u06F9"],["\u07C0","\u07C9"],["\u0966","\u096F"],["\u09E6","\u09EF"],["\u0A66","\u0A6F"],["\u0AE6","\u0AEF"],["\u0B66","\u0B6F"],["\u0BE6","\u0BEF"],["\u0C66","\u0C6F"],["\u0CE6","\u0CEF"],["\u0D66","\u0D6F"],["\u0DE6","\u0DEF"],["\u0E50","\u0E59"],["\u0ED0","\u0ED9"],["\u0F20","\u0F29"],["\u1040","\u1049"],["\u1090","\u1099"],["\u17E0","\u17E9"],["\u1810","\u1819"],["\u1946","\u194F"],["\u19D0","\u19D9"],["\u1A80","\u1A89"],["\u1A90","\u1A99"],["\u1B50","\u1B59"],["\u1BB0","\u1BB9"],["\u1C40","\u1C49"],["\u1C50","\u1C59"],["\uA620","\uA629"],["\uA8D0","\uA8D9"],["\uA900","\uA909"],["\uA9D0","\uA9D9"],["\uA9F0","\uA9F9"],["\uAA50","\uAA59"],["\uABF0","\uABF9"],["\uFF10","\uFF19"]],!1,!1),Ra=/^[\u16EE-\u16F0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303A\uA6E6-\uA6EF]/,eo=Zi([["\u16EE","\u16F0"],["\u2160","\u2182"],["\u2185","\u2188"],"\u3007",["\u3021","\u3029"],["\u3038","\u303A"],["\uA6E6","\uA6EF"]],!1,!1),Si=/^[_\u203F-\u2040\u2054\uFE33-\uFE34\uFE4D-\uFE4F\uFF3F]/,yo=Zi(["_",["\u203F","\u2040"],"\u2054",["\uFE33","\uFE34"],["\uFE4D","\uFE4F"],"\uFF3F"],!1,!1),Co=/^[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,Ro=Zi([" ","\xA0","\u1680",["\u2000","\u200A"],"\u202F","\u205F","\u3000"],!1,!1),we=0,ro=0,pe=[{line:1,column:1}],Gi=0,Ba=[],On=0,mo;if("startRule"in P){if(!(P.startRule in W))throw new Error(`Can't start parsing from rule "`+P.startRule+'".');Q=W[P.startRule]}function Xo(){return B.substring(ro,we)}function Ei(ce,or){return{type:"literal",text:ce,ignoreCase:or}}function Zi(ce,or,de){return{type:"class",parts:ce,inverted:or,ignoreCase:de}}function Do(){return{type:"any"}}function Po(){return{type:"end"}}function bo(ce){return{type:"other",description:ce}}function Eo(ce){var or=pe[ce],de;if(or)return or;for(de=ce-1;!pe[de];)de--;for(or=pe[de],or={line:or.line,column:or.column};de<ce;)B.charCodeAt(de)===10?(or.line++,or.column=1):or.column++,de++;return pe[ce]=or,or}function hs(ce,or){var de=Eo(ce),ee=Eo(or);return{start:{offset:ce,line:de.line,column:de.column},end:{offset:or,line:ee.line,column:ee.column}}}function la(ce){we<Gi||(we>Gi&&(Gi=we,Ba=[]),Ba.push(ce))}function Cs(ce,or,de){return new z(z.buildMessage(ce,or),ce,or,de)}function Ns(){var ce,or,de,ee;return ce=we,or=Cr(),or!==T?(de=as(),de!==T?(ee=Cr(),ee!==T?(ro=ce,or=nt(de),ce=or):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T),ce}function Bs(){var ce;return B.substr(we,3)===st?(ce=st,we+=3):(ce=T,On===0&&la(et)),ce===T&&(B.substr(we,3)===_?(ce=_,we+=3):(ce=T,On===0&&la(Y)),ce===T&&(B.substr(we,3)===$?(ce=$,we+=3):(ce=T,On===0&&la(q)),ce===T&&(B.substr(we,3)===at?(ce=at,we+=3):(ce=T,On===0&&la(pt)),ce===T&&(B.substr(we,5)===mt?(ce=mt,we+=5):(ce=T,On===0&&la(ot)))))),ce}function as(){var ce,or,de,ee,ve,De,Ir,qr;if(ce=we,or=is(),or!==T){for(de=[],ee=we,ve=Cr(),ve!==T?(B.charCodeAt(we)===43?(De=xt,we++):(De=T,On===0&&la(It)),De===T&&(B.charCodeAt(we)===45?(De=Ht,we++):(De=T,On===0&&la(Qt))),De!==T?(Ir=Cr(),Ir!==T?(qr=is(),qr!==T?(ve=[ve,De,Ir,qr],ee=ve):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T);ee!==T;)de.push(ee),ee=we,ve=Cr(),ve!==T?(B.charCodeAt(we)===43?(De=xt,we++):(De=T,On===0&&la(It)),De===T&&(B.charCodeAt(we)===45?(De=Ht,we++):(De=T,On===0&&la(Qt))),De!==T?(Ir=Cr(),Ir!==T?(qr=is(),qr!==T?(ve=[ve,De,Ir,qr],ee=ve):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T);de!==T?(ro=ce,or=$t(or,de),ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function is(){var ce,or,de,ee,ve,De,Ir,qr;if(ce=we,or=os(),or!==T){for(de=[],ee=we,ve=Cr(),ve!==T?(B.charCodeAt(we)===42?(De=yt,we++):(De=T,On===0&&la(ut)),De===T&&(B.charCodeAt(we)===47?(De=ft,we++):(De=T,On===0&&la(it))),De!==T?(Ir=Cr(),Ir!==T?(qr=os(),qr!==T?(ve=[ve,De,Ir,qr],ee=ve):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T);ee!==T;)de.push(ee),ee=we,ve=Cr(),ve!==T?(B.charCodeAt(we)===42?(De=yt,we++):(De=T,On===0&&la(ut)),De===T&&(B.charCodeAt(we)===47?(De=ft,we++):(De=T,On===0&&la(it))),De!==T?(Ir=Cr(),Ir!==T?(qr=os(),qr!==T?(ve=[ve,De,Ir,qr],ee=ve):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T)):(we=ee,ee=T);de!==T?(ro=ce,or=$t(or,de),ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function os(){var ce,or,de,ee,ve,De,Ir,qr;return ce=we,or=Bs(),or!==T?(de=Cr(),de!==T?(B.charCodeAt(we)===40?(ee=vt,we++):(ee=T,On===0&&la(Wt)),ee!==T?(ve=Cr(),ve!==T?(De=as(),De!==T?(Ir=Cr(),Ir!==T?(B.charCodeAt(we)===41?(qr=Ct,we++):(qr=T,On===0&&la(Z)),qr!==T?(ro=ce,or=X(or,De),ce=or):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T),ce===T&&(ce=we,B.charCodeAt(we)===40?(or=vt,we++):(or=T,On===0&&la(Wt)),or!==T?(de=Cr(),de!==T?(ee=as(),ee!==T?(ve=Cr(),ve!==T?(B.charCodeAt(we)===41?(De=Ct,we++):(De=T,On===0&&la(Z)),De!==T?(ro=ce,or=dt(ee),ce=or):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T),ce===T&&(ce=we,or=fu(),or!==T&&(ro=ce,or=H(or)),ce=or,ce===T&&(ce=we,or=As(),or!==T&&(ro=ce,or=lt(or)),ce=or))),ce}function As(){var ce,or,de,ee;if(On++,ce=we,or=Nr(),or!==T){for(de=[],ee=Yr();ee!==T;)de.push(ee),ee=Yr();de!==T?(ro=ce,or=Rt(or,de),ce=or):(we=ce,ce=T)}else we=ce,ce=T;return On--,ce===T&&(or=T,On===0&&la(Ot)),ce}function fu(){var ce,or,de,ee,ve,De;return On++,ce=we,Bt.test(B.charAt(we))?(or=B.charAt(we),we++):(or=T,On===0&&la(tt)),or===T&&(or=null),or!==T?(de=dr(),de!==T?(ee=Gs(),ee===T&&(ee=ru(),ee===T&&(ee=Us())),ee!==T?(ve=we,On++,De=Nr(),De===T&&(De=ln()),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(ro=ce,or=J(or,ee),ce=or):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T)):(we=ce,ce=T),On--,ce===T&&(or=T,On===0&&la(zt)),ce}function Gs(){var ce,or,de,ee,ve;if(ce=we,B.substr(we,2).toLowerCase()===G?(or=B.substr(we,2),we+=2):(or=T,On===0&&la(Et)),or!==T){if(de=we,ee=[],ve=ia(),ve!==T)for(;ve!==T;)ee.push(ve),ve=ia();else ee=T;ee!==T?de=B.substring(de,we):de=ee,de!==T?(ro=ce,or=Tt(),ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function ru(){var ce,or,de,ee,ve;if(ce=we,B.substr(we,2).toLowerCase()===ct?(or=B.substr(we,2),we+=2):(or=T,On===0&&la(St)),or!==T){if(de=we,ee=[],Vt.test(B.charAt(we))?(ve=B.charAt(we),we++):(ve=T,On===0&&la(Lt)),ve!==T)for(;ve!==T;)ee.push(ve),Vt.test(B.charAt(we))?(ve=B.charAt(we),we++):(ve=T,On===0&&la(Lt));else ee=T;ee!==T?de=B.substring(de,we):de=ee,de!==T?(ro=ce,or=Tt(),ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function Us(){var ce,or,de,ee,ve;if(ce=we,or=k(),or!==T)if(B.charCodeAt(we)===46?(de=Nt,we++):(de=T,On===0&&la(Zt)),de!==T){for(ee=[],ve=ln();ve!==T;)ee.push(ve),ve=ln();ee!==T?(ro=ce,or=oe(),ce=or):(we=ce,ce=T)}else we=ce,ce=T;else we=ce,ce=T;if(ce===T){if(ce=we,B.charCodeAt(we)===46?(or=Nt,we++):(or=T,On===0&&la(Zt)),or!==T){if(de=[],ee=ln(),ee!==T)for(;ee!==T;)de.push(ee),ee=ln();else de=T;de!==T?(ro=ce,or=oe(),ce=or):(we=ce,ce=T)}else we=ce,ce=T;ce===T&&(ce=we,or=k(),or!==T&&(ro=ce,or=oe()),ce=or)}return ce}function k(){var ce,or,de,ee;if(B.charCodeAt(we)===48?(ce=ue,we++):(ce=T,On===0&&la(Ee)),ce===T)if(ce=we,or=Hr(),or!==T){for(de=[],ee=ln();ee!==T;)de.push(ee),ee=ln();de!==T?(or=[or,de],ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function Dt(){var ce;return Te.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(Se)),ce}function re(){var ce;return On++,B.charCodeAt(we)===10?(ce=cr,we++):(ce=T,On===0&&la(He)),ce===T&&(B.substr(we,2)===_e?(ce=_e,we+=2):(ce=T,On===0&&la(ur)),ce===T&&(B.charCodeAt(we)===13?(ce=jr,we++):(ce=T,On===0&&la(Ar)),ce===T&&(B.charCodeAt(we)===8232?(ce=Ge,we++):(ce=T,On===0&&la(br)),ce===T&&(B.charCodeAt(we)===8233?(ce=er,we++):(ce=T,On===0&&la(nr)))))),On--,ce===T&&On===0&&la($e),ce}function le(){var ce;return On++,ce=Ce(),ce===T&&(ce=ke()),On--,ce===T&&On===0&&la(yr),ce}function Ce(){var ce,or,de,ee,ve,De;if(ce=we,B.substr(we,2)===Rr?(or=Rr,we+=2):(or=T,On===0&&la(an)),or!==T){for(de=[],ee=we,ve=we,On++,B.substr(we,2)===In?(De=In,we+=2):(De=T,On===0&&la(Un)),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);ee!==T;)de.push(ee),ee=we,ve=we,On++,B.substr(we,2)===In?(De=In,we+=2):(De=T,On===0&&la(Un)),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);de!==T?(B.substr(we,2)===In?(ee=In,we+=2):(ee=T,On===0&&la(Un)),ee!==T?(or=[or,de,ee],ce=or):(we=ce,ce=T)):(we=ce,ce=T)}else we=ce,ce=T;return ce}function Re(){var ce,or,de,ee,ve,De;if(ce=we,B.substr(we,2)===Rr?(or=Rr,we+=2):(or=T,On===0&&la(an)),or!==T){for(de=[],ee=we,ve=we,On++,B.substr(we,2)===In?(De=In,we+=2):(De=T,On===0&&la(Un)),De===T&&(De=Dt()),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);ee!==T;)de.push(ee),ee=we,ve=we,On++,B.substr(we,2)===In?(De=In,we+=2):(De=T,On===0&&la(Un)),De===T&&(De=Dt()),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);de!==T?(B.substr(we,2)===In?(ee=In,we+=2):(ee=T,On===0&&la(Un)),ee!==T?(or=[or,de,ee],ce=or):(we=ce,ce=T)):(we=ce,ce=T)}else we=ce,ce=T;return ce}function ke(){var ce,or,de,ee,ve,De;if(ce=we,B.substr(we,2)===_n?(or=_n,we+=2):(or=T,On===0&&la(sa)),or!==T){for(de=[],ee=we,ve=we,On++,De=Dt(),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);ee!==T;)de.push(ee),ee=we,ve=we,On++,De=Dt(),On--,De===T?ve=void 0:(we=ve,ve=T),ve!==T?(De=Ze(),De!==T?(ve=[ve,De],ee=ve):(we=ee,ee=T)):(we=ee,ee=T);de!==T?(or=[or,de],ce=or):(we=ce,ce=T)}else we=ce,ce=T;return ce}function Ze(){var ce;return B.length>we?(ce=B.charAt(we),we++):(ce=T,On===0&&la(ci)),ce}function lr(){var ce;return On++,B.charCodeAt(we)===9?(ce=pa,we++):(ce=T,On===0&&la(ga)),ce===T&&(B.charCodeAt(we)===11?(ce=Xi,we++):(ce=T,On===0&&la(Ci)),ce===T&&(B.charCodeAt(we)===12?(ce=Ki,we++):(ce=T,On===0&&la(so)),ce===T&&(B.charCodeAt(we)===32?(ce=co,we++):(ce=T,On===0&&la(fo)),ce===T&&(B.charCodeAt(we)===160?(ce=ya,we++):(ce=T,On===0&&la(_a)),ce===T&&(B.charCodeAt(we)===65279?(ce=rr,we++):(ce=T,On===0&&la(ir)),ce===T&&(ce=yn())))))),On--,ce===T&&On===0&&la(fi),ce}function dr(){var ce,or;for(ce=[],or=lr(),or===T&&(or=re(),or===T&&(or=le()));or!==T;)ce.push(or),or=lr(),or===T&&(or=re(),or===T&&(or=le()));return ce}function Cr(){var ce,or;for(ce=[],or=lr(),or===T&&(or=Re());or!==T;)ce.push(or),or=lr(),or===T&&(or=Re());return ce}function Yr(){var ce;return ce=Nr(),ce===T&&(ce=Vr(),ce===T&&(ce=qi(),ce===T&&(ce=Ia(),ce===T&&(B.charCodeAt(we)===8204?(ce=Ye,we++):(ce=T,On===0&&la(tr)),ce===T&&(B.charCodeAt(we)===8205?(ce=Fr,we++):(ce=T,On===0&&la(tn))))))),ce}function Nr(){var ce;return ce=cn(),ce===T&&(B.charCodeAt(we)===36?(ce=bn,we++):(ce=T,On===0&&la(on)),ce===T&&(B.charCodeAt(we)===95?(ce=Oa,we++):(ce=T,On===0&&la(na)))),ce}function Vr(){var ce;return ce=Qi(),ce===T&&(ce=Na()),ce}function cn(){var ce;return ce=za(),ce===T&&(ce=Oi(),ce===T&&(ce=ei(),ce===T&&(ce=Ua(),ce===T&&(ce=Wa(),ce===T&&(ce=wi()))))),ce}function ln(){var ce;return wa.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(da)),ce}function Hr(){var ce;return bi.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(qa)),ce}function ia(){var ce;return fa.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(Aa)),ce}function Oi(){var ce;return Sa.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(Fa)),ce}function Ua(){var ce;return Ka.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(hi)),ce}function Wa(){var ce;return me.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(he)),ce}function ei(){var ce;return be.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(Ve)),ce}function za(){var ce;return Ke.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(fr)),ce}function Na(){var ce;return Lr.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(_r)),ce}function Qi(){var ce;return ua.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(ta)),ce}function qi(){var ce;return Kn.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(ji)),ce}function wi(){var ce;return Ra.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(eo)),ce}function Ia(){var ce;return Si.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(yo)),ce}function yn(){var ce;return Co.test(B.charAt(we))?(ce=B.charAt(we),we++):(ce=T,On===0&&la(Ro)),ce}if(mo=Q(),mo!==T&&we===B.length)return mo;throw mo!==T&&we<B.length&&la(Po()),Cs(Ba,Gi<B.length?B.charAt(Gi):null,Gi<B.length?hs(Gi,Gi+1):hs(Gi,Gi))}return{SyntaxError:z,parse:V}}(),E="0.2.9",S=p;function A(N){var z=[];return V(N,!1),z;function V(B,P){if(B.type==="arithmetic"){var T=Object(i.a)(B.terms),W;try{for(T.s();!(W=T.n()).done;){var Q=W.value;V(Q,!1)}}catch(st){T.e(st)}finally{T.f()}}else if(B.type==="field"){var nt=z.findIndex(function(st){var et=st.code;return et===B.code});nt===-1?z.push({code:B.code,isDep:!P}):P||(z[nt].isDep=!0)}else B.type==="aggr-func-call"&&V(B.subExpr,!0)}}function M(N){var z=0,V=function(){return"safe_code_".concat(z++)};return N.flatMap(B);function B(P){var T=P.code,W=P.deps,Q=P.expr,nt=[];if(Q.type==="aggr-func-call")if(Q.funcName==="AVG"){var st=V(),et=V();nt.push.apply(nt,Object(g.a)(B({code:st,deps:[],expr:{type:"aggr-func-call",funcName:"SUM",subExpr:Q.subExpr}})).concat(Object(g.a)(B({code:et,deps:[],expr:{type:"aggr-func-call",funcName:"COUNT",subExpr:Q.subExpr}})),[{code:T,deps:[st,et],expr:{type:"arithmetic",terms:[{type:"field",code:st},{type:"field",code:et}],ops:["/"]}}]))}else if(Q.subExpr.type==="arithmetic"){var _=V();nt.push.apply(nt,Object(g.a)(B({code:T,deps:[],expr:{type:"aggr-func-call",funcName:Q.funcName,subExpr:{type:"field",code:_}}})).concat(Object(g.a)(B({code:_,deps:[],expr:Q.subExpr}))))}else nt.push(P);else if(Q.type==="arithmetic"){var Y=[],$=[],q=Object(i.a)(Q.terms),at;try{for(q.s();!(at=q.n()).done;){var pt=at.value;if(pt.type==="aggr-func-call"){var mt=V();nt.push.apply(nt,Object(g.a)(B({code:mt,deps:[],expr:{type:"aggr-func-call",funcName:pt.funcName,subExpr:pt.subExpr}}))),Y.push({type:"field",code:mt}),$.push(mt)}else Y.push(pt)}}catch(ot){q.e(ot)}finally{q.f()}nt.push({code:T,expr:Object(f.a)(Object(f.a)({},Q),{},{terms:Y}),deps:y(W,$)})}else nt.push(P);return nt}}function x(N){var z=new Set(N.map(function(V){return V.code}));return N.map(function(V){if(V.expression==null)throw new Error("".concat(V.code,":").concat(V.name," \u7F3A\u5C11\u805A\u5408\u8868\u793A\u5F0F"));var B;try{B=S.parse(V.expression)}catch(T){throw console.warn("\u89E3\u6790 ".concat(V.code,":").concat(V.name," \u7684\u8868\u8FBE\u5F0F\u5931\u8D25\uFF0C\u8BF7\u4ED4\u7EC6\u68C0\u67E5\u4E0B\u5217\u8868\u793A\u662F\u5426\u6B63\u786E")+`
	`.concat(V.expression)),T}var P=A(B);return P.forEach(function(T){var W=T.code;if(!z.has(W))throw new Error("".concat(W," \u4E0D\u662F\u5408\u6CD5\u7684\u6307\u6807 code"))}),{code:V.code,expr:B,deps:P.filter(function(T){var W=T.isDep;return W}).map(function(T){var W=T.code;return W})}})}function O(N,z){var V=N.filter(function(at){var pt=at.expr;return pt.type==="aggr-func-call"&&pt.funcName==="SUM"}),B=N.filter(function(at){var pt=at.expr;return pt.type==="aggr-func-call"&&pt.funcName==="COUNT"}),P=N.filter(function(at){var pt=at.expr;return pt.type==="aggr-func-call"&&pt.funcName==="MAX"}),T=N.filter(function(at){var pt=at.expr;return pt.type==="aggr-func-call"&&pt.funcName==="MIN"}),W=V.map(function(at){var pt=at.code;return"".concat(C.field("r",pt)," = 0;")}).join(`
`),Q=B.map(function(at){var pt=at.code;return"".concat(C.field("r",pt)," = 0;")}).join(`
`),nt=P.map(function(at){var pt=at.code;return"".concat(C.field("r",pt)," = -Infinity;")}).join(`
`),st=T.map(function(at){var pt=at.code;return"".concat(C.field("r",pt)," = Infinity;")}).join(`
`),et=B.map(function(at){var pt=at.code,mt=at.expr;if(mt.type==="aggr-func-call")return"".concat(C.field("r",pt)," += ").concat(C.field("d",pt,"1"),";");throw new Error}).join(`
`),_=V.map(function(at){var pt=at.code,mt=at.expr,ot=mt.subExpr;return"".concat(C.field("r",pt)," += ").concat(C.makeJSExpression(ot,"d")," || 0;")}).join(`
`),Y=P.map(function(at){var pt=at.code,mt=at.expr,ot=mt.subExpr;return"".concat(C.field("r",pt)," = Math.max(").concat(C.field("r",pt),", ").concat(C.makeJSExpression(ot,"d"),");")}).join(`
`),$=T.map(function(at){var pt=at.code,mt=at.expr,ot=mt.subExpr;return"".concat(C.field("r",pt)," = Math.min(").concat(C.field("r",pt),", ").concat(C.makeJSExpression(ot,"d"),");")}).join(`
`),q=N.filter(function(at){var pt=at.code,mt=at.expr;return mt.type!=="aggr-func-call"}).map(function(at){var pt=at.code,mt=at.expr;return"".concat(C.field("r",pt)," = ").concat(C.makeJSExpression(mt,"r"),";")}).join(`
`);return[C.__("/* aggregate function generated by dvt-aggregation@".concat(E)),C.____.apply(C,Object(g.a)(z.indicators.map(function(at){return"".concat(at.name,": ").concat(at.code," = ").concat(at.expression)}))),C.__("*/"),"",C.__("let r = {};"),"",C.__(Q,W,nt,st),"",C.__("for (const d of slice) {"),C.____(_,et,Y,$),C.__("}"),"",C.__(q),"",C.__("return r;")].join(`
`)}var C={__:function(){for(var z=arguments.length,V=new Array(z),B=0;B<z;B++)V[B]=arguments[B];return C.indent.apply(C,[1].concat(V))},____:function(){for(var z=arguments.length,V=new Array(z),B=0;B<z;B++)V[B]=arguments[B];return C.indent.apply(C,[2].concat(V))},indent:function(z){for(var V=arguments.length,B=new Array(V>1?V-1:0),P=1;P<V;P++)B[P-1]=arguments[P];return B.join(`
`).split(`
`).filter(function(T){return!T.match(/^\s*$/)}).map(function(T){return"  ".repeat(z).concat(T.trim())}).join(`
`)},field:function(z,V,B){return B==null?"".concat(z,"['").concat(V,"']"):"(".concat(z,"['").concat(V,"'] || ").concat(B,")")},makeJSExpression:function(z,V){return B(z);function B(P){if(P.type==="arithmetic"){for(var T=P.terms.map(B),W=P.ops,Q=[T[0]],nt=0;nt<W.length;nt++)Q.push(W[nt],T[nt+1]);return"(".concat(Q.join(" "),")")}else{if(P.type==="field")return C.field(V,P.code);if(P.type==="n")return String(P.n);throw new Error("\u5F53\u524D\u6682\u4E0D\u652F\u6301\u8BE5\u8FD0\u7B97\u8FC7\u7A0B")}}}};function D(N){for(var z=[],V=N.length,B=new Map,P=0;P<V;P++){var T=Object(i.a)(N[P].deps),W;try{for(T.s();!(W=T.n()).done;){var Q=W.value;B.has(Q)||B.set(Q,[]),B.get(Q).push(P)}}catch(mt){T.e(mt)}finally{T.f()}}for(var nt=N.map(function(mt){var ot=mt.deps;return ot.length}),st=new Array(V).fill(!1);;){for(var et=0;et<V&&!(nt[et]===0&&!st[et]);et++);if(et===V)break;st[et]=!0;var _=N[et];if(z.push(_),B.has(_.code)){var Y=Object(i.a)(B.get(_.code)),$;try{for(Y.s();!($=Y.n()).done;){var q=$.value;nt[q]--}}catch(mt){Y.e(mt)}finally{Y.f()}}}if(z.length!==V){var at=N[st.findIndex(function(mt){return!mt})].code,pt=R(at,N);throw new Error(`\u6307\u6807\u8BA1\u7B97\u4E4B\u95F4\u5B58\u5728\u76F8\u4E92\u4F9D\u8D56\u5173\u7CFB
	`+pt.join(" -> ")+`
\uFF08\u8BF4\u660E\uFF1AA -> B \u8868\u793AA\u7684\u8BA1\u7B97\u4F9D\u8D56\u4E8EB\uFF09`)}return z}function R(N,z){var V=new Map(z.map(function(T){var W=T.code,Q=T.deps;return[W,Q]})),B=[];return P(N),B;function P(T){if(B.length>0&&B[0]===T)return B.push(T),!0;if(B.push(T),V.has(T)){var W=Object(i.a)(V.get(T)),Q;try{for(W.s();!(Q=W.n()).done;){var nt=Q.value;if(P(nt))return!0}}catch(st){W.e(st)}finally{W.f()}}return B.pop(),!1}}function y(N,z){var V=new Set(N),B=N.slice(),P=Object(i.a)(z),T;try{for(P.s();!(T=P.n()).done;){var W=T.value;V.has(W)||(V.add(W),B.push(W))}}catch(Q){P.e(Q)}finally{P.f()}return B}function w(N){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},V=z.skipEmptyExpression,B=V===void 0?!0:V,P={indicators:N},T=N;B&&(T=N.filter(function(Q){return Boolean(Q.expression)}));var W=O(D(M(x(T))),P);return new Function("slice",W)}},aN7R:function(Ft,I,a){"use strict";a.r(I),a.d(I,"Base",function(){return O}),a.d(I,"Circle",function(){return R}),a.d(I,"Dom",function(){return w}),a.d(I,"Ellipse",function(){return z}),a.d(I,"Image",function(){return B}),a.d(I,"Line",function(){return W}),a.d(I,"Marker",function(){return et}),a.d(I,"Path",function(){return Y}),a.d(I,"Polygon",function(){return q}),a.d(I,"Polyline",function(){return pt}),a.d(I,"Rect",function(){return Qt}),a.d(I,"Text",function(){return Wt});var f={};a.r(f),a.d(f,"Base",function(){return O}),a.d(f,"Circle",function(){return R}),a.d(f,"Dom",function(){return w}),a.d(f,"Ellipse",function(){return z}),a.d(f,"Image",function(){return B}),a.d(f,"Line",function(){return W}),a.d(f,"Marker",function(){return et}),a.d(f,"Path",function(){return Y}),a.d(f,"Polygon",function(){return q}),a.d(f,"Polyline",function(){return pt}),a.d(f,"Rect",function(){return Qt}),a.d(f,"Text",function(){return Wt});var i=a("mrSG"),g=a("aFU3"),p=a("APlK"),E=a("c+wO"),S=a("c0lT"),A=a("IvmH"),M=a("5z4m"),x=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="svg",X.canFill=!1,X.canStroke=!1,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},Z.prototype.afterAttrsChange=function(X){Ct.prototype.afterAttrsChange.call(this,X);var dt=this.get("canvas");if(dt&&dt.get("autoDraw")){var H=dt.get("context");this.draw(H,X)}},Z.prototype.getShapeBase=function(){return f},Z.prototype.getGroupBase=function(){return M.a},Z.prototype.onCanvasChange=function(X){Object(S.b)(this,X)},Z.prototype.calculateBBox=function(){var X=this.get("el"),dt=null;if(X)dt=X.getBBox();else{var H=Object(g.getBBoxMethod)(this.get("type"));H&&(dt=H(this))}if(dt){var lt=dt.x,Ot=dt.y,Rt=dt.width,zt=dt.height,Bt=this.getHitLineWidth(),tt=Bt/2,J=lt-tt,G=Ot-tt,Et=lt+Rt+tt,Tt=Ot+zt+tt;return{x:J,y:G,minX:J,minY:G,maxX:Et,maxY:Tt,width:Rt+Bt,height:zt+Bt}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},Z.prototype.isFill=function(){var X=this.attr(),dt=X.fill,H=X.fillStyle;return(dt||H||this.isClipShape())&&this.canFill},Z.prototype.isStroke=function(){var X=this.attr(),dt=X.stroke,H=X.strokeStyle;return(dt||H)&&this.canStroke},Z.prototype.draw=function(X,dt){var H=this.get("el");this.get("destroyed")?H&&H.parentNode.removeChild(H):(H||Object(E.a)(this),Object(p.a)(this,X),this.createPath(X,dt),this.shadow(X,dt),this.strokeAndFill(X,dt),this.transform(dt))},Z.prototype.createPath=function(X,dt){},Z.prototype.strokeAndFill=function(X,dt){var H=dt||this.attr(),lt=H.fill,Ot=H.fillStyle,Rt=H.stroke,zt=H.strokeStyle,Bt=H.fillOpacity,tt=H.strokeOpacity,J=H.lineWidth,G=this.get("el");this.canFill&&(dt?"fill"in H?this._setColor(X,"fill",lt):"fillStyle"in H&&this._setColor(X,"fill",Ot):this._setColor(X,"fill",lt||Ot),Bt&&G.setAttribute(A.b.fillOpacity,Bt)),this.canStroke&&J>0&&(dt?"stroke"in H?this._setColor(X,"stroke",Rt):"strokeStyle"in H&&this._setColor(X,"stroke",zt):this._setColor(X,"stroke",Rt||zt),tt&&G.setAttribute(A.b.strokeOpacity,tt),J&&G.setAttribute(A.b.lineWidth,J))},Z.prototype._setColor=function(X,dt,H){var lt=this.get("el");if(!H){lt.setAttribute(A.b[dt],"none");return}if(H=H.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(H)){var Ot=X.find("gradient",H);Ot||(Ot=X.addGradient(H)),lt.setAttribute(A.b[dt],"url(#"+Ot+")")}else if(/^[p,P]{1}[\s]*\(/.test(H)){var Ot=X.find("pattern",H);Ot||(Ot=X.addPattern(H)),lt.setAttribute(A.b[dt],"url(#"+Ot+")")}else lt.setAttribute(A.b[dt],H)},Z.prototype.shadow=function(X,dt){var H=this.attr(),lt=dt||H,Ot=lt.shadowOffsetX,Rt=lt.shadowOffsetY,zt=lt.shadowBlur,Bt=lt.shadowColor;(Ot||Rt||zt||Bt)&&Object(p.b)(this,X)},Z.prototype.transform=function(X){var dt=this.attr(),H=(X||dt).matrix;H&&Object(p.c)(this)},Z.prototype.isInShape=function(X,dt){return this.isPointInPath(X,dt)},Z.prototype.isPointInPath=function(X,dt){var H=this.get("el"),lt=this.get("canvas"),Ot=lt.get("el").getBoundingClientRect(),Rt=X+Ot.left,zt=dt+Ot.top,Bt=document.elementFromPoint(Rt,zt);return!!(Bt&&Bt.isEqualNode(H))},Z.prototype.getHitLineWidth=function(){var X=this.attrs,dt=X.lineWidth,H=X.lineAppendWidth;return this.isStroke()?dt+H:0},Z}(g.AbstractShape),O=x,C=a("iTfj"),D=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="circle",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,r:0})},Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");Object(C.j)(dt||H,function(Ot,Rt){Rt==="x"||Rt==="y"?lt.setAttribute("c"+Rt,Ot):A.b[Rt]&&lt.setAttribute(A.b[Rt],Ot)})},Z}(O),R=D,y=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="dom",X.canFill=!1,X.canStroke=!1,X}return Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");if(Object(C.j)(dt||H,function(Bt,tt){A.b[tt]&&lt.setAttribute(A.b[tt],Bt)}),typeof H.html=="function"){var Ot=H.html.call(this,H);if(Ot instanceof Element||Ot instanceof HTMLDocument){for(var Rt=lt.childNodes,zt=Rt.length-1;zt>=0;zt--)lt.removeChild(Rt[zt]);lt.appendChild(Ot)}else lt.innerHTML=Ot}else lt.innerHTML=H.html},Z}(O),w=y,N=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="ellipse",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,rx:0,ry:0})},Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");Object(C.j)(dt||H,function(Ot,Rt){Rt==="x"||Rt==="y"?lt.setAttribute("c"+Rt,Ot):A.b[Rt]&&lt.setAttribute(A.b[Rt],Ot)})},Z}(O),z=N,V=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="image",X.canFill=!1,X.canStroke=!1,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,width:0,height:0})},Z.prototype.createPath=function(X,dt){var H=this,lt=this.attr(),Ot=this.get("el");Object(C.j)(dt||lt,function(Rt,zt){zt==="img"?H._setImage(lt.img):A.b[zt]&&Ot.setAttribute(A.b[zt],Rt)})},Z.prototype.setAttr=function(X,dt){this.attrs[X]=dt,X==="img"&&this._setImage(dt)},Z.prototype._setImage=function(X){var dt=this.attr(),H=this.get("el");if(Object(C.O)(X))H.setAttribute("href",X);else if(X instanceof window.Image)dt.width||(H.setAttribute("width",X.width),this.attr("width",X.width)),dt.height||(H.setAttribute("height",X.height),this.attr("height",X.height)),H.setAttribute("href",X.src);else if(X instanceof HTMLElement&&Object(C.O)(X.nodeName)&&X.nodeName.toUpperCase()==="CANVAS")H.setAttribute("href",X.toDataURL());else if(X instanceof ImageData){var lt=document.createElement("canvas");lt.setAttribute("width",""+X.width),lt.setAttribute("height",""+X.height),lt.getContext("2d").putImageData(X,0,0),dt.width||(H.setAttribute("width",""+X.width),this.attr("width",X.width)),dt.height||(H.setAttribute("height",""+X.height),this.attr("height",X.height)),H.setAttribute("href",lt.toDataURL())}},Z}(O),B=V,P=a("EYNi"),T=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="line",X.canFill=!1,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");Object(C.j)(dt||H,function(Ot,Rt){if(Rt==="startArrow"||Rt==="endArrow")if(Ot){var zt=Object(C.M)(Ot)?X.addArrow(H,A.b[Rt]):X.getDefaultArrow(H,A.b[Rt]);lt.setAttribute(A.b[Rt],"url(#"+zt+")")}else lt.removeAttribute(A.b[Rt]);else A.b[Rt]&&lt.setAttribute(A.b[Rt],Ot)})},Z.prototype.getTotalLength=function(){var X=this.attr(),dt=X.x1,H=X.y1,lt=X.x2,Ot=X.y2;return P.c.length(dt,H,lt,Ot)},Z.prototype.getPoint=function(X){var dt=this.attr(),H=dt.x1,lt=dt.y1,Ot=dt.x2,Rt=dt.y2;return P.c.pointAt(H,lt,Ot,Rt,X)},Z}(O),W=T,Q={circle:function(Z,X,dt){return[["M",Z,X],["m",-dt,0],["a",dt,dt,0,1,0,dt*2,0],["a",dt,dt,0,1,0,-dt*2,0]]},square:function(Z,X,dt){return[["M",Z-dt,X-dt],["L",Z+dt,X-dt],["L",Z+dt,X+dt],["L",Z-dt,X+dt],["Z"]]},diamond:function(Z,X,dt){return[["M",Z-dt,X],["L",Z,X-dt],["L",Z+dt,X],["L",Z,X+dt],["Z"]]},triangle:function(Z,X,dt){var H=dt*Math.sin(1/3*Math.PI);return[["M",Z-dt,X+H],["L",Z,X-H],["L",Z+dt,X+H],["z"]]},triangleDown:function(Z,X,dt){var H=dt*Math.sin(1/3*Math.PI);return[["M",Z-dt,X-H],["L",Z+dt,X-H],["L",Z,X+H],["Z"]]}},nt={get:function(Z){return Q[Z]},register:function(Z,X){Q[Z]=X},remove:function(Z){delete Q[Z]},getAll:function(){return Q}},st=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="marker",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.createPath=function(X){var dt=this.get("el");dt.setAttribute("d",this._assembleMarker())},Z.prototype._assembleMarker=function(){var X=this._getPath();return Object(C.B)(X)?X.map(function(dt){return dt.join(" ")}).join(""):X},Z.prototype._getPath=function(){var X=this.attr(),dt=X.x,H=X.y,lt=X.r||X.radius,Ot=X.symbol||"circle",Rt;return Object(C.H)(Ot)?Rt=Ot:Rt=nt.get(Ot),Rt?Rt(dt,H,lt):(console.warn(Rt+" symbol is not exist."),null)},Z.symbolsFactory=nt,Z}(O),et=st,_=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="path",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{startArrow:!1,endArrow:!1})},Z.prototype.createPath=function(X,dt){var H=this,lt=this.attr(),Ot=this.get("el");Object(C.j)(dt||lt,function(Rt,zt){if(zt==="path"&&Object(C.B)(Rt))Ot.setAttribute("d",H._formatPath(Rt));else if(zt==="startArrow"||zt==="endArrow")if(Rt){var Bt=Object(C.M)(Rt)?X.addArrow(lt,A.b[zt]):X.getDefaultArrow(lt,A.b[zt]);Ot.setAttribute(A.b[zt],"url(#"+Bt+")")}else Ot.removeAttribute(A.b[zt]);else A.b[zt]&&Ot.setAttribute(A.b[zt],Rt)})},Z.prototype._formatPath=function(X){var dt=X.map(function(H){return H.join(" ")}).join("");return~dt.indexOf("NaN")?"":dt},Z.prototype.getTotalLength=function(){var X=this.get("el");return X?X.getTotalLength():null},Z.prototype.getPoint=function(X){var dt=this.get("el"),H=this.getTotalLength();if(H===0)return null;var lt=dt?dt.getPointAtLength(X*H):null;return lt?{x:lt.x,y:lt.y}:null},Z}(O),Y=_,$=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="polygon",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");Object(C.j)(dt||H,function(Ot,Rt){Rt==="points"&&Object(C.B)(Ot)&&Ot.length>=2?lt.setAttribute("points",Ot.map(function(zt){return zt[0]+","+zt[1]}).join(" ")):A.b[Rt]&&lt.setAttribute(A.b[Rt],Ot)})},Z}(O),q=$,at=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="polyline",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{startArrow:!1,endArrow:!1})},Z.prototype.onAttrChange=function(X,dt,H){Ct.prototype.onAttrChange.call(this,X,dt,H),["points"].indexOf(X)!==-1&&this._resetCache()},Z.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},Z.prototype.createPath=function(X,dt){var H=this.attr(),lt=this.get("el");Object(C.j)(dt||H,function(Ot,Rt){Rt==="points"&&Object(C.B)(Ot)&&Ot.length>=2?lt.setAttribute("points",Ot.map(function(zt){return zt[0]+","+zt[1]}).join(" ")):A.b[Rt]&&lt.setAttribute(A.b[Rt],Ot)})},Z.prototype.getTotalLength=function(){var X=this.attr().points,dt=this.get("totalLength");return Object(C.I)(dt)?(this.set("totalLength",P.d.length(X)),this.get("totalLength")):dt},Z.prototype.getPoint=function(X){var dt=this.attr().points,H=this.get("tCache");H||(this._setTcache(),H=this.get("tCache"));var lt,Ot;return Object(C.j)(H,function(Rt,zt){X>=Rt[0]&&X<=Rt[1]&&(lt=(X-Rt[0])/(Rt[1]-Rt[0]),Ot=zt)}),P.c.pointAt(dt[Ot][0],dt[Ot][1],dt[Ot+1][0],dt[Ot+1][1],lt)},Z.prototype._setTcache=function(){var X=this.attr().points;if(!(!X||X.length===0)){var dt=this.getTotalLength();if(!(dt<=0)){var H=0,lt=[],Ot,Rt;Object(C.j)(X,function(zt,Bt){X[Bt+1]&&(Ot=[],Ot[0]=H/dt,Rt=P.c.length(zt[0],zt[1],X[Bt+1][0],X[Bt+1][1]),H+=Rt,Ot[1]=H/dt,lt.push(Ot))}),this.set("tCache",lt)}}},Z.prototype.getStartTangent=function(){var X=this.attr().points,dt=[];return dt.push([X[1][0],X[1][1]]),dt.push([X[0][0],X[0][1]]),dt},Z.prototype.getEndTangent=function(){var X=this.attr().points,dt=X.length-1,H=[];return H.push([X[dt-1][0],X[dt-1][1]]),H.push([X[dt][0],X[dt][1]]),H},Z}(O),pt=at,mt=/[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,ot=/[^\s,]+/gi;function xt(Ct){var Z=0,X=0,dt=0,H=0;return Object(C.B)(Ct)?Ct.length===1?Z=X=dt=H=Ct[0]:Ct.length===2?(Z=dt=Ct[0],X=H=Ct[1]):Ct.length===3?(Z=Ct[0],X=H=Ct[1],dt=Ct[2]):(Z=Ct[0],X=Ct[1],dt=Ct[2],H=Ct[3]):Z=X=dt=H=Ct,{r1:Z,r2:X,r3:dt,r4:H}}function It(Ct){if(Ct=Ct||[],Object(C.B)(Ct))return Ct;if(Object(C.O)(Ct))return Ct=Ct.match(mt),Object(C.j)(Ct,function(Z,X){if(Z=Z.match(ot),Z[0].length>1){var dt=Z[0].charAt(0);Z.splice(1,0,Z[0].substr(1)),Z[0]=dt}Object(C.j)(Z,function(H,lt){isNaN(H)||(Z[lt]=+H)}),Ct[X]=Z}),Ct}var Ht=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="rect",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,width:0,height:0,radius:0})},Z.prototype.createPath=function(X,dt){var H=this,lt=this.attr(),Ot=this.get("el"),Rt=!1,zt=["x","y","width","height","radius"];Object(C.j)(dt||lt,function(Bt,tt){zt.indexOf(tt)!==-1&&!Rt?(Ot.setAttribute("d",H._assembleRect(lt)),Rt=!0):zt.indexOf(tt)===-1&&A.b[tt]&&Ot.setAttribute(A.b[tt],Bt)})},Z.prototype._assembleRect=function(X){var dt=X.x,H=X.y,lt=X.width,Ot=X.height,Rt=X.radius;if(!Rt)return"M "+dt+","+H+" l "+lt+",0 l 0,"+Ot+" l"+-lt+" 0 z";var zt=xt(Rt);Object(C.B)(Rt)?Rt.length===1?zt.r1=zt.r2=zt.r3=zt.r4=Rt[0]:Rt.length===2?(zt.r1=zt.r3=Rt[0],zt.r2=zt.r4=Rt[1]):Rt.length===3?(zt.r1=Rt[0],zt.r2=zt.r4=Rt[1],zt.r3=Rt[2]):(zt.r1=Rt[0],zt.r2=Rt[1],zt.r3=Rt[2],zt.r4=Rt[3]):zt.r1=zt.r2=zt.r3=zt.r4=Rt;var Bt=[["M "+(dt+zt.r1)+","+H],["l "+(lt-zt.r1-zt.r2)+",0"],["a "+zt.r2+","+zt.r2+",0,0,1,"+zt.r2+","+zt.r2],["l 0,"+(Ot-zt.r2-zt.r3)],["a "+zt.r3+","+zt.r3+",0,0,1,"+-zt.r3+","+zt.r3],["l "+(zt.r3+zt.r4-lt)+",0"],["a "+zt.r4+","+zt.r4+",0,0,1,"+-zt.r4+","+-zt.r4],["l 0,"+(zt.r4+zt.r1-Ot)],["a "+zt.r1+","+zt.r1+",0,0,1,"+zt.r1+","+-zt.r1],["z"]];return Bt.join(" ")},Z}(O),Qt=Ht,$t=a("e0ae"),yt=.3,ut={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},ft={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},it={left:"left",start:"left",center:"middle",right:"end",end:"end"},vt=function(Ct){Object(i.c)(Z,Ct);function Z(){var X=Ct!==null&&Ct.apply(this,arguments)||this;return X.type="text",X.canFill=!0,X.canStroke=!0,X}return Z.prototype.getDefaultAttrs=function(){var X=Ct.prototype.getDefaultAttrs.call(this);return Object(i.a)(Object(i.a)({},X),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},Z.prototype.createPath=function(X,dt){var H=this,lt=this.attr(),Ot=this.get("el");this._setFont(),Object(C.j)(dt||lt,function(Rt,zt){zt==="text"?H._setText(""+Rt):zt==="matrix"&&Rt?Object(p.c)(H):A.b[zt]&&Ot.setAttribute(A.b[zt],Rt)}),Ot.setAttribute("paint-order","stroke"),Ot.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},Z.prototype._setFont=function(){var X=this.get("el"),dt=this.attr(),H=dt.textBaseline,lt=dt.textAlign,Ot=Object($t.a)();Ot&&Ot.name==="firefox"?X.setAttribute("dominant-baseline",ft[H]||"alphabetic"):X.setAttribute("alignment-baseline",ut[H]||"baseline"),X.setAttribute("text-anchor",it[lt]||"left")},Z.prototype._setText=function(X){var dt=this.get("el"),H=this.attr(),lt=H.x,Ot=H.textBaseline,Rt=Ot===void 0?"bottom":Ot;if(!X)dt.innerHTML="";else if(~X.indexOf(`
`)){var zt=X.split(`
`),Bt=zt.length-1,tt="";Object(C.j)(zt,function(J,G){G===0?Rt==="alphabetic"?tt+='<tspan x="'+lt+'" dy="'+-Bt+'em">'+J+"</tspan>":Rt==="top"?tt+='<tspan x="'+lt+'" dy="0.9em">'+J+"</tspan>":Rt==="middle"?tt+='<tspan x="'+lt+'" dy="'+-(Bt-1)/2+'em">'+J+"</tspan>":Rt==="bottom"?tt+='<tspan x="'+lt+'" dy="-'+(Bt+yt)+'em">'+J+"</tspan>":Rt==="hanging"&&(tt+='<tspan x="'+lt+'" dy="'+(-(Bt-1)-yt)+'em">'+J+"</tspan>"):tt+='<tspan x="'+lt+'" dy="1em">'+J+"</tspan>"}),dt.innerHTML=tt}else dt.innerHTML=X},Z}(O),Wt=vt},aPG5:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.resolve=void 0;var f=a("MON2"),i=a("FV85"),g=a("qK8v"),p=a("ujMp"),E=a("cSJO"),S=function(O,C,D){try{return D()}catch(R){throw g.isStackOverflowExeption(R)?new Error(f.CIRCULAR_DEPENDENCY_IN_FACTORY(O,C.toString())):R}},A=function x(O){return function(C){C.parentContext.setCurrentRequest(C);var D=C.bindings,R=C.childRequests,y=C.target&&C.target.isArray(),w=!C.parentRequest||!C.parentRequest.target||!C.target||!C.parentRequest.target.matchesArray(C.target.serviceIdentifier);if(y&&w)return R.map(function(T){var W=x(O);return W(T)});var N=null;if(C.target.isOptional()&&D.length===0)return;var z=D[0],V=z.scope===i.BindingScopeEnum.Singleton,B=z.scope===i.BindingScopeEnum.Request;if(V&&z.activated)return z.cache;if(B&&O!==null&&O.has(z.id))return O.get(z.id);if(z.type===i.BindingTypeEnum.ConstantValue)N=z.cache,z.activated=!0;else if(z.type===i.BindingTypeEnum.Function)N=z.cache,z.activated=!0;else if(z.type===i.BindingTypeEnum.Constructor)N=z.implementationType;else if(z.type===i.BindingTypeEnum.DynamicValue&&z.dynamicValue!==null)N=S("toDynamicValue",z.serviceIdentifier,function(){return z.dynamicValue(C.parentContext)});else if(z.type===i.BindingTypeEnum.Factory&&z.factory!==null)N=S("toFactory",z.serviceIdentifier,function(){return z.factory(C.parentContext)});else if(z.type===i.BindingTypeEnum.Provider&&z.provider!==null)N=S("toProvider",z.serviceIdentifier,function(){return z.provider(C.parentContext)});else if(z.type===i.BindingTypeEnum.Instance&&z.implementationType!==null)N=E.resolveInstance(z.implementationType,R,x(O));else{var P=p.getServiceIdentifierAsString(C.serviceIdentifier);throw new Error(f.INVALID_BINDING_TYPE+" "+P)}return typeof z.onActivation=="function"&&(N=z.onActivation(C.parentContext,N)),V&&(z.cache=N,z.activated=!0),B&&O!==null&&!O.has(z.id)&&O.set(z.id,N),N}};function M(x){var O=A(x.plan.rootRequest.requestScope);return O(x.plan.rootRequest)}I.resolve=M},aSjE:function(Ft,I,a){"use strict";a.d(I,"b",function(){return f}),a.d(I,"c",function(){return i}),a.d(I,"a",function(){return g});function f(p,E){var S=[],A=p[0],M=p[1],x=p[2],O=p[3],C=p[4],D=p[5],R=p[6],y=p[7],w=p[8],N=E[0],z=E[1],V=E[2],B=E[3],P=E[4],T=E[5],W=E[6],Q=E[7],nt=E[8];return S[0]=N*A+z*O+V*R,S[1]=N*M+z*C+V*y,S[2]=N*x+z*D+V*w,S[3]=B*A+P*O+T*R,S[4]=B*M+P*C+T*y,S[5]=B*x+P*D+T*w,S[6]=W*A+Q*O+nt*R,S[7]=W*M+Q*C+nt*y,S[8]=W*x+Q*D+nt*w,S}function i(p,E){var S=[],A=E[0],M=E[1];return S[0]=p[0]*A+p[3]*M+p[6],S[1]=p[1]*A+p[4]*M+p[7],S}function g(p){var E=[],S=p[0],A=p[1],M=p[2],x=p[3],O=p[4],C=p[5],D=p[6],R=p[7],y=p[8],w=y*O-C*R,N=-y*x+C*D,z=R*x-O*D,V=S*w+A*N+M*z;return V?(V=1/V,E[0]=w*V,E[1]=(-y*A+M*R)*V,E[2]=(C*A-M*O)*V,E[3]=N*V,E[4]=(y*S-M*D)*V,E[5]=(-C*S+M*x)*V,E[6]=z*V,E[7]=(-R*S+A*D)*V,E[8]=(O*S-A*x)*V,E):null}},aSns:function(Ft,I,a){"use strict";var f=a("GrlX"),i=a("uxXc"),g=[].slice,p=["keyword","gray","hex"],E={};Object.keys(i).forEach(function(y){E[g.call(i[y].labels).sort().join("")]=y});var S={};function A(y,w){if(!(this instanceof A))return new A(y,w);if(w&&w in p&&(w=null),w&&!(w in i))throw new Error("Unknown model: "+w);var N,z;if(y==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(y instanceof A)this.model=y.model,this.color=y.color.slice(),this.valpha=y.valpha;else if(typeof y=="string"){var V=f.get(y);if(V===null)throw new Error("Unable to parse color from string: "+y);this.model=V.model,z=i[this.model].channels,this.color=V.value.slice(0,z),this.valpha=typeof V.value[z]=="number"?V.value[z]:1}else if(y.length){this.model=w||"rgb",z=i[this.model].channels;var B=g.call(y,0,z);this.color=R(B,z),this.valpha=typeof y[z]=="number"?y[z]:1}else if(typeof y=="number")y&=16777215,this.model="rgb",this.color=[y>>16&255,y>>8&255,y&255],this.valpha=1;else{this.valpha=1;var P=Object.keys(y);"alpha"in y&&(P.splice(P.indexOf("alpha"),1),this.valpha=typeof y.alpha=="number"?y.alpha:0);var T=P.sort().join("");if(!(T in E))throw new Error("Unable to parse color from object: "+JSON.stringify(y));this.model=E[T];var W=i[this.model].labels,Q=[];for(N=0;N<W.length;N++)Q.push(y[W[N]]);this.color=R(Q)}if(S[this.model])for(z=i[this.model].channels,N=0;N<z;N++){var nt=S[this.model][N];nt&&(this.color[N]=nt(this.color[N]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}A.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(w){var N=this.model in f.to?this:this.rgb();N=N.round(typeof w=="number"?w:1);var z=N.valpha===1?N.color:N.color.concat(this.valpha);return f.to[N.model](z)},percentString:function(w){var N=this.rgb().round(typeof w=="number"?w:1),z=N.valpha===1?N.color:N.color.concat(this.valpha);return f.to.rgb.percent(z)},array:function(){return this.valpha===1?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var w={},N=i[this.model].channels,z=i[this.model].labels,V=0;V<N;V++)w[z[V]]=this.color[V];return this.valpha!==1&&(w.alpha=this.valpha),w},unitArray:function(){var w=this.rgb().color;return w[0]/=255,w[1]/=255,w[2]/=255,this.valpha!==1&&w.push(this.valpha),w},unitObject:function(){var w=this.rgb().object();return w.r/=255,w.g/=255,w.b/=255,this.valpha!==1&&(w.alpha=this.valpha),w},round:function(w){return w=Math.max(w||0,0),new A(this.color.map(x(w)).concat(this.valpha),this.model)},alpha:function(w){return arguments.length?new A(this.color.concat(Math.max(0,Math.min(1,w))),this.model):this.valpha},red:O("rgb",0,C(255)),green:O("rgb",1,C(255)),blue:O("rgb",2,C(255)),hue:O(["hsl","hsv","hsl","hwb","hcg"],0,function(y){return(y%360+360)%360}),saturationl:O("hsl",1,C(100)),lightness:O("hsl",2,C(100)),saturationv:O("hsv",1,C(100)),value:O("hsv",2,C(100)),chroma:O("hcg",1,C(100)),gray:O("hcg",2,C(100)),white:O("hwb",1,C(100)),wblack:O("hwb",2,C(100)),cyan:O("cmyk",0,C(100)),magenta:O("cmyk",1,C(100)),yellow:O("cmyk",2,C(100)),black:O("cmyk",3,C(100)),x:O("xyz",0,C(100)),y:O("xyz",1,C(100)),z:O("xyz",2,C(100)),l:O("lab",0,C(100)),a:O("lab",1),b:O("lab",2),keyword:function(w){return arguments.length?new A(w):i[this.model].keyword(this.color)},hex:function(w){return arguments.length?new A(w):f.to.hex(this.rgb().round().color)},rgbNumber:function(){var w=this.rgb().color;return(w[0]&255)<<16|(w[1]&255)<<8|w[2]&255},luminosity:function(){for(var w=this.rgb().color,N=[],z=0;z<w.length;z++){var V=w[z]/255;N[z]=V<=.03928?V/12.92:Math.pow((V+.055)/1.055,2.4)}return .2126*N[0]+.7152*N[1]+.0722*N[2]},contrast:function(w){var N=this.luminosity(),z=w.luminosity();return N>z?(N+.05)/(z+.05):(z+.05)/(N+.05)},level:function(w){var N=this.contrast(w);return N>=7.1?"AAA":N>=4.5?"AA":""},isDark:function(){var w=this.rgb().color,N=(w[0]*299+w[1]*587+w[2]*114)/1e3;return N<128},isLight:function(){return!this.isDark()},negate:function(){for(var w=this.rgb(),N=0;N<3;N++)w.color[N]=255-w.color[N];return w},lighten:function(w){var N=this.hsl();return N.color[2]+=N.color[2]*w,N},darken:function(w){var N=this.hsl();return N.color[2]-=N.color[2]*w,N},saturate:function(w){var N=this.hsl();return N.color[1]+=N.color[1]*w,N},desaturate:function(w){var N=this.hsl();return N.color[1]-=N.color[1]*w,N},whiten:function(w){var N=this.hwb();return N.color[1]+=N.color[1]*w,N},blacken:function(w){var N=this.hwb();return N.color[2]+=N.color[2]*w,N},grayscale:function(){var w=this.rgb().color,N=w[0]*.3+w[1]*.59+w[2]*.11;return A.rgb(N,N,N)},fade:function(w){return this.alpha(this.valpha-this.valpha*w)},opaquer:function(w){return this.alpha(this.valpha+this.valpha*w)},rotate:function(w){var N=this.hsl(),z=N.color[0];return z=(z+w)%360,z=z<0?360+z:z,N.color[0]=z,N},mix:function(w,N){if(!w||!w.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof w);var z=w.rgb(),V=this.rgb(),B=N===void 0?.5:N,P=2*B-1,T=z.alpha()-V.alpha(),W=((P*T==-1?P:(P+T)/(1+P*T))+1)/2,Q=1-W;return A.rgb(W*z.red()+Q*V.red(),W*z.green()+Q*V.green(),W*z.blue()+Q*V.blue(),z.alpha()*B+V.alpha()*(1-B))}},Object.keys(i).forEach(function(y){if(p.indexOf(y)===-1){var w=i[y].channels;A.prototype[y]=function(){if(this.model===y)return new A(this);if(arguments.length)return new A(arguments,y);var N=typeof arguments[w]=="number"?w:this.valpha;return new A(D(i[this.model][y].raw(this.color)).concat(N),y)},A[y]=function(N){return typeof N=="number"&&(N=R(g.call(arguments),w)),new A(N,y)}}});function M(y,w){return Number(y.toFixed(w))}function x(y){return function(w){return M(w,y)}}function O(y,w,N){return y=Array.isArray(y)?y:[y],y.forEach(function(z){(S[z]||(S[z]=[]))[w]=N}),y=y[0],function(z){var V;return arguments.length?(N&&(z=N(z)),V=this[y](),V.color[w]=z,V):(V=this[y]().color[w],N&&(V=N(V)),V)}}function C(y){return function(w){return Math.max(0,Math.min(y,w))}}function D(y){return Array.isArray(y)?y:[y]}function R(y,w){for(var N=0;N<w;N++)typeof y[N]!="number"&&(y[N]=0);return y}Ft.exports=A},alwl:function(Ft,I,a){var f=a("eUgh"),i=a("ZWtO"),g=a("ut/Y"),p=a("l9OW"),E=a("1LK5"),S=a("sEf8"),A=a("IWTy"),M=a("zZ0H"),x=a("Z0cm");function O(C,D,R){D.length?D=f(D,function(N){return x(N)?function(z){return i(z,N.length===1?N[0]:N)}:N}):D=[M];var y=-1;D=f(D,S(g));var w=p(C,function(N,z,V){var B=f(D,function(P){return P(N)});return{criteria:B,index:++y,value:N}});return E(w,function(N,z){return A(N,z,R)})}Ft.exports=O},asDA:function(Ft,I){function a(f,i,g,p){var E=-1,S=f==null?0:f.length;for(p&&S&&(g=f[++E]);++E<S;)g=i(g,f[E],E,f);return g}Ft.exports=a},b2z7:function(Ft,I){var a=/\w*$/;function f(i){var g=new i.constructor(i.source,a.exec(i));return g.lastIndex=i.lastIndex,g}Ft.exports=f},b4r2:function(Ft,I,a){(function(f,i){Ft.exports=i()})(this,function(){return function(){"use strict";var f={458:function(S){S.exports=function(A,M,x,O){var C=self||window;try{try{var D;try{D=new C.Blob([A])}catch(N){(D=new(C.BlobBuilder||C.WebKitBlobBuilder||C.MozBlobBuilder||C.MSBlobBuilder)).append(A),D=D.getBlob()}var R=C.URL||C.webkitURL,y=R.createObjectURL(D),w=new C[M](y,x);return R.revokeObjectURL(y),w}catch(N){return new C[M]("data:application/javascript,".concat(encodeURIComponent(A)),x)}}catch(N){if(!O)throw Error("Inline worker is not supported");return new C[M](O,x)}}}},i={};function g(E){var S=i[E];if(S!==void 0)return S.exports;var A=i[E]={exports:{}};return f[E](A,A.exports,g),A.exports}g.n=function(E){var S=E&&E.__esModule?function(){return E.default}:function(){return E};return g.d(S,{a:S}),S},g.d=function(E,S){for(var A in S)g.o(S,A)&&!g.o(E,A)&&Object.defineProperty(E,A,{enumerable:!0,get:S[A]})},g.o=function(E,S){return Object.prototype.hasOwnProperty.call(E,S)},g.p="./dist";var p={};return function(){g.d(p,{default:function(){return zt}});var E=function(tt,J){var G=tt.nodes,Et=tt.edges,Tt=[],ct={};if(!G)throw new Error("invalid nodes data!");return G&&G.forEach(function(St,Vt){ct[St.id]=Vt,Tt.push([])}),Et&&Et.forEach(function(St){var Vt=St.source,Lt=St.target,Nt=ct[Vt],Zt=ct[Lt];!Nt&&Nt!==0||!Zt&&Zt!==0||(Tt[Nt][Zt]=1,J||(Tt[Zt][Nt]=1))}),Tt},S=function(tt,J){return tt===J},A=function(){function Bt(tt,J){J===void 0&&(J=null),this.value=tt,this.next=J}return Bt.prototype.toString=function(tt){return tt?tt(this.value):""+this.value},Bt}(),M=function(){function Bt(tt){tt===void 0&&(tt=S),this.head=null,this.tail=null,this.compare=tt}return Bt.prototype.prepend=function(tt){var J=new A(tt,this.head);return this.head=J,this.tail||(this.tail=J),this},Bt.prototype.append=function(tt){var J=new A(tt);return this.head?(this.tail.next=J,this.tail=J,this):(this.head=J,this.tail=J,this)},Bt.prototype.delete=function(tt){if(!this.head)return null;for(var J=null;this.head&&this.compare(this.head.value,tt);)J=this.head,this.head=this.head.next;var G=this.head;if(G!==null)for(;G.next;)this.compare(G.next.value,tt)?(J=G.next,G.next=G.next.next):G=G.next;return this.compare(this.tail.value,tt)&&(this.tail=G),J},Bt.prototype.find=function(tt){var J=tt.value,G=J===void 0?void 0:J,Et=tt.callback,Tt=Et===void 0?void 0:Et;if(!this.head)return null;for(var ct=this.head;ct;){if(Tt&&Tt(ct.value)||G!==void 0&&this.compare(ct.value,G))return ct;ct=ct.next}return null},Bt.prototype.deleteTail=function(){var tt=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,tt;for(var J=this.head;J.next;)J.next.next?J=J.next:J.next=null;return this.tail=J,tt},Bt.prototype.deleteHead=function(){if(!this.head)return null;var tt=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),tt},Bt.prototype.fromArray=function(tt){var J=this;return tt.forEach(function(G){return J.append(G)}),this},Bt.prototype.toArray=function(){for(var tt=[],J=this.head;J;)tt.push(J),J=J.next;return tt},Bt.prototype.reverse=function(){for(var tt=this.head,J=null,G=null;tt;)G=tt.next,tt.next=J,J=tt,tt=G;this.tail=this.head,this.head=J},Bt.prototype.toString=function(tt){return tt===void 0&&(tt=void 0),this.toArray().map(function(J){return J.toString(tt)}).toString()},Bt}(),x=function(){function Bt(){this.linkedList=new M}return Bt.prototype.isEmpty=function(){return!this.linkedList.head},Bt.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},Bt.prototype.enqueue=function(tt){this.linkedList.append(tt)},Bt.prototype.dequeue=function(){var tt=this.linkedList.deleteHead();return tt?tt.value:null},Bt.prototype.toString=function(tt){return this.linkedList.toString(tt)},Bt}(),O=function(tt,J,G){J===void 0&&(J=[]);var Et=J.filter(function(Tt){return Tt.source===tt||Tt.target===tt});return G==="target"?Et.filter(function(Tt){return Tt.source===tt}).map(function(Tt){return Tt.target}):G==="source"?Et.filter(function(Tt){return Tt.target===tt}).map(function(Tt){return Tt.source}):Et.map(function(Tt){return Tt.source===tt?Tt.target:Tt.source})},C=function(tt,J){return J.filter(function(G){return G.source===tt||G.target===tt})},D=function(tt){return tt===void 0&&(tt=0),tt+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)},R=function(tt){var J={},G=tt.nodes,Et=G===void 0?[]:G,Tt=tt.edges,ct=Tt===void 0?[]:Tt;return Et.forEach(function(St){J[St.id]={degree:0,inDegree:0,outDegree:0}}),ct.forEach(function(St){J[St.source].degree++,J[St.source].outDegree++,J[St.target].degree++,J[St.target].inDegree++}),J},y=R;function w(Bt,tt,J,G){G.enter({current:tt,previous:J});var Et=Bt.edges;O(tt,Et===void 0?[]:Et,"target").forEach(function(Tt){G.allowTraversal({previous:J,current:tt,next:Tt})&&w(Bt,Tt,tt,G)}),G.leave({current:tt,previous:J})}function N(Bt,tt,J){w(Bt,tt,"",function(G){G===void 0&&(G={});var Et,Tt=G,ct=function(){},St=(Et={},function(Vt){var Lt=Vt.next;return!Et[Lt]&&(Et[Lt]=!0,!0)});return Tt.allowTraversal=G.allowTraversal||St,Tt.enter=G.enter||ct,Tt.leave=G.leave||ct,Tt}(J))}function z(Bt,tt){for(var J=0,G=tt.length,Et=Bt.length;J<G;J++,Et++)Bt[Et]=tt[J];return Bt}var V={}.toString,B=function(tt,J){return V.call(tt)==="[object "+J+"]"},P=function(tt){return Array.isArray?Array.isArray(tt):B(tt,"Array")},T=Array.prototype;T.splice,T.indexOf,Array.prototype.splice,Number.isInteger&&Number.isInteger,Object.prototype;var W=function Bt(tt){if(typeof tt!="object"||tt===null)return tt;var J;if(P(tt)){J=[];for(var G=0,Et=tt.length;G<Et;G++)typeof tt[G]=="object"&&tt[G]!=null?J[G]=Bt(tt[G]):J[G]=tt[G]}else for(var Tt in J={},tt)typeof tt[Tt]=="object"&&tt[Tt]!=null?J[Tt]=Bt(tt[Tt]):J[Tt]=tt[Tt];return J};(function(){function Bt(){this.map={}}Bt.prototype.has=function(tt){return this.map[tt]!==void 0},Bt.prototype.get=function(tt,J){var G=this.map[tt];return G===void 0?J:G},Bt.prototype.set=function(tt,J){this.map[tt]=J},Bt.prototype.clear=function(){this.map={}},Bt.prototype.delete=function(tt){delete this.map[tt]},Bt.prototype.size=function(){return Object.keys(this.map).length}})();var Q=function(tt,J,G,Et){var Tt=tt.nodes,ct=Tt===void 0?[]:Tt,St=tt.edges,Vt=St===void 0?[]:St,Lt=[],Nt={},Zt={},oe={};ct.forEach(function(He,_e){var ur=He.id;Lt.push(ur),Zt[ur]=1/0,ur===J&&(Zt[ur]=0)});for(var ue=ct.length,Ee=function(_e){var ur=function(Ar,Ge,br){for(var er,nr=1/0,yr=0;yr<Ge.length;yr++){var Rr=Ge[yr].id;!br[Rr]&&Ar[Rr]<=nr&&(nr=Ar[Rr],er=Ge[yr])}return er}(Zt,ct,Nt),jr=ur.id;if(Nt[jr]=!0,Zt[jr]===1/0)return"continue";(G?function(Ar,Ge){return Ge.filter(function(br){return br.source===Ar})}(jr,Vt):C(jr,Vt)).forEach(function(Ar){var Ge=Ar.target,br=Ar.source,er=Ge===jr?br:Ge,nr=Et&&Ar[Et]?Ar[Et]:1;Zt[er]>Zt[ur.id]+nr?(Zt[er]=Zt[ur.id]+nr,oe[er]=[ur.id]):Zt[er]===Zt[ur.id]+nr&&oe[er].push(ur.id)})},Te=0;Te<ue;Te++)Ee();oe[J]=[J];var Se={};for(var $e in Zt)Zt[$e]!==1/0&&nt(J,$e,oe,Se);var cr={};for(var $e in Se)cr[$e]=Se[$e][0];return{length:Zt,path:cr,allPath:Se}};function nt(Bt,tt,J,G){if(Bt===tt)return[Bt];if(G[tt])return G[tt];for(var Et=[],Tt=0,ct=J[tt];Tt<ct.length;Tt++){var St=nt(Bt,ct[Tt],J,G);if(!St)return;for(var Vt=0,Lt=St;Vt<Lt.length;Vt++){var Nt=Lt[Vt];P(Nt)?Et.push(z(z([],Nt),[tt])):Et.push([Nt,tt])}}return G[tt]=Et,G[tt]}var st=function(tt,J){for(var G=E(tt,J),Et=[],Tt=G.length,ct=0;ct<Tt;ct+=1){Et[ct]=[];for(var St=0;St<Tt;St+=1)ct===St?Et[ct][St]=0:G[ct][St]!==0&&G[ct][St]?Et[ct][St]=G[ct][St]:Et[ct][St]=1/0}for(var Vt=0;Vt<Tt;Vt+=1)for(ct=0;ct<Tt;ct+=1)for(St=0;St<Tt;St+=1)Et[ct][St]>Et[ct][Vt]+Et[Vt][St]&&(Et[ct][St]=Et[ct][Vt]+Et[Vt][St]);return Et},et=function(tt,J,G,Et){for(var Tt=J.length,ct=2*Et,St=0,Vt=0;Vt<Tt;Vt++)for(var Lt=tt[Vt].clusterId,Nt=0;Nt<Tt;Nt++)Lt===tt[Nt].clusterId&&(St+=(J[Vt][Nt]||0)-(G[Vt]||0)*(G[Nt]||0)/ct);return St*(1/ct)},_=function(){function Bt(tt){this.count=tt.length,this.parent={};for(var J=0,G=tt;J<G.length;J++){var Et=G[J];this.parent[Et]=Et}}return Bt.prototype.find=function(tt){for(;this.parent[tt]!==tt;)tt=this.parent[tt];return tt},Bt.prototype.union=function(tt,J){var G=this.find(tt),Et=this.find(J);G!==Et&&(G<Et?(this.parent[J]!==J&&this.union(this.parent[J],tt),this.parent[J]=this.parent[tt]):(this.parent[tt]!==tt&&this.union(this.parent[tt],J),this.parent[tt]=this.parent[J]))},Bt.prototype.connected=function(tt,J){return this.find(tt)===this.find(J)},Bt}(),Y=function(tt,J){return tt-J},$=function(){function Bt(tt){tt===void 0&&(tt=Y),this.compareFn=tt,this.list=[]}return Bt.prototype.getLeft=function(tt){return 2*tt+1},Bt.prototype.getRight=function(tt){return 2*tt+2},Bt.prototype.getParent=function(tt){return tt===0?null:Math.floor((tt-1)/2)},Bt.prototype.isEmpty=function(){return this.list.length<=0},Bt.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},Bt.prototype.delMin=function(){var tt=this.top(),J=this.list.pop();return this.list.length>0&&(this.list[0]=J,this.moveDown(0)),tt},Bt.prototype.insert=function(tt){if(tt!==null){this.list.push(tt);var J=this.list.length-1;return this.moveUp(J),!0}return!1},Bt.prototype.moveUp=function(tt){for(var J=this.getParent(tt);tt&&tt>0&&this.compareFn(this.list[J],this.list[tt])>0;){var G=this.list[J];this.list[J]=this.list[tt],this.list[tt]=G,tt=J,J=this.getParent(tt)}},Bt.prototype.moveDown=function(tt){var J,G=tt,Et=this.getLeft(tt),Tt=this.getRight(tt),ct=this.list.length;Et!==null&&Et<ct&&this.compareFn(this.list[G],this.list[Et])>0?G=Et:Tt!==null&&Tt<ct&&this.compareFn(this.list[G],this.list[Tt])>0&&(G=Tt),tt!==G&&(J=[this.list[G],this.list[tt]],this.list[tt]=J[0],this.list[G]=J[1],this.moveDown(G))},Bt}(),q=function(tt,J){var G=[],Et=tt.nodes,Tt=Et===void 0?[]:Et,ct=tt.edges,St=ct===void 0?[]:ct;if(Tt.length===0)return G;var Vt=Tt[0],Lt=new Set;Lt.add(Vt);var Nt=new $(function(Ee,Te){return J?Ee.weight-Te.weight:0});for(C(Vt.id,St).forEach(function(Ee){Nt.insert(Ee)});!Nt.isEmpty();){var Zt=Nt.delMin(),oe=Zt.source,ue=Zt.target;Lt.has(oe)&&Lt.has(ue)||(G.push(Zt),Lt.has(oe)||(Lt.add(oe),C(oe,St).forEach(function(Ee){Nt.insert(Ee)})),Lt.has(ue)||(Lt.add(ue),C(ue,St).forEach(function(Ee){Nt.insert(Ee)})))}return G},at=function(tt,J){var G=[],Et=tt.nodes,Tt=Et===void 0?[]:Et,ct=tt.edges,St=ct===void 0?[]:ct;if(Tt.length===0)return G;var Vt=St.map(function(ue){return ue});J&&Vt.sort(function(ue,Ee){return ue.weight-Ee.weight});for(var Lt=new _(Tt.map(function(ue){return ue.id}));Vt.length>0;){var Nt=Vt.shift(),Zt=Nt.source,oe=Nt.target;Lt.connected(Zt,oe)||(G.push(Nt),Lt.union(Zt,oe))}return G},pt="-1",mt=function(tt,J,G,Et){tt===void 0&&(tt=-1),J===void 0&&(J=-1),G===void 0&&(G=-1),Et===void 0&&(Et="-1"),this.id=tt,this.from=J,this.to=G,this.label=Et},ot=function(){function Bt(tt,J){tt===void 0&&(tt=-1),J===void 0&&(J=pt),this.id=tt,this.label=J,this.edges=[],this.edgeMap={}}return Bt.prototype.addEdge=function(tt){this.edges.push(tt),this.edgeMap[tt.id]=tt},Bt}(),xt=function(){function Bt(tt,J,G){tt===void 0&&(tt=-1),J===void 0&&(J=!0),G===void 0&&(G=!1),this.id=tt,this.edgeIdAutoIncrease=J,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=G}return Bt.prototype.getNodeNum=function(){return this.nodes.length},Bt.prototype.addNode=function(tt,J){if(!this.nodeMap[tt]){var G=new ot(tt,J);this.nodes.push(G),this.nodeMap[tt]=G,this.nodeLabelMap[J]||(this.nodeLabelMap[J]=[]),this.nodeLabelMap[J].push(tt)}},Bt.prototype.addEdge=function(tt,J,G,Et){if((this.edgeIdAutoIncrease||tt===void 0)&&(tt=this.counter++),!(this.nodeMap[J]&&this.nodeMap[G]&&this.nodeMap[G].edgeMap[tt])){var Tt=new mt(tt,J,G,Et);if(this.edges.push(Tt),this.edgeMap[tt]=Tt,this.nodeMap[J].addEdge(Tt),this.edgeLabelMap[Et]||(this.edgeLabelMap[Et]=[]),this.edgeLabelMap[Et].push(Tt),!this.directed){var ct=new mt(tt,G,J,Et);this.nodeMap[G].addEdge(ct),this.edgeLabelMap[Et].push(ct)}}},Bt}(),It=function(){function Bt(tt,J,G,Et,Tt){this.fromNode=tt,this.toNode=J,this.nodeEdgeNodeLabel={nodeLabel1:G||pt,edgeLabel:Et||"-1",nodeLabel2:Tt||pt}}return Bt.prototype.equalTo=function(tt){return this.fromNode===tt.formNode&&this.toNode===tt.toNode&&this.nodeEdgeNodeLabel===tt.nodeEdgeNodeLabel},Bt.prototype.notEqualTo=function(tt){return!this.equalTo(tt)},Bt}(),Ht=function(){function Bt(){this.rmpath=[],this.dfsEdgeList=[]}return Bt.prototype.equalTo=function(tt){var J=this.dfsEdgeList.length;if(J!==tt.length)return!1;for(var G=0;G<J;G++)if(this.dfsEdgeList[G]!==tt[G])return!1;return!0},Bt.prototype.notEqualTo=function(tt){return!this.equalTo(tt)},Bt.prototype.pushBack=function(tt,J,G,Et,Tt){return this.dfsEdgeList.push(new It(tt,J,G,Et,Tt)),this.dfsEdgeList},Bt.prototype.toGraph=function(tt,J){tt===void 0&&(tt=-1),J===void 0&&(J=!1);var G=new xt(tt,!0,J);return this.dfsEdgeList.forEach(function(Et){var Tt=Et.fromNode,ct=Et.toNode,St=Et.nodeEdgeNodeLabel,Vt=St.nodeLabel1,Lt=St.edgeLabel,Nt=St.nodeLabel2;Vt!==pt&&G.addNode(Tt,Vt),Nt!==pt&&G.addNode(ct,Nt),G.addEdge(void 0,Tt,ct,Lt)}),G},Bt.prototype.buildRmpath=function(){this.rmpath=[];for(var tt=void 0,J=this.dfsEdgeList.length-1;J>=0;J--){var G=this.dfsEdgeList[J],Et=G.fromNode,Tt=G.toNode;Et<Tt&&(tt===void 0||Tt===tt)&&(this.rmpath.push(J),tt=Et)}return this.rmpath},Bt.prototype.getNodeNum=function(){var tt={};return this.dfsEdgeList.forEach(function(J){tt[J.fromNode]||(tt[J.fromNode]=!0),tt[J.toNode]||(tt[J.toNode]=!0)}),Object.keys(tt).length},Bt}(),Qt=function(){function Bt(tt){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],tt){for(;tt;){var J=tt.edge;this.edges.push(J),this.nodesUsed[J.from]=1,this.nodesUsed[J.to]=1,this.edgesUsed[J.id]=1,tt=tt.preNode}this.edges=this.edges.reverse()}}return Bt.prototype.hasNode=function(tt){return this.nodesUsed[tt.id]===1},Bt.prototype.hasEdge=function(tt){return this.edgesUsed[tt.id]===1},Bt}(),$t=function(){function Bt(tt){var J=tt.graphs,G=tt.minSupport,Et=G===void 0?2:G,Tt=tt.minNodeNum,ct=Tt===void 0?1:Tt,St=tt.maxNodeNum,Vt=St===void 0?4:St,Lt=tt.top,Nt=Lt===void 0?10:Lt,Zt=tt.directed,oe=Zt!==void 0&&Zt,ue=tt.verbose,Ee=ue!==void 0&&ue;this.graphs=J,this.dfsCode=new Ht,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=Et,this.top=Nt,this.directed=oe,this.counter=0,this.maxNodeNum=Vt,this.minNodeNum=ct,this.verbose=Ee,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return Bt.prototype.findForwardRootEdges=function(tt,J){var G=this,Et=[],Tt=tt.nodeMap;return J.edges.forEach(function(ct){(G.directed||J.label<=Tt[ct.to].label)&&Et.push(ct)}),Et},Bt.prototype.findBackwardEdge=function(tt,J,G,Et){if(!this.directed&&J===G)return null;for(var Tt=tt.nodeMap,ct=Tt[G.to].edges,St=ct.length,Vt=0;Vt<St;Vt++){var Lt=ct[Vt];if(!Et.hasEdge(Lt)&&Lt.to===J.from){if(this.directed){if(Tt[J.from].label<Tt[G.to].label||Tt[J.from].label===Tt[G.to].label&&J.label<=Lt.label)return Lt}else if(J.label<Lt.label||J.label===Lt.label&&Tt[J.to].label<=Tt[G.to].label)return Lt}}return null},Bt.prototype.findForwardPureEdges=function(tt,J,G,Et){for(var Tt=[],ct=J.to,St=tt.nodeMap[ct].edges,Vt=St.length,Lt=0;Lt<Vt;Lt++){var Nt=St[Lt],Zt=tt.nodeMap[Nt.to];G<=Zt.label&&!Et.hasNode(Zt)&&Tt.push(Nt)}return Tt},Bt.prototype.findForwardRmpathEdges=function(tt,J,G,Et){for(var Tt=[],ct=tt.nodeMap,St=ct[J.to].label,Vt=ct[J.from].edges,Lt=Vt.length,Nt=0;Nt<Lt;Nt++){var Zt=Vt[Nt],oe=ct[Zt.to].label;J.to===Zt.to||G>oe||Et.hasNode(ct[Zt.to])||(J.label<Zt.label||J.label===Zt.label&&St<=oe)&&Tt.push(Zt)}return Tt},Bt.prototype.getSupport=function(tt){var J={};return tt.forEach(function(G){J[G.graphId]||(J[G.graphId]=!0)}),Object.keys(J).length},Bt.prototype.findMinLabel=function(tt){var J=void 0;return Object.keys(tt).forEach(function(G){var Et=tt[G],Tt=Et.nodeLabel1,ct=Et.edgeLabel,St=Et.nodeLabel2;J?(Tt<J.nodeLabel1||Tt===J.nodeLabel1&&ct<J.edgeLabel||Tt===J.nodeLabel1&&ct===J.edgeLabel&&St<J.nodeLabel2)&&(J={nodeLabel1:Tt,edgeLabel:ct,nodeLabel2:St}):J={nodeLabel1:Tt,edgeLabel:ct,nodeLabel2:St}}),J},Bt.prototype.isMin=function(){var tt=this,J=this.dfsCode;if(this.verbose&&console.log("isMin checking",J),J.dfsEdgeList.length===1)return!0;var G=this.directed,Et=J.toGraph(-1,G),Tt=Et.nodeMap,ct=new Ht,St={};Et.nodes.forEach(function(Zt){tt.findForwardRootEdges(Et,Zt).forEach(function(oe){var ue=Tt[oe.to],Ee=Zt.label+"-"+oe.label+"-"+ue.label;St[Ee]||(St[Ee]={projected:[],nodeLabel1:Zt.label,edgeLabel:oe.label,nodeLabel2:ue.label});var Te={graphId:Et.id,edge:oe,preNode:null};St[Ee].projected.push(Te)})});var Vt=this.findMinLabel(St);ct.dfsEdgeList.push(new It(0,1,Vt.nodeLabel1,Vt.edgeLabel,Vt.nodeLabel2));var Lt=function Zt(oe){for(var ue=ct.buildRmpath(),Ee=ct.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,Te=ct.dfsEdgeList[ue[0]].toNode,Se={},$e=!1,cr=0,He=G?-1:0,_e=function(In){if($e)return"break";oe.forEach(function(Un){var _n=new Qt(Un),sa=tt.findBackwardEdge(Et,_n.edges[ue[In]],_n.edges[ue[0]],_n);sa&&(Se[sa.label]||(Se[sa.label]={projected:[],edgeLabel:sa.label}),Se[sa.label].projected.push({graphId:Et.id,edge:Se,preNode:Un}),cr=ct.dfsEdgeList[ue[In]].fromNode,$e=!0)})},ur=ue.length-1;ur>He&&_e(ur)!=="break";ur--);if($e){var jr=tt.findMinLabel(Se);ct.dfsEdgeList.push(new It(Te,cr,pt,jr.edgeLabel,pt));var Ar=ct.dfsEdgeList.length-1;return tt.dfsCode.dfsEdgeList[Ar]===ct.dfsEdgeList[Ar]&&Zt(Se[jr.edgeLabel].projected)}var Ge={};$e=!1;var br=0;oe.forEach(function(an){var In=new Qt(an),Un=tt.findForwardPureEdges(Et,In.edges[ue[0]],Ee,In);Un.length>0&&($e=!0,br=Te,Un.forEach(function(_n){var sa=_n.label+"-"+Tt[_n.to].label;Ge[sa]||(Ge[sa]={projected:[],edgeLabel:_n.label,nodeLabel2:Tt[_n.to].label}),Ge[sa].projected.push({graphId:Et.id,edge:_n,preNode:an})}))});var er=ue.length,nr=function(In){if($e)return"break";var Un=ue[In];oe.forEach(function(_n){var sa=new Qt(_n),ci=tt.findForwardRmpathEdges(Et,sa.edges[Un],Ee,sa);ci.length>0&&($e=!0,br=ct.dfsEdgeList[Un].fromNode,ci.forEach(function(fi){var pa=fi.label+"-"+Tt[fi.to].label;Ge[pa]||(Ge[pa]={projected:[],edgeLabel:fi.label,nodeLabel2:Tt[fi.to].label}),Ge[pa].projected.push({graphId:Et.id,edge:fi,preNode:_n})}))})};for(ur=0;ur<er&&nr(ur)!=="break";ur++);if(!$e)return!0;var yr=tt.findMinLabel(Ge);ct.dfsEdgeList.push(new It(br,Te+1,pt,yr.edgeLabel,yr.nodeLabel2));var Rr=ct.dfsEdgeList.length-1;return J.dfsEdgeList[Rr]===ct.dfsEdgeList[Rr]&&Zt(Ge[yr.edgeLabel+"-"+yr.nodeLabel2].projected)},Nt=Vt.nodeLabel1+"-"+Vt.edgeLabel+"-"+Vt.nodeLabel2;return Lt(St[Nt].projected)},Bt.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var tt=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(W(tt))}},Bt.prototype.subGraphMining=function(tt){var J=this;if(!(this.getSupport(tt)<this.minSupport)&&this.isMin()){this.report();var G=this.dfsCode.getNodeNum(),Et=this.dfsCode.buildRmpath(),Tt=this.dfsCode.dfsEdgeList[Et[0]].toNode,ct=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,St={},Vt={};tt.forEach(function(Lt){for(var Nt=J.graphs[Lt.graphId],Zt=Nt.nodeMap,oe=new Qt(Lt),ue=Et.length-1;ue>=0;ue--){var Ee=J.findBackwardEdge(Nt,oe.edges[Et[ue]],oe.edges[Et[0]],oe);if(Ee){var Te=J.dfsCode.dfsEdgeList[Et[ue]].fromNode+"-"+Ee.label;Vt[Te]||(Vt[Te]={projected:[],toNodeId:J.dfsCode.dfsEdgeList[Et[ue]].fromNode,edgeLabel:Ee.label}),Vt[Te].projected.push({graphId:Lt.graphId,edge:Ee,preNode:Lt})}}if(!(G>=J.maxNodeNum)){J.findForwardPureEdges(Nt,oe.edges[Et[0]],ct,oe).forEach(function($e){var cr=Tt+"-"+$e.label+"-"+Zt[$e.to].label;St[cr]||(St[cr]={projected:[],fromNodeId:Tt,edgeLabel:$e.label,nodeLabel2:Zt[$e.to].label}),St[cr].projected.push({graphId:Lt.graphId,edge:$e,preNode:Lt})});var Se=function(cr){J.findForwardRmpathEdges(Nt,oe.edges[Et[cr]],ct,oe).forEach(function(He){var _e=J.dfsCode.dfsEdgeList[Et[cr]].fromNode+"-"+He.label+"-"+Zt[He.to].label;St[_e]||(St[_e]={projected:[],fromNodeId:J.dfsCode.dfsEdgeList[Et[cr]].fromNode,edgeLabel:He.label,nodeLabel2:Zt[He.to].label}),St[_e].projected.push({graphId:Lt.graphId,edge:He,preNode:Lt})})};for(ue=0;ue<Et.length;ue++)Se(ue)}}),Object.keys(Vt).forEach(function(Lt){var Nt=Vt[Lt],Zt=Nt.toNodeId,oe=Nt.edgeLabel;J.dfsCode.dfsEdgeList.push(new It(Tt,Zt,"-1",oe,"-1")),J.subGraphMining(Vt[Lt].projected),J.dfsCode.dfsEdgeList.pop()}),Object.keys(St).forEach(function(Lt){var Nt=St[Lt],Zt=Nt.fromNodeId,oe=Nt.edgeLabel,ue=Nt.nodeLabel2;J.dfsCode.dfsEdgeList.push(new It(Zt,Tt+1,pt,oe,ue)),J.subGraphMining(St[Lt].projected),J.dfsCode.dfsEdgeList.pop()})}},Bt.prototype.generate1EdgeFrequentSubGraphs=function(){var tt=this.graphs,J=this.directed,G=this.minSupport,Et=this.frequentSize1Subgraphs,Tt={},ct={},St={},Vt={};return Object.keys(tt).forEach(function(Lt){var Nt=tt[Lt],Zt=Nt.nodeMap;Nt.nodes.forEach(function(oe,ue){var Ee=oe.label,Te=Lt+"-"+Ee;if(!St[Te]){var Se=Tt[Ee]||0;Se++,Tt[Ee]=Se}St[Te]={graphKey:Lt,label:Ee},oe.edges.forEach(function($e){var cr=Ee,He=Zt[$e.to].label;if(!J&&cr>He){var _e=He;He=cr,cr=_e}var ur=$e.label,jr=Lt+"-"+cr+"-"+ur+"-"+He,Ar=cr+"-"+ur+"-"+He;if(!ct[Ar]){var Ge=ct[Ar]||0;Ge++,ct[Ar]=Ge}Vt[jr]={graphId:Lt,nodeLabel1:cr,edgeLabel:ur,nodeLabel2:He}})})}),Object.keys(Tt).forEach(function(Lt){if(!(Tt[Lt]<G)){var Nt={nodes:[],edges:[]};Nt.nodes.push({id:"0",label:Lt}),Et.push(Nt)}}),Et},Bt.prototype.run=function(){var tt=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var J=this.graphs,G=(this.directed,{});Object.keys(J).forEach(function(Et){var Tt=J[Et],ct=Tt.nodeMap;Tt.nodes.forEach(function(St){tt.findForwardRootEdges(Tt,St).forEach(function(Vt){var Lt=ct[Vt.to],Nt=St.label+"-"+Vt.label+"-"+Lt.label;G[Nt]||(G[Nt]={projected:[],nodeLabel1:St.label,edgeLabel:Vt.label,nodeLabel2:Lt.label});var Zt={graphId:Et,edge:Vt,preNode:null};G[Nt].projected.push(Zt)})})}),Object.keys(G).forEach(function(Et){var Tt=G[Et],ct=Tt.projected,St=Tt.nodeLabel1,Vt=Tt.edgeLabel,Lt=Tt.nodeLabel2;tt.dfsCode.dfsEdgeList.push(new It(0,1,St,Vt,Lt)),tt.subGraphMining(ct),tt.dfsCode.dfsEdgeList.pop()})}},Bt}(),yt="cluster",ut=function(tt,J,G,Et){G===void 0&&(G="cluster"),Et===void 0&&(Et=2);var Tt=[],ct=tt.nodes;return J.forEach(function(St,Vt){Tt.push(ft(ct,St,Vt,G,Et))}),Tt},ft=function(tt,J,G,Et,Tt){var ct=[G],St=[],Vt={};return J.forEach(function(Lt,Nt){if(Lt<=Tt&&G!==Nt){ct.push(Nt),St.push(tt[Nt]);var Zt=tt[Nt][Et];Vt[Zt]?(Vt[Zt].count++,Vt[Zt].dists.push(Lt)):Vt[Zt]={count:1,dists:[Lt]}}}),Object.keys(Vt).forEach(function(Lt){Vt[Lt].dists=Vt[Lt].dists.sort(function(Nt,Zt){return Nt-Zt})}),{nodeIdx:G,nodeId:tt[G].id,nodeIdxs:ct,neighbors:St,neighborNum:ct.length-1,nodeLabelCountMap:Vt}},it=function(tt,J,G,Et){var Tt=G.nodes;return Et||(Et={}),Object.keys(tt).forEach(function(ct){var St,Vt;if(!Et||!Et[ct]){Et[ct]={nodes:[],edges:[]};var Lt=tt[ct],Nt=(St=J[Lt.start])===null||St===void 0?void 0:St.nodeIdxs,Zt=(Vt=J[Lt.end])===null||Vt===void 0?void 0:Vt.nodeIdxs;if(Nt&&Zt){var oe=new Set(Zt),ue=Nt.filter(function(cr){return oe.has(cr)});if(ue&&ue.length){for(var Ee={},Te=ue.length,Se=0;Se<Te;Se++){var $e=Tt[ue[Se]];Et[ct].nodes.push($e),Ee[$e.id]=!0}G.edges.forEach(function(cr){Ee[cr.source]&&Ee[cr.target]&&Et[ct].edges.push(cr)})}}}}),Et},vt=function(tt,J,G,Et){var Tt={};tt.nodes.forEach(function(St){Tt[St.id]=St});var ct=0;return tt.edges.forEach(function(St){var Vt=Tt[St.source][G],Lt=Tt[St.target][G],Nt=J.nodes[0][G],Zt=J.nodes[1][G],oe=J.edges[0][Et];St[Et]===oe&&(Vt===Nt&&Lt===Zt||Vt===Zt&&Lt===Nt)&&ct++}),ct},Wt=function(tt,J){var G={},Et={};return tt.forEach(function(Tt,ct){G[Tt.id]={idx:ct,node:Tt,degree:0};var St=Tt[J];Et[St]||(Et[St]=[]),Et[St].push(Tt)}),{nodeMap:G,nodeLabelMap:Et}},Ct=function(tt,J,G){var Et={},Tt={};return tt.forEach(function(ct,St){Et[""+D]={idx:St,edge:ct};var Vt=ct[J];Tt[Vt]||(Tt[Vt]=[]),Tt[Vt].push(ct);var Lt=G[ct.source];Lt&&Lt.degree++;var Nt=G[ct.target];Nt&&Nt.degree++}),{edgeMap:Et,edgeLabelMap:Tt}},Z=function(tt,J,G){var Et=J.length,Tt={};return J.forEach(function(ct,St){for(var Vt=G?0:St+1,Lt=tt[St].id,Nt=Vt;Nt<Et;Nt++)if(St!==Nt){var Zt=tt[Nt].id,oe=ct[Nt];Tt[Lt+"-"+Zt]=oe,G||(Tt[Zt+"-"+Lt]=oe)}}),Tt},X=function(){function Bt(tt){tt===void 0&&(tt=10),this.linkedList=new M,this.maxStep=tt}return Object.defineProperty(Bt.prototype,"length",{get:function(){return this.linkedList.toArray().length},enumerable:!1,configurable:!0}),Bt.prototype.isEmpty=function(){return!this.linkedList.head},Bt.prototype.isMaxStack=function(){return this.toArray().length>=this.maxStep},Bt.prototype.peek=function(){return this.isEmpty()?null:this.linkedList.head.value},Bt.prototype.push=function(tt){this.linkedList.prepend(tt),this.length>this.maxStep&&this.linkedList.deleteTail()},Bt.prototype.pop=function(){var tt=this.linkedList.deleteHead();return tt?tt.value:null},Bt.prototype.toArray=function(){return this.linkedList.toArray().map(function(tt){return tt.value})},Bt.prototype.clear=function(){for(;!this.isEmpty();)this.pop()},Bt}(),dt="SUCCESS",H=g(458),lt=g.n(H);function Ot(){return lt()(`(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{GADDI:()=>re,breadthFirstSearch:()=>f,connectedComponent:()=>h,depthFirstSearch:()=>b,detectCycle:()=>E,dijkstra:()=>k,findAllPath:()=>x,findShortestPath:()=>I,floydWarshall:()=>O,getAdjMatrix:()=>r,getDegree:()=>l,getInDegree:()=>p,getNeighbors:()=>d,getOutDegree:()=>v,labelPropagation:()=>S,louvain:()=>P,minimumSpanningTree:()=>R,pageRank:()=>U});const r=function(e,t){var r=e.nodes,n=e.edges,o=[],i={};if(!r)throw new Error("invalid nodes data!");return r&&r.forEach((function(e,t){i[e.id]=t,o.push([])})),n&&n.forEach((function(e){var r=e.source,n=e.target,a=i[r],d=i[n];!a&&0!==a||!d&&0!==d||(o[a][d]=1,t||(o[d][a]=1))})),o};var n=function(e,t){return e===t},o=function(){function e(e,t){void 0===t&&(t=null),this.value=e,this.next=t}return e.prototype.toString=function(e){return e?e(this.value):""+this.value},e}();const i=function(){function e(e){void 0===e&&(e=n),this.head=null,this.tail=null,this.compare=e}return e.prototype.prepend=function(e){var t=new o(e,this.head);return this.head=t,this.tail||(this.tail=t),this},e.prototype.append=function(e){var t=new o(e);return this.head?(this.tail.next=t,this.tail=t,this):(this.head=t,this.tail=t,this)},e.prototype.delete=function(e){if(!this.head)return null;for(var t=null;this.head&&this.compare(this.head.value,e);)t=this.head,this.head=this.head.next;var r=this.head;if(null!==r)for(;r.next;)this.compare(r.next.value,e)?(t=r.next,r.next=r.next.next):r=r.next;return this.compare(this.tail.value,e)&&(this.tail=r),t},e.prototype.find=function(e){var t=e.value,r=void 0===t?void 0:t,n=e.callback,o=void 0===n?void 0:n;if(!this.head)return null;for(var i=this.head;i;){if(o&&o(i.value))return i;if(void 0!==r&&this.compare(i.value,r))return i;i=i.next}return null},e.prototype.deleteTail=function(){var e=this.tail;if(this.head===this.tail)return this.head=null,this.tail=null,e;for(var t=this.head;t.next;)t.next.next?t=t.next:t.next=null;return this.tail=t,e},e.prototype.deleteHead=function(){if(!this.head)return null;var e=this.head;return this.head.next?this.head=this.head.next:(this.head=null,this.tail=null),e},e.prototype.fromArray=function(e){var t=this;return e.forEach((function(e){return t.append(e)})),this},e.prototype.toArray=function(){for(var e=[],t=this.head;t;)e.push(t),t=t.next;return e},e.prototype.reverse=function(){for(var e=this.head,t=null,r=null;e;)r=e.next,e.next=t,t=e,e=r;this.tail=this.head,this.head=t},e.prototype.toString=function(e){return void 0===e&&(e=void 0),this.toArray().map((function(t){return t.toString(e)})).toString()},e}(),a=function(){function e(){this.linkedList=new i}return e.prototype.isEmpty=function(){return!this.linkedList.head},e.prototype.peek=function(){return this.linkedList.head?this.linkedList.head.value:null},e.prototype.enqueue=function(e){this.linkedList.append(e)},e.prototype.dequeue=function(){var e=this.linkedList.deleteHead();return e?e.value:null},e.prototype.toString=function(e){return this.linkedList.toString(e)},e}();var d=function(e,t,r){void 0===t&&(t=[]);var n=t.filter((function(t){return t.source===e||t.target===e}));return"target"===r?n.filter((function(t){return t.source===e})).map((function(e){return e.target})):"source"===r?n.filter((function(t){return t.target===e})).map((function(e){return e.source})):n.map((function(t){return t.source===e?t.target:t.source}))},s=function(e,t){return t.filter((function(t){return t.source===e||t.target===e}))},u=function(e){return void 0===e&&(e=0),e+"-"+(""+Math.random()).split(".")[1].substr(0,5)+(""+Math.random()).split(".")[1].substr(0,5)};const f=function(e,t,r){var n=function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r),o=new a,i=e.edges,s=void 0===i?[]:i;o.enqueue(t);for(var u="",f=function(){var e=o.dequeue();n.enter({current:e,previous:u}),d(e,s,"target").forEach((function(t){n.allowTraversal({previous:u,current:e,next:t})&&o.enqueue(t)})),n.leave({current:e,previous:u}),u=e};!o.isEmpty();)f()};function h(e,t){return t?function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s={},u={},f=[],h=0,c=function(e){s[e.id]=h,u[e.id]=h,h+=1,i.push(e),a[e.id]=!0;for(var t=d(e.id,o,"target").filter((function(e){return r.map((function(e){return e.id})).indexOf(e)>-1})),n=function(n){var o=t[n];if(s[o]||0===s[o])a[o]&&(u[e.id]=Math.min(u[e.id],s[o]));else{var i=r.filter((function(e){return e.id===o}));i.length>0&&c(i[0]),u[e.id]=Math.min(u[e.id],u[o])}},l=0;l<t.length;l++)n(l);if(u[e.id]===s[e.id]){for(var p=[];i.length>0;){var v=i.pop();if(a[v.id]=!1,p.push(v),v===e)break}p.length>0&&f.push(p)}},l=0,p=r;l<p.length;l++){var v=p[l];s[v.id]||0===s[v.id]||c(v)}return f}(e):function(e){for(var t=e.nodes,r=void 0===t?[]:t,n=e.edges,o=void 0===n?[]:n,i=[],a={},s=[],u=function(e){s.push(e),a[e.id]=!0;for(var t=d(e.id,o),n=function(e){var n=t[e];if(!a[n]){var o=r.filter((function(e){return e.id===n}));o.length>0&&u(o[0])}},i=0;i<t.length;++i)n(i)},f=0;f<r.length;f++){var h=r[f];if(!a[h.id]){u(h);for(var c=[];s.length>0;)c.push(s.pop());i.push(c)}}return i}(e)}var c=function(e){var t={},r=e.nodes,n=void 0===r?[]:r,o=e.edges,i=void 0===o?[]:o;return n.forEach((function(e){t[e.id]={degree:0,inDegree:0,outDegree:0}})),i.forEach((function(e){t[e.source].degree++,t[e.source].outDegree++,t[e.target].degree++,t[e.target].inDegree++})),t};const l=c;var p=function(e,t){return c(e)[t]?c(e)[t].inDegree:0},v=function(e,t){return c(e)[t]?c(e)[t].outDegree:0};function g(e,t,r,n){n.enter({current:t,previous:r});var o=e.edges;d(t,void 0===o?[]:o,"target").forEach((function(o){n.allowTraversal({previous:r,current:t,next:o})&&g(e,o,t,n)})),n.leave({current:t,previous:r})}function b(e,t,r){g(e,t,"",function(e){void 0===e&&(e={});var t,r=e,n=function(){},o=(t={},function(e){var r=e.next;return!t[r]&&(t[r]=!0,!0)});return r.allowTraversal=e.allowTraversal||o,r.enter=e.enter||n,r.leave=e.leave||n,r}(r))}const E=function(e){var t=null,r=e.nodes,n={},o={},i={},a={};(void 0===r?[]:r).forEach((function(e){o[e.id]=e}));for(var d={enter:function(e){var r=e.current,a=e.previous;if(i[r]){t={};for(var d=r,s=a;s!==r;)t[d]=s,d=s,s=n[s];t[d]=s}else i[r]=r,delete o[r],n[r]=a},leave:function(e){var t=e.current;a[t]=t,delete i[t]},allowTraversal:function(e){var r=e.next;return!t&&!a[r]}};Object.keys(o).length;)b(e,Object.keys(o)[0],d);return t};function m(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}Object.create,Object.create;var y={}.toString;const L=function(e,t){return y.call(e)==="[object "+t+"]"},N=function(e){return Array.isArray?Array.isArray(e):L(e,"Array")};Object.keys;var M=Array.prototype;M.splice,M.indexOf,Array.prototype.splice,Object.prototype.hasOwnProperty;Number.isInteger&&Number.isInteger,Math.PI,parseInt,Math.PI,Object.values,Object.prototype;const j=function e(t){if("object"!=typeof t||null===t)return t;var r;if(N(t)){r=[];for(var n=0,o=t.length;n<o;n++)"object"==typeof t[n]&&null!=t[n]?r[n]=e(t[n]):r[n]=t[n]}else for(var i in r={},t)"object"==typeof t[i]&&null!=t[i]?r[i]=e(t[i]):r[i]=t[i];return r};Object.prototype.hasOwnProperty,Object.prototype.hasOwnProperty,function(){function e(){this.map={}}e.prototype.has=function(e){return void 0!==this.map[e]},e.prototype.get=function(e,t){var r=this.map[e];return void 0===r?t:r},e.prototype.set=function(e,t){this.map[e]=t},e.prototype.clear=function(){this.map={}},e.prototype.delete=function(e){delete this.map[e]},e.prototype.size=function(){return Object.keys(this.map).length}}();const k=function(e,t,r,n){var o=e.nodes,i=void 0===o?[]:o,a=e.edges,d=void 0===a?[]:a,u=[],f={},h={},c={};i.forEach((function(e,r){var n=e.id;u.push(n),h[n]=1/0,n===t&&(h[n]=0)}));for(var l=i.length,p=function(e){var t=function(e,t,r){for(var n,o=1/0,i=0;i<t.length;i++){var a=t[i].id;!r[a]&&e[a]<=o&&(o=e[a],n=t[i])}return n}(h,i,f),o=t.id;if(f[o]=!0,h[o]===1/0)return"continue";(r?function(e,t){return t.filter((function(t){return t.source===e}))}(o,d):s(o,d)).forEach((function(e){var r=e.target,i=e.source,a=r===o?i:r,d=n&&e[n]?e[n]:1;h[a]>h[t.id]+d?(h[a]=h[t.id]+d,c[a]=[t.id]):h[a]===h[t.id]+d&&c[a].push(t.id)}))},v=0;v<l;v++)p();c[t]=[t];var g={};for(var b in h)h[b]!==1/0&&w(t,b,c,g);var E={};for(var b in g)E[b]=g[b][0];return{length:h,path:E,allPath:g}};function w(e,t,r,n){if(e===t)return[e];if(n[t])return n[t];for(var o=[],i=0,a=r[t];i<a.length;i++){var d=w(e,a[i],r,n);if(!d)return;for(var s=0,u=d;s<u.length;s++){var f=u[s];N(f)?o.push(m(m([],f),[t])):o.push([f,t])}}return n[t]=o,n[t]}var I=function(e,t,r,n,o){var i=k(e,t,n,o),a=i.length,d=i.path,s=i.allPath;return{length:a[r],path:d[r],allPath:s[r]}},x=function(e,t,r,n){var o;if(t===r)return[[t]];var i=e.edges,a=void 0===i?[]:i,s=[t],u=((o={})[t]=!0,o),f=[],h=[],c=n?d(t,a,"target"):d(t,a);for(f.push(c);s.length>0&&f.length>0;){var l=f[f.length-1];if(l.length){var p=l.shift();if(p&&(s.push(p),u[p]=!0,c=n?d(p,a,"target"):d(p,a),f.push(c.filter((function(e){return!u[e]})))),s[s.length-1]===r){var v=s.map((function(e){return e}));h.push(v),g=s.pop(),u[g]=!1,f.pop()}}else{var g=s.pop();u[g]=!1,f.pop()}}return h};const O=function(e,t){for(var n=r(e,t),o=[],i=n.length,a=0;a<i;a+=1){o[a]=[];for(var d=0;d<i;d+=1)a===d?o[a][d]=0:0!==n[a][d]&&n[a][d]?o[a][d]=n[a][d]:o[a][d]=1/0}for(var s=0;s<i;s+=1)for(a=0;a<i;a+=1)for(d=0;d<i;d+=1)o[a][d]>o[a][s]+o[s][d]&&(o[a][d]=o[a][s]+o[s][d]);return o},S=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e3);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,f={},h={};a.forEach((function(e,t){var r=u();e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={};c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e}})),l.push(r)}));for(var v=0,g=function(){var e=!1;if(a.forEach((function(t){var r={};Object.keys(p[t.id]).forEach((function(e){var n=p[t.id][e],o=h[e].node.clusterId;r[o]||(r[o]=0),r[o]+=n}));var n=-1/0,o=[];if(Object.keys(r).forEach((function(e){n<r[e]?(n=r[e],o=[e]):n===r[e]&&o.push(e)})),1!==o.length||o[0]!==t.clusterId){var i=o.indexOf(t.clusterId);if(i>=0&&o.splice(i,1),o&&o.length){e=!0;var a=f[t.clusterId],d=a.nodes.indexOf(t);a.nodes.splice(d,1);var s=Math.floor(Math.random()*o.length),u=f[o[s]];u.nodes.push(t),t.clusterId=u.id}}})),!e)return"break";v++};v<o&&"break"!==g(););Object.keys(f).forEach((function(e){var t=f[e];t.nodes&&t.nodes.length||delete f[e]}));var b=[],E={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(E[d])E[d].weight+=o,E[d].count++;else{var s={source:i,target:a,weight:o,count:1};E[d]=s,b.push(s)}}));var m=[];return Object.keys(f).forEach((function(e){m.push(f[e])})),{clusters:m,clusterEdges:b}};var C=function(e,t,r,n){for(var o=t.length,i=2*n,a=0,d=0;d<o;d++)for(var s=e[d].clusterId,u=0;u<o;u++)s===e[u].clusterId&&(a+=(t[d][u]||0)-(r[d]||0)*(r[u]||0)/i);return a*(1/i)};const P=function(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n="weight"),void 0===o&&(o=1e-4);var i=e.nodes,a=void 0===i?[]:i,d=e.edges,s=void 0===d?[]:d,u=1,f={},h={};a.forEach((function(e,t){var r=String(u++);e.clusterId=r,f[r]={id:r,nodes:[e]},h[e.id]={node:e,idx:t}}));var c=r(e,t),l=[],p={},v=0;c.forEach((function(e,t){var r=0,n=a[t].id;p[n]={},e.forEach((function(e,t){if(e){r+=e;var o=a[t].id;p[n][o]=e,v+=e}})),l.push(r)})),v/=2;for(var g=1/0,b=1/0,E=0;g=C(a,c,l,v),!(Math.abs(g-b)<o||E>100);)b=g,E++,Object.keys(f).forEach((function(e){var t=0;s.forEach((function(r){var o=r.source,i=r.target,a=h[o].node.clusterId,d=h[i].node.clusterId;(a===e&&d!==e||d===e&&a!==e)&&(t+=r[n]||1)})),f[e].sumTot=t})),a.forEach((function(e,t){var r,o=f[e.clusterId],i=0,a=l[t]/(2*v),d=0;o.nodes.forEach((function(e){var r=h[e.id].idx;d+=c[t][r]||0}));var u=d-o.sumTot*a,g=p[e.id];if(Object.keys(g).forEach((function(n){var o=h[n].node.clusterId;if(o!==e.clusterId){var d=f[o],s=d.nodes;if(s&&s.length){var l=0;s.forEach((function(e){var r=h[e.id].idx;l+=c[t][r]||0}));var p=l-d.sumTot*a-u;p>i&&(i=p,r=d)}}})),i>0){r.nodes.push(e);var b=e.clusterId;e.clusterId=r.id;var E=o.nodes.indexOf(e);o.nodes.splice(E,1);var m=0,y=0;s.forEach((function(e){var t=e.source,o=e.target,i=h[t].node.clusterId,a=h[o].node.clusterId;(i===r.id&&a!==r.id||a===r.id&&i!==r.id)&&(m+=e[n]||1),(i===b&&a!==b||a===b&&i!==b)&&(y+=e[n]||1)})),r.sumTot=m,o.sumTot=y}}));var m={},y=0;Object.keys(f).forEach((function(e){var t=f[e];if(t.nodes&&t.nodes.length){var r=String(y+1);r!==e&&(t.id=r,t.nodes=t.nodes.map((function(e){return{id:e.id,clusterId:r}})),f[r]=t,m[e]=r,delete f[e],y++)}else delete f[e]})),a.forEach((function(e){e.clusterId&&m[e.clusterId]&&(e.clusterId=m[e.clusterId])}));var L=[],N={};s.forEach((function(e){var t=e.source,r=e.target,o=e[n]||1,i=h[t].node.clusterId,a=h[r].node.clusterId,d=i+"---"+a;if(N[d])N[d].weight+=o,N[d].count++;else{var s={source:i,target:a,weight:o,count:1};N[d]=s,L.push(s)}}));var M=[];return Object.keys(f).forEach((function(e){M.push(f[e])})),{clusters:M,clusterEdges:L}},T=function(){function e(e){this.count=e.length,this.parent={};for(var t=0,r=e;t<r.length;t++){var n=r[t];this.parent[n]=n}}return e.prototype.find=function(e){for(;this.parent[e]!==e;)e=this.parent[e];return e},e.prototype.union=function(e,t){var r=this.find(e),n=this.find(t);r!==n&&(r<n?(this.parent[t]!==t&&this.union(this.parent[t],e),this.parent[t]=this.parent[e]):(this.parent[e]!==e&&this.union(this.parent[e],t),this.parent[e]=this.parent[t]))},e.prototype.connected=function(e,t){return this.find(e)===this.find(t)},e}();var q=function(e,t){return e-t};const F=function(){function e(e){void 0===e&&(e=q),this.compareFn=e,this.list=[]}return e.prototype.getLeft=function(e){return 2*e+1},e.prototype.getRight=function(e){return 2*e+2},e.prototype.getParent=function(e){return 0===e?null:Math.floor((e-1)/2)},e.prototype.isEmpty=function(){return this.list.length<=0},e.prototype.top=function(){return this.isEmpty()?void 0:this.list[0]},e.prototype.delMin=function(){var e=this.top(),t=this.list.pop();return this.list.length>0&&(this.list[0]=t,this.moveDown(0)),e},e.prototype.insert=function(e){if(null!==e){this.list.push(e);var t=this.list.length-1;return this.moveUp(t),!0}return!1},e.prototype.moveUp=function(e){for(var t=this.getParent(e);e&&e>0&&this.compareFn(this.list[t],this.list[e])>0;){var r=this.list[t];this.list[t]=this.list[e],this.list[e]=r,e=t,t=this.getParent(e)}},e.prototype.moveDown=function(e){var t,r=e,n=this.getLeft(e),o=this.getRight(e),i=this.list.length;null!==n&&n<i&&this.compareFn(this.list[r],this.list[n])>0?r=n:null!==o&&o<i&&this.compareFn(this.list[r],this.list[o])>0&&(r=o),e!==r&&(t=[this.list[r],this.list[e]],this.list[e]=t[0],this.list[r]=t[1],this.moveDown(r))},e}();var D=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=o[0],u=new Set;u.add(d);var f=new F((function(e,r){return t?e.weight-r.weight:0}));for(s(d.id,a).forEach((function(e){f.insert(e)}));!f.isEmpty();){var h=f.delMin(),c=h.source,l=h.target;u.has(c)&&u.has(l)||(r.push(h),u.has(c)||(u.add(c),s(c,a).forEach((function(e){f.insert(e)}))),u.has(l)||(u.add(l),s(l,a).forEach((function(e){f.insert(e)}))))}return r},A=function(e,t){var r=[],n=e.nodes,o=void 0===n?[]:n,i=e.edges,a=void 0===i?[]:i;if(0===o.length)return r;var d=a.map((function(e){return e}));t&&d.sort((function(e,t){return e.weight-t.weight}));for(var s=new T(o.map((function(e){return e.id})));d.length>0;){var u=d.shift(),f=u.source,h=u.target;s.connected(f,h)||(r.push(u),s.union(f,h))}return r};const R=function(e,t,r){return r?{prim:D,kruskal:A}[r](e,t):A(e,t)},U=function(e,t,r){"number"!=typeof t&&(t=1e-6),"number"!=typeof r&&(r=.85);for(var n,o=1,i=0,a=1e3,s=e.nodes,u=void 0===s?[]:s,f=e.edges,h=void 0===f?[]:f,c=u.length,p={},v={},g=0;g<c;++g)p[E=(M=u[g]).id]=1/c,v[E]=1/c;for(var b=l(e);a>0&&o>t;){for(i=0,g=0;g<c;++g){var E=(M=u[g]).id;if(n=0,0===b[M.id].inDegree)p[E]=0;else{for(var m=d(E,h,"source"),y=0;y<m.length;++y){var L=m[y],N=b[L].outDegree;N>0&&(n+=v[L]/N)}p[E]=r*n,i+=p[E]}}for(i=(1-i)/c,o=0,g=0;g<c;++g){var M;n=p[E=(M=u[g]).id]+i,o+=Math.abs(n-v[E]),v[E]=n}a-=1}return v};var G="-1",_=function(e,t,r,n){void 0===e&&(e=-1),void 0===t&&(t=-1),void 0===r&&(r=-1),void 0===n&&(n="-1"),this.id=e,this.from=t,this.to=r,this.label=n},z=function(){function e(e,t){void 0===e&&(e=-1),void 0===t&&(t=G),this.id=e,this.label=t,this.edges=[],this.edgeMap={}}return e.prototype.addEdge=function(e){this.edges.push(e),this.edgeMap[e.id]=e},e}(),B=function(){function e(e,t,r){void 0===e&&(e=-1),void 0===t&&(t=!0),void 0===r&&(r=!1),this.id=e,this.edgeIdAutoIncrease=t,this.edges=[],this.nodes=[],this.nodeMap={},this.edgeMap={},this.nodeLabelMap={},this.edgeLabelMap={},this.counter=0,this.directed=r}return e.prototype.getNodeNum=function(){return this.nodes.length},e.prototype.addNode=function(e,t){if(!this.nodeMap[e]){var r=new z(e,t);this.nodes.push(r),this.nodeMap[e]=r,this.nodeLabelMap[t]||(this.nodeLabelMap[t]=[]),this.nodeLabelMap[t].push(e)}},e.prototype.addEdge=function(e,t,r,n){if((this.edgeIdAutoIncrease||void 0===e)&&(e=this.counter++),!(this.nodeMap[t]&&this.nodeMap[r]&&this.nodeMap[r].edgeMap[e])){var o=new _(e,t,r,n);if(this.edges.push(o),this.edgeMap[e]=o,this.nodeMap[t].addEdge(o),this.edgeLabelMap[n]||(this.edgeLabelMap[n]=[]),this.edgeLabelMap[n].push(o),!this.directed){var i=new _(e,r,t,n);this.nodeMap[r].addEdge(i),this.edgeLabelMap[n].push(i)}}},e}(),H=function(){function e(e,t,r,n,o){this.fromNode=e,this.toNode=t,this.nodeEdgeNodeLabel={nodeLabel1:r||G,edgeLabel:n||"-1",nodeLabel2:o||G}}return e.prototype.equalTo=function(e){return this.fromNode===e.formNode&&this.toNode===e.toNode&&this.nodeEdgeNodeLabel===e.nodeEdgeNodeLabel},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e}(),K=function(){function e(){this.rmpath=[],this.dfsEdgeList=[]}return e.prototype.equalTo=function(e){var t=this.dfsEdgeList.length;if(t!==e.length)return!1;for(var r=0;r<t;r++)if(this.dfsEdgeList[r]!==e[r])return!1;return!0},e.prototype.notEqualTo=function(e){return!this.equalTo(e)},e.prototype.pushBack=function(e,t,r,n,o){return this.dfsEdgeList.push(new H(e,t,r,n,o)),this.dfsEdgeList},e.prototype.toGraph=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=!1);var r=new B(e,!0,t);return this.dfsEdgeList.forEach((function(e){var t=e.fromNode,n=e.toNode,o=e.nodeEdgeNodeLabel,i=o.nodeLabel1,a=o.edgeLabel,d=o.nodeLabel2;i!==G&&r.addNode(t,i),d!==G&&r.addNode(n,d),r.addEdge(void 0,t,n,a)})),r},e.prototype.buildRmpath=function(){this.rmpath=[];for(var e=void 0,t=this.dfsEdgeList.length-1;t>=0;t--){var r=this.dfsEdgeList[t],n=r.fromNode,o=r.toNode;n<o&&(void 0===e||o===e)&&(this.rmpath.push(t),e=n)}return this.rmpath},e.prototype.getNodeNum=function(){var e={};return this.dfsEdgeList.forEach((function(t){e[t.fromNode]||(e[t.fromNode]=!0),e[t.toNode]||(e[t.toNode]=!0)})),Object.keys(e).length},e}(),W=function(){function e(e){if(this.his={},this.nodesUsed={},this.edgesUsed={},this.edges=[],e){for(;e;){var t=e.edge;this.edges.push(t),this.nodesUsed[t.from]=1,this.nodesUsed[t.to]=1,this.edgesUsed[t.id]=1,e=e.preNode}this.edges=this.edges.reverse()}}return e.prototype.hasNode=function(e){return 1===this.nodesUsed[e.id]},e.prototype.hasEdge=function(e){return 1===this.edgesUsed[e.id]},e}(),J=function(){function e(e){var t=e.graphs,r=e.minSupport,n=void 0===r?2:r,o=e.minNodeNum,i=void 0===o?1:o,a=e.maxNodeNum,d=void 0===a?4:a,s=e.top,u=void 0===s?10:s,f=e.directed,h=void 0!==f&&f,c=e.verbose,l=void 0!==c&&c;this.graphs=t,this.dfsCode=new K,this.support=0,this.frequentSize1Subgraphs=[],this.frequentSubgraphs=[],this.minSupport=n,this.top=u,this.directed=h,this.counter=0,this.maxNodeNum=d,this.minNodeNum=i,this.verbose=l,this.maxNodeNum<this.minNodeNum&&(this.maxNodeNum=this.minNodeNum),this.reportDF=[]}return e.prototype.findForwardRootEdges=function(e,t){var r=this,n=[],o=e.nodeMap;return t.edges.forEach((function(e){(r.directed||t.label<=o[e.to].label)&&n.push(e)})),n},e.prototype.findBackwardEdge=function(e,t,r,n){if(!this.directed&&t===r)return null;for(var o=e.nodeMap,i=o[r.to].edges,a=i.length,d=0;d<a;d++){var s=i[d];if(!n.hasEdge(s)&&s.to===t.from)if(this.directed){if(o[t.from].label<o[r.to].label||o[t.from].label===o[r.to].label&&t.label<=s.label)return s}else if(t.label<s.label||t.label===s.label&&o[t.to].label<=o[r.to].label)return s}return null},e.prototype.findForwardPureEdges=function(e,t,r,n){for(var o=[],i=t.to,a=e.nodeMap[i].edges,d=a.length,s=0;s<d;s++){var u=a[s],f=e.nodeMap[u.to];r<=f.label&&!n.hasNode(f)&&o.push(u)}return o},e.prototype.findForwardRmpathEdges=function(e,t,r,n){for(var o=[],i=e.nodeMap,a=i[t.to].label,d=i[t.from].edges,s=d.length,u=0;u<s;u++){var f=d[u],h=i[f.to].label;t.to===f.to||r>h||n.hasNode(i[f.to])||(t.label<f.label||t.label===f.label&&a<=h)&&o.push(f)}return o},e.prototype.getSupport=function(e){var t={};return e.forEach((function(e){t[e.graphId]||(t[e.graphId]=!0)})),Object.keys(t).length},e.prototype.findMinLabel=function(e){var t=void 0;return Object.keys(e).forEach((function(r){var n=e[r],o=n.nodeLabel1,i=n.edgeLabel,a=n.nodeLabel2;t?(o<t.nodeLabel1||o===t.nodeLabel1&&i<t.edgeLabel||o===t.nodeLabel1&&i===t.edgeLabel&&a<t.nodeLabel2)&&(t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}):t={nodeLabel1:o,edgeLabel:i,nodeLabel2:a}})),t},e.prototype.isMin=function(){var e=this,t=this.dfsCode;if(this.verbose&&console.log("isMin checking",t),1===t.dfsEdgeList.length)return!0;var r=this.directed,n=t.toGraph(-1,r),o=n.nodeMap,i=new K,a={};n.nodes.forEach((function(t){e.findForwardRootEdges(n,t).forEach((function(e){var r=o[e.to],i=t.label+"-"+e.label+"-"+r.label;a[i]||(a[i]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:r.label});var d={graphId:n.id,edge:e,preNode:null};a[i].projected.push(d)}))}));var d=this.findMinLabel(a);i.dfsEdgeList.push(new H(0,1,d.nodeLabel1,d.edgeLabel,d.nodeLabel2));var s=function(a){for(var d=i.buildRmpath(),u=i.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,f=i.dfsEdgeList[d[0]].toNode,h={},c=!1,l=0,p=r?-1:0,v=function(t){if(c)return"break";a.forEach((function(r){var o=new W(r),a=e.findBackwardEdge(n,o.edges[d[t]],o.edges[d[0]],o);a&&(h[a.label]||(h[a.label]={projected:[],edgeLabel:a.label}),h[a.label].projected.push({graphId:n.id,edge:h,preNode:r}),l=i.dfsEdgeList[d[t]].fromNode,c=!0)}))},g=d.length-1;g>p&&"break"!==v(g);g--);if(c){var b=e.findMinLabel(h);i.dfsEdgeList.push(new H(f,l,G,b.edgeLabel,G));var E=i.dfsEdgeList.length-1;return e.dfsCode.dfsEdgeList[E]===i.dfsEdgeList[E]&&s(h[b.edgeLabel].projected)}var m={};c=!1;var y=0;a.forEach((function(t){var r=new W(t),i=e.findForwardPureEdges(n,r.edges[d[0]],u,r);i.length>0&&(c=!0,y=f,i.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}));var L=d.length,N=function(t){if(c)return"break";var r=d[t];a.forEach((function(t){var a=new W(t),d=e.findForwardRmpathEdges(n,a.edges[r],u,a);d.length>0&&(c=!0,y=i.dfsEdgeList[r].fromNode,d.forEach((function(e){var r=e.label+"-"+o[e.to].label;m[r]||(m[r]={projected:[],edgeLabel:e.label,nodeLabel2:o[e.to].label}),m[r].projected.push({graphId:n.id,edge:e,preNode:t})})))}))};for(g=0;g<L&&"break"!==N(g);g++);if(!c)return!0;var M=e.findMinLabel(m);i.dfsEdgeList.push(new H(y,f+1,G,M.edgeLabel,M.nodeLabel2));var j=i.dfsEdgeList.length-1;return t.dfsEdgeList[j]===i.dfsEdgeList[j]&&s(m[M.edgeLabel+"-"+M.nodeLabel2].projected)},u=d.nodeLabel1+"-"+d.edgeLabel+"-"+d.nodeLabel2;return s(a[u].projected)},e.prototype.report=function(){if(!(this.dfsCode.getNodeNum()<this.minNodeNum)){this.counter++;var e=this.dfsCode.toGraph(this.counter,this.directed);this.frequentSubgraphs.push(j(e))}},e.prototype.subGraphMining=function(e){var t=this;if(!(this.getSupport(e)<this.minSupport)&&this.isMin()){this.report();var r=this.dfsCode.getNodeNum(),n=this.dfsCode.buildRmpath(),o=this.dfsCode.dfsEdgeList[n[0]].toNode,i=this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,a={},d={};e.forEach((function(e){for(var s=t.graphs[e.graphId],u=s.nodeMap,f=new W(e),h=n.length-1;h>=0;h--){var c=t.findBackwardEdge(s,f.edges[n[h]],f.edges[n[0]],f);if(c){var l=t.dfsCode.dfsEdgeList[n[h]].fromNode+"-"+c.label;d[l]||(d[l]={projected:[],toNodeId:t.dfsCode.dfsEdgeList[n[h]].fromNode,edgeLabel:c.label}),d[l].projected.push({graphId:e.graphId,edge:c,preNode:e})}}if(!(r>=t.maxNodeNum)){t.findForwardPureEdges(s,f.edges[n[0]],i,f).forEach((function(t){var r=o+"-"+t.label+"-"+u[t.to].label;a[r]||(a[r]={projected:[],fromNodeId:o,edgeLabel:t.label,nodeLabel2:u[t.to].label}),a[r].projected.push({graphId:e.graphId,edge:t,preNode:e})}));var p=function(r){t.findForwardRmpathEdges(s,f.edges[n[r]],i,f).forEach((function(o){var i=t.dfsCode.dfsEdgeList[n[r]].fromNode+"-"+o.label+"-"+u[o.to].label;a[i]||(a[i]={projected:[],fromNodeId:t.dfsCode.dfsEdgeList[n[r]].fromNode,edgeLabel:o.label,nodeLabel2:u[o.to].label}),a[i].projected.push({graphId:e.graphId,edge:o,preNode:e})}))};for(h=0;h<n.length;h++)p(h)}})),Object.keys(d).forEach((function(e){var r=d[e],n=r.toNodeId,i=r.edgeLabel;t.dfsCode.dfsEdgeList.push(new H(o,n,"-1",i,"-1")),t.subGraphMining(d[e].projected),t.dfsCode.dfsEdgeList.pop()})),Object.keys(a).forEach((function(e){var r=a[e],n=r.fromNodeId,i=r.edgeLabel,d=r.nodeLabel2;t.dfsCode.dfsEdgeList.push(new H(n,o+1,G,i,d)),t.subGraphMining(a[e].projected),t.dfsCode.dfsEdgeList.pop()}))}},e.prototype.generate1EdgeFrequentSubGraphs=function(){var e=this.graphs,t=this.directed,r=this.minSupport,n=this.frequentSize1Subgraphs,o={},i={},a={},d={};return Object.keys(e).forEach((function(r){var n=e[r],s=n.nodeMap;n.nodes.forEach((function(e,n){var u=e.label,f=r+"-"+u;if(!a[f]){var h=o[u]||0;h++,o[u]=h}a[f]={graphKey:r,label:u},e.edges.forEach((function(e){var n=u,o=s[e.to].label;if(!t&&n>o){var a=o;o=n,n=a}var f=e.label,h=r+"-"+n+"-"+f+"-"+o,c=n+"-"+f+"-"+o;if(!i[c]){var l=i[c]||0;l++,i[c]=l}d[h]={graphId:r,nodeLabel1:n,edgeLabel:f,nodeLabel2:o}}))}))})),Object.keys(o).forEach((function(e){if(!(o[e]<r)){var t={nodes:[],edges:[]};t.nodes.push({id:"0",label:e}),n.push(t)}})),n},e.prototype.run=function(){var e=this;if(this.frequentSize1Subgraphs=this.generate1EdgeFrequentSubGraphs(),!(this.maxNodeNum<2)){var t=this.graphs,r=(this.directed,{});Object.keys(t).forEach((function(n){var o=t[n],i=o.nodeMap;o.nodes.forEach((function(t){e.findForwardRootEdges(o,t).forEach((function(e){var o=i[e.to],a=t.label+"-"+e.label+"-"+o.label;r[a]||(r[a]={projected:[],nodeLabel1:t.label,edgeLabel:e.label,nodeLabel2:o.label});var d={graphId:n,edge:e,preNode:null};r[a].projected.push(d)}))}))})),Object.keys(r).forEach((function(t){var n=r[t],o=n.projected,i=n.nodeLabel1,a=n.edgeLabel,d=n.nodeLabel2;e.dfsCode.dfsEdgeList.push(new H(0,1,i,a,d)),e.subGraphMining(o),e.dfsCode.dfsEdgeList.pop()}))}},e}(),Q="cluster";var V=function(e,t,r,n){void 0===r&&(r="cluster"),void 0===n&&(n=2);var o=[],i=e.nodes;return t.forEach((function(e,t){o.push(X(i,e,t,r,n))})),o},X=function(e,t,r,n,o){var i=[r],a=[],d={};return t.forEach((function(t,s){if(t<=o&&r!==s){i.push(s),a.push(e[s]);var u=e[s][n];d[u]?(d[u].count++,d[u].dists.push(t)):d[u]={count:1,dists:[t]}}})),Object.keys(d).forEach((function(e){d[e].dists=d[e].dists.sort((function(e,t){return e-t}))})),{nodeIdx:r,nodeId:e[r].id,nodeIdxs:i,neighbors:a,neighborNum:i.length-1,nodeLabelCountMap:d}},Y=function(e,t,r,n){var o=r.nodes;return n||(n={}),Object.keys(e).forEach((function(i){var a,d;if(!n||!n[i]){n[i]={nodes:[],edges:[]};var s=e[i],u=null===(a=t[s.start])||void 0===a?void 0:a.nodeIdxs,f=null===(d=t[s.end])||void 0===d?void 0:d.nodeIdxs;if(u&&f){var h=new Set(f),c=u.filter((function(e){return h.has(e)}));if(c&&c.length){for(var l={},p=c.length,v=0;v<p;v++){var g=o[c[v]];n[i].nodes.push(g),l[g.id]=!0}r.edges.forEach((function(e){l[e.source]&&l[e.target]&&n[i].edges.push(e)}))}}}})),n},Z=function(e,t,r,n){var o={};e.nodes.forEach((function(e){o[e.id]=e}));var i=0;return e.edges.forEach((function(e){var a=o[e.source][r],d=o[e.target][r],s=t.nodes[0][r],u=t.nodes[1][r],f=t.edges[0][n];e[n]===f&&(a===s&&d===u||a===u&&d===s)&&i++})),i},$=function(e,t){var r={},n={};return e.forEach((function(e,o){r[e.id]={idx:o,node:e,degree:0};var i=e[t];n[i]||(n[i]=[]),n[i].push(e)})),{nodeMap:r,nodeLabelMap:n}},ee=function(e,t,r){var n={},o={};return e.forEach((function(e,i){n[""+u]={idx:i,edge:e};var a=e[t];o[a]||(o[a]=[]),o[a].push(e);var d=r[e.source];d&&d.degree++;var s=r[e.target];s&&s.degree++})),{edgeMap:n,edgeLabelMap:o}},te=function(e,t,r){var n=t.length,o={};return t.forEach((function(t,i){for(var a=r?0:i+1,d=e[i].id,s=a;s<n;s++)if(i!==s){var u=e[s].id,f=t[s];o[d+"-"+u]=f,r||(o[u+"-"+d]=f)}})),o};const re=function(e,t,r,n,o,i,a){if(void 0===r&&(r=!1),void 0===i&&(i="cluster"),void 0===a&&(a="cluster"),e&&e.nodes){var d=e.nodes.length;if(d){var s=O(e,r),u=O(t,r),f=te(e.nodes,s,r),h=te(t.nodes,u,r),c=$(e.nodes,i),l=c.nodeMap,p=c.nodeLabelMap,v=$(t.nodes,i),g=v.nodeMap,b=v.nodeLabelMap;ee(e.edges,a,l);var E=ee(t.edges,a,g).edgeLabelMap;o||(o=Math.max.apply(Math,m(m([],u[0]),[2]))),n||(n=o);var y=V(e,s,i,n),L=V(t,u,i,n),N=function(e,t,r,n,o){var i=Math.ceil(r/t),a={},d=0;return n.forEach((function(e,n){for(var s=0,u=0,f=e.nodeIdxs,h=e.neighborNum-1;s<i;){for(var c=f[1+Math.floor(Math.random()*h)],l=0;(a[n+"-"+c]||a[c+"-"+n])&&(c=Math.floor(Math.random()*t),!(++l>2*t)););if(l<2*t&&(a[n+"-"+c]={start:n,end:c,distance:o[n][c]},s++,++d>=r))return a;if(++u>2*t)break}s<i&&(i=(i+(i-s))/(t-n-1))})),a}(0,d,Math.min(100,d*(d-1)/2),L,s),M=Y(N,y,e),j=function(e){var t=e.graphs,r=e.directed,n=void 0!==r&&r,o=e.nodeLabelProp,i=void 0===o?Q:o,a=e.edgeLabelProp,d=void 0===a?Q:a,s=function(e,t,r,n){var o={};return Object.keys(e).forEach((function(i,a){var d=e[i],s=new B(a,!0,t),u={};d.nodes.forEach((function(e,t){s.addNode(t,e[r]),u[e.id]=t})),d.edges.forEach((function(e,t){var r=u[e.source],o=u[e.target];s.addEdge(-1,r,o,e[n])})),s&&s.getNodeNum()&&(o[s.id]=s)})),o}(t,n,i,d),u=e.minSupport,f=e.maxNodeNum,h=e.minNodeNum,c=e.verbose,l=e.top,p=new J({graphs:s,minSupport:u,maxNodeNum:f,minNodeNum:h,top:l,verbose:c,directed:n});return p.run(),function(e,t,r){var n=[];return e.forEach((function(e){var o={nodes:[],edges:[]};e.nodes.forEach((function(e){var r;o.nodes.push(((r={id:""+e.id})[t]=e.label,r))})),e.edges.forEach((function(e){var t;o.edges.push(((t={source:""+e.from,target:""+e.to})[r]=e.label,t))})),n.push(o)})),n}(p.frequentSubgraphs,i,d)}({graphs:M,nodeLabelProp:i,edgeLabelProp:a,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:r}).slice(0,10),w=j.length,I=[];j.forEach((function(e,t){I[t]={},Object.keys(M).forEach((function(r){var n=M[r],o=Z(n,e,i,a);I[t][r]=o}))}));var x=function(e,t,r){for(var n=1/0,o=0,i=function(t){var r=e[t],i=Object.keys(r).sort((function(e,t){return r[e]-r[t]})),a=[];i.forEach((function(e,t){a[t%10]||(a[t%10]={graphs:[],totalCount:0,aveCount:0}),a[t%10].graphs.push(e),a[t%10].totalCount+=r[e]}));var d=0,s=[];a.forEach((function(e){var t=e.totalCount/e.graphs.length;e.aveCount=t,s.push(t);var n=0,o=e.length;e.graphs.forEach((function(t,o){var i=r[t];e.graphs.forEach((function(e,t){o!==t&&(n+=Math.abs(i-r[e]))}))})),d+=n/=o*(o-1)/2})),d/=a.length;var u=0;s.forEach((function(e,t){s.forEach((function(r,n){t!==n&&(u+=Math.abs(e-r))})),u/=s.length*(s.length-1)/2}));var f=u-d;n<f&&(n=f,o=t)},a=0;a<t;a++)i(a);return{structure:r[o],structureCountMap:e[o]}}(I,w,j),S=x.structure,C=x.structureCountMap,P=t.nodes[0],T=P[i],q=p[T],F={},D={},A={},R={},U={};Object.keys(b).forEach((function(r,n){U[r]=[];var o=-1/0,d=b[r],s={};d.forEach((function(e){var t=h[P.id+"-"+e.id];t&&U[r].push(t),o<t&&(o=t),s[P.id+"-"+e.id]={start:0,end:g[e.id].idx,distance:t}})),U[r]=U[r].sort((function(e,t){return e-t})),D=Y(s,L,t,D);var u=[];if(Object.keys(s).forEach((function(e){if(A[e])u.push(A[e]);else{var t=D[e];A[e]=Z(t,S,i,a),u.push(A[e])}})),u=u.sort((function(e,t){return t-e})),R[P.id+"-"+r]=u,r!==T)for(var c=function(t){var n=q[t],o=y[l[n.id].idx],d=o.nodeLabelCountMap[r],s=b[r].length;if(!d||d.count<s)return q.splice(t,1),"continue";for(var h=!1,c=0;c<s;c++)if(d.dists[c]>U[r][c]){h=!0;break}if(h)return q.splice(t,1),"continue";var p={};o.neighbors.forEach((function(e){var t=f[n.id+"-"+e.id];p[n.id+"-"+e.id]={start:l[n.id].idx,end:l[e.id].idx,distance:t}})),M=Y(p,y,e,M);var v=[];Object.keys(p).forEach((function(e){if(C[e])v.push(C[e]);else{var t=M[e];C[e]=Z(t,S,i,a),v.push(C[e])}})),v=v.sort((function(e,t){return t-e}));var g=!1;for(c=0;c<s;c++)if(v[c]<u[c]){g=!0;break}return g?(q.splice(t,1),"continue"):void 0},p=q.length-1;p>=0;p--)c(p)}));var G=[];q.forEach((function(r){for(var n=l[r.id].idx,d=X(e.nodes,s[n],n,i,o).neighbors,u=d.length,h=!1,c=function(n){if(d.length+1<t.nodes.length)return h=!0,{value:void 0};var o=d[n],s=o[i];if(!b[s]||!b[s].length)return d.splice(n,1),"continue";var u=r.id+"-"+o.id;if(!U[s]||!U[s].length)return d.splice(n,1),"continue";var c=f[u];if(c>U[s][U[s].length-1])return d.splice(n,1),"continue";var p=C[u]?C[u]:function(e,t,r,n,o,i,a,d,s,u,f){var h,c=t.id+"-"+r.id;if(u&&u[c])return u[c];var l=f?f[c]:void 0;if(!l){var p=((h={})[c]={start:n[t.id].idx,end:n[r.id].idx,distance:o},h);l=(f=Y(p,i,e,f))[c]}return Z(l,a,d,s)}(e,r,o,l,c,y,S,i,a,C,M),v=P.id+"-"+s;if(p<R[v][R[v].length-1])return d.splice(n,1),"continue";var E=F[s];return void 0===E&&(E=1/0,b[s].forEach((function(e){var t=g[e.id].degree;E>t&&(E=t)})),F[s]=E),l[o.id].degree<E?(d.splice(n,1),"continue"):void 0},p=u-1;p>=0;p--){var v=c(p);if("object"==typeof v)return v.value}h||G.push({nodes:[r].concat(d)})}));var _=k(t,P.id,!1).length,z={};r?(Object.keys(_).forEach((function(e){var t=g[e].node[i];z[t]?z[t].push(_[e]):z[t]=[_[e]]})),Object.keys(z).forEach((function(e){z[e].sort((function(e,t){return e-t}))}))):z=U;for(var H=function(n){var o=G[n],d=o.nodes[0],s={},u={};o.nodes.forEach((function(e,t){u[e.id]={idx:t,node:e,degree:0};var r=e[i];s[r]?s[r]++:s[r]=1}));var f=[],h={};e.edges.forEach((function(e){u[e.source]&&u[e.target]&&(f.push(e),h[e[a]]?h[e[a]]++:h[e[a]]=1,u[e.source].degree++,u[e.target].degree++)}));for(var c=Object.keys(E).length,p=!1,v=0;v<c;v++){var m=Object.keys(E)[v];if(!h[m]||h[m]<E[m].length){p=!0;break}}if(p)return G.splice(n,1),"continue";var y=f.length;if(y<t.edges.length)return G.splice(n,1),"break";var L=!1,N=function(e){var t=f[e],n=t[a],o=E[n];if(!o||!o.length)return h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue");var d=u[t.source].node[i],s=u[t.target].node[i],c=!1;return o.forEach((function(e){var t=g[e.source].node,n=g[e.target].node;t[i]===d&&n[i]===s&&(c=!0),r||t[i]!==s||n[i]!==d||(c=!0)})),c?void 0:(h[n]--,o&&h[n]<o.length?(L=!0,"break"):(f.splice(e,1),u[t.source].degree--,u[t.target].degree--,"continue"))};for(v=y-1;v>=0&&"break"!==N(v);v--);if(L)return G.splice(n,1),"continue";o.edges=f;var M=k(o,o.nodes[0].id,!1).length;if(Object.keys(M).reverse().forEach((function(e){if(e!==o.nodes[0].id&&!L){if(M[e]===1/0){var t=u[e].node[i];if(s[t]--,s[t]<b[t].length)return void(L=!0);var r=o.nodes.indexOf(u[e].node);return o.nodes.splice(r,1),void(u[e]=void 0)}var n=l[e].node[i];if(!z[n]||!z[n].length||M[e]>z[n][z[n].length-1]){if(t=u[e].node[i],s[t]--,s[t]<b[t].length)return void(L=!0);r=o.nodes.indexOf(u[e].node),o.nodes.splice(r,1),u[e]=void 0}}})),L)return G.splice(n,1),"continue";for(var j=!0,w=0;j&&!L;){if(j=!1,u[d.id].degree<g[P.id].degree){L=!0;break}if(s[d[i]]<b[d[i]].length){L=!0;break}for(var I=o.nodes.length-1;I>=0;I--){var x=o.nodes[I],O=u[x.id].degree,S=x[i];if(O<F[S]){if(s[x[i]]--,s[x[i]]<b[x[i]].length){L=!0;break}o.nodes.splice(I,1),u[x.id]=void 0,j=!0}}if(L||!j&&0!==w)break;for(var C=(y=f.length)-1;C>=0;C--){var T=f[C];if(!u[T.source]||!u[T.target]){f.splice(C,1);var q=T[a];if(h[q]--,u[T.source]&&u[T.source].degree--,u[T.target]&&u[T.target].degree--,E[q]&&h[q]<E[q].length){L=!0;break}j=!0}}w++}return L||L||o.nodes.length<t.nodes.length||f.length<t.edges.length?(G.splice(n,1),"continue"):void 0},K=G.length-1;K>=0&&"break"!==H(K);K--);var W=G.length,re=function(e){var t=G[e],r={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;r[t]?r[t]++:r[t]=1}));for(var n=function(e){var t=G[e],n={};t.edges.forEach((function(e){var t=e.source+"-"+e.target+"-"+e.label;n[t]?n[t]++:n[t]=1}));var o=!0;Object.keys(n).length!==Object.keys(r).length?o=!1:Object.keys(r).forEach((function(e){n[e]!==r[e]&&(o=!1)})),o&&G.splice(e,1)},o=W-1;o>e;o--)n(o);W=G.length};for(K=0;K<=W-1;K++)re(K);return G}}};var ne=self;ne.onmessage=function(e){var r=e.data,n=r._algorithmType,o=r.data;if(n)if("function"!=typeof t[n])ne.postMessage({_algorithmType:"FAILURE"});else{var i=t[n].apply(t,o);ne.postMessage({_algorithmType:"SUCCESS",data:i})}}})();
//# sourceMappingURL=index.worker.js.map`,"Worker",void 0,g.p+"index.worker.js")}var Rt=function(tt){return function(){for(var J=[],G=0;G<arguments.length;G++)J[G]=arguments[G];return new Promise(function(Et,Tt){var ct=new Ot;ct.postMessage({_algorithmType:tt,data:J}),ct.onmessage=function(St){var Vt=St.data,Lt=Vt.data,Nt=Vt._algorithmType;dt===Nt?Et(Lt):Tt(),ct.terminate()}})}},zt={getAdjMatrix:E,breadthFirstSearch:function(tt,J,G){var Et=function(Nt){Nt===void 0&&(Nt={});var Zt,oe=Nt,ue=function(){},Ee=(Zt={},function(Te){var Se=Te.next;return!Zt[Se]&&(Zt[Se]=!0,!0)});return oe.allowTraversal=Nt.allowTraversal||Ee,oe.enter=Nt.enter||ue,oe.leave=Nt.leave||ue,oe}(G),Tt=new x,ct=tt.edges,St=ct===void 0?[]:ct;Tt.enqueue(J);for(var Vt="",Lt=function(){var Zt=Tt.dequeue();Et.enter({current:Zt,previous:Vt}),O(Zt,St,"target").forEach(function(oe){Et.allowTraversal({previous:Vt,current:Zt,next:oe})&&Tt.enqueue(oe)}),Et.leave({current:Zt,previous:Vt}),Vt=Zt};!Tt.isEmpty();)Lt()},connectedComponent:function(tt,J){return J?function(G){for(var Et=G.nodes,Tt=Et===void 0?[]:Et,ct=G.edges,St=ct===void 0?[]:ct,Vt=[],Lt={},Nt={},Zt={},oe=[],ue=0,Ee=function cr(He){Nt[He.id]=ue,Zt[He.id]=ue,ue+=1,Vt.push(He),Lt[He.id]=!0;for(var _e=O(He.id,St,"target").filter(function(br){return Tt.map(function(er){return er.id}).indexOf(br)>-1}),ur=function(er){var nr=_e[er];if(Nt[nr]||Nt[nr]===0)Lt[nr]&&(Zt[He.id]=Math.min(Zt[He.id],Nt[nr]));else{var yr=Tt.filter(function(Rr){return Rr.id===nr});yr.length>0&&cr(yr[0]),Zt[He.id]=Math.min(Zt[He.id],Zt[nr])}},jr=0;jr<_e.length;jr++)ur(jr);if(Zt[He.id]===Nt[He.id]){for(var Ar=[];Vt.length>0;){var Ge=Vt.pop();if(Lt[Ge.id]=!1,Ar.push(Ge),Ge===He)break}Ar.length>0&&oe.push(Ar)}},Te=0,Se=Tt;Te<Se.length;Te++){var $e=Se[Te];Nt[$e.id]||Nt[$e.id]===0||Ee($e)}return oe}(tt):function(G){for(var Et=G.nodes,Tt=Et===void 0?[]:Et,ct=G.edges,St=ct===void 0?[]:ct,Vt=[],Lt={},Nt=[],Zt=function Te(Se){Nt.push(Se),Lt[Se.id]=!0;for(var $e=O(Se.id,St),cr=function(ur){var jr=$e[ur];if(!Lt[jr]){var Ar=Tt.filter(function(Ge){return Ge.id===jr});Ar.length>0&&Te(Ar[0])}},He=0;He<$e.length;++He)cr(He)},oe=0;oe<Tt.length;oe++){var ue=Tt[oe];if(!Lt[ue.id]){Zt(ue);for(var Ee=[];Nt.length>0;)Ee.push(Nt.pop());Vt.push(Ee)}}return Vt}(tt)},getDegree:y,getInDegree:function(tt,J){return R(tt)[J]?R(tt)[J].inDegree:0},getOutDegree:function(tt,J){return R(tt)[J]?R(tt)[J].outDegree:0},detectCycle:function(tt){var J=null,G=tt.nodes,Et={},Tt={},ct={},St={};(G===void 0?[]:G).forEach(function(Lt){Tt[Lt.id]=Lt});for(var Vt={enter:function(Nt){var Zt=Nt.current,oe=Nt.previous;if(ct[Zt]){J={};for(var ue=Zt,Ee=oe;Ee!==Zt;)J[ue]=Ee,ue=Ee,Ee=Et[Ee];J[ue]=Ee}else ct[Zt]=Zt,delete Tt[Zt],Et[Zt]=oe},leave:function(Nt){var Zt=Nt.current;St[Zt]=Zt,delete ct[Zt]},allowTraversal:function(Nt){var Zt=Nt.next;return!J&&!St[Zt]}};Object.keys(Tt).length;)N(tt,Object.keys(Tt)[0],Vt);return J},depthFirstSearch:N,dijkstra:Q,findAllPath:function(tt,J,G,Et){var Tt;if(J===G)return[[J]];var ct=tt.edges,St=ct===void 0?[]:ct,Vt=[J],Lt=((Tt={})[J]=!0,Tt),Nt=[],Zt=[],oe=Et?O(J,St,"target"):O(J,St);for(Nt.push(oe);Vt.length>0&&Nt.length>0;){var ue=Nt[Nt.length-1];if(ue.length){var Ee=ue.shift();if(Ee&&(Vt.push(Ee),Lt[Ee]=!0,oe=Et?O(Ee,St,"target"):O(Ee,St),Nt.push(oe.filter(function($e){return!Lt[$e]}))),Vt[Vt.length-1]===G){var Te=Vt.map(function($e){return $e});Zt.push(Te),Se=Vt.pop(),Lt[Se]=!1,Nt.pop()}}else{var Se=Vt.pop();Lt[Se]=!1,Nt.pop()}}return Zt},findShortestPath:function(tt,J,G,Et,Tt){var ct=Q(tt,J,Et,Tt),St=ct.length,Vt=ct.path,Lt=ct.allPath;return{length:St[G],path:Vt[G],allPath:Lt[G]}},floydWarshall:st,labelPropagation:function(tt,J,G,Et){J===void 0&&(J=!1),G===void 0&&(G="weight"),Et===void 0&&(Et=1e3);var Tt=tt.nodes,ct=Tt===void 0?[]:Tt,St=tt.edges,Vt=St===void 0?[]:St,Lt={},Nt={};ct.forEach(function(He,_e){var ur=D();He.clusterId=ur,Lt[ur]={id:ur,nodes:[He]},Nt[He.id]={node:He,idx:_e}});var Zt=E(tt,J),oe=[],ue={};Zt.forEach(function(He,_e){var ur=0,jr=ct[_e].id;ue[jr]={},He.forEach(function(Ar,Ge){if(Ar){ur+=Ar;var br=ct[Ge].id;ue[jr][br]=Ar}}),oe.push(ur)});for(var Ee=0,Te=function(){var _e=!1;if(ct.forEach(function(ur){var jr={};Object.keys(ue[ur.id]).forEach(function(an){var In=ue[ur.id][an],Un=Nt[an].node.clusterId;jr[Un]||(jr[Un]=0),jr[Un]+=In});var Ar=-1/0,Ge=[];if(Object.keys(jr).forEach(function(an){Ar<jr[an]?(Ar=jr[an],Ge=[an]):Ar===jr[an]&&Ge.push(an)}),Ge.length!==1||Ge[0]!==ur.clusterId){var br=Ge.indexOf(ur.clusterId);if(br>=0&&Ge.splice(br,1),Ge&&Ge.length){_e=!0;var er=Lt[ur.clusterId],nr=er.nodes.indexOf(ur);er.nodes.splice(nr,1);var yr=Math.floor(Math.random()*Ge.length),Rr=Lt[Ge[yr]];Rr.nodes.push(ur),ur.clusterId=Rr.id}}}),!_e)return"break";Ee++};Ee<Et&&Te()!=="break";);Object.keys(Lt).forEach(function(He){var _e=Lt[He];_e.nodes&&_e.nodes.length||delete Lt[He]});var Se=[],$e={};Vt.forEach(function(He){var _e=He.source,ur=He.target,jr=He[G]||1,Ar=Nt[_e].node.clusterId,Ge=Nt[ur].node.clusterId,br=Ar+"---"+Ge;if($e[br])$e[br].weight+=jr,$e[br].count++;else{var er={source:Ar,target:Ge,weight:jr,count:1};$e[br]=er,Se.push(er)}});var cr=[];return Object.keys(Lt).forEach(function(He){cr.push(Lt[He])}),{clusters:cr,clusterEdges:Se}},louvain:function(tt,J,G,Et){J===void 0&&(J=!1),G===void 0&&(G="weight"),Et===void 0&&(Et=1e-4);var Tt=tt.nodes,ct=Tt===void 0?[]:Tt,St=tt.edges,Vt=St===void 0?[]:St,Lt=1,Nt={},Zt={};ct.forEach(function(Ge,br){var er=String(Lt++);Ge.clusterId=er,Nt[er]={id:er,nodes:[Ge]},Zt[Ge.id]={node:Ge,idx:br}});var oe=E(tt,J),ue=[],Ee={},Te=0;oe.forEach(function(Ge,br){var er=0,nr=ct[br].id;Ee[nr]={},Ge.forEach(function(yr,Rr){if(yr){er+=yr;var an=ct[Rr].id;Ee[nr][an]=yr,Te+=yr}}),ue.push(er)}),Te/=2;for(var Se=1/0,$e=1/0,cr=0;Se=et(ct,oe,ue,Te),!(Math.abs(Se-$e)<Et||cr>100);)$e=Se,cr++,Object.keys(Nt).forEach(function(Ge){var br=0;Vt.forEach(function(er){var nr=er.source,yr=er.target,Rr=Zt[nr].node.clusterId,an=Zt[yr].node.clusterId;(Rr===Ge&&an!==Ge||an===Ge&&Rr!==Ge)&&(br+=er[G]||1)}),Nt[Ge].sumTot=br}),ct.forEach(function(Ge,br){var er,nr=Nt[Ge.clusterId],yr=0,Rr=ue[br]/(2*Te),an=0;nr.nodes.forEach(function(pa){var ga=Zt[pa.id].idx;an+=oe[br][ga]||0});var In=an-nr.sumTot*Rr,Un=Ee[Ge.id];if(Object.keys(Un).forEach(function(pa){var ga=Zt[pa].node.clusterId;if(ga!==Ge.clusterId){var Xi=Nt[ga],Ci=Xi.nodes;if(Ci&&Ci.length){var Ki=0;Ci.forEach(function(co){var fo=Zt[co.id].idx;Ki+=oe[br][fo]||0});var so=Ki-Xi.sumTot*Rr-In;so>yr&&(yr=so,er=Xi)}}}),yr>0){er.nodes.push(Ge);var _n=Ge.clusterId;Ge.clusterId=er.id;var sa=nr.nodes.indexOf(Ge);nr.nodes.splice(sa,1);var ci=0,fi=0;Vt.forEach(function(pa){var ga=pa.source,Xi=pa.target,Ci=Zt[ga].node.clusterId,Ki=Zt[Xi].node.clusterId;(Ci===er.id&&Ki!==er.id||Ki===er.id&&Ci!==er.id)&&(ci+=pa[G]||1),(Ci===_n&&Ki!==_n||Ki===_n&&Ci!==_n)&&(fi+=pa[G]||1)}),er.sumTot=ci,nr.sumTot=fi}});var He={},_e=0;Object.keys(Nt).forEach(function(Ge){var br=Nt[Ge];if(br.nodes&&br.nodes.length){var er=String(_e+1);er!==Ge&&(br.id=er,br.nodes=br.nodes.map(function(nr){return{id:nr.id,clusterId:er}}),Nt[er]=br,He[Ge]=er,delete Nt[Ge],_e++)}else delete Nt[Ge]}),ct.forEach(function(Ge){Ge.clusterId&&He[Ge.clusterId]&&(Ge.clusterId=He[Ge.clusterId])});var ur=[],jr={};Vt.forEach(function(Ge){var br=Ge.source,er=Ge.target,nr=Ge[G]||1,yr=Zt[br].node.clusterId,Rr=Zt[er].node.clusterId,an=yr+"---"+Rr;if(jr[an])jr[an].weight+=nr,jr[an].count++;else{var In={source:yr,target:Rr,weight:nr,count:1};jr[an]=In,ur.push(In)}});var Ar=[];return Object.keys(Nt).forEach(function(Ge){Ar.push(Nt[Ge])}),{clusters:Ar,clusterEdges:ur}},minimumSpanningTree:function(tt,J,G){return G?{prim:q,kruskal:at}[G](tt,J):at(tt,J)},pageRank:function(tt,J,G){typeof J!="number"&&(J=1e-6),typeof G!="number"&&(G=.85);for(var Et,Tt=1,ct=0,St=1e3,Vt=tt.nodes,Lt=Vt===void 0?[]:Vt,Nt=tt.edges,Zt=Nt===void 0?[]:Nt,oe=Lt.length,ue={},Ee={},Te=0;Te<oe;++Te)ue[$e=(jr=Lt[Te]).id]=1/oe,Ee[$e]=1/oe;for(var Se=y(tt);St>0&&Tt>J;){for(ct=0,Te=0;Te<oe;++Te){var $e=(jr=Lt[Te]).id;if(Et=0,Se[jr.id].inDegree===0)ue[$e]=0;else{for(var cr=O($e,Zt,"source"),He=0;He<cr.length;++He){var _e=cr[He],ur=Se[_e].outDegree;ur>0&&(Et+=Ee[_e]/ur)}ue[$e]=G*Et,ct+=ue[$e]}}for(ct=(1-ct)/oe,Tt=0,Te=0;Te<oe;++Te){var jr;Et=ue[$e=(jr=Lt[Te]).id]+ct,Tt+=Math.abs(Et-Ee[$e]),Ee[$e]=Et}St-=1}return Ee},getNeighbors:O,Stack:X,GADDI:function(tt,J,G,Et,Tt,ct,St){if(G===void 0&&(G=!1),ct===void 0&&(ct="cluster"),St===void 0&&(St="cluster"),tt&&tt.nodes){var Vt=tt.nodes.length;if(Vt){var Lt=st(tt,G),Nt=st(J,G),Zt=Z(tt.nodes,Lt,G),oe=Z(J.nodes,Nt,G),ue=Wt(tt.nodes,ct),Ee=ue.nodeMap,Te=ue.nodeLabelMap,Se=Wt(J.nodes,ct),$e=Se.nodeMap,cr=Se.nodeLabelMap;Ct(tt.edges,St,Ee);var He=Ct(J.edges,St,$e).edgeLabelMap;Tt||(Tt=Math.max.apply(Math,z(z([],Nt[0]),[2]))),Et||(Et=Tt);var _e=ut(tt,Lt,ct,Et),ur=ut(J,Nt,ct,Et),jr=function(ya,_a,rr,ir,Ye){var tr=Math.ceil(rr/_a),Fr={},tn=0;return ir.forEach(function(bn,on){for(var Oa=0,na=0,wa=bn.nodeIdxs,da=bn.neighborNum-1;Oa<tr;){for(var bi=wa[1+Math.floor(Math.random()*da)],qa=0;(Fr[on+"-"+bi]||Fr[bi+"-"+on])&&(bi=Math.floor(Math.random()*_a),!(++qa>2*_a)););if(qa<2*_a&&(Fr[on+"-"+bi]={start:on,end:bi,distance:Ye[on][bi]},Oa++,++tn>=rr))return Fr;if(++na>2*_a)break}Oa<tr&&(tr=(tr+(tr-Oa))/(_a-on-1))}),Fr}(0,Vt,Math.min(100,Vt*(Vt-1)/2),ur,Lt),Ar=it(jr,_e,tt),Ge=function(ya){var _a=ya.graphs,rr=ya.directed,ir=rr!==void 0&&rr,Ye=ya.nodeLabelProp,tr=Ye===void 0?yt:Ye,Fr=ya.edgeLabelProp,tn=Fr===void 0?yt:Fr,bn=function(qa,fa,Aa,Sa){var Fa={};return Object.keys(qa).forEach(function(Ka,hi){var me=qa[Ka],he=new xt(hi,!0,fa),be={};me.nodes.forEach(function(Ve,Ke){he.addNode(Ke,Ve[Aa]),be[Ve.id]=Ke}),me.edges.forEach(function(Ve,Ke){var fr=be[Ve.source],Lr=be[Ve.target];he.addEdge(-1,fr,Lr,Ve[Sa])}),he&&he.getNodeNum()&&(Fa[he.id]=he)}),Fa}(_a,ir,tr,tn),on=ya.minSupport,Oa=ya.maxNodeNum,na=ya.minNodeNum,wa=ya.verbose,da=ya.top,bi=new $t({graphs:bn,minSupport:on,maxNodeNum:Oa,minNodeNum:na,top:da,verbose:wa,directed:ir});return bi.run(),function(qa,fa,Aa){var Sa=[];return qa.forEach(function(Fa){var Ka={nodes:[],edges:[]};Fa.nodes.forEach(function(hi){var me;Ka.nodes.push(((me={id:""+hi.id})[fa]=hi.label,me))}),Fa.edges.forEach(function(hi){var me;Ka.edges.push(((me={source:""+hi.from,target:""+hi.to})[Aa]=hi.label,me))}),Sa.push(Ka)}),Sa}(bi.frequentSubgraphs,tr,tn)}({graphs:Ar,nodeLabelProp:ct,edgeLabelProp:St,minSupport:1,minNodeNum:1,maxNodeNum:4,directed:G}).slice(0,10),br=Ge.length,er=[];Ge.forEach(function(ya,_a){er[_a]={},Object.keys(Ar).forEach(function(rr){var ir=Ar[rr],Ye=vt(ir,ya,ct,St);er[_a][rr]=Ye})});var nr=function(ya,_a,rr){for(var ir=1/0,Ye=0,tr=function(bn){var on=ya[bn],Oa=Object.keys(on).sort(function(fa,Aa){return on[fa]-on[Aa]}),na=[];Oa.forEach(function(fa,Aa){na[Aa%10]||(na[Aa%10]={graphs:[],totalCount:0,aveCount:0}),na[Aa%10].graphs.push(fa),na[Aa%10].totalCount+=on[fa]});var wa=0,da=[];na.forEach(function(fa){var Aa=fa.totalCount/fa.graphs.length;fa.aveCount=Aa,da.push(Aa);var Sa=0,Fa=fa.length;fa.graphs.forEach(function(Ka,hi){var me=on[Ka];fa.graphs.forEach(function(he,be){hi!==be&&(Sa+=Math.abs(me-on[he]))})}),wa+=Sa/=Fa*(Fa-1)/2}),wa/=na.length;var bi=0;da.forEach(function(fa,Aa){da.forEach(function(Sa,Fa){Aa!==Fa&&(bi+=Math.abs(fa-Sa))}),bi/=da.length*(da.length-1)/2});var qa=bi-wa;ir<qa&&(ir=qa,Ye=bn)},Fr=0;Fr<_a;Fr++)tr(Fr);return{structure:rr[Ye],structureCountMap:ya[Ye]}}(er,br,Ge),yr=nr.structure,Rr=nr.structureCountMap,an=J.nodes[0],In=an[ct],Un=Te[In],_n={},sa={},ci={},fi={},pa={};Object.keys(cr).forEach(function(ya,_a){pa[ya]=[];var rr=-1/0,ir=cr[ya],Ye={};ir.forEach(function(bn){var on=oe[an.id+"-"+bn.id];on&&pa[ya].push(on),rr<on&&(rr=on),Ye[an.id+"-"+bn.id]={start:0,end:$e[bn.id].idx,distance:on}}),pa[ya]=pa[ya].sort(function(bn,on){return bn-on}),sa=it(Ye,ur,J,sa);var tr=[];if(Object.keys(Ye).forEach(function(bn){if(ci[bn])tr.push(ci[bn]);else{var on=sa[bn];ci[bn]=vt(on,yr,ct,St),tr.push(ci[bn])}}),tr=tr.sort(function(bn,on){return on-bn}),fi[an.id+"-"+ya]=tr,ya!==In)for(var Fr=function(on){var Oa=Un[on],na=_e[Ee[Oa.id].idx],wa=na.nodeLabelCountMap[ya],da=cr[ya].length;if(!wa||wa.count<da)return Un.splice(on,1),"continue";for(var bi=!1,qa=0;qa<da;qa++)if(wa.dists[qa]>pa[ya][qa]){bi=!0;break}if(bi)return Un.splice(on,1),"continue";var fa={};na.neighbors.forEach(function(Fa){var Ka=Zt[Oa.id+"-"+Fa.id];fa[Oa.id+"-"+Fa.id]={start:Ee[Oa.id].idx,end:Ee[Fa.id].idx,distance:Ka}}),Ar=it(fa,_e,tt,Ar);var Aa=[];Object.keys(fa).forEach(function(Fa){if(Rr[Fa])Aa.push(Rr[Fa]);else{var Ka=Ar[Fa];Rr[Fa]=vt(Ka,yr,ct,St),Aa.push(Rr[Fa])}}),Aa=Aa.sort(function(Fa,Ka){return Ka-Fa});var Sa=!1;for(qa=0;qa<da;qa++)if(Aa[qa]<tr[qa]){Sa=!0;break}return Sa?(Un.splice(on,1),"continue"):void 0},tn=Un.length-1;tn>=0;tn--)Fr(tn)});var ga=[];Un.forEach(function(ya){for(var _a=Ee[ya.id].idx,rr=ft(tt.nodes,Lt[_a],_a,ct,Tt).neighbors,ir=rr.length,Ye=!1,tr=function(on){if(rr.length+1<J.nodes.length)return Ye=!0,{value:void 0};var Oa=rr[on],na=Oa[ct];if(!cr[na]||!cr[na].length)return rr.splice(on,1),"continue";var wa=ya.id+"-"+Oa.id;if(!pa[na]||!pa[na].length)return rr.splice(on,1),"continue";var da=Zt[wa];if(da>pa[na][pa[na].length-1])return rr.splice(on,1),"continue";var bi=Rr[wa]?Rr[wa]:function(Aa,Sa,Fa,Ka,hi,me,he,be,Ve,Ke,fr){var Lr,_r=Sa.id+"-"+Fa.id;if(Ke&&Ke[_r])return Ke[_r];var ua=fr?fr[_r]:void 0;if(!ua){var ta=((Lr={})[_r]={start:Ka[Sa.id].idx,end:Ka[Fa.id].idx,distance:hi},Lr);ua=(fr=it(ta,me,Aa,fr))[_r]}return vt(ua,he,be,Ve)}(tt,ya,Oa,Ee,da,_e,yr,ct,St,Rr,Ar),qa=an.id+"-"+na;if(bi<fi[qa][fi[qa].length-1])return rr.splice(on,1),"continue";var fa=_n[na];return fa===void 0&&(fa=1/0,cr[na].forEach(function(Aa){var Sa=$e[Aa.id].degree;fa>Sa&&(fa=Sa)}),_n[na]=fa),Ee[Oa.id].degree<fa?(rr.splice(on,1),"continue"):void 0},Fr=ir-1;Fr>=0;Fr--){var tn=tr(Fr);if(typeof tn=="object")return tn.value}Ye||ga.push({nodes:[ya].concat(rr)})});var Xi=Q(J,an.id,!1).length,Ci={};G?(Object.keys(Xi).forEach(function(ya){var _a=$e[ya].node[ct];Ci[_a]?Ci[_a].push(Xi[ya]):Ci[_a]=[Xi[ya]]}),Object.keys(Ci).forEach(function(ya){Ci[ya].sort(function(_a,rr){return _a-rr})})):Ci=pa;for(var Ki=function(_a){var rr=ga[_a],ir=rr.nodes[0],Ye={},tr={};rr.nodes.forEach(function(Ve,Ke){tr[Ve.id]={idx:Ke,node:Ve,degree:0};var fr=Ve[ct];Ye[fr]?Ye[fr]++:Ye[fr]=1});var Fr=[],tn={};tt.edges.forEach(function(Ve){tr[Ve.source]&&tr[Ve.target]&&(Fr.push(Ve),tn[Ve[St]]?tn[Ve[St]]++:tn[Ve[St]]=1,tr[Ve.source].degree++,tr[Ve.target].degree++)});for(var bn=Object.keys(He).length,on=!1,Oa=0;Oa<bn;Oa++){var na=Object.keys(He)[Oa];if(!tn[na]||tn[na]<He[na].length){on=!0;break}}if(on)return ga.splice(_a,1),"continue";var wa=Fr.length;if(wa<J.edges.length)return ga.splice(_a,1),"break";var da=!1,bi=function(Ke){var fr=Fr[Ke],Lr=fr[St],_r=He[Lr];if(!_r||!_r.length)return tn[Lr]--,_r&&tn[Lr]<_r.length?(da=!0,"break"):(Fr.splice(Ke,1),tr[fr.source].degree--,tr[fr.target].degree--,"continue");var ua=tr[fr.source].node[ct],ta=tr[fr.target].node[ct],Kn=!1;return _r.forEach(function(ji){var Ra=$e[ji.source].node,eo=$e[ji.target].node;Ra[ct]===ua&&eo[ct]===ta&&(Kn=!0),G||Ra[ct]!==ta||eo[ct]!==ua||(Kn=!0)}),Kn?void 0:(tn[Lr]--,_r&&tn[Lr]<_r.length?(da=!0,"break"):(Fr.splice(Ke,1),tr[fr.source].degree--,tr[fr.target].degree--,"continue"))};for(Oa=wa-1;Oa>=0&&bi(Oa)!=="break";Oa--);if(da)return ga.splice(_a,1),"continue";rr.edges=Fr;var qa=Q(rr,rr.nodes[0].id,!1).length;if(Object.keys(qa).reverse().forEach(function(Ve){if(Ve!==rr.nodes[0].id&&!da){if(qa[Ve]===1/0){var Ke=tr[Ve].node[ct];if(Ye[Ke]--,Ye[Ke]<cr[Ke].length)return void(da=!0);var fr=rr.nodes.indexOf(tr[Ve].node);return rr.nodes.splice(fr,1),void(tr[Ve]=void 0)}var Lr=Ee[Ve].node[ct];if(!Ci[Lr]||!Ci[Lr].length||qa[Ve]>Ci[Lr][Ci[Lr].length-1]){if(Ke=tr[Ve].node[ct],Ye[Ke]--,Ye[Ke]<cr[Ke].length)return void(da=!0);fr=rr.nodes.indexOf(tr[Ve].node),rr.nodes.splice(fr,1),tr[Ve]=void 0}}}),da)return ga.splice(_a,1),"continue";for(var fa=!0,Aa=0;fa&&!da;){if(fa=!1,tr[ir.id].degree<$e[an.id].degree){da=!0;break}if(Ye[ir[ct]]<cr[ir[ct]].length){da=!0;break}for(var Sa=rr.nodes.length-1;Sa>=0;Sa--){var Fa=rr.nodes[Sa],Ka=tr[Fa.id].degree,hi=Fa[ct];if(Ka<_n[hi]){if(Ye[Fa[ct]]--,Ye[Fa[ct]]<cr[Fa[ct]].length){da=!0;break}rr.nodes.splice(Sa,1),tr[Fa.id]=void 0,fa=!0}}if(da||!fa&&Aa!==0)break;for(var me=(wa=Fr.length)-1;me>=0;me--){var he=Fr[me];if(!tr[he.source]||!tr[he.target]){Fr.splice(me,1);var be=he[St];if(tn[be]--,tr[he.source]&&tr[he.source].degree--,tr[he.target]&&tr[he.target].degree--,He[be]&&tn[be]<He[be].length){da=!0;break}fa=!0}}Aa++}return da||da||rr.nodes.length<J.nodes.length||Fr.length<J.edges.length?(ga.splice(_a,1),"continue"):void 0},so=ga.length-1;so>=0&&Ki(so)!=="break";so--);var co=ga.length,fo=function(_a){var rr=ga[_a],ir={};rr.edges.forEach(function(Fr){var tn=Fr.source+"-"+Fr.target+"-"+Fr.label;ir[tn]?ir[tn]++:ir[tn]=1});for(var Ye=function(tn){var bn=ga[tn],on={};bn.edges.forEach(function(na){var wa=na.source+"-"+na.target+"-"+na.label;on[wa]?on[wa]++:on[wa]=1});var Oa=!0;Object.keys(on).length!==Object.keys(ir).length?Oa=!1:Object.keys(ir).forEach(function(na){on[na]!==ir[na]&&(Oa=!1)}),Oa&&ga.splice(tn,1)},tr=co-1;tr>_a;tr--)Ye(tr);co=ga.length};for(so=0;so<=co-1;so++)fo(so);return ga}}},getAdjMatrixAsync:function(tt,J){return Rt("getAdjMatrix").apply(void 0,[tt,J])},connectedComponentAsync:function(tt,J){return Rt("connectedComponent").apply(void 0,[tt,J])},getDegreeAsync:function(tt){return Rt("getDegree")(tt)},getInDegreeAsync:function(tt,J){return Rt("getInDegree")(tt,J)},getOutDegreeAsync:function(tt,J){return Rt("getOutDegree")(tt,J)},detectCycleAsync:function(tt){return Rt("detectCycle")(tt)},dijkstraAsync:function(tt,J,G,Et){return Rt("dijkstra").apply(void 0,[tt,J,G,Et])},findAllPathAsync:function(tt,J,G,Et){return Rt("findAllPath").apply(void 0,[tt,J,G,Et])},findShortestPathAsync:function(tt,J,G,Et,Tt){return Rt("findShortestPath").apply(void 0,[tt,J,G,Et,Tt])},floydWarshallAsync:function(tt,J){return Rt("floydWarshall").apply(void 0,[tt,J])},labelPropagationAsync:function(tt,J,G,Et){return Et===void 0&&(Et=1e3),Rt("labelPropagation")(tt,J,G,Et)},louvainAsync:function(tt,J,G,Et){return Rt("louvain")(tt,J,G,Et)},minimumSpanningTreeAsync:function(tt,J,G){return Rt("minimumSpanningTree").apply(void 0,[tt,J,G])},pageRankAsync:function(tt,J,G){return Rt("pageRank").apply(void 0,[tt,J,G])},getNeighborsAsync:function(tt,J,G){return Rt("getNeighbors").apply(void 0,[tt,J,G])},GADDIAsync:function(tt,J,G,Et,Tt,ct,St){return G===void 0&&(G=!1),ct===void 0&&(ct="cluster"),St===void 0&&(St="cluster"),Rt("GADDI").apply(void 0,[tt,J,G,Et,Tt,ct,St])}}}(),p.default}()})},b5wT:function(Ft,I,a){var f;try{f={cloneDeep:a("BkRI"),constant:a("cvCv"),defaults:a("la6v"),each:a("xkGU"),filter:a("k4Da"),find:a("J2m7"),flatten:a("TYy9"),forEach:a("bNQv"),forIn:a("mUg4"),has:a("OFL0"),isUndefined:a("TP7S"),last:a("RBan"),map:a("3WF5"),mapValues:a("noZS"),max:a("q92V"),merge:a("QkVN"),min:a("AE40"),minBy:a("gPaA"),now:a("QIyF"),pick:a("JZM8"),range:a("WjpJ"),reduce:a("xaJk"),sortBy:a("xweI"),uniqueId:a("mNz5"),values:a("P/G1"),zipObject:a("VJLA")}}catch(i){}f||(f=window._),Ft.exports=f},bNQv:function(Ft,I,a){var f=a("gFfm"),i=a("SKAX"),g=a("EwQA"),p=a("Z0cm");function E(S,A){var M=p(S)?f:i;return M(S,g(A))}Ft.exports=E},baXp:function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=a("lwsE"),i=a.n(f),g=a("PJYZ"),p=a.n(g),E=a("7W2i"),S=a.n(E),A=a("a1gu"),M=a.n(A),x=a("Nsbk"),O=a.n(x),C=a("oDt1");function D(N){var z=R();return function(){var B=O()(N),P;if(z){var T=O()(this).constructor;P=Reflect.construct(B,arguments,T)}else P=B.apply(this,arguments);return M()(this,P)}}function R(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(N){return!1}}var y;(function(N){N[N.Standard=0]="Standard"})(y||(y={}));var w=function(N){S()(V,N);var z=D(V);function V(B){var P;return i()(this,V),P=z.call(this,B),P.strategy=y.Standard,P.visibilityPlaneMask=0,P.visible=!1,Object.assign(p()(P),B),P}return V}(C.a)},blMc:function(Ft,I){Ft.exports=a;function a(f,i,g){var p=i[0],E=i[1];return f[0]=g[0]*p+g[2]*E+g[4],f[1]=g[1]*p+g[3]*E+g[5],f}},"c+wO":function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"a",function(){return p}),a.d(I,"d",function(){return E}),a.d(I,"c",function(){return S});var f=a("iTfj"),i=a("IvmH");function g(A){return document.createElementNS("http://www.w3.org/2000/svg",A)}function p(A){var M=i.a[A.type],x=A.getParent();if(!M)throw new Error("the type "+A.type+" is not supported by svg");var O=g(M);if(A.get("id")&&(O.id=A.get("id")),A.set("el",O),A.set("attrs",{}),x){var C=x.get("el");C||(C=x.createDom(),x.set("el",C)),C.appendChild(O)}return O}function E(A,M){var x=A.get("el"),O=Object(f.ob)(x.children).sort(M),C=document.createDocumentFragment();O.forEach(function(D){C.appendChild(D)}),x.appendChild(C)}function S(A,M){var x=A.parentNode,O=Array.from(x.childNodes).filter(function(y){return y.nodeType===1&&y.nodeName.toLowerCase()!=="defs"}),C=O[M],D=O.indexOf(A);if(C){if(D>M)x.insertBefore(A,C);else if(D<M){var R=O[M+1];R?x.insertBefore(A,R):x.appendChild(A)}}else x.appendChild(A)}},c0lT:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g}),a.d(I,"b",function(){return p});var f=a("APlK"),i=a("c+wO");function g(E,S){S.forEach(function(A){A.draw(E)})}function p(E,S){var A=E.get("canvas");if(A&&A.get("autoDraw")){var M=A.get("context"),x=E.getParent(),O=x?x.getChildren():[A],C=E.get("el");if(S==="remove"){var D=E.get("isClipShape");if(D){var R=C&&C.parentNode,y=R&&R.parentNode;R&&y&&y.removeChild(R)}else C&&C.parentNode&&C.parentNode.removeChild(C)}else if(S==="show")C.setAttribute("visibility","visible");else if(S==="hide")C.setAttribute("visibility","hidden");else if(S==="zIndex")Object(i.c)(C,O.indexOf(E));else if(S==="sort"){var w=E.get("children");w&&w.length&&Object(i.d)(E,function(N,z){return w.indexOf(N)-w.indexOf(z)?1:0})}else S==="clear"?C&&(C.innerHTML=""):S==="matrix"?Object(f.c)(E):S==="clip"?Object(f.a)(E,M):S==="attr"||S==="add"&&E.draw(M)}}},cBFB:function(Ft,I,a){"use strict";a.d(I,"a",function(){return nt});var f=a("mrSG"),i=a("zJSt"),g=a("tKoa"),p=a("w02o"),E=a("YuPD"),S=a("+Nd1"),A=a("a8tM"),M=a("iTfj"),x=a("I7nc"),O={field:"value",size:[1,1],round:!1,padding:0,sort:!0,as:["x","y"]};function C(st,et){et=Object(M.b)({},O,et);var _=et.as;if(!Object(M.B)(_)||_.length!==2)throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ "x", "y" ])!');var Y;try{Y=Object(x.b)(et)}catch(mt){console.warn(mt)}var $=function(ot){return S.a().size(et.size).round(et.round).padding(et.padding)(A.c(ot).sum(function(xt){return xt[Y]}))},q=$(st),at=_[0],pt=_[1];return q.each(function(mt){mt[at]=[mt.x0,mt.x1,mt.x1,mt.x0],mt[pt]=[mt.y1,mt.y1,mt.y0,mt.y0],["x0","x1","y0","y1"].forEach(function(ot){_.indexOf(ot)===-1&&delete mt[ot]})}),Object(x.a)(q)}var D=a("NzZ7");function R(st){var et=st.data,_=st.type,Y=st.seriesField,$=st.colorField,q=st.hierarchyConfig,at={partition:C,treemap:D.a},pt=at[_](et,Object(f.a)(Object(f.a)({},q),{type:"hierarchy."+_,field:Y,as:["x","y"]})),mt=[];return pt.forEach(function(ot){var xt,It,Ht,Qt,$t;if(ot.depth===0)return null;var yt=Object(f.a)((xt={},xt[Y]=ot.data[Y]||((Ht=(It=ot.parent)===null||It===void 0?void 0:It.data)===null||Ht===void 0?void 0:Ht[Y]),xt[$]=ot.data[$]||(($t=(Qt=ot.parent)===null||Qt===void 0?void 0:Qt.data)===null||$t===void 0?void 0:$t[$]),xt),ot);yt.ext=q,mt.push(yt)}),mt}function y(st){var et=st.items,_=st.formatter,Y=st.fields,$=et[0]||{},q=$.color,at=$.mappingData,pt=$.data,mt=document.createElement("ul");mt.className="g2-tooltip";var ot="",xt=function(Ht,Qt){var $t;return _?_(Object(f.a)(Object(f.a)({},Ht),{field:Qt})):{name:Qt,value:(Ht==null?void 0:Ht[Qt])||(($t=Ht==null?void 0:Ht.data)===null||$t===void 0?void 0:$t[Qt])}};return Y.forEach(function(It){var Ht=xt(pt,It),Qt=Ht.name,$t=Ht.value;ot+=`<li class="g2-tooltip-list-item" data-index={index} style="margin-bottom:4px;display:flex;align-items: center;">
        <span style="background-color:`+((at==null?void 0:at.color)||q)+`;" class="g2-tooltip-marker"></span>
        <span style="display:inline-flex;flex:1;justify-content:space-between">
        <span style="margin-right: 16px;">`+Qt+`:</span>
        <span class="g2-tooltip-list-item-value">`+$t+`</span>
        </span>
    </li>`}),mt.innerHTML=ot,mt}function w(st){var et=st.chart,_=st.options,Y=_.color,$=_.colorField,q=_.sunburstStyle,at=R(_);return et.data(at),Object(g.f)(Object(E.b)({},st,{options:{xField:"x",yField:"y",seriesField:$,polygon:{color:Y,style:q}}})),st}function N(st){var et=st.chart;return et.axis(!1),st}function z(st){var et=st.chart;return et.legend(!1),st}function V(st){var et=st.chart,_=st.options,Y=_.label,$=_.seriesField,q=Object(E.c)(et,"polygon");if(!Y)q.label(!1);else{var at=Y.callback,pt=Object(f.e)(Y,["callback"]);q.label({fields:[$],callback:at,cfg:Object(E.u)(pt)})}return st}function B(st){var et=st.chart,_=st.options,Y=_.innerRadius,$=_.radius,q=_.reflect,at=et.coordinate({type:"polar",cfg:{innerRadius:Y,radius:$}});return q&&at.reflect(q),st}function P(st){var et=st.chart,_=st.options,Y=_.meta;return Y&&et.scale(Y),st}function T(st){var et=st.chart,_=st.options,Y=_.tooltip,$=_.seriesField,q=_.colorField;return Y&&et.tooltip(Object(f.a)(Object(f.a)({},Y),{customContent:Y&&Y.customContent?Y.customContent:function(at,pt){return y({value:at,items:pt,formatter:Y&&(Y==null?void 0:Y.formatter),fields:Y&&Y.fields||[$,q]})}})),st}function W(st){return Object(E.e)(w,p.j,N,P,z,B,T,V,p.c,p.a,Object(p.b)())(st)}var Q=Object(E.b)({},i.b.getDefaultOptions(),{type:"partition",innerRadius:0,seriesField:"value",tooltip:{shared:!0,showMarkers:!1,offset:20,showTitle:!1}}),nt=function(st){Object(f.c)(et,st);function et(){var _=st!==null&&st.apply(this,arguments)||this;return _.type="sunburst",_}return et.getDefaultOptions=function(){return Q},et.prototype.getDefaultOptions=function(){return et.getDefaultOptions()},et.prototype.getSchemaAdaptor=function(){return W},et}(i.b)},cGwC:function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i[0]-g[0],f[1]=i[1]-g[1],f}},cHpt:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(i){return!1}}},cSJO:function(Ft,I,a){"use strict";var f=this&&this.__spreadArray||function(x,O){for(var C=0,D=O.length,R=x.length;C<D;C++,R++)x[R]=O[C];return x};Object.defineProperty(I,"__esModule",{value:!0}),I.resolveInstance=void 0;var i=a("MON2"),g=a("FV85"),p=a("xfSm");function E(x,O,C){var D=O.filter(function(y){return y.target!==null&&y.target.type===g.TargetTypeEnum.ClassProperty}),R=D.map(C);return D.forEach(function(y,w){var N="";N=y.target.name.value();var z=R[w];x[N]=z}),x}function S(x,O){return new(x.bind.apply(x,f([void 0],O)))}function A(x,O){if(Reflect.hasMetadata(p.POST_CONSTRUCT,x)){var C=Reflect.getMetadata(p.POST_CONSTRUCT,x);try{O[C.value]()}catch(D){throw new Error(i.POST_CONSTRUCT_ERROR(x.name,D.message))}}}function M(x,O,C){var D=null;if(O.length>0){var R=O.filter(function(w){return w.target!==null&&w.target.type===g.TargetTypeEnum.ConstructorArgument}),y=R.map(C);D=S(x,y),D=E(D,O,C)}else D=new x;return A(x,D),D}I.resolveInstance=M},cXWL:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S});var f=a("lwsE"),i=a.n(f),g=a("W8MJ"),p=a.n(g),E=a("IOcx"),S=function(){function A(M,x){i()(this,A),this.distance=void 0,this.normal=void 0,this.pnVertexFlag=void 0,this.distance=M||0,this.normal=x||E.e.fromValues(0,1,0),this.updatePNVertexFlag()}return p()(A,[{key:"updatePNVertexFlag",value:function(){this.pnVertexFlag=(Number(this.normal[0]>=0)<<8)+(Number(this.normal[1]>=0)<<4)+Number(this.normal[2]>=0)}},{key:"distanceToPoint",value:function(x){return E.e.dot(x,this.normal)-this.distance}},{key:"normalize",value:function(){var x=1/E.e.len(this.normal);E.e.scale(this.normal,this.normal,x),this.distance*=x}},{key:"intersectsLine",value:function(x,O,C){var D=this.distanceToPoint(x),R=this.distanceToPoint(O),y=D/(D-R),w=y>=0&&y<=1;return w&&C&&E.e.lerp(C,x,O,y),w}}]),A}()},cZ5Q:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.injectable=void 0;var f=a("MON2"),i=a("xfSm");function g(){return function(p){if(Reflect.hasOwnMetadata(i.PARAM_TYPES,p))throw new Error(f.DUPLICATED_INJECTABLE_DECORATOR);var E=Reflect.getMetadata(i.DESIGN_PARAM_TYPES,p)||[];return Reflect.defineMetadata(i.PARAM_TYPES,E,p),p}}I.injectable=g},chpo:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.default=void 0;var f=1,i=function(){return"".concat(f++)};I.default=i},"cq/+":function(Ft,I,a){var f=a("mc0g"),i=f();Ft.exports=i},cvCv:function(Ft,I){function a(f){return function(){return f}}Ft.exports=a},cyZq:function(Ft,I,a){"use strict";a.d(I,"d",function(){return i}),a.d(I,"b",function(){return g}),a.d(I,"e",function(){return p}),a.d(I,"f",function(){return E}),a.d(I,"l",function(){return S}),a.d(I,"j",function(){return A});var f=a("iTfj");a.d(I,"i",function(){return f.I}),a.d(I,"k",function(){return f.O}),a.d(I,"h",function(){return f.H}),a.d(I,"g",function(){return f.B}),a.d(I,"c",function(){return f.j}),a.d(I,"o",function(){return f.pb}),a.d(I,"m",function(){return f.cb}),a.d(I,"n",function(){return f.hb}),a.d(I,"a",function(){return f.d});function i(){return window?window.devicePixelRatio:1}function g(M,x,O,C){var D=M-O,R=x-C;return Math.sqrt(D*D+R*R)}function p(M,x,O,C,D,R){return D>=M&&D<=M+O&&R>=x&&R<=x+C}function E(M,x){return!(x.minX>M.maxX||x.maxX<M.minX||x.minY>M.maxY||x.maxY<M.minY)}function S(M,x){return!M||!x?M||x:{minX:Math.min(M.minX,x.minX),minY:Math.min(M.minY,x.minY),maxX:Math.max(M.maxX,x.maxX),maxY:Math.max(M.maxY,x.maxY)}}function A(M,x){return M[0]===x[0]&&M[1]===x[1]}},d9O0:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.id=void 0;var f=0;function i(){return f++}I.id=i},dOXA:function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=Math.min(i[0],g[0]),f[1]=Math.min(i[1],g[1]),f}},dOj1:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("GEWS"),g=a("6Ekc").slack,p=a("6Ekc").longestPath,E=a("F9We").alg.preorder,S=a("F9We").alg.postorder,A=a("tQ6r").simplify;Ft.exports=M,M.initLowLimValues=D,M.initCutValues=x,M.calcCutValue=C,M.leaveEdge=y,M.enterEdge=w,M.exchangeEdges=N;function M(P){P=A(P),p(P);var T=i(P);D(T),x(T,P);for(var W,Q;W=y(T);)Q=w(T,P,W),N(T,P,W,Q)}function x(P,T){var W=S(P,P.nodes());W=W.slice(0,W.length-1),f.forEach(W,function(Q){O(P,T,Q)})}function O(P,T,W){var Q=P.node(W),nt=Q.parent;P.edge(W,nt).cutvalue=C(P,T,W)}function C(P,T,W){var Q=P.node(W),nt=Q.parent,st=!0,et=T.edge(W,nt),_=0;return et||(st=!1,et=T.edge(nt,W)),_=et.weight,f.forEach(T.nodeEdges(W),function(Y){var $=Y.v===W,q=$?Y.w:Y.v;if(q!==nt){var at=$===st,pt=T.edge(Y).weight;if(_+=at?pt:-pt,V(P,W,q)){var mt=P.edge(W,q).cutvalue;_+=at?-mt:mt}}}),_}function D(P,T){arguments.length<2&&(T=P.nodes()[0]),R(P,{},1,T)}function R(P,T,W,Q,nt){var st=W,et=P.node(Q);return T[Q]=!0,f.forEach(P.neighbors(Q),function(_){f.has(T,_)||(W=R(P,T,W,_,Q))}),et.low=st,et.lim=W++,nt?et.parent=nt:delete et.parent,W}function y(P){return f.find(P.edges(),function(T){return P.edge(T).cutvalue<0})}function w(P,T,W){var Q=W.v,nt=W.w;T.hasEdge(Q,nt)||(Q=W.w,nt=W.v);var st=P.node(Q),et=P.node(nt),_=st,Y=!1;st.lim>et.lim&&(_=et,Y=!0);var $=f.filter(T.edges(),function(q){return Y===B(P,P.node(q.v),_)&&Y!==B(P,P.node(q.w),_)});return f.minBy($,function(q){return g(T,q)})}function N(P,T,W,Q){var nt=W.v,st=W.w;P.removeEdge(nt,st),P.setEdge(Q.v,Q.w,{}),D(P),x(P,T),z(P,T)}function z(P,T){var W=f.find(P.nodes(),function(nt){return!T.node(nt).parent}),Q=E(P,W);Q=Q.slice(1),f.forEach(Q,function(nt){var st=P.node(nt).parent,et=T.edge(nt,st),_=!1;et||(et=T.edge(st,nt),_=!0),T.node(nt).rank=T.node(st).rank+(_?et.minlen:-et.minlen)})}function V(P,T,W){return P.hasEdge(T,W)}function B(P,T,W){return W.low<=T.lim&&T.lim<=W.lim}},dPRQ:function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=0,i=0,g=0,p=1e3,E,S,A=0,M=0,x=0,O=typeof performance=="object"&&performance.now?performance:Date,C=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(T){setTimeout(T,17)};function D(){return M||(C(R),M=O.now()+x)}function R(){M=0}function y(){this._call=this._time=this._next=null}y.prototype=w.prototype={constructor:y,restart:function(W,Q,nt){if(typeof W!="function")throw new TypeError("callback is not a function");nt=(nt==null?D():+nt)+(Q==null?0:+Q),!this._next&&S!==this&&(S?S._next=this:E=this,S=this),this._call=W,this._time=nt,P()},stop:function(){this._call&&(this._call=null,this._time=Infinity,P())}};function w(T,W,Q){var nt=new y;return nt.restart(T,W,Q),nt}function N(){D(),++f;for(var T=E,W;T;)(W=M-T._time)>=0&&T._call.call(null,W),T=T._next;--f}function z(){M=(A=O.now())+x,f=i=0;try{N()}finally{f=0,B(),M=0}}function V(){var T=O.now(),W=T-A;W>p&&(x-=W,A=T)}function B(){for(var T,W=E,Q,nt=Infinity;W;)W._call?(nt>W._time&&(nt=W._time),T=W,W=W._next):(Q=W._next,W._next=null,W=T?T._next=Q:E=Q);S=T,P(nt)}function P(T){if(!f){i&&(i=clearTimeout(i));var W=T-M;W>24?(T<Infinity&&(i=setTimeout(z,T-O.now()-x)),g&&(g=clearInterval(g))):(g||(A=O.now(),g=setInterval(V,p)),f=1,C(z))}}},dQpi:function(Ft,I,a){var f=a("yGk4"),i=a("vN+2"),g=a("rEGp"),p=1/0,E=f&&1/g(new f([,-0]))[1]==p?function(S){return new f(S)}:i;Ft.exports=E},dTAl:function(Ft,I,a){var f=a("GoyQ"),i=Object.create,g=function(){function p(){}return function(E){if(!f(E))return{};if(i)return i(E);p.prototype=E;var S=new p;return p.prototype=void 0,S}}();Ft.exports=g},dX1H:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Target=void 0;var f=a("xfSm"),i=a("d9O0"),g=a("GXnB"),p=a("zxMA"),E=function(){function S(A,M,x,O){this.id=i.id(),this.type=A,this.serviceIdentifier=x,this.name=new p.QueryableString(M||""),this.metadata=new Array;var C=null;typeof O=="string"?C=new g.Metadata(f.NAMED_TAG,O):O instanceof g.Metadata&&(C=O),C!==null&&this.metadata.push(C)}return S.prototype.hasTag=function(A){for(var M=0,x=this.metadata;M<x.length;M++){var O=x[M];if(O.key===A)return!0}return!1},S.prototype.isArray=function(){return this.hasTag(f.MULTI_INJECT_TAG)},S.prototype.matchesArray=function(A){return this.matchesTag(f.MULTI_INJECT_TAG)(A)},S.prototype.isNamed=function(){return this.hasTag(f.NAMED_TAG)},S.prototype.isTagged=function(){return this.metadata.some(function(A){return f.NON_CUSTOM_TAG_KEYS.every(function(M){return A.key!==M})})},S.prototype.isOptional=function(){return this.matchesTag(f.OPTIONAL_TAG)(!0)},S.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(A){return A.key===f.NAMED_TAG})[0]:null},S.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(A){return f.NON_CUSTOM_TAG_KEYS.every(function(M){return A.key!==M})}):null},S.prototype.matchesNamedTag=function(A){return this.matchesTag(f.NAMED_TAG)(A)},S.prototype.matchesTag=function(A){var M=this;return function(x){for(var O=0,C=M.metadata;O<C.length;O++){var D=C[O];if(D.key===A&&D.value===x)return!0}return!1}},S}();I.Target=E},de35:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("fIp6"),g=a("iTfj"),p=a("5UbV"),E=a("NmWf"),S=function(A){Object(f.c)(M,A);function M(){return A!==null&&A.apply(this,arguments)||this}return M.prototype.getDefaultCfg=function(){var x=A.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},x),{container:null,containerTpl:"<div></div>",updateAutoRender:!0,containerClassName:"",parent:null})},M.prototype.getContainer=function(){return this.get("container")},M.prototype.show=function(){var x=this.get("container");x.style.display="",this.set("visible",!0)},M.prototype.hide=function(){var x=this.get("container");x.style.display="none",this.set("visible",!1)},M.prototype.setCapture=function(x){var O=this.getContainer(),C=x?"auto":"none";O.style.pointerEvents=C,this.set("capture",x)},M.prototype.getBBox=function(){var x=this.getContainer(),O=parseFloat(x.style.left)||0,C=parseFloat(x.style.top)||0;return Object(p.b)(O,C,x.clientWidth,x.clientHeight)},M.prototype.clear=function(){var x=this.get("container");Object(p.a)(x)},M.prototype.destroy=function(){this.removeEvent(),this.removeDom(),A.prototype.destroy.call(this)},M.prototype.init=function(){A.prototype.init.call(this),this.initContainer(),this.initDom(),this.resetStyles(),this.applyStyles(),this.initEvent(),this.initCapture(),this.initVisible()},M.prototype.initCapture=function(){this.setCapture(this.get("capture"))},M.prototype.initVisible=function(){this.get("visible")?this.show():this.hide()},M.prototype.initDom=function(){},M.prototype.initContainer=function(){var x=this.get("container");if(Object(g.I)(x)){x=this.createDom();var O=this.get("parent");Object(g.O)(O)&&(O=document.getElementById(O),this.set("parent",O)),O.appendChild(x),this.set("container",x)}else Object(g.O)(x)&&(x=document.getElementById(x),this.set("container",x));this.get("parent")||this.set("parent",x.parentNode)},M.prototype.resetStyles=function(){var x=this.get("domStyles"),O=this.get("defaultStyles");x?x=Object(g.h)({},O,x):x=O,this.set("domStyles",x)},M.prototype.applyStyles=function(){var x=this.get("domStyles");if(!!x){var O=this.getContainer();this.applyChildrenStyles(O,x);var C=this.get("containerClassName");if(C&&Object(p.h)(O,C)){var D=x[C];Object(i.e)(O,D)}}},M.prototype.applyChildrenStyles=function(x,O){Object(g.j)(O,function(C,D){var R=x.getElementsByClassName(D);Object(g.j)(R,function(y){Object(i.e)(y,C)})})},M.prototype.applyStyle=function(x,O){var C=this.get("domStyles");Object(i.e)(O,C[x])},M.prototype.createDom=function(){var x=this.get("containerTpl");return Object(i.b)(x)},M.prototype.initEvent=function(){},M.prototype.removeDom=function(){var x=this.get("container");x&&x.parentNode&&x.parentNode.removeChild(x)},M.prototype.removeEvent=function(){},M.prototype.updateInner=function(x){Object(g.x)(x,"domStyles")&&(this.resetStyles(),this.applyStyles()),this.resetPosition()},M.prototype.resetPosition=function(){},M}(E.a);I.a=S},doU7:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingCount=void 0;var f={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};I.BindingCount=f},dt0z:function(Ft,I,a){var f=a("zoYe");function i(g){return g==null?"":f(g)}Ft.exports=i},dunj:function(Ft,I,a){var f=a("/9aa");function i(g,p,E){for(var S=-1,A=g.length;++S<A;){var M=g[S],x=p(M);if(x!=null&&(O===void 0?x===x&&!f(x):E(x,O)))var O=x,C=M}return C}Ft.exports=i},dxzI:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.AsyncContainerModule=I.ContainerModule=void 0;var f=a("d9O0"),i=function(){function p(E){this.id=f.id(),this.registry=E}return p}();I.ContainerModule=i;var g=function(){function p(E){this.id=f.id(),this.registry=E}return p}();I.AsyncContainerModule=g},e0ae:function(Ft,I,a){"use strict";(function(f){a.d(I,"a",function(){return R});var i=function(){for(var P=0,T=0,W=arguments.length;T<W;T++)P+=arguments[T].length;for(var Q=Array(P),nt=0,T=0;T<W;T++)for(var st=arguments[T],et=0,_=st.length;et<_;et++,nt++)Q[nt]=st[et];return Q},g=function(){function P(T,W,Q){this.name=T,this.version=W,this.os=Q,this.type="browser"}return P}(),p=function(){function P(T){this.version=T,this.type="node",this.name="node",this.os=f.platform}return P}(),E=function(){function P(T,W,Q,nt){this.name=T,this.version=W,this.os=Q,this.bot=nt,this.type="bot-device"}return P}(),S=function(){function P(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return P}(),A=function(){function P(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return P}(),M=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,x=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,O=3,C=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",M]],D=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function R(P){return P?N(P):typeof document=="undefined"&&typeof navigator!="undefined"&&navigator.product==="ReactNative"?new A:typeof navigator!="undefined"?N(navigator.userAgent):V()}function y(P){return P!==""&&C.reduce(function(T,W){var Q=W[0],nt=W[1];if(T)return T;var st=nt.exec(P);return!!st&&[Q,st]},!1)}function w(P){var T=y(P);return T?T[0]:null}function N(P){var T=y(P);if(!T)return null;var W=T[0],Q=T[1];if(W==="searchbot")return new S;var nt=Q[1]&&Q[1].split(/[._]/).slice(0,3);nt?nt.length<O&&(nt=i(nt,B(O-nt.length))):nt=[];var st=nt.join("."),et=z(P),_=x.exec(P);return _&&_[1]?new E(W,st,et,_[1]):new g(W,st,et)}function z(P){for(var T=0,W=D.length;T<W;T++){var Q=D[T],nt=Q[0],st=Q[1],et=st.exec(P);if(et)return nt}return null}function V(){var P=typeof f!="undefined"&&f.version;return P?new p(f.version.slice(1)):null}function B(P){for(var T=[],W=0;W<P;W++)T.push("0");return T}}).call(this,a("Q2Ig"))},eHqw:function(Ft,I,a){"use strict";a.d(I,"a",function(){return $});var f=a("mrSG"),i=a("zJSt"),g=a("KMYG"),p=a("w02o"),E=a("YuPD"),S=a("iTfj"),A=a("9Fwm"),M=a("NzZ7");function x(q,at){if(!!Object(S.B)(q))return q.find(function(pt){return pt.type===at})}function O(q,at){var pt=x(q,at);return pt&&pt.enable!==!1}function C(q){var at=q.interactions["treemap-drill-down"];if(!!at){var pt=at.context.actions.find(function(mt){return mt.name==="treemap-drill-down-action"});pt.reset()}}function D(q,at){var pt=x(q,"treemap-drill-down");return pt?q.map(function(mt){return mt.type==="treemap-drill-down"?Object(E.b)({},mt,{cfg:{hierarchyConfig:at}}):mt}):q}function R(q){var at=q.data,pt=q.colorField,mt=q.enableDrillDown,ot=q.hierarchyConfig,xt=Object(M.a)(at,Object(f.a)(Object(f.a)({},ot),{type:"hierarchy.treemap",field:"value",as:["x","y"]})),It=[];return xt.forEach(function(Ht){if(Ht.depth===0||mt&&Ht.depth!==1||!mt&&Ht.children)return null;var Qt=Ht.ancestors().map(function(ft){return{data:ft.data,height:ft.height,value:ft.value}}),$t=mt&&Object(S.B)(at.path)?Qt.concat(at.path.slice(1)):Qt,yt=Object.assign({},Ht.data,{x:Ht.x,y:Ht.y,depth:Ht.depth,value:Ht.value,path:$t});if(!Ht.data[pt]&&Ht.parent){var ut=Ht.ancestors().find(function(ft){return ft.data[pt]});yt[pt]=ut==null?void 0:ut.data[pt]}else yt[pt]=Ht.data[pt];It.push(yt)}),It}function y(q){var at=Object(A.a)(q),pt=25;return[at[0],at[1],at[2]+pt,at[3]]}function w(q){var at=q.options,pt=at.colorField;return Object(E.b)({options:{colorField:"name",rectStyle:{lineWidth:1,stroke:"#fff"},hierarchyConfig:{tile:"treemapSquarify"},label:{fields:["name"],layout:{type:"limit-in-shape"}},tooltip:{showMarkers:!1,showTitle:!1,fields:["name","value",pt,"path"],formatter:function(ot){return{name:ot.name,value:ot.value}}}}},q)}function N(q){var at=q.chart,pt=q.options,mt=pt.color,ot=pt.colorField,xt=pt.rectStyle,It=pt.hierarchyConfig,Ht=R({data:pt.data,colorField:pt.colorField,enableDrillDown:O(pt.interactions,"treemap-drill-down"),hierarchyConfig:It});return at.data(Ht),Object(g.a)(Object(E.b)({},q,{options:{xField:"x",yField:"y",seriesField:ot,rawFields:["value"],polygon:{color:mt,style:xt}}})),at.coordinate().reflect("y"),q}function z(q){var at=q.chart;return at.axis(!1),q}function V(q){var at=q.chart,pt=q.options,mt=pt.interactions,ot=pt.hierarchyConfig;Object(p.c)({chart:at,options:{interactions:D(mt,ot)}});var xt=x(mt,"view-zoom");xt&&(xt.enable!==!1?at.getCanvas().on("mousewheel",function(Ht){Ht.preventDefault()}):at.getCanvas().off("mousewheel"));var It=O(mt,"treemap-drill-down");return It&&(at.appendPadding=y(at.appendPadding)),q}function B(q){return Object(E.e)(w,N,z,p.j,p.d,p.k,V,p.a,Object(p.b)())(q)}var P=a("kXyF"),T=a("MpV0"),W=4,Q=0,nt=5,st={name:"treemap-bread-crumb",rootText:"\u521D\u59CB",dividerText:"/",textStyle:{fontSize:12,fill:"rgba(0, 0, 0, 0.65)",cursor:"pointer"},activeStyle:{fill:"#87B5FF"}},et=function(q){Object(f.c)(at,q);function at(){var pt=q!==null&&q.apply(this,arguments)||this;return pt.historyCache=null,pt.breadCrumbGroup=null,pt.breadCrumbCfg=st,pt}return at.prototype.getButtonCfg=function(){return Object(T.a)(this.breadCrumbCfg,this.cfg)},at.prototype.drill=function(pt){var mt=this.getButtonCfg(),ot=this.context.view,xt=ot.getData(),It=ot.getGroupScales(),Ht=Object(S.s)(ot,["interactions","treemap-drill-down","cfg","hierarchyConfig"],{});this.historyCache||(this.historyCache=[{name:mt.rootText,children:xt}]);var Qt=R({data:pt,colorField:Object(S.s)(It,[0,"field"]),enableDrillDown:!0,hierarchyConfig:Ht});ot.changeData(Qt),this.historyCache.push({name:pt.name,children:Qt})},at.prototype.drawBreadCrumb=function(){this.drawBreadCrumbGroup(),this.resetPosition(),this.breadCrumbGroup.show()},at.prototype.drawBreadCrumbGroup=function(){var pt=this,mt=this.getButtonCfg(),ot=this.historyCache;this.breadCrumbGroup?this.breadCrumbGroup.clear():this.breadCrumbGroup=this.context.view.foregroundGroup.addGroup({name:mt.name});var xt=0;ot.forEach(function(It,Ht){var Qt=pt.breadCrumbGroup.addShape({type:"text",name:mt.name+"_"+It.name+"_text",attrs:Object(f.a)(Object(f.a)({text:It.name},mt.textStyle),{x:xt,y:0})}),$t=Qt.getBBox();if(xt+=$t.width+W,Qt.on("click",function(){var ft=ot.slice(0,Ht+1);pt.back(ft)}),Qt.on("mouseenter",function(){Qt.attr(mt.activeStyle)}),Qt.on("mouseleave",function(){Qt.attr(mt.textStyle)}),Ht<ot.length-1){var yt=pt.breadCrumbGroup.addShape({type:"text",name:mt.name+"_"+It.name+"_divider",attrs:Object(f.a)(Object(f.a)({text:mt.dividerText},mt.textStyle),{x:xt,y:0})}),ut=yt.getBBox();xt+=ut.width+W}})},at.prototype.resetPosition=function(){if(!!this.breadCrumbGroup){var pt=this.context.view,mt=pt.getCoordinate(),ot=mt.convert({x:0,y:1}),xt=this.breadCrumbGroup,It=xt.getBBox(),Ht=P.Util.transform(null,[["t",ot.x+Q,ot.y+It.height+nt]]);xt.setMatrix(Ht)}},at.prototype.hideCrumbGroup=function(){this.breadCrumbGroup&&this.breadCrumbGroup.hide()},at.prototype.click=function(){var pt=Object(S.s)(this.context,["event","data","data"]);if(!pt)return!1;this.drill(pt),this.drawBreadCrumb()},at.prototype.back=function(pt){var mt=this.context.view;if(!(!Object(S.B)(this.historyCache)||this.historyCache.length<=0)){this.historyCache=pt;var ot=pt[pt.length-1].children;mt.changeData(ot),pt.length>1?this.drawBreadCrumb():this.hideCrumbGroup()}},at.prototype.reset=function(){this.historyCache=null,this.hideCrumbGroup()},at.prototype.destroy=function(){this.breadCrumbGroup&&this.breadCrumbGroup.remove(),q.prototype.destroy.call(this)},at}(P.Action);function _(q){var at=Object(S.s)(q,["event","data","data"],{});return Object(S.B)(at.children)&&at.children.length>0&&at.depth===1}Object(P.registerAction)("treemap-drill-down-action",et),Object(P.registerInteraction)("treemap-drill-down",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:pointer"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"element:click",isEnable:_,action:["treemap-drill-down-action:click"]},{trigger:"afterchangesize",action:["treemap-drill-down-action:resetPosition"]}]});var Y=a("hag6"),$=function(q){Object(f.c)(at,q);function at(){var pt=q!==null&&q.apply(this,arguments)||this;return pt.type="treemap",pt}return at.prototype.changeData=function(pt){var mt=this.options,ot=mt.colorField,xt=mt.interactions,It=mt.hierarchyConfig;this.updateOption({data:pt});var Ht=R({data:pt,colorField:ot,enableDrillDown:O(xt,"treemap-drill-down"),hierarchyConfig:It});this.chart.changeData(Ht),C(this.chart)},at.prototype.getSchemaAdaptor=function(){return B},at}(i.b)},eUgh:function(Ft,I){function a(f,i){for(var g=-1,p=f==null?0:f.length,E=Array(p);++g<p;)E[g]=i(f[g],g,f);return E}Ft.exports=a},epwv:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("ptHe"),g=a("Re5C"),p=a("C4tZ"),E=a("tQ6r").normalizeRanks,S=a("8c2E"),A=a("tQ6r").removeEmptyRanks,M=a("JRpN"),x=a("Ig6t"),O=a("qGSU"),C=a("Kp9H"),D=a("IyW0"),R=a("tQ6r"),y=a("F9We").Graph;Ft.exports=w;function w(ut,ft){var it=ft&&ft.debugTiming?R.time:R.notime;it("layout",function(){var vt=it("  buildLayoutGraph",function(){return et(ut)});it("  runLayout",function(){N(vt,it)}),it("  updateInputGraph",function(){z(ut,vt)})})}function N(ut,ft){ft("    makeSpaceForEdgeLabels",function(){_(ut)}),ft("    removeSelfEdges",function(){It(ut)}),ft("    acyclic",function(){i.run(ut)}),ft("    nestingGraph.run",function(){M.run(ut)}),ft("    rank",function(){p(R.asNonCompoundGraph(ut))}),ft("    injectEdgeLabelProxies",function(){Y(ut)}),ft("    removeEmptyRanks",function(){A(ut)}),ft("    nestingGraph.cleanup",function(){M.cleanup(ut)}),ft("    normalizeRanks",function(){E(ut)}),ft("    assignRankMinMax",function(){$(ut)}),ft("    removeEdgeLabelProxies",function(){q(ut)}),ft("    normalize.run",function(){g.run(ut)}),ft("    parentDummyChains",function(){S(ut)}),ft("    addBorderSegments",function(){x(ut)}),ft("    order",function(){C(ut)}),ft("    insertSelfEdges",function(){Ht(ut)}),ft("    adjustCoordinateSystem",function(){O.adjust(ut)}),ft("    position",function(){D(ut)}),ft("    positionSelfEdges",function(){Qt(ut)}),ft("    removeBorderNodes",function(){xt(ut)}),ft("    normalize.undo",function(){g.undo(ut)}),ft("    fixupEdgeLabelCoords",function(){mt(ut)}),ft("    undoCoordinateSystem",function(){O.undo(ut)}),ft("    translateGraph",function(){at(ut)}),ft("    assignNodeIntersects",function(){pt(ut)}),ft("    reversePoints",function(){ot(ut)}),ft("    acyclic.undo",function(){i.undo(ut)})}function z(ut,ft){f.forEach(ut.nodes(),function(it){var vt=ut.node(it),Wt=ft.node(it);vt&&(vt.x=Wt.x,vt.y=Wt.y,ft.children(it).length&&(vt.width=Wt.width,vt.height=Wt.height))}),f.forEach(ut.edges(),function(it){var vt=ut.edge(it),Wt=ft.edge(it);vt.points=Wt.points,f.has(Wt,"x")&&(vt.x=Wt.x,vt.y=Wt.y)}),ut.graph().width=ft.graph().width,ut.graph().height=ft.graph().height}var V=["nodesep","edgesep","ranksep","marginx","marginy"],B={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},P=["acyclicer","ranker","rankdir","align"],T=["width","height"],W={width:0,height:0},Q=["minlen","weight","width","height","labeloffset"],nt={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},st=["labelpos"];function et(ut){var ft=new y({multigraph:!0,compound:!0}),it=yt(ut.graph());return ft.setGraph(f.merge({},B,$t(it,V),f.pick(it,P))),f.forEach(ut.nodes(),function(vt){var Wt=yt(ut.node(vt));ft.setNode(vt,f.defaults($t(Wt,T),W)),ft.setParent(vt,ut.parent(vt))}),f.forEach(ut.edges(),function(vt){var Wt=yt(ut.edge(vt));ft.setEdge(vt,f.merge({},nt,$t(Wt,Q),f.pick(Wt,st)))}),ft}function _(ut){var ft=ut.graph();ft.ranksep/=2,f.forEach(ut.edges(),function(it){var vt=ut.edge(it);vt.minlen*=2,vt.labelpos.toLowerCase()!=="c"&&(ft.rankdir==="TB"||ft.rankdir==="BT"?vt.width+=vt.labeloffset:vt.height+=vt.labeloffset)})}function Y(ut){f.forEach(ut.edges(),function(ft){var it=ut.edge(ft);if(it.width&&it.height){var vt=ut.node(ft.v),Wt=ut.node(ft.w),Ct={rank:(Wt.rank-vt.rank)/2+vt.rank,e:ft};R.addDummyNode(ut,"edge-proxy",Ct,"_ep")}})}function $(ut){var ft=0;f.forEach(ut.nodes(),function(it){var vt=ut.node(it);vt.borderTop&&(vt.minRank=ut.node(vt.borderTop).rank,vt.maxRank=ut.node(vt.borderBottom).rank,ft=f.max(ft,vt.maxRank))}),ut.graph().maxRank=ft}function q(ut){f.forEach(ut.nodes(),function(ft){var it=ut.node(ft);it.dummy==="edge-proxy"&&(ut.edge(it.e).labelRank=it.rank,ut.removeNode(ft))})}function at(ut){var ft=Number.POSITIVE_INFINITY,it=0,vt=Number.POSITIVE_INFINITY,Wt=0,Ct=ut.graph(),Z=Ct.marginx||0,X=Ct.marginy||0;function dt(H){var lt=H.x,Ot=H.y,Rt=H.width,zt=H.height;ft=Math.min(ft,lt-Rt/2),it=Math.max(it,lt+Rt/2),vt=Math.min(vt,Ot-zt/2),Wt=Math.max(Wt,Ot+zt/2)}f.forEach(ut.nodes(),function(H){dt(ut.node(H))}),f.forEach(ut.edges(),function(H){var lt=ut.edge(H);f.has(lt,"x")&&dt(lt)}),ft-=Z,vt-=X,f.forEach(ut.nodes(),function(H){var lt=ut.node(H);lt.x-=ft,lt.y-=vt}),f.forEach(ut.edges(),function(H){var lt=ut.edge(H);f.forEach(lt.points,function(Ot){Ot.x-=ft,Ot.y-=vt}),f.has(lt,"x")&&(lt.x-=ft),f.has(lt,"y")&&(lt.y-=vt)}),Ct.width=it-ft+Z,Ct.height=Wt-vt+X}function pt(ut){f.forEach(ut.edges(),function(ft){var it=ut.edge(ft),vt=ut.node(ft.v),Wt=ut.node(ft.w),Ct,Z;it.points?(Ct=it.points[0],Z=it.points[it.points.length-1]):(it.points=[],Ct=Wt,Z=vt),it.points.unshift(R.intersectRect(vt,Ct)),it.points.push(R.intersectRect(Wt,Z))})}function mt(ut){f.forEach(ut.edges(),function(ft){var it=ut.edge(ft);if(f.has(it,"x"))switch((it.labelpos==="l"||it.labelpos==="r")&&(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset;break}})}function ot(ut){f.forEach(ut.edges(),function(ft){var it=ut.edge(ft);it.reversed&&it.points.reverse()})}function xt(ut){f.forEach(ut.nodes(),function(ft){if(ut.children(ft).length){var it=ut.node(ft),vt=ut.node(it.borderTop),Wt=ut.node(it.borderBottom),Ct=ut.node(f.last(it.borderLeft)),Z=ut.node(f.last(it.borderRight));it.width=Math.abs(Z.x-Ct.x),it.height=Math.abs(Wt.y-vt.y),it.x=Ct.x+it.width/2,it.y=vt.y+it.height/2}}),f.forEach(ut.nodes(),function(ft){ut.node(ft).dummy==="border"&&ut.removeNode(ft)})}function It(ut){f.forEach(ut.edges(),function(ft){if(ft.v===ft.w){var it=ut.node(ft.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:ft,label:ut.edge(ft)}),ut.removeEdge(ft)}})}function Ht(ut){var ft=R.buildLayerMatrix(ut);f.forEach(ft,function(it){var vt=0;f.forEach(it,function(Wt,Ct){var Z=ut.node(Wt);Z.order=Ct+vt,f.forEach(Z.selfEdges,function(X){R.addDummyNode(ut,"selfedge",{width:X.label.width,height:X.label.height,rank:Z.rank,order:Ct+ ++vt,e:X.e,label:X.label},"_se")}),delete Z.selfEdges})})}function Qt(ut){f.forEach(ut.nodes(),function(ft){var it=ut.node(ft);if(it.dummy==="selfedge"){var vt=ut.node(it.e.v),Wt=vt.x+vt.width/2,Ct=vt.y,Z=it.x-Wt,X=vt.height/2;ut.setEdge(it.e,it.label),ut.removeNode(ft),it.label.points=[{x:Wt+2*Z/3,y:Ct-X},{x:Wt+5*Z/6,y:Ct-X},{x:Wt+Z,y:Ct},{x:Wt+5*Z/6,y:Ct+X},{x:Wt+2*Z/3,y:Ct+X}],it.label.x=it.x,it.label.y=it.y}})}function $t(ut,ft){return f.mapValues(f.pick(ut,ft),Number)}function yt(ut){var ft={};return f.forEach(ut,function(it,vt){ft[vt.toLowerCase()]=it}),ft}},f6Jy:function(Ft,I,a){"use strict";var f="*",i=function(){function g(){this._events={}}return g.prototype.on=function(p,E,S){return this._events[p]||(this._events[p]=[]),this._events[p].push({callback:E,once:!!S}),this},g.prototype.once=function(p,E){return this.on(p,E,!0),this},g.prototype.emit=function(p){for(var E=this,S=[],A=1;A<arguments.length;A++)S[A-1]=arguments[A];var M=this._events[p]||[],x=this._events[f]||[],O=function(D){for(var R=D.length,y=0;y<R;y++)if(!!D[y]){var w=D[y],N=w.callback,z=w.once;z&&(D.splice(y,1),D.length===0&&delete E._events[p],R--,y--),N.apply(E,S)}};O(M),O(x)},g.prototype.off=function(p,E){if(!p)this._events={};else if(!E)delete this._events[p];else{for(var S=this._events[p]||[],A=S.length,M=0;M<A;M++)S[M].callback===E&&(S.splice(M,1),A--,M--);S.length===0&&delete this._events[p]}return this},g.prototype.getEvents=function(){return this._events},g}();I.a=i},fFDA:function(Ft,I,a){"use strict";a.d(I,"a",function(){return et});var f=a("mrSG"),i=a("iTfj"),g=a("MeYt"),p={opacity:0},E={stroke:"#C5C5C5",strokeOpacity:.85},S={fill:"#CACED4",opacity:.85},A=a("LvGN"),M=a("8vsG");function x(Y){return Object(i.U)(Y,function($,q){var at=q===0?"M":"L",pt=$[0],mt=$[1];return[at,pt,mt]})}function O(Y){return x(Y)}function C(Y){if(Y.length<=2)return O(Y);var $=[];Object(i.j)(Y,function(ot){Object(i.G)(ot,$.slice($.length-2))||$.push(ot[0],ot[1])});var q=Object(A.a)($,!1),at=Object(i.y)(Y),pt=at[0],mt=at[1];return q.unshift(["M",pt,mt]),q}function D(Y,$,q,at){at===void 0&&(at=!0);var pt=new M.b({values:Y}),mt=new M.a({values:Object(i.U)(Y,function(xt,It){return It})}),ot=Object(i.U)(Y,function(xt,It){return[mt.scale(It)*$,q-pt.scale(xt)*q]});return at?C(ot):O(ot)}function R(Y,$){var q=new M.b({values:Y}),at=Math.max(0,q.min);return $-q.scale(at)*$}function y(Y,$,q,at){var pt=Object(f.g)(Y),mt=R(at,q);return pt.push(["L",$,mt]),pt.push(["L",0,mt]),pt.push(["Z"]),pt}var w=function(Y){Object(f.c)($,Y);function $(){return Y!==null&&Y.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var q=Y.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},q),{name:"trend",x:0,y:0,width:200,height:16,smooth:!0,isArea:!1,data:[],backgroundStyle:p,lineStyle:E,areaStyle:S})},$.prototype.renderInner=function(q){var at=this.cfg,pt=at.width,mt=at.height,ot=at.data,xt=at.smooth,It=at.isArea,Ht=at.backgroundStyle,Qt=at.lineStyle,$t=at.areaStyle;this.addShape(q,{id:this.getElementId("background"),type:"rect",attrs:Object(f.a)({x:0,y:0,width:pt,height:mt},Ht)});var yt=D(ot,pt,mt,xt);if(this.addShape(q,{id:this.getElementId("line"),type:"path",attrs:Object(f.a)({path:yt},Qt)}),It){var ut=y(yt,pt,mt,ot);this.addShape(q,{id:this.getElementId("area"),type:"path",attrs:Object(f.a)({path:ut},$t)})}},$.prototype.applyOffset=function(){var q=this.cfg,at=q.x,pt=q.y;this.moveElementTo(this.get("group"),{x:at,y:pt})},$}(g.a),N=w,z={fill:"#F7F7F7",stroke:"#BFBFBF",radius:2,opacity:1,cursor:"ew-resize",highLightFill:"#FFF"},V=function(Y){Object(f.c)($,Y);function $(){return Y!==null&&Y.apply(this,arguments)||this}return $.prototype.getDefaultCfg=function(){var q=Y.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},q),{name:"handler",x:0,y:0,width:10,height:24,style:z})},$.prototype.renderInner=function(q){var at=this.cfg,pt=at.width,mt=at.height,ot=at.style,xt=ot.fill,It=ot.stroke,Ht=ot.radius,Qt=ot.opacity,$t=ot.cursor;this.addShape(q,{type:"rect",id:this.getElementId("background"),attrs:{x:0,y:0,width:pt,height:mt,fill:xt,stroke:It,radius:Ht,opacity:Qt,cursor:$t}});var yt=1/3*pt,ut=2/3*pt,ft=1/4*mt,it=3/4*mt;this.addShape(q,{id:this.getElementId("line-left"),type:"line",attrs:{x1:yt,y1:ft,x2:yt,y2:it,stroke:It,cursor:$t}}),this.addShape(q,{id:this.getElementId("line-right"),type:"line",attrs:{x1:ut,y1:ft,x2:ut,y2:it,stroke:It,cursor:$t}})},$.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},$.prototype.initEvent=function(){this.bindEvents()},$.prototype.bindEvents=function(){var q=this;this.get("group").on("mouseenter",function(){var at=q.get("style").highLightFill;q.getElementByLocalId("background").attr("fill",at),q.draw()}),this.get("group").on("mouseleave",function(){var at=q.get("style").fill;q.getElementByLocalId("background").attr("fill",at),q.draw()})},$.prototype.draw=function(){var q=this.get("container").get("canvas");q&&q.draw()},$}(g.a),B=V,P={fill:"#416180",opacity:.05},T={fill:"#5B8FF9",opacity:.15,cursor:"move"},W=10,Q={width:W,height:24},nt={textBaseline:"middle",fill:"#000",opacity:.45},st="sliderchange",et=function(Y){Object(f.c)($,Y);function $(){var q=Y!==null&&Y.apply(this,arguments)||this;return q.onMouseDown=function(at){return function(pt){q.currentTarget=at;var mt=pt.originalEvent;mt.stopPropagation(),mt.preventDefault(),q.prevX=Object(i.s)(mt,"touches.0.pageX",mt.pageX),q.prevY=Object(i.s)(mt,"touches.0.pageY",mt.pageY);var ot=q.getContainerDOM();ot.addEventListener("mousemove",q.onMouseMove),ot.addEventListener("mouseup",q.onMouseUp),ot.addEventListener("mouseleave",q.onMouseUp),ot.addEventListener("touchmove",q.onMouseMove),ot.addEventListener("touchend",q.onMouseUp),ot.addEventListener("touchcancel",q.onMouseUp)}},q.onMouseMove=function(at){var pt=q.cfg.width,mt=[q.get("start"),q.get("end")];at.stopPropagation(),at.preventDefault();var ot=Object(i.s)(at,"touches.0.pageX",at.pageX),xt=Object(i.s)(at,"touches.0.pageY",at.pageY),It=ot-q.prevX,Ht=q.adjustOffsetRange(It/pt);q.updateStartEnd(Ht),q.updateUI(q.getElementByLocalId("foreground"),q.getElementByLocalId("minText"),q.getElementByLocalId("maxText")),q.prevX=ot,q.prevY=xt,q.draw(),q.emit(st,[q.get("start"),q.get("end")].sort()),q.delegateEmit("valuechanged",{originValue:mt,value:[q.get("start"),q.get("end")]})},q.onMouseUp=function(){q.currentTarget&&(q.currentTarget=void 0);var at=q.getContainerDOM();at&&(at.removeEventListener("mousemove",q.onMouseMove),at.removeEventListener("mouseup",q.onMouseUp),at.removeEventListener("mouseleave",q.onMouseUp),at.removeEventListener("touchmove",q.onMouseMove),at.removeEventListener("touchend",q.onMouseUp),at.removeEventListener("touchcancel",q.onMouseUp))},q}return $.prototype.setRange=function(q,at){this.set("minLimit",q),this.set("maxLimit",at);var pt=this.get("start"),mt=this.get("end"),ot=Object(i.c)(pt,q,at),xt=Object(i.c)(mt,q,at);!this.get("isInit")&&(pt!==ot||mt!==xt)&&this.setValue([ot,xt])},$.prototype.getRange=function(){return{min:this.get("minLimit")||0,max:this.get("maxLimit")||1}},$.prototype.setValue=function(q){var at=this.getRange();if(Object(i.B)(q)&&q.length===2){var pt=[this.get("start"),this.get("end")];this.update({start:Object(i.c)(q[0],at.min,at.max),end:Object(i.c)(q[1],at.min,at.max)}),this.get("updateAutoRender")||this.render(),this.delegateEmit("valuechanged",{originValue:pt,value:q})}},$.prototype.getValue=function(){return[this.get("start"),this.get("end")]},$.prototype.getDefaultCfg=function(){var q=Y.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},q),{name:"slider",x:0,y:0,width:100,height:16,backgroundStyle:{},foregroundStyle:{},handlerStyle:{},textStyle:{},defaultCfg:{backgroundStyle:P,foregroundStyle:T,handlerStyle:Q,textStyle:nt}})},$.prototype.update=function(q){var at=q.start,pt=q.end,mt=Object(f.a)({},q);Object(i.I)(at)||(mt.start=Object(i.c)(at,0,1)),Object(i.I)(pt)||(mt.end=Object(i.c)(pt,0,1)),Y.prototype.update.call(this,mt),this.minHandler=this.getChildComponentById(this.getElementId("minHandler")),this.maxHandler=this.getChildComponentById(this.getElementId("maxHandler")),this.trend=this.getChildComponentById(this.getElementId("trend"))},$.prototype.init=function(){this.set("start",Object(i.c)(this.get("start"),0,1)),this.set("end",Object(i.c)(this.get("end"),0,1)),Y.prototype.init.call(this)},$.prototype.render=function(){Y.prototype.render.call(this),this.updateUI(this.getElementByLocalId("foreground"),this.getElementByLocalId("minText"),this.getElementByLocalId("maxText"))},$.prototype.renderInner=function(q){var at=this.cfg,pt=at.start,mt=at.end,ot=at.width,xt=at.height,It=at.trendCfg,Ht=It===void 0?{}:It,Qt=at.minText,$t=at.maxText,yt=at.backgroundStyle,ut=yt===void 0?{}:yt,ft=at.foregroundStyle,it=ft===void 0?{}:ft,vt=at.textStyle,Wt=vt===void 0?{}:vt,Ct=Object(i.h)({},z,this.cfg.handlerStyle),Z=pt*ot,X=mt*ot;Object(i.jb)(Object(i.s)(Ht,"data"))&&(this.trend=this.addComponent(q,Object(f.a)({component:w,id:this.getElementId("trend"),x:0,y:0,width:ot,height:xt},Ht))),this.addShape(q,{id:this.getElementId("background"),type:"rect",attrs:Object(f.a)({x:0,y:0,width:ot,height:xt},ut)});var dt=this.addShape(q,{id:this.getElementId("minText"),type:"text",attrs:Object(f.a)({y:xt/2,textAlign:"right",text:Qt,silent:!1},Wt)}),H=this.addShape(q,{id:this.getElementId("maxText"),type:"text",attrs:Object(f.a)({y:xt/2,textAlign:"left",text:$t,silent:!1},Wt)}),lt=this.addShape(q,{id:this.getElementId("foreground"),name:"foreground",type:"rect",attrs:Object(f.a)({y:0,height:xt},it)}),Ot=Object(i.s)(Ct,"width",W),Rt=Object(i.s)(Ct,"height",24);this.minHandler=this.addComponent(q,{component:V,id:this.getElementId("minHandler"),name:"handler-min",x:0,y:(xt-Rt)/2,width:Ot,height:Rt,cursor:"ew-resize",style:Ct}),this.maxHandler=this.addComponent(q,{component:V,id:this.getElementId("maxHandler"),name:"handler-max",x:0,y:(xt-Rt)/2,width:Ot,height:Rt,cursor:"ew-resize",style:Ct})},$.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x"),y:this.get("y")})},$.prototype.initEvent=function(){this.bindEvents()},$.prototype.updateUI=function(q,at,pt){var mt=this.cfg,ot=mt.start,xt=mt.end,It=mt.width,Ht=mt.minText,Qt=mt.maxText,$t=mt.handlerStyle,yt=mt.height,ut=ot*It,ft=xt*It;this.trend&&(this.trend.update({width:It,height:yt}),this.get("updateAutoRender")||this.trend.render()),q.attr("x",ut),q.attr("width",ft-ut);var it=Object(i.s)($t,"width",W);at.attr("text",Ht),pt.attr("text",Qt);var vt=this._dodgeText([ut,ft],at,pt),Wt=vt[0],Ct=vt[1];this.minHandler&&(this.minHandler.update({x:ut-it/2}),this.get("updateAutoRender")||this.minHandler.render()),Object(i.j)(Wt,function(Z,X){return at.attr(X,Z)}),this.maxHandler&&(this.maxHandler.update({x:ft-it/2}),this.get("updateAutoRender")||this.maxHandler.render()),Object(i.j)(Ct,function(Z,X){return pt.attr(X,Z)})},$.prototype.bindEvents=function(){var q=this.get("group");q.on("handler-min:mousedown",this.onMouseDown("minHandler")),q.on("handler-min:touchstart",this.onMouseDown("minHandler")),q.on("handler-max:mousedown",this.onMouseDown("maxHandler")),q.on("handler-max:touchstart",this.onMouseDown("maxHandler"));var at=q.findById(this.getElementId("foreground"));at.on("mousedown",this.onMouseDown("foreground")),at.on("touchstart",this.onMouseDown("foreground"))},$.prototype.adjustOffsetRange=function(q){var at=this.cfg,pt=at.start,mt=at.end;switch(this.currentTarget){case"minHandler":{var ot=0-pt,xt=1-pt;return Math.min(xt,Math.max(ot,q))}case"maxHandler":{var ot=0-mt,xt=1-mt;return Math.min(xt,Math.max(ot,q))}case"foreground":{var ot=0-pt,xt=1-mt;return Math.min(xt,Math.max(ot,q))}}},$.prototype.updateStartEnd=function(q){var at=this.cfg,pt=at.start,mt=at.end;switch(this.currentTarget){case"minHandler":pt+=q;break;case"maxHandler":mt+=q;break;case"foreground":pt+=q,mt+=q;break}this.set("start",pt),this.set("end",mt)},$.prototype._dodgeText=function(q,at,pt){var mt,ot,xt=this.cfg,It=xt.handlerStyle,Ht=xt.width,Qt=2,$t=Object(i.s)(It,"width",W),yt=q[0],ut=q[1],ft=!1;yt>ut&&(mt=[ut,yt],yt=mt[0],ut=mt[1],ot=[pt,at],at=ot[0],pt=ot[1],ft=!0);var it=at.getBBox(),vt=pt.getBBox(),Wt=it.width>yt-Qt?{x:yt+$t/2+Qt,textAlign:"left"}:{x:yt-$t/2-Qt,textAlign:"right"},Ct=vt.width>Ht-ut-Qt?{x:ut-$t/2-Qt,textAlign:"right"}:{x:ut+$t/2+Qt,textAlign:"left"};return ft?[Ct,Wt]:[Wt,Ct]},$.prototype.draw=function(){var q=this.get("container"),at=q&&q.get("canvas");at&&at.draw()},$.prototype.getContainerDOM=function(){var q=this.get("container"),at=q&&q.get("canvas");return at&&at.get("container")},$}(g.a),_=et},fIp6:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return A}),a.d(I,"c",function(){return O}),a.d(I,"d",function(){return D}),a.d(I,"e",function(){return y});function f(w,N,z){if(w){if(typeof w.addEventListener=="function")return w.addEventListener(N,z,!1),{remove:function(){w.removeEventListener(N,z,!1)}};if(typeof w.attachEvent=="function")return w.attachEvent("on"+N,z),{remove:function(){w.detachEvent("on"+N,z)}}}}var i,g,p,E;function S(){i=document.createElement("table"),g=document.createElement("tr"),p=/^\s*<(\w+|!)[^>]*>/,E={tr:document.createElement("tbody"),tbody:i,thead:i,tfoot:i,td:g,th:g,"*":document.createElement("div")}}function A(w){i||S();var N=p.test(w)&&RegExp.$1;(!N||!(N in E))&&(N="*");var z=E[N];w=w.replace(/(^\s*)|(\s*$)/g,""),z.innerHTML=""+w;var V=z.childNodes[0];return z.removeChild(V),V}function M(w,N,z){var V;try{V=window.getComputedStyle?window.getComputedStyle(w,null)[N]:w.style[N]}catch(B){}finally{V=V===void 0?z:V}return V}function x(w,N){var z=M(w,"height",N);return z==="auto"&&(z=w.offsetHeight),parseFloat(z)}function O(w,N){var z=x(w,N),V=parseFloat(M(w,"borderTopWidth"))||0,B=parseFloat(M(w,"paddingTop"))||0,P=parseFloat(M(w,"paddingBottom"))||0,T=parseFloat(M(w,"borderBottomWidth"))||0,W=parseFloat(M(w,"marginTop"))||0,Q=parseFloat(M(w,"marginBottom"))||0;return z+V+T+B+P+W+Q}function C(w,N){var z=M(w,"width",N);return z==="auto"&&(z=w.offsetWidth),parseFloat(z)}function D(w,N){var z=C(w,N),V=parseFloat(M(w,"borderLeftWidth"))||0,B=parseFloat(M(w,"paddingLeft"))||0,P=parseFloat(M(w,"paddingRight"))||0,T=parseFloat(M(w,"borderRightWidth"))||0,W=parseFloat(M(w,"marginRight"))||0,Q=parseFloat(M(w,"marginLeft"))||0;return z+V+T+B+P+Q+W}function R(){return window.devicePixelRatio?window.devicePixelRatio:2}function y(w,N){if(w)for(var z in N)N.hasOwnProperty(z)&&(w.style[z]=N[z]);return w}},fP0w:function(Ft,I,a){"use strict";a.r(I),a.d(I,"Line",function(){return Qt}),a.d(I,"Circle",function(){return yt}),a.d(I,"Base",function(){return R});var f={};a.r(f),a.d(f,"getDefault",function(){return N}),a.d(f,"ellipsisHead",function(){return z}),a.d(f,"ellipsisTail",function(){return V}),a.d(f,"ellipsisMiddle",function(){return B});var i={};a.r(i),a.d(i,"getDefault",function(){return et}),a.d(i,"reserveFirst",function(){return _}),a.d(i,"reserveLast",function(){return Y}),a.d(i,"reserveBoth",function(){return $}),a.d(i,"equidistance",function(){return q}),a.d(i,"equidistanceWithReverseBoth",function(){return at});var g={};a.r(g),a.d(g,"getDefault",function(){return ot}),a.d(g,"fixedAngle",function(){return xt}),a.d(g,"unfixedAngle",function(){return It});var p={};a.r(p),a.d(p,"autoHide",function(){return i}),a.d(p,"autoRotate",function(){return g}),a.d(p,"autoEllipsis",function(){return f});var E=a("mrSG"),S=a("6JdA"),A=a("iTfj"),M=a("MeYt"),x=a("jqgP"),O=a("l3hu"),C=a("L16w"),D=function(ut){Object(E.c)(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=ut.prototype.getDefaultCfg.call(this);return Object(E.a)(Object(E.a)({},it),{name:"axis",ticks:[],line:{},tickLine:{},subTickLine:null,title:null,label:{},verticalFactor:1,verticalLimitLength:null,overlapOrder:["autoRotate","autoEllipsis","autoHide"],tickStates:{},optimize:{},defaultCfg:{line:{style:{lineWidth:1,stroke:C.a.lineColor}},tickLine:{style:{lineWidth:1,stroke:C.a.lineColor},alignTick:!0,length:5,displayWithLabel:!0},subTickLine:{style:{lineWidth:1,stroke:C.a.lineColor},count:4,length:2},label:{autoRotate:!0,autoHide:!1,autoEllipsis:!1,style:{fontSize:12,fill:C.a.textColor,fontFamily:C.a.fontFamily,fontWeight:"normal"},offset:10},title:{autoRotate:!0,spacing:5,position:"center",style:{fontSize:12,fill:C.a.textColor,textBaseline:"middle",fontFamily:C.a.fontFamily,textAlign:"center"}},tickStates:{active:{labelStyle:{fontWeight:500},tickLineStyle:{lineWidth:2}},inactive:{labelStyle:{fill:C.a.uncheckedColor}}},optimize:{enable:!0,threshold:400}},theme:{}})},ft.prototype.renderInner=function(it){this.get("line")&&this.drawLine(it),this.drawTicks(it),this.get("title")&&this.drawTitle(it)},ft.prototype.isList=function(){return!0},ft.prototype.getItems=function(){return this.get("ticks")},ft.prototype.setItems=function(it){this.update({ticks:it})},ft.prototype.updateItem=function(it,vt){Object(A.bb)(it,vt),this.clear(),this.render()},ft.prototype.clearItems=function(){var it=this.getElementByLocalId("label-group");it&&it.clear()},ft.prototype.setItemState=function(it,vt,Wt){it[vt]=Wt,this.updateTickStates(it)},ft.prototype.hasState=function(it,vt){return!!it[vt]},ft.prototype.getItemStates=function(it){var vt=this.get("tickStates"),Wt=[];return Object(A.j)(vt,function(Ct,Z){it[Z]&&Wt.push(Z)}),Wt},ft.prototype.clearItemsState=function(it){var vt=this,Wt=this.getItemsByState(it);Object(A.j)(Wt,function(Ct){vt.setItemState(Ct,it,!1)})},ft.prototype.getItemsByState=function(it){var vt=this,Wt=this.getItems();return Object(A.l)(Wt,function(Ct){return vt.hasState(Ct,it)})},ft.prototype.getSidePoint=function(it,vt){var Wt=this,Ct=Wt.getSideVector(vt,it);return{x:it.x+Ct[0],y:it.y+Ct[1]}},ft.prototype.getTextAnchor=function(it){var vt;return Object(A.L)(it[0],0)?vt="center":it[0]>0?vt="start":it[0]<0&&(vt="end"),vt},ft.prototype.getTextBaseline=function(it){var vt;return Object(A.L)(it[1],0)?vt="middle":it[1]>0?vt="top":it[1]<0&&(vt="bottom"),vt},ft.prototype.processOverlap=function(it){},ft.prototype.drawLine=function(it){var vt=this.getLinePath(),Wt=this.get("line");this.addShape(it,{type:"path",id:this.getElementId("line"),name:"axis-line",attrs:Object(A.bb)({path:vt},Wt.style)})},ft.prototype.getTickLineItems=function(it){var vt=this,Wt=[],Ct=this.get("tickLine"),Z=Ct.alignTick,X=Ct.length,dt=1,H=it.length;return H>=2&&(dt=it[1].value-it[0].value),Object(A.j)(it,function(lt){var Ot=lt.point;Z||(Ot=vt.getTickPoint(lt.value-dt/2));var Rt=vt.getSidePoint(Ot,X);Wt.push({startPoint:Ot,tickValue:lt.value,endPoint:Rt,tickId:lt.id,id:"tickline-"+lt.id})}),Wt},ft.prototype.getSubTickLineItems=function(it){var vt=[],Wt=this.get("subTickLine"),Ct=Wt.count,Z=it.length;if(Z>=2)for(var X=0;X<Z-1;X++)for(var dt=it[X],H=it[X+1],lt=0;lt<Ct;lt++){var Ot=(lt+1)/(Ct+1),Rt=(1-Ot)*dt.tickValue+Ot*H.tickValue,zt=this.getTickPoint(Rt),Bt=this.getSidePoint(zt,Wt.length);vt.push({startPoint:zt,endPoint:Bt,tickValue:Rt,id:"sub-"+dt.id+"-"+lt})}return vt},ft.prototype.getTickLineAttrs=function(it,vt,Wt,Ct){var Z=this.get(vt).style,X={points:[it.startPoint,it.endPoint]},dt=Object(A.s)(this.get("theme"),["tickLine","style"],{});Z=Object(A.H)(Z)?Object(A.bb)({},dt,Z(X,Wt,Ct)):Z;var H=it.startPoint,lt=it.endPoint;return Object(E.a)({x1:H.x,y1:H.y,x2:lt.x,y2:lt.y},Z)},ft.prototype.drawTick=function(it,vt,Wt,Ct,Z){this.addShape(vt,{type:"line",id:this.getElementId(it.id),name:"axis-"+Wt,attrs:this.getTickLineAttrs(it,Wt,Ct,Z)})},ft.prototype.drawTickLines=function(it){var vt=this,Wt=this.get("ticks"),Ct=this.get("subTickLine"),Z=this.getTickLineItems(Wt),X=this.addGroup(it,{name:"axis-tickline-group",id:this.getElementId("tickline-group")}),dt=this.get("tickLine");if(Object(A.j)(Z,function(lt,Ot){if(dt.displayWithLabel){var Rt=vt.getElementId("label-"+lt.tickId);it.findById(Rt)&&vt.drawTick(lt,X,"tickLine",Ot,Z)}else vt.drawTick(lt,X,"tickLine",Ot,Z)}),Ct){var H=this.getSubTickLineItems(Z);Object(A.j)(H,function(lt,Ot){vt.drawTick(lt,X,"subTickLine",Ot,H)})}},ft.prototype.processTicks=function(){var it=this,vt=this.get("ticks");Object(A.j)(vt,function(Wt){Wt.point=it.getTickPoint(Wt.value),Object(A.I)(Wt.id)&&(Wt.id=Wt.name)})},ft.prototype.drawTicks=function(it){var vt=this;this.optimizeTicks(),this.processTicks(),this.get("label")&&this.drawLabels(it),this.get("tickLine")&&this.drawTickLines(it);var Wt=this.get("ticks");Object(A.j)(Wt,function(Ct){vt.applyTickStates(Ct,it)})},ft.prototype.optimizeTicks=function(){var it=this.get("optimize"),vt=this.get("ticks");if(it&&it.enable&&it.threshold>0){var Wt=Object(A.jb)(vt);if(Wt>it.threshold){var Ct=Math.ceil(Wt/it.threshold),Z=vt.filter(function(X,dt){return dt%Ct==0});this.set("ticks",Z),this.set("originalTicks",vt)}}},ft.prototype.getLabelAttrs=function(it,vt,Wt){var Ct=this.get("label"),Z=Ct.offset,X=Ct.rotate,dt=Ct.formatter,H=this.getSidePoint(it.point,Z),lt=this.getSideVector(Z,H),Ot=dt?dt(it.name,it,vt):it.name,Rt=Ct.style;Rt=Object(A.H)(Rt)?Object(A.s)(this.get("theme"),["label","style"],{}):Rt;var zt=Object(A.bb)({x:H.x,y:H.y,text:Ot,textAlign:this.getTextAnchor(lt),textBaseline:this.getTextBaseline(lt)},Rt);return X&&(zt.matrix=Object(x.e)(H,X)),zt},ft.prototype.drawLabels=function(it){var vt=this,Wt=this.get("ticks"),Ct=this.addGroup(it,{name:"axis-label-group",id:this.getElementId("label-group")});Object(A.j)(Wt,function(Rt,zt){vt.addShape(Ct,{type:"text",name:"axis-label",id:vt.getElementId("label-"+Rt.id),attrs:vt.getLabelAttrs(Rt,zt,Wt),delegateObject:{tick:Rt,item:Rt,index:zt}})}),this.processOverlap(Ct);var Z=Ct.getChildren(),X=Object(A.s)(this.get("theme"),["label","style"],{}),dt=this.get("label"),H=dt.style,lt=dt.formatter;if(Object(A.H)(H)){var Ot=Z.map(function(Rt){return Object(A.s)(Rt.get("delegateObject"),"tick")});Object(A.j)(Z,function(Rt,zt){var Bt=Rt.get("delegateObject").tick,tt=lt?lt(Bt.name,Bt,zt):Bt.name,J=Object(A.bb)({},X,H(tt,zt,Ot));Rt.attr(J)})}},ft.prototype.getTitleAttrs=function(){var it=this.get("title"),vt=it.style,Wt=it.position,Ct=it.offset,Z=it.spacing,X=Z===void 0?0:Z,dt=it.autoRotate,H=vt.fontSize,lt=.5;Wt==="start"?lt=0:Wt==="end"&&(lt=1);var Ot=this.getTickPoint(lt),Rt=this.getSidePoint(Ot,Ct||X+H/2),zt=Object(A.bb)({x:Rt.x,y:Rt.y,text:it.text},vt),Bt=it.rotate,tt=Bt;if(Object(A.I)(Bt)&&dt){var J=this.getAxisVector(Ot),G=[1,0];tt=S.a.angleTo(J,G,!0)}if(tt){var Et=Object(x.e)(Rt,tt);zt.matrix=Et}return zt},ft.prototype.drawTitle=function(it){this.addShape(it,{type:"text",id:this.getElementId("title"),name:"axis-title",attrs:this.getTitleAttrs()})},ft.prototype.applyTickStates=function(it,vt){var Wt=this.getItemStates(it);if(Wt.length){var Ct=this.get("tickStates"),Z=this.getElementId("label-"+it.id),X=vt.findById(Z);if(X){var dt=Object(O.a)(it,"label",Ct);dt&&X.attr(dt)}var H=this.getElementId("tickline-"+it.id),lt=vt.findById(H);if(lt){var Ot=Object(O.a)(it,"tickLine",Ct);Ot&&lt.attr(Ot)}}},ft.prototype.updateTickStates=function(it){var vt=this.getItemStates(it),Wt=this.get("tickStates"),Ct=this.get("label"),Z=this.getElementByLocalId("label-"+it.id),X=this.get("tickLine"),dt=this.getElementByLocalId("tickline-"+it.id);if(vt.length){if(Z){var H=Object(O.a)(it,"label",Wt);H&&Z.attr(H)}if(dt){var lt=Object(O.a)(it,"tickLine",Wt);lt&&dt.attr(lt)}}else Z&&Z.attr(Ct.style),dt&&dt.attr(X.style)},ft}(M.a),R=D,y=a("BgvD");function w(ut,ft,it,vt){var Wt=ft.getChildren(),Ct=!1;return Object(A.j)(Wt,function(Z){var X=Object(y.a)(ut,Z,it,vt);Ct=Ct||X}),Ct}function N(){return V}function z(ut,ft,it){return w(ut,ft,it,"head")}function V(ut,ft,it){return w(ut,ft,it,"tail")}function B(ut,ft,it){return w(ut,ft,it,"middle")}var P=a("5UbV");function T(ut){var ft=ut.attr("matrix");return ft&&ft[0]!==1}function W(ut){var ft=T(ut)?Object(x.d)(ut.attr("matrix")):0;return ft%360}function Q(ut,ft,it,vt){var Wt=!1,Ct=W(ft),Z=Math.abs(ut?it.attr("y")-ft.attr("y"):it.attr("x")-ft.attr("x")),X=(ut?it.attr("y")>ft.attr("y"):it.attr("x")>ft.attr("x"))?ft.getBBox():it.getBBox();if(ut){var dt=Math.abs(Math.cos(Ct));Object(P.i)(dt,0,Math.PI/180)?Wt=X.width+vt>Z:Wt=X.height/dt+vt>Z}else{var dt=Math.abs(Math.sin(Ct));Object(P.i)(dt,0,Math.PI/180)?Wt=X.width+vt>Z:Wt=X.height/dt+vt>Z}return Wt}function nt(ut,ft,it,vt){var Wt=(vt==null?void 0:vt.minGap)||0,Ct=ft.getChildren().slice().filter(function(Bt){return Bt.get("visible")});if(!Ct.length)return!1;var Z=!1;it&&Ct.reverse();for(var X=Ct.length,dt=Ct[0],H=dt,lt=1;lt<X;lt++){var Ot=Ct[lt],Rt=Ot.getBBox(),zt=Q(ut,H,Ot,Wt);zt?(Ot.hide(),Z=!0):H=Ot}return Z}function st(ut,ft,it){var vt=(it==null?void 0:it.minGap)||0,Wt=ft.getChildren().slice();if(Wt.length<2)return!1;var Ct=!1,Z=Wt[0],X=Z.getBBox(),dt=Wt[1],H=Wt.length,lt=W(Z),Ot=Math.abs(ut?dt.attr("y")-Z.attr("y"):dt.attr("x")-Z.attr("x")),Rt=0;if(ut){var zt=Math.abs(Math.cos(lt));if(Object(P.i)(zt,0,Math.PI/180)){var Bt=Object(y.b)(Wt);Rt=(Bt+vt)/Ot}else Rt=(X.height/zt+vt)/Ot}else{var zt=Math.abs(Math.sin(lt));if(Object(P.i)(zt,0,Math.PI/180)){var Bt=Object(y.b)(Wt);Rt=(Bt+vt)/Ot}else Rt=(X.height/zt+vt)/Ot}if(Rt>1){Rt=Math.ceil(Rt);for(var tt=0;tt<H;tt++)tt%Rt!=0&&(Wt[tt].hide(),Ct=!0)}return Ct}function et(){return q}function _(ut,ft,it,vt){return nt(ut,ft,!1,vt)}function Y(ut,ft,it,vt){return nt(ut,ft,!0,vt)}function $(ut,ft,it,vt){var Wt=(vt==null?void 0:vt.minGap)||0,Ct=ft.getChildren().slice();if(Ct.length<=2)return!1;for(var Z=!1,X=Ct.length,dt=Ct[0],H=Ct[X-1],lt=dt,Ot=1;Ot<X-1;Ot++){var Rt=Ct[Ot],zt=Rt.getBBox(),Bt=Q(ut,lt,Rt,Wt);Bt?(Rt.hide(),Z=!0):lt=Rt}var tt=Q(ut,lt,H,Wt);return tt&&(lt.hide(),Z=!0),Z}function q(ut,ft,it,vt){var Wt=st(ut,ft,vt);return nt(ut,ft,!1)&&(Wt=!0),Wt}function at(ut,ft,it,vt){var Wt=ft.getChildren().slice(),Ct=st(ut,ft,vt);if(Wt.length>2){var Z=Wt[0],X=Wt[Wt.length-1];Z.get("visible")||(Z.show(),nt(ut,ft,!1,vt)&&(Ct=!0)),X.get("visible")||(X.show(),nt(ut,ft,!0,vt)&&(Ct=!0))}return Ct}function pt(ut,ft){Object(A.j)(ut,function(it){var vt=it.attr("x"),Wt=it.attr("y"),Ct=Object(x.e)({x:vt,y:Wt},ft);it.attr("matrix",Ct)})}function mt(ut,ft,it,vt){var Wt=ft.getChildren();if(!Wt.length||!ut&&Wt.length<2)return!1;var Ct=Object(y.b)(Wt),Z=!1;if(ut)Z=!!it&&Ct>it;else{var X=Math.abs(Wt[1].attr("x")-Wt[0].attr("x"));Z=Ct>X}if(Z){var dt=vt(it,Ct);pt(Wt,dt)}return Z}function ot(){return xt}function xt(ut,ft,it,vt){return mt(ut,ft,it,function(){return Object(A.K)(vt)?vt:ut?C.a.verticalAxisRotate:C.a.horizontalAxisRotate})}function It(ut,ft,it){return mt(ut,ft,it,function(vt,Wt){if(!vt)return ut?C.a.verticalAxisRotate:C.a.horizontalAxisRotate;if(ut)return-Math.acos(vt/Wt);var Ct=0;return vt>Wt?Ct=Math.PI/4:(Ct=Math.asin(vt/Wt),Ct>Math.PI/4&&(Ct=Math.PI/4)),Ct})}var Ht=function(ut){Object(E.c)(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=ut.prototype.getDefaultCfg.call(this);return Object(E.a)(Object(E.a)({},it),{type:"line",locationType:"region",start:null,end:null})},ft.prototype.getLinePath=function(){var it=this.get("start"),vt=this.get("end"),Wt=[];return Wt.push(["M",it.x,it.y]),Wt.push(["L",vt.x,vt.y]),Wt},ft.prototype.getInnerLayoutBBox=function(){var it=this.get("start"),vt=this.get("end"),Wt=ut.prototype.getInnerLayoutBBox.call(this),Ct=Math.min(it.x,vt.x,Wt.x),Z=Math.min(it.y,vt.y,Wt.y),X=Math.max(it.x,vt.x,Wt.maxX),dt=Math.max(it.y,vt.y,Wt.maxY);return{x:Ct,y:Z,minX:Ct,minY:Z,maxX:X,maxY:dt,width:X-Ct,height:dt-Z}},ft.prototype.isVertical=function(){var it=this.get("start"),vt=this.get("end");return Object(A.L)(it.x,vt.x)},ft.prototype.isHorizontal=function(){var it=this.get("start"),vt=this.get("end");return Object(A.L)(it.y,vt.y)},ft.prototype.getTickPoint=function(it){var vt=this,Wt=vt.get("start"),Ct=vt.get("end"),Z=Ct.x-Wt.x,X=Ct.y-Wt.y;return{x:Wt.x+Z*it,y:Wt.y+X*it}},ft.prototype.getSideVector=function(it){var vt=this.getAxisVector(),Wt=S.c.normalize([0,0],vt),Ct=this.get("verticalFactor"),Z=[Wt[1],Wt[0]*-1];return S.c.scale([0,0],Z,it*Ct)},ft.prototype.getAxisVector=function(){var it=this.get("start"),vt=this.get("end");return[vt.x-it.x,vt.y-it.y]},ft.prototype.processOverlap=function(it){var vt=this,Wt=this.isVertical(),Ct=this.isHorizontal();if(!(!Wt&&!Ct)){var Z=this.get("label"),X=this.get("title"),dt=this.get("verticalLimitLength"),H=Z.offset,lt=dt,Ot=0,Rt=0;X&&(Ot=X.style.fontSize,Rt=X.spacing),lt&&(lt=lt-H-Rt-Ot);var zt=this.get("overlapOrder");if(Object(A.j)(zt,function(J){Z[J]&&vt.canProcessOverlap(J)&&vt.autoProcessOverlap(J,Z[J],it,lt)}),X&&Object(A.I)(X.offset)){var Bt=it.getCanvasBBox(),tt=Wt?Bt.width:Bt.height;X.offset=H+tt+Rt+Ot/2}}},ft.prototype.canProcessOverlap=function(it){var vt=this.get("label");return it==="autoRotate"?Object(A.I)(vt.rotate):!0},ft.prototype.autoProcessOverlap=function(it,vt,Wt,Ct){var Z=this,X=this.isVertical(),dt=!1,H=p[it];if(vt===!0){var lt=this.get("label");dt=H.getDefault()(X,Wt,Ct)}else if(Object(A.H)(vt))dt=vt(X,Wt,Ct);else if(Object(A.M)(vt)){var Ot=vt;H[Ot.type]&&(dt=H[Ot.type](X,Wt,Ct,Ot.cfg))}else H[vt]&&(dt=H[vt](X,Wt,Ct));if(it==="autoRotate"){if(dt){var Rt=Wt.getChildren(),zt=this.get("verticalFactor");Object(A.j)(Rt,function(tt){var J=tt.attr("textAlign");if(J==="center"){var G=zt>0?"end":"start";tt.attr("textAlign",G)}})}}else if(it==="autoHide"){var Bt=Wt.getChildren().slice(0);Object(A.j)(Bt,function(tt){tt.get("visible")||(Z.get("isRegister")&&Z.unregisterElement(tt),tt.remove())})}},ft}(R),Qt=Ht,$t=function(ut){Object(E.c)(ft,ut);function ft(){return ut!==null&&ut.apply(this,arguments)||this}return ft.prototype.getDefaultCfg=function(){var it=ut.prototype.getDefaultCfg.call(this);return Object(E.a)(Object(E.a)({},it),{type:"circle",locationType:"circle",center:null,radius:null,startAngle:-Math.PI/2,endAngle:Math.PI*3/2})},ft.prototype.getLinePath=function(){var it=this.get("center"),vt=it.x,Wt=it.y,Ct=this.get("radius"),Z=Ct,X=this.get("startAngle"),dt=this.get("endAngle"),H=[];if(Math.abs(dt-X)===Math.PI*2)H=[["M",vt,Wt-Z],["A",Ct,Z,0,1,1,vt,Wt+Z],["A",Ct,Z,0,1,1,vt,Wt-Z],["Z"]];else{var lt=this.getCirclePoint(X),Ot=this.getCirclePoint(dt),Rt=Math.abs(dt-X)>Math.PI?1:0,zt=X>dt?0:1;H=[["M",vt,Wt],["L",lt.x,lt.y],["A",Ct,Z,0,Rt,zt,Ot.x,Ot.y],["L",vt,Wt]]}return H},ft.prototype.getTickPoint=function(it){var vt=this.get("startAngle"),Wt=this.get("endAngle"),Ct=vt+(Wt-vt)*it;return this.getCirclePoint(Ct)},ft.prototype.getSideVector=function(it,vt){var Wt=this.get("center"),Ct=[vt.x-Wt.x,vt.y-Wt.y],Z=this.get("verticalFactor"),X=S.c.length(Ct);return S.c.scale(Ct,Ct,Z*it/X),Ct},ft.prototype.getAxisVector=function(it){var vt=this.get("center"),Wt=[it.x-vt.x,it.y-vt.y];return[Wt[1],-1*Wt[0]]},ft.prototype.getCirclePoint=function(it,vt){var Wt=this.get("center");return vt=vt||this.get("radius"),{x:Wt.x+Math.cos(it)*vt,y:Wt.y+Math.sin(it)*vt}},ft}(R),yt=$t},fWQN:function(Ft,I,a){"use strict";a.r(I),a.d(I,"default",function(){return f});function f(i,g){if(!(i instanceof g))throw new TypeError("Cannot call a class as a function")}},fbrv:function(Ft,I,a){"use strict";var f=this&&this.__spreadArray||function(w,N){for(var z=0,V=N.length,B=w.length;z<V;z++,B++)w[B]=N[z];return w};Object.defineProperty(I,"__esModule",{value:!0}),I.getFunctionName=I.getBaseClassDependencyCount=I.getDependencies=void 0;var i=a("Yk9n"),g=a("MON2"),p=a("FV85"),E=a("xfSm"),S=a("ujMp");Object.defineProperty(I,"getFunctionName",{enumerable:!0,get:function(){return S.getFunctionName}});var A=a("dX1H");function M(w,N){var z=S.getFunctionName(N),V=x(w,z,N,!1);return V}I.getDependencies=M;function x(w,N,z,V){var B=w.getConstructorMetadata(z),P=B.compilerGeneratedMetadata;if(P===void 0){var T=g.MISSING_INJECTABLE_ANNOTATION+" "+N+".";throw new Error(T)}var W=B.userGeneratedMetadata,Q=Object.keys(W),nt=z.length===0&&Q.length>0,st=Q.length>z.length,et=nt||st?Q.length:z.length,_=C(V,N,P,W,et),Y=D(w,z),$=f(f([],_),Y);return $}function O(w,N,z,V,B){var P=B[w.toString()]||[],T=y(P),W=T.unmanaged!==!0,Q=V[w],nt=T.inject||T.multiInject;if(Q=nt||Q,Q instanceof i.LazyServiceIdentifer&&(Q=Q.unwrap()),W){var st=Q===Object,et=Q===Function,_=Q===void 0,Y=st||et||_;if(!N&&Y){var $=g.MISSING_INJECT_ANNOTATION+" argument "+w+" in class "+z+".";throw new Error($)}var q=new A.Target(p.TargetTypeEnum.ConstructorArgument,T.targetName,Q);return q.metadata=P,q}return null}function C(w,N,z,V,B){for(var P=[],T=0;T<B;T++){var W=T,Q=O(W,w,N,z,V);Q!==null&&P.push(Q)}return P}function D(w,N){for(var z=w.getPropertiesMetadata(N),V=[],B=Object.keys(z),P=0,T=B;P<T.length;P++){var W=T[P],Q=z[W],nt=y(z[W]),st=nt.targetName||W,et=nt.inject||nt.multiInject,_=new A.Target(p.TargetTypeEnum.ClassProperty,st,et);_.metadata=Q,V.push(_)}var Y=Object.getPrototypeOf(N.prototype).constructor;if(Y!==Object){var $=D(w,Y);V=f(f([],V),$)}return V}function R(w,N){var z=Object.getPrototypeOf(N.prototype).constructor;if(z!==Object){var V=S.getFunctionName(z),B=x(w,V,z,!0),P=B.map(function(Q){return Q.metadata.filter(function(nt){return nt.key===E.UNMANAGED_TAG})}),T=[].concat.apply([],P).length,W=B.length-T;return W>0?W:R(w,z)}else return 0}I.getBaseClassDependencyCount=R;function y(w){var N={};return w.forEach(function(z){N[z.key.toString()]=z.value}),{inject:N[E.INJECT_TAG],multiInject:N[E.MULTI_INJECT_TAG],targetName:N[E.NAME_TAG],unmanaged:N[E.UNMANAGED_TAG]}}},fbvF:function(Ft,I,a){(function(f,i){Ft.exports=i()})(this,function(){"use strict";var f=function(ge){return ge instanceof Uint8Array||ge instanceof Uint16Array||ge instanceof Uint32Array||ge instanceof Int8Array||ge instanceof Int16Array||ge instanceof Int32Array||ge instanceof Float32Array||ge instanceof Float64Array||ge instanceof Uint8ClampedArray},i=function(ge,ze){for(var Dr=Object.keys(ze),$r=0;$r<Dr.length;++$r)ge[Dr[$r]]=ze[Dr[$r]];return ge},g=`
`;function p(ie){return typeof atob!="undefined"?atob(ie):"base64:"+ie}function E(ie){var ge=new Error("(regl) "+ie);throw console.error(ge),ge}function S(ie,ge){ie||E(ge)}function A(ie){return ie?": "+ie:""}function M(ie,ge,ze){ie in ge||E("unknown parameter ("+ie+")"+A(ze)+". possible values: "+Object.keys(ge).join())}function x(ie,ge){f(ie)||E("invalid parameter type"+A(ge)+". must be a typed array")}function O(ie,ge){switch(ge){case"number":return typeof ie=="number";case"object":return typeof ie=="object";case"string":return typeof ie=="string";case"boolean":return typeof ie=="boolean";case"function":return typeof ie=="function";case"undefined":return typeof ie=="undefined";case"symbol":return typeof ie=="symbol"}}function C(ie,ge,ze){O(ie,ge)||E("invalid parameter type"+A(ze)+". expected "+ge+", got "+typeof ie)}function D(ie,ge){ie>=0&&(ie|0)===ie||E("invalid parameter type, ("+ie+")"+A(ge)+". must be a nonnegative integer")}function R(ie,ge,ze){ge.indexOf(ie)<0&&E("invalid value"+A(ze)+". must be one of: "+ge)}var y=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function w(ie){Object.keys(ie).forEach(function(ge){y.indexOf(ge)<0&&E('invalid regl constructor argument "'+ge+'". must be one of '+y)})}function N(ie,ge){for(ie=ie+"";ie.length<ge;)ie=" "+ie;return ie}function z(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function V(ie,ge){this.number=ie,this.line=ge,this.errors=[]}function B(ie,ge,ze){this.file=ie,this.line=ge,this.message=ze}function P(){var ie=new Error,ge=(ie.stack||ie).toString(),ze=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ge);if(ze)return ze[1];var Dr=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ge);return Dr?Dr[1]:"unknown"}function T(){var ie=new Error,ge=(ie.stack||ie).toString(),ze=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ge);if(ze)return ze[1];var Dr=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ge);return Dr?Dr[1]:"unknown"}function W(ie,ge){var ze=ie.split(`
`),Dr=1,$r=0,kr={unknown:new z,0:new z};kr.unknown.name=kr[0].name=ge||P(),kr.unknown.lines.push(new V(0,""));for(var Pr=0;Pr<ze.length;++Pr){var pn=ze[Pr],jn=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(pn);if(jn)switch(jn[1]){case"line":var An=/(\d+)(\s+\d+)?/.exec(jn[2]);An&&(Dr=An[1]|0,An[2]&&($r=An[2]|0,$r in kr||(kr[$r]=new z)));break;case"define":var En=/SHADER_NAME(_B64)?\s+(.*)$/.exec(jn[2]);En&&(kr[$r].name=En[1]?p(En[2]):En[2]);break}kr[$r].lines.push(new V(Dr++,pn))}return Object.keys(kr).forEach(function(Ln){var $n=kr[Ln];$n.lines.forEach(function(Nn){$n.index[Nn.number]=Nn})}),kr}function Q(ie){var ge=[];return ie.split(`
`).forEach(function(ze){if(!(ze.length<5)){var Dr=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(ze);Dr?ge.push(new B(Dr[1]|0,Dr[2]|0,Dr[3].trim())):ze.length>0&&ge.push(new B("unknown",0,ze))}}),ge}function nt(ie,ge){ge.forEach(function(ze){var Dr=ie[ze.file];if(Dr){var $r=Dr.index[ze.line];if($r){$r.errors.push(ze),Dr.hasErrors=!0;return}}ie.unknown.hasErrors=!0,ie.unknown.lines[0].errors.push(ze)})}function st(ie,ge,ze,Dr,$r){if(!ie.getShaderParameter(ge,ie.COMPILE_STATUS)){var kr=ie.getShaderInfoLog(ge),Pr=Dr===ie.FRAGMENT_SHADER?"fragment":"vertex";pt(ze,"string",Pr+" shader source must be a string",$r);var pn=W(ze,$r),jn=Q(kr);nt(pn,jn),Object.keys(pn).forEach(function(An){var En=pn[An];if(!En.hasErrors)return;var Ln=[""],$n=[""];function Nn(Mn,Mr){Ln.push(Mn),$n.push(Mr||"")}Nn("file number "+An+": "+En.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),En.lines.forEach(function(Mn){if(Mn.errors.length>0){Nn(N(Mn.number,4)+"|  ","background-color:yellow; font-weight:bold"),Nn(Mn.line+g,"color:red; background-color:yellow; font-weight:bold");var Mr=0;Mn.errors.forEach(function(Tr){var xn=Tr.message,Vn=/^\s*'(.*)'\s*:\s*(.*)$/.exec(xn);if(Vn){var Kr=Vn[1];switch(xn=Vn[2],Kr){case"assign":Kr="=";break}Mr=Math.max(Mn.line.indexOf(Kr,Mr),0)}else Mr=0;Nn(N("| ",6)),Nn(N("^^^",Mr+3)+g,"font-weight:bold"),Nn(N("| ",6)),Nn(xn+g,"font-weight:bold")}),Nn(N("| ",6)+g)}else Nn(N(Mn.number,4)+"|  "),Nn(Mn.line+g,"color:red")}),typeof document!="undefined"&&!window.chrome?($n[0]=Ln.join("%c"),console.log.apply(console,$n)):console.log(Ln.join(""))}),S.raise("Error compiling "+Pr+" shader, "+pn[0].name)}}function et(ie,ge,ze,Dr,$r){if(!ie.getProgramParameter(ge,ie.LINK_STATUS)){var kr=ie.getProgramInfoLog(ge),Pr=W(ze,$r),pn=W(Dr,$r),jn='Error linking program with vertex shader, "'+pn[0].name+'", and fragment shader "'+Pr[0].name+'"';typeof document!="undefined"?console.log("%c"+jn+g+"%c"+kr,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(jn+g+kr),S.raise(jn)}}function _(ie){ie._commandRef=P()}function Y(ie,ge,ze,Dr){_(ie);function $r(jn){return jn?Dr.id(jn):0}ie._fragId=$r(ie.static.frag),ie._vertId=$r(ie.static.vert);function kr(jn,An){Object.keys(An).forEach(function(En){jn[Dr.id(En)]=!0})}var Pr=ie._uniformSet={};kr(Pr,ge.static),kr(Pr,ge.dynamic);var pn=ie._attributeSet={};kr(pn,ze.static),kr(pn,ze.dynamic),ie._hasCount="count"in ie.static||"count"in ie.dynamic||"elements"in ie.static||"elements"in ie.dynamic}function $(ie,ge){var ze=T();E(ie+" in command "+(ge||P())+(ze==="unknown"?"":" called from "+ze))}function q(ie,ge,ze){ie||$(ge,ze||P())}function at(ie,ge,ze,Dr){ie in ge||$("unknown parameter ("+ie+")"+A(ze)+". possible values: "+Object.keys(ge).join(),Dr||P())}function pt(ie,ge,ze,Dr){O(ie,ge)||$("invalid parameter type"+A(ze)+". expected "+ge+", got "+typeof ie,Dr||P())}function mt(ie){ie()}function ot(ie,ge,ze){ie.texture?R(ie.texture._texture.internalformat,ge,"unsupported texture format for attachment"):R(ie.renderbuffer._renderbuffer.format,ze,"unsupported renderbuffer format for attachment")}var xt=33071,It=9728,Ht=9984,Qt=9985,$t=9986,yt=9987,ut=5120,ft=5121,it=5122,vt=5123,Wt=5124,Ct=5125,Z=5126,X=32819,dt=32820,H=33635,lt=34042,Ot=36193,Rt={};Rt[ut]=Rt[ft]=1,Rt[it]=Rt[vt]=Rt[Ot]=Rt[H]=Rt[X]=Rt[dt]=2,Rt[Wt]=Rt[Ct]=Rt[Z]=Rt[lt]=4;function zt(ie,ge){return ie===dt||ie===X||ie===H?2:ie===lt?4:Rt[ie]*ge}function Bt(ie){return!(ie&ie-1)&&!!ie}function tt(ie,ge,ze){var Dr,$r=ge.width,kr=ge.height,Pr=ge.channels;S($r>0&&$r<=ze.maxTextureSize&&kr>0&&kr<=ze.maxTextureSize,"invalid texture shape"),(ie.wrapS!==xt||ie.wrapT!==xt)&&S(Bt($r)&&Bt(kr),"incompatible wrap mode for texture, both width and height must be power of 2"),ge.mipmask===1?$r!==1&&kr!==1&&S(ie.minFilter!==Ht&&ie.minFilter!==$t&&ie.minFilter!==Qt&&ie.minFilter!==yt,"min filter requires mipmap"):(S(Bt($r)&&Bt(kr),"texture must be a square power of 2 to support mipmapping"),S(ge.mipmask===($r<<1)-1,"missing or incomplete mipmap data")),ge.type===Z&&(ze.extensions.indexOf("oes_texture_float_linear")<0&&S(ie.minFilter===It&&ie.magFilter===It,"filter not supported, must enable oes_texture_float_linear"),S(!ie.genMipmaps,"mipmap generation not supported with float textures"));var pn=ge.images;for(Dr=0;Dr<16;++Dr)if(pn[Dr]){var jn=$r>>Dr,An=kr>>Dr;S(ge.mipmask&1<<Dr,"missing mipmap data");var En=pn[Dr];if(S(En.width===jn&&En.height===An,"invalid shape for mip images"),S(En.format===ge.format&&En.internalformat===ge.internalformat&&En.type===ge.type,"incompatible type for mip image"),!En.compressed)if(En.data){var Ln=Math.ceil(zt(En.type,Pr)*jn/En.unpackAlignment)*En.unpackAlignment;S(En.data.byteLength===Ln*An,"invalid data for image, buffer size is inconsistent with image format")}else En.element||En.copy}else ie.genMipmaps||S((ge.mipmask&1<<Dr)==0,"extra mipmap data");ge.compressed&&S(!ie.genMipmaps,"mipmap generation for compressed images not supported")}function J(ie,ge,ze,Dr){var $r=ie.width,kr=ie.height,Pr=ie.channels;S($r>0&&$r<=Dr.maxTextureSize&&kr>0&&kr<=Dr.maxTextureSize,"invalid texture shape"),S($r===kr,"cube map must be square"),S(ge.wrapS===xt&&ge.wrapT===xt,"wrap mode not supported by cube map");for(var pn=0;pn<ze.length;++pn){var jn=ze[pn];S(jn.width===$r&&jn.height===kr,"inconsistent cube map face shape"),ge.genMipmaps&&(S(!jn.compressed,"can not generate mipmap for compressed textures"),S(jn.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var An=jn.images,En=0;En<16;++En){var Ln=An[En];if(Ln){var $n=$r>>En,Nn=kr>>En;S(jn.mipmask&1<<En,"missing mipmap data"),S(Ln.width===$n&&Ln.height===Nn,"invalid shape for mip images"),S(Ln.format===ie.format&&Ln.internalformat===ie.internalformat&&Ln.type===ie.type,"incompatible type for mip image"),Ln.compressed||(Ln.data?S(Ln.data.byteLength===$n*Nn*Math.max(zt(Ln.type,Pr),Ln.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Ln.element||Ln.copy)}}}}var G=i(S,{optional:mt,raise:E,commandRaise:$,command:q,parameter:M,commandParameter:at,constructor:w,type:C,commandType:pt,isTypedArray:x,nni:D,oneOf:R,shaderError:st,linkError:et,callSite:T,saveCommandRef:_,saveDrawInfo:Y,framebufferFormat:ot,guessCommand:P,texture2D:tt,textureCube:J}),Et=0,Tt=0,ct=5,St=6;function Vt(ie,ge){this.id=Et++,this.type=ie,this.data=ge}function Lt(ie){return ie.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Nt(ie){if(ie.length===0)return[];var ge=ie.charAt(0),ze=ie.charAt(ie.length-1);if(ie.length>1&&ge===ze&&(ge==='"'||ge==="'"))return['"'+Lt(ie.substr(1,ie.length-2))+'"'];var Dr=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(ie);if(Dr)return Nt(ie.substr(0,Dr.index)).concat(Nt(Dr[1])).concat(Nt(ie.substr(Dr.index+Dr[0].length)));var $r=ie.split(".");if($r.length===1)return['"'+Lt(ie)+'"'];for(var kr=[],Pr=0;Pr<$r.length;++Pr)kr=kr.concat(Nt($r[Pr]));return kr}function Zt(ie){return"["+Nt(ie).join("][")+"]"}function oe(ie,ge){return new Vt(ie,Zt(ge+""))}function ue(ie){return typeof ie=="function"&&!ie._reglType||ie instanceof Vt}function Ee(ie,ge){if(typeof ie=="function")return new Vt(Tt,ie);if(typeof ie=="number"||typeof ie=="boolean")return new Vt(ct,ie);if(Array.isArray(ie))return new Vt(St,ie.map(function(ze,Dr){return Ee(ze,ge+"["+Dr+"]")}));if(ie instanceof Vt)return ie;G(!1,"invalid option type in uniform "+ge)}var Te={DynamicVariable:Vt,define:oe,isDynamic:ue,unbox:Ee,accessor:Zt},Se={next:typeof requestAnimationFrame=="function"?function(ie){return requestAnimationFrame(ie)}:function(ie){return setTimeout(ie,16)},cancel:typeof cancelAnimationFrame=="function"?function(ie){return cancelAnimationFrame(ie)}:clearTimeout},$e=typeof performance!="undefined"&&performance.now?function(){return performance.now()}:function(){return+new Date};function cr(){var ie={"":0},ge=[""];return{id:function(Dr){var $r=ie[Dr];return $r||($r=ie[Dr]=ge.length,ge.push(Dr),$r)},str:function(Dr){return ge[Dr]}}}function He(ie,ge,ze){var Dr=document.createElement("canvas");i(Dr.style,{border:0,margin:0,padding:0,top:0,left:0}),ie.appendChild(Dr),ie===document.body&&(Dr.style.position="absolute",i(ie.style,{margin:0,padding:0}));function $r(){var pn=window.innerWidth,jn=window.innerHeight;if(ie!==document.body){var An=ie.getBoundingClientRect();pn=An.right-An.left,jn=An.bottom-An.top}Dr.width=ze*pn,Dr.height=ze*jn,i(Dr.style,{width:pn+"px",height:jn+"px"})}var kr;ie!==document.body&&typeof ResizeObserver=="function"?(kr=new ResizeObserver(function(){setTimeout($r)}),kr.observe(ie)):window.addEventListener("resize",$r,!1);function Pr(){kr?kr.disconnect():window.removeEventListener("resize",$r),ie.removeChild(Dr)}return $r(),{canvas:Dr,onDestroy:Pr}}function _e(ie,ge){function ze(Dr){try{return ie.getContext(Dr,ge)}catch($r){return null}}return ze("webgl")||ze("experimental-webgl")||ze("webgl-experimental")}function ur(ie){return typeof ie.nodeName=="string"&&typeof ie.appendChild=="function"&&typeof ie.getBoundingClientRect=="function"}function jr(ie){return typeof ie.drawArrays=="function"||typeof ie.drawElements=="function"}function Ar(ie){return typeof ie=="string"?ie.split():(G(Array.isArray(ie),"invalid extension array"),ie)}function Ge(ie){return typeof ie=="string"?(G(typeof document!="undefined","not supported outside of DOM"),document.querySelector(ie)):ie}function br(ie){var ge=ie||{},ze,Dr,$r,kr,Pr={},pn=[],jn=[],An=typeof window=="undefined"?1:window.devicePixelRatio,En=!1,Ln=function(Mr){Mr&&G.raise(Mr)},$n=function(){};if(typeof ge=="string"?(G(typeof document!="undefined","selector queries only supported in DOM enviroments"),ze=document.querySelector(ge),G(ze,"invalid query string for element")):typeof ge=="object"?ur(ge)?ze=ge:jr(ge)?(kr=ge,$r=kr.canvas):(G.constructor(ge),"gl"in ge?kr=ge.gl:"canvas"in ge?$r=Ge(ge.canvas):"container"in ge&&(Dr=Ge(ge.container)),"attributes"in ge&&(Pr=ge.attributes,G.type(Pr,"object","invalid context attributes")),"extensions"in ge&&(pn=Ar(ge.extensions)),"optionalExtensions"in ge&&(jn=Ar(ge.optionalExtensions)),"onDone"in ge&&(G.type(ge.onDone,"function","invalid or missing onDone callback"),Ln=ge.onDone),"profile"in ge&&(En=!!ge.profile),"pixelRatio"in ge&&(An=+ge.pixelRatio,G(An>0,"invalid pixel ratio"))):G.raise("invalid arguments to regl"),ze&&(ze.nodeName.toLowerCase()==="canvas"?$r=ze:Dr=ze),!kr){if(!$r){G(typeof document!="undefined","must manually specify webgl context outside of DOM environments");var Nn=He(Dr||document.body,Ln,An);if(!Nn)return null;$r=Nn.canvas,$n=Nn.onDestroy}Pr.premultipliedAlpha===void 0&&(Pr.premultipliedAlpha=!0),kr=_e($r,Pr)}return kr?{gl:kr,canvas:$r,container:Dr,extensions:pn,optionalExtensions:jn,pixelRatio:An,profile:En,onDone:Ln,onDestroy:$n}:($n(),Ln("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function er(ie,ge){var ze={};function Dr(Pr){G.type(Pr,"string","extension name must be string");var pn=Pr.toLowerCase(),jn;try{jn=ze[pn]=ie.getExtension(pn)}catch(An){}return!!jn}for(var $r=0;$r<ge.extensions.length;++$r){var kr=ge.extensions[$r];if(!Dr(kr))return ge.onDestroy(),ge.onDone('"'+kr+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ge.optionalExtensions.forEach(Dr),{extensions:ze,restore:function(){Object.keys(ze).forEach(function(pn){if(ze[pn]&&!Dr(pn))throw new Error("(regl): error restoring extension "+pn)})}}}function nr(ie,ge){for(var ze=Array(ie),Dr=0;Dr<ie;++Dr)ze[Dr]=ge(Dr);return ze}var yr=5120,Rr=5121,an=5122,In=5123,Un=5124,_n=5125,sa=5126;function ci(ie){for(var ge=16;ge<=1<<28;ge*=16)if(ie<=ge)return ge;return 0}function fi(ie){var ge,ze;return ge=(ie>65535)<<4,ie>>>=ge,ze=(ie>255)<<3,ie>>>=ze,ge|=ze,ze=(ie>15)<<2,ie>>>=ze,ge|=ze,ze=(ie>3)<<1,ie>>>=ze,ge|=ze,ge|ie>>1}function pa(){var ie=nr(8,function(){return[]});function ge(kr){var Pr=ci(kr),pn=ie[fi(Pr)>>2];return pn.length>0?pn.pop():new ArrayBuffer(Pr)}function ze(kr){ie[fi(kr.byteLength)>>2].push(kr)}function Dr(kr,Pr){var pn=null;switch(kr){case yr:pn=new Int8Array(ge(Pr),0,Pr);break;case Rr:pn=new Uint8Array(ge(Pr),0,Pr);break;case an:pn=new Int16Array(ge(2*Pr),0,Pr);break;case In:pn=new Uint16Array(ge(2*Pr),0,Pr);break;case Un:pn=new Int32Array(ge(4*Pr),0,Pr);break;case _n:pn=new Uint32Array(ge(4*Pr),0,Pr);break;case sa:pn=new Float32Array(ge(4*Pr),0,Pr);break;default:return null}return pn.length!==Pr?pn.subarray(0,Pr):pn}function $r(kr){ze(kr.buffer)}return{alloc:ge,free:ze,allocType:Dr,freeType:$r}}var ga=pa();ga.zero=pa();var Xi=3408,Ci=3410,Ki=3411,so=3412,co=3413,fo=3414,ya=3415,_a=33901,rr=33902,ir=3379,Ye=3386,tr=34921,Fr=36347,tn=36348,bn=35661,on=35660,Oa=34930,na=36349,wa=34076,da=34024,bi=7936,qa=7937,fa=7938,Aa=35724,Sa=34047,Fa=36063,Ka=34852,hi=3553,me=34067,he=34069,be=33984,Ve=6408,Ke=5126,fr=5121,Lr=36160,_r=36053,ua=36064,ta=16384,Kn=function(ge,ze){var Dr=1;ze.ext_texture_filter_anisotropic&&(Dr=ge.getParameter(Sa));var $r=1,kr=1;ze.webgl_draw_buffers&&($r=ge.getParameter(Ka),kr=ge.getParameter(Fa));var Pr=!!ze.oes_texture_float;if(Pr){var pn=ge.createTexture();ge.bindTexture(hi,pn),ge.texImage2D(hi,0,Ve,1,1,0,Ve,Ke,null);var jn=ge.createFramebuffer();if(ge.bindFramebuffer(Lr,jn),ge.framebufferTexture2D(Lr,ua,hi,pn,0),ge.bindTexture(hi,null),ge.checkFramebufferStatus(Lr)!==_r)Pr=!1;else{ge.viewport(0,0,1,1),ge.clearColor(1,0,0,1),ge.clear(ta);var An=ga.allocType(Ke,4);ge.readPixels(0,0,1,1,Ve,Ke,An),ge.getError()?Pr=!1:(ge.deleteFramebuffer(jn),ge.deleteTexture(pn),Pr=An[0]===1),ga.freeType(An)}}var En=typeof navigator!="undefined"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),Ln=!0;if(!En){var $n=ge.createTexture(),Nn=ga.allocType(fr,36);ge.activeTexture(be),ge.bindTexture(me,$n),ge.texImage2D(he,0,Ve,3,3,0,Ve,fr,Nn),ga.freeType(Nn),ge.bindTexture(me,null),ge.deleteTexture($n),Ln=!ge.getError()}return{colorBits:[ge.getParameter(Ci),ge.getParameter(Ki),ge.getParameter(so),ge.getParameter(co)],depthBits:ge.getParameter(fo),stencilBits:ge.getParameter(ya),subpixelBits:ge.getParameter(Xi),extensions:Object.keys(ze).filter(function(Mn){return!!ze[Mn]}),maxAnisotropic:Dr,maxDrawbuffers:$r,maxColorAttachments:kr,pointSizeDims:ge.getParameter(_a),lineWidthDims:ge.getParameter(rr),maxViewportDims:ge.getParameter(Ye),maxCombinedTextureUnits:ge.getParameter(bn),maxCubeMapSize:ge.getParameter(wa),maxRenderbufferSize:ge.getParameter(da),maxTextureUnits:ge.getParameter(Oa),maxTextureSize:ge.getParameter(ir),maxAttributes:ge.getParameter(tr),maxVertexUniforms:ge.getParameter(Fr),maxVertexTextureUnits:ge.getParameter(on),maxVaryingVectors:ge.getParameter(tn),maxFragmentUniforms:ge.getParameter(na),glsl:ge.getParameter(Aa),renderer:ge.getParameter(qa),vendor:ge.getParameter(bi),version:ge.getParameter(fa),readFloat:Pr,npotTextureCube:Ln}};function ji(ie){return!!ie&&typeof ie=="object"&&Array.isArray(ie.shape)&&Array.isArray(ie.stride)&&typeof ie.offset=="number"&&ie.shape.length===ie.stride.length&&(Array.isArray(ie.data)||f(ie.data))}var Ra=function(ge){return Object.keys(ge).map(function(ze){return ge[ze]})},eo={shape:ro,flatten:we};function Si(ie,ge,ze){for(var Dr=0;Dr<ge;++Dr)ze[Dr]=ie[Dr]}function yo(ie,ge,ze,Dr){for(var $r=0,kr=0;kr<ge;++kr)for(var Pr=ie[kr],pn=0;pn<ze;++pn)Dr[$r++]=Pr[pn]}function Co(ie,ge,ze,Dr,$r,kr){for(var Pr=kr,pn=0;pn<ge;++pn)for(var jn=ie[pn],An=0;An<ze;++An)for(var En=jn[An],Ln=0;Ln<Dr;++Ln)$r[Pr++]=En[Ln]}function Ro(ie,ge,ze,Dr,$r){for(var kr=1,Pr=ze+1;Pr<ge.length;++Pr)kr*=ge[Pr];var pn=ge[ze];if(ge.length-ze==4){var jn=ge[ze+1],An=ge[ze+2],En=ge[ze+3];for(Pr=0;Pr<pn;++Pr)Co(ie[Pr],jn,An,En,Dr,$r),$r+=kr}else for(Pr=0;Pr<pn;++Pr)Ro(ie[Pr],ge,ze+1,Dr,$r),$r+=kr}function we(ie,ge,ze,Dr){var $r=1;if(ge.length)for(var kr=0;kr<ge.length;++kr)$r*=ge[kr];else $r=0;var Pr=Dr||ga.allocType(ze,$r);switch(ge.length){case 0:break;case 1:Si(ie,ge[0],Pr);break;case 2:yo(ie,ge[0],ge[1],Pr);break;case 3:Co(ie,ge[0],ge[1],ge[2],Pr,0);break;default:Ro(ie,ge,0,Pr,0)}return Pr}function ro(ie){for(var ge=[],ze=ie;ze.length;ze=ze[0])ge.push(ze.length);return ge}var pe={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Gi=5120,Ba=5122,On=5124,mo=5121,Xo=5123,Ei=5125,Zi=5126,Do=5126,Po={int8:Gi,int16:Ba,int32:On,uint8:mo,uint16:Xo,uint32:Ei,float:Zi,float32:Do},bo=35048,Eo=35040,hs={dynamic:bo,stream:Eo,static:35044},la=eo.flatten,Cs=eo.shape,Ns=35044,Bs=35040,as=5121,is=5126,os=[];os[5120]=1,os[5122]=2,os[5124]=4,os[5121]=1,os[5123]=2,os[5125]=4,os[5126]=4;function As(ie){return pe[Object.prototype.toString.call(ie)]|0}function fu(ie,ge){for(var ze=0;ze<ge.length;++ze)ie[ze]=ge[ze]}function Gs(ie,ge,ze,Dr,$r,kr,Pr){for(var pn=0,jn=0;jn<ze;++jn)for(var An=0;An<Dr;++An)ie[pn++]=ge[$r*jn+kr*An+Pr]}function ru(ie,ge,ze,Dr){var $r=0,kr={};function Pr(Mr){this.id=$r++,this.buffer=ie.createBuffer(),this.type=Mr,this.usage=Ns,this.byteLength=0,this.dimension=1,this.dtype=as,this.persistentData=null,ze.profile&&(this.stats={size:0})}Pr.prototype.bind=function(){ie.bindBuffer(this.type,this.buffer)},Pr.prototype.destroy=function(){$n(this)};var pn=[];function jn(Mr,Tr){var xn=pn.pop();return xn||(xn=new Pr(Mr)),xn.bind(),Ln(xn,Tr,Bs,0,1,!1),xn}function An(Mr){pn.push(Mr)}function En(Mr,Tr,xn){Mr.byteLength=Tr.byteLength,ie.bufferData(Mr.type,Tr,xn)}function Ln(Mr,Tr,xn,Vn,Kr,Ta){var Sn;if(Mr.usage=xn,Array.isArray(Tr)){if(Mr.dtype=Vn||is,Tr.length>0){var sn;if(Array.isArray(Tr[0])){Sn=Cs(Tr);for(var fn=1,Pn=1;Pn<Sn.length;++Pn)fn*=Sn[Pn];Mr.dimension=fn,sn=la(Tr,Sn,Mr.dtype),En(Mr,sn,xn),Ta?Mr.persistentData=sn:ga.freeType(sn)}else if(typeof Tr[0]=="number"){Mr.dimension=Kr;var Ca=ga.allocType(Mr.dtype,Tr.length);fu(Ca,Tr),En(Mr,Ca,xn),Ta?Mr.persistentData=Ca:ga.freeType(Ca)}else f(Tr[0])?(Mr.dimension=Tr[0].length,Mr.dtype=Vn||As(Tr[0])||is,sn=la(Tr,[Tr.length,Tr[0].length],Mr.dtype),En(Mr,sn,xn),Ta?Mr.persistentData=sn:ga.freeType(sn)):G.raise("invalid buffer data")}}else if(f(Tr))Mr.dtype=Vn||As(Tr),Mr.dimension=Kr,En(Mr,Tr,xn),Ta&&(Mr.persistentData=new Uint8Array(new Uint8Array(Tr.buffer)));else if(ji(Tr)){Sn=Tr.shape;var vi=Tr.stride,kn=Tr.offset,Bn=0,rn=0,$a=0,Li=0;Sn.length===1?(Bn=Sn[0],rn=1,$a=vi[0],Li=0):Sn.length===2?(Bn=Sn[0],rn=Sn[1],$a=vi[0],Li=vi[1]):G.raise("invalid shape"),Mr.dtype=Vn||As(Tr.data)||is,Mr.dimension=rn;var va=ga.allocType(Mr.dtype,Bn*rn);Gs(va,Tr.data,Bn,rn,$a,Li,kn),En(Mr,va,xn),Ta?Mr.persistentData=va:ga.freeType(va)}else Tr instanceof ArrayBuffer?(Mr.dtype=as,Mr.dimension=Kr,En(Mr,Tr,xn),Ta&&(Mr.persistentData=new Uint8Array(new Uint8Array(Tr)))):G.raise("invalid buffer data")}function $n(Mr){ge.bufferCount--,Dr(Mr);var Tr=Mr.buffer;G(Tr,"buffer must not be deleted already"),ie.deleteBuffer(Tr),Mr.buffer=null,delete kr[Mr.id]}function Nn(Mr,Tr,xn,Vn){ge.bufferCount++;var Kr=new Pr(Tr);kr[Kr.id]=Kr;function Ta(fn){var Pn=Ns,Ca=null,vi=0,kn=0,Bn=1;return Array.isArray(fn)||f(fn)||ji(fn)||fn instanceof ArrayBuffer?Ca=fn:typeof fn=="number"?vi=fn|0:fn&&(G.type(fn,"object","buffer arguments must be an object, a number or an array"),"data"in fn&&(G(Ca===null||Array.isArray(Ca)||f(Ca)||ji(Ca),"invalid data for buffer"),Ca=fn.data),"usage"in fn&&(G.parameter(fn.usage,hs,"invalid buffer usage"),Pn=hs[fn.usage]),"type"in fn&&(G.parameter(fn.type,Po,"invalid buffer type"),kn=Po[fn.type]),"dimension"in fn&&(G.type(fn.dimension,"number","invalid dimension"),Bn=fn.dimension|0),"length"in fn&&(G.nni(vi,"buffer length must be a nonnegative integer"),vi=fn.length|0)),Kr.bind(),Ca?Ln(Kr,Ca,Pn,kn,Bn,Vn):(vi&&ie.bufferData(Kr.type,vi,Pn),Kr.dtype=kn||as,Kr.usage=Pn,Kr.dimension=Bn,Kr.byteLength=vi),ze.profile&&(Kr.stats.size=Kr.byteLength*os[Kr.dtype]),Ta}function Sn(fn,Pn){G(Pn+fn.byteLength<=Kr.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+fn.byteLength+" starting from offset "+Pn+" to a buffer of size "+Kr.byteLength),ie.bufferSubData(Kr.type,Pn,fn)}function sn(fn,Pn){var Ca=(Pn||0)|0,vi;if(Kr.bind(),f(fn)||fn instanceof ArrayBuffer)Sn(fn,Ca);else if(Array.isArray(fn)){if(fn.length>0)if(typeof fn[0]=="number"){var kn=ga.allocType(Kr.dtype,fn.length);fu(kn,fn),Sn(kn,Ca),ga.freeType(kn)}else if(Array.isArray(fn[0])||f(fn[0])){vi=Cs(fn);var Bn=la(fn,vi,Kr.dtype);Sn(Bn,Ca),ga.freeType(Bn)}else G.raise("invalid buffer data")}else if(ji(fn)){vi=fn.shape;var rn=fn.stride,$a=0,Li=0,va=0,Bi=0;vi.length===1?($a=vi[0],Li=1,va=rn[0],Bi=0):vi.length===2?($a=vi[0],Li=vi[1],va=rn[0],Bi=rn[1]):G.raise("invalid shape");var si=Array.isArray(fn.data)?Kr.dtype:As(fn.data),Mi=ga.allocType(si,$a*Li);Gs(Mi,fn.data,$a,Li,va,Bi,fn.offset),Sn(Mi,Ca),ga.freeType(Mi)}else G.raise("invalid data for buffer subdata");return Ta}return xn||Ta(Mr),Ta._reglType="buffer",Ta._buffer=Kr,Ta.subdata=sn,ze.profile&&(Ta.stats=Kr.stats),Ta.destroy=function(){$n(Kr)},Ta}function Mn(){Ra(kr).forEach(function(Mr){Mr.buffer=ie.createBuffer(),ie.bindBuffer(Mr.type,Mr.buffer),ie.bufferData(Mr.type,Mr.persistentData||Mr.byteLength,Mr.usage)})}return ze.profile&&(ge.getTotalBufferSize=function(){var Mr=0;return Object.keys(kr).forEach(function(Tr){Mr+=kr[Tr].stats.size}),Mr}),{create:Nn,createStream:jn,destroyStream:An,clear:function(){Ra(kr).forEach($n),pn.forEach($n)},getBuffer:function(Tr){return Tr&&Tr._buffer instanceof Pr?Tr._buffer:null},restore:Mn,_initBuffer:Ln}}var Us=0,k=0,Dt=1,re=1,le=4,Ce=4,Re={points:Us,point:k,lines:Dt,line:re,triangles:le,triangle:Ce,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},ke=0,Ze=1,lr=4,dr=5120,Cr=5121,Yr=5122,Nr=5123,Vr=5124,cn=5125,ln=34963,Hr=35040,ia=35044;function Oi(ie,ge,ze,Dr){var $r={},kr=0,Pr={uint8:Cr,uint16:Nr};ge.oes_element_index_uint&&(Pr.uint32=cn);function pn(Mn){this.id=kr++,$r[this.id]=this,this.buffer=Mn,this.primType=lr,this.vertCount=0,this.type=0}pn.prototype.bind=function(){this.buffer.bind()};var jn=[];function An(Mn){var Mr=jn.pop();return Mr||(Mr=new pn(ze.create(null,ln,!0,!1)._buffer)),Ln(Mr,Mn,Hr,-1,-1,0,0),Mr}function En(Mn){jn.push(Mn)}function Ln(Mn,Mr,Tr,xn,Vn,Kr,Ta){Mn.buffer.bind();var Sn;if(Mr){var sn=Ta;!Ta&&(!f(Mr)||ji(Mr)&&!f(Mr.data))&&(sn=ge.oes_element_index_uint?cn:Nr),ze._initBuffer(Mn.buffer,Mr,Tr,sn,3)}else ie.bufferData(ln,Kr,Tr),Mn.buffer.dtype=Sn||Cr,Mn.buffer.usage=Tr,Mn.buffer.dimension=3,Mn.buffer.byteLength=Kr;if(Sn=Ta,!Ta){switch(Mn.buffer.dtype){case Cr:case dr:Sn=Cr;break;case Nr:case Yr:Sn=Nr;break;case cn:case Vr:Sn=cn;break;default:G.raise("unsupported type for element array")}Mn.buffer.dtype=Sn}Mn.type=Sn,G(Sn!==cn||!!ge.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var fn=Vn;fn<0&&(fn=Mn.buffer.byteLength,Sn===Nr?fn>>=1:Sn===cn&&(fn>>=2)),Mn.vertCount=fn;var Pn=xn;if(xn<0){Pn=lr;var Ca=Mn.buffer.dimension;Ca===1&&(Pn=ke),Ca===2&&(Pn=Ze),Ca===3&&(Pn=lr)}Mn.primType=Pn}function $n(Mn){Dr.elementsCount--,G(Mn.buffer!==null,"must not double destroy elements"),delete $r[Mn.id],Mn.buffer.destroy(),Mn.buffer=null}function Nn(Mn,Mr){var Tr=ze.create(null,ln,!0),xn=new pn(Tr._buffer);Dr.elementsCount++;function Vn(Kr){if(!Kr)Tr(),xn.primType=lr,xn.vertCount=0,xn.type=Cr;else if(typeof Kr=="number")Tr(Kr),xn.primType=lr,xn.vertCount=Kr|0,xn.type=Cr;else{var Ta=null,Sn=ia,sn=-1,fn=-1,Pn=0,Ca=0;Array.isArray(Kr)||f(Kr)||ji(Kr)?Ta=Kr:(G.type(Kr,"object","invalid arguments for elements"),"data"in Kr&&(Ta=Kr.data,G(Array.isArray(Ta)||f(Ta)||ji(Ta),"invalid data for element buffer")),"usage"in Kr&&(G.parameter(Kr.usage,hs,"invalid element buffer usage"),Sn=hs[Kr.usage]),"primitive"in Kr&&(G.parameter(Kr.primitive,Re,"invalid element buffer primitive"),sn=Re[Kr.primitive]),"count"in Kr&&(G(typeof Kr.count=="number"&&Kr.count>=0,"invalid vertex count for elements"),fn=Kr.count|0),"type"in Kr&&(G.parameter(Kr.type,Pr,"invalid buffer type"),Ca=Pr[Kr.type]),"length"in Kr?Pn=Kr.length|0:(Pn=fn,Ca===Nr||Ca===Yr?Pn*=2:(Ca===cn||Ca===Vr)&&(Pn*=4))),Ln(xn,Ta,Sn,sn,fn,Pn,Ca)}return Vn}return Vn(Mn),Vn._reglType="elements",Vn._elements=xn,Vn.subdata=function(Kr,Ta){return Tr.subdata(Kr,Ta),Vn},Vn.destroy=function(){$n(xn)},Vn}return{create:Nn,createStream:An,destroyStream:En,getElements:function(Mr){return typeof Mr=="function"&&Mr._elements instanceof pn?Mr._elements:null},clear:function(){Ra($r).forEach($n)}}}var Ua=new Float32Array(1),Wa=new Uint32Array(Ua.buffer),ei=5123;function za(ie){for(var ge=ga.allocType(ei,ie.length),ze=0;ze<ie.length;++ze)if(isNaN(ie[ze]))ge[ze]=65535;else if(ie[ze]===Infinity)ge[ze]=31744;else if(ie[ze]===-Infinity)ge[ze]=64512;else{Ua[0]=ie[ze];var Dr=Wa[0],$r=Dr>>>31<<15,kr=(Dr<<1>>>24)-127,Pr=Dr>>13&(1<<10)-1;if(kr<-24)ge[ze]=$r;else if(kr<-14){var pn=-14-kr;ge[ze]=$r+(Pr+(1<<10)>>pn)}else kr>15?ge[ze]=$r+31744:ge[ze]=$r+(kr+15<<10)+Pr}return ge}function Na(ie){return Array.isArray(ie)||f(ie)}var Qi=function(ge){return!(ge&ge-1)&&!!ge},qi=34467,wi=3553,Ia=34067,yn=34069,ce=6408,or=6406,de=6407,ee=6409,ve=6410,De=32854,Ir=32855,qr=36194,ka=32819,ki=32820,Fo=33635,No=34042,ps=6402,Ws=34041,ws=35904,Ru=35906,Mu=36193,Fu=33776,dl=33777,vl=33778,gl=33779,tf=35986,bc=35987,Ec=34798,Va=35840,Io=35841,Ha=35842,hu=35843,Ju=36196,du=5121,vu=5123,pl=5125,_u=5126,zf=10242,Ul=10243,Oc=10497,qu=33071,Tu=33648,Du=10240,Nu=10241,zs=9728,kf=9729,Gu=9984,Wl=9985,ks=9986,tl=9987,xc=33170,yl=4352,gu=4353,el=4354,ss=34046,zl=3317,nu=37440,ef=37441,Ss=37443,pu=37444,yu=33984,Vs=[Gu,ks,Wl,tl],mu=[0,ee,ve,de,ce],Rs={};Rs[ee]=Rs[or]=Rs[ps]=1,Rs[Ws]=Rs[ve]=2,Rs[de]=Rs[ws]=3,Rs[ce]=Rs[Ru]=4;function Zs(ie){return"[object "+ie+"]"}var kl=Zs("HTMLCanvasElement"),Uu=Zs("OffscreenCanvas"),rf=Zs("CanvasRenderingContext2D"),Vl=Zs("ImageBitmap"),ml=Zs("HTMLImageElement"),Hl=Zs("HTMLVideoElement"),Xl=Object.keys(pe).concat([kl,Uu,rf,Vl,ml,Hl]),Hs=[];Hs[du]=1,Hs[_u]=4,Hs[Mu]=2,Hs[vu]=2,Hs[pl]=4;var Yo=[];Yo[De]=2,Yo[Ir]=2,Yo[qr]=2,Yo[Ws]=4,Yo[Fu]=.5,Yo[dl]=.5,Yo[vl]=1,Yo[gl]=1,Yo[tf]=.5,Yo[bc]=1,Yo[Ec]=1,Yo[Va]=.5,Yo[Io]=.25,Yo[Ha]=.5,Yo[hu]=.25,Yo[Ju]=.5;function ds(ie){return Array.isArray(ie)&&(ie.length===0||typeof ie[0]=="number")}function Yl(ie){if(!Array.isArray(ie))return!1;var ge=ie.length;return!(ge===0||!Na(ie[0]))}function Qs(ie){return Object.prototype.toString.call(ie)}function Pu(ie){return Qs(ie)===kl}function au(ie){return Qs(ie)===Uu}function io(ie){return Qs(ie)===rf}function bu(ie){return Qs(ie)===Vl}function Cc(ie){return Qs(ie)===ml}function iu(ie){return Qs(ie)===Hl}function Wu(ie){if(!ie)return!1;var ge=Qs(ie);return Xl.indexOf(ge)>=0?!0:ds(ie)||Yl(ie)||ji(ie)}function nf(ie){return pe[Object.prototype.toString.call(ie)]|0}function zu(ie,ge){var ze=ge.length;switch(ie.type){case du:case vu:case pl:case _u:var Dr=ga.allocType(ie.type,ze);Dr.set(ge),ie.data=Dr;break;case Mu:ie.data=za(ge);break;default:G.raise("unsupported texture type, must specify a typed array")}}function Eu(ie,ge){return ga.allocType(ie.type===Mu?_u:ie.type,ge)}function ku(ie,ge){ie.type===Mu?(ie.data=za(ge),ga.freeType(ge)):ie.data=ge}function Iu(ie,ge,ze,Dr,$r,kr){for(var Pr=ie.width,pn=ie.height,jn=ie.channels,An=Pr*pn*jn,En=Eu(ie,An),Ln=0,$n=0;$n<pn;++$n)for(var Nn=0;Nn<Pr;++Nn)for(var Mn=0;Mn<jn;++Mn)En[Ln++]=ge[ze*Nn+Dr*$n+$r*Mn+kr];ku(ie,En)}function Kl(ie,ge,ze,Dr,$r,kr){var Pr;if(typeof Yo[ie]!="undefined"?Pr=Yo[ie]:Pr=Rs[ie]*Hs[ge],kr&&(Pr*=6),$r){for(var pn=0,jn=ze;jn>=1;)pn+=Pr*jn*jn,jn/=2;return pn}else return Pr*ze*Dr}function rl(ie,ge,ze,Dr,$r,kr,Pr){var pn={"don't care":yl,"dont care":yl,nice:el,fast:gu},jn={repeat:Oc,clamp:qu,mirror:Tu},An={nearest:zs,linear:kf},En=i({mipmap:tl,"nearest mipmap nearest":Gu,"linear mipmap nearest":Wl,"nearest mipmap linear":ks,"linear mipmap linear":tl},An),Ln={none:0,browser:pu},$n={uint8:du,rgba4:ka,rgb565:Fo,"rgb5 a1":ki},Nn={alpha:or,luminance:ee,"luminance alpha":ve,rgb:de,rgba:ce,rgba4:De,"rgb5 a1":Ir,rgb565:qr},Mn={};ge.ext_srgb&&(Nn.srgb=ws,Nn.srgba=Ru),ge.oes_texture_float&&($n.float32=$n.float=_u),ge.oes_texture_half_float&&($n.float16=$n["half float"]=Mu),ge.webgl_depth_texture&&(i(Nn,{depth:ps,"depth stencil":Ws}),i($n,{uint16:vu,uint32:pl,"depth stencil":No})),ge.webgl_compressed_texture_s3tc&&i(Mn,{"rgb s3tc dxt1":Fu,"rgba s3tc dxt1":dl,"rgba s3tc dxt3":vl,"rgba s3tc dxt5":gl}),ge.webgl_compressed_texture_atc&&i(Mn,{"rgb atc":tf,"rgba atc explicit alpha":bc,"rgba atc interpolated alpha":Ec}),ge.webgl_compressed_texture_pvrtc&&i(Mn,{"rgb pvrtc 4bppv1":Va,"rgb pvrtc 2bppv1":Io,"rgba pvrtc 4bppv1":Ha,"rgba pvrtc 2bppv1":hu}),ge.webgl_compressed_texture_etc1&&(Mn["rgb etc1"]=Ju);var Mr=Array.prototype.slice.call(ie.getParameter(qi));Object.keys(Mn).forEach(function(Fe){var wr=Mn[Fe];Mr.indexOf(wr)>=0&&(Nn[Fe]=wr)});var Tr=Object.keys(Nn);ze.textureFormats=Tr;var xn=[];Object.keys(Nn).forEach(function(Fe){var wr=Nn[Fe];xn[wr]=Fe});var Vn=[];Object.keys($n).forEach(function(Fe){var wr=$n[Fe];Vn[wr]=Fe});var Kr=[];Object.keys(An).forEach(function(Fe){var wr=An[Fe];Kr[wr]=Fe});var Ta=[];Object.keys(En).forEach(function(Fe){var wr=En[Fe];Ta[wr]=Fe});var Sn=[];Object.keys(jn).forEach(function(Fe){var wr=jn[Fe];Sn[wr]=Fe});var sn=Tr.reduce(function(Fe,wr){var Sr=Nn[wr];return Sr===ee||Sr===or||Sr===ee||Sr===ve||Sr===ps||Sr===Ws||ge.ext_srgb&&(Sr===ws||Sr===Ru)?Fe[Sr]=Sr:Sr===Ir||wr.indexOf("rgba")>=0?Fe[Sr]=ce:Fe[Sr]=de,Fe},{});function fn(){this.internalformat=ce,this.format=ce,this.type=du,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=pu,this.width=0,this.height=0,this.channels=0}function Pn(Fe,wr){Fe.internalformat=wr.internalformat,Fe.format=wr.format,Fe.type=wr.type,Fe.compressed=wr.compressed,Fe.premultiplyAlpha=wr.premultiplyAlpha,Fe.flipY=wr.flipY,Fe.unpackAlignment=wr.unpackAlignment,Fe.colorSpace=wr.colorSpace,Fe.width=wr.width,Fe.height=wr.height,Fe.channels=wr.channels}function Ca(Fe,wr){if(!(typeof wr!="object"||!wr)){if("premultiplyAlpha"in wr&&(G.type(wr.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),Fe.premultiplyAlpha=wr.premultiplyAlpha),"flipY"in wr&&(G.type(wr.flipY,"boolean","invalid texture flip"),Fe.flipY=wr.flipY),"alignment"in wr&&(G.oneOf(wr.alignment,[1,2,4,8],"invalid texture unpack alignment"),Fe.unpackAlignment=wr.alignment),"colorSpace"in wr&&(G.parameter(wr.colorSpace,Ln,"invalid colorSpace"),Fe.colorSpace=Ln[wr.colorSpace]),"type"in wr){var Sr=wr.type;G(ge.oes_texture_float||!(Sr==="float"||Sr==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),G(ge.oes_texture_half_float||!(Sr==="half float"||Sr==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),G(ge.webgl_depth_texture||!(Sr==="uint16"||Sr==="uint32"||Sr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),G.parameter(Sr,$n,"invalid texture type"),Fe.type=$n[Sr]}var qn=Fe.width,xi=Fe.height,Pe=Fe.channels,Oe=!1;"shape"in wr?(G(Array.isArray(wr.shape)&&wr.shape.length>=2,"shape must be an array"),qn=wr.shape[0],xi=wr.shape[1],wr.shape.length===3&&(Pe=wr.shape[2],G(Pe>0&&Pe<=4,"invalid number of channels"),Oe=!0),G(qn>=0&&qn<=ze.maxTextureSize,"invalid width"),G(xi>=0&&xi<=ze.maxTextureSize,"invalid height")):("radius"in wr&&(qn=xi=wr.radius,G(qn>=0&&qn<=ze.maxTextureSize,"invalid radius")),"width"in wr&&(qn=wr.width,G(qn>=0&&qn<=ze.maxTextureSize,"invalid width")),"height"in wr&&(xi=wr.height,G(xi>=0&&xi<=ze.maxTextureSize,"invalid height")),"channels"in wr&&(Pe=wr.channels,G(Pe>0&&Pe<=4,"invalid number of channels"),Oe=!0)),Fe.width=qn|0,Fe.height=xi|0,Fe.channels=Pe|0;var Qe=!1;if("format"in wr){var mr=wr.format;G(ge.webgl_depth_texture||!(mr==="depth"||mr==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),G.parameter(mr,Nn,"invalid texture format");var Er=Fe.internalformat=Nn[mr];Fe.format=sn[Er],mr in $n&&("type"in wr||(Fe.type=$n[mr])),mr in Mn&&(Fe.compressed=!0),Qe=!0}!Oe&&Qe?Fe.channels=Rs[Fe.format]:Oe&&!Qe?Fe.channels!==mu[Fe.format]&&(Fe.format=Fe.internalformat=mu[Fe.channels]):Qe&&Oe&&G(Fe.channels===Rs[Fe.format],"number of channels inconsistent with specified format")}}function vi(Fe){ie.pixelStorei(nu,Fe.flipY),ie.pixelStorei(ef,Fe.premultiplyAlpha),ie.pixelStorei(Ss,Fe.colorSpace),ie.pixelStorei(zl,Fe.unpackAlignment)}function kn(){fn.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function Bn(Fe,wr){var Sr=null;if(Wu(wr)?Sr=wr:wr&&(G.type(wr,"object","invalid pixel data type"),Ca(Fe,wr),"x"in wr&&(Fe.xOffset=wr.x|0),"y"in wr&&(Fe.yOffset=wr.y|0),Wu(wr.data)&&(Sr=wr.data)),G(!Fe.compressed||Sr instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),wr.copy){G(!Sr,"can not specify copy and data field for the same texture");var qn=$r.viewportWidth,xi=$r.viewportHeight;Fe.width=Fe.width||qn-Fe.xOffset,Fe.height=Fe.height||xi-Fe.yOffset,Fe.needsCopy=!0,G(Fe.xOffset>=0&&Fe.xOffset<qn&&Fe.yOffset>=0&&Fe.yOffset<xi&&Fe.width>0&&Fe.width<=qn&&Fe.height>0&&Fe.height<=xi,"copy texture read out of bounds")}else if(!Sr)Fe.width=Fe.width||1,Fe.height=Fe.height||1,Fe.channels=Fe.channels||4;else if(f(Sr))Fe.channels=Fe.channels||4,Fe.data=Sr,!("type"in wr)&&Fe.type===du&&(Fe.type=nf(Sr));else if(ds(Sr))Fe.channels=Fe.channels||4,zu(Fe,Sr),Fe.alignment=1,Fe.needsFree=!0;else if(ji(Sr)){var Pe=Sr.data;!Array.isArray(Pe)&&Fe.type===du&&(Fe.type=nf(Pe));var Oe=Sr.shape,Qe=Sr.stride,mr,Er,ar,Je,hr,Le;Oe.length===3?(ar=Oe[2],Le=Qe[2]):(G(Oe.length===2,"invalid ndarray pixel data, must be 2 or 3D"),ar=1,Le=1),mr=Oe[0],Er=Oe[1],Je=Qe[0],hr=Qe[1],Fe.alignment=1,Fe.width=mr,Fe.height=Er,Fe.channels=ar,Fe.format=Fe.internalformat=mu[ar],Fe.needsFree=!0,Iu(Fe,Pe,Je,hr,Le,Sr.offset)}else if(Pu(Sr)||au(Sr)||io(Sr))Pu(Sr)||au(Sr)?Fe.element=Sr:Fe.element=Sr.canvas,Fe.width=Fe.element.width,Fe.height=Fe.element.height,Fe.channels=4;else if(bu(Sr))Fe.element=Sr,Fe.width=Sr.width,Fe.height=Sr.height,Fe.channels=4;else if(Cc(Sr))Fe.element=Sr,Fe.width=Sr.naturalWidth,Fe.height=Sr.naturalHeight,Fe.channels=4;else if(iu(Sr))Fe.element=Sr,Fe.width=Sr.videoWidth,Fe.height=Sr.videoHeight,Fe.channels=4;else if(Yl(Sr)){var Xe=Fe.width||Sr[0].length,Me=Fe.height||Sr.length,pr=Fe.channels;Na(Sr[0][0])?pr=pr||Sr[0][0].length:pr=pr||1;for(var xr=eo.shape(Sr),Qr=1,en=0;en<xr.length;++en)Qr*=xr[en];var Xr=Eu(Fe,Qr);eo.flatten(Sr,xr,"",Xr),ku(Fe,Xr),Fe.alignment=1,Fe.width=Xe,Fe.height=Me,Fe.channels=pr,Fe.format=Fe.internalformat=mu[pr],Fe.needsFree=!0}Fe.type===_u?G(ze.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):Fe.type===Mu&&G(ze.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function rn(Fe,wr,Sr){var qn=Fe.element,xi=Fe.data,Pe=Fe.internalformat,Oe=Fe.format,Qe=Fe.type,mr=Fe.width,Er=Fe.height;vi(Fe),qn?ie.texImage2D(wr,Sr,Oe,Oe,Qe,qn):Fe.compressed?ie.compressedTexImage2D(wr,Sr,Pe,mr,Er,0,xi):Fe.needsCopy?(Dr(),ie.copyTexImage2D(wr,Sr,Oe,Fe.xOffset,Fe.yOffset,mr,Er,0)):ie.texImage2D(wr,Sr,Oe,mr,Er,0,Oe,Qe,xi||null)}function $a(Fe,wr,Sr,qn,xi){var Pe=Fe.element,Oe=Fe.data,Qe=Fe.internalformat,mr=Fe.format,Er=Fe.type,ar=Fe.width,Je=Fe.height;vi(Fe),Pe?ie.texSubImage2D(wr,xi,Sr,qn,mr,Er,Pe):Fe.compressed?ie.compressedTexSubImage2D(wr,xi,Sr,qn,Qe,ar,Je,Oe):Fe.needsCopy?(Dr(),ie.copyTexSubImage2D(wr,xi,Sr,qn,Fe.xOffset,Fe.yOffset,ar,Je)):ie.texSubImage2D(wr,xi,Sr,qn,ar,Je,mr,Er,Oe)}var Li=[];function va(){return Li.pop()||new kn}function Bi(Fe){Fe.needsFree&&ga.freeType(Fe.data),kn.call(Fe),Li.push(Fe)}function si(){fn.call(this),this.genMipmaps=!1,this.mipmapHint=yl,this.mipmask=0,this.images=Array(16)}function Mi(Fe,wr,Sr){var qn=Fe.images[0]=va();Fe.mipmask=1,qn.width=Fe.width=wr,qn.height=Fe.height=Sr,qn.channels=Fe.channels=4}function Yi(Fe,wr){var Sr=null;if(Wu(wr))Sr=Fe.images[0]=va(),Pn(Sr,Fe),Bn(Sr,wr),Fe.mipmask=1;else if(Ca(Fe,wr),Array.isArray(wr.mipmap))for(var qn=wr.mipmap,xi=0;xi<qn.length;++xi)Sr=Fe.images[xi]=va(),Pn(Sr,Fe),Sr.width>>=xi,Sr.height>>=xi,Bn(Sr,qn[xi]),Fe.mipmask|=1<<xi;else Sr=Fe.images[0]=va(),Pn(Sr,Fe),Bn(Sr,wr),Fe.mipmask=1;Pn(Fe,Fe.images[0]),Fe.compressed&&(Fe.internalformat===Fu||Fe.internalformat===dl||Fe.internalformat===vl||Fe.internalformat===gl)&&G(Fe.width%4==0&&Fe.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function Qo(Fe,wr){for(var Sr=Fe.images,qn=0;qn<Sr.length;++qn){if(!Sr[qn])return;rn(Sr[qn],wr,qn)}}var zo=[];function Ni(){var Fe=zo.pop()||new si;fn.call(Fe),Fe.mipmask=0;for(var wr=0;wr<16;++wr)Fe.images[wr]=null;return Fe}function es(Fe){for(var wr=Fe.images,Sr=0;Sr<wr.length;++Sr)wr[Sr]&&Bi(wr[Sr]),wr[Sr]=null;zo.push(Fe)}function Oo(){this.minFilter=zs,this.magFilter=zs,this.wrapS=qu,this.wrapT=qu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=yl}function Jo(Fe,wr){if("min"in wr){var Sr=wr.min;G.parameter(Sr,En),Fe.minFilter=En[Sr],Vs.indexOf(Fe.minFilter)>=0&&!("faces"in wr)&&(Fe.genMipmaps=!0)}if("mag"in wr){var qn=wr.mag;G.parameter(qn,An),Fe.magFilter=An[qn]}var xi=Fe.wrapS,Pe=Fe.wrapT;if("wrap"in wr){var Oe=wr.wrap;typeof Oe=="string"?(G.parameter(Oe,jn),xi=Pe=jn[Oe]):Array.isArray(Oe)&&(G.parameter(Oe[0],jn),G.parameter(Oe[1],jn),xi=jn[Oe[0]],Pe=jn[Oe[1]])}else{if("wrapS"in wr){var Qe=wr.wrapS;G.parameter(Qe,jn),xi=jn[Qe]}if("wrapT"in wr){var mr=wr.wrapT;G.parameter(mr,jn),Pe=jn[mr]}}if(Fe.wrapS=xi,Fe.wrapT=Pe,"anisotropic"in wr){var Er=wr.anisotropic;G(typeof Er=="number"&&Er>=1&&Er<=ze.maxAnisotropic,"aniso samples must be between 1 and "),Fe.anisotropic=wr.anisotropic}if("mipmap"in wr){var ar=!1;switch(typeof wr.mipmap){case"string":G.parameter(wr.mipmap,pn,"invalid mipmap hint"),Fe.mipmapHint=pn[wr.mipmap],Fe.genMipmaps=!0,ar=!0;break;case"boolean":ar=Fe.genMipmaps=wr.mipmap;break;case"object":G(Array.isArray(wr.mipmap),"invalid mipmap type"),Fe.genMipmaps=!1,ar=!0;break;default:G.raise("invalid mipmap type")}ar&&!("min"in wr)&&(Fe.minFilter=Gu)}}function rs(Fe,wr){ie.texParameteri(wr,Nu,Fe.minFilter),ie.texParameteri(wr,Du,Fe.magFilter),ie.texParameteri(wr,zf,Fe.wrapS),ie.texParameteri(wr,Ul,Fe.wrapT),ge.ext_texture_filter_anisotropic&&ie.texParameteri(wr,ss,Fe.anisotropic),Fe.genMipmaps&&(ie.hint(xc,Fe.mipmapHint),ie.generateMipmap(wr))}var _o=0,ko={},fs=ze.maxTextureUnits,Vo=Array(fs).map(function(){return null});function Ti(Fe){fn.call(this),this.mipmask=0,this.internalformat=ce,this.id=_o++,this.refCount=1,this.target=Fe,this.texture=ie.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Oo,Pr.profile&&(this.stats={size:0})}function gs(Fe){ie.activeTexture(yu),ie.bindTexture(Fe.target,Fe.texture)}function to(){var Fe=Vo[0];Fe?ie.bindTexture(Fe.target,Fe.texture):ie.bindTexture(wi,null)}function Xa(Fe){var wr=Fe.texture;G(wr,"must not double destroy texture");var Sr=Fe.unit,qn=Fe.target;Sr>=0&&(ie.activeTexture(yu+Sr),ie.bindTexture(qn,null),Vo[Sr]=null),ie.deleteTexture(wr),Fe.texture=null,Fe.params=null,Fe.pixels=null,Fe.refCount=0,delete ko[Fe.id],kr.textureCount--}i(Ti.prototype,{bind:function(){var wr=this;wr.bindCount+=1;var Sr=wr.unit;if(Sr<0){for(var qn=0;qn<fs;++qn){var xi=Vo[qn];if(xi){if(xi.bindCount>0)continue;xi.unit=-1}Vo[qn]=wr,Sr=qn;break}Sr>=fs&&G.raise("insufficient number of texture units"),Pr.profile&&kr.maxTextureUnits<Sr+1&&(kr.maxTextureUnits=Sr+1),wr.unit=Sr,ie.activeTexture(yu+Sr),ie.bindTexture(wr.target,wr.texture)}return Sr},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Xa(this)}});function Za(Fe,wr){var Sr=new Ti(wi);ko[Sr.id]=Sr,kr.textureCount++;function qn(Oe,Qe){var mr=Sr.texInfo;Oo.call(mr);var Er=Ni();return typeof Oe=="number"?typeof Qe=="number"?Mi(Er,Oe|0,Qe|0):Mi(Er,Oe|0,Oe|0):Oe?(G.type(Oe,"object","invalid arguments to regl.texture"),Jo(mr,Oe),Yi(Er,Oe)):Mi(Er,1,1),mr.genMipmaps&&(Er.mipmask=(Er.width<<1)-1),Sr.mipmask=Er.mipmask,Pn(Sr,Er),G.texture2D(mr,Er,ze),Sr.internalformat=Er.internalformat,qn.width=Er.width,qn.height=Er.height,gs(Sr),Qo(Er,wi),rs(mr,wi),to(),es(Er),Pr.profile&&(Sr.stats.size=Kl(Sr.internalformat,Sr.type,Er.width,Er.height,mr.genMipmaps,!1)),qn.format=xn[Sr.internalformat],qn.type=Vn[Sr.type],qn.mag=Kr[mr.magFilter],qn.min=Ta[mr.minFilter],qn.wrapS=Sn[mr.wrapS],qn.wrapT=Sn[mr.wrapT],qn}function xi(Oe,Qe,mr,Er){G(!!Oe,"must specify image data");var ar=Qe|0,Je=mr|0,hr=Er|0,Le=va();return Pn(Le,Sr),Le.width=0,Le.height=0,Bn(Le,Oe),Le.width=Le.width||(Sr.width>>hr)-ar,Le.height=Le.height||(Sr.height>>hr)-Je,G(Sr.type===Le.type&&Sr.format===Le.format&&Sr.internalformat===Le.internalformat,"incompatible format for texture.subimage"),G(ar>=0&&Je>=0&&ar+Le.width<=Sr.width&&Je+Le.height<=Sr.height,"texture.subimage write out of bounds"),G(Sr.mipmask&1<<hr,"missing mipmap data"),G(Le.data||Le.element||Le.needsCopy,"missing image data"),gs(Sr),$a(Le,wi,ar,Je,hr),to(),Bi(Le),qn}function Pe(Oe,Qe){var mr=Oe|0,Er=Qe|0||mr;if(mr===Sr.width&&Er===Sr.height)return qn;qn.width=Sr.width=mr,qn.height=Sr.height=Er,gs(Sr);for(var ar=0;Sr.mipmask>>ar;++ar){var Je=mr>>ar,hr=Er>>ar;if(!Je||!hr)break;ie.texImage2D(wi,ar,Sr.format,Je,hr,0,Sr.format,Sr.type,null)}return to(),Pr.profile&&(Sr.stats.size=Kl(Sr.internalformat,Sr.type,mr,Er,!1,!1)),qn}return qn(Fe,wr),qn.subimage=xi,qn.resize=Pe,qn._reglType="texture2d",qn._texture=Sr,Pr.profile&&(qn.stats=Sr.stats),qn.destroy=function(){Sr.decRef()},qn}function Ii(Fe,wr,Sr,qn,xi,Pe){var Oe=new Ti(Ia);ko[Oe.id]=Oe,kr.cubeCount++;var Qe=new Array(6);function mr(Je,hr,Le,Xe,Me,pr){var xr,Qr=Oe.texInfo;for(Oo.call(Qr),xr=0;xr<6;++xr)Qe[xr]=Ni();if(typeof Je=="number"||!Je){var en=Je|0||1;for(xr=0;xr<6;++xr)Mi(Qe[xr],en,en)}else if(typeof Je=="object")if(hr)Yi(Qe[0],Je),Yi(Qe[1],hr),Yi(Qe[2],Le),Yi(Qe[3],Xe),Yi(Qe[4],Me),Yi(Qe[5],pr);else if(Jo(Qr,Je),Ca(Oe,Je),"faces"in Je){var Xr=Je.faces;for(G(Array.isArray(Xr)&&Xr.length===6,"cube faces must be a length 6 array"),xr=0;xr<6;++xr)G(typeof Xr[xr]=="object"&&!!Xr[xr],"invalid input for cube map face"),Pn(Qe[xr],Oe),Yi(Qe[xr],Xr[xr])}else for(xr=0;xr<6;++xr)Yi(Qe[xr],Je);else G.raise("invalid arguments to cube map");for(Pn(Oe,Qe[0]),ze.npotTextureCube||G(Qi(Oe.width)&&Qi(Oe.height),"your browser does not support non power or two texture dimensions"),Qr.genMipmaps?Oe.mipmask=(Qe[0].width<<1)-1:Oe.mipmask=Qe[0].mipmask,G.textureCube(Oe,Qr,Qe,ze),Oe.internalformat=Qe[0].internalformat,mr.width=Qe[0].width,mr.height=Qe[0].height,gs(Oe),xr=0;xr<6;++xr)Qo(Qe[xr],yn+xr);for(rs(Qr,Ia),to(),Pr.profile&&(Oe.stats.size=Kl(Oe.internalformat,Oe.type,mr.width,mr.height,Qr.genMipmaps,!0)),mr.format=xn[Oe.internalformat],mr.type=Vn[Oe.type],mr.mag=Kr[Qr.magFilter],mr.min=Ta[Qr.minFilter],mr.wrapS=Sn[Qr.wrapS],mr.wrapT=Sn[Qr.wrapT],xr=0;xr<6;++xr)es(Qe[xr]);return mr}function Er(Je,hr,Le,Xe,Me){G(!!hr,"must specify image data"),G(typeof Je=="number"&&Je===(Je|0)&&Je>=0&&Je<6,"invalid face");var pr=Le|0,xr=Xe|0,Qr=Me|0,en=va();return Pn(en,Oe),en.width=0,en.height=0,Bn(en,hr),en.width=en.width||(Oe.width>>Qr)-pr,en.height=en.height||(Oe.height>>Qr)-xr,G(Oe.type===en.type&&Oe.format===en.format&&Oe.internalformat===en.internalformat,"incompatible format for texture.subimage"),G(pr>=0&&xr>=0&&pr+en.width<=Oe.width&&xr+en.height<=Oe.height,"texture.subimage write out of bounds"),G(Oe.mipmask&1<<Qr,"missing mipmap data"),G(en.data||en.element||en.needsCopy,"missing image data"),gs(Oe),$a(en,yn+Je,pr,xr,Qr),to(),Bi(en),mr}function ar(Je){var hr=Je|0;if(hr!==Oe.width){mr.width=Oe.width=hr,mr.height=Oe.height=hr,gs(Oe);for(var Le=0;Le<6;++Le)for(var Xe=0;Oe.mipmask>>Xe;++Xe)ie.texImage2D(yn+Le,Xe,Oe.format,hr>>Xe,hr>>Xe,0,Oe.format,Oe.type,null);return to(),Pr.profile&&(Oe.stats.size=Kl(Oe.internalformat,Oe.type,mr.width,mr.height,!1,!0)),mr}}return mr(Fe,wr,Sr,qn,xi,Pe),mr.subimage=Er,mr.resize=ar,mr._reglType="textureCube",mr._texture=Oe,Pr.profile&&(mr.stats=Oe.stats),mr.destroy=function(){Oe.decRef()},mr}function To(){for(var Fe=0;Fe<fs;++Fe)ie.activeTexture(yu+Fe),ie.bindTexture(wi,null),Vo[Fe]=null;Ra(ko).forEach(Xa),kr.cubeCount=0,kr.textureCount=0}Pr.profile&&(kr.getTotalTextureSize=function(){var Fe=0;return Object.keys(ko).forEach(function(wr){Fe+=ko[wr].stats.size}),Fe});function ls(){for(var Fe=0;Fe<fs;++Fe){var wr=Vo[Fe];wr&&(wr.bindCount=0,wr.unit=-1,Vo[Fe]=null)}Ra(ko).forEach(function(Sr){Sr.texture=ie.createTexture(),ie.bindTexture(Sr.target,Sr.texture);for(var qn=0;qn<32;++qn)if((Sr.mipmask&1<<qn)!=0)if(Sr.target===wi)ie.texImage2D(wi,qn,Sr.internalformat,Sr.width>>qn,Sr.height>>qn,0,Sr.internalformat,Sr.type,null);else for(var xi=0;xi<6;++xi)ie.texImage2D(yn+xi,qn,Sr.internalformat,Sr.width>>qn,Sr.height>>qn,0,Sr.internalformat,Sr.type,null);rs(Sr.texInfo,Sr.target)})}function Pl(){for(var Fe=0;Fe<fs;++Fe){var wr=Vo[Fe];wr&&(wr.bindCount=0,wr.unit=-1,Vo[Fe]=null),ie.activeTexture(yu+Fe),ie.bindTexture(wi,null),ie.bindTexture(Ia,null)}}return{create2D:Za,createCube:Ii,clear:To,getTexture:function(wr){return null},restore:ls,refresh:Pl}}var Ou=36161,bl=32854,Ms=32855,ju=36194,Ac=33189,$l=36168,Sc=34041,El=35907,Mc=34836,xu=34842,Tc=34843,Ts=[];Ts[bl]=2,Ts[Ms]=2,Ts[ju]=2,Ts[Ac]=2,Ts[$l]=1,Ts[Sc]=4,Ts[El]=4,Ts[Mc]=16,Ts[xu]=8,Ts[Tc]=6;function Vf(ie,ge,ze){return Ts[ie]*ge*ze}var af=function(ge,ze,Dr,$r,kr){var Pr={rgba4:bl,rgb565:ju,"rgb5 a1":Ms,depth:Ac,stencil:$l,"depth stencil":Sc};ze.ext_srgb&&(Pr.srgba=El),ze.ext_color_buffer_half_float&&(Pr.rgba16f=xu,Pr.rgb16f=Tc),ze.webgl_color_buffer_float&&(Pr.rgba32f=Mc);var pn=[];Object.keys(Pr).forEach(function(Mn){var Mr=Pr[Mn];pn[Mr]=Mn});var jn=0,An={};function En(Mn){this.id=jn++,this.refCount=1,this.renderbuffer=Mn,this.format=bl,this.width=0,this.height=0,kr.profile&&(this.stats={size:0})}En.prototype.decRef=function(){--this.refCount<=0&&Ln(this)};function Ln(Mn){var Mr=Mn.renderbuffer;G(Mr,"must not double destroy renderbuffer"),ge.bindRenderbuffer(Ou,null),ge.deleteRenderbuffer(Mr),Mn.renderbuffer=null,Mn.refCount=0,delete An[Mn.id],$r.renderbufferCount--}function $n(Mn,Mr){var Tr=new En(ge.createRenderbuffer());An[Tr.id]=Tr,$r.renderbufferCount++;function xn(Kr,Ta){var Sn=0,sn=0,fn=bl;if(typeof Kr=="object"&&Kr){var Pn=Kr;if("shape"in Pn){var Ca=Pn.shape;G(Array.isArray(Ca)&&Ca.length>=2,"invalid renderbuffer shape"),Sn=Ca[0]|0,sn=Ca[1]|0}else"radius"in Pn&&(Sn=sn=Pn.radius|0),"width"in Pn&&(Sn=Pn.width|0),"height"in Pn&&(sn=Pn.height|0);"format"in Pn&&(G.parameter(Pn.format,Pr,"invalid renderbuffer format"),fn=Pr[Pn.format])}else typeof Kr=="number"?(Sn=Kr|0,typeof Ta=="number"?sn=Ta|0:sn=Sn):Kr?G.raise("invalid arguments to renderbuffer constructor"):Sn=sn=1;if(G(Sn>0&&sn>0&&Sn<=Dr.maxRenderbufferSize&&sn<=Dr.maxRenderbufferSize,"invalid renderbuffer size"),!(Sn===Tr.width&&sn===Tr.height&&fn===Tr.format))return xn.width=Tr.width=Sn,xn.height=Tr.height=sn,Tr.format=fn,ge.bindRenderbuffer(Ou,Tr.renderbuffer),ge.renderbufferStorage(Ou,fn,Sn,sn),G(ge.getError()===0,"invalid render buffer format"),kr.profile&&(Tr.stats.size=Vf(Tr.format,Tr.width,Tr.height)),xn.format=pn[Tr.format],xn}function Vn(Kr,Ta){var Sn=Kr|0,sn=Ta|0||Sn;return Sn===Tr.width&&sn===Tr.height||(G(Sn>0&&sn>0&&Sn<=Dr.maxRenderbufferSize&&sn<=Dr.maxRenderbufferSize,"invalid renderbuffer size"),xn.width=Tr.width=Sn,xn.height=Tr.height=sn,ge.bindRenderbuffer(Ou,Tr.renderbuffer),ge.renderbufferStorage(Ou,Tr.format,Sn,sn),G(ge.getError()===0,"invalid render buffer format"),kr.profile&&(Tr.stats.size=Vf(Tr.format,Tr.width,Tr.height))),xn}return xn(Mn,Mr),xn.resize=Vn,xn._reglType="renderbuffer",xn._renderbuffer=Tr,kr.profile&&(xn.stats=Tr.stats),xn.destroy=function(){Tr.decRef()},xn}kr.profile&&($r.getTotalRenderbufferSize=function(){var Mn=0;return Object.keys(An).forEach(function(Mr){Mn+=An[Mr].stats.size}),Mn});function Nn(){Ra(An).forEach(function(Mn){Mn.renderbuffer=ge.createRenderbuffer(),ge.bindRenderbuffer(Ou,Mn.renderbuffer),ge.renderbufferStorage(Ou,Mn.format,Mn.width,Mn.height)}),ge.bindRenderbuffer(Ou,null)}return{create:$n,clear:function(){Ra(An).forEach(Ln)},restore:Nn}},jt=36160,Gt=36161,Pt=3553,Yt=34069,_t=36064,se=36096,Ue=36128,vr=33306,Jr=36053,Wr=36054,mn=36055,Fn=36057,Ur=36061,ea=36193,ri=5121,ma=5126,ni=6407,wn=6408,Hn=6402,ba=[ni,wn],Ea=[];Ea[wn]=4,Ea[ni]=3;var ja=[];ja[ri]=1,ja[ma]=4,ja[ea]=2;var Ja=32854,ca=32855,Ma=36194,oi=33189,ai=36168,gi=34041,ti=35907,Pi=34836,di=34842,Ga=34843,ui=[Ja,ca,Ma,ti,di,Ga,Pi],Vi={};Vi[Jr]="complete",Vi[Wr]="incomplete attachment",Vi[Fn]="incomplete dimensions",Vi[mn]="incomplete, missing attachment",Vi[Ur]="unsupported";function Ui(ie,ge,ze,Dr,$r,kr){var Pr={cur:null,next:null,dirty:!1,setFBO:null},pn=["rgba"],jn=["rgba4","rgb565","rgb5 a1"];ge.ext_srgb&&jn.push("srgba"),ge.ext_color_buffer_half_float&&jn.push("rgba16f","rgb16f"),ge.webgl_color_buffer_float&&jn.push("rgba32f");var An=["uint8"];ge.oes_texture_half_float&&An.push("half float","float16"),ge.oes_texture_float&&An.push("float","float32");function En(kn,Bn,rn){this.target=kn,this.texture=Bn,this.renderbuffer=rn;var $a=0,Li=0;Bn?($a=Bn.width,Li=Bn.height):rn&&($a=rn.width,Li=rn.height),this.width=$a,this.height=Li}function Ln(kn){kn&&(kn.texture&&kn.texture._texture.decRef(),kn.renderbuffer&&kn.renderbuffer._renderbuffer.decRef())}function $n(kn,Bn,rn){if(!!kn)if(kn.texture){var $a=kn.texture._texture,Li=Math.max(1,$a.width),va=Math.max(1,$a.height);G(Li===Bn&&va===rn,"inconsistent width/height for supplied texture"),$a.refCount+=1}else{var Bi=kn.renderbuffer._renderbuffer;G(Bi.width===Bn&&Bi.height===rn,"inconsistent width/height for renderbuffer"),Bi.refCount+=1}}function Nn(kn,Bn){Bn&&(Bn.texture?ie.framebufferTexture2D(jt,kn,Bn.target,Bn.texture._texture.texture,0):ie.framebufferRenderbuffer(jt,kn,Gt,Bn.renderbuffer._renderbuffer.renderbuffer))}function Mn(kn){var Bn=Pt,rn=null,$a=null,Li=kn;typeof kn=="object"&&(Li=kn.data,"target"in kn&&(Bn=kn.target|0)),G.type(Li,"function","invalid attachment data");var va=Li._reglType;return va==="texture2d"?(rn=Li,G(Bn===Pt)):va==="textureCube"?(rn=Li,G(Bn>=Yt&&Bn<Yt+6,"invalid cube map target")):va==="renderbuffer"?($a=Li,Bn=Gt):G.raise("invalid regl object for attachment"),new En(Bn,rn,$a)}function Mr(kn,Bn,rn,$a,Li){if(rn){var va=Dr.create2D({width:kn,height:Bn,format:$a,type:Li});return va._texture.refCount=0,new En(Pt,va,null)}else{var Bi=$r.create({width:kn,height:Bn,format:$a});return Bi._renderbuffer.refCount=0,new En(Gt,null,Bi)}}function Tr(kn){return kn&&(kn.texture||kn.renderbuffer)}function xn(kn,Bn,rn){kn&&(kn.texture?kn.texture.resize(Bn,rn):kn.renderbuffer&&kn.renderbuffer.resize(Bn,rn),kn.width=Bn,kn.height=rn)}var Vn=0,Kr={};function Ta(){this.id=Vn++,Kr[this.id]=this,this.framebuffer=ie.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Sn(kn){kn.colorAttachments.forEach(Ln),Ln(kn.depthAttachment),Ln(kn.stencilAttachment),Ln(kn.depthStencilAttachment)}function sn(kn){var Bn=kn.framebuffer;G(Bn,"must not double destroy framebuffer"),ie.deleteFramebuffer(Bn),kn.framebuffer=null,kr.framebufferCount--,delete Kr[kn.id]}function fn(kn){var Bn;ie.bindFramebuffer(jt,kn.framebuffer);var rn=kn.colorAttachments;for(Bn=0;Bn<rn.length;++Bn)Nn(_t+Bn,rn[Bn]);for(Bn=rn.length;Bn<ze.maxColorAttachments;++Bn)ie.framebufferTexture2D(jt,_t+Bn,Pt,null,0);ie.framebufferTexture2D(jt,vr,Pt,null,0),ie.framebufferTexture2D(jt,se,Pt,null,0),ie.framebufferTexture2D(jt,Ue,Pt,null,0),Nn(se,kn.depthAttachment),Nn(Ue,kn.stencilAttachment),Nn(vr,kn.depthStencilAttachment);var $a=ie.checkFramebufferStatus(jt);!ie.isContextLost()&&$a!==Jr&&G.raise("framebuffer configuration not supported, status = "+Vi[$a]),ie.bindFramebuffer(jt,Pr.next?Pr.next.framebuffer:null),Pr.cur=Pr.next,ie.getError()}function Pn(kn,Bn){var rn=new Ta;kr.framebufferCount++;function $a(va,Bi){var si;G(Pr.next!==rn,"can not update framebuffer which is currently in use");var Mi=0,Yi=0,Qo=!0,zo=!0,Ni=null,es=!0,Oo="rgba",Jo="uint8",rs=1,_o=null,ko=null,fs=null,Vo=!1;if(typeof va=="number")Mi=va|0,Yi=Bi|0||Mi;else if(!va)Mi=Yi=1;else{G.type(va,"object","invalid arguments for framebuffer");var Ti=va;if("shape"in Ti){var gs=Ti.shape;G(Array.isArray(gs)&&gs.length>=2,"invalid shape for framebuffer"),Mi=gs[0],Yi=gs[1]}else"radius"in Ti&&(Mi=Yi=Ti.radius),"width"in Ti&&(Mi=Ti.width),"height"in Ti&&(Yi=Ti.height);("color"in Ti||"colors"in Ti)&&(Ni=Ti.color||Ti.colors,Array.isArray(Ni)&&G(Ni.length===1||ge.webgl_draw_buffers,"multiple render targets not supported")),Ni||("colorCount"in Ti&&(rs=Ti.colorCount|0,G(rs>0,"invalid color buffer count")),"colorTexture"in Ti&&(es=!!Ti.colorTexture,Oo="rgba4"),"colorType"in Ti&&(Jo=Ti.colorType,es?(G(ge.oes_texture_float||!(Jo==="float"||Jo==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),G(ge.oes_texture_half_float||!(Jo==="half float"||Jo==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Jo==="half float"||Jo==="float16"?(G(ge.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Oo="rgba16f"):(Jo==="float"||Jo==="float32")&&(G(ge.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Oo="rgba32f"),G.oneOf(Jo,An,"invalid color type")),"colorFormat"in Ti&&(Oo=Ti.colorFormat,pn.indexOf(Oo)>=0?es=!0:jn.indexOf(Oo)>=0?es=!1:es?G.oneOf(Ti.colorFormat,pn,"invalid color format for texture"):G.oneOf(Ti.colorFormat,jn,"invalid color format for renderbuffer"))),("depthTexture"in Ti||"depthStencilTexture"in Ti)&&(Vo=!!(Ti.depthTexture||Ti.depthStencilTexture),G(!Vo||ge.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Ti&&(typeof Ti.depth=="boolean"?Qo=Ti.depth:(_o=Ti.depth,zo=!1)),"stencil"in Ti&&(typeof Ti.stencil=="boolean"?zo=Ti.stencil:(ko=Ti.stencil,Qo=!1)),"depthStencil"in Ti&&(typeof Ti.depthStencil=="boolean"?Qo=zo=Ti.depthStencil:(fs=Ti.depthStencil,Qo=!1,zo=!1))}var to=null,Xa=null,Za=null,Ii=null;if(Array.isArray(Ni))to=Ni.map(Mn);else if(Ni)to=[Mn(Ni)];else for(to=new Array(rs),si=0;si<rs;++si)to[si]=Mr(Mi,Yi,es,Oo,Jo);G(ge.webgl_draw_buffers||to.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),G(to.length<=ze.maxColorAttachments,"too many color attachments, not supported"),Mi=Mi||to[0].width,Yi=Yi||to[0].height,_o?Xa=Mn(_o):Qo&&!zo&&(Xa=Mr(Mi,Yi,Vo,"depth","uint32")),ko?Za=Mn(ko):zo&&!Qo&&(Za=Mr(Mi,Yi,!1,"stencil","uint8")),fs?Ii=Mn(fs):!_o&&!ko&&zo&&Qo&&(Ii=Mr(Mi,Yi,Vo,"depth stencil","depth stencil")),G(!!_o+!!ko+!!fs<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var To=null;for(si=0;si<to.length;++si)if($n(to[si],Mi,Yi),G(!to[si]||to[si].texture&&ba.indexOf(to[si].texture._texture.format)>=0||to[si].renderbuffer&&ui.indexOf(to[si].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+si+" is invalid"),to[si]&&to[si].texture){var ls=Ea[to[si].texture._texture.format]*ja[to[si].texture._texture.type];To===null?To=ls:G(To===ls,"all color attachments much have the same number of bits per pixel.")}return $n(Xa,Mi,Yi),G(!Xa||Xa.texture&&Xa.texture._texture.format===Hn||Xa.renderbuffer&&Xa.renderbuffer._renderbuffer.format===oi,"invalid depth attachment for framebuffer object"),$n(Za,Mi,Yi),G(!Za||Za.renderbuffer&&Za.renderbuffer._renderbuffer.format===ai,"invalid stencil attachment for framebuffer object"),$n(Ii,Mi,Yi),G(!Ii||Ii.texture&&Ii.texture._texture.format===gi||Ii.renderbuffer&&Ii.renderbuffer._renderbuffer.format===gi,"invalid depth-stencil attachment for framebuffer object"),Sn(rn),rn.width=Mi,rn.height=Yi,rn.colorAttachments=to,rn.depthAttachment=Xa,rn.stencilAttachment=Za,rn.depthStencilAttachment=Ii,$a.color=to.map(Tr),$a.depth=Tr(Xa),$a.stencil=Tr(Za),$a.depthStencil=Tr(Ii),$a.width=rn.width,$a.height=rn.height,fn(rn),$a}function Li(va,Bi){G(Pr.next!==rn,"can not resize a framebuffer which is currently in use");var si=Math.max(va|0,1),Mi=Math.max(Bi|0||si,1);if(si===rn.width&&Mi===rn.height)return $a;for(var Yi=rn.colorAttachments,Qo=0;Qo<Yi.length;++Qo)xn(Yi[Qo],si,Mi);return xn(rn.depthAttachment,si,Mi),xn(rn.stencilAttachment,si,Mi),xn(rn.depthStencilAttachment,si,Mi),rn.width=$a.width=si,rn.height=$a.height=Mi,fn(rn),$a}return $a(kn,Bn),i($a,{resize:Li,_reglType:"framebuffer",_framebuffer:rn,destroy:function(){sn(rn),Sn(rn)},use:function(Bi){Pr.setFBO({framebuffer:$a},Bi)}})}function Ca(kn){var Bn=Array(6);function rn(Li){var va;G(Bn.indexOf(Pr.next)<0,"can not update framebuffer which is currently in use");var Bi={color:null},si=0,Mi=null,Yi="rgba",Qo="uint8",zo=1;if(typeof Li=="number")si=Li|0;else if(!Li)si=1;else{G.type(Li,"object","invalid arguments for framebuffer");var Ni=Li;if("shape"in Ni){var es=Ni.shape;G(Array.isArray(es)&&es.length>=2,"invalid shape for framebuffer"),G(es[0]===es[1],"cube framebuffer must be square"),si=es[0]}else"radius"in Ni&&(si=Ni.radius|0),"width"in Ni?(si=Ni.width|0,"height"in Ni&&G(Ni.height===si,"must be square")):"height"in Ni&&(si=Ni.height|0);("color"in Ni||"colors"in Ni)&&(Mi=Ni.color||Ni.colors,Array.isArray(Mi)&&G(Mi.length===1||ge.webgl_draw_buffers,"multiple render targets not supported")),Mi||("colorCount"in Ni&&(zo=Ni.colorCount|0,G(zo>0,"invalid color buffer count")),"colorType"in Ni&&(G.oneOf(Ni.colorType,An,"invalid color type"),Qo=Ni.colorType),"colorFormat"in Ni&&(Yi=Ni.colorFormat,G.oneOf(Ni.colorFormat,pn,"invalid color format for texture"))),"depth"in Ni&&(Bi.depth=Ni.depth),"stencil"in Ni&&(Bi.stencil=Ni.stencil),"depthStencil"in Ni&&(Bi.depthStencil=Ni.depthStencil)}var Oo;if(Mi)if(Array.isArray(Mi))for(Oo=[],va=0;va<Mi.length;++va)Oo[va]=Mi[va];else Oo=[Mi];else{Oo=Array(zo);var Jo={radius:si,format:Yi,type:Qo};for(va=0;va<zo;++va)Oo[va]=Dr.createCube(Jo)}for(Bi.color=Array(Oo.length),va=0;va<Oo.length;++va){var rs=Oo[va];G(typeof rs=="function"&&rs._reglType==="textureCube","invalid cube map"),si=si||rs.width,G(rs.width===si&&rs.height===si,"invalid cube map shape"),Bi.color[va]={target:Yt,data:Oo[va]}}for(va=0;va<6;++va){for(var _o=0;_o<Oo.length;++_o)Bi.color[_o].target=Yt+va;va>0&&(Bi.depth=Bn[0].depth,Bi.stencil=Bn[0].stencil,Bi.depthStencil=Bn[0].depthStencil),Bn[va]?Bn[va](Bi):Bn[va]=Pn(Bi)}return i(rn,{width:si,height:si,color:Oo})}function $a(Li){var va,Bi=Li|0;if(G(Bi>0&&Bi<=ze.maxCubeMapSize,"invalid radius for cube fbo"),Bi===rn.width)return rn;var si=rn.color;for(va=0;va<si.length;++va)si[va].resize(Bi);for(va=0;va<6;++va)Bn[va].resize(Bi);return rn.width=rn.height=Bi,rn}return rn(kn),i(rn,{faces:Bn,resize:$a,_reglType:"framebufferCube",destroy:function(){Bn.forEach(function(va){va.destroy()})}})}function vi(){Pr.cur=null,Pr.next=null,Pr.dirty=!0,Ra(Kr).forEach(function(kn){kn.framebuffer=ie.createFramebuffer(),fn(kn)})}return i(Pr,{getFramebuffer:function(Bn){if(typeof Bn=="function"&&Bn._reglType==="framebuffer"){var rn=Bn._framebuffer;if(rn instanceof Ta)return rn}return null},create:Pn,createCube:Ca,clear:function(){Ra(Kr).forEach(sn)},restore:vi})}var uo=5126,ho=34962;function Ji(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=uo,this.offset=0,this.stride=0,this.divisor=0}function Fi(ie,ge,ze,Dr,$r){for(var kr=ze.maxAttributes,Pr=new Array(kr),pn=0;pn<kr;++pn)Pr[pn]=new Ji;var jn=0,An={},En={Record:Ji,scope:{},state:Pr,currentVAO:null,targetVAO:null,restore:$n()?Kr:function(){},createVAO:Ta,getVAO:Mn,destroyBuffer:Ln,setVAO:$n()?Mr:Tr,clear:$n()?xn:function(){}};function Ln(Sn){for(var sn=0;sn<Pr.length;++sn){var fn=Pr[sn];fn.buffer===Sn&&(ie.disableVertexAttribArray(sn),fn.buffer=null)}}function $n(){return ge.oes_vertex_array_object}function Nn(){return ge.angle_instanced_arrays}function Mn(Sn){return typeof Sn=="function"&&Sn._vao?Sn._vao:null}function Mr(Sn){if(Sn!==En.currentVAO){var sn=$n();Sn?sn.bindVertexArrayOES(Sn.vao):sn.bindVertexArrayOES(null),En.currentVAO=Sn}}function Tr(Sn){if(Sn!==En.currentVAO){if(Sn)Sn.bindAttrs();else for(var sn=Nn(),fn=0;fn<Pr.length;++fn){var Pn=Pr[fn];Pn.buffer?(ie.enableVertexAttribArray(fn),ie.vertexAttribPointer(fn,Pn.size,Pn.type,Pn.normalized,Pn.stride,Pn.offfset),sn&&Pn.divisor&&sn.vertexAttribDivisorANGLE(fn,Pn.divisor)):(ie.disableVertexAttribArray(fn),ie.vertexAttrib4f(fn,Pn.x,Pn.y,Pn.z,Pn.w))}En.currentVAO=Sn}}function xn(){Ra(An).forEach(function(Sn){Sn.destroy()})}function Vn(){this.id=++jn,this.attributes=[];var Sn=$n();Sn?this.vao=Sn.createVertexArrayOES():this.vao=null,An[this.id]=this,this.buffers=[]}Vn.prototype.bindAttrs=function(){for(var Sn=Nn(),sn=this.attributes,fn=0;fn<sn.length;++fn){var Pn=sn[fn];Pn.buffer?(ie.enableVertexAttribArray(fn),ie.bindBuffer(ho,Pn.buffer.buffer),ie.vertexAttribPointer(fn,Pn.size,Pn.type,Pn.normalized,Pn.stride,Pn.offset),Sn&&Pn.divisor&&Sn.vertexAttribDivisorANGLE(fn,Pn.divisor)):(ie.disableVertexAttribArray(fn),ie.vertexAttrib4f(fn,Pn.x,Pn.y,Pn.z,Pn.w))}for(var Ca=sn.length;Ca<kr;++Ca)ie.disableVertexAttribArray(Ca)},Vn.prototype.refresh=function(){var Sn=$n();Sn&&(Sn.bindVertexArrayOES(this.vao),this.bindAttrs(),En.currentVAO=this)},Vn.prototype.destroy=function(){if(this.vao){var Sn=$n();this===En.currentVAO&&(En.currentVAO=null,Sn.bindVertexArrayOES(null)),Sn.deleteVertexArrayOES(this.vao),this.vao=null}An[this.id]&&(delete An[this.id],Dr.vaoCount-=1)};function Kr(){var Sn=$n();Sn&&Ra(An).forEach(function(sn){sn.refresh()})}function Ta(Sn){var sn=new Vn;Dr.vaoCount+=1;function fn(Pn){G(Array.isArray(Pn),"arguments to vertex array constructor must be an array"),G(Pn.length<kr,"too many attributes"),G(Pn.length>0,"must specify at least one attribute");var Ca={},vi=sn.attributes;vi.length=Pn.length;for(var kn=0;kn<Pn.length;++kn){var Bn=Pn[kn],rn=vi[kn]=new Ji,$a=Bn.data||Bn;if(Array.isArray($a)||f($a)||ji($a)){var Li;sn.buffers[kn]&&(Li=sn.buffers[kn],f($a)&&Li._buffer.byteLength>=$a.byteLength?Li.subdata($a):(Li.destroy(),sn.buffers[kn]=null)),sn.buffers[kn]||(Li=sn.buffers[kn]=$r.create(Bn,ho,!1,!0)),rn.buffer=$r.getBuffer(Li),rn.size=rn.buffer.dimension|0,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1,Ca[kn]=1}else $r.getBuffer(Bn)?(rn.buffer=$r.getBuffer(Bn),rn.size=rn.buffer.dimension|0,rn.normalized=!1,rn.type=rn.buffer.dtype,rn.offset=0,rn.stride=0,rn.divisor=0,rn.state=1):$r.getBuffer(Bn.buffer)?(rn.buffer=$r.getBuffer(Bn.buffer),rn.size=(+Bn.size||rn.buffer.dimension)|0,rn.normalized=!!Bn.normalized||!1,"type"in Bn?(G.parameter(Bn.type,Po,"invalid buffer type"),rn.type=Po[Bn.type]):rn.type=rn.buffer.dtype,rn.offset=(Bn.offset||0)|0,rn.stride=(Bn.stride||0)|0,rn.divisor=(Bn.divisor||0)|0,rn.state=1,G(rn.size>=1&&rn.size<=4,"size must be between 1 and 4"),G(rn.offset>=0,"invalid offset"),G(rn.stride>=0&&rn.stride<=255,"stride must be between 0 and 255"),G(rn.divisor>=0,"divisor must be positive"),G(!rn.divisor||!!ge.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in Bn?(G(kn>0,"first attribute must not be a constant"),rn.x=+Bn.x||0,rn.y=+Bn.y||0,rn.z=+Bn.z||0,rn.w=+Bn.w||0,rn.state=2):G(!1,"invalid attribute spec for location "+kn)}for(var va=0;va<sn.buffers.length;++va)!Ca[va]&&sn.buffers[va]&&(sn.buffers[va].destroy(),sn.buffers[va]=null);return sn.refresh(),fn}return fn.destroy=function(){for(var Pn=0;Pn<sn.buffers.length;++Pn)sn.buffers[Pn]&&sn.buffers[Pn].destroy();sn.buffers.length=0,sn.destroy()},fn._vao=sn,fn._reglType="vao",fn(Sn)}return En}var us=35632,jo=35633,Js=35718,Zl=35721;function Ol(ie,ge,ze,Dr){var $r={},kr={};function Pr(Mr,Tr,xn,Vn){this.name=Mr,this.id=Tr,this.location=xn,this.info=Vn}function pn(Mr,Tr){for(var xn=0;xn<Mr.length;++xn)if(Mr[xn].id===Tr.id){Mr[xn].location=Tr.location;return}Mr.push(Tr)}function jn(Mr,Tr,xn){var Vn=Mr===us?$r:kr,Kr=Vn[Tr];if(!Kr){var Ta=ge.str(Tr);Kr=ie.createShader(Mr),ie.shaderSource(Kr,Ta),ie.compileShader(Kr),G.shaderError(ie,Kr,Ta,Mr,xn),Vn[Tr]=Kr}return Kr}var An={},En=[],Ln=0;function $n(Mr,Tr){this.id=Ln++,this.fragId=Mr,this.vertId=Tr,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,Dr.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function Nn(Mr,Tr,xn){var Vn,Kr,Ta=jn(us,Mr.fragId),Sn=jn(jo,Mr.vertId),sn=Mr.program=ie.createProgram();if(ie.attachShader(sn,Ta),ie.attachShader(sn,Sn),xn)for(Vn=0;Vn<xn.length;++Vn){var fn=xn[Vn];ie.bindAttribLocation(sn,fn[0],fn[1])}ie.linkProgram(sn),G.linkError(ie,sn,ge.str(Mr.fragId),ge.str(Mr.vertId),Tr);var Pn=ie.getProgramParameter(sn,Js);Dr.profile&&(Mr.stats.uniformsCount=Pn);var Ca=Mr.uniforms;for(Vn=0;Vn<Pn;++Vn)if(Kr=ie.getActiveUniform(sn,Vn),Kr)if(Kr.size>1)for(var vi=0;vi<Kr.size;++vi){var kn=Kr.name.replace("[0]","["+vi+"]");pn(Ca,new Pr(kn,ge.id(kn),ie.getUniformLocation(sn,kn),Kr))}else pn(Ca,new Pr(Kr.name,ge.id(Kr.name),ie.getUniformLocation(sn,Kr.name),Kr));var Bn=ie.getProgramParameter(sn,Zl);Dr.profile&&(Mr.stats.attributesCount=Bn);var rn=Mr.attributes;for(Vn=0;Vn<Bn;++Vn)Kr=ie.getActiveAttrib(sn,Vn),Kr&&pn(rn,new Pr(Kr.name,ge.id(Kr.name),ie.getAttribLocation(sn,Kr.name),Kr))}Dr.profile&&(ze.getMaxUniformsCount=function(){var Mr=0;return En.forEach(function(Tr){Tr.stats.uniformsCount>Mr&&(Mr=Tr.stats.uniformsCount)}),Mr},ze.getMaxAttributesCount=function(){var Mr=0;return En.forEach(function(Tr){Tr.stats.attributesCount>Mr&&(Mr=Tr.stats.attributesCount)}),Mr});function Mn(){$r={},kr={};for(var Mr=0;Mr<En.length;++Mr)Nn(En[Mr],null,En[Mr].attributes.map(function(Tr){return[Tr.location,Tr.name]}))}return{clear:function(){var Tr=ie.deleteShader.bind(ie);Ra($r).forEach(Tr),$r={},Ra(kr).forEach(Tr),kr={},En.forEach(function(xn){ie.deleteProgram(xn.program)}),En.length=0,An={},ze.shaderCount=0},program:function(Tr,xn,Vn,Kr){G.command(Tr>=0,"missing vertex shader",Vn),G.command(xn>=0,"missing fragment shader",Vn);var Ta=An[xn];Ta||(Ta=An[xn]={});var Sn=Ta[Tr];if(Sn&&(Sn.refCount++,!Kr))return Sn;var sn=new $n(xn,Tr);return ze.shaderCount++,Nn(sn,Vn,Kr),Sn||(Ta[Tr]=sn),En.push(sn),i(sn,{destroy:function(){if(sn.refCount--,sn.refCount<=0){ie.deleteProgram(sn.program);var Pn=En.indexOf(sn);En.splice(Pn,1),ze.shaderCount--}Ta[sn.vertId].refCount<=0&&(ie.deleteShader(kr[sn.vertId]),delete kr[sn.vertId],delete An[sn.fragId][sn.vertId]),Object.keys(An[sn.fragId]).length||(ie.deleteShader($r[sn.fragId]),delete $r[sn.fragId],delete An[sn.fragId])}})},restore:Mn,shader:jn,frag:-1,vert:-1}}var ou=6408,Vu=5121,of=3333,nl=5126;function ha(ie,ge,ze,Dr,$r,kr,Pr){function pn(En){var Ln;ge.next===null?(G($r.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Ln=Vu):(G(ge.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Ln=ge.next.colorAttachments[0].texture._texture.type,kr.oes_texture_float?(G(Ln===Vu||Ln===nl,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Ln===nl&&G(Pr.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):G(Ln===Vu,"Reading from a framebuffer is only allowed for the type 'uint8'"));var $n=0,Nn=0,Mn=Dr.framebufferWidth,Mr=Dr.framebufferHeight,Tr=null;f(En)?Tr=En:En&&(G.type(En,"object","invalid arguments to regl.read()"),$n=En.x|0,Nn=En.y|0,G($n>=0&&$n<Dr.framebufferWidth,"invalid x offset for regl.read"),G(Nn>=0&&Nn<Dr.framebufferHeight,"invalid y offset for regl.read"),Mn=(En.width||Dr.framebufferWidth-$n)|0,Mr=(En.height||Dr.framebufferHeight-Nn)|0,Tr=En.data||null),Tr&&(Ln===Vu?G(Tr instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Ln===nl&&G(Tr instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),G(Mn>0&&Mn+$n<=Dr.framebufferWidth,"invalid width for read pixels"),G(Mr>0&&Mr+Nn<=Dr.framebufferHeight,"invalid height for read pixels"),ze();var xn=Mn*Mr*4;return Tr||(Ln===Vu?Tr=new Uint8Array(xn):Ln===nl&&(Tr=Tr||new Float32Array(xn))),G.isTypedArray(Tr,"data buffer for regl.read() must be a typedarray"),G(Tr.byteLength>=xn,"data buffer for regl.read() too small"),ie.pixelStorei(of,4),ie.readPixels($n,Nn,Mn,Mr,ou,Ln,Tr),Tr}function jn(En){var Ln;return ge.setFBO({framebuffer:En.framebuffer},function(){Ln=pn(En)}),Ln}function An(En){return!En||!("framebuffer"in En)?pn(En):jn(En)}return An}function Hu(ie){return Array.prototype.slice.call(ie)}function Xs(ie){return Hu(ie).join("")}function Xu(){var ie=0,ge=[],ze=[];function Dr(Ln){for(var $n=0;$n<ze.length;++$n)if(ze[$n]===Ln)return ge[$n];var Nn="g"+ie++;return ge.push(Nn),ze.push(Ln),Nn}function $r(){var Ln=[];function $n(){Ln.push.apply(Ln,Hu(arguments))}var Nn=[];function Mn(){var Mr="v"+ie++;return Nn.push(Mr),arguments.length>0&&(Ln.push(Mr,"="),Ln.push.apply(Ln,Hu(arguments)),Ln.push(";")),Mr}return i($n,{def:Mn,toString:function(){return Xs([Nn.length>0?"var "+Nn.join(",")+";":"",Xs(Ln)])}})}function kr(){var Ln=$r(),$n=$r(),Nn=Ln.toString,Mn=$n.toString;function Mr(Tr,xn){$n(Tr,xn,"=",Ln.def(Tr,xn),";")}return i(function(){Ln.apply(Ln,Hu(arguments))},{def:Ln.def,entry:Ln,exit:$n,save:Mr,set:function(xn,Vn,Kr){Mr(xn,Vn),Ln(xn,Vn,"=",Kr,";")},toString:function(){return Nn()+Mn()}})}function Pr(){var Ln=Xs(arguments),$n=kr(),Nn=kr(),Mn=$n.toString,Mr=Nn.toString;return i($n,{then:function(){return $n.apply($n,Hu(arguments)),this},else:function(){return Nn.apply(Nn,Hu(arguments)),this},toString:function(){var xn=Mr();return xn&&(xn="else{"+xn+"}"),Xs(["if(",Ln,"){",Mn(),"}",xn])}})}var pn=$r(),jn={};function An(Ln,$n){var Nn=[];function Mn(){var Kr="a"+Nn.length;return Nn.push(Kr),Kr}$n=$n||0;for(var Mr=0;Mr<$n;++Mr)Mn();var Tr=kr(),xn=Tr.toString,Vn=jn[Ln]=i(Tr,{arg:Mn,toString:function(){return Xs(["function(",Nn.join(),"){",xn(),"}"])}});return Vn}function En(){var Ln=['"use strict";',pn,"return {"];Object.keys(jn).forEach(function(Mn){Ln.push('"',Mn,'":',jn[Mn].toString(),",")}),Ln.push("}");var $n=Xs(Ln).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),Nn=Function.apply(null,ge.concat($n));return Nn.apply(null,ze)}return{global:pn,link:Dr,block:$r,proc:An,scope:kr,cond:Pr,compile:En}}var zr="xyzw".split(""),Hf=5121,al=1,sf=2,Xf=0,Oh=1,uf=2,Yf=3,Dc=4,xh=5,Ql=6,Ch="dither",Pc="blend.enable",Jl="blend.color",lf="blend.equation",Ic="blend.func",Ah="depth.enable",vd="depth.func",Kf="depth.range",$f="depth.mask",Zf="colorMask",Qf="cull.enable",Sh="cull.face",cf="frontFace",_l="lineWidth",ff="polygonOffset.enable",ys="polygonOffset.offset",hf="sample.alpha",gd="sample.enable",df="sample.coverage",Jf="stencil.enable",pd="stencil.mask",Mh="stencil.func",Th="stencil.opFront",xl="stencil.opBack",yd="scissor.enable",_f="scissor.box",il="viewport",vf="profile",ql="framebuffer",gf="vert",Go="frag",Cl="elements",ol="primitive",Lu="count",pf="offset",yf="instances",tc="vao",mf="Width",Hi="Height",su=ql+mf,ec=ql+Hi,bf=il+mf,md=il+Hi,qf="drawingBuffer",Ao=qf+mf,Dh=qf+Hi,vs=[Ic,lf,Mh,Th,xl,df,il,_f,ys],Ko=34962,Lo=34963,Ds=35632,rc=35633,Ph=3553,bd=34067,Ih=2884,ms=3042,xa=3024,Ef=2960,av=2929,jc=3089,jh=32823,Lh=32926,Bh=32928,th=5126,Al=35664,Of=35665,xf=35666,Bu=5124,Cu=35667,$o=35668,Cf=35669,Lc=35670,Af=35671,Sf=35672,nc=35673,Bc=35674,ac=35675,ic=35676,wc=35678,Rc=35680,wh=4,Fc=1028,ts=1029,Rh=2304,eh=2305,Ed=32775,Fh=32776,Od=519,Yu=7680,Nh=0,Gh=1,rh=32774,xd=513,nh=36160,ah=36064,Ys={"0":0,"1":1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ih=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Uo={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Zo={"0":0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Ku={frag:Ds,vert:rc},oh={cw:Rh,ccw:eh};function Nc(ie){return Array.isArray(ie)||f(ie)||ji(ie)}function Gc(ie){return ie.sort(function(ge,ze){return ge===il?-1:ze===il?1:ge<ze?-1:1})}function bs(ie,ge,ze,Dr){this.thisDep=ie,this.contextDep=ge,this.propDep=ze,this.append=Dr}function sl(ie){return ie&&!(ie.thisDep||ie.contextDep||ie.propDep)}function Wo(ie){return new bs(!1,!1,!1,ie)}function Ks(ie,ge){var ze=ie.type;if(ze===Xf){var Dr=ie.data.length;return new bs(!0,Dr>=1,Dr>=2,ge)}else if(ze===Dc){var $r=ie.data;return new bs($r.thisDep,$r.contextDep,$r.propDep,ge)}else{if(ze===xh)return new bs(!1,!1,!1,ge);if(ze===Ql){for(var kr=!1,Pr=!1,pn=!1,jn=0;jn<ie.data.length;++jn){var An=ie.data[jn];if(An.type===Oh)pn=!0;else if(An.type===uf)Pr=!0;else if(An.type===Yf)kr=!0;else if(An.type===Xf){kr=!0;var En=An.data;En>=1&&(Pr=!0),En>=2&&(pn=!0)}else An.type===Dc&&(kr=kr||An.data.thisDep,Pr=Pr||An.data.contextDep,pn=pn||An.data.propDep)}return new bs(kr,Pr,pn,ge)}else return new bs(ze===Yf,ze===uf,ze===Oh,ge)}}var Sl=new bs(!1,!1,!1,function(){});function Uc(ie,ge,ze,Dr,$r,kr,Pr,pn,jn,An,En,Ln,$n,Nn,Mn){var Mr=An.Record,Tr={add:32774,subtract:32778,"reverse subtract":32779};ze.ext_blend_minmax&&(Tr.min=Ed,Tr.max=Fh);var xn=ze.angle_instanced_arrays,Vn=ze.webgl_draw_buffers,Kr={dirty:!0,profile:Mn.profile},Ta={},Sn=[],sn={},fn={};function Pn(Pe){return Pe.replace(".","_")}function Ca(Pe,Oe,Qe){var mr=Pn(Pe);Sn.push(Pe),Ta[mr]=Kr[mr]=!!Qe,sn[mr]=Oe}function vi(Pe,Oe,Qe){var mr=Pn(Pe);Sn.push(Pe),Array.isArray(Qe)?(Kr[mr]=Qe.slice(),Ta[mr]=Qe.slice()):Kr[mr]=Ta[mr]=Qe,fn[mr]=Oe}Ca(Ch,xa),Ca(Pc,ms),vi(Jl,"blendColor",[0,0,0,0]),vi(lf,"blendEquationSeparate",[rh,rh]),vi(Ic,"blendFuncSeparate",[Gh,Nh,Gh,Nh]),Ca(Ah,av,!0),vi(vd,"depthFunc",xd),vi(Kf,"depthRange",[0,1]),vi($f,"depthMask",!0),vi(Zf,Zf,[!0,!0,!0,!0]),Ca(Qf,Ih),vi(Sh,"cullFace",ts),vi(cf,cf,eh),vi(_l,_l,1),Ca(ff,jh),vi(ys,"polygonOffset",[0,0]),Ca(hf,Lh),Ca(gd,Bh),vi(df,"sampleCoverage",[1,!1]),Ca(Jf,Ef),vi(pd,"stencilMask",-1),vi(Mh,"stencilFunc",[Od,0,-1]),vi(Th,"stencilOpSeparate",[Fc,Yu,Yu,Yu]),vi(xl,"stencilOpSeparate",[ts,Yu,Yu,Yu]),Ca(yd,jc),vi(_f,"scissor",[0,0,ie.drawingBufferWidth,ie.drawingBufferHeight]),vi(il,il,[0,0,ie.drawingBufferWidth,ie.drawingBufferHeight]);var kn={gl:ie,context:$n,strings:ge,next:Ta,current:Kr,draw:Ln,elements:kr,buffer:$r,shader:En,attributes:An.state,vao:An,uniforms:jn,framebuffer:pn,extensions:ze,timer:Nn,isBufferArgs:Nc},Bn={primTypes:Re,compareFuncs:Uo,blendFuncs:Ys,blendEquations:Tr,stencilOps:Zo,glTypes:Po,orientationType:oh};G.optional(function(){kn.isArrayLike=Na}),Vn&&(Bn.backBuffer=[ts],Bn.drawBuffer=nr(Dr.maxDrawbuffers,function(Pe){return Pe===0?[0]:nr(Pe,function(Oe){return ah+Oe})}));var rn=0;function $a(){var Pe=Xu(),Oe=Pe.link,Qe=Pe.global;Pe.id=rn++,Pe.batchId="0";var mr=Oe(kn),Er=Pe.shared={props:"a0"};Object.keys(kn).forEach(function(Xe){Er[Xe]=Qe.def(mr,".",Xe)}),G.optional(function(){Pe.CHECK=Oe(G),Pe.commandStr=G.guessCommand(),Pe.command=Oe(Pe.commandStr),Pe.assert=function(Xe,Me,pr){Xe("if(!(",Me,"))",this.CHECK,".commandRaise(",Oe(pr),",",this.command,");")},Bn.invalidBlendCombinations=ih});var ar=Pe.next={},Je=Pe.current={};Object.keys(fn).forEach(function(Xe){Array.isArray(Kr[Xe])&&(ar[Xe]=Qe.def(Er.next,".",Xe),Je[Xe]=Qe.def(Er.current,".",Xe))});var hr=Pe.constants={};Object.keys(Bn).forEach(function(Xe){hr[Xe]=Qe.def(JSON.stringify(Bn[Xe]))}),Pe.invoke=function(Xe,Me){switch(Me.type){case Xf:var pr=["this",Er.context,Er.props,Pe.batchId];return Xe.def(Oe(Me.data),".call(",pr.slice(0,Math.max(Me.data.length+1,4)),")");case Oh:return Xe.def(Er.props,Me.data);case uf:return Xe.def(Er.context,Me.data);case Yf:return Xe.def("this",Me.data);case Dc:return Me.data.append(Pe,Xe),Me.data.ref;case xh:return Me.data.toString();case Ql:return Me.data.map(function(xr){return Pe.invoke(Xe,xr)})}},Pe.attribCache={};var Le={};return Pe.scopeAttrib=function(Xe){var Me=ge.id(Xe);if(Me in Le)return Le[Me];var pr=An.scope[Me];pr||(pr=An.scope[Me]=new Mr);var xr=Le[Me]=Oe(pr);return xr},Pe}function Li(Pe){var Oe=Pe.static,Qe=Pe.dynamic,mr;if(vf in Oe){var Er=!!Oe[vf];mr=Wo(function(Je,hr){return Er}),mr.enable=Er}else if(vf in Qe){var ar=Qe[vf];mr=Ks(ar,function(Je,hr){return Je.invoke(hr,ar)})}return mr}function va(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic;if(ql in Qe){var Er=Qe[ql];return Er?(Er=pn.getFramebuffer(Er),G.command(Er,"invalid framebuffer object"),Wo(function(Je,hr){var Le=Je.link(Er),Xe=Je.shared;hr.set(Xe.framebuffer,".next",Le);var Me=Xe.context;return hr.set(Me,"."+su,Le+".width"),hr.set(Me,"."+ec,Le+".height"),Le})):Wo(function(Je,hr){var Le=Je.shared;hr.set(Le.framebuffer,".next","null");var Xe=Le.context;return hr.set(Xe,"."+su,Xe+"."+Ao),hr.set(Xe,"."+ec,Xe+"."+Dh),"null"})}else if(ql in mr){var ar=mr[ql];return Ks(ar,function(Je,hr){var Le=Je.invoke(hr,ar),Xe=Je.shared,Me=Xe.framebuffer,pr=hr.def(Me,".getFramebuffer(",Le,")");G.optional(function(){Je.assert(hr,"!"+Le+"||"+pr,"invalid framebuffer object")}),hr.set(Me,".next",pr);var xr=Xe.context;return hr.set(xr,"."+su,pr+"?"+pr+".width:"+xr+"."+Ao),hr.set(xr,"."+ec,pr+"?"+pr+".height:"+xr+"."+Dh),pr})}else return null}function Bi(Pe,Oe,Qe){var mr=Pe.static,Er=Pe.dynamic;function ar(Le){if(Le in mr){var Xe=mr[Le];G.commandType(Xe,"object","invalid "+Le,Qe.commandStr);var Me=!0,pr=Xe.x|0,xr=Xe.y|0,Qr,en;return"width"in Xe?(Qr=Xe.width|0,G.command(Qr>=0,"invalid "+Le,Qe.commandStr)):Me=!1,"height"in Xe?(en=Xe.height|0,G.command(en>=0,"invalid "+Le,Qe.commandStr)):Me=!1,new bs(!Me&&Oe&&Oe.thisDep,!Me&&Oe&&Oe.contextDep,!Me&&Oe&&Oe.propDep,function(Da,Di){var Xn=Da.shared.context,Ya=Qr;"width"in Xe||(Ya=Di.def(Xn,".",su,"-",pr));var Wn=en;return"height"in Xe||(Wn=Di.def(Xn,".",ec,"-",xr)),[pr,xr,Ya,Wn]})}else if(Le in Er){var Xr=Er[Le],Dn=Ks(Xr,function(Da,Di){var Xn=Da.invoke(Di,Xr);G.optional(function(){Da.assert(Di,Xn+"&&typeof "+Xn+'==="object"',"invalid "+Le)});var Ya=Da.shared.context,Wn=Di.def(Xn,".x|0"),$i=Di.def(Xn,".y|0"),po=Di.def('"width" in ',Xn,"?",Xn,".width|0:","(",Ya,".",su,"-",Wn,")"),Ps=Di.def('"height" in ',Xn,"?",Xn,".height|0:","(",Ya,".",ec,"-",$i,")");return G.optional(function(){Da.assert(Di,po+">=0&&"+Ps+">=0","invalid "+Le)}),[Wn,$i,po,Ps]});return Oe&&(Dn.thisDep=Dn.thisDep||Oe.thisDep,Dn.contextDep=Dn.contextDep||Oe.contextDep,Dn.propDep=Dn.propDep||Oe.propDep),Dn}else return Oe?new bs(Oe.thisDep,Oe.contextDep,Oe.propDep,function(Da,Di){var Xn=Da.shared.context;return[0,0,Di.def(Xn,".",su),Di.def(Xn,".",ec)]}):null}var Je=ar(il);if(Je){var hr=Je;Je=new bs(Je.thisDep,Je.contextDep,Je.propDep,function(Le,Xe){var Me=hr.append(Le,Xe),pr=Le.shared.context;return Xe.set(pr,"."+bf,Me[2]),Xe.set(pr,"."+md,Me[3]),Me})}return{viewport:Je,scissor_box:ar(_f)}}function si(Pe,Oe){var Qe=Pe.static,mr=typeof Qe[Go]=="string"&&typeof Qe[gf]=="string";if(mr){if(Object.keys(Oe.dynamic).length>0)return null;var Er=Oe.static,ar=Object.keys(Er);if(ar.length>0&&typeof Er[ar[0]]=="number"){for(var Je=[],hr=0;hr<ar.length;++hr)G(typeof Er[ar[hr]]=="number","must specify all vertex attribute locations when using vaos"),Je.push([Er[ar[hr]]|0,ar[hr]]);return Je}}return null}function Mi(Pe,Oe,Qe){var mr=Pe.static,Er=Pe.dynamic;function ar(Me){if(Me in mr){var pr=ge.id(mr[Me]);G.optional(function(){En.shader(Ku[Me],pr,G.guessCommand())});var xr=Wo(function(){return pr});return xr.id=pr,xr}else if(Me in Er){var Qr=Er[Me];return Ks(Qr,function(en,Xr){var Dn=en.invoke(Xr,Qr),Da=Xr.def(en.shared.strings,".id(",Dn,")");return G.optional(function(){Xr(en.shared.shader,".shader(",Ku[Me],",",Da,",",en.command,");")}),Da})}return null}var Je=ar(Go),hr=ar(gf),Le=null,Xe;return sl(Je)&&sl(hr)?(Le=En.program(hr.id,Je.id,null,Qe),Xe=Wo(function(Me,pr){return Me.link(Le)})):Xe=new bs(Je&&Je.thisDep||hr&&hr.thisDep,Je&&Je.contextDep||hr&&hr.contextDep,Je&&Je.propDep||hr&&hr.propDep,function(Me,pr){var xr=Me.shared.shader,Qr;Je?Qr=Je.append(Me,pr):Qr=pr.def(xr,".",Go);var en;hr?en=hr.append(Me,pr):en=pr.def(xr,".",gf);var Xr=xr+".program("+en+","+Qr;return G.optional(function(){Xr+=","+Me.command}),pr.def(Xr+")")}),{frag:Je,vert:hr,progVar:Xe,program:Le}}function Yi(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic;function Er(){if(Cl in Qe){var Me=Qe[Cl];Nc(Me)?Me=kr.getElements(kr.create(Me,!0)):Me&&(Me=kr.getElements(Me),G.command(Me,"invalid elements",Oe.commandStr));var pr=Wo(function(Qr,en){if(Me){var Xr=Qr.link(Me);return Qr.ELEMENTS=Xr,Xr}return Qr.ELEMENTS=null,null});return pr.value=Me,pr}else if(Cl in mr){var xr=mr[Cl];return Ks(xr,function(Qr,en){var Xr=Qr.shared,Dn=Xr.isBufferArgs,Da=Xr.elements,Di=Qr.invoke(en,xr),Xn=en.def("null"),Ya=en.def(Dn,"(",Di,")"),Wn=Qr.cond(Ya).then(Xn,"=",Da,".createStream(",Di,");").else(Xn,"=",Da,".getElements(",Di,");");return G.optional(function(){Qr.assert(Wn.else,"!"+Di+"||"+Xn,"invalid elements")}),en.entry(Wn),en.exit(Qr.cond(Ya).then(Da,".destroyStream(",Xn,");")),Qr.ELEMENTS=Xn,Xn})}return null}var ar=Er();function Je(){if(ol in Qe){var Me=Qe[ol];return G.commandParameter(Me,Re,"invalid primitve",Oe.commandStr),Wo(function(xr,Qr){return Re[Me]})}else if(ol in mr){var pr=mr[ol];return Ks(pr,function(xr,Qr){var en=xr.constants.primTypes,Xr=xr.invoke(Qr,pr);return G.optional(function(){xr.assert(Qr,Xr+" in "+en,"invalid primitive, must be one of "+Object.keys(Re))}),Qr.def(en,"[",Xr,"]")})}else if(ar)return sl(ar)?ar.value?Wo(function(xr,Qr){return Qr.def(xr.ELEMENTS,".primType")}):Wo(function(){return wh}):new bs(ar.thisDep,ar.contextDep,ar.propDep,function(xr,Qr){var en=xr.ELEMENTS;return Qr.def(en,"?",en,".primType:",wh)});return null}function hr(Me,pr){if(Me in Qe){var xr=Qe[Me]|0;return G.command(!pr||xr>=0,"invalid "+Me,Oe.commandStr),Wo(function(en,Xr){return pr&&(en.OFFSET=xr),xr})}else if(Me in mr){var Qr=mr[Me];return Ks(Qr,function(en,Xr){var Dn=en.invoke(Xr,Qr);return pr&&(en.OFFSET=Dn,G.optional(function(){en.assert(Xr,Dn+">=0","invalid "+Me)})),Dn})}else if(pr&&ar)return Wo(function(en,Xr){return en.OFFSET="0",0});return null}var Le=hr(pf,!0);function Xe(){if(Lu in Qe){var Me=Qe[Lu]|0;return G.command(typeof Me=="number"&&Me>=0,"invalid vertex count",Oe.commandStr),Wo(function(){return Me})}else if(Lu in mr){var pr=mr[Lu];return Ks(pr,function(en,Xr){var Dn=en.invoke(Xr,pr);return G.optional(function(){en.assert(Xr,"typeof "+Dn+'==="number"&&'+Dn+">=0&&"+Dn+"===("+Dn+"|0)","invalid vertex count")}),Dn})}else if(ar)if(sl(ar)){if(ar)return Le?new bs(Le.thisDep,Le.contextDep,Le.propDep,function(en,Xr){var Dn=Xr.def(en.ELEMENTS,".vertCount-",en.OFFSET);return G.optional(function(){en.assert(Xr,Dn+">=0","invalid vertex offset/element buffer too small")}),Dn}):Wo(function(en,Xr){return Xr.def(en.ELEMENTS,".vertCount")});var xr=Wo(function(){return-1});return G.optional(function(){xr.MISSING=!0}),xr}else{var Qr=new bs(ar.thisDep||Le.thisDep,ar.contextDep||Le.contextDep,ar.propDep||Le.propDep,function(en,Xr){var Dn=en.ELEMENTS;return en.OFFSET?Xr.def(Dn,"?",Dn,".vertCount-",en.OFFSET,":-1"):Xr.def(Dn,"?",Dn,".vertCount:-1")});return G.optional(function(){Qr.DYNAMIC=!0}),Qr}return null}return{elements:ar,primitive:Je(),count:Xe(),instances:hr(yf,!1),offset:Le}}function Qo(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic,Er={};return Sn.forEach(function(ar){var Je=Pn(ar);function hr(Le,Xe){if(ar in Qe){var Me=Le(Qe[ar]);Er[Je]=Wo(function(){return Me})}else if(ar in mr){var pr=mr[ar];Er[Je]=Ks(pr,function(xr,Qr){return Xe(xr,Qr,xr.invoke(Qr,pr))})}}switch(ar){case Qf:case Pc:case Ch:case Jf:case Ah:case yd:case ff:case hf:case gd:case $f:return hr(function(Le){return G.commandType(Le,"boolean",ar,Oe.commandStr),Le},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,"typeof "+Me+'==="boolean"',"invalid flag "+ar,Le.commandStr)}),Me});case vd:return hr(function(Le){return G.commandParameter(Le,Uo,"invalid "+ar,Oe.commandStr),Uo[Le]},function(Le,Xe,Me){var pr=Le.constants.compareFuncs;return G.optional(function(){Le.assert(Xe,Me+" in "+pr,"invalid "+ar+", must be one of "+Object.keys(Uo))}),Xe.def(pr,"[",Me,"]")});case Kf:return hr(function(Le){return G.command(Na(Le)&&Le.length===2&&typeof Le[0]=="number"&&typeof Le[1]=="number"&&Le[0]<=Le[1],"depth range is 2d array",Oe.commandStr),Le},function(Le,Xe,Me){G.optional(function(){Le.assert(Xe,Le.shared.isArrayLike+"("+Me+")&&"+Me+".length===2&&typeof "+Me+'[0]==="number"&&typeof '+Me+'[1]==="number"&&'+Me+"[0]<="+Me+"[1]","depth range must be a 2d array")});var pr=Xe.def("+",Me,"[0]"),xr=Xe.def("+",Me,"[1]");return[pr,xr]});case Ic:return hr(function(Le){G.commandType(Le,"object","blend.func",Oe.commandStr);var Xe="srcRGB"in Le?Le.srcRGB:Le.src,Me="srcAlpha"in Le?Le.srcAlpha:Le.src,pr="dstRGB"in Le?Le.dstRGB:Le.dst,xr="dstAlpha"in Le?Le.dstAlpha:Le.dst;return G.commandParameter(Xe,Ys,Je+".srcRGB",Oe.commandStr),G.commandParameter(Me,Ys,Je+".srcAlpha",Oe.commandStr),G.commandParameter(pr,Ys,Je+".dstRGB",Oe.commandStr),G.commandParameter(xr,Ys,Je+".dstAlpha",Oe.commandStr),G.command(ih.indexOf(Xe+", "+pr)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Xe+", "+pr+")",Oe.commandStr),[Ys[Xe],Ys[pr],Ys[Me],Ys[xr]]},function(Le,Xe,Me){var pr=Le.constants.blendFuncs;G.optional(function(){Le.assert(Xe,Me+"&&typeof "+Me+'==="object"',"invalid blend func, must be an object")});function xr(Xn,Ya){var Wn=Xe.def('"',Xn,Ya,'" in ',Me,"?",Me,".",Xn,Ya,":",Me,".",Xn);return G.optional(function(){Le.assert(Xe,Wn+" in "+pr,"invalid "+ar+"."+Xn+Ya+", must be one of "+Object.keys(Ys))}),Wn}var Qr=xr("src","RGB"),en=xr("dst","RGB");G.optional(function(){var Xn=Le.constants.invalidBlendCombinations;Le.assert(Xe,Xn+".indexOf("+Qr+'+", "+'+en+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Xr=Xe.def(pr,"[",Qr,"]"),Dn=Xe.def(pr,"[",xr("src","Alpha"),"]"),Da=Xe.def(pr,"[",en,"]"),Di=Xe.def(pr,"[",xr("dst","Alpha"),"]");return[Xr,Da,Dn,Di]});case lf:return hr(function(Le){if(typeof Le=="string")return G.commandParameter(Le,Tr,"invalid "+ar,Oe.commandStr),[Tr[Le],Tr[Le]];if(typeof Le=="object")return G.commandParameter(Le.rgb,Tr,ar+".rgb",Oe.commandStr),G.commandParameter(Le.alpha,Tr,ar+".alpha",Oe.commandStr),[Tr[Le.rgb],Tr[Le.alpha]];G.commandRaise("invalid blend.equation",Oe.commandStr)},function(Le,Xe,Me){var pr=Le.constants.blendEquations,xr=Xe.def(),Qr=Xe.def(),en=Le.cond("typeof ",Me,'==="string"');return G.optional(function(){function Xr(Dn,Da,Di){Le.assert(Dn,Di+" in "+pr,"invalid "+Da+", must be one of "+Object.keys(Tr))}Xr(en.then,ar,Me),Le.assert(en.else,Me+"&&typeof "+Me+'==="object"',"invalid "+ar),Xr(en.else,ar+".rgb",Me+".rgb"),Xr(en.else,ar+".alpha",Me+".alpha")}),en.then(xr,"=",Qr,"=",pr,"[",Me,"];"),en.else(xr,"=",pr,"[",Me,".rgb];",Qr,"=",pr,"[",Me,".alpha];"),Xe(en),[xr,Qr]});case Jl:return hr(function(Le){return G.command(Na(Le)&&Le.length===4,"blend.color must be a 4d array",Oe.commandStr),nr(4,function(Xe){return+Le[Xe]})},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,Le.shared.isArrayLike+"("+Me+")&&"+Me+".length===4","blend.color must be a 4d array")}),nr(4,function(pr){return Xe.def("+",Me,"[",pr,"]")})});case pd:return hr(function(Le){return G.commandType(Le,"number",Je,Oe.commandStr),Le|0},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,"typeof "+Me+'==="number"',"invalid stencil.mask")}),Xe.def(Me,"|0")});case Mh:return hr(function(Le){G.commandType(Le,"object",Je,Oe.commandStr);var Xe=Le.cmp||"keep",Me=Le.ref||0,pr="mask"in Le?Le.mask:-1;return G.commandParameter(Xe,Uo,ar+".cmp",Oe.commandStr),G.commandType(Me,"number",ar+".ref",Oe.commandStr),G.commandType(pr,"number",ar+".mask",Oe.commandStr),[Uo[Xe],Me,pr]},function(Le,Xe,Me){var pr=Le.constants.compareFuncs;G.optional(function(){function Xr(){Le.assert(Xe,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Xr(Me+"&&typeof ",Me,'==="object"'),Xr('!("cmp" in ',Me,")||(",Me,".cmp in ",pr,")")});var xr=Xe.def('"cmp" in ',Me,"?",pr,"[",Me,".cmp]",":",Yu),Qr=Xe.def(Me,".ref|0"),en=Xe.def('"mask" in ',Me,"?",Me,".mask|0:-1");return[xr,Qr,en]});case Th:case xl:return hr(function(Le){G.commandType(Le,"object",Je,Oe.commandStr);var Xe=Le.fail||"keep",Me=Le.zfail||"keep",pr=Le.zpass||"keep";return G.commandParameter(Xe,Zo,ar+".fail",Oe.commandStr),G.commandParameter(Me,Zo,ar+".zfail",Oe.commandStr),G.commandParameter(pr,Zo,ar+".zpass",Oe.commandStr),[ar===xl?ts:Fc,Zo[Xe],Zo[Me],Zo[pr]]},function(Le,Xe,Me){var pr=Le.constants.stencilOps;G.optional(function(){Le.assert(Xe,Me+"&&typeof "+Me+'==="object"',"invalid "+ar)});function xr(Qr){return G.optional(function(){Le.assert(Xe,'!("'+Qr+'" in '+Me+")||("+Me+"."+Qr+" in "+pr+")","invalid "+ar+"."+Qr+", must be one of "+Object.keys(Zo))}),Xe.def('"',Qr,'" in ',Me,"?",pr,"[",Me,".",Qr,"]:",Yu)}return[ar===xl?ts:Fc,xr("fail"),xr("zfail"),xr("zpass")]});case ys:return hr(function(Le){G.commandType(Le,"object",Je,Oe.commandStr);var Xe=Le.factor|0,Me=Le.units|0;return G.commandType(Xe,"number",Je+".factor",Oe.commandStr),G.commandType(Me,"number",Je+".units",Oe.commandStr),[Xe,Me]},function(Le,Xe,Me){G.optional(function(){Le.assert(Xe,Me+"&&typeof "+Me+'==="object"',"invalid "+ar)});var pr=Xe.def(Me,".factor|0"),xr=Xe.def(Me,".units|0");return[pr,xr]});case Sh:return hr(function(Le){var Xe=0;return Le==="front"?Xe=Fc:Le==="back"&&(Xe=ts),G.command(!!Xe,Je,Oe.commandStr),Xe},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,Me+'==="front"||'+Me+'==="back"',"invalid cull.face")}),Xe.def(Me,'==="front"?',Fc,":",ts)});case _l:return hr(function(Le){return G.command(typeof Le=="number"&&Le>=Dr.lineWidthDims[0]&&Le<=Dr.lineWidthDims[1],"invalid line width, must be a positive number between "+Dr.lineWidthDims[0]+" and "+Dr.lineWidthDims[1],Oe.commandStr),Le},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,"typeof "+Me+'==="number"&&'+Me+">="+Dr.lineWidthDims[0]+"&&"+Me+"<="+Dr.lineWidthDims[1],"invalid line width")}),Me});case cf:return hr(function(Le){return G.commandParameter(Le,oh,Je,Oe.commandStr),oh[Le]},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,Me+'==="cw"||'+Me+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Xe.def(Me+'==="cw"?'+Rh+":"+eh)});case Zf:return hr(function(Le){return G.command(Na(Le)&&Le.length===4,"color.mask must be length 4 array",Oe.commandStr),Le.map(function(Xe){return!!Xe})},function(Le,Xe,Me){return G.optional(function(){Le.assert(Xe,Le.shared.isArrayLike+"("+Me+")&&"+Me+".length===4","invalid color.mask")}),nr(4,function(pr){return"!!"+Me+"["+pr+"]"})});case df:return hr(function(Le){G.command(typeof Le=="object"&&Le,Je,Oe.commandStr);var Xe="value"in Le?Le.value:1,Me=!!Le.invert;return G.command(typeof Xe=="number"&&Xe>=0&&Xe<=1,"sample.coverage.value must be a number between 0 and 1",Oe.commandStr),[Xe,Me]},function(Le,Xe,Me){G.optional(function(){Le.assert(Xe,Me+"&&typeof "+Me+'==="object"',"invalid sample.coverage")});var pr=Xe.def('"value" in ',Me,"?+",Me,".value:1"),xr=Xe.def("!!",Me,".invert");return[pr,xr]})}}),Er}function zo(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic,Er={};return Object.keys(Qe).forEach(function(ar){var Je=Qe[ar],hr;if(typeof Je=="number"||typeof Je=="boolean")hr=Wo(function(){return Je});else if(typeof Je=="function"){var Le=Je._reglType;Le==="texture2d"||Le==="textureCube"?hr=Wo(function(Xe){return Xe.link(Je)}):Le==="framebuffer"||Le==="framebufferCube"?(G.command(Je.color.length>0,'missing color attachment for framebuffer sent to uniform "'+ar+'"',Oe.commandStr),hr=Wo(function(Xe){return Xe.link(Je.color[0])})):G.commandRaise('invalid data for uniform "'+ar+'"',Oe.commandStr)}else Na(Je)?hr=Wo(function(Xe){var Me=Xe.global.def("[",nr(Je.length,function(pr){return G.command(typeof Je[pr]=="number"||typeof Je[pr]=="boolean","invalid uniform "+ar,Xe.commandStr),Je[pr]}),"]");return Me}):G.commandRaise('invalid or missing data for uniform "'+ar+'"',Oe.commandStr);hr.value=Je,Er[ar]=hr}),Object.keys(mr).forEach(function(ar){var Je=mr[ar];Er[ar]=Ks(Je,function(hr,Le){return hr.invoke(Le,Je)})}),Er}function Ni(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic,Er={};return Object.keys(Qe).forEach(function(ar){var Je=Qe[ar],hr=ge.id(ar),Le=new Mr;if(Nc(Je))Le.state=al,Le.buffer=$r.getBuffer($r.create(Je,Ko,!1,!0)),Le.type=0;else{var Xe=$r.getBuffer(Je);if(Xe)Le.state=al,Le.buffer=Xe,Le.type=0;else if(G.command(typeof Je=="object"&&Je,"invalid data for attribute "+ar,Oe.commandStr),"constant"in Je){var Me=Je.constant;Le.buffer="null",Le.state=sf,typeof Me=="number"?Le.x=Me:(G.command(Na(Me)&&Me.length>0&&Me.length<=4,"invalid constant for attribute "+ar,Oe.commandStr),zr.forEach(function(Da,Di){Di<Me.length&&(Le[Da]=Me[Di])}))}else{Nc(Je.buffer)?Xe=$r.getBuffer($r.create(Je.buffer,Ko,!1,!0)):Xe=$r.getBuffer(Je.buffer),G.command(!!Xe,'missing buffer for attribute "'+ar+'"',Oe.commandStr);var pr=Je.offset|0;G.command(pr>=0,'invalid offset for attribute "'+ar+'"',Oe.commandStr);var xr=Je.stride|0;G.command(xr>=0&&xr<256,'invalid stride for attribute "'+ar+'", must be integer betweeen [0, 255]',Oe.commandStr);var Qr=Je.size|0;G.command(!("size"in Je)||Qr>0&&Qr<=4,'invalid size for attribute "'+ar+'", must be 1,2,3,4',Oe.commandStr);var en=!!Je.normalized,Xr=0;"type"in Je&&(G.commandParameter(Je.type,Po,"invalid type for attribute "+ar,Oe.commandStr),Xr=Po[Je.type]);var Dn=Je.divisor|0;"divisor"in Je&&(G.command(Dn===0||xn,'cannot specify divisor for attribute "'+ar+'", instancing not supported',Oe.commandStr),G.command(Dn>=0,'invalid divisor for attribute "'+ar+'"',Oe.commandStr)),G.optional(function(){var Da=Oe.commandStr,Di=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(Je).forEach(function(Xn){G.command(Di.indexOf(Xn)>=0,'unknown parameter "'+Xn+'" for attribute pointer "'+ar+'" (valid parameters are '+Di+")",Da)})}),Le.buffer=Xe,Le.state=al,Le.size=Qr,Le.normalized=en,Le.type=Xr||Xe.dtype,Le.offset=pr,Le.stride=xr,Le.divisor=Dn}}Er[ar]=Wo(function(Da,Di){var Xn=Da.attribCache;if(hr in Xn)return Xn[hr];var Ya={isStream:!1};return Object.keys(Le).forEach(function(Wn){Ya[Wn]=Le[Wn]}),Le.buffer&&(Ya.buffer=Da.link(Le.buffer),Ya.type=Ya.type||Ya.buffer+".dtype"),Xn[hr]=Ya,Ya})}),Object.keys(mr).forEach(function(ar){var Je=mr[ar];function hr(Le,Xe){var Me=Le.invoke(Xe,Je),pr=Le.shared,xr=Le.constants,Qr=pr.isBufferArgs,en=pr.buffer;G.optional(function(){Le.assert(Xe,Me+"&&(typeof "+Me+'==="object"||typeof '+Me+'==="function")&&('+Qr+"("+Me+")||"+en+".getBuffer("+Me+")||"+en+".getBuffer("+Me+".buffer)||"+Qr+"("+Me+'.buffer)||("constant" in '+Me+"&&(typeof "+Me+'.constant==="number"||'+pr.isArrayLike+"("+Me+".constant))))",'invalid dynamic attribute "'+ar+'"')});var Xr={isStream:Xe.def(!1)},Dn=new Mr;Dn.state=al,Object.keys(Dn).forEach(function(Ya){Xr[Ya]=Xe.def(""+Dn[Ya])});var Da=Xr.buffer,Di=Xr.type;Xe("if(",Qr,"(",Me,")){",Xr.isStream,"=true;",Da,"=",en,".createStream(",Ko,",",Me,");",Di,"=",Da,".dtype;","}else{",Da,"=",en,".getBuffer(",Me,");","if(",Da,"){",Di,"=",Da,".dtype;",'}else if("constant" in ',Me,"){",Xr.state,"=",sf,";","if(typeof "+Me+'.constant === "number"){',Xr[zr[0]],"=",Me,".constant;",zr.slice(1).map(function(Ya){return Xr[Ya]}).join("="),"=0;","}else{",zr.map(function(Ya,Wn){return Xr[Ya]+"="+Me+".constant.length>"+Wn+"?"+Me+".constant["+Wn+"]:0;"}).join(""),"}}else{","if(",Qr,"(",Me,".buffer)){",Da,"=",en,".createStream(",Ko,",",Me,".buffer);","}else{",Da,"=",en,".getBuffer(",Me,".buffer);","}",Di,'="type" in ',Me,"?",xr.glTypes,"[",Me,".type]:",Da,".dtype;",Xr.normalized,"=!!",Me,".normalized;");function Xn(Ya){Xe(Xr[Ya],"=",Me,".",Ya,"|0;")}return Xn("size"),Xn("offset"),Xn("stride"),Xn("divisor"),Xe("}}"),Xe.exit("if(",Xr.isStream,"){",en,".destroyStream(",Da,");","}"),Xr}Er[ar]=Ks(Je,hr)}),Er}function es(Pe,Oe){var Qe=Pe.static,mr=Pe.dynamic;if(tc in Qe){var Er=Qe[tc];return Er!==null&&An.getVAO(Er)===null&&(Er=An.createVAO(Er)),Wo(function(Je){return Je.link(An.getVAO(Er))})}else if(tc in mr){var ar=mr[tc];return Ks(ar,function(Je,hr){var Le=Je.invoke(hr,ar);return hr.def(Je.shared.vao+".getVAO("+Le+")")})}return null}function Oo(Pe){var Oe=Pe.static,Qe=Pe.dynamic,mr={};return Object.keys(Oe).forEach(function(Er){var ar=Oe[Er];mr[Er]=Wo(function(Je,hr){return typeof ar=="number"||typeof ar=="boolean"?""+ar:Je.link(ar)})}),Object.keys(Qe).forEach(function(Er){var ar=Qe[Er];mr[Er]=Ks(ar,function(Je,hr){return Je.invoke(hr,ar)})}),mr}function Jo(Pe,Oe,Qe,mr,Er){var ar=Pe.static,Je=Pe.dynamic;G.optional(function(){var Xn=[ql,gf,Go,Cl,ol,pf,Lu,yf,vf,tc].concat(Sn);function Ya(Wn){Object.keys(Wn).forEach(function($i){G.command(Xn.indexOf($i)>=0,'unknown parameter "'+$i+'"',Er.commandStr)})}Ya(ar),Ya(Je)});var hr=si(Pe,Oe),Le=va(Pe,Er),Xe=Bi(Pe,Le,Er),Me=Yi(Pe,Er),pr=Qo(Pe,Er),xr=Mi(Pe,Er,hr);function Qr(Xn){var Ya=Xe[Xn];Ya&&(pr[Xn]=Ya)}Qr(il),Qr(Pn(_f));var en=Object.keys(pr).length>0,Xr={framebuffer:Le,draw:Me,shader:xr,state:pr,dirty:en,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Xr.profile=Li(Pe,Er),Xr.uniforms=zo(Qe,Er),Xr.drawVAO=Xr.scopeVAO=es(Pe,Er),!Xr.drawVAO&&xr.program&&!hr&&ze.angle_instanced_arrays){var Dn=!0,Da=xr.program.attributes.map(function(Xn){var Ya=Oe.static[Xn];return Dn=Dn&&!!Ya,Ya});if(Dn&&Da.length>0){var Di=An.getVAO(An.createVAO(Da));Xr.drawVAO=new bs(null,null,null,function(Xn,Ya){return Xn.link(Di)}),Xr.useVAO=!0}}return hr?Xr.useVAO=!0:Xr.attributes=Ni(Oe,Er),Xr.context=Oo(mr,Er),Xr}function rs(Pe,Oe,Qe){var mr=Pe.shared,Er=mr.context,ar=Pe.scope();Object.keys(Qe).forEach(function(Je){Oe.save(Er,"."+Je);var hr=Qe[Je],Le=hr.append(Pe,Oe);Array.isArray(Le)?ar(Er,".",Je,"=[",Le.join(),"];"):ar(Er,".",Je,"=",Le,";")}),Oe(ar)}function _o(Pe,Oe,Qe,mr){var Er=Pe.shared,ar=Er.gl,Je=Er.framebuffer,hr;Vn&&(hr=Oe.def(Er.extensions,".webgl_draw_buffers"));var Le=Pe.constants,Xe=Le.drawBuffer,Me=Le.backBuffer,pr;Qe?pr=Qe.append(Pe,Oe):pr=Oe.def(Je,".next"),mr||Oe("if(",pr,"!==",Je,".cur){"),Oe("if(",pr,"){",ar,".bindFramebuffer(",nh,",",pr,".framebuffer);"),Vn&&Oe(hr,".drawBuffersWEBGL(",Xe,"[",pr,".colorAttachments.length]);"),Oe("}else{",ar,".bindFramebuffer(",nh,",null);"),Vn&&Oe(hr,".drawBuffersWEBGL(",Me,");"),Oe("}",Je,".cur=",pr,";"),mr||Oe("}")}function ko(Pe,Oe,Qe){var mr=Pe.shared,Er=mr.gl,ar=Pe.current,Je=Pe.next,hr=mr.current,Le=mr.next,Xe=Pe.cond(hr,".dirty");Sn.forEach(function(Me){var pr=Pn(Me);if(!(pr in Qe.state)){var xr,Qr;if(pr in Je){xr=Je[pr],Qr=ar[pr];var en=nr(Kr[pr].length,function(Dn){return Xe.def(xr,"[",Dn,"]")});Xe(Pe.cond(en.map(function(Dn,Da){return Dn+"!=="+Qr+"["+Da+"]"}).join("||")).then(Er,".",fn[pr],"(",en,");",en.map(function(Dn,Da){return Qr+"["+Da+"]="+Dn}).join(";"),";"))}else{xr=Xe.def(Le,".",pr);var Xr=Pe.cond(xr,"!==",hr,".",pr);Xe(Xr),pr in sn?Xr(Pe.cond(xr).then(Er,".enable(",sn[pr],");").else(Er,".disable(",sn[pr],");"),hr,".",pr,"=",xr,";"):Xr(Er,".",fn[pr],"(",xr,");",hr,".",pr,"=",xr,";")}}}),Object.keys(Qe.state).length===0&&Xe(hr,".dirty=false;"),Oe(Xe)}function fs(Pe,Oe,Qe,mr){var Er=Pe.shared,ar=Pe.current,Je=Er.current,hr=Er.gl;Gc(Object.keys(Qe)).forEach(function(Le){var Xe=Qe[Le];if(!(mr&&!mr(Xe))){var Me=Xe.append(Pe,Oe);if(sn[Le]){var pr=sn[Le];sl(Xe)?Me?Oe(hr,".enable(",pr,");"):Oe(hr,".disable(",pr,");"):Oe(Pe.cond(Me).then(hr,".enable(",pr,");").else(hr,".disable(",pr,");")),Oe(Je,".",Le,"=",Me,";")}else if(Na(Me)){var xr=ar[Le];Oe(hr,".",fn[Le],"(",Me,");",Me.map(function(Qr,en){return xr+"["+en+"]="+Qr}).join(";"),";")}else Oe(hr,".",fn[Le],"(",Me,");",Je,".",Le,"=",Me,";")}})}function Vo(Pe,Oe){xn&&(Pe.instancing=Oe.def(Pe.shared.extensions,".angle_instanced_arrays"))}function Ti(Pe,Oe,Qe,mr,Er){var ar=Pe.shared,Je=Pe.stats,hr=ar.current,Le=ar.timer,Xe=Qe.profile;function Me(){return typeof performance=="undefined"?"Date.now()":"performance.now()"}var pr,xr;function Qr(Xn){pr=Oe.def(),Xn(pr,"=",Me(),";"),typeof Er=="string"?Xn(Je,".count+=",Er,";"):Xn(Je,".count++;"),Nn&&(mr?(xr=Oe.def(),Xn(xr,"=",Le,".getNumPendingQueries();")):Xn(Le,".beginQuery(",Je,");"))}function en(Xn){Xn(Je,".cpuTime+=",Me(),"-",pr,";"),Nn&&(mr?Xn(Le,".pushScopeStats(",xr,",",Le,".getNumPendingQueries(),",Je,");"):Xn(Le,".endQuery();"))}function Xr(Xn){var Ya=Oe.def(hr,".profile");Oe(hr,".profile=",Xn,";"),Oe.exit(hr,".profile=",Ya,";")}var Dn;if(Xe){if(sl(Xe)){Xe.enable?(Qr(Oe),en(Oe.exit),Xr("true")):Xr("false");return}Dn=Xe.append(Pe,Oe),Xr(Dn)}else Dn=Oe.def(hr,".profile");var Da=Pe.block();Qr(Da),Oe("if(",Dn,"){",Da,"}");var Di=Pe.block();en(Di),Oe.exit("if(",Dn,"){",Di,"}")}function gs(Pe,Oe,Qe,mr,Er){var ar=Pe.shared;function Je(Le){switch(Le){case Al:case Cu:case Af:return 2;case Of:case $o:case Sf:return 3;case xf:case Cf:case nc:return 4;default:return 1}}function hr(Le,Xe,Me){var pr=ar.gl,xr=Oe.def(Le,".location"),Qr=Oe.def(ar.attributes,"[",xr,"]"),en=Me.state,Xr=Me.buffer,Dn=[Me.x,Me.y,Me.z,Me.w],Da=["buffer","normalized","offset","stride"];function Di(){Oe("if(!",Qr,".buffer){",pr,".enableVertexAttribArray(",xr,");}");var Ya=Me.type,Wn;if(Me.size?Wn=Oe.def(Me.size,"||",Xe):Wn=Xe,Oe("if(",Qr,".type!==",Ya,"||",Qr,".size!==",Wn,"||",Da.map(function(po){return Qr+"."+po+"!=="+Me[po]}).join("||"),"){",pr,".bindBuffer(",Ko,",",Xr,".buffer);",pr,".vertexAttribPointer(",[xr,Wn,Ya,Me.normalized,Me.stride,Me.offset],");",Qr,".type=",Ya,";",Qr,".size=",Wn,";",Da.map(function(po){return Qr+"."+po+"="+Me[po]+";"}).join(""),"}"),xn){var $i=Me.divisor;Oe("if(",Qr,".divisor!==",$i,"){",Pe.instancing,".vertexAttribDivisorANGLE(",[xr,$i],");",Qr,".divisor=",$i,";}")}}function Xn(){Oe("if(",Qr,".buffer){",pr,".disableVertexAttribArray(",xr,");",Qr,".buffer=null;","}if(",zr.map(function(Ya,Wn){return Qr+"."+Ya+"!=="+Dn[Wn]}).join("||"),"){",pr,".vertexAttrib4f(",xr,",",Dn,");",zr.map(function(Ya,Wn){return Qr+"."+Ya+"="+Dn[Wn]+";"}).join(""),"}")}en===al?Di():en===sf?Xn():(Oe("if(",en,"===",al,"){"),Di(),Oe("}else{"),Xn(),Oe("}"))}mr.forEach(function(Le){var Xe=Le.name,Me=Qe.attributes[Xe],pr;if(Me){if(!Er(Me))return;pr=Me.append(Pe,Oe)}else{if(!Er(Sl))return;var xr=Pe.scopeAttrib(Xe);G.optional(function(){Pe.assert(Oe,xr+".state","missing attribute "+Xe)}),pr={},Object.keys(new Mr).forEach(function(Qr){pr[Qr]=Oe.def(xr,".",Qr)})}hr(Pe.link(Le),Je(Le.info.type),pr)})}function to(Pe,Oe,Qe,mr,Er){for(var ar=Pe.shared,Je=ar.gl,hr,Le=0;Le<mr.length;++Le){var Xe=mr[Le],Me=Xe.name,pr=Xe.info.type,xr=Qe.uniforms[Me],Qr=Pe.link(Xe),en=Qr+".location",Xr;if(xr){if(!Er(xr))continue;if(sl(xr)){var Dn=xr.value;if(G.command(Dn!==null&&typeof Dn!="undefined",'missing uniform "'+Me+'"',Pe.commandStr),pr===wc||pr===Rc){G.command(typeof Dn=="function"&&(pr===wc&&(Dn._reglType==="texture2d"||Dn._reglType==="framebuffer")||pr===Rc&&(Dn._reglType==="textureCube"||Dn._reglType==="framebufferCube")),"invalid texture for uniform "+Me,Pe.commandStr);var Da=Pe.link(Dn._texture||Dn.color[0]._texture);Oe(Je,".uniform1i(",en,",",Da+".bind());"),Oe.exit(Da,".unbind();")}else if(pr===Bc||pr===ac||pr===ic){G.optional(function(){G.command(Na(Dn),"invalid matrix for uniform "+Me,Pe.commandStr),G.command(pr===Bc&&Dn.length===4||pr===ac&&Dn.length===9||pr===ic&&Dn.length===16,"invalid length for matrix uniform "+Me,Pe.commandStr)});var Di=Pe.global.def("new Float32Array(["+Array.prototype.slice.call(Dn)+"])"),Xn=2;pr===ac?Xn=3:pr===ic&&(Xn=4),Oe(Je,".uniformMatrix",Xn,"fv(",en,",false,",Di,");")}else{switch(pr){case th:G.commandType(Dn,"number","uniform "+Me,Pe.commandStr),hr="1f";break;case Al:G.command(Na(Dn)&&Dn.length===2,"uniform "+Me,Pe.commandStr),hr="2f";break;case Of:G.command(Na(Dn)&&Dn.length===3,"uniform "+Me,Pe.commandStr),hr="3f";break;case xf:G.command(Na(Dn)&&Dn.length===4,"uniform "+Me,Pe.commandStr),hr="4f";break;case Lc:G.commandType(Dn,"boolean","uniform "+Me,Pe.commandStr),hr="1i";break;case Bu:G.commandType(Dn,"number","uniform "+Me,Pe.commandStr),hr="1i";break;case Af:G.command(Na(Dn)&&Dn.length===2,"uniform "+Me,Pe.commandStr),hr="2i";break;case Cu:G.command(Na(Dn)&&Dn.length===2,"uniform "+Me,Pe.commandStr),hr="2i";break;case Sf:G.command(Na(Dn)&&Dn.length===3,"uniform "+Me,Pe.commandStr),hr="3i";break;case $o:G.command(Na(Dn)&&Dn.length===3,"uniform "+Me,Pe.commandStr),hr="3i";break;case nc:G.command(Na(Dn)&&Dn.length===4,"uniform "+Me,Pe.commandStr),hr="4i";break;case Cf:G.command(Na(Dn)&&Dn.length===4,"uniform "+Me,Pe.commandStr),hr="4i";break}Oe(Je,".uniform",hr,"(",en,",",Na(Dn)?Array.prototype.slice.call(Dn):Dn,");")}continue}else Xr=xr.append(Pe,Oe)}else{if(!Er(Sl))continue;Xr=Oe.def(ar.uniforms,"[",ge.id(Me),"]")}pr===wc?(G(!Array.isArray(Xr),"must specify a scalar prop for textures"),Oe("if(",Xr,"&&",Xr,'._reglType==="framebuffer"){',Xr,"=",Xr,".color[0];","}")):pr===Rc&&(G(!Array.isArray(Xr),"must specify a scalar prop for cube maps"),Oe("if(",Xr,"&&",Xr,'._reglType==="framebufferCube"){',Xr,"=",Xr,".color[0];","}")),G.optional(function(){function Ps(Fs,Vh){Pe.assert(Oe,Fs,'bad data or missing for uniform "'+Me+'".  '+Vh)}function lh(Fs){G(!Array.isArray(Xr),"must not specify an array type for uniform"),Ps("typeof "+Xr+'==="'+Fs+'"',"invalid type, expected "+Fs)}function uu(Fs,Vh){Array.isArray(Xr)?G(Xr.length===Fs,"must have length "+Fs):Ps(ar.isArrayLike+"("+Xr+")&&"+Xr+".length==="+Fs,"invalid vector, should have length "+Fs,Pe.commandStr)}function kh(Fs){G(!Array.isArray(Xr),"must not specify a value type"),Ps("typeof "+Xr+'==="function"&&'+Xr+'._reglType==="texture'+(Fs===Ph?"2d":"Cube")+'"',"invalid texture type",Pe.commandStr)}switch(pr){case Bu:lh("number");break;case Cu:uu(2,"number");break;case $o:uu(3,"number");break;case Cf:uu(4,"number");break;case th:lh("number");break;case Al:uu(2,"number");break;case Of:uu(3,"number");break;case xf:uu(4,"number");break;case Lc:lh("boolean");break;case Af:uu(2,"boolean");break;case Sf:uu(3,"boolean");break;case nc:uu(4,"boolean");break;case Bc:uu(4,"number");break;case ac:uu(9,"number");break;case ic:uu(16,"number");break;case wc:kh(Ph);break;case Rc:kh(bd);break}});var Ya=1;switch(pr){case wc:case Rc:var Wn=Oe.def(Xr,"._texture");Oe(Je,".uniform1i(",en,",",Wn,".bind());"),Oe.exit(Wn,".unbind();");continue;case Bu:case Lc:hr="1i";break;case Cu:case Af:hr="2i",Ya=2;break;case $o:case Sf:hr="3i",Ya=3;break;case Cf:case nc:hr="4i",Ya=4;break;case th:hr="1f";break;case Al:hr="2f",Ya=2;break;case Of:hr="3f",Ya=3;break;case xf:hr="4f",Ya=4;break;case Bc:hr="Matrix2fv";break;case ac:hr="Matrix3fv";break;case ic:hr="Matrix4fv";break}if(Oe(Je,".uniform",hr,"(",en,","),hr.charAt(0)==="M"){var $i=Math.pow(pr-Bc+2,2),po=Pe.global.def("new Float32Array(",$i,")");Array.isArray(Xr)?Oe("false,(",nr($i,function(Ps){return po+"["+Ps+"]="+Xr[Ps]}),",",po,")"):Oe("false,(Array.isArray(",Xr,")||",Xr," instanceof Float32Array)?",Xr,":(",nr($i,function(Ps){return po+"["+Ps+"]="+Xr+"["+Ps+"]"}),",",po,")")}else Ya>1?Oe(nr(Ya,function(Ps){return Array.isArray(Xr)?Xr[Ps]:Xr+"["+Ps+"]"})):(G(!Array.isArray(Xr),"uniform value must not be an array"),Oe(Xr));Oe(");")}}function Xa(Pe,Oe,Qe,mr){var Er=Pe.shared,ar=Er.gl,Je=Er.draw,hr=mr.draw;function Le(){var Wn=hr.elements,$i,po=Oe;return Wn?((Wn.contextDep&&mr.contextDynamic||Wn.propDep)&&(po=Qe),$i=Wn.append(Pe,po)):$i=po.def(Je,".",Cl),$i&&po("if("+$i+")"+ar+".bindBuffer("+Lo+","+$i+".buffer.buffer);"),$i}function Xe(){var Wn=hr.count,$i,po=Oe;return Wn?((Wn.contextDep&&mr.contextDynamic||Wn.propDep)&&(po=Qe),$i=Wn.append(Pe,po),G.optional(function(){Wn.MISSING&&Pe.assert(Oe,"false","missing vertex count"),Wn.DYNAMIC&&Pe.assert(po,$i+">=0","missing vertex count")})):($i=po.def(Je,".",Lu),G.optional(function(){Pe.assert(po,$i+">=0","missing vertex count")})),$i}var Me=Le();function pr(Wn){var $i=hr[Wn];return $i?$i.contextDep&&mr.contextDynamic||$i.propDep?$i.append(Pe,Qe):$i.append(Pe,Oe):Oe.def(Je,".",Wn)}var xr=pr(ol),Qr=pr(pf),en=Xe();if(typeof en=="number"){if(en===0)return}else Qe("if(",en,"){"),Qe.exit("}");var Xr,Dn;xn&&(Xr=pr(yf),Dn=Pe.instancing);var Da=Me+".type",Di=hr.elements&&sl(hr.elements);function Xn(){function Wn(){Qe(Dn,".drawElementsInstancedANGLE(",[xr,en,Da,Qr+"<<(("+Da+"-"+Hf+")>>1)",Xr],");")}function $i(){Qe(Dn,".drawArraysInstancedANGLE(",[xr,Qr,en,Xr],");")}Me?Di?Wn():(Qe("if(",Me,"){"),Wn(),Qe("}else{"),$i(),Qe("}")):$i()}function Ya(){function Wn(){Qe(ar+".drawElements("+[xr,en,Da,Qr+"<<(("+Da+"-"+Hf+")>>1)"]+");")}function $i(){Qe(ar+".drawArrays("+[xr,Qr,en]+");")}Me?Di?Wn():(Qe("if(",Me,"){"),Wn(),Qe("}else{"),$i(),Qe("}")):$i()}xn&&(typeof Xr!="number"||Xr>=0)?typeof Xr=="string"?(Qe("if(",Xr,">0){"),Xn(),Qe("}else if(",Xr,"<0){"),Ya(),Qe("}")):Xn():Ya()}function Za(Pe,Oe,Qe,mr,Er){var ar=$a(),Je=ar.proc("body",Er);return G.optional(function(){ar.commandStr=Oe.commandStr,ar.command=ar.link(Oe.commandStr)}),xn&&(ar.instancing=Je.def(ar.shared.extensions,".angle_instanced_arrays")),Pe(ar,Je,Qe,mr),ar.compile().body}function Ii(Pe,Oe,Qe,mr){Vo(Pe,Oe),Qe.useVAO?Qe.drawVAO?Oe(Pe.shared.vao,".setVAO(",Qe.drawVAO.append(Pe,Oe),");"):Oe(Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"):(Oe(Pe.shared.vao,".setVAO(null);"),gs(Pe,Oe,Qe,mr.attributes,function(){return!0})),to(Pe,Oe,Qe,mr.uniforms,function(){return!0}),Xa(Pe,Oe,Oe,Qe)}function To(Pe,Oe){var Qe=Pe.proc("draw",1);Vo(Pe,Qe),rs(Pe,Qe,Oe.context),_o(Pe,Qe,Oe.framebuffer),ko(Pe,Qe,Oe),fs(Pe,Qe,Oe.state),Ti(Pe,Qe,Oe,!1,!0);var mr=Oe.shader.progVar.append(Pe,Qe);if(Qe(Pe.shared.gl,".useProgram(",mr,".program);"),Oe.shader.program)Ii(Pe,Qe,Oe,Oe.shader.program);else{Qe(Pe.shared.vao,".setVAO(null);");var Er=Pe.global.def("{}"),ar=Qe.def(mr,".id"),Je=Qe.def(Er,"[",ar,"]");Qe(Pe.cond(Je).then(Je,".call(this,a0);").else(Je,"=",Er,"[",ar,"]=",Pe.link(function(hr){return Za(Ii,Pe,Oe,hr,1)}),"(",mr,");",Je,".call(this,a0);"))}Object.keys(Oe.state).length>0&&Qe(Pe.shared.current,".dirty=true;")}function ls(Pe,Oe,Qe,mr){Pe.batchId="a1",Vo(Pe,Oe);function Er(){return!0}gs(Pe,Oe,Qe,mr.attributes,Er),to(Pe,Oe,Qe,mr.uniforms,Er),Xa(Pe,Oe,Oe,Qe)}function Pl(Pe,Oe,Qe,mr){Vo(Pe,Oe);var Er=Qe.contextDep,ar=Oe.def(),Je="a0",hr="a1",Le=Oe.def();Pe.shared.props=Le,Pe.batchId=ar;var Xe=Pe.scope(),Me=Pe.scope();Oe(Xe.entry,"for(",ar,"=0;",ar,"<",hr,";++",ar,"){",Le,"=",Je,"[",ar,"];",Me,"}",Xe.exit);function pr(Da){return Da.contextDep&&Er||Da.propDep}function xr(Da){return!pr(Da)}if(Qe.needsContext&&rs(Pe,Me,Qe.context),Qe.needsFramebuffer&&_o(Pe,Me,Qe.framebuffer),fs(Pe,Me,Qe.state,pr),Qe.profile&&pr(Qe.profile)&&Ti(Pe,Me,Qe,!1,!0),mr)Qe.useVAO?Qe.drawVAO?pr(Qe.drawVAO)?Me(Pe.shared.vao,".setVAO(",Qe.drawVAO.append(Pe,Me),");"):Xe(Pe.shared.vao,".setVAO(",Qe.drawVAO.append(Pe,Xe),");"):Xe(Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"):(Xe(Pe.shared.vao,".setVAO(null);"),gs(Pe,Xe,Qe,mr.attributes,xr),gs(Pe,Me,Qe,mr.attributes,pr)),to(Pe,Xe,Qe,mr.uniforms,xr),to(Pe,Me,Qe,mr.uniforms,pr),Xa(Pe,Xe,Me,Qe);else{var Qr=Pe.global.def("{}"),en=Qe.shader.progVar.append(Pe,Me),Xr=Me.def(en,".id"),Dn=Me.def(Qr,"[",Xr,"]");Me(Pe.shared.gl,".useProgram(",en,".program);","if(!",Dn,"){",Dn,"=",Qr,"[",Xr,"]=",Pe.link(function(Da){return Za(ls,Pe,Qe,Da,2)}),"(",en,");}",Dn,".call(this,a0[",ar,"],",ar,");")}}function Fe(Pe,Oe){var Qe=Pe.proc("batch",2);Pe.batchId="0",Vo(Pe,Qe);var mr=!1,Er=!0;Object.keys(Oe.context).forEach(function(Qr){mr=mr||Oe.context[Qr].propDep}),mr||(rs(Pe,Qe,Oe.context),Er=!1);var ar=Oe.framebuffer,Je=!1;ar?(ar.propDep?mr=Je=!0:ar.contextDep&&mr&&(Je=!0),Je||_o(Pe,Qe,ar)):_o(Pe,Qe,null),Oe.state.viewport&&Oe.state.viewport.propDep&&(mr=!0);function hr(Qr){return Qr.contextDep&&mr||Qr.propDep}ko(Pe,Qe,Oe),fs(Pe,Qe,Oe.state,function(Qr){return!hr(Qr)}),(!Oe.profile||!hr(Oe.profile))&&Ti(Pe,Qe,Oe,!1,"a1"),Oe.contextDep=mr,Oe.needsContext=Er,Oe.needsFramebuffer=Je;var Le=Oe.shader.progVar;if(Le.contextDep&&mr||Le.propDep)Pl(Pe,Qe,Oe,null);else{var Xe=Le.append(Pe,Qe);if(Qe(Pe.shared.gl,".useProgram(",Xe,".program);"),Oe.shader.program)Pl(Pe,Qe,Oe,Oe.shader.program);else{Qe(Pe.shared.vao,".setVAO(null);");var Me=Pe.global.def("{}"),pr=Qe.def(Xe,".id"),xr=Qe.def(Me,"[",pr,"]");Qe(Pe.cond(xr).then(xr,".call(this,a0,a1);").else(xr,"=",Me,"[",pr,"]=",Pe.link(function(Qr){return Za(Pl,Pe,Oe,Qr,2)}),"(",Xe,");",xr,".call(this,a0,a1);"))}}Object.keys(Oe.state).length>0&&Qe(Pe.shared.current,".dirty=true;")}function wr(Pe,Oe){var Qe=Pe.proc("scope",3);Pe.batchId="a2";var mr=Pe.shared,Er=mr.current;rs(Pe,Qe,Oe.context),Oe.framebuffer&&Oe.framebuffer.append(Pe,Qe),Gc(Object.keys(Oe.state)).forEach(function(Je){var hr=Oe.state[Je],Le=hr.append(Pe,Qe);Na(Le)?Le.forEach(function(Xe,Me){Qe.set(Pe.next[Je],"["+Me+"]",Xe)}):Qe.set(mr.next,"."+Je,Le)}),Ti(Pe,Qe,Oe,!0,!0),[Cl,pf,Lu,yf,ol].forEach(function(Je){var hr=Oe.draw[Je];!hr||Qe.set(mr.draw,"."+Je,""+hr.append(Pe,Qe))}),Object.keys(Oe.uniforms).forEach(function(Je){var hr=Oe.uniforms[Je].append(Pe,Qe);Array.isArray(hr)&&(hr="["+hr.join()+"]"),Qe.set(mr.uniforms,"["+ge.id(Je)+"]",hr)}),Object.keys(Oe.attributes).forEach(function(Je){var hr=Oe.attributes[Je].append(Pe,Qe),Le=Pe.scopeAttrib(Je);Object.keys(new Mr).forEach(function(Xe){Qe.set(Le,"."+Xe,hr[Xe])})}),Oe.scopeVAO&&Qe.set(mr.vao,".targetVAO",Oe.scopeVAO.append(Pe,Qe));function ar(Je){var hr=Oe.shader[Je];hr&&Qe.set(mr.shader,"."+Je,hr.append(Pe,Qe))}ar(gf),ar(Go),Object.keys(Oe.state).length>0&&(Qe(Er,".dirty=true;"),Qe.exit(Er,".dirty=true;")),Qe("a1(",Pe.shared.context,",a0,",Pe.batchId,");")}function Sr(Pe){if(!(typeof Pe!="object"||Na(Pe))){for(var Oe=Object.keys(Pe),Qe=0;Qe<Oe.length;++Qe)if(Te.isDynamic(Pe[Oe[Qe]]))return!0;return!1}}function qn(Pe,Oe,Qe){var mr=Oe.static[Qe];if(!mr||!Sr(mr))return;var Er=Pe.global,ar=Object.keys(mr),Je=!1,hr=!1,Le=!1,Xe=Pe.global.def("{}");ar.forEach(function(pr){var xr=mr[pr];if(Te.isDynamic(xr)){typeof xr=="function"&&(xr=mr[pr]=Te.unbox(xr));var Qr=Ks(xr,null);Je=Je||Qr.thisDep,Le=Le||Qr.propDep,hr=hr||Qr.contextDep}else{switch(Er(Xe,".",pr,"="),typeof xr){case"number":Er(xr);break;case"string":Er('"',xr,'"');break;case"object":Array.isArray(xr)&&Er("[",xr.join(),"]");break;default:Er(Pe.link(xr));break}Er(";")}});function Me(pr,xr){ar.forEach(function(Qr){var en=mr[Qr];if(!!Te.isDynamic(en)){var Xr=pr.invoke(xr,en);xr(Xe,".",Qr,"=",Xr,";")}})}Oe.dynamic[Qe]=new Te.DynamicVariable(Dc,{thisDep:Je,contextDep:hr,propDep:Le,ref:Xe,append:Me}),delete Oe.static[Qe]}function xi(Pe,Oe,Qe,mr,Er){var ar=$a();ar.stats=ar.link(Er),Object.keys(Oe.static).forEach(function(hr){qn(ar,Oe,hr)}),vs.forEach(function(hr){qn(ar,Pe,hr)});var Je=Jo(Pe,Oe,Qe,mr,ar);return To(ar,Je),wr(ar,Je),Fe(ar,Je),i(ar.compile(),{destroy:function(){Je.shader.program.destroy()}})}return{next:Ta,current:Kr,procs:function(){var Pe=$a(),Oe=Pe.proc("poll"),Qe=Pe.proc("refresh"),mr=Pe.block();Oe(mr),Qe(mr);var Er=Pe.shared,ar=Er.gl,Je=Er.next,hr=Er.current;mr(hr,".dirty=false;"),_o(Pe,Oe),_o(Pe,Qe,null,!0);var Le;xn&&(Le=Pe.link(xn)),ze.oes_vertex_array_object&&Qe(Pe.link(ze.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Xe=0;Xe<Dr.maxAttributes;++Xe){var Me=Qe.def(Er.attributes,"[",Xe,"]"),pr=Pe.cond(Me,".buffer");pr.then(ar,".enableVertexAttribArray(",Xe,");",ar,".bindBuffer(",Ko,",",Me,".buffer.buffer);",ar,".vertexAttribPointer(",Xe,",",Me,".size,",Me,".type,",Me,".normalized,",Me,".stride,",Me,".offset);").else(ar,".disableVertexAttribArray(",Xe,");",ar,".vertexAttrib4f(",Xe,",",Me,".x,",Me,".y,",Me,".z,",Me,".w);",Me,".buffer=null;"),Qe(pr),xn&&Qe(Le,".vertexAttribDivisorANGLE(",Xe,",",Me,".divisor);")}return Qe(Pe.shared.vao,".currentVAO=null;",Pe.shared.vao,".setVAO(",Pe.shared.vao,".targetVAO);"),Object.keys(sn).forEach(function(xr){var Qr=sn[xr],en=mr.def(Je,".",xr),Xr=Pe.block();Xr("if(",en,"){",ar,".enable(",Qr,")}else{",ar,".disable(",Qr,")}",hr,".",xr,"=",en,";"),Qe(Xr),Oe("if(",en,"!==",hr,".",xr,"){",Xr,"}")}),Object.keys(fn).forEach(function(xr){var Qr=fn[xr],en=Kr[xr],Xr,Dn,Da=Pe.block();if(Da(ar,".",Qr,"("),Na(en)){var Di=en.length;Xr=Pe.global.def(Je,".",xr),Dn=Pe.global.def(hr,".",xr),Da(nr(Di,function(Xn){return Xr+"["+Xn+"]"}),");",nr(Di,function(Xn){return Dn+"["+Xn+"]="+Xr+"["+Xn+"];"}).join("")),Oe("if(",nr(Di,function(Xn){return Xr+"["+Xn+"]!=="+Dn+"["+Xn+"]"}).join("||"),"){",Da,"}")}else Xr=mr.def(Je,".",xr),Dn=mr.def(hr,".",xr),Da(Xr,");",hr,".",xr,"=",Xr,";"),Oe("if(",Xr,"!==",Dn,"){",Da,"}");Qe(Da)}),Pe.compile()}(),compile:xi}}function Wc(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var Uh=34918,zc=34919,Ml=35007,kc=function(ge,ze){if(!ze.ext_disjoint_timer_query)return null;var Dr=[];function $r(){return Dr.pop()||ze.ext_disjoint_timer_query.createQueryEXT()}function kr(Vn){Dr.push(Vn)}var Pr=[];function pn(Vn){var Kr=$r();ze.ext_disjoint_timer_query.beginQueryEXT(Ml,Kr),Pr.push(Kr),Mn(Pr.length-1,Pr.length,Vn)}function jn(){ze.ext_disjoint_timer_query.endQueryEXT(Ml)}function An(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var En=[];function Ln(){return En.pop()||new An}function $n(Vn){En.push(Vn)}var Nn=[];function Mn(Vn,Kr,Ta){var Sn=Ln();Sn.startQueryIndex=Vn,Sn.endQueryIndex=Kr,Sn.sum=0,Sn.stats=Ta,Nn.push(Sn)}var Mr=[],Tr=[];function xn(){var Vn,Kr,Ta=Pr.length;if(Ta!==0){Tr.length=Math.max(Tr.length,Ta+1),Mr.length=Math.max(Mr.length,Ta+1),Mr[0]=0,Tr[0]=0;var Sn=0;for(Vn=0,Kr=0;Kr<Pr.length;++Kr){var sn=Pr[Kr];ze.ext_disjoint_timer_query.getQueryObjectEXT(sn,zc)?(Sn+=ze.ext_disjoint_timer_query.getQueryObjectEXT(sn,Uh),kr(sn)):Pr[Vn++]=sn,Mr[Kr+1]=Sn,Tr[Kr+1]=Vn}for(Pr.length=Vn,Vn=0,Kr=0;Kr<Nn.length;++Kr){var fn=Nn[Kr],Pn=fn.startQueryIndex,Ca=fn.endQueryIndex;fn.sum+=Mr[Ca]-Mr[Pn];var vi=Tr[Pn],kn=Tr[Ca];kn===vi?(fn.stats.gpuTime+=fn.sum/1e6,$n(fn)):(fn.startQueryIndex=vi,fn.endQueryIndex=kn,Nn[Vn++]=fn)}Nn.length=Vn}}return{beginQuery:pn,endQuery:jn,pushScopeStats:Mn,update:xn,getNumPendingQueries:function(){return Pr.length},clear:function(){Dr.push.apply(Dr,Pr);for(var Kr=0;Kr<Dr.length;Kr++)ze.ext_disjoint_timer_query.deleteQueryEXT(Dr[Kr]);Pr.length=0,Dr.length=0},restore:function(){Pr.length=0,Dr.length=0}}},Tl=16384,Mf=256,Dl=1024,Wh=34962,sh="webglcontextlost",wu="webglcontextrestored",oc=1,zh=2,Cd=3;function uh(ie,ge){for(var ze=0;ze<ie.length;++ze)if(ie[ze]===ge)return ze;return-1}function Ad(ie){var ge=br(ie);if(!ge)return null;var ze=ge.gl,Dr=ze.getContextAttributes(),$r=ze.isContextLost(),kr=er(ze,ge);if(!kr)return null;var Pr=cr(),pn=Wc(),jn=kr.extensions,An=kc(ze,jn),En=$e(),Ln=ze.drawingBufferWidth,$n=ze.drawingBufferHeight,Nn={tick:0,time:0,viewportWidth:Ln,viewportHeight:$n,framebufferWidth:Ln,framebufferHeight:$n,drawingBufferWidth:Ln,drawingBufferHeight:$n,pixelRatio:ge.pixelRatio},Mn={},Mr={elements:null,primitive:4,count:-1,offset:0,instances:-1},Tr=Kn(ze,jn),xn=ru(ze,pn,ge,Kr),Vn=Fi(ze,jn,Tr,pn,xn);function Kr(Xa){return Vn.destroyBuffer(Xa)}var Ta=Oi(ze,jn,xn,pn),Sn=Ol(ze,Pr,pn,ge),sn=rl(ze,jn,Tr,function(){Ca.procs.poll()},Nn,pn,ge),fn=af(ze,jn,Tr,pn,ge),Pn=Ui(ze,jn,Tr,sn,fn,pn),Ca=Uc(ze,Pr,jn,Tr,xn,Ta,sn,Pn,Mn,Vn,Sn,Mr,Nn,An,ge),vi=ha(ze,Pn,Ca.procs.poll,Nn,Dr,jn,Tr),kn=Ca.next,Bn=ze.canvas,rn=[],$a=[],Li=[],va=[ge.onDestroy],Bi=null;function si(){if(rn.length===0){An&&An.update(),Bi=null;return}Bi=Se.next(si),fs();for(var Xa=rn.length-1;Xa>=0;--Xa){var Za=rn[Xa];Za&&Za(Nn,null,0)}ze.flush(),An&&An.update()}function Mi(){!Bi&&rn.length>0&&(Bi=Se.next(si))}function Yi(){Bi&&(Se.cancel(si),Bi=null)}function Qo(Xa){Xa.preventDefault(),$r=!0,Yi(),$a.forEach(function(Za){Za()})}function zo(Xa){ze.getError(),$r=!1,kr.restore(),Sn.restore(),xn.restore(),sn.restore(),fn.restore(),Pn.restore(),Vn.restore(),An&&An.restore(),Ca.procs.refresh(),Mi(),Li.forEach(function(Za){Za()})}Bn&&(Bn.addEventListener(sh,Qo,!1),Bn.addEventListener(wu,zo,!1));function Ni(){rn.length=0,Yi(),Bn&&(Bn.removeEventListener(sh,Qo),Bn.removeEventListener(wu,zo)),Sn.clear(),Pn.clear(),fn.clear(),sn.clear(),Ta.clear(),xn.clear(),Vn.clear(),An&&An.clear(),va.forEach(function(Xa){Xa()})}function es(Xa){G(!!Xa,"invalid args to regl({...})"),G.type(Xa,"object","invalid args to regl({...})");function Za(Er){var ar=i({},Er);delete ar.uniforms,delete ar.attributes,delete ar.context,delete ar.vao,"stencil"in ar&&ar.stencil.op&&(ar.stencil.opBack=ar.stencil.opFront=ar.stencil.op,delete ar.stencil.op);function Je(hr){if(hr in ar){var Le=ar[hr];delete ar[hr],Object.keys(Le).forEach(function(Xe){ar[hr+"."+Xe]=Le[Xe]})}}return Je("blend"),Je("depth"),Je("cull"),Je("stencil"),Je("polygonOffset"),Je("scissor"),Je("sample"),"vao"in Er&&(ar.vao=Er.vao),ar}function Ii(Er,ar){var Je={},hr={};return Object.keys(Er).forEach(function(Le){var Xe=Er[Le];if(Te.isDynamic(Xe)){hr[Le]=Te.unbox(Xe,Le);return}else if(ar&&Array.isArray(Xe)){for(var Me=0;Me<Xe.length;++Me)if(Te.isDynamic(Xe[Me])){hr[Le]=Te.unbox(Xe,Le);return}}Je[Le]=Xe}),{dynamic:hr,static:Je}}var To=Ii(Xa.context||{},!0),ls=Ii(Xa.uniforms||{},!0),Pl=Ii(Xa.attributes||{},!1),Fe=Ii(Za(Xa),!1),wr={gpuTime:0,cpuTime:0,count:0},Sr=Ca.compile(Fe,Pl,ls,To,wr),qn=Sr.draw,xi=Sr.batch,Pe=Sr.scope,Oe=[];function Qe(Er){for(;Oe.length<Er;)Oe.push(null);return Oe}function mr(Er,ar){var Je;if($r&&G.raise("context lost"),typeof Er=="function")return Pe.call(this,null,Er,0);if(typeof ar=="function")if(typeof Er=="number")for(Je=0;Je<Er;++Je)Pe.call(this,null,ar,Je);else if(Array.isArray(Er))for(Je=0;Je<Er.length;++Je)Pe.call(this,Er[Je],ar,Je);else return Pe.call(this,Er,ar,0);else if(typeof Er=="number"){if(Er>0)return xi.call(this,Qe(Er|0),Er|0)}else if(Array.isArray(Er)){if(Er.length)return xi.call(this,Er,Er.length)}else return qn.call(this,Er)}return i(mr,{stats:wr,destroy:function(){Sr.destroy()}})}var Oo=Pn.setFBO=es({framebuffer:Te.define.call(null,oc,"framebuffer")});function Jo(Xa,Za){var Ii=0;Ca.procs.poll();var To=Za.color;To&&(ze.clearColor(+To[0]||0,+To[1]||0,+To[2]||0,+To[3]||0),Ii|=Tl),"depth"in Za&&(ze.clearDepth(+Za.depth),Ii|=Mf),"stencil"in Za&&(ze.clearStencil(Za.stencil|0),Ii|=Dl),G(!!Ii,"called regl.clear with no buffer specified"),ze.clear(Ii)}function rs(Xa){if(G(typeof Xa=="object"&&Xa,"regl.clear() takes an object as input"),"framebuffer"in Xa)if(Xa.framebuffer&&Xa.framebuffer_reglType==="framebufferCube")for(var Za=0;Za<6;++Za)Oo(i({framebuffer:Xa.framebuffer.faces[Za]},Xa),Jo);else Oo(Xa,Jo);else Jo(null,Xa)}function _o(Xa){G.type(Xa,"function","regl.frame() callback must be a function"),rn.push(Xa);function Za(){var Ii=uh(rn,Xa);G(Ii>=0,"cannot cancel a frame twice");function To(){var ls=uh(rn,To);rn[ls]=rn[rn.length-1],rn.length-=1,rn.length<=0&&Yi()}rn[Ii]=To}return Mi(),{cancel:Za}}function ko(){var Xa=kn.viewport,Za=kn.scissor_box;Xa[0]=Xa[1]=Za[0]=Za[1]=0,Nn.viewportWidth=Nn.framebufferWidth=Nn.drawingBufferWidth=Xa[2]=Za[2]=ze.drawingBufferWidth,Nn.viewportHeight=Nn.framebufferHeight=Nn.drawingBufferHeight=Xa[3]=Za[3]=ze.drawingBufferHeight}function fs(){Nn.tick+=1,Nn.time=Ti(),ko(),Ca.procs.poll()}function Vo(){sn.refresh(),ko(),Ca.procs.refresh(),An&&An.update()}function Ti(){return($e()-En)/1e3}Vo();function gs(Xa,Za){G.type(Za,"function","listener callback must be a function");var Ii;switch(Xa){case"frame":return _o(Za);case"lost":Ii=$a;break;case"restore":Ii=Li;break;case"destroy":Ii=va;break;default:G.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ii.push(Za),{cancel:function(){for(var ls=0;ls<Ii.length;++ls)if(Ii[ls]===Za){Ii[ls]=Ii[Ii.length-1],Ii.pop();return}}}}var to=i(es,{clear:rs,prop:Te.define.bind(null,oc),context:Te.define.bind(null,zh),this:Te.define.bind(null,Cd),draw:es({}),buffer:function(Za){return xn.create(Za,Wh,!1,!1)},elements:function(Za){return Ta.create(Za,!1)},texture:sn.create2D,cube:sn.createCube,renderbuffer:fn.create,framebuffer:Pn.create,framebufferCube:Pn.createCube,vao:Vn.createVAO,attributes:Dr,frame:_o,on:gs,limits:Tr,hasExtension:function(Za){return Tr.extensions.indexOf(Za.toLowerCase())>=0},read:vi,destroy:Ni,_gl:ze,_refresh:Vo,poll:function(){fs(),An&&An.update()},now:Ti,stats:pn});return ge.onDone(null,to),to}return Ad})},ff4A:function(Ft,I){},g1CP:function(Ft,I,a){"use strict";a.d(I,"a",function(){return at});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("U+yc"),O=a.n(x),C=a("1ABj"),D=a.n(C),R=a("4cb6"),y=a.n(R),w=a("+uE7"),N=a("k6w6"),z=a("94HZ"),V,B,P,T,W,Q,nt,st,et,_=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,Y=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,$=`layout(set = 0, binding = 0) uniform sampler u_TextureSampler;
layout(set = 0, binding = 1) uniform texture2D u_Texture;

layout(location = 0) in vec2 v_UV;
layout(location = 0) out vec4 outColor;

void main() {
  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);
}`,q=`layout(location = 0) in vec2 a_Position;
layout(location = 0) out vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,at=(V=Object(R.injectable)(),B=Object(R.inject)(w.a.RenderEngine),P=Object(R.inject)(w.a.ResourcePool),V(T=(W=(et=st=function pt(){var mt=this;M()(this,pt),S()(this,"engine",Q,this),S()(this,"resourcePool",nt,this),this.model=void 0,this.setup=function(ot,xt,It){var Ht=ot.getPass(z.a.IDENTIFIER);if(Ht){var Qt=ot.createRenderTarget(xt,"render to screen",{width:1,height:1});It.data={input:xt.read(Ht.data.output),output:xt.write(ot,Qt)}}},this.execute=function(){var ot=p()(i.a.mark(function xt(It,Ht){var Qt,$t,yt,ut,ft,it,vt;return i.a.wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(Qt=mt.engine,$t=Qt.createModel,yt=Qt.createAttribute,ut=Qt.createBuffer,mt.model){Ct.next=6;break}return Ct.next=4,$t({vs:mt.engine.supportWebGPU?q:Y,fs:mt.engine.supportWebGPU?$:_,attributes:{a_Position:yt({buffer:ut({data:[-4,-4,4,-4,0,4],type:N.a.FLOAT}),size:2,arrayStride:2*4,stepMode:"vertex",attributes:[{shaderLocation:0,offset:0,format:"float2"}]})},uniforms:{u_Texture:null},depth:{enable:!1},count:3,blend:{enable:!0}});case 4:ft=Ct.sent,mt.model=ft;case 6:it=It.getResourceNode(Ht.data.input),vt=mt.resourcePool.getOrCreateResource(it.resource),mt.engine.useFramebuffer(null,function(){mt.engine.clear({framebuffer:null,color:[0,0,0,0],depth:1,stencil:0}),mt.model.draw({uniforms:{u_Texture:vt}})});case 9:case"end":return Ct.stop()}},xt)}));return function(xt,It){return ot.apply(this,arguments)}}(),this.tearDown=function(){mt.model=void 0}},st.IDENTIFIER="Copy Pass",et),Q=O()(W.prototype,"engine",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nt=O()(W.prototype,"resourcePool",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W))||T)},gFfm:function(Ft,I){function a(f,i){for(var g=-1,p=f==null?0:f.length;++g<p&&i(f[g],g,f)!==!1;);return f}Ft.exports=a},gPaA:function(Ft,I,a){var f=a("dunj"),i=a("ut/Y"),g=a("jSBL");function p(E,S){return E&&E.length?f(E,i(S,2),g):void 0}Ft.exports=p},gYXE:function(Ft,I,a){var f=a("M96O");Ft.exports=i,i.CycleException=g;function i(p){var E={},S={},A=[];function M(x){if(f.has(S,x))throw new g;f.has(E,x)||(S[x]=!0,E[x]=!0,f.each(p.predecessors(x),M),delete S[x],A.push(x))}if(f.each(p.sinks(),M),f.size(E)!==p.nodeCount())throw new g;return A}function g(){}g.prototype=new Error},gzZq:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingToSyntax=void 0;var f=a("MON2"),i=a("FV85"),g=a("D9lx"),p=a("LKzl"),E=function(){function S(A){this._binding=A}return S.prototype.to=function(A){return this._binding.type=i.BindingTypeEnum.Instance,this._binding.implementationType=A,new g.BindingInWhenOnSyntax(this._binding)},S.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+f.INVALID_TO_SELF_VALUE);var A=this._binding.serviceIdentifier;return this.to(A)},S.prototype.toConstantValue=function(A){return this._binding.type=i.BindingTypeEnum.ConstantValue,this._binding.cache=A,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=i.BindingScopeEnum.Singleton,new p.BindingWhenOnSyntax(this._binding)},S.prototype.toDynamicValue=function(A){return this._binding.type=i.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=A,this._binding.implementationType=null,new g.BindingInWhenOnSyntax(this._binding)},S.prototype.toConstructor=function(A){return this._binding.type=i.BindingTypeEnum.Constructor,this._binding.implementationType=A,this._binding.scope=i.BindingScopeEnum.Singleton,new p.BindingWhenOnSyntax(this._binding)},S.prototype.toFactory=function(A){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=A,this._binding.scope=i.BindingScopeEnum.Singleton,new p.BindingWhenOnSyntax(this._binding)},S.prototype.toFunction=function(A){if(typeof A!="function")throw new Error(f.INVALID_FUNCTION_BINDING);var M=this.toConstantValue(A);return this._binding.type=i.BindingTypeEnum.Function,this._binding.scope=i.BindingScopeEnum.Singleton,M},S.prototype.toAutoFactory=function(A){return this._binding.type=i.BindingTypeEnum.Factory,this._binding.factory=function(M){var x=function(){return M.container.get(A)};return x},this._binding.scope=i.BindingScopeEnum.Singleton,new p.BindingWhenOnSyntax(this._binding)},S.prototype.toProvider=function(A){return this._binding.type=i.BindingTypeEnum.Provider,this._binding.provider=A,this._binding.scope=i.BindingScopeEnum.Singleton,new p.BindingWhenOnSyntax(this._binding)},S.prototype.toService=function(A){this.toDynamicValue(function(M){return M.container.get(A)})},S}();I.BindingToSyntax=E},"h4/5":function(Ft,I){},h7MG:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getBindingDictionary=I.createMockRequest=I.plan=void 0;var f=a("doU7"),i=a("MON2"),g=a("FV85"),p=a("xfSm"),E=a("qK8v"),S=a("ujMp"),A=a("oy+k"),M=a("GXnB"),x=a("yMAV"),O=a("fbrv"),C=a("xiII"),D=a("dX1H");function R(T){return T._bindingDictionary}I.getBindingDictionary=R;function y(T,W,Q,nt,st,et){var _=T?p.MULTI_INJECT_TAG:p.INJECT_TAG,Y=new M.Metadata(_,Q),$=new D.Target(W,nt,Q,Y);if(st!==void 0){var q=new M.Metadata(st,et);$.metadata.push(q)}return $}function w(T,W,Q,nt,st){var et=V(Q.container,st.serviceIdentifier),_=[];return et.length===f.BindingCount.NoBindingsAvailable&&Q.container.options.autoBindInjectable&&typeof st.serviceIdentifier=="function"&&T.getConstructorMetadata(st.serviceIdentifier).compilerGeneratedMetadata&&(Q.container.bind(st.serviceIdentifier).toSelf(),et=V(Q.container,st.serviceIdentifier)),W?_=et:_=et.filter(function(Y){var $=new C.Request(Y.serviceIdentifier,Q,nt,Y,st);return Y.constraint($)}),N(st.serviceIdentifier,_,st,Q.container),_}function N(T,W,Q,nt){switch(W.length){case f.BindingCount.NoBindingsAvailable:if(Q.isOptional())return W;var st=S.getServiceIdentifierAsString(T),et=i.NOT_REGISTERED;throw et+=S.listMetadataForTarget(st,Q),et+=S.listRegisteredBindingsForServiceIdentifier(nt,st,V),new Error(et);case f.BindingCount.OnlyOneBindingAvailable:if(!Q.isArray())return W;case f.BindingCount.MultipleBindingsAvailable:default:if(Q.isArray())return W;var st=S.getServiceIdentifierAsString(T),et=i.AMBIGUOUS_MATCH+" "+st;throw et+=S.listRegisteredBindingsForServiceIdentifier(nt,st,V),new Error(et)}}function z(T,W,Q,nt,st,et){var _,Y;if(st===null){_=w(T,W,nt,null,et),Y=new C.Request(Q,nt,null,_,et);var $=new x.Plan(nt,Y);nt.addPlan($)}else _=w(T,W,nt,st,et),Y=st.addChildRequest(et.serviceIdentifier,_,et);_.forEach(function(q){var at=null;if(et.isArray())at=Y.addChildRequest(q.serviceIdentifier,q,et);else{if(q.cache)return;at=Y}if(q.type===g.BindingTypeEnum.Instance&&q.implementationType!==null){var pt=O.getDependencies(T,q.implementationType);if(!nt.container.options.skipBaseClassChecks){var mt=O.getBaseClassDependencyCount(T,q.implementationType);if(pt.length<mt){var ot=i.ARGUMENTS_LENGTH_MISMATCH(O.getFunctionName(q.implementationType));throw new Error(ot)}}pt.forEach(function(xt){z(T,!1,xt.serviceIdentifier,nt,at,xt)})}})}function V(T,W){var Q=[],nt=R(T);return nt.hasKey(W)?Q=nt.get(W):T.parent!==null&&(Q=V(T.parent,W)),Q}function B(T,W,Q,nt,st,et,_,Y){Y===void 0&&(Y=!1);var $=new A.Context(W),q=y(Q,nt,st,"",et,_);try{return z(T,Y,st,$,null,q),$}catch(at){throw E.isStackOverflowExeption(at)&&$.plan&&S.circularDependencyToException($.plan.rootRequest),at}}I.plan=B;function P(T,W,Q,nt){var st=new D.Target(g.TargetTypeEnum.Variable,"",W,new M.Metadata(Q,nt)),et=new A.Context(T),_=new C.Request(W,et,null,[],st);return _}I.createMockRequest=P},hJqF:function(Ft,I,a){"use strict";a.d(I,"d",function(){return M}),a.d(I,"b",function(){return x}),a.d(I,"c",function(){return O}),a.d(I,"a",function(){return R});var f=a("mrSG"),i=a("iTfj"),g=a("w02o"),p=a("YuPD"),E=a("tKoa"),S=a("DyAw");function A(y){var w=y.chart,N=y.options,z=N.data,V=N.color,B=N.lineStyle,P=N.lineShape,T=N.point,W=N.seriesField,Q=T==null?void 0:T.state;w.data(z);var nt=Object(p.b)({},y,{options:{shapeField:W,line:{color:V,style:B,shape:P},point:T&&Object(f.a)({color:V,shape:"circle"},T),label:void 0}}),st=Object(p.b)({},nt,{options:{tooltip:!1,state:Q}});return Object(E.d)(nt),Object(E.e)(st),y}function M(y){var w,N,z=y.options,V=z.xAxis,B=z.yAxis,P=z.xField,T=z.yField,W=z.data;return Object(p.e)(Object(g.f)((w={},w[P]=V,w[T]=B,w),(N={},N[P]={type:"cat"},N[T]=Object(S.a)(W,T),N)))(y)}function x(y){var w=y.chart,N=y.options,z=N.xAxis,V=N.yAxis,B=N.xField,P=N.yField;return z===!1?w.axis(B,!1):w.axis(B,z),V===!1?w.axis(P,!1):w.axis(P,V),y}function O(y){var w=y.chart,N=y.options,z=N.legend,V=N.seriesField;return z&&V?w.legend(V,z):z===!1&&w.legend(!1),y}function C(y){var w=y.chart,N=y.options,z=N.label,V=N.yField,B=Object(p.c)(w,"line");if(!z)B.label(!1);else{var P=z.callback,T=Object(f.e)(z,["callback"]);B.label({fields:[V],callback:P,cfg:Object(f.a)({layout:[{type:"limit-in-plot"},{type:"path-adjust-position"},{type:"point-adjust-position"},{type:"limit-in-plot",cfg:{action:"hide"}}]},Object(p.u)(T))})}return y}function D(y){var w=y.chart,N=y.options,z=N.isStack;return z&&Object(i.j)(w.geometries,function(V){V.adjust("stack")}),y}function R(y){return Object(p.e)(A,M,D,g.j,x,O,g.k,C,g.h,g.c,g.a,Object(g.b)(),g.e)(y)}},"hOG+":function(Ft,I){(function(a){Ft.exports=function(){var f={311:function(E){E.exports=function(S){return S.webpackPolyfill||(S.deprecate=function(){},S.paths=[],S.children||(S.children=[]),Object.defineProperty(S,"loaded",{enumerable:!0,get:function(){return S.l}}),Object.defineProperty(S,"id",{enumerable:!0,get:function(){return S.i}}),S.webpackPolyfill=1),S}}},i={};function g(p){if(i[p])return i[p].exports;var E=i[p]={exports:{}},S=!0;try{f[p](E,E.exports,g),S=!1}finally{S&&delete i[p]}return E.exports}return g.ab=a+"/",g(311)}()}).call(this,"/")},hYLx:function(Ft,I,a){"use strict";a.d(I,"b",function(){return M}),a.d(I,"a",function(){return x});var f=a("w02o"),i=a("YuPD"),g=a("tKoa"),p=a("7cv3"),E=a("lFe4"),S=a("DyAw");function A(O){var C=O.chart,D=O.options,R=D.data,y=D.color,w=D.areaStyle,N=D.point,z=D.line,V=N==null?void 0:N.state,B=Object(E.a)(R);C.data(B);var P=Object(i.b)({},O,{options:{xField:p.c,yField:p.d,area:{color:y,style:w},line:z,point:N}}),T=Object(i.b)({},P,{options:{tooltip:!1}}),W=Object(i.b)({},P,{options:{tooltip:!1,state:V}});return Object(g.a)(P),Object(g.d)(T),Object(g.e)(W),C.axis(!1),C.legend(!1),O}function M(O){var C,D,R=O.options,y=R.xAxis,w=R.yAxis,N=R.data,z=Object(E.a)(N);return Object(i.e)(Object(f.f)((C={},C[p.c]=y,C[p.d]=w,C),(D={},D[p.c]={type:"cat"},D[p.d]=Object(S.a)(z,p.d),D)))(O)}function x(O){return Object(i.e)(A,M,f.k,f.j,f.a,Object(f.b)())(O)}},hag6:function(Ft,I,a){"use strict";var f=a("kXyF");Object(f.registerInteraction)("drag-move",{start:[{trigger:"plot:mousedown",action:"scale-translate:start"}],processing:[{trigger:"plot:mousemove",action:"scale-translate:translate",throttle:{wait:100,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseup",action:"scale-translate:end"}]})},heNW:function(Ft,I){function a(f,i,g){switch(g.length){case 0:return f.call(i);case 1:return f.call(i,g[0]);case 2:return f.call(i,g[0],g[1]);case 3:return f.call(i,g[0],g[1],g[2])}return f.apply(i,g)}Ft.exports=a},hgQt:function(Ft,I,a){var f=a("Juji"),i=a("4sDh");function g(p,E){return p!=null&&i(p,E,f)}Ft.exports=g},hypo:function(Ft,I,a){var f=a("O0oS");function i(g,p,E){p=="__proto__"&&f?f(g,p,{configurable:!0,enumerable:!0,value:E,writable:!0}):g[p]=E}Ft.exports=i},i2N1:function(Ft,I,a){"use strict";Ft.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},iBet:function(Ft,I,a){var f=a("b5wT"),i=a("F9We").Graph;Ft.exports=g;function g(E,S,A){var M=p(E),x=new i({compound:!0}).setGraph({root:M}).setDefaultNodeLabel(function(O){return E.node(O)});return f.forEach(E.nodes(),function(O){var C=E.node(O),D=E.parent(O);(C.rank===S||C.minRank<=S&&S<=C.maxRank)&&(x.setNode(O),x.setParent(O,D||M),f.forEach(E[A](O),function(R){var y=R.v===O?R.w:R.v,w=x.edge(y,O),N=f.isUndefined(w)?0:w.weight;x.setEdge(y,O,{weight:E.edge(R).weight+N})}),f.has(C,"minRank")&&x.setNode(O,{borderLeft:C.borderLeft[S],borderRight:C.borderRight[S]}))}),x}function p(E){for(var S;E.hasNode(S=f.uniqueId("_root")););return S}},iIqE:function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"a",function(){return p}),a.d(I,"c",function(){return E});var f=a("iTfj"),i=a("YuPD");function g(S,A){var M=null;return Object(f.j)(S,function(x){typeof x[A]=="number"&&(M+=x[A])}),M}function p(S,A){var M;switch(S){case"inner":return M="-30%",Object(f.O)(A)&&A.endsWith("%")?parseFloat(A)*.01>0?M:A:A<0?A:M;case"outer":return M=12,Object(f.O)(A)&&A.endsWith("%")?parseFloat(A)*.01<0?M:A:A>0?A:M;default:return A}}function E(S,A){return Object(f.k)(Object(i.q)(S,A),function(M){return M[A]===0})}},iTfj:function(Ft,I,a){"use strict";a.d(I,"f",function(){return p}),a.d(I,"z",function(){return p}),a.d(I,"i",function(){return M}),a.d(I,"m",function(){return Y}),a.d(I,"n",function(){return q}),a.d(I,"o",function(){return pt}),a.d(I,"q",function(){return ot}),a.d(I,"t",function(){return yt}),a.d(I,"fb",function(){return H}),a.d(I,"gb",function(){return Ot}),a.d(I,"lb",function(){return Bt}),a.d(I,"rb",function(){return tt}),a.d(I,"vb",function(){return Et}),a.d(I,"y",function(){return Tt}),a.d(I,"S",function(){return ct}),a.d(I,"l",function(){return S}),a.d(I,"k",function(){return oe}),a.d(I,"kb",function(){return Ee}),a.d(I,"u",function(){return He}),a.d(I,"v",function(){return $e}),a.d(I,"w",function(){return cr}),a.d(I,"wb",function(){return Ar}),a.d(I,"c",function(){return an}),a.d(I,"p",function(){return Un}),a.d(I,"L",function(){return fo}),a.d(I,"W",function(){return Ht}),a.d(I,"X",function(){return Ye}),a.d(I,"Z",function(){return Qt}),a.d(I,"ab",function(){return tr}),a.d(I,"cb",function(){return tn}),a.d(I,"pb",function(){return bi}),a.d(I,"r",function(){return qa}),a.d(I,"x",function(){return Aa}),a.d(I,"R",function(){return P}),a.d(I,"ub",function(){return Fa}),a.d(I,"T",function(){return he}),a.d(I,"mb",function(){return fr}),a.d(I,"tb",function(){return ta}),a.d(I,"B",function(){return w}),a.d(I,"C",function(){return Co}),a.d(I,"D",function(){return we}),a.d(I,"H",function(){return D}),a.d(I,"I",function(){return y}),a.d(I,"J",function(){return On}),a.d(I,"K",function(){return sa}),a.d(I,"M",function(){return N}),a.d(I,"N",function(){return et}),a.d(I,"O",function(){return Rt}),a.d(I,"P",function(){return C}),a.d(I,"Q",function(){return bo}),a.d(I,"E",function(){return hs}),a.d(I,"hb",function(){return la}),a.d(I,"d",function(){return Cs}),a.d(I,"e",function(){return As}),a.d(I,"g",function(){return Gs}),a.d(I,"Y",function(){return ru}),a.d(I,"h",function(){return re}),a.d(I,"j",function(){return V}),a.d(I,"A",function(){return ke}),a.d(I,"F",function(){return dr}),a.d(I,"G",function(){return Yr}),a.d(I,"U",function(){return cn}),a.d(I,"V",function(){return Hr}),a.d(I,"bb",function(){return Bs}),a.d(I,"b",function(){return Bs}),a.d(I,"s",function(){return ia}),a.d(I,"ib",function(){return Oi}),a.d(I,"eb",function(){return Wa}),a.d(I,"nb",function(){return za}),a.d(I,"ob",function(){return Na}),a.d(I,"qb",function(){return hi}),a.d(I,"sb",function(){return qi}),a.d(I,"db",function(){return wi}),a.d(I,"jb",function(){return yn}),a.d(I,"a",function(){return or});var f=function(ee){return ee!==null&&typeof ee!="function"&&isFinite(ee.length)},i=f,g=function(ee,ve){return i(ee)?ee.indexOf(ve)>-1:!1},p=g,E=function(ee,ve){if(!i(ee))return ee;for(var De=[],Ir=0;Ir<ee.length;Ir++){var qr=ee[Ir];ve(qr,Ir)&&De.push(qr)}return De},S=E,A=function(ee,ve){return ve===void 0&&(ve=[]),S(ee,function(De){return!p(ve,De)})},M=A,x={}.toString,O=function(ee,ve){return x.call(ee)==="[object "+ve+"]"},C=O,D=function(de){return C(de,"Function")},R=function(ee){return ee==null},y=R,w=function(de){return Array.isArray?Array.isArray(de):C(de,"Array")},N=function(de){var ee=typeof de;return de!==null&&ee==="object"||ee==="function"};function z(de,ee){if(!!de){var ve;if(w(de))for(var De=0,Ir=de.length;De<Ir&&(ve=ee(de[De],De),ve!==!1);De++);else if(N(de)){for(var qr in de)if(de.hasOwnProperty(qr)&&(ve=ee(de[qr],qr),ve===!1))break}}}var V=z,B=Object.keys?function(de){return Object.keys(de)}:function(de){var ee=[];return V(de,function(ve,De){D(de)&&De==="prototype"||ee.push(De)}),ee},P=B;function T(de,ee){var ve=P(ee),De=ve.length;if(y(de))return!De;for(var Ir=0;Ir<De;Ir+=1){var qr=ve[Ir];if(ee[qr]!==de[qr]||!(qr in de))return!1}return!0}var W=T,Q=function(ee){return typeof ee=="object"&&ee!==null},nt=Q,st=function(ee){if(!nt(ee)||!C(ee,"Object"))return!1;if(Object.getPrototypeOf(ee)===null)return!0;for(var ve=ee;Object.getPrototypeOf(ve)!==null;)ve=Object.getPrototypeOf(ve);return Object.getPrototypeOf(ee)===ve},et=st;function _(de,ee){if(!w(de))return null;var ve;if(D(ee)&&(ve=ee),et(ee)&&(ve=function(qr){return W(qr,ee)}),ve){for(var De=0;De<de.length;De+=1)if(ve(de[De]))return de[De]}return null}var Y=_;function $(de,ee,ve){ve===void 0&&(ve=0);for(var De=ve;De<de.length;De++)if(ee(de[De],De))return De;return-1}var q=$,at=function(ee,ve){for(var De=null,Ir=0;Ir<ee.length;Ir++){var qr=ee[Ir],ka=qr[ve];if(!y(ka)){w(ka)?De=ka[0]:De=ka;break}}return De},pt=at,mt=function(ee){if(!w(ee))return[];for(var ve=[],De=0;De<ee.length;De++)ve=ve.concat(ee[De]);return ve},ot=mt,xt=function de(ee,ve){if(ve===void 0&&(ve=[]),!w(ee))ve.push(ee);else for(var De=0;De<ee.length;De+=1)de(ee[De],ve);return ve},It=xt,Ht=function(de){if(!!w(de))return de.reduce(function(ee,ve){return Math.max(ee,ve)},de[0])},Qt=function(de){if(!!w(de))return de.reduce(function(ee,ve){return Math.min(ee,ve)},de[0])},$t=function(ee){var ve=ee.filter(function(ki){return!isNaN(ki)});if(!ve.length)return{min:0,max:0};if(w(ee[0])){for(var De=[],Ir=0;Ir<ee.length;Ir++)De=De.concat(ee[Ir]);ve=De}var qr=Ht(ve),ka=Qt(ve);return{min:ka,max:qr}},yt=$t,ut=Array.prototype,ft=ut.splice,it=ut.indexOf,vt=function(ee){for(var ve=[],De=1;De<arguments.length;De++)ve[De-1]=arguments[De];for(var Ir=0;Ir<ve.length;Ir++)for(var qr=ve[Ir],ka=-1;(ka=it.call(ee,qr))>-1;)ft.call(ee,ka,1);return ee},Wt=vt,Ct=Array.prototype.splice,Z=function(ee,ve){if(!i(ee))return[];for(var De=ee?ve.length:0,Ir=De-1;De--;){var qr=void 0,ka=ve[De];(De===Ir||ka!==qr)&&(qr=ka,Ct.call(ee,ka,1))}return ee},X=Z,dt=function(ee,ve,De){if(!w(ee)&&!et(ee))return ee;var Ir=De;return V(ee,function(qr,ka){Ir=ve(Ir,qr,ka)}),Ir},H=dt,lt=function(ee,ve){var De=[];if(!i(ee))return De;for(var Ir=-1,qr=[],ka=ee.length;++Ir<ka;){var ki=ee[Ir];ve(ki,Ir,ee)&&(De.push(ki),qr.push(Ir))}return X(ee,qr),De},Ot=lt,Rt=function(de){return C(de,"String")};function zt(de,ee){var ve;if(D(ee))ve=function(qr,ka){return ee(qr)-ee(ka)};else{var De=[];Rt(ee)?De.push(ee):w(ee)&&(De=ee),ve=function(qr,ka){for(var ki=0;ki<De.length;ki+=1){var Fo=De[ki];if(qr[Fo]>ka[Fo])return 1;if(qr[Fo]<ka[Fo])return-1}return 0}}return de.sort(ve),de}var Bt=zt;function tt(de,ee){ee===void 0&&(ee=new Map);var ve=[];if(Array.isArray(de))for(var De=0,Ir=de.length;De<Ir;De++){var qr=de[De];ee.has(qr)||(ve.push(qr),ee.set(qr,!0))}return ve}var J=function(){for(var ee=[],ve=0;ve<arguments.length;ve++)ee[ve]=arguments[ve];return tt([].concat.apply([],ee))},G=J,Et=function(de,ee){for(var ve=[],De={},Ir=0;Ir<de.length;Ir++){var qr=de[Ir],ka=qr[ee];if(!y(ka)){w(ka)||(ka=[ka]);for(var ki=0;ki<ka.length;ki++){var Fo=ka[ki];De[Fo]||(ve.push(Fo),De[Fo]=!0)}}}return ve};function Tt(de){if(i(de))return de[0]}function ct(de){if(i(de)){var ee=de;return ee[ee.length-1]}}function St(de,ee){return w(de)||Rt(de)?de[0]===ee:!1}var Vt=St;function Lt(de,ee){return w(de)||Rt(de)?de[de.length-1]===ee:!1}var Nt=Lt,Zt=function(ee,ve){for(var De=0;De<ee.length;De++)if(!ve(ee[De],De))return!1;return!0},oe=Zt,ue=function(ee,ve){for(var De=0;De<ee.length;De++)if(ve(ee[De],De))return!0;return!1},Ee=ue,Te=Object.prototype.hasOwnProperty;function Se(de,ee){if(!ee||!w(de))return{};for(var ve={},De=D(ee)?ee:function(ki){return ki[ee]},Ir,qr=0;qr<de.length;qr++){var ka=de[qr];Ir=De(ka),Te.call(ve,Ir)?ve[Ir].push(ka):ve[Ir]=[ka]}return ve}var $e=Se;function cr(de,ee){if(!ee)return{0:de};if(!D(ee)){var ve=w(ee)?ee:ee.replace(/\s+/g,"").split("*");ee=function(Ir){for(var qr="_",ka=0,ki=ve.length;ka<ki;ka++)qr+=Ir[ve[ka]]&&Ir[ve[ka]].toString();return qr}}return $e(de,ee)}var He=function(de,ee){if(!ee)return[de];var ve=cr(de,ee),De=[];for(var Ir in ve)De.push(ve[Ir]);return De};function _e(de,ee){return de["_wrap_"+ee]}var ur=_e;function jr(de,ee){if(de["_wrap_"+ee])return de["_wrap_"+ee];var ve=function(Ir){de[ee](Ir)};return de["_wrap_"+ee]=ve,ve}var Ar=jr,Ge={};function br(de){var ee=Ge[de];if(!ee){for(var ve=de.toString(16),De=ve.length;De<6;De++)ve="0"+ve;ee="#"+ve,Ge[de]=ee}return ee}var er=br;function nr(de){var ee=0,ve=0,De=0,Ir=0;return w(de)?de.length===1?ee=ve=De=Ir=de[0]:de.length===2?(ee=De=de[0],ve=Ir=de[1]):de.length===3?(ee=de[0],ve=Ir=de[1],De=de[2]):(ee=de[0],ve=de[1],De=de[2],Ir=de[3]):ee=ve=De=Ir=de,{r1:ee,r2:ve,r3:De,r4:Ir}}var yr=nr,Rr=function(ee,ve,De){return ee<ve?ve:ee>De?De:ee},an=Rr,In=function(ee,ve){var De=ve.toString(),Ir=De.indexOf(".");if(Ir===-1)return Math.round(ee);var qr=De.substr(Ir+1).length;return qr>20&&(qr=20),parseFloat(ee.toFixed(qr))},Un=In,_n=function(ee){return C(ee,"Number")},sa=_n,ci=function(ee){return sa(ee)&&ee%1!=0},fi=ci,pa=function(ee){return sa(ee)&&ee%2==0},ga=pa,Xi=Number.isInteger?Number.isInteger:function(de){return sa(de)&&de%1==0},Ci=Xi,Ki=function(ee){return sa(ee)&&ee<0},so=Ki,co=1e-5;function fo(de,ee,ve){return ve===void 0&&(ve=co),Math.abs(de-ee)<ve}var ya=function(ee){return sa(ee)&&ee%2!=0},_a=ya,rr=function(ee){return sa(ee)&&ee>0},ir=rr,Ye=function(de,ee){if(!!w(de)){var ve=de[0],De;D(ee)?De=ee(de[0]):De=de[0][ee];var Ir;return V(de,function(qr){D(ee)?Ir=ee(qr):Ir=qr[ee],Ir>De&&(ve=qr,De=Ir)}),ve}},tr=function(de,ee){if(!!w(de)){var ve=de[0],De;D(ee)?De=ee(de[0]):De=de[0][ee];var Ir;return V(de,function(qr){D(ee)?Ir=ee(qr):Ir=qr[ee],Ir<De&&(ve=qr,De=Ir)}),ve}},Fr=function(ee,ve){return(ee%ve+ve)%ve},tn=Fr,bn=180/Math.PI,on=function(ee){return bn*ee},Oa=on,na=parseInt,wa=Math.PI/180,da=function(ee){return wa*ee},bi=da,qa=V,fa=function(de,ee){return de.hasOwnProperty(ee)},Aa=fa,Sa=Object.values?function(de){return Object.values(de)}:function(de){var ee=[];return V(de,function(ve,De){D(de)&&De==="prototype"||ee.push(ve)}),ee},Fa=Sa,Ka=function(de,ee){return p(Fa(de),ee)},hi=function(de){return y(de)?"":de.toString()},me=function(ee){return hi(ee).toLowerCase()},he=me,be=function(ee){var ve=hi(ee);return ve.charAt(0).toLowerCase()+ve.substring(1)},Ve=be;function Ke(de,ee){return!de||!ee?de:de.replace(/\\?\{([^{}]+)\}/g,function(ve,De){return ve.charAt(0)==="\\"?ve.slice(1):ee[De]===void 0?"":ee[De]})}var fr=Ke,Lr=function(ee){return hi(ee).toUpperCase()},_r=Lr,ua=function(ee){var ve=hi(ee);return ve.charAt(0).toUpperCase()+ve.substring(1)},ta=ua,Kn={}.toString,ji=function(ee){return Kn.call(ee).replace(/^\[object /,"").replace(/]$/,"")},Ra=ji,eo=function(ee){return C(ee,"Arguments")},Si=eo,yo=function(ee){return C(ee,"Boolean")},Co=yo,Ro=function(ee){return C(ee,"Date")},we=Ro,ro=function(ee){return C(ee,"Error")},pe=ro,Gi=function(de){return sa(de)&&isFinite(de)},Ba=function(ee){return ee===null},On=Ba,mo=Object.prototype,Xo=function(ee){var ve=ee&&ee.constructor,De=typeof ve=="function"&&ve.prototype||mo;return ee===De},Ei=Xo,Zi=function(ee){return C(ee,"RegExp")},Do=Zi,Po=function(ee){return ee===void 0},bo=Po,Eo=function(ee){return ee instanceof Element||ee instanceof HTMLDocument},hs=Eo;function la(de){var ee=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(ve){return setTimeout(ve,16)};return ee(de)}function Cs(de){var ee=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame||clearTimeout;ee(de)}function Ns(de,ee){for(var ve in ee)ee.hasOwnProperty(ve)&&ve!=="constructor"&&ee[ve]!==void 0&&(de[ve]=ee[ve])}function Bs(de,ee,ve,De){return ee&&Ns(de,ee),ve&&Ns(de,ve),De&&Ns(de,De),de}var as=function(){for(var ee=[],ve=0;ve<arguments.length;ve++)ee[ve]=arguments[ve];for(var De=ee[0],Ir=1;Ir<ee.length;Ir++){var qr=ee[Ir];D(qr)&&(qr=qr.prototype),Bs(De.prototype,qr)}},is=as,os=function de(ee){if(typeof ee!="object"||ee===null)return ee;var ve;if(w(ee)){ve=[];for(var De=0,Ir=ee.length;De<Ir;De++)typeof ee[De]=="object"&&ee[De]!=null?ve[De]=de(ee[De]):ve[De]=ee[De]}else{ve={};for(var qr in ee)typeof ee[qr]=="object"&&ee[qr]!=null?ve[qr]=de(ee[qr]):ve[qr]=ee[qr]}return ve},As=os;function fu(de,ee,ve){var De;return function(){var Ir=this,qr=arguments,ka=function(){De=null,ve||de.apply(Ir,qr)},ki=ve&&!De;clearTimeout(De),De=setTimeout(ka,ee),ki&&de.apply(Ir,qr)}}var Gs=fu,ru=function(de,ee){if(!D(de))throw new TypeError("Expected a function");var ve=function De(){for(var Ir=[],qr=0;qr<arguments.length;qr++)Ir[qr]=arguments[qr];var ka=ee?ee.apply(this,Ir):Ir[0],ki=De.cache;if(ki.has(ka))return ki.get(ka);var Fo=de.apply(this,Ir);return ki.set(ka,Fo),Fo};return ve.cache=new Map,ve},Us=5;function k(de,ee,ve,De){ve=ve||0,De=De||Us;for(var Ir in ee)if(ee.hasOwnProperty(Ir)){var qr=ee[Ir];qr!==null&&et(qr)?(et(de[Ir])||(de[Ir]={}),ve<De?k(de[Ir],qr,ve+1,De):de[Ir]=ee[Ir]):w(qr)?(de[Ir]=[],de[Ir]=de[Ir].concat(qr)):qr!==void 0&&(de[Ir]=qr)}}var Dt=function(ee){for(var ve=[],De=1;De<arguments.length;De++)ve[De-1]=arguments[De];for(var Ir=0;Ir<ve.length;Ir+=1)k(ee,ve[Ir]);return ee},re=Dt,le=function(ee,ve,De,Ir){D(ve)||(De=ve,ve=ee,ee=function(){});var qr=Object.create?function(ki,Fo){return Object.create(ki,{constructor:{value:Fo}})}:function(ki,Fo){function No(){}No.prototype=ki;var ps=new No;return ps.constructor=Fo,ps},ka=qr(ve.prototype,ee);return ee.prototype=Bs(ka,ee.prototype),ee.superclass=qr(ve.prototype,ve),Bs(ka,De),Bs(ee,Ir),ee},Ce=le,Re=function(ee,ve){if(!i(ee))return-1;var De=Array.prototype.indexOf;if(De)return De.call(ee,ve);for(var Ir=-1,qr=0;qr<ee.length;qr++)if(ee[qr]===ve){Ir=qr;break}return Ir},ke=Re,Ze=Object.prototype.hasOwnProperty;function lr(de){if(y(de))return!0;if(i(de))return!de.length;var ee=Ra(de);if(ee==="Map"||ee==="Set")return!de.size;if(Ei(de))return!Object.keys(de).length;for(var ve in de)if(Ze.call(de,ve))return!1;return!0}var dr=lr,Cr=function de(ee,ve){if(ee===ve)return!0;if(!ee||!ve||Rt(ee)||Rt(ve))return!1;if(i(ee)||i(ve)){if(ee.length!==ve.length)return!1;for(var De=!0,Ir=0;Ir<ee.length&&(De=de(ee[Ir],ve[Ir]),!!De);Ir++);return De}if(nt(ee)||nt(ve)){var qr=Object.keys(ee),ka=Object.keys(ve);if(qr.length!==ka.length)return!1;for(var De=!0,Ir=0;Ir<qr.length&&(De=de(ee[qr[Ir]],ve[qr[Ir]]),!!De);Ir++);return De}return!1},Yr=Cr,Nr=function(de,ee,ve){return D(ve)?!!ve(de,ee):Yr(de,ee)},Vr=function(ee,ve){if(!i(ee))return ee;for(var De=[],Ir=0;Ir<ee.length;Ir++){var qr=ee[Ir];De.push(ve(qr,Ir))}return De},cn=Vr,ln=function(ee){return ee},Hr=function(de,ee){ee===void 0&&(ee=ln);var ve={};return N(de)&&!y(de)&&Object.keys(de).forEach(function(De){ve[De]=ee(de[De],De)}),ve},ia=function(de,ee,ve){for(var De=0,Ir=Rt(ee)?ee.split("."):ee;de&&De<Ir.length;)de=de[Ir[De++]];return de===void 0||De<Ir.length?ve:de},Oi=function(de,ee,ve){var De=de,Ir=Rt(ee)?ee.split("."):ee;return Ir.forEach(function(qr,ka){ka<Ir.length-1?(N(De[qr])||(De[qr]=sa(Ir[ka+1])?[]:{}),De=De[qr]):De[qr]=ve}),de},Ua=Object.prototype.hasOwnProperty,Wa=function(de,ee){if(de===null||!et(de))return{};var ve={};return V(ee,function(De){Ua.call(de,De)&&(ve[De]=de[De])}),ve},ei=function(de,ee){return H(de,function(ve,De,Ir){return ee.includes(Ir)||(ve[Ir]=De),ve},{})},za=function(de,ee,ve){var De,Ir,qr,ka,ki=0;ve||(ve={});var Fo=function(){ki=ve.leading===!1?0:Date.now(),De=null,ka=de.apply(Ir,qr),De||(Ir=qr=null)},No=function(){var Ws=Date.now();!ki&&ve.leading===!1&&(ki=Ws);var ws=ee-(Ws-ki);return Ir=this,qr=arguments,ws<=0||ws>ee?(De&&(clearTimeout(De),De=null),ki=Ws,ka=de.apply(Ir,qr),De||(Ir=qr=null)):!De&&ve.trailing!==!1&&(De=setTimeout(Fo,ws)),ka};return No.cancel=function(){clearTimeout(De),ki=0,De=Ir=qr=null},No},Na=function(de){return i(de)?Array.prototype.slice.call(de):[]},Qi={},qi=function(de){return de=de||"g",Qi[de]?Qi[de]+=1:Qi[de]=1,de+Qi[de]},wi=function(){},Ia=function(de){return de};function yn(de){return y(de)?0:i(de)?de.length:Object.keys(de).length}var ce=function(){function de(){this.map={}}return de.prototype.has=function(ee){return this.map[ee]!==void 0},de.prototype.get=function(ee,ve){var De=this.map[ee];return De===void 0?ve:De},de.prototype.set=function(ee,ve){this.map[ee]=ve},de.prototype.clear=function(){this.map={}},de.prototype.delete=function(ee){delete this.map[ee]},de.prototype.size=function(){return Object.keys(this.map).length},de}(),or=ce},iZzK:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i,g){return f=Object.setPrototypeOf||function(E,S){return E.__proto__=S,E},f(i,g)}},idmN:function(Ft,I,a){var f=a("ZWtO"),i=a("FZoo"),g=a("4uTw");function p(E,S,A){for(var M=-1,x=S.length,O={};++M<x;){var C=S[M],D=f(E,C);A(D,C)&&i(O,g(C,E),D)}return O}Ft.exports=p},itsj:function(Ft,I){function a(f,i){if(!(i==="constructor"&&typeof f[i]=="function")&&i!="__proto__")return f[i]}Ft.exports=a},j5sG:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createSensor=void 0;var f=i(a("NohK"));function i(p){return p&&p.__esModule?p:{default:p}}var g=function(E){var S=void 0,A=[],M=(0,f.default)(function(){A.forEach(function(R){R(E)})}),x=function(){var y=new ResizeObserver(M);return y.observe(E),M(),y},O=function(y){S||(S=x()),A.indexOf(y)===-1&&A.push(y)},C=function(){S.disconnect(),A=[],S=void 0},D=function(y){var w=A.indexOf(y);w!==-1&&A.splice(w,1),A.length===0&&S&&C()};return{element:E,bind:O,destroy:C,unbind:D}};I.createSensor=g},jFXE:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("F9We").Graph,g=a("tQ6r");Ft.exports={positionX:w,findType1Conflicts:p,findType2Conflicts:E,addConflict:A,hasConflict:M,verticalAlignment:x,horizontalCompaction:O,alignCoordinates:R,findSmallestWidthAlignment:D,balance:y};function p(V,B){var P={};function T(W,Q){var nt=0,st=0,et=W.length,_=f.last(Q);return f.forEach(Q,function(Y,$){var q=S(V,Y),at=q?V.node(q).order:et;(q||Y===_)&&(f.forEach(Q.slice(st,$+1),function(pt){f.forEach(V.predecessors(pt),function(mt){var ot=V.node(mt),xt=ot.order;(xt<nt||at<xt)&&!(ot.dummy&&V.node(pt).dummy)&&A(P,mt,pt)})}),st=$+1,nt=at)}),Q}return f.reduce(B,T),P}function E(V,B){var P={};function T(Q,nt,st,et,_){var Y;f.forEach(f.range(nt,st),function($){Y=Q[$],V.node(Y).dummy&&f.forEach(V.predecessors(Y),function(q){var at=V.node(q);at.dummy&&(at.order<et||at.order>_)&&A(P,q,Y)})})}function W(Q,nt){var st=-1,et,_=0;return f.forEach(nt,function(Y,$){if(V.node(Y).dummy==="border"){var q=V.predecessors(Y);q.length&&(et=V.node(q[0]).order,T(nt,_,$,st,et),_=$,st=et)}T(nt,_,nt.length,et,Q.length)}),nt}return f.reduce(B,W),P}function S(V,B){if(V.node(B).dummy)return f.find(V.predecessors(B),function(P){return V.node(P).dummy})}function A(V,B,P){if(B>P){var T=B;B=P,P=T}var W=V[B];W||(V[B]=W={}),W[P]=!0}function M(V,B,P){if(B>P){var T=B;B=P,P=T}return f.has(V[B],P)}function x(V,B,P,T){var W={},Q={},nt={};return f.forEach(B,function(st){f.forEach(st,function(et,_){W[et]=et,Q[et]=et,nt[et]=_})}),f.forEach(B,function(st){var et=-1;f.forEach(st,function(_){var Y=T(_);if(Y.length){Y=f.sortBy(Y,function(mt){return nt[mt]});for(var $=(Y.length-1)/2,q=Math.floor($),at=Math.ceil($);q<=at;++q){var pt=Y[q];Q[_]===_&&et<nt[pt]&&!M(P,_,pt)&&(Q[pt]=_,Q[_]=W[_]=W[pt],et=nt[pt])}}})}),{root:W,align:Q}}function O(V,B,P,T,W){var Q={},nt=C(V,B,P,W),st=W?"borderLeft":"borderRight";function et($,q){for(var at=nt.nodes(),pt=at.pop(),mt={};pt;)mt[pt]?$(pt):(mt[pt]=!0,at.push(pt),at=at.concat(q(pt))),pt=at.pop()}function _($){Q[$]=nt.inEdges($).reduce(function(q,at){return Math.max(q,Q[at.v]+nt.edge(at))},0)}function Y($){var q=nt.outEdges($).reduce(function(pt,mt){return Math.min(pt,Q[mt.w]-nt.edge(mt))},Number.POSITIVE_INFINITY),at=V.node($);q!==Number.POSITIVE_INFINITY&&at.borderType!==st&&(Q[$]=Math.max(Q[$],q))}return et(_,nt.predecessors.bind(nt)),et(Y,nt.successors.bind(nt)),f.forEach(T,function($){Q[$]=Q[P[$]]}),Q}function C(V,B,P,T){var W=new i,Q=V.graph(),nt=N(Q.nodesep,Q.edgesep,T);return f.forEach(B,function(st){var et;f.forEach(st,function(_){var Y=P[_];if(W.setNode(Y),et){var $=P[et],q=W.edge($,Y);W.setEdge($,Y,Math.max(nt(V,_,et),q||0))}et=_})}),W}function D(V,B){return f.minBy(f.values(B),function(P){var T=Number.NEGATIVE_INFINITY,W=Number.POSITIVE_INFINITY;return f.forIn(P,function(Q,nt){var st=z(V,nt)/2;T=Math.max(Q+st,T),W=Math.min(Q-st,W)}),T-W})}function R(V,B){var P=f.values(B),T=f.min(P),W=f.max(P);f.forEach(["u","d"],function(Q){f.forEach(["l","r"],function(nt){var st=Q+nt,et=V[st],_;if(et!==B){var Y=f.values(et);_=nt==="l"?T-f.min(Y):W-f.max(Y),_&&(V[st]=f.mapValues(et,function($){return $+_}))}})})}function y(V,B){return f.mapValues(V.ul,function(P,T){if(B)return V[B.toLowerCase()][T];var W=f.sortBy(f.map(V,T));return(W[1]+W[2])/2})}function w(V){var B=g.buildLayerMatrix(V),P=f.merge(p(V,B),E(V,B)),T={},W;f.forEach(["u","d"],function(nt){W=nt==="u"?B:f.values(B).reverse(),f.forEach(["l","r"],function(st){st==="r"&&(W=f.map(W,function($){return f.values($).reverse()}));var et=(nt==="u"?V.predecessors:V.successors).bind(V),_=x(V,W,P,et),Y=O(V,W,_.root,_.align,st==="r");st==="r"&&(Y=f.mapValues(Y,function($){return-$})),T[nt+st]=Y})});var Q=D(V,T);return R(T,Q),y(T,V.graph().align)}function N(V,B,P){return function(T,W,Q){var nt=T.node(W),st=T.node(Q),et=0,_;if(et+=nt.width/2,f.has(nt,"labelpos"))switch(nt.labelpos.toLowerCase()){case"l":_=-nt.width/2;break;case"r":_=nt.width/2;break}if(_&&(et+=P?_:-_),_=0,et+=(nt.dummy?B:V)/2,et+=(st.dummy?B:V)/2,et+=st.width/2,f.has(st,"labelpos"))switch(st.labelpos.toLowerCase()){case"l":_=st.width/2;break;case"r":_=-st.width/2;break}return _&&(et+=P?_:-_),_=0,et}}function z(V,B){return V.node(B).width}},"jIg/":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.multiInject=void 0;var f=a("xfSm"),i=a("GXnB"),g=a("Ztfv");function p(E){return function(S,A,M){var x=new i.Metadata(f.MULTI_INJECT_TAG,E);typeof M=="number"?g.tagParameter(S,A,M,x):g.tagProperty(S,A,x)}}I.multiInject=p},jSBL:function(Ft,I){function a(f,i){return f<i}Ft.exports=a},jYx5:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.optional=void 0;var f=a("xfSm"),i=a("GXnB"),g=a("Ztfv");function p(){return function(E,S,A){var M=new i.Metadata(f.OPTIONAL_TAG,!0);typeof A=="number"?g.tagParameter(E,S,A,M):g.tagProperty(E,S,M)}}I.optional=p},"jbM+":function(Ft,I,a){var f=a("R/W3");function i(g,p){var E=g==null?0:g.length;return!!E&&f(g,p,0)>-1}Ft.exports=i},jeLo:function(Ft,I,a){var f=a("juv8"),i=a("mTTR");function g(p){return f(p,i(p))}Ft.exports=g},jqgP:function(Ft,I,a){"use strict";a.d(I,"e",function(){return g}),a.d(I,"f",function(){return p}),a.d(I,"d",function(){return E}),a.d(I,"a",function(){return A}),a.d(I,"b",function(){return M}),a.d(I,"c",function(){return x});var f=a("6JdA"),i=[1,0,0,0,1,0,0,0,1];function g(O,C,D){if(D===void 0&&(D=i),!C)return null;var R=f.a.transform(D,[["t",-O.x,-O.y],["r",C],["t",O.x,O.y]]);return R}function p(O,C){return!O.x&&!O.y?null:f.a.transform(C||i,[["t",O.x,O.y]])}function E(O){var C=[1,0,0],D=[0,0,0];return f.d.transformMat3(D,C,O),Math.atan2(D[1],D[0])}function S(O,C){var D=[0,0];return f.c.transformMat3(D,C,O),D}function A(O,C){var D=S(O,[C.minX,C.minY]),R=S(O,[C.maxX,C.minY]),y=S(O,[C.minX,C.maxY]),w=S(O,[C.maxX,C.maxY]),N=Math.min(D[0],R[0],y[0],w[0]),z=Math.max(D[0],R[0],y[0],w[0]),V=Math.min(D[1],R[1],y[1],w[1]),B=Math.max(D[1],R[1],y[1],w[1]);return{x:N,y:V,minX:N,minY:V,maxX:z,maxY:B,width:z-N,height:B-V}}function M(O,C,D,R){if(C){var y=g({x:D,y:R},C,O.getMatrix());O.setMatrix(y)}}function x(O,C,D){var R=p({x:C,y:D});O.attr("matrix",R)}},juv8:function(Ft,I,a){var f=a("MrPd"),i=a("hypo");function g(p,E,S,A){var M=!S;S||(S={});for(var x=-1,O=E.length;++x<O;){var C=E[x],D=A?A(S[C],p[C],C,S,p):void 0;D===void 0&&(D=p[C]),M?i(S,C,D):f(S,C,D)}return S}Ft.exports=g},k4Da:function(Ft,I,a){var f=a("LXxW"),i=a("n3Sm"),g=a("ut/Y"),p=a("Z0cm");function E(S,A){var M=p(S)?f:i;return M(S,g(A,3))}Ft.exports=E},k6w6:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});var f;(function(i){i[i.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",i[i.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",i[i.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",i[i.POINTS=0]="POINTS",i[i.LINES=1]="LINES",i[i.LINE_LOOP=2]="LINE_LOOP",i[i.LINE_STRIP=3]="LINE_STRIP",i[i.TRIANGLES=4]="TRIANGLES",i[i.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",i[i.TRIANGLE_FAN=6]="TRIANGLE_FAN",i[i.ZERO=0]="ZERO",i[i.ONE=1]="ONE",i[i.SRC_COLOR=768]="SRC_COLOR",i[i.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",i[i.SRC_ALPHA=770]="SRC_ALPHA",i[i.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",i[i.DST_ALPHA=772]="DST_ALPHA",i[i.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",i[i.DST_COLOR=774]="DST_COLOR",i[i.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",i[i.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",i[i.FUNC_ADD=32774]="FUNC_ADD",i[i.BLEND_EQUATION=32777]="BLEND_EQUATION",i[i.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",i[i.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",i[i.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",i[i.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",i[i.MAX_EXT=32776]="MAX_EXT",i[i.MIN_EXT=32775]="MIN_EXT",i[i.BLEND_DST_RGB=32968]="BLEND_DST_RGB",i[i.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",i[i.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",i[i.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",i[i.CONSTANT_COLOR=32769]="CONSTANT_COLOR",i[i.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",i[i.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",i[i.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",i[i.BLEND_COLOR=32773]="BLEND_COLOR",i[i.ARRAY_BUFFER=34962]="ARRAY_BUFFER",i[i.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",i[i.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",i[i.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",i[i.STREAM_DRAW=35040]="STREAM_DRAW",i[i.STATIC_DRAW=35044]="STATIC_DRAW",i[i.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",i[i.BUFFER_SIZE=34660]="BUFFER_SIZE",i[i.BUFFER_USAGE=34661]="BUFFER_USAGE",i[i.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",i[i.FRONT=1028]="FRONT",i[i.BACK=1029]="BACK",i[i.FRONT_AND_BACK=1032]="FRONT_AND_BACK",i[i.CULL_FACE=2884]="CULL_FACE",i[i.BLEND=3042]="BLEND",i[i.DITHER=3024]="DITHER",i[i.STENCIL_TEST=2960]="STENCIL_TEST",i[i.DEPTH_TEST=2929]="DEPTH_TEST",i[i.SCISSOR_TEST=3089]="SCISSOR_TEST",i[i.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",i[i.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",i[i.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",i[i.NO_ERROR=0]="NO_ERROR",i[i.INVALID_ENUM=1280]="INVALID_ENUM",i[i.INVALID_VALUE=1281]="INVALID_VALUE",i[i.INVALID_OPERATION=1282]="INVALID_OPERATION",i[i.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",i[i.CW=2304]="CW",i[i.CCW=2305]="CCW",i[i.LINE_WIDTH=2849]="LINE_WIDTH",i[i.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",i[i.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",i[i.CULL_FACE_MODE=2885]="CULL_FACE_MODE",i[i.FRONT_FACE=2886]="FRONT_FACE",i[i.DEPTH_RANGE=2928]="DEPTH_RANGE",i[i.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",i[i.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",i[i.DEPTH_FUNC=2932]="DEPTH_FUNC",i[i.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",i[i.STENCIL_FUNC=2962]="STENCIL_FUNC",i[i.STENCIL_FAIL=2964]="STENCIL_FAIL",i[i.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",i[i.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",i[i.STENCIL_REF=2967]="STENCIL_REF",i[i.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",i[i.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",i[i.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",i[i.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",i[i.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",i[i.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",i[i.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",i[i.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",i[i.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",i[i.VIEWPORT=2978]="VIEWPORT",i[i.SCISSOR_BOX=3088]="SCISSOR_BOX",i[i.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",i[i.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",i[i.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",i[i.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",i[i.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",i[i.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",i[i.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",i[i.RED_BITS=3410]="RED_BITS",i[i.GREEN_BITS=3411]="GREEN_BITS",i[i.BLUE_BITS=3412]="BLUE_BITS",i[i.ALPHA_BITS=3413]="ALPHA_BITS",i[i.DEPTH_BITS=3414]="DEPTH_BITS",i[i.STENCIL_BITS=3415]="STENCIL_BITS",i[i.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",i[i.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",i[i.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",i[i.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",i[i.SAMPLES=32937]="SAMPLES",i[i.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",i[i.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",i[i.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",i[i.DONT_CARE=4352]="DONT_CARE",i[i.FASTEST=4353]="FASTEST",i[i.NICEST=4354]="NICEST",i[i.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",i[i.BYTE=5120]="BYTE",i[i.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",i[i.SHORT=5122]="SHORT",i[i.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",i[i.INT=5124]="INT",i[i.UNSIGNED_INT=5125]="UNSIGNED_INT",i[i.FLOAT=5126]="FLOAT",i[i.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",i[i.ALPHA=6406]="ALPHA",i[i.RGB=6407]="RGB",i[i.RGBA=6408]="RGBA",i[i.LUMINANCE=6409]="LUMINANCE",i[i.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",i[i.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",i[i.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",i[i.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",i[i.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",i[i.VERTEX_SHADER=35633]="VERTEX_SHADER",i[i.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",i[i.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",i[i.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",i[i.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",i[i.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",i[i.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",i[i.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",i[i.SHADER_TYPE=35663]="SHADER_TYPE",i[i.DELETE_STATUS=35712]="DELETE_STATUS",i[i.LINK_STATUS=35714]="LINK_STATUS",i[i.VALIDATE_STATUS=35715]="VALIDATE_STATUS",i[i.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",i[i.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",i[i.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",i[i.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",i[i.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",i[i.NEVER=512]="NEVER",i[i.LESS=513]="LESS",i[i.EQUAL=514]="EQUAL",i[i.LEQUAL=515]="LEQUAL",i[i.GREATER=516]="GREATER",i[i.NOTEQUAL=517]="NOTEQUAL",i[i.GEQUAL=518]="GEQUAL",i[i.ALWAYS=519]="ALWAYS",i[i.KEEP=7680]="KEEP",i[i.REPLACE=7681]="REPLACE",i[i.INCR=7682]="INCR",i[i.DECR=7683]="DECR",i[i.INVERT=5386]="INVERT",i[i.INCR_WRAP=34055]="INCR_WRAP",i[i.DECR_WRAP=34056]="DECR_WRAP",i[i.VENDOR=7936]="VENDOR",i[i.RENDERER=7937]="RENDERER",i[i.VERSION=7938]="VERSION",i[i.NEAREST=9728]="NEAREST",i[i.LINEAR=9729]="LINEAR",i[i.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",i[i.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",i[i.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",i[i.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",i[i.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",i[i.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",i[i.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",i[i.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",i[i.TEXTURE_2D=3553]="TEXTURE_2D",i[i.TEXTURE=5890]="TEXTURE",i[i.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",i[i.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",i[i.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",i[i.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",i[i.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",i[i.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",i[i.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",i[i.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",i[i.TEXTURE0=33984]="TEXTURE0",i[i.TEXTURE1=33985]="TEXTURE1",i[i.TEXTURE2=33986]="TEXTURE2",i[i.TEXTURE3=33987]="TEXTURE3",i[i.TEXTURE4=33988]="TEXTURE4",i[i.TEXTURE5=33989]="TEXTURE5",i[i.TEXTURE6=33990]="TEXTURE6",i[i.TEXTURE7=33991]="TEXTURE7",i[i.TEXTURE8=33992]="TEXTURE8",i[i.TEXTURE9=33993]="TEXTURE9",i[i.TEXTURE10=33994]="TEXTURE10",i[i.TEXTURE11=33995]="TEXTURE11",i[i.TEXTURE12=33996]="TEXTURE12",i[i.TEXTURE13=33997]="TEXTURE13",i[i.TEXTURE14=33998]="TEXTURE14",i[i.TEXTURE15=33999]="TEXTURE15",i[i.TEXTURE16=34e3]="TEXTURE16",i[i.TEXTURE17=34001]="TEXTURE17",i[i.TEXTURE18=34002]="TEXTURE18",i[i.TEXTURE19=34003]="TEXTURE19",i[i.TEXTURE20=34004]="TEXTURE20",i[i.TEXTURE21=34005]="TEXTURE21",i[i.TEXTURE22=34006]="TEXTURE22",i[i.TEXTURE23=34007]="TEXTURE23",i[i.TEXTURE24=34008]="TEXTURE24",i[i.TEXTURE25=34009]="TEXTURE25",i[i.TEXTURE26=34010]="TEXTURE26",i[i.TEXTURE27=34011]="TEXTURE27",i[i.TEXTURE28=34012]="TEXTURE28",i[i.TEXTURE29=34013]="TEXTURE29",i[i.TEXTURE30=34014]="TEXTURE30",i[i.TEXTURE31=34015]="TEXTURE31",i[i.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",i[i.REPEAT=10497]="REPEAT",i[i.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",i[i.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",i[i.FLOAT_VEC2=35664]="FLOAT_VEC2",i[i.FLOAT_VEC3=35665]="FLOAT_VEC3",i[i.FLOAT_VEC4=35666]="FLOAT_VEC4",i[i.INT_VEC2=35667]="INT_VEC2",i[i.INT_VEC3=35668]="INT_VEC3",i[i.INT_VEC4=35669]="INT_VEC4",i[i.BOOL=35670]="BOOL",i[i.BOOL_VEC2=35671]="BOOL_VEC2",i[i.BOOL_VEC3=35672]="BOOL_VEC3",i[i.BOOL_VEC4=35673]="BOOL_VEC4",i[i.FLOAT_MAT2=35674]="FLOAT_MAT2",i[i.FLOAT_MAT3=35675]="FLOAT_MAT3",i[i.FLOAT_MAT4=35676]="FLOAT_MAT4",i[i.SAMPLER_2D=35678]="SAMPLER_2D",i[i.SAMPLER_CUBE=35680]="SAMPLER_CUBE",i[i.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",i[i.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",i[i.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",i[i.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",i[i.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",i[i.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",i[i.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",i[i.COMPILE_STATUS=35713]="COMPILE_STATUS",i[i.LOW_FLOAT=36336]="LOW_FLOAT",i[i.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",i[i.HIGH_FLOAT=36338]="HIGH_FLOAT",i[i.LOW_INT=36339]="LOW_INT",i[i.MEDIUM_INT=36340]="MEDIUM_INT",i[i.HIGH_INT=36341]="HIGH_INT",i[i.FRAMEBUFFER=36160]="FRAMEBUFFER",i[i.RENDERBUFFER=36161]="RENDERBUFFER",i[i.RGBA4=32854]="RGBA4",i[i.RGB5_A1=32855]="RGB5_A1",i[i.RGB565=36194]="RGB565",i[i.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",i[i.STENCIL_INDEX=6401]="STENCIL_INDEX",i[i.STENCIL_INDEX8=36168]="STENCIL_INDEX8",i[i.DEPTH_STENCIL=34041]="DEPTH_STENCIL",i[i.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",i[i.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",i[i.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",i[i.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",i[i.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",i[i.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",i[i.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",i[i.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",i[i.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",i[i.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",i[i.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",i[i.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",i[i.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",i[i.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",i[i.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",i[i.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",i[i.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",i[i.NONE=0]="NONE",i[i.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",i[i.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",i[i.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",i[i.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",i[i.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",i[i.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",i[i.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",i[i.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",i[i.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",i[i.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",i[i.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",i[i.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",i[i.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",i[i.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",i[i.COPY_SRC=1]="COPY_SRC",i[i.COPY_DST=2]="COPY_DST",i[i.SAMPLED=4]="SAMPLED",i[i.STORAGE=8]="STORAGE",i[i.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(f||(f={}))},kXyF:function(Ft,I,a){"use strict";a.r(I),a.d(I,"VIEW_LIFE_CIRCLE",function(){return A}),a.d(I,"VERSION",function(){return Wr}),a.d(I,"Chart",function(){return yl}),a.d(I,"View",function(){return tl}),a.d(I,"Event",function(){return Tu}),a.d(I,"ComponentController",function(){return gu}),a.d(I,"TooltipController",function(){return zl}),a.d(I,"Geometry",function(){return Eu}),a.d(I,"Element",function(){return Vl}),a.d(I,"GeometryLabel",function(){return Ts}),a.d(I,"Interaction",function(){return Wa}),a.d(I,"Action",function(){return Si}),a.d(I,"Facet",function(){return ta}),a.d(I,"InteractionAction",function(){return Si}),a.d(I,"registerComponentController",function(){return vu}),a.d(I,"registerGeometry",function(){return ks}),a.d(I,"registerShape",function(){return io}),a.d(I,"registerShapeFactory",function(){return au}),a.d(I,"getShapeFactory",function(){return bu}),a.d(I,"registerGeometryLabel",function(){return Hs}),a.d(I,"registerGeometryLabelLayout",function(){return ds}),a.d(I,"getGeometryLabel",function(){return Xl}),a.d(I,"getGeometryLabelLayout",function(){return Yo}),a.d(I,"getInteraction",function(){return Ia}),a.d(I,"registerInteraction",function(){return yn}),a.d(I,"registerAction",function(){return pe}),a.d(I,"getActionClass",function(){return ro}),a.d(I,"getFacet",function(){return ji}),a.d(I,"registerFacet",function(){return Ra}),a.d(I,"getTheme",function(){return ws}),a.d(I,"registerTheme",function(){return Ru}),a.d(I,"registerEngine",function(){return V}),a.d(I,"getEngine",function(){return z}),a.d(I,"registerAnimation",function(){return Ss}),a.d(I,"getAnimation",function(){return ef}),a.d(I,"LAYER",function(){return g}),a.d(I,"DIRECTION",function(){return p}),a.d(I,"Coordinate",function(){return cr}),a.d(I,"Scale",function(){return oe.c}),a.d(I,"Util",function(){return mn});var f=a("mrSG"),i=a("iTfj"),g;(function(d){d.FORE="fore",d.MID="mid",d.BG="bg"})(g||(g={}));var p;(function(d){d.TOP="top",d.TOP_LEFT="top-left",d.TOP_RIGHT="top-right",d.RIGHT="right",d.RIGHT_TOP="right-top",d.RIGHT_BOTTOM="right-bottom",d.LEFT="left",d.LEFT_TOP="left-top",d.LEFT_BOTTOM="left-bottom",d.BOTTOM="bottom",d.BOTTOM_LEFT="bottom-left",d.BOTTOM_RIGHT="bottom-right",d.RADIUS="radius",d.CIRCLE="circle",d.NONE="none"})(p||(p={}));var E;(function(d){d.AXIS="axis",d.GRID="grid",d.LEGEND="legend",d.TOOLTIP="tooltip",d.ANNOTATION="annotation",d.SLIDER="slider",d.SCROLLBAR="scrollbar",d.OTHER="other"})(E||(E={}));var S={FORE:3,MID:2,BG:1},A;(function(d){d.BEFORE_RENDER="beforerender",d.AFTER_RENDER="afterrender",d.BEFORE_PAINT="beforepaint",d.AFTER_PAINT="afterpaint",d.BEFORE_CHANGE_DATA="beforechangedata",d.AFTER_CHANGE_DATA="afterchangedata",d.BEFORE_CLEAR="beforeclear",d.AFTER_CLEAR="afterclear",d.BEFORE_DESTROY="beforedestroy",d.BEFORE_CHANGE_SIZE="beforechangesize",d.AFTER_CHANGE_SIZE="afterchangesize"})(A||(A={}));var M;(function(d){d.BEFORE_DRAW_ANIMATE="beforeanimate",d.AFTER_DRAW_ANIMATE="afteranimate"})(M||(M={}));var x;(function(d){d.MOUSE_ENTER="plot:mouseenter",d.MOUSE_DOWN="plot:mousedown",d.MOUSE_MOVE="plot:mousemove",d.MOUSE_UP="plot:mouseup",d.MOUSE_LEAVE="plot:mouseleave",d.TOUCH_START="plot:touchstart",d.TOUCH_MOVE="plot:touchmove",d.TOUCH_END="plot:touchend",d.TOUCH_CANCEL="plot:touchcancel",d.CLICK="plot:click",d.DBLCLICK="plot:dblclick",d.CONTEXTMENU="plot:contextmenu",d.LEAVE="plot:leave",d.ENTER="plot:enter"})(x||(x={}));var O;(function(d){d.ACTIVE="active",d.INACTIVE="inactive",d.SELECTED="selected",d.DEFAULT="default"})(O||(O={}));var C=["color","shape","size"],D="_origin",R=1,y=1,w=.25,N={};function z(d){var h=N[d];if(!h)throw new Error("G engine '"+d+"' is not exist, please register it at first.");return h}function V(d,h){N[d]=h}var B=a("fIp6");function P(d){var h=getComputedStyle(d);return{width:(d.clientWidth||parseInt(h.width,10))-parseInt(h.paddingLeft,10)-parseInt(h.paddingRight,10),height:(d.clientHeight||parseInt(h.height,10))-parseInt(h.paddingTop,10)-parseInt(h.paddingBottom,10)}}function T(d){return typeof d=="number"&&!isNaN(d)}function W(d,h,s,c){var m=s,j=c;if(h){var K=P(d);m=K.width?K.width:m,j=K.height?K.height:j}return{width:Math.max(T(m)?m:R,R),height:Math.max(T(j)?j:y,y)}}function Q(d){var h=d.parentNode;h&&h.removeChild(d)}var nt=a("f6Jy"),st=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this)||this;c.destroyed=!1;var m=s.visible,j=m===void 0?!0:m;return c.visible=j,c}return h.prototype.show=function(){var s=this.visible;s||this.changeVisible(!0)},h.prototype.hide=function(){var s=this.visible;s&&this.changeVisible(!1)},h.prototype.destroy=function(){this.off(),this.destroyed=!0},h.prototype.changeVisible=function(s){this.visible!==s&&(this.visible=s)},h}(nt.a),et=st,_=a("aFU3"),Y=a("7s0d"),$=function(h,s){return Object(i.O)(s)?s:h.invert(h.scale(s))},q=function(){function d(h){this.names=[],this.scales=[],this.linear=!1,this.values=[],this.callback=function(){return[]},this._parseCfg(h)}return d.prototype.mapping=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];var m=s.map(function(j,K){return h._toOriginParam(j,h.scales[K])});return this.callback.apply(this,m)},d.prototype.getLinearValue=function(h){var s=this.values.length-1,c=Math.floor(s*h),m=s*h-c,j=this.values[c],K=c===s?j:this.values[c+1];return j+(K-j)*m},d.prototype.getNames=function(){for(var h=this.scales,s=this.names,c=Math.min(h.length,s.length),m=[],j=0;j<c;j+=1)m.push(s[j]);return m},d.prototype.getFields=function(){return this.scales.map(function(h){return h.field})},d.prototype.getScale=function(h){return this.scales[this.names.indexOf(h)]},d.prototype.defaultCallback=function(){for(var h=this,s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return s.length===0?this.values:s.map(function(m,j){var K=h.scales[j];return K.type==="identity"?K.values[0]:h._getAttributeValue(K,m)})},d.prototype._parseCfg=function(h){var s=this,c=h.type,m=c===void 0?"base":c,j=h.names,K=j===void 0?[]:j,gt=h.scales,Mt=gt===void 0?[]:gt,Xt=h.values,Jt=Xt===void 0?[]:Xt,te=h.callback;this.type=m,this.scales=Mt,this.values=Jt,this.names=K,this.callback=function(){for(var ae=[],fe=0;fe<arguments.length;fe++)ae[fe]=arguments[fe];if(te){var Ae=te.apply(void 0,ae);if(!Object(i.I)(Ae))return[Ae]}return s.defaultCallback.apply(s,ae)}},d.prototype._getAttributeValue=function(h,s){if(h.isCategory&&!this.linear){var c=h.translate(s);return this.values[c%this.values.length]}var m=h.scale(s);return this.getLinearValue(m)},d.prototype._toOriginParam=function(h,s){return s.isLinear?h:Object(i.B)(h)?h.map(function(c){return $(s,c)}):$(s,h)},d}(),at=q;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pt=function(h,s){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,m){c.__proto__=m}||function(c,m){for(var j in m)m.hasOwnProperty(j)&&(c[j]=m[j])},pt(h,s)};function mt(d,h){pt(d,h);function s(){this.constructor=d}d.prototype=h===null?Object.create(h):(s.prototype=h.prototype,new s)}var ot=function(){return ot=Object.assign||function(s){for(var c,m=1,j=arguments.length;m<j;m++){c=arguments[m];for(var K in c)Object.prototype.hasOwnProperty.call(c,K)&&(s[K]=c[K])}return s},ot.apply(this,arguments)};function xt(d,h){var s={};for(var c in d)Object.prototype.hasOwnProperty.call(d,c)&&h.indexOf(c)<0&&(s[c]=d[c]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var m=0,c=Object.getOwnPropertySymbols(d);m<c.length;m++)h.indexOf(c[m])<0&&Object.prototype.propertyIsEnumerable.call(d,c[m])&&(s[c[m]]=d[c[m]]);return s}function It(d,h,s,c){var m=arguments.length,j=m<3?h:c===null?c=Object.getOwnPropertyDescriptor(h,s):c,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(d,h,s,c);else for(var gt=d.length-1;gt>=0;gt--)(K=d[gt])&&(j=(m<3?K(j):m>3?K(h,s,j):K(h,s))||j);return m>3&&j&&Object.defineProperty(h,s,j),j}function Ht(d,h){return function(s,c){h(s,c,d)}}function Qt(d,h){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(d,h)}function $t(d,h,s,c){function m(j){return j instanceof s?j:new s(function(K){K(j)})}return new(s||(s=Promise))(function(j,K){function gt(Jt){try{Xt(c.next(Jt))}catch(te){K(te)}}function Mt(Jt){try{Xt(c.throw(Jt))}catch(te){K(te)}}function Xt(Jt){Jt.done?j(Jt.value):m(Jt.value).then(gt,Mt)}Xt((c=c.apply(d,h||[])).next())})}function yt(d,h){var s={label:0,sent:function(){if(j[0]&1)throw j[1];return j[1]},trys:[],ops:[]},c,m,j,K;return K={next:gt(0),throw:gt(1),return:gt(2)},typeof Symbol=="function"&&(K[Symbol.iterator]=function(){return this}),K;function gt(Xt){return function(Jt){return Mt([Xt,Jt])}}function Mt(Xt){if(c)throw new TypeError("Generator is already executing.");for(;s;)try{if(c=1,m&&(j=Xt[0]&2?m.return:Xt[0]?m.throw||((j=m.return)&&j.call(m),0):m.next)&&!(j=j.call(m,Xt[1])).done)return j;switch(m=0,j&&(Xt=[Xt[0]&2,j.value]),Xt[0]){case 0:case 1:j=Xt;break;case 4:return s.label++,{value:Xt[1],done:!1};case 5:s.label++,m=Xt[1],Xt=[0];continue;case 7:Xt=s.ops.pop(),s.trys.pop();continue;default:if(j=s.trys,!(j=j.length>0&&j[j.length-1])&&(Xt[0]===6||Xt[0]===2)){s=0;continue}if(Xt[0]===3&&(!j||Xt[1]>j[0]&&Xt[1]<j[3])){s.label=Xt[1];break}if(Xt[0]===6&&s.label<j[1]){s.label=j[1],j=Xt;break}if(j&&s.label<j[2]){s.label=j[2],s.ops.push(Xt);break}j[2]&&s.ops.pop(),s.trys.pop();continue}Xt=h.call(d,s)}catch(Jt){Xt=[6,Jt],m=0}finally{c=j=0}if(Xt[0]&5)throw Xt[1];return{value:Xt[0]?Xt[1]:void 0,done:!0}}}function ut(d,h,s,c){c===void 0&&(c=s),d[c]=h[s]}function ft(d,h){for(var s in d)s!=="default"&&!h.hasOwnProperty(s)&&(h[s]=d[s])}function it(d){var h=typeof Symbol=="function"&&Symbol.iterator,s=h&&d[h],c=0;if(s)return s.call(d);if(d&&typeof d.length=="number")return{next:function(){return d&&c>=d.length&&(d=void 0),{value:d&&d[c++],done:!d}}};throw new TypeError(h?"Object is not iterable.":"Symbol.iterator is not defined.")}function vt(d,h){var s=typeof Symbol=="function"&&d[Symbol.iterator];if(!s)return d;var c=s.call(d),m,j=[],K;try{for(;(h===void 0||h-- >0)&&!(m=c.next()).done;)j.push(m.value)}catch(gt){K={error:gt}}finally{try{m&&!m.done&&(s=c.return)&&s.call(c)}finally{if(K)throw K.error}}return j}function Wt(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(vt(arguments[h]));return d}function Ct(){for(var d=0,h=0,s=arguments.length;h<s;h++)d+=arguments[h].length;for(var c=Array(d),m=0,h=0;h<s;h++)for(var j=arguments[h],K=0,gt=j.length;K<gt;K++,m++)c[m]=j[K];return c}function Z(d){return this instanceof Z?(this.v=d,this):new Z(d)}function X(d,h,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=s.apply(d,h||[]),m,j=[];return m={},K("next"),K("throw"),K("return"),m[Symbol.asyncIterator]=function(){return this},m;function K(ae){c[ae]&&(m[ae]=function(fe){return new Promise(function(Ae,Ie){j.push([ae,fe,Ae,Ie])>1||gt(ae,fe)})})}function gt(ae,fe){try{Mt(c[ae](fe))}catch(Ae){te(j[0][3],Ae)}}function Mt(ae){ae.value instanceof Z?Promise.resolve(ae.value.v).then(Xt,Jt):te(j[0][2],ae)}function Xt(ae){gt("next",ae)}function Jt(ae){gt("throw",ae)}function te(ae,fe){ae(fe),j.shift(),j.length&&gt(j[0][0],j[0][1])}}function dt(d){var h,s;return h={},c("next"),c("throw",function(m){throw m}),c("return"),h[Symbol.iterator]=function(){return this},h;function c(m,j){h[m]=d[m]?function(K){return(s=!s)?{value:Z(d[m](K)),done:m==="return"}:j?j(K):K}:j}}function H(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=d[Symbol.asyncIterator],s;return h?h.call(d):(d=typeof it=="function"?it(d):d[Symbol.iterator](),s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s);function c(j){s[j]=d[j]&&function(K){return new Promise(function(gt,Mt){K=d[j](K),m(gt,Mt,K.done,K.value)})}}function m(j,K,gt,Mt){Promise.resolve(Mt).then(function(Xt){j({value:Xt,done:gt})},K)}}function lt(d,h){return Object.defineProperty?Object.defineProperty(d,"raw",{value:h}):d.raw=h,d}function Ot(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var s in d)Object.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h.default=d,h}function Rt(d){return d&&d.__esModule?d:{default:d}}function zt(d,h){if(!h.has(d))throw new TypeError("attempted to get private field on non-instance");return h.get(d)}function Bt(d,h,s){if(!h.has(d))throw new TypeError("attempted to set private field on non-instance");return h.set(d,s),s}var tt=a("6UX8"),J=function(d){mt(h,d);function h(s){var c=d.call(this,s)||this;return c.type="color",c.names=["color"],Object(i.O)(c.values)&&(c.linear=!0),c.gradient=tt.a.gradient(c.values),c}return h.prototype.getLinearValue=function(s){return this.gradient(s)},h}(at),G=J,Et=function(d){mt(h,d);function h(s){var c=d.call(this,s)||this;return c.type="opacity",c.names=["opacity"],c}return h}(at),Tt=Et,ct=function(d){mt(h,d);function h(s){var c=d.call(this,s)||this;return c.names=["x","y"],c.type="position",c}return h.prototype.mapping=function(s,c){var m=this.scales,j=m[0],K=m[1];return Object(i.I)(s)||Object(i.I)(c)?[]:[Object(i.B)(s)?s.map(function(gt){return j.scale(gt)}):j.scale(s),Object(i.B)(c)?c.map(function(gt){return K.scale(gt)}):K.scale(c)]},h}(at),St=ct,Vt=function(d){mt(h,d);function h(s){var c=d.call(this,s)||this;return c.type="shape",c.names=["shape"],c}return h.prototype.getLinearValue=function(s){var c=Math.round((this.values.length-1)*s);return this.values[c]},h}(at),Lt=Vt,Nt=function(d){mt(h,d);function h(s){var c=d.call(this,s)||this;return c.type="size",c.names=["size"],c}return h}(at),Zt=Nt,oe=a("8vsG"),ue={},Ee=function(h){return ue[h.toLowerCase()]},Te=function(h,s){if(Ee(h))throw new Error("Attribute type '"+h+"' existed.");ue[h.toLowerCase()]=s};Te("Color",G),Te("Opacity",Tt),Te("Position",St),Te("Shape",Lt),Te("Size",Zt);var Se=a("6JdA"),$e=function(){function d(h){this.type="coordinate",this.isRect=!1,this.isHelix=!1,this.isPolar=!1,this.isReflectX=!1,this.isReflectY=!1;var s=h.start,c=h.end,m=h.matrix,j=m===void 0?[1,0,0,0,1,0,0,0,1]:m,K=h.isTransposed,gt=K===void 0?!1:K;this.start=s,this.end=c,this.matrix=j,this.originalMatrix=Object(f.f)([],j),this.isTransposed=gt}return d.prototype.initial=function(){this.center={x:(this.start.x+this.end.x)/2,y:(this.start.y+this.end.y)/2},this.width=Math.abs(this.end.x-this.start.x),this.height=Math.abs(this.end.y-this.start.y)},d.prototype.update=function(h){Object(i.b)(this,h),this.initial()},d.prototype.convertDim=function(h,s){var c,m=this[s],j=m.start,K=m.end;return this.isReflect(s)&&(c=[K,j],j=c[0],K=c[1]),j+h*(K-j)},d.prototype.invertDim=function(h,s){var c,m=this[s],j=m.start,K=m.end;return this.isReflect(s)&&(c=[K,j],j=c[0],K=c[1]),(h-j)/(K-j)},d.prototype.applyMatrix=function(h,s,c){c===void 0&&(c=0);var m=this.matrix,j=[h,s,c];return Se.d.transformMat3(j,j,m),j},d.prototype.invertMatrix=function(h,s,c){c===void 0&&(c=0);var m=this.matrix,j=Se.b.invert([0,0,0,0,0,0,0,0,0],m),K=[h,s,c];return j&&Se.d.transformMat3(K,K,j),K},d.prototype.convert=function(h){var s=this.convertPoint(h),c=s.x,m=s.y,j=this.applyMatrix(c,m,1);return{x:j[0],y:j[1]}},d.prototype.invert=function(h){var s=this.invertMatrix(h.x,h.y,1);return this.invertPoint({x:s[0],y:s[1]})},d.prototype.rotate=function(h){var s=this.matrix,c=this.center;return Se.a.leftTranslate(s,s,[-c.x,-c.y]),Se.a.leftRotate(s,s,h),Se.a.leftTranslate(s,s,[c.x,c.y]),this},d.prototype.reflect=function(h){return h==="x"?this.isReflectX=!this.isReflectX:this.isReflectY=!this.isReflectY,this},d.prototype.scale=function(h,s){var c=this.matrix,m=this.center;return Se.a.leftTranslate(c,c,[-m.x,-m.y]),Se.a.leftScale(c,c,[h,s]),Se.a.leftTranslate(c,c,[m.x,m.y]),this},d.prototype.translate=function(h,s){var c=this.matrix;return Se.a.leftTranslate(c,c,[h,s]),this},d.prototype.transpose=function(){return this.isTransposed=!this.isTransposed,this},d.prototype.getCenter=function(){return this.center},d.prototype.getWidth=function(){return this.width},d.prototype.getHeight=function(){return this.height},d.prototype.getRadius=function(){return this.radius},d.prototype.isReflect=function(h){return h==="x"?this.isReflectX:this.isReflectY},d.prototype.resetMatrix=function(h){this.matrix=h||Object(f.f)([],this.originalMatrix)},d}(),cr=$e,He=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.isRect=!0,c.type="cartesian",c.initial(),c}return h.prototype.initial=function(){d.prototype.initial.call(this);var s=this.start,c=this.end;this.x={start:s.x,end:c.x},this.y={start:s.y,end:c.y}},h.prototype.convertPoint=function(s){var c,m=s.x,j=s.y;return this.isTransposed&&(c=[j,m],m=c[0],j=c[1]),{x:this.convertDim(m,"x"),y:this.convertDim(j,"y")}},h.prototype.invertPoint=function(s){var c,m=this.invertDim(s.x,"x"),j=this.invertDim(s.y,"y");return this.isTransposed&&(c=[j,m],m=c[0],j=c[1]),{x:m,y:j}},h}(cr),_e=He,ur=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.isHelix=!0,c.type="helix";var m=s.startAngle,j=m===void 0?1.25*Math.PI:m,K=s.endAngle,gt=K===void 0?7.25*Math.PI:K,Mt=s.innerRadius,Xt=Mt===void 0?0:Mt,Jt=s.radius;return c.startAngle=j,c.endAngle=gt,c.innerRadius=Xt,c.radius=Jt,c.initial(),c}return h.prototype.initial=function(){d.prototype.initial.call(this);var s=(this.endAngle-this.startAngle)/(2*Math.PI)+1,c=Math.min(this.width,this.height)/2;this.radius&&this.radius>=0&&this.radius<=1&&(c=c*this.radius),this.d=Math.floor(c*(1-this.innerRadius)/s),this.a=this.d/(Math.PI*2),this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*c,end:this.innerRadius*c+this.d*.99}},h.prototype.convertPoint=function(s){var c,m=s.x,j=s.y;this.isTransposed&&(c=[j,m],m=c[0],j=c[1]);var K=this.convertDim(m,"x"),gt=this.a*K,Mt=this.convertDim(j,"y");return{x:this.center.x+Math.cos(K)*(gt+Mt),y:this.center.y+Math.sin(K)*(gt+Mt)}},h.prototype.invertPoint=function(s){var c,m=this.d+this.y.start,j=Se.c.subtract([0,0],[s.x,s.y],[this.center.x,this.center.y]),K=Se.a.angleTo(j,[1,0],!0),gt=K*this.a;Se.c.length(j)<gt&&(gt=Se.c.length(j));var Mt=Math.floor((Se.c.length(j)-gt)/m);K=2*Mt*Math.PI+K;var Xt=this.a*K,Jt=Se.c.length(j)-Xt;Jt=Object(i.L)(Jt,0)?0:Jt;var te=this.invertDim(K,"x"),ae=this.invertDim(Jt,"y");return te=Object(i.L)(te,0)?0:te,ae=Object(i.L)(ae,0)?0:ae,this.isTransposed&&(c=[ae,te],te=c[0],ae=c[1]),{x:te,y:ae}},h}(cr),jr=ur,Ar=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.isPolar=!0,c.type="polar";var m=s.startAngle,j=m===void 0?-Math.PI/2:m,K=s.endAngle,gt=K===void 0?Math.PI*3/2:K,Mt=s.innerRadius,Xt=Mt===void 0?0:Mt,Jt=s.radius;return c.startAngle=j,c.endAngle=gt,c.innerRadius=Xt,c.radius=Jt,c.initial(),c}return h.prototype.initial=function(){for(d.prototype.initial.call(this);this.endAngle<this.startAngle;)this.endAngle+=Math.PI*2;var s=this.getOneBox(),c=s.maxX-s.minX,m=s.maxY-s.minY,j=Math.abs(s.minX)/c,K=Math.abs(s.minY)/m,gt;this.height/m>this.width/c?(gt=this.width/c,this.circleCenter={x:this.center.x-(.5-j)*this.width,y:this.center.y-(.5-K)*gt*m}):(gt=this.height/m,this.circleCenter={x:this.center.x-(.5-j)*gt*c,y:this.center.y-(.5-K)*this.height}),this.polarRadius=this.radius,this.radius?this.radius>0&&this.radius<=1?this.polarRadius=gt*this.radius:(this.radius<=0||this.radius>gt)&&(this.polarRadius=gt):this.polarRadius=gt,this.x={start:this.startAngle,end:this.endAngle},this.y={start:this.innerRadius*this.polarRadius,end:this.polarRadius}},h.prototype.getRadius=function(){return this.polarRadius},h.prototype.convertPoint=function(s){var c,m=this.getCenter(),j=s.x,K=s.y;return this.isTransposed&&(c=[K,j],j=c[0],K=c[1]),j=this.convertDim(j,"x"),K=this.convertDim(K,"y"),{x:m.x+Math.cos(j)*K,y:m.y+Math.sin(j)*K}},h.prototype.invertPoint=function(s){var c,m=this.getCenter(),j=[s.x-m.x,s.y-m.y],K=this,gt=K.startAngle,Mt=K.endAngle;this.isReflect("x")&&(c=[Mt,gt],gt=c[0],Mt=c[1]);var Xt=[1,0,0,0,1,0,0,0,1];Se.a.leftRotate(Xt,Xt,gt);var Jt=[1,0,0];Se.d.transformMat3(Jt,Jt,Xt);var te=[Jt[0],Jt[1]],ae=Se.a.angleTo(te,j,Mt<gt);Object(i.L)(ae,Math.PI*2)&&(ae=0);var fe=Se.c.length(j),Ae=ae/(Mt-gt);Ae=Mt-gt>0?Ae:-Ae;var Ie=this.invertDim(fe,"y"),gr={x:0,y:0};return gr.x=this.isTransposed?Ie:Ae,gr.y=this.isTransposed?Ae:Ie,gr},h.prototype.getCenter=function(){return this.circleCenter},h.prototype.getOneBox=function(){var s=this.startAngle,c=this.endAngle;if(Math.abs(c-s)>=Math.PI*2)return{minX:-1,maxX:1,minY:-1,maxY:1};for(var m=[0,Math.cos(s),Math.cos(c)],j=[0,Math.sin(s),Math.sin(c)],K=Math.min(s,c);K<Math.max(s,c);K+=Math.PI/18)m.push(Math.cos(K)),j.push(Math.sin(K));return{minX:Math.min.apply(Math,m),maxX:Math.max.apply(Math,m),minY:Math.min.apply(Math,j),maxY:Math.max.apply(Math,j)}},h}(cr),Ge=Ar,br={},er=function(h){return br[h.toLowerCase()]},nr=function(h,s){br[h.toLowerCase()]=s};nr("rect",_e),nr("cartesian",_e),nr("polar",Ge),nr("helix",jr);var yr=a("17Tr"),Rr=yr.Axis.Line,an=yr.Axis.Circle,In=yr.Grid.Line,Un=yr.Grid.Circle,_n=yr.Legend.Category,sa=yr.Legend.Continuous,ci=yr.Tooltip.Html;function fi(d){if(Object(i.F)(d))return null;var h=d[0].x,s=d[0].x,c=d[0].y,m=d[0].y;return Object(i.j)(d,function(j){h=h>j.x?j.x:h,s=s<j.x?j.x:s,c=c>j.y?j.y:c,m=m<j.y?j.y:m}),{minX:h,maxX:s,minY:c,maxY:m,centerX:(h+s)/2,centerY:(c+m)/2}}function pa(d,h,s,c){return{x:d+s*Math.cos(c),y:h+s*Math.sin(c)}}function ga(d,h,s,c,m,j){j===void 0&&(j=0);var K=pa(d,h,s,c),gt=pa(d,h,s,m),Mt=pa(d,h,j,c),Xt=pa(d,h,j,m);if(m-c==Math.PI*2){var Jt=pa(d,h,s,c+Math.PI),te=pa(d,h,j,c+Math.PI),ae=[["M",K.x,K.y],["A",s,s,0,1,1,Jt.x,Jt.y],["A",s,s,0,1,1,gt.x,gt.y],["M",Mt.x,Mt.y]];return j&&(ae.push(["A",j,j,0,1,0,te.x,te.y]),ae.push(["A",j,j,0,1,0,Xt.x,Xt.y])),ae.push(["M",K.x,K.y]),ae.push(["Z"]),ae}var fe=m-c<=Math.PI?0:1,Ae=[["M",K.x,K.y],["A",s,s,0,fe,1,gt.x,gt.y],["L",Xt.x,Xt.y]];return j&&Ae.push(["A",j,j,0,fe,0,Mt.x,Mt.y]),Ae.push(["L",K.x,K.y]),Ae.push(["Z"]),Ae}function Xi(d,h,s,c,m){var j=pa(d,h,s,c),K=pa(d,h,s,m);if(Object(i.L)(m-c,Math.PI*2)){var gt=pa(d,h,s,c+Math.PI);return[["M",j.x,j.y],["A",s,s,0,1,1,gt.x,gt.y],["A",s,s,0,1,1,j.x,j.y],["A",s,s,0,1,0,gt.x,gt.y],["A",s,s,0,1,0,j.x,j.y],["Z"]]}var Mt=m-c<=Math.PI?0:1;return[["M",j.x,j.y],["A",s,s,0,Mt,1,K.x,K.y]]}function Ci(d,h){var s=d.points,c=fi(s),m,j,K=h.startAngle,gt=h.endAngle,Mt=gt-K;return h.isTransposed?(m=c.maxY*Mt,j=c.minY*Mt):(m=c.maxX*Mt,j=c.minX*Mt),m+=K,j+=K,{startAngle:j,endAngle:m}}function Ki(d,h){if(Object(i.K)(d)&&Object(i.K)(h))return[d,h];for(var s=-1,c=0,m=0,j,K=d.length-1,gt,Mt=0;++s<d.length;)j=K,K=s,Mt+=gt=d[j]*h[K]-d[K]*h[j],c+=(d[j]+d[K])*gt,m+=(h[j]+h[K])*gt;return Mt*=3,[c/Mt,m/Mt]}function so(d,h){var s=d.attr(),c=h.attr();return Object(i.j)(s,function(m,j){c[j]===void 0&&(c[j]=void 0)}),c}function co(d,h,s){var c=Math.min(h,s),m=Math.max(h,s);return d>=c&&d<=m}function fo(d,h,s){if(Object(i.O)(d))return d.padEnd(h,s);if(Object(i.B)(d)){var c=d.length;if(c<h)for(var m=h-c,j=0;j<m;j++)d.push(s)}return d}function ya(d,h){return h.forEach(function(s){delete d[s]}),d}function _a(d,h,s){h===void 0&&(h=[]),s===void 0&&(s={});for(var c=0,m=d;c<m.length;c++){var j=m[c];s[j]||(h.push(j),s[j]=!0)}return h}var rr=function(){function d(h,s,c,m){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),this.x=h,this.y=s,this.height=m,this.width=c}return d.fromRange=function(h,s,c,m){return new d(h,s,c-h,m-s)},d.fromObject=function(h){return new d(h.minX,h.minY,h.width,h.height)},Object.defineProperty(d.prototype,"minX",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxX",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"minY",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"maxY",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"tl",{get:function(){return{x:this.x,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"tr",{get:function(){return{x:this.maxX,y:this.y}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bl",{get:function(){return{x:this.x,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"br",{get:function(){return{x:this.maxX,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"top",{get:function(){return{x:this.x+this.width/2,y:this.minY}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"right",{get:function(){return{x:this.maxX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"bottom",{get:function(){return{x:this.x+this.width/2,y:this.maxY}},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"left",{get:function(){return{x:this.minX,y:this.y+this.height/2}},enumerable:!1,configurable:!0}),d.prototype.isEqual=function(h){return this.x===h.x&&this.y===h.y&&this.width===h.width&&this.height===h.height},d.prototype.contains=function(h){return h.minX>=this.minX&&h.maxX<=this.maxX&&h.minY>=this.minY&&h.maxY<=this.maxY},d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.add=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(i.j)(h,function(m){c.x=Math.min(m.x,c.x),c.y=Math.min(m.y,c.y),c.width=Math.max(m.maxX,c.maxX)-c.x,c.height=Math.max(m.maxY,c.maxY)-c.y}),c},d.prototype.merge=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];var c=this.clone();return Object(i.j)(h,function(m){c.x=Math.max(m.x,c.x),c.y=Math.max(m.y,c.y),c.width=Math.min(m.maxX,c.maxX)-c.x,c.height=Math.min(m.maxY,c.maxY)-c.y}),c},d.prototype.cut=function(h,s){var c=h.width,m=h.height;switch(s){case p.TOP:case p.TOP_LEFT:case p.TOP_RIGHT:return d.fromRange(this.minX,this.minY+m,this.maxX,this.maxY);case p.RIGHT:case p.RIGHT_TOP:case p.RIGHT_BOTTOM:return d.fromRange(this.minX,this.minY,this.maxX-c,this.maxY);case p.BOTTOM:case p.BOTTOM_LEFT:case p.BOTTOM_RIGHT:return d.fromRange(this.minX,this.minY,this.maxX,this.maxY-m);case p.LEFT:case p.LEFT_TOP:case p.LEFT_BOTTOM:return d.fromRange(this.minX+c,this.minY,this.maxX,this.maxY);default:return this}},d.prototype.shrink=function(h){var s=h[0],c=h[1],m=h[2],j=h[3];return new d(this.x+j,this.y+s,this.width-j-c,this.height-s-m)},d.prototype.expand=function(h){var s=h[0],c=h[1],m=h[2],j=h[3];return new d(this.x-j,this.y-s,this.width+j+c,this.height+s+m)},d.prototype.exceed=function(h){return[Math.max(-this.minY+h.minY,0),Math.max(this.maxX-h.maxX,0),Math.max(this.maxY-h.maxY,0),Math.max(-this.minX+h.minX,0)]},d.prototype.collide=function(h){return this.minX<h.maxX&&this.maxX>h.minX&&this.minY<h.maxY&&this.maxY>h.minY},d.prototype.size=function(){return this.width*this.height},d.prototype.isPointIn=function(h){return h.x>=this.minX&&h.x<=this.maxX&&h.y>=this.minY&&h.y<=this.maxY},d}(),ir=function(h,s){var c=s.start,m=s.end;return new rr(h.x+h.width*c.x,h.y+h.height*c.y,h.width*Math.abs(m.x-c.x),h.height*Math.abs(m.y-c.y))};function Ye(d){return[[d.minX,d.minY],[d.maxX,d.minY],[d.maxX,d.maxY],[d.minX,d.maxY]]}function tr(d){if(d.isPolar&&!d.isTransposed)return(d.endAngle-d.startAngle)*d.getRadius();var h=d.convert({x:0,y:0}),s=d.convert({x:1,y:0});return Math.sqrt(Math.pow(s.x-h.x,2)+Math.pow(s.y-h.y,2))}function Fr(d){if(d.isPolar){var h=d.startAngle,s=d.endAngle;return s-h==Math.PI*2}return!1}function tn(d,h){var s=d.getCenter();return Math.sqrt(Math.pow(h.x-s.x,2)+Math.pow(h.y-s.y,2))}function bn(d,h){var s=!1;if(d)if(d.type==="theta"){var c=d.start,m=d.end;s=co(h.x,c.x,m.x)&&co(h.y,c.y,m.y)}else{var j=d.invert(h);s=co(j.x,0,1)&&co(j.y,0,1)}return s}function on(d,h){var s=d.getCenter();return Math.atan2(h.y-s.y,h.x-s.x)}function Oa(d,h){h===void 0&&(h=0);var s=d.start,c=d.end,m=d.getWidth(),j=d.getHeight();if(d.isPolar){var K=d.startAngle,gt=d.endAngle,Mt=d.getCenter(),Xt=d.getRadius();return{type:"path",startState:{path:ga(Mt.x,Mt.y,Xt+h,K,K)},endState:function(ae){var fe=(gt-K)*ae+K,Ae=ga(Mt.x,Mt.y,Xt+h,K,fe);return{path:Ae}},attrs:{path:ga(Mt.x,Mt.y,Xt+h,K,gt)}}}var Jt;return d.isTransposed?Jt={height:j+h*2}:Jt={width:m+h*2},{type:"rect",startState:{x:s.x-h,y:c.y-h,width:d.isTransposed?m+h*2:0,height:d.isTransposed?0:j+h*2},endState:Jt,attrs:{x:s.x-h,y:c.y-h,width:m+h*2,height:j+h*2}}}function na(d,h){h===void 0&&(h=0);var s=d.start,c=d.end,m=d.getWidth(),j=d.getHeight(),K=Math.min(s.x,c.x),gt=Math.min(s.y,c.y);return rr.fromRange(K-h,gt-h,K+m+h,gt+j+h)}var wa=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]+)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/;function da(d){var h="linear";return wa.test(d)?h="timeCat":Object(i.O)(d)&&(h="cat"),h}function bi(d,h,s){var c=h||[];if(Object(i.K)(d)||Object(i.I)(Object(i.o)(c,d))&&Object(i.F)(s)){var m=Object(oe.d)("identity");return new m({field:d.toString(),values:[d]})}var j=Object(i.vb)(c,d),K=Object(i.s)(s,"type",da(j[0])),gt=Object(oe.d)(K);return new gt(Object(f.a)({field:d,values:j},s))}function qa(d,h){if(d.type!=="identity"&&h.type!=="identity"){var s={};for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(s[c]=h[c]);d.change(s)}}function fa(d){return d.alias||d.field}function Aa(d,h,s){var c=d.values,m=c.length,j;if(m===1)j=[.5,1];else{var K=1,gt=0;Fr(h)?h.isTransposed?(K=Object(i.s)(s,"widthRatio.multiplePie",1/1.3),gt=1/m*K,j=[gt/2,1-gt/2]):j=[0,1-1/m]:(gt=1/m/2,j=[gt,1-gt])}return j}function Sa(d){var h=d.values.filter(function(s){return!Object(i.I)(s)&&!isNaN(s)});return Math.max.apply(Math,Object(f.g)(h,[Object(i.I)(d.max)?-Infinity:d.max]))}function Fa(d){var h,s;switch(d){case p.TOP:h={x:0,y:1},s={x:1,y:1};break;case p.RIGHT:h={x:1,y:0},s={x:1,y:1};break;case p.BOTTOM:h={x:0,y:0},s={x:1,y:0};break;case p.LEFT:h={x:0,y:0},s={x:0,y:1};break;default:h=s={x:0,y:0}}return{start:h,end:s}}function Ka(d){var h,s;return d.isTransposed?(h={x:0,y:0},s={x:1,y:0}):(h={x:0,y:0},s={x:0,y:1}),{start:h,end:s}}function hi(d,h){var s={start:{x:0,y:0},end:{x:0,y:0}};d.isRect?s=Fa(h):d.isPolar&&(s=Ka(d));var c=s.start,m=s.end;return{start:d.convert(c),end:d.convert(m)}}function me(d,h){if(d.isRect)return d.isTransposed?[p.RIGHT,p.BOTTOM].includes(h)?1:-1:[p.BOTTOM,p.RIGHT].includes(h)?-1:1;if(d.isPolar){var s=d.x.start;return s<0?-1:1}return 1}function he(d){var h=d.start,s=d.end;return h.x===s.x}function be(d,h){var s=d.start,c=d.end,m=he(d);return m?(s.y-c.y)*(h.x-s.x)>0?1:-1:(c.x-s.x)*(s.y-h.y)>0?-1:1}function Ve(d,h){var s=Object(i.s)(d,["components","axis"],{});return Object(i.h)({},Object(i.s)(s,["common"],{}),Object(i.h)({},Object(i.s)(s,[h],{})))}function Ke(d,h,s){var c=Object(i.s)(d,["components","axis"],{});return Object(i.h)({},Object(i.s)(c,["common","title"],{}),Object(i.h)({},Object(i.s)(c,[h,"title"],{})),s)}function fr(d){var h=d.x,s=d.y,c=d.circleCenter,m=s.start>s.end,j=d.isTransposed?d.convert({x:m?0:1,y:0}):d.convert({x:0,y:m?0:1}),K=[j.x-c.x,j.y-c.y],gt=[1,0],Mt=j.y>c.y?Se.c.angle(K,gt):Se.c.angle(K,gt)*-1,Xt=Mt+(h.end-h.start),Jt=Math.sqrt(Math.pow(j.x-c.x,2)+Math.pow(j.y-c.y,2));return{center:c,radius:Jt,startAngle:Mt,endAngle:Xt}}function Lr(d,h){return Object(i.C)(d)?d===!1?!1:{}:Object(i.s)(d,[h])}function _r(d,h){return Object(i.s)(d,"position",h)}function ua(d,h){return Object(i.s)(h,["title","text"],fa(d))}var ta=function(){function d(h,s){this.destroyed=!1,this.facets=[],this.view=h,this.cfg=Object(i.h)({},this.getDefaultCfg(),s)}return d.prototype.init=function(){this.container||(this.container=this.createContainer());var h=this.view.getData();this.facets=this.generateFacets(h)},d.prototype.render=function(){this.renderViews()},d.prototype.update=function(){},d.prototype.clear=function(){this.clearFacetViews()},d.prototype.destroy=function(){this.clear(),this.container&&(this.container.remove(!0),this.container=void 0),this.destroyed=!0,this.view=void 0,this.facets=[]},d.prototype.facetToView=function(h){var s=h.region,c=h.data,m=h.padding,j=m===void 0?this.cfg.padding:m,K=this.view.createView({region:s,padding:j});K.data(c||[]),h.view=K,this.beforeEachView(K,h);var gt=this.cfg.eachView;return gt&&gt(K,h),this.afterEachView(K,h),K},d.prototype.createContainer=function(){var h=this.view.getLayer(g.FORE);return h.addGroup()},d.prototype.renderViews=function(){this.createFacetViews()},d.prototype.createFacetViews=function(){var h=this;return this.facets.map(function(s){return h.facetToView(s)})},d.prototype.clearFacetViews=function(){var h=this;Object(i.j)(this.facets,function(s){s.view&&(h.view.removeView(s.view),s.view=void 0)})},d.prototype.getFieldValues=function(h,s){var c=[],m={};return Object(i.j)(h,function(j){var K=j[s];!Object(i.I)(K)&&!m[K]&&(c.push(K),m[K]=!0)}),c},d.prototype.getRegion=function(h,s,c,m){var j=1/(s===0?1:s),K=1/(h===0?1:h),gt={x:j*c,y:K*m},Mt={x:j*(c+1),y:K*(m+1)};return{start:gt,end:Mt}},d.prototype.getDefaultCfg=function(){return{eachView:void 0,showTitle:!0,padding:10,fields:[]}},d.prototype.getDefaultTitleCfg=function(){var h=this.view.getTheme().fontFamily;return{style:{fontSize:14,fill:"#666",fontFamily:h}}},d.prototype.processAxis=function(h,s){var c=h.getOptions(),m=c.coordinate,j=h.geometries,K=Object(i.s)(m,"type","rect");if(K==="rect"&&j.length){Object(i.I)(c.axes)&&(c.axes={});var gt=c.axes,Mt=j[0].getXYFields(),Xt=Mt[0],Jt=Mt[1],te=Lr(gt,Xt),ae=Lr(gt,Jt);te!==!1&&(c.axes[Xt]=this.getXAxisOption(Xt,gt,te,s)),ae!==!1&&(c.axes[Jt]=this.getYAxisOption(Jt,gt,ae,s))}},d.prototype.getFacetDataFilter=function(h){return function(s){return Object(i.k)(h,function(c){var m=c.field,j=c.value;return!Object(i.I)(j)&&m?s[m]===j:!0})}},d}(),Kn={},ji=function(h){return Kn[Object(i.T)(h)]},Ra=function(h,s){Kn[Object(i.T)(h)]=s},eo=function(){function d(h,s){this.context=h,this.cfg=s,h.addAction(this)}return d.prototype.applyCfg=function(h){Object(i.b)(this,h)},d.prototype.init=function(){this.applyCfg(this.cfg)},d.prototype.destroy=function(){this.context.removeAction(this),this.context=null},d}(),Si=eo,yo=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.execute=function(){this.callback&&this.callback(this.context)},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.callback=null},h}(Si),Co=yo,Ro={};function we(d,h){var s=Ro[d],c=null;if(s){var m=s.ActionClass,j=s.cfg;c=new m(h,j),c.name=d,c.init()}return c}function ro(d){var h=Ro[d];return Object(i.s)(h,"ActionClass")}function pe(d,h,s){Ro[d]={ActionClass:h,cfg:s}}function Gi(d){delete Ro[d]}function Ba(d,h){var s=new Co(h);return s.callback=d,s.name="callback",s}function On(d,h){var s=[];if(d.length){s.push(["M",d[0].x,d[0].y]);for(var c=1,m=d.length;c<m;c+=1){var j=d[c];s.push(["L",j.x,j.y])}h&&s.push(["Z"])}return s}function mo(d,h){for(var s=[d[0]],c=1,m=d.length;c<m;c=c+2){var j=h.convert({x:d[c],y:d[c+1]});s.push(j.x,j.y)}return s}function Xo(d,h){var s=h.isTransposed,c=d[1],m=d[6],j=d[7],K=h.convert({x:m,y:j}),gt=s?0:1;return["A",c,c,0,0,gt,K.x,K.y]}function Ei(d,h,s){var c=s.isTransposed,m=s.startAngle,j=s.endAngle,K=d[0].toLowerCase()==="a"?{x:d[6],y:d[7]}:{x:d[1],y:d[2]},gt={x:h[1],y:h[2]},Mt=[],Xt=c?"y":"x",Jt=Math.abs(gt[Xt]-K[Xt])*(j-m),te=gt[Xt]>=K[Xt]?1:0,ae=Jt>Math.PI?1:0,fe=s.convert(gt),Ae=tn(s,fe);if(Ae>=.5)if(Jt===Math.PI*2){var Ie={x:(gt.x+K.x)/2,y:(gt.y+K.y)/2},gr=s.convert(Ie);Mt.push(["A",Ae,Ae,0,ae,te,gr.x,gr.y]),Mt.push(["A",Ae,Ae,0,ae,te,fe.x,fe.y])}else Mt.push(["A",Ae,Ae,0,ae,te,fe.x,fe.y]);return Mt}function Zi(d){Object(i.j)(d,function(h,s){var c=h;if(c[0].toLowerCase()==="a"){var m=d[s-1],j=d[s+1];j&&j[0].toLowerCase()==="a"?m&&m[0].toLowerCase()==="l"&&(m[0]="M"):m&&m[0].toLowerCase()==="a"&&j&&j[0].toLowerCase()==="l"&&(j[0]="M")}})}var Do=function(h,s,c,m){var j=[],K,gt,Mt=!!m,Xt,Jt;if(Mt){Xt=[Infinity,Infinity],Jt=[-Infinity,-Infinity];for(var te=0,ae=h.length;te<ae;te++){var fe=h[te];Xt=Se.c.min([0,0],Xt,fe),Jt=Se.c.max([0,0],Jt,fe)}Xt=Se.c.min([0,0],Xt,m[0]),Jt=Se.c.max([0,0],Jt,m[1])}for(var te=0,Ae=h.length;te<Ae;te++){var fe=h[te];if(c)K=h[te?te-1:Ae-1],gt=h[(te+1)%Ae];else if(te===0||te===Ae-1){j.push(fe);continue}else K=h[te-1],gt=h[te+1];var Ie=[0,0];Ie=Se.c.sub(Ie,gt,K),Ie=Se.c.scale(Ie,Ie,s);var gr=Se.c.distance(fe,K),Or=Se.c.distance(fe,gt),Br=gr+Or;Br!==0&&(gr/=Br,Or/=Br);var Gr=Se.c.scale([0,0],Ie,-gr),Tn=Se.c.scale([0,0],Ie,Or),nn=Se.c.add([0,0],fe,Gr),zn=Se.c.add([0,0],fe,Tn);Mt&&(nn=Se.c.max([0,0],nn,Xt),nn=Se.c.min([0,0],nn,Jt),zn=Se.c.max([0,0],zn,Xt),zn=Se.c.min([0,0],zn,Jt)),j.push(nn),j.push(zn)}return c&&j.push(j.shift()),j};function Po(d,h,s){for(var c=!!h,m=[],j=0,K=d.length;j<K;j+=2)m.push([d[j],d[j+1]]);for(var gt=Do(m,.4,c,s),Mt=m.length,Xt=[],Jt,te,ae,j=0;j<Mt-1;j++)Jt=gt[j*2],te=gt[j*2+1],ae=m[j+1],Xt.push(["C",Jt[0],Jt[1],te[0],te[1],ae[0],ae[1]]);return c&&(Jt=gt[Mt],te=gt[Mt+1],ae=m[0],Xt.push(["C",Jt[0],Jt[1],te[0],te[1],ae[0],ae[1]])),Xt}function bo(d,h){return On(d,h)}function Eo(d,h,s){var c=[],m=d[0],j=null;if(d.length<=2)return bo(d,h);for(var K=0,gt=d.length;K<gt;K++){var Mt=d[K];(!j||!(j.x===Mt.x&&j.y===Mt.y))&&(c.push(Mt.x),c.push(Mt.y),j=Mt)}var Xt=s||[[0,0],[1,1]],Jt=Po(c,h,Xt);return Jt.unshift(["M",m.x,m.y]),Jt}function hs(d,h){var s=[];return Object(i.j)(h,function(c){var m=c[0];switch(m.toLowerCase()){case"m":case"l":case"c":s.push(mo(c,d));break;case"a":s.push(Xo(c,d));break;case"z":default:s.push(c);break}}),s}function la(d,h){var s=[],c,m,j,K;return Object(i.j)(h,function(gt,Mt){var Xt=gt[0];switch(Xt.toLowerCase()){case"m":case"c":case"q":s.push(mo(gt,d));break;case"l":c=h[Mt-1],m=gt,j=d.isTransposed,K=j?c[c.length-2]===m[1]:c[c.length-1]===m[2],K?s=s.concat(Ei(c,m,d)):s.push(mo(gt,d));break;case"a":s.push(Xo(gt,d));break;case"z":default:s.push(gt);break}}),Zi(s),s}var Cs=a("LvGN");function Ns(d,h){var s=d.event,c=s.target,m=c.getCanvasBBox();return m.width>=h||m.height>=h?m:null}function Bs(d,h){var s=d.event,c=s.target,m=c.getCanvasBBox();return m.width>=h||m.height>=h?c.attr("path"):null}function as(d){var h=d.event,s,c=h.target;return c&&(s=c.get("element")),s}function is(d){var h=d.event,s=h.target,c;return s&&(c=s.get("delegateObject")),c}function os(d){var h=d.event.gEvent;return!(h&&h.fromShape&&h.toShape&&h.fromShape.get("element")===h.toShape.get("element"))}function As(d){return d&&d.component&&d.component.isList()}function fu(d){return d&&d.component&&d.component.isSlider()}function Gs(d){var h=d.event,s=h.target;return s&&s.get("name")==="mask"}function ru(d,h){var s=d.event.target;if(s.get("type")==="path"){var c=Bs(d,h);return c?Ze(d.view,c):void 0}var m=Ns(d,h);return m?Re(d.view,m):null}function Us(d,h,s){var c=Ns(d,s);if(!c)return null;var m=d.view,j=cn(m,h,{x:c.x,y:c.y}),K=cn(m,h,{x:c.maxX,y:c.maxY}),gt={minX:j.x,minY:j.y,maxX:K.x,maxY:K.y};return Re(h,gt)}function k(d){var h=d.geometries,s=[];return Object(i.j)(h,function(c){var m=c.elements;s=s.concat(m)}),d.views&&d.views.length&&Object(i.j)(d.views,function(c){s=s.concat(k(c))}),s}function Dt(d,h,s){var c=k(d);return c.filter(function(m){return le(m,h)===s})}function re(d,h){var s=d.geometries,c=[];return Object(i.j)(s,function(m){var j=m.getElementsBy(function(K){return K.hasState(h)});c=c.concat(j)}),c}function le(d,h){var s=d.getModel(),c=s.data,m;return Object(i.B)(c)?m=c[0][h]:m=c[h],m}function Ce(d,h){return!(h.minX>d.maxX||h.maxX<d.minX||h.minY>d.maxY||h.maxY<d.minY)}function Re(d,h){var s=k(d),c=[];return Object(i.j)(s,function(m){var j=m.shape,K=j.getCanvasBBox();Ce(h,K)&&c.push(m)}),c}function ke(d){var h=[];return Object(i.j)(d,function(s){var c=s[0];if(c!=="A")for(var m=1;m<s.length;m=m+2)h.push([s[m],s[m+1]]);else{var j=s.length;h.push([s[j-2],s[j-1]])}}),h}function Ze(d,h){var s=k(d),c=ke(h),m=s.filter(function(j){var K=j.shape,gt;if(K.get("type")==="path")gt=ke(K.attr("path"));else{var Mt=K.getCanvasBBox();gt=Ye(Mt)}return Object(Cs.b)(c,gt)});return m}function lr(d){return d.getComponents().map(function(h){return h.component})}function dr(d,h){var s=h.x-d.x,c=h.y-d.y;return Math.sqrt(s*s+c*c)}function Cr(d,h){if(d.length<=2)return bo(d,!1);var s=d[0],c=[];Object(i.j)(d,function(j){c.push(j.x),c.push(j.y)});var m=Po(c,h,null);return m.unshift(["M",s.x,s.y]),m}function Yr(d,h){return d.x<=h.x&&d.maxX>=h.x&&d.y<=h.y&&d.maxY>h.y}function Nr(d){var h=d.parent,s=null;return h&&(s=h.views.filter(function(c){return c!==d})),s}function Vr(d,h){var s=d.getCoordinate();return s.invert(h)}function cn(d,h,s){var c=Vr(d,s);return h.getCoordinate().convert(c)}function ln(d,h,s,c){var m=!1;return Object(i.j)(d,function(j){if(j[s]===h[s]&&j[c]===h[c])return m=!0,!1}),m}function Hr(d,h){var s=d.getScaleByField(h);return!s&&d.views&&Object(i.j)(d.views,function(c){if(s=Hr(c,h),s)return!1}),s}var ia=function(){function d(h){this.actions=[],this.event=null,this.cacheMap={},this.view=h}return d.prototype.cache=function(){for(var h=[],s=0;s<arguments.length;s++)h[s]=arguments[s];if(h.length===1)return this.cacheMap[h[0]];h.length===2&&(this.cacheMap[h[0]]=h[1])},d.prototype.getAction=function(h){return this.actions.find(function(s){return s.name===h})},d.prototype.addAction=function(h){this.actions.push(h)},d.prototype.removeAction=function(h){var s=this.actions,c=this.actions.indexOf(h);c>=0&&s.splice(c,1)},d.prototype.getCurrentPoint=function(){var h=this.event;if(h)if(h.target instanceof HTMLElement){var s=this.view.getCanvas(),c=s.getPointByClient(h.clientX,h.clientY);return c}else return{x:h.x,y:h.y};return null},d.prototype.getCurrentShape=function(){return Object(i.s)(this.event,["gEvent","shape"])},d.prototype.isInPlot=function(){var h=this.getCurrentPoint();return h?this.view.isPointInPlot(h):!1},d.prototype.isInShape=function(h){var s=this.getCurrentShape();return s?s.get("name")===h:!1},d.prototype.isInComponent=function(h){var s=lr(this.view),c=this.getCurrentPoint();return c?!!s.find(function(m){var j=m.getBBox();return h?m.get("name")===h&&Yr(j,c):Yr(j,c)}):!1},d.prototype.destroy=function(){this.view=null,this.event=null,Object(i.j)(this.actions.slice(),function(h){h.destroy()}),this.actions=null,this.cacheMap=null},d}(),Oi=ia,Ua=function(){function d(h,s){this.view=h,this.cfg=s}return d.prototype.init=function(){this.initEvents()},d.prototype.initEvents=function(){},d.prototype.clearEvents=function(){},d.prototype.destroy=function(){this.clearEvents()},d}(),Wa=Ua;function ei(d,h,s){var c=d.split(":"),m=c[0],j=h.getAction(m)||we(m,h);if(!j)throw new Error("There is no action named "+m);var K=c[1];return{action:j,methodName:K,arg:s}}function za(d){var h=d.action,s=d.methodName,c=d.arg;if(h[s])h[s](c);else throw new Error("Action("+h.name+") doesn't have a method called "+s)}var Na={START:"start",SHOW_ENABLE:"showEnable",END:"end",ROLLBACK:"rollback",PROCESSING:"processing"},Qi=function(d){Object(f.c)(h,d);function h(s,c){var m=d.call(this,s,c)||this;return m.callbackCaches={},m.emitCaches={},m.steps=c,m}return h.prototype.init=function(){this.initContext(),d.prototype.init.call(this)},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.steps=null,this.context&&(this.context.destroy(),this.context=null),this.callbackCaches=null,this.view=null},h.prototype.initEvents=function(){var s=this;Object(i.j)(this.steps,function(c,m){Object(i.j)(c,function(j){var K=s.getActionCallback(m,j);K&&s.bindEvent(j.trigger,K)})})},h.prototype.clearEvents=function(){var s=this;Object(i.j)(this.steps,function(c,m){Object(i.j)(c,function(j){var K=s.getActionCallback(m,j);K&&s.offEvent(j.trigger,K)})})},h.prototype.initContext=function(){var s=this.view,c=new Oi(s);this.context=c;var m=this.steps;Object(i.j)(m,function(j){Object(i.j)(j,function(K){if(Object(i.H)(K.action))K.actionObject={action:Ba(K.action,c),methodName:"execute"};else if(Object(i.O)(K.action))K.actionObject=ei(K.action,c,K.arg);else if(Object(i.B)(K.action)){var gt=K.action,Mt=Object(i.B)(K.arg)?K.arg:[K.arg];K.actionObject=[],Object(i.j)(gt,function(Xt,Jt){K.actionObject.push(ei(Xt,c,Mt[Jt]))})}})})},h.prototype.isAllowStep=function(s){var c=this.currentStepName,m=this.steps;if(c===s||s===Na.SHOW_ENABLE)return!0;if(s===Na.PROCESSING)return c===Na.START;if(s===Na.START)return c!==Na.PROCESSING;if(s===Na.END)return c===Na.PROCESSING||c===Na.START;if(s===Na.ROLLBACK){if(m[Na.END])return c===Na.END;if(c===Na.START)return!0}return!1},h.prototype.isAllowExecute=function(s,c){if(this.isAllowStep(s)){var m=this.getKey(s,c);return c.once&&this.emitCaches[m]?!1:c.isEnable?c.isEnable(this.context):!0}return!1},h.prototype.enterStep=function(s){this.currentStepName=s,this.emitCaches={}},h.prototype.afterExecute=function(s,c){s!==Na.SHOW_ENABLE&&this.currentStepName!==s&&this.enterStep(s);var m=this.getKey(s,c);this.emitCaches[m]=!0},h.prototype.getKey=function(s,c){return s+c.trigger+c.action},h.prototype.getActionCallback=function(s,c){var m=this,j=this.context,K=this.callbackCaches,gt=c.actionObject;if(c.action&&gt){var Mt=this.getKey(s,c);if(!K[Mt]){var Xt=function(te){j.event=te,m.isAllowExecute(s,c)?(Object(i.B)(gt)?Object(i.j)(gt,function(ae){j.event=te,za(ae)}):(j.event=te,za(gt)),m.afterExecute(s,c),c.callback&&(j.event=te,c.callback(j))):j.event=null};c.debounce?K[Mt]=Object(i.g)(Xt,c.debounce.wait,c.debounce.immediate):c.throttle?K[Mt]=Object(i.nb)(Xt,c.throttle.wait,{leading:c.throttle.leading,trailing:c.throttle.trailing}):K[Mt]=Xt}return K[Mt]}return null},h.prototype.bindEvent=function(s,c){var m=s.split(":");m[0]==="window"?window.addEventListener(m[1],c):m[0]==="document"?document.addEventListener(m[1],c):this.view.on(s,c)},h.prototype.offEvent=function(s,c){var m=s.split(":");m[0]==="window"?window.removeEventListener(m[1],c):m[0]==="document"?document.removeEventListener(m[1],c):this.view.off(s,c)},h}(Wa),qi=Qi,wi={};function Ia(d){return wi[Object(i.T)(d)]}function yn(d,h){wi[Object(i.T)(d)]=h}function ce(d,h,s){var c=Ia(d);if(!c)return null;if(Object(i.N)(c)){var m=Object(i.bb)(Object(i.e)(c),s);return new qi(h,m)}else{var j=c;return new j(h,s)}}function or(d){return{title:{autoRotate:!0,position:"center",spacing:d.axisTitleSpacing,style:{fill:d.axisTitleTextFillColor,fontSize:d.axisTitleTextFontSize,lineHeight:d.axisTitleTextLineHeight,textBaseline:"middle",fontFamily:d.fontFamily}},label:{autoRotate:!1,autoEllipsis:!1,autoHide:{type:"equidistance",cfg:{minGap:6}},offset:d.axisLabelOffset,style:{fill:d.axisLabelFillColor,fontSize:d.axisLabelFontSize,lineHeight:d.axisLabelLineHeight,fontFamily:d.fontFamily}},line:{style:{lineWidth:d.axisLineBorder,stroke:d.axisLineBorderColor}},grid:{line:{type:"line",style:{stroke:d.axisGridBorderColor,lineWidth:d.axisGridBorder,lineDash:d.axisGridLineDash}},alignTick:!0,animate:!0},tickLine:{style:{lineWidth:d.axisTickLineBorder,stroke:d.axisTickLineBorderColor},alignTick:!0,length:d.axisTickLineLength},subTickLine:null,animate:!0}}function de(d){return{title:null,marker:{symbol:"circle",spacing:d.legendMarkerSpacing,style:{r:d.legendCircleMarkerSize,fill:d.legendMarkerColor}},itemName:{spacing:5,style:{fill:d.legendItemNameFillColor,fontFamily:d.fontFamily,fontSize:d.legendItemNameFontSize,lineHeight:d.legendItemNameLineHeight,fontWeight:d.legendItemNameFontWeight,textAlign:"start",textBaseline:"middle"}},itemStates:{active:{nameStyle:{opacity:.8}},unchecked:{nameStyle:{fill:"#D8D8D8"},markerStyle:{fill:"#D8D8D8",stroke:"#D8D8D8"}},inactive:{nameStyle:{fill:"#D8D8D8"},markerStyle:{opacity:.2}}},flipPage:!0,pageNavigator:{marker:{style:{size:d.legendPageNavigatorMarkerSize,inactiveFill:d.legendPageNavigatorMarkerInactiveFillColor,inactiveOpacity:d.legendPageNavigatorMarkerInactiveFillOpacity,fill:d.legendPageNavigatorMarkerFillColor,opacity:d.legendPageNavigatorMarkerFillOpacity}},text:{style:{fill:d.legendPageNavigatorTextFillColor,fontSize:d.legendPageNavigatorTextFontSize}}},animate:!1,maxItemWidth:200,itemSpacing:d.legendItemSpacing,itemMarginBottom:d.legendItemMarginBottom,padding:d.legendPadding}}function ee(d){var h,s={point:{default:{fill:d.pointFillColor,r:d.pointSize,stroke:d.pointBorderColor,lineWidth:d.pointBorder,fillOpacity:d.pointFillOpacity},active:{stroke:d.pointActiveBorderColor,lineWidth:d.pointActiveBorder},selected:{stroke:d.pointSelectedBorderColor,lineWidth:d.pointSelectedBorder},inactive:{fillOpacity:d.pointInactiveFillOpacity,strokeOpacity:d.pointInactiveBorderOpacity}},hollowPoint:{default:{fill:d.hollowPointFillColor,lineWidth:d.hollowPointBorder,stroke:d.hollowPointBorderColor,strokeOpacity:d.hollowPointBorderOpacity,r:d.hollowPointSize},active:{stroke:d.hollowPointActiveBorderColor,strokeOpacity:d.hollowPointActiveBorderOpacity},selected:{lineWidth:d.hollowPointSelectedBorder,stroke:d.hollowPointSelectedBorderColor,strokeOpacity:d.hollowPointSelectedBorderOpacity},inactive:{strokeOpacity:d.hollowPointInactiveBorderOpacity}},area:{default:{fill:d.areaFillColor,fillOpacity:d.areaFillOpacity,stroke:null},active:{fillOpacity:d.areaActiveFillOpacity},selected:{fillOpacity:d.areaSelectedFillOpacity},inactive:{fillOpacity:d.areaInactiveFillOpacity}},hollowArea:{default:{fill:null,stroke:d.hollowAreaBorderColor,lineWidth:d.hollowAreaBorder,strokeOpacity:d.hollowAreaBorderOpacity},active:{fill:null,lineWidth:d.hollowAreaActiveBorder},selected:{fill:null,lineWidth:d.hollowAreaSelectedBorder},inactive:{strokeOpacity:d.hollowAreaInactiveBorderOpacity}},interval:{default:{fill:d.intervalFillColor,fillOpacity:d.intervalFillOpacity},active:{stroke:d.intervalActiveBorderColor,lineWidth:d.intervalActiveBorder},selected:{stroke:d.intervalSelectedBorderColor,lineWidth:d.intervalSelectedBorder},inactive:{fillOpacity:d.intervalInactiveFillOpacity,strokeOpacity:d.intervalInactiveBorderOpacity}},hollowInterval:{default:{fill:d.hollowIntervalFillColor,stroke:d.hollowIntervalBorderColor,lineWidth:d.hollowIntervalBorder,strokeOpacity:d.hollowIntervalBorderOpacity},active:{stroke:d.hollowIntervalActiveBorderColor,lineWidth:d.hollowIntervalActiveBorder,strokeOpacity:d.hollowIntervalActiveBorderOpacity},selected:{stroke:d.hollowIntervalSelectedBorderColor,lineWidth:d.hollowIntervalSelectedBorder,strokeOpacity:d.hollowIntervalSelectedBorderOpacity},inactive:{stroke:d.hollowIntervalInactiveBorderColor,lineWidth:d.hollowIntervalInactiveBorder,strokeOpacity:d.hollowIntervalInactiveBorderOpacity}},line:{default:{stroke:d.lineBorderColor,lineWidth:d.lineBorder,strokeOpacity:d.lineBorderOpacity,fill:null,lineAppendWidth:10,lineCap:"round",lineJoin:"round"},active:{lineWidth:d.lineActiveBorder},selected:{lineWidth:d.lineSelectedBorder},inactive:{strokeOpacity:d.lineInactiveBorderOpacity}}},c=or(d),m=de(d);return{background:d.backgroundColor,defaultColor:d.brandColor,subColor:d.subColor,semanticRed:d.paletteSemanticRed,semanticGreen:d.paletteSemanticGreen,padding:"auto",fontFamily:d.fontFamily,columnWidthRatio:1/2,maxColumnWidth:null,minColumnWidth:null,roseWidthRatio:.9999999,multiplePieWidthRatio:1/1.3,colors10:d.paletteQualitative10,colors20:d.paletteQualitative20,sequenceColors:d.paletteSequence,shapes:{point:["hollow-circle","hollow-square","hollow-bowtie","hollow-diamond","hollow-hexagon","hollow-triangle","hollow-triangle-down","circle","square","bowtie","diamond","hexagon","triangle","triangle-down","cross","tick","plus","hyphen","line"],line:["line","dash","dot","smooth"],area:["area","smooth","line","smooth-line"],interval:["rect","hollow-rect","line","tick"]},sizes:[1,10],geometries:{interval:{rect:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:function(K){var gt=K.geometry.coordinate;if(gt.isPolar&&gt.isTransposed){var Mt=Ci(K.getModel(),gt),Xt=Mt.startAngle,Jt=Mt.endAngle,te=(Xt+Jt)/2,ae=7.5,fe=ae*Math.cos(te),Ae=ae*Math.sin(te);return{matrix:Se.a.transform(null,[["t",fe,Ae]])}}return s.interval.selected}}},"hollow-rect":{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},line:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},tick:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},funnel:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}},pyramid:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},line:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},dot:{default:{style:Object(f.a)(Object(f.a)({},s.line.default),{lineCap:null,lineDash:[1,1]})},active:{style:Object(f.a)(Object(f.a)({},s.line.active),{lineCap:null,lineDash:[1,1]})},inactive:{style:Object(f.a)(Object(f.a)({},s.line.inactive),{lineCap:null,lineDash:[1,1]})},selected:{style:Object(f.a)(Object(f.a)({},s.line.selected),{lineCap:null,lineDash:[1,1]})}},dash:{default:{style:Object(f.a)(Object(f.a)({},s.line.default),{lineCap:null,lineDash:[5.5,1]})},active:{style:Object(f.a)(Object(f.a)({},s.line.active),{lineCap:null,lineDash:[5.5,1]})},inactive:{style:Object(f.a)(Object(f.a)({},s.line.inactive),{lineCap:null,lineDash:[5.5,1]})},selected:{style:Object(f.a)(Object(f.a)({},s.line.selected),{lineCap:null,lineDash:[5.5,1]})}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},hvh:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}},polygon:{polygon:{default:{style:s.interval.default},active:{style:s.interval.active},inactive:{style:s.interval.inactive},selected:{style:s.interval.selected}}},point:{circle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},square:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},bowtie:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},diamond:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},hexagon:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},triangle:{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"triangle-down":{default:{style:s.point.default},active:{style:s.point.active},inactive:{style:s.point.inactive},selected:{style:s.point.selected}},"hollow-circle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-square":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-bowtie":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-diamond":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-hexagon":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},"hollow-triangle-down":{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},cross:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},tick:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},plus:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},hyphen:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}},line:{default:{style:s.hollowPoint.default},active:{style:s.hollowPoint.active},inactive:{style:s.hollowPoint.inactive},selected:{style:s.hollowPoint.selected}}},area:{area:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},smooth:{default:{style:s.area.default},active:{style:s.area.active},inactive:{style:s.area.inactive},selected:{style:s.area.selected}},line:{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}},"smooth-line":{default:{style:s.hollowArea.default},active:{style:s.hollowArea.active},inactive:{style:s.hollowArea.inactive},selected:{style:s.hollowArea.selected}}},schema:{candle:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}},box:{default:{style:s.hollowInterval.default},active:{style:s.hollowInterval.active},inactive:{style:s.hollowInterval.inactive},selected:{style:s.hollowInterval.selected}}},edge:{line:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},vhv:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},smooth:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}},arc:{default:{style:s.line.default},active:{style:s.line.active},inactive:{style:s.line.inactive},selected:{style:s.line.selected}}}},components:{axis:{common:c,top:{position:"top",grid:null,title:null,verticalLimitLength:1/2},bottom:{position:"bottom",grid:null,title:null,verticalLimitLength:1/2},left:{position:"left",title:null,line:null,tickLine:null,verticalLimitLength:1/3},right:{position:"right",title:null,line:null,tickLine:null,verticalLimitLength:1/3},circle:{title:null,grid:Object(i.h)({},c.grid,{line:{type:"line"}})},radius:{title:null,grid:Object(i.h)({},c.grid,{line:{type:"circle"}})}},legend:{common:m,right:{layout:"vertical",padding:d.legendVerticalPadding},left:{layout:"vertical",padding:d.legendVerticalPadding},top:{layout:"horizontal",padding:d.legendHorizontalPadding},bottom:{layout:"horizontal",padding:d.legendHorizontalPadding},continuous:{title:null,background:null,track:{},rail:{type:"color",size:d.sliderRailHeight,defaultLength:d.sliderRailWidth,style:{fill:d.sliderRailFillColor,stroke:d.sliderRailBorderColor,lineWidth:d.sliderRailBorder}},label:{align:"rail",spacing:4,formatter:null,style:{fill:d.sliderLabelTextFillColor,fontSize:d.sliderLabelTextFontSize,lineHeight:d.sliderLabelTextLineHeight,textBaseline:"middle",fontFamily:d.fontFamily}},handler:{size:d.sliderHandlerWidth,style:{fill:d.sliderHandlerFillColor,stroke:d.sliderHandlerBorderColor}},slidable:!0,padding:m.padding}},tooltip:{showContent:!0,follow:!0,showCrosshairs:!1,showMarkers:!0,shared:!1,enterable:!1,position:"auto",marker:{symbol:"circle",stroke:"#fff",shadowBlur:10,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"rgba(0,0,0,0.09)",lineWidth:2,r:4},crosshairs:{line:{style:{stroke:d.tooltipCrosshairsBorderColor,lineWidth:d.tooltipCrosshairsBorder}},text:null,textBackground:{padding:2,style:{fill:"rgba(0, 0, 0, 0.25)",lineWidth:0,stroke:null}},follow:!1},domStyles:(h={},h[""+yr.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={position:"absolute",visibility:"hidden",zIndex:8,transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s, top 0.4s cubic-bezier(0.23, 1, 0.32, 1) 0s",backgroundColor:d.tooltipContainerFillColor,opacity:d.tooltipContainerFillOpacity,boxShadow:d.tooltipContainerShadow,borderRadius:d.tooltipContainerBorderRadius+"px",color:d.tooltipTextFillColor,fontSize:d.tooltipTextFontSize+"px",fontFamily:d.fontFamily,lineHeight:d.tooltipTextLineHeight+"px",padding:"0 12px 0 12px"},h[""+yr.TOOLTIP_CSS_CONST.TITLE_CLASS]={marginBottom:"12px",marginTop:"12px"},h[""+yr.TOOLTIP_CSS_CONST.LIST_CLASS]={margin:0,listStyleType:"none",padding:0},h[""+yr.TOOLTIP_CSS_CONST.LIST_ITEM_CLASS]={listStyleType:"none",padding:0,marginBottom:"12px",marginTop:"12px",marginLeft:0,marginRight:0},h[""+yr.TOOLTIP_CSS_CONST.MARKER_CLASS]={width:"8px",height:"8px",borderRadius:"50%",display:"inline-block",marginRight:"8px"},h[""+yr.TOOLTIP_CSS_CONST.VALUE_CLASS]={display:"inline-block",float:"right",marginLeft:"30px"},h)},annotation:{arc:{style:{stroke:d.annotationArcBorderColor,lineWidth:d.annotationArcBorder},animate:!0},line:{style:{stroke:d.annotationLineBorderColor,lineDash:d.annotationLineDash,lineWidth:d.annotationLineBorder},text:{position:"start",autoRotate:!0,style:{fill:d.annotationTextFillColor,stroke:d.annotationTextBorderColor,lineWidth:d.annotationTextBorder,fontSize:d.annotationTextFontSize,textAlign:"start",fontFamily:d.fontFamily,textBaseline:"bottom"}},animate:!0},text:{style:{fill:d.annotationTextFillColor,stroke:d.annotationTextBorderColor,lineWidth:d.annotationTextBorder,fontSize:d.annotationTextFontSize,textBaseline:"middle",textAlign:"start",fontFamily:d.fontFamily},animate:!0},region:{top:!1,style:{lineWidth:d.annotationRegionBorder,stroke:d.annotationRegionBorderColor,fill:d.annotationRegionFillColor,fillOpacity:d.annotationRegionFillOpacity},animate:!0},image:{top:!1,animate:!0},dataMarker:{top:!0,point:{style:{r:3,stroke:d.brandColor,lineWidth:2}},line:{style:{stroke:d.annotationLineBorderColor,lineWidth:d.annotationLineBorder},length:d.annotationDataMarkerLineLength},text:{style:{textAlign:"start",fill:d.annotationTextFillColor,stroke:d.annotationTextBorderColor,lineWidth:d.annotationTextBorder,fontSize:d.annotationTextFontSize,fontFamily:d.fontFamily}},direction:"upward",autoAdjust:!0,animate:!0},dataRegion:{style:{region:{fill:d.annotationRegionFillColor,fillOpacity:d.annotationRegionFillOpacity},text:{textAlign:"center",textBaseline:"bottom",fill:d.annotationTextFillColor,stroke:d.annotationTextBorderColor,lineWidth:d.annotationTextBorder,fontSize:d.annotationTextFontSize,fontFamily:d.fontFamily}},animate:!0}},slider:{common:{padding:[8,8,8,8],backgroundStyle:{fill:d.cSliderBackgroundFillColor,opacity:d.cSliderBackgroundFillOpacity},foregroundStyle:{fill:d.cSliderForegroundFillColor,opacity:d.cSliderForegroundFillOpacity},handlerStyle:{width:d.cSliderHandlerWidth,height:d.cSliderHandlerHeight,fill:d.cSliderHandlerFillColor,opacity:d.cSliderHandlerFillOpacity,stroke:d.cSliderHandlerBorderColor,lineWidth:d.cSliderHandlerBorder,radius:d.cSliderHandlerBorderRadius,highLightFill:d.cSliderHandlerHighlightFillColor},textStyle:{fill:d.cSliderTextFillColor,opacity:d.cSliderTextFillOpacity,fontSize:d.cSliderTextFontSize,lineHeight:d.cSliderTextLineHeight,fontWeight:d.cSliderTextFontWeight,stroke:d.cSliderTextBorderColor,lineWidth:d.cSliderTextBorder}}},scrollbar:{common:{padding:[8,8,8,8]},default:{style:{trackColor:d.scrollbarTrackFillColor,thumbColor:d.scrollbarThumbFillColor}},hover:{style:{thumbColor:d.scrollbarThumbHighlightFillColor}}}},labels:{offset:12,style:{fill:d.labelFillColor,fontSize:d.labelFontSize,fontFamily:d.fontFamily,stroke:d.labelBorderColor,lineWidth:d.labelBorder},fillColorDark:d.labelFillColorDark,fillColorLight:d.labelFillColorLight,autoRotate:!0},innerLabels:{style:{fill:d.innerLabelFillColor,fontSize:d.innerLabelFontSize,fontFamily:d.fontFamily,stroke:d.innerLabelBorderColor,lineWidth:d.innerLabelBorder},autoRotate:!0},overflowLabels:{style:{fill:d.overflowLabelFillColor,fontSize:d.overflowLabelFontSize,fontFamily:d.fontFamily,stroke:d.overflowLabelBorderColor,lineWidth:d.overflowLabelBorder}},pieLabels:{labelHeight:14,offset:10,labelLine:{style:{lineWidth:d.labelLineBorder}},autoRotate:!0}}}var ve={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},De={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},Ir=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#6F5EF9","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],qr=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#6F5EF9","#D3CEFD","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],ka=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],ki=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"transparent":s,m=h.subColor,j=m===void 0?"rgba(0,0,0,0.05)":m,K=h.paletteQualitative10,gt=K===void 0?Ir:K,Mt=h.paletteQualitative20,Xt=Mt===void 0?qr:Mt,Jt=h.paletteSemanticRed,te=Jt===void 0?"#F4664A":Jt,ae=h.paletteSemanticGreen,fe=ae===void 0?"#30BF78":ae,Ae=h.paletteSemanticYellow,Ie=Ae===void 0?"#FAAD14":Ae,gr=h.paletteSequence,Or=gr===void 0?ka:gr,Br=h.fontFamily,Gr=Br===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:Br,Tn=h.brandColor,nn=Tn===void 0?gt[0]:Tn;return{backgroundColor:c,brandColor:nn,subColor:j,paletteQualitative10:gt,paletteQualitative20:Xt,paletteSemanticRed:te,paletteSemanticGreen:fe,paletteSemanticYellow:Ie,paletteSequence:Or,fontFamily:Gr,axisLineBorderColor:ve[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:ve[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:ve[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:ve[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:ve[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:ve[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:ve[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:nn,legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:ve[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:ve[100],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:ve[100],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:ve[45],legendPageNavigatorTextFontSize:12,sliderRailFillColor:ve[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:ve[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:ve[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:ve[25],annotationArcBorderColor:ve[15],annotationArcBorder:1,annotationLineBorderColor:ve[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:ve[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:ve[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:ve[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"rgb(255, 255, 255)",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 0px 10px #aeaeae",tooltipContainerBorderRadius:3,tooltipTextFillColor:ve[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:ve[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:De[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:ve[65],overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:De[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:ve[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#000",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(0,0,0,0)",scrollbarThumbFillColor:"rgba(0,0,0,0.15)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.2)",pointFillColor:nn,pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:De[100],pointBorderOpacity:1,pointActiveBorderColor:ve[100],pointSelectedBorder:2,pointSelectedBorderColor:ve[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:nn,hollowPointBorderOpacity:.95,hollowPointFillColor:De[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:ve[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:ve[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:nn,lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:nn,areaFillOpacity:.25,areaActiveFillColor:nn,areaActiveFillOpacity:.5,areaSelectedFillColor:nn,areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:nn,hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:ve[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:ve[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:nn,intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:ve[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:ve[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:nn,hollowIntervalBorderOpacity:1,hollowIntervalFillColor:De[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:ve[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:ve[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},Fo=ki();function No(d){var h=d.styleSheet,s=h===void 0?{}:h,c=Object(f.e)(d,["styleSheet"]),m=ki(s);return Object(i.h)({},ee(m),c)}var ps=No({}),Ws={default:ps};function ws(d){return Object(i.s)(Ws,Object(i.T)(d),Ws.default)}function Ru(d,h){Ws[Object(i.T)(d)]=No(h)}function Mu(d,h,s){var c=s.translate(d),m=s.translate(h);return Object(i.L)(c,m)}function Fu(d,h){var s=h.coordinate,c=h.getXScale(),m=c.range,j=m[m.length-1],K=m[0],gt=s.invert(d),Mt=gt.x;return s.isPolar&&Mt>(1+j)/2&&(Mt=K),c.translate(c.invert(Mt))}function dl(d,h,s){var c=s.coordinate,m=s.getYScale(),j=m.field,K=c.invert(h),gt=m.invert(K.y),Mt=Object(i.m)(d,function(Xt){var Jt=Xt[D];return Jt[j][0]<=gt&&Jt[j][1]>=gt});return Mt||d[d.length-1]}var vl=Object(i.Y)(function(d){if(d.isCategory)return 1;for(var h=d.values,s=h.length,c=d.translate(h[0]),m=c,j=0;j<s;j++){var K=h[j],gt=d.translate(K);gt<c&&(c=gt),gt>m&&(m=gt)}return(m-c)/(s-1)});function gl(d,h,s){var c=h.getAttribute("position"),m=c.getFields(),j=h.scales,K=Object(i.H)(s)||!s?m[0]:s,gt=j[K],Mt=gt?gt.getText(d[K]):d[K]||K;return Object(i.H)(s)?s(Mt,d):Mt}function tf(d){var h=Object(i.ub)(d.attributes);return Object(i.l)(h,function(s){return Object(i.f)(C,s.type)})}function bc(d){for(var h=tf(d),s,c=0,m=h;c<m.length;c++){var j=m[c],K=j.getScale(j.type);if(K&&K.isLinear){s=K;break}}var gt=d.getXScale(),Mt=d.getYScale();return s||Mt||gt}function Ec(d,h){var s=h.field,c=d[s];if(Object(i.B)(c)){var m=c.map(function(j){return h.getText(j)});return m.join("-")}return h.getText(c)}function Va(d,h){var s,c=h.getGroupScales();if(c.length&&(s=c[0]),s){var m=s.field;return s.getText(d[m])}var j=bc(h);return fa(j)}function Io(d,h,s){if(h.length===0)return null;var c=s.type,m=s.getXScale(),j=s.getYScale(),K=m.field,gt=j.field,Mt=null;if(c==="heatmap"||c==="point"){for(var Xt=s.coordinate,Jt=Xt.invert(d),te=m.invert(Jt.x),ae=j.invert(Jt.y),fe=Infinity,Ae=0;Ae<h.length;Ae++){var Ie=h[Ae],gr=Ie[D],Or=Math.pow(gr[K]-te,2)+Math.pow(gr[gt]-ae,2);Or<fe&&(fe=Or,Mt=Ie)}return Mt}var Br=h[0],Gr=h[h.length-1],Tn=Fu(d,s),nn=Br[D][K],zn=Br[D][gt],Ai=Gr[D][K],ii=j.isLinear&&Object(i.B)(zn);if(Object(i.B)(nn)){for(var Ae=0;Ae<h.length;Ae++){var Qa=h[Ae],gr=Qa[D];if(m.translate(gr[K][0])<=Tn&&m.translate(gr[K][1])>=Tn)if(ii)Object(i.B)(Mt)||(Mt=[]),Mt.push(Qa);else{Mt=Qa;break}}Object(i.B)(Mt)&&(Mt=dl(Mt,d,s))}else{var zi=void 0;if(!m.isLinear&&m.type!=="timeCat"){for(var Ae=0;Ae<h.length;Ae++){var Qa=h[Ae],gr=Qa[D];if(Mu(gr[K],Tn,m))if(ii)Object(i.B)(Mt)||(Mt=[]),Mt.push(Qa);else{Mt=Qa;break}else m.translate(gr[K])<=Tn&&(Gr=Qa,zi=h[Ae+1])}Object(i.B)(Mt)&&(Mt=dl(Mt,d,s))}else{if((Tn>m.translate(Ai)||Tn<m.translate(nn))&&(Tn>m.max||Tn<m.min))return null;for(var vo=0,oo=h.length-1,qo=void 0;vo<=oo;){qo=Math.floor((vo+oo)/2);var Is=h[qo][D][K];if(Mu(Is,Tn,m))return h[qo];m.translate(Is)<=m.translate(Tn)?(vo=qo+1,Gr=h[qo],zi=h[qo+1]):(oo===0&&(Gr=h[0]),oo=qo-1)}}Gr&&zi&&Math.abs(m.translate(Gr[D][K])-Tn)>Math.abs(m.translate(zi[D][K])-Tn)&&(Gr=zi)}var Es=vl(s.getXScale());return!Mt&&Math.abs(m.translate(Gr[D][K])-Tn)<=Es/2&&(Mt=Gr),Mt}function Ha(d,h,s,c){s===void 0&&(s=""),c===void 0&&(c=!1);var m=d[D],j=gl(m,h,s),K=h.tooltipOption,gt=h.theme.defaultColor,Mt=[],Xt,Jt;function te(Ai,ii){if(c||!Object(i.I)(ii)&&ii!==""){var Qa={title:j,data:m,mappingData:d,name:Ai,value:ii,color:d.color||gt,marker:!0};Mt.push(Qa)}}if(Object(i.M)(K)){var ae=K.fields,fe=K.callback;if(fe){var Ae=ae.map(function(Ai){return d[D][Ai]}),Ie=fe.apply(void 0,Ae),gr=Object(f.a)({data:d[D],mappingData:d,title:j,color:d.color||gt,marker:!0},Ie);Mt.push(gr)}else for(var Or=h.scales,Br=0,Gr=ae;Br<Gr.length;Br++){var Tn=Gr[Br];if(!Object(i.I)(m[Tn])){var nn=Or[Tn];Xt=fa(nn),Jt=nn.getText(m[Tn]),te(Xt,Jt)}}}else{var zn=bc(h);Jt=Ec(m,zn),Xt=Va(m,h),te(Xt,Jt)}return Mt}function hu(d){return!Object(i.K)(d)&&!Object(i.B)(d)}function Ju(d){d===void 0&&(d=0);var h=Object(i.B)(d)?d:[d];switch(h.length){case 0:h=[0,0,0,0];break;case 1:h=new Array(4).fill(h[0]);break;case 2:h=Object(f.g)(h,h);break;case 3:h=Object(f.g)(h,[h[1]]);break;default:h=h.slice(0,4);break}return h}var du={};function vu(d,h){du[d]=h}function pl(d){delete du[d]}function _u(){return Object.keys(du)}function zf(d){return du[d]}var Ul=function(){function d(h){this.option=this.wrapperOption(h)}return d.prototype.update=function(h){return this.option=this.wrapperOption(h),this},d.prototype.hasAction=function(h){var s=this.option.actions;return Object(i.kb)(s,function(c){return c[0]===h})},d.prototype.create=function(h,s){var c=this.option,m=c.type,j=c.cfg,K=m==="theta",gt=Object(f.a)({start:h,end:s},j),Mt=er(K?"polar":m);return this.coordinate=new Mt(gt),this.coordinate.type=m,K&&(this.hasAction("transpose")||this.transpose()),this.execActions(),this.coordinate},d.prototype.adjust=function(h,s){return this.coordinate.update({start:h,end:s}),this.coordinate.resetMatrix(),this.execActions(["scale","rotate","translate"]),this.coordinate},d.prototype.rotate=function(h){return this.option.actions.push(["rotate",h]),this},d.prototype.reflect=function(h){return this.option.actions.push(["reflect",h]),this},d.prototype.scale=function(h,s){return this.option.actions.push(["scale",h,s]),this},d.prototype.transpose=function(){return this.option.actions.push(["transpose"]),this},d.prototype.getOption=function(){return this.option},d.prototype.getCoordinate=function(){return this.coordinate},d.prototype.wrapperOption=function(h){return Object(f.a)({type:"rect",actions:[],cfg:{}},h)},d.prototype.execActions=function(h){var s=this,c=this.option.actions;Object(i.j)(c,function(m){var j,K=m[0],gt=m.slice(1),Mt=Object(i.I)(h)?!0:h.includes(K);Mt&&(j=s.coordinate)[K].apply(j,gt)})},d}(),Oc=Ul,qu=function(){function d(h,s,c){this.view=h,this.gEvent=s,this.data=c,this.type=s.type}return d.fromData=function(h,s,c){return new d(h,new _.Event(s,{}),c)},Object.defineProperty(d.prototype,"target",{get:function(){return this.gEvent.target},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"event",{get:function(){return this.gEvent.originalEvent},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"x",{get:function(){return this.gEvent.x},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"y",{get:function(){return this.gEvent.y},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"clientX",{get:function(){return this.gEvent.clientX},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"clientY",{get:function(){return this.gEvent.clientY},enumerable:!1,configurable:!0}),d.prototype.toString=function(){return"[Event (type="+this.type+")]"},d.prototype.clone=function(){return new d(this.view,this.gEvent,this.data)},d}(),Tu=qu;function Du(d){var h=d.getController("axis"),s=d.getController("legend"),c=d.getController("annotation"),m=d.getController("slider"),j=d.getController("scrollbar");[h,m,j,s,c].forEach(function(K){K&&K.layout()})}var Nu=function(){function d(){this.scales=new Map,this.syncScales=new Map}return d.prototype.createScale=function(h,s,c,m){var j=c,K=this.getScaleMeta(m);if(s.length===0&&K){var gt=K.scale,Mt={type:gt.type};gt.isCategory&&(Mt.values=gt.values),j=Object(i.h)(Mt,K.scaleDef,c)}var Xt=bi(h,s,j);return this.cacheScale(Xt,c,m),Xt},d.prototype.sync=function(h,s){var c=this;this.syncScales.forEach(function(m,j){var K=Number.MAX_SAFE_INTEGER,gt=Number.MIN_SAFE_INTEGER,Mt=[];Object(i.j)(m,function(Xt){var Jt=c.getScale(Xt);gt=Object(i.K)(Jt.max)?Math.max(gt,Jt.max):gt,K=Object(i.K)(Jt.min)?Math.min(K,Jt.min):K,Object(i.j)(Jt.values,function(te){Mt.includes(te)||Mt.push(te)})}),Object(i.j)(m,function(Xt){var Jt=c.getScale(Xt);if(Jt.isContinuous)Jt.change({min:K,max:gt,values:Mt});else if(Jt.isCategory){var te=Jt.range,ae=c.getScaleMeta(Xt);Mt&&!Object(i.s)(ae,["scaleDef","range"])&&(te=Aa(Object(i.h)({},Jt,{values:Mt}),h,s)),Jt.change({values:Mt,range:te})}})})},d.prototype.cacheScale=function(h,s,c){var m=this.getScaleMeta(c);m&&m.scale.type===h.type?(qa(m.scale,h),m.scaleDef=s):(m={key:c,scale:h,scaleDef:s},this.scales.set(c,m));var j=this.getSyncKey(m);if(m.syncKey=j,this.removeFromSyncScales(c),j){var K=this.syncScales.get(j);K||(K=[],this.syncScales.set(j,K)),K.push(c)}},d.prototype.getScale=function(h){var s=this.getScaleMeta(h);if(!s){var c=Object(i.S)(h.split("-")),m=this.syncScales.get(c);m&&m.length&&(s=this.getScaleMeta(m[0]))}return s&&s.scale},d.prototype.deleteScale=function(h){var s=this.getScaleMeta(h);if(s){var c=s.syncKey,m=this.syncScales.get(c);if(m&&m.length){var j=m.indexOf(h);j!==-1&&m.splice(j,1)}}this.scales.delete(h)},d.prototype.clear=function(){this.scales.clear(),this.syncScales.clear()},d.prototype.removeFromSyncScales=function(h){var s=this;this.syncScales.forEach(function(c,m){var j=c.indexOf(h);if(j!==-1)return c.splice(j,1),c.length===0&&s.syncScales.delete(m),!1})},d.prototype.getSyncKey=function(h){var s=h.scale,c=h.scaleDef,m=s.field,j=Object(i.s)(c,["sync"]);return j===!0?m:j===!1?void 0:j},d.prototype.getScaleMeta=function(h){return this.scales.get(h)},d}(),zs=function(){function d(h,s,c,m){h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),this.top=h,this.right=s,this.bottom=c,this.left=m}return d.instance=function(h,s,c,m){return h===void 0&&(h=0),s===void 0&&(s=0),c===void 0&&(c=0),m===void 0&&(m=0),new d(h,s,c,m)},d.prototype.max=function(h){var s=h[0],c=h[1],m=h[2],j=h[3];return this.top=Math.max(this.top,s),this.right=Math.max(this.right,c),this.bottom=Math.max(this.bottom,m),this.left=Math.max(this.left,j),this},d.prototype.shrink=function(h){var s=h[0],c=h[1],m=h[2],j=h[3];return this.top+=s,this.right+=c,this.bottom+=m,this.left+=j,this},d.prototype.inc=function(h,s){var c=h.width,m=h.height;switch(s){case p.TOP:case p.TOP_LEFT:case p.TOP_RIGHT:this.top+=m;break;case p.RIGHT:case p.RIGHT_TOP:case p.RIGHT_BOTTOM:this.right+=c;break;case p.BOTTOM:case p.BOTTOM_LEFT:case p.BOTTOM_RIGHT:this.bottom+=m;break;case p.LEFT:case p.LEFT_TOP:case p.LEFT_BOTTOM:this.left+=c;break;default:break}return this},d.prototype.getPadding=function(){return[this.top,this.right,this.bottom,this.left]},d.prototype.clone=function(){return new(d.bind.apply(d,Object(f.g)([void 0],this.getPadding())))},d}();function kf(d){var h=d.padding;if(!hu(h))return new(zs.bind.apply(zs,Object(f.g)([void 0],Ju(h))));var s=d.viewBBox,c=new zs,m=[],j=[],K=[];return Object(i.j)(d.getComponents(),function(gt){var Mt=gt.type;Mt===E.AXIS?m.push(gt):[E.LEGEND,E.SLIDER,E.SCROLLBAR].includes(Mt)?j.push(gt):Mt!==E.GRID&&Mt!==E.TOOLTIP&&K.push(gt)}),Object(i.j)(m,function(gt){var Mt=gt.component,Xt=Mt.getLayoutBBox(),Jt=new rr(Xt.x,Xt.y,Xt.width,Xt.height),te=Jt.exceed(s);c.max(te)}),Object(i.j)(j,function(gt){var Mt=gt.component,Xt=gt.direction,Jt=Mt.getLayoutBBox(),te=Mt.get("padding"),ae=new rr(Jt.x,Jt.y,Jt.width,Jt.height).expand(te);c.inc(ae,Xt)}),Object(i.j)(K,function(gt){var Mt=gt.component,Xt=gt.direction,Jt=Mt.getLayoutBBox(),te=new rr(Jt.x,Jt.y,Jt.width,Jt.height);c.inc(te,Xt)}),c}function Gu(d,h,s){var c=s.instance();h.forEach(function(m){m.autoPadding=c.max(m.autoPadding.getPadding())})}var Wl=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,{visible:s.visible})||this;c.views=[],c.geometries=[],c.controllers=[],c.interactions={},c.limitInPlot=!1,c.options={data:[],animate:!0},c.usedControllers=_u(),c.scalePool=new Nu,c.layoutFunc=Du,c.isPreMouseInPlot=!1,c.isDataChanged=!1,c.isCoordinateChanged=!1,c.createdScaleKeys=new Map,c.onCanvasEvent=function(Gr){var Tn=Gr.name;if(!Tn.includes(":")){var nn=c.createViewEvent(Gr);c.doPlotEvent(nn),c.emit(Tn,nn)}},c.onDelegateEvents=function(Gr){var Tn=Gr.name;if(!!Tn.includes(":")){var nn=c.createViewEvent(Gr);c.emit(Tn,nn)}};var m=s.id,j=m===void 0?Object(i.sb)("view"):m,K=s.parent,gt=s.canvas,Mt=s.backgroundGroup,Xt=s.middleGroup,Jt=s.foregroundGroup,te=s.region,ae=te===void 0?{start:{x:0,y:0},end:{x:1,y:1}}:te,fe=s.padding,Ae=s.appendPadding,Ie=s.theme,gr=s.options,Or=s.limitInPlot,Br=s.syncViewPadding;return c.parent=K,c.canvas=gt,c.backgroundGroup=Mt,c.middleGroup=Xt,c.foregroundGroup=Jt,c.region=ae,c.padding=fe,c.appendPadding=Ae,c.options=Object(f.a)(Object(f.a)({},c.options),gr),c.limitInPlot=Or,c.id=j,c.syncViewPadding=Br,c.themeObject=Object(i.M)(Ie)?Object(i.h)({},ws("default"),No(Ie)):ws(Ie),c.init(),c}return h.prototype.setLayout=function(s){this.layoutFunc=s},h.prototype.init=function(){this.calculateViewBBox(),this.initEvents(),this.initComponentController(),this.initOptions()},h.prototype.render=function(s){s===void 0&&(s=!1),this.emit(A.BEFORE_RENDER),this.paint(s),this.emit(A.AFTER_RENDER),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this;this.emit(A.BEFORE_CLEAR),this.filteredData=[],this.coordinateInstance=void 0,this.isDataChanged=!1,this.isCoordinateChanged=!1;for(var c=this.geometries,m=0;m<c.length;m++)c[m].clear(),c[m].container.remove(!0);this.geometries=[];for(var j=this.controllers,m=0;m<j.length;m++)j[m].name==="annotation"?j[m].clear(!0):j[m].clear();this.createdScaleKeys.forEach(function(gt,Mt){s.getRootView().scalePool.deleteScale(Mt)}),this.createdScaleKeys.clear();for(var K=this.views,m=0;m<K.length;m++)K[m].clear();this.emit(A.AFTER_CLEAR)},h.prototype.destroy=function(){this.emit(A.BEFORE_DESTROY);var s=this.interactions;Object(i.j)(s,function(gt){gt&&gt.destroy()}),this.clear();for(var c=this.controllers,m=0,j=c.length;m<j;m++){var K=c[m];K.destroy()}this.backgroundGroup.remove(!0),this.middleGroup.remove(!0),this.foregroundGroup.remove(!0),d.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){d.prototype.changeVisible.call(this,s);for(var c=this.geometries,m=0,j=c.length;m<j;m++){var K=c[m];K.changeVisible(s)}for(var gt=this.controllers,m=0,j=gt.length;m<j;m++){var Mt=gt[m];Mt.changeVisible(s)}return this.foregroundGroup.set("visible",s),this.middleGroup.set("visible",s),this.backgroundGroup.set("visible",s),this.getCanvas().draw(),this},h.prototype.data=function(s){return Object(i.ib)(this.options,"data",s),this.isDataChanged=!0,this},h.prototype.source=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.data() instead."),this.data(s)},h.prototype.filter=function(s,c){return Object(i.H)(c)?(Object(i.ib)(this.options,["filters",s],c),this):(!c&&Object(i.s)(this.options,["filters",s])&&delete this.options.filters[s],this)},h.prototype.axis=function(s,c){return Object(i.C)(s)?Object(i.ib)(this.options,["axes"],s):Object(i.ib)(this.options,["axes",s],c),this},h.prototype.legend=function(s,c){return Object(i.C)(s)?Object(i.ib)(this.options,["legends"],s):Object(i.O)(s)?(Object(i.ib)(this.options,["legends",s],c),Object(i.N)(c)&&(c==null?void 0:c.selected)&&Object(i.ib)(this.options,["filters",s],function(m){var j;return(j=c==null?void 0:c.selected[m])!==null&&j!==void 0?j:!0})):Object(i.ib)(this.options,["legends"],s),this},h.prototype.scale=function(s,c){var m=this;return Object(i.O)(s)?Object(i.ib)(this.options,["scales",s],c):Object(i.M)(s)&&Object(i.j)(s,function(j,K){Object(i.ib)(m.options,["scales",K],j)}),this},h.prototype.tooltip=function(s){return Object(i.ib)(this.options,"tooltip",s),this},h.prototype.annotation=function(){return this.getController("annotation")},h.prototype.guide=function(){return console.warn("This method will be removed at G2 V4.1. Please use chart.annotation() instead."),this.annotation()},h.prototype.coordinate=function(s,c){return Object(i.O)(s)?Object(i.ib)(this.options,"coordinate",{type:s,cfg:c}):Object(i.ib)(this.options,"coordinate",s),this.coordinateController.update(this.options.coordinate),this.coordinateController},h.prototype.coord=function(s,c){return console.warn("This method will be removed at G2 V4.1. Please use chart.coordinate() instead."),this.coordinate(s,c)},h.prototype.facet=function(s,c){this.facetInstance&&this.facetInstance.destroy();var m=ji(s);if(!m)throw new Error("facet '"+s+"' is not exist!");return this.facetInstance=new m(this,Object(f.a)(Object(f.a)({},c),{type:s})),this},h.prototype.animate=function(s){return Object(i.ib)(this.options,"animate",s),this},h.prototype.updateOptions=function(s){return this.clear(),Object(i.bb)(this.options,s),this.views.forEach(function(c){return c.destroy()}),this.views=[],this.initOptions(),this.coordinateBBox=this.viewBBox,this},h.prototype.option=function(s,c){if(h.prototype[s])throw new Error(`Can't use built in variable name "`+s+'", please change another one.');return Object(i.ib)(this.options,s,c),this},h.prototype.theme=function(s){return this.themeObject=Object(i.M)(s)?Object(i.h)({},this.themeObject,No(s)):ws(s),this},h.prototype.interaction=function(s,c){var m=this.interactions[s];m&&m.destroy();var j=ce(s,this,c);return j&&(j.init(),this.interactions[s]=j),this},h.prototype.removeInteraction=function(s){var c=this.interactions[s];c&&(c.destroy(),this.interactions[s]=void 0)},h.prototype.changeData=function(s){this.isDataChanged=!0,this.emit(A.BEFORE_CHANGE_DATA,Tu.fromData(this,A.BEFORE_CHANGE_DATA,null)),this.data(s),this.paint(!0);for(var c=this.views,m=0,j=c.length;m<j;m++){var K=c[m];K.changeData(s)}this.emit(A.AFTER_CHANGE_DATA,Tu.fromData(this,A.AFTER_CHANGE_DATA,null))},h.prototype.createView=function(s){this.parent&&this.parent.parent&&console.warn("The view nesting recursive feature will be removed at G2 V4.1. Please avoid to use it.");var c={data:this.options.data,scales:Object(i.e)(this.options.scales),axes:Object(i.e)(this.options.axes),coordinate:Object(i.e)(this.coordinateController.getOption()),tooltip:Object(i.e)(this.options.tooltip),legends:Object(i.e)(this.options.legends),animate:this.options.animate,visible:this.visible},m=new h(Object(f.a)(Object(f.a)({parent:this,canvas:this.canvas,backgroundGroup:this.backgroundGroup.addGroup({zIndex:S.BG}),middleGroup:this.middleGroup.addGroup({zIndex:S.MID}),foregroundGroup:this.foregroundGroup.addGroup({zIndex:S.FORE}),theme:this.themeObject,padding:this.padding},s),{options:Object(f.a)(Object(f.a)({},c),Object(i.s)(s,"options",{}))}));return this.views.push(m),m},h.prototype.view=function(s){return console.warn("This method will be removed at G2 V4.1. Please use chart.createView() instead."),this.createView(s)},h.prototype.removeView=function(s){var c=Object(i.gb)(this.views,function(m){return m===s})[0];return c&&c.destroy(),c},h.prototype.getCoordinate=function(){return this.coordinateInstance},h.prototype.getTheme=function(){return this.themeObject},h.prototype.getXScale=function(){var s=this.geometries[0];return s?s.getXScale():null},h.prototype.getYScales=function(){var s={};return this.geometries.map(function(c){var m=c.getYScale(),j=m.field;if(!s[j])return s[j]=!0,m})},h.prototype.getScalesByDim=function(s){for(var c=this.geometries,m={},j=0,K=c.length;j<K;j++){var gt=c[j],Mt=s==="x"?gt.getXScale():gt.getYScale();Mt&&!m[Mt.field]&&(m[Mt.field]=Mt)}return m},h.prototype.getScaleByField=function(s,c){var m=c||this.getScaleKey(s);return this.getRootView().scalePool.getScale(m)},h.prototype.getOptions=function(){return this.options},h.prototype.getData=function(){return this.filteredData},h.prototype.getLayer=function(s){return s===g.BG?this.backgroundGroup:s===g.MID?this.middleGroup:s===g.FORE?this.foregroundGroup:this.foregroundGroup},h.prototype.isPointInPlot=function(s){return bn(this.getCoordinate(),s)},h.prototype.getLegendAttributes=function(){return Object(i.q)(this.geometries.map(function(s){return s.getGroupAttributes()}))},h.prototype.getGroupScales=function(){var s=this.geometries.map(function(c){return c.getGroupScales()});return _a(Object(i.q)(s))},h.prototype.getCanvas=function(){return this.getRootView().canvas},h.prototype.getRootView=function(){for(var s=this;;){if(s.parent){s=s.parent;continue}break}return s},h.prototype.getXY=function(s){var c=this.getCoordinate(),m=this.getScalesByDim("x"),j=this.getScalesByDim("y"),K,gt;if(Object(i.j)(s,function(Mt,Xt){m[Xt]&&(K=m[Xt].scale(Mt)),j[Xt]&&(gt=j[Xt].scale(Mt))}),!Object(i.I)(K)&&!Object(i.I)(gt))return c.convert({x:K,y:gt})},h.prototype.getController=function(s){return Object(i.m)(this.controllers,function(c){return c.name===s})},h.prototype.showTooltip=function(s){var c=this.getController("tooltip");return c&&c.showTooltip(s),this},h.prototype.hideTooltip=function(){var s=this.getController("tooltip");return s&&s.hideTooltip(),this},h.prototype.lockTooltip=function(){var s=this.getController("tooltip");return s&&s.lockTooltip(),this},h.prototype.unlockTooltip=function(){var s=this.getController("tooltip");return s&&s.unlockTooltip(),this},h.prototype.isTooltipLocked=function(){var s=this.getController("tooltip");return s&&s.isTooltipLocked()},h.prototype.getTooltipItems=function(s){var c=this.getController("tooltip");return c?c.getTooltipItems(s):[]},h.prototype.getSnapRecords=function(s){for(var c=this.geometries,m=[],j=0,K=c.length;j<K;j++){var gt=c[j],Mt=gt.dataArray;gt.sort(Mt);for(var Xt=void 0,Jt=0,te=Mt.length;Jt<te;Jt++){var ae=Mt[Jt];Xt=Io(s,ae,gt),Xt&&m.push(Xt)}}for(var fe=this.views,j=0,K=fe.length;j<K;j++){var Ae=fe[j],Ie=Ae.getSnapRecords(s);m=m.concat(Ie)}return m},h.prototype.getComponents=function(){for(var s=[],c=this.controllers,m=0,j=c.length;m<j;m++){var K=c[m];s=s.concat(K.getComponents())}return s},h.prototype.filterData=function(s){var c=this.options.filters;return Object(i.jb)(c)===0?s:Object(i.l)(s,function(m,j){var K=Object.keys(c);return K.every(function(gt){var Mt=c[gt];return Mt(m[gt],m,j)})})},h.prototype.filterFieldData=function(s,c){var m=this.options.filters,j=Object(i.s)(m,s);return Object(i.Q)(j)?c:c.filter(function(K,gt){return j(K[s],K,gt)})},h.prototype.adjustCoordinate=function(){var s=this.getCoordinate(),c=s.start,m=s.end,j=this.coordinateBBox.bl,K=this.coordinateBBox.tr;if(Object(i.G)(c,j)&&Object(i.G)(m,K)){this.isCoordinateChanged=!1;return}this.isCoordinateChanged=!0,this.coordinateInstance=this.coordinateController.adjust(j,K)},h.prototype.paint=function(s){this.renderDataRecursive(s),this.syncScale(),this.emit(A.BEFORE_PAINT),this.renderPaddingRecursive(s),this.renderLayoutRecursive(s),this.renderBackgroundStyleShape(),this.renderPaintRecursive(s),this.emit(A.AFTER_PAINT),this.isDataChanged=!1},h.prototype.renderBackgroundStyleShape=function(){if(!this.parent){var s=Object(i.s)(this.themeObject,"background");if(s){this.backgroundStyleRectShape||(this.backgroundStyleRectShape=this.backgroundGroup.addShape("rect",{attrs:{},zIndex:-1,capture:!1}),this.backgroundStyleRectShape.toBack());var c=this.viewBBox,m=c.x,j=c.y,K=c.width,gt=c.height;this.backgroundStyleRectShape.attr({fill:s,x:m,y:j,width:K,height:gt})}else this.backgroundStyleRectShape&&(this.backgroundStyleRectShape.remove(!0),this.backgroundStyleRectShape=void 0)}},h.prototype.renderPaddingRecursive=function(s){this.calculateViewBBox(),this.adjustCoordinate(),this.initComponents(s),this.autoPadding=kf(this).shrink(Ju(this.appendPadding)),this.coordinateBBox=this.viewBBox.shrink(this.autoPadding.getPadding()),this.adjustCoordinate();for(var c=this.views,m=0,j=c.length;m<j;m++){var K=c[m];K.renderPaddingRecursive(s)}},h.prototype.renderLayoutRecursive=function(s){var c=this.syncViewPadding===!0?Gu:Object(i.H)(this.syncViewPadding)?this.syncViewPadding:void 0;c&&(c(this,this.views,zs),this.views.forEach(function(Mt){Mt.coordinateBBox=Mt.viewBBox.shrink(Mt.autoPadding.getPadding()),Mt.adjustCoordinate()})),this.doLayout();for(var m=this.views,j=0,K=m.length;j<K;j++){var gt=m[j];gt.renderLayoutRecursive(s)}},h.prototype.renderPaintRecursive=function(s){var c=this.middleGroup;if(this.limitInPlot){var m=Oa(this.coordinateInstance),j=m.type,K=m.attrs;c.setClip({type:j,attrs:K})}else c.setClip(void 0);this.paintGeometries(s),this.renderComponents(s);for(var gt=this.views,Mt=0,Xt=gt.length;Mt<Xt;Mt++){var Jt=gt[Mt];Jt.renderPaintRecursive(s)}},h.prototype.createScale=function(s,c,m,j){var K=Object(i.s)(this.options.scales,[s]),gt=Object(f.a)(Object(f.a)({},K),m);return this.parent?this.parent.createScale(s,c,gt,j):this.scalePool.createScale(s,c,gt,j)},h.prototype.renderDataRecursive=function(s){this.doFilterData(),this.createCoordinate(),this.initGeometries(s),this.renderFacet(s);for(var c=this.views,m=0,j=c.length;m<j;m++){var K=c[m];K.renderDataRecursive(s)}},h.prototype.calculateViewBBox=function(){var s,c,m,j;if(this.parent){var K=this.parent.coordinateBBox;s=K.x,c=K.y,m=K.width,j=K.height}else s=0,c=0,m=this.canvas.get("width"),j=this.canvas.get("height");var gt=this.region,Mt=gt.start,Xt=gt.end,Jt=new rr(s+m*Mt.x,c+j*Mt.y,m*(Xt.x-Mt.x),j*(Xt.y-Mt.y));(!this.viewBBox||!this.viewBBox.isEqual(Jt))&&(this.viewBBox=new rr(s+m*Mt.x,c+j*Mt.y,m*(Xt.x-Mt.x),j*(Xt.y-Mt.y))),this.coordinateBBox=this.viewBBox},h.prototype.initEvents=function(){this.foregroundGroup.on("*",this.onDelegateEvents),this.middleGroup.on("*",this.onDelegateEvents),this.backgroundGroup.on("*",this.onDelegateEvents),this.canvas.on("*",this.onCanvasEvent)},h.prototype.initComponentController=function(){for(var s=this.usedControllers,c=0,m=s.length;c<m;c++){var j=s[c],K=zf(j);K&&this.controllers.push(new K(this))}},h.prototype.createViewEvent=function(s){var c=s.shape,m=s.name,j=c?c.get("origin"):null,K=new Tu(this,s,j);return K.type=m,K},h.prototype.doPlotEvent=function(s){var c=s.type,m=s.x,j=s.y,K={x:m,y:j},gt=["mousedown","mouseup","mousemove","mouseleave","mousewheel","touchstart","touchmove","touchend","touchcancel","click","dblclick","contextmenu"];if(gt.includes(c)){var Mt=this.isPointInPlot(K),Xt=s.clone();if(Mt){var Jt="plot:"+c;Xt.type=Jt,this.emit(Jt,Xt),(c==="mouseleave"||c==="touchend")&&(this.isPreMouseInPlot=!1)}c==="mousemove"||c==="touchmove"?(this.isPreMouseInPlot&&!Mt?(c==="mousemove"&&(Xt.type=x.MOUSE_LEAVE,this.emit(x.MOUSE_LEAVE,Xt)),Xt.type=x.LEAVE,this.emit(x.LEAVE,Xt)):!this.isPreMouseInPlot&&Mt&&(c==="mousemove"&&(Xt.type=x.MOUSE_ENTER,this.emit(x.MOUSE_ENTER,Xt)),Xt.type=x.ENTER,this.emit(x.ENTER,Xt)),this.isPreMouseInPlot=Mt):(c==="mouseleave"||c==="touchend")&&this.isPreMouseInPlot&&(c==="mouseleave"&&(Xt.type=x.MOUSE_LEAVE,this.emit(x.MOUSE_LEAVE,Xt)),Xt.type=x.LEAVE,this.emit(x.LEAVE,Xt),this.isPreMouseInPlot=!1)}},h.prototype.doFilterData=function(){var s=this.options.data;this.filteredData=this.filterData(s)},h.prototype.initGeometries=function(s){this.createOrUpdateScales();for(var c=this.getCoordinate(),m=Object(i.s)(this.options,"scales",{}),j=this.geometries,K=0,gt=j.length;K<gt;K++){var Mt=j[K];Mt.scales=this.getGeometryScales();var Xt={coordinate:c,scaleDefs:m,data:this.filteredData,theme:this.themeObject,isDataChanged:this.isDataChanged,isCoordinateChanged:this.isCoordinateChanged};s?Mt.update(Xt):Mt.init(Xt)}this.adjustScales()},h.prototype.createOrUpdateScales=function(){for(var s=this.getScaleFields(),c=this.getGroupedFields(),m=this.getOptions(),j=m.data,K=m.scales,gt=K===void 0?{}:K,Mt=this.filteredData,Xt=0,Jt=s.length;Xt<Jt;Xt++){var te=s[Xt],ae=gt[te],fe=this.getScaleKey(te);this.createScale(te,c.includes(te)?j:Mt,ae,fe),this.createdScaleKeys.set(fe,!0)}},h.prototype.syncScale=function(){this.getRootView().scalePool.sync(this.getCoordinate(),this.theme)},h.prototype.getGeometryScales=function(){for(var s=this.getScaleFields(),c={},m=0;m<s.length;m++){var j=s[m];c[j]=this.getScaleByField(j)}return c},h.prototype.getScaleFields=function(){for(var s=[],c={},m=this.geometries,j=0;j<m.length;j++){var K=m[j],gt=K.getScaleFields();_a(gt,s,c)}return s},h.prototype.getGroupedFields=function(){for(var s=[],c={},m=this.geometries,j=0;j<m.length;j++){var K=m[j],gt=K.getGroupFields();_a(gt,s,c)}return s},h.prototype.adjustScales=function(){this.adjustCategoryScaleRange()},h.prototype.adjustCategoryScaleRange=function(){var s=this,c=Object(f.g)([this.getXScale()],this.getYScales()).filter(function(K){return!!K}),m=this.getCoordinate(),j=this.options.scales;Object(i.j)(c,function(K){var gt=K.field,Mt=K.values,Xt=K.isCategory,Jt=K.isIdentity;(Xt||Jt)&&Mt&&!Object(i.s)(j,[gt,"range"])&&(K.range=Aa(K,m,s.theme))})},h.prototype.initComponents=function(s){for(var c=this.controllers,m=0;m<c.length;m++){var j=c[m];s?j.update():(j.clear(),j.render())}},h.prototype.doLayout=function(){this.layoutFunc(this)},h.prototype.createCoordinate=function(){var s=this.coordinateBBox.bl,c=this.coordinateBBox.tr;this.coordinateInstance=this.coordinateController.create(s,c)},h.prototype.paintGeometries=function(s){for(var c=this.options.animate,m=this.getCoordinate(),j={x:this.viewBBox.x,y:this.viewBBox.y,minX:this.viewBBox.minX,minY:this.viewBBox.minY,maxX:this.viewBBox.maxX,maxY:this.viewBBox.maxY,width:this.viewBBox.width,height:this.viewBBox.height},K=this.geometries,gt=0;gt<K.length;gt++){var Mt=K[gt];Mt.coordinate=m,Mt.canvasRegion=j,c||Mt.animate(!1),Mt.paint(s)}},h.prototype.renderComponents=function(s){for(var c=0;c<this.getComponents().length;c++){var m=this.getComponents()[c];m.component.render()}},h.prototype.renderFacet=function(s){this.facetInstance&&(s?this.facetInstance.update():(this.facetInstance.clear(),this.facetInstance.init(),this.facetInstance.render()))},h.prototype.initOptions=function(){var s=this,c=this.options,m=c.geometries,j=m===void 0?[]:m,K=c.interactions,gt=K===void 0?[]:K,Mt=c.views,Xt=Mt===void 0?[]:Mt,Jt=c.annotations,te=Jt===void 0?[]:Jt,ae=c.coordinate,fe=c.events,Ae=c.facets;this.coordinateController?ae&&this.coordinateController.update(ae):this.coordinateController=new Oc(ae);for(var Ie=0;Ie<j.length;Ie++){var gr=j[Ie];this.createGeometry(gr)}for(var Or=0;Or<gt.length;Or++){var Br=gt[Or],Gr=Br.type,Tn=Br.cfg;this.interaction(Gr,Tn)}for(var nn=0;nn<Xt.length;nn++){var zn=Xt[nn];this.createView(zn)}for(var Ai=this.getController("annotation"),ii=0;ii<te.length;ii++){var Qa=te[ii];Ai.annotation(Qa)}fe&&Object(i.j)(fe,function(zi,vo){s.on(vo,zi)}),Ae&&Object(i.j)(Ae,function(zi){var vo=zi.type,oo=Object(f.e)(zi,["type"]);s.facet(vo,oo)})},h.prototype.createGeometry=function(s){var c=s.type,m=s.cfg,j=m===void 0?{}:m;if(this[c]){var K=this[c](j);Object(i.j)(s,function(gt,Mt){Object(i.H)(K[Mt])&&K[Mt](gt)})}},h.prototype.getScaleKey=function(s){return this.id+"-"+s},h}(et);function ks(d,h){Wl.prototype[d.toLowerCase()]=function(s){s===void 0&&(s={});var c=Object(f.a)({container:this.middleGroup.addGroup(),labelsContainer:this.foregroundGroup.addGroup()},s),m=new h(c);return this.geometries.push(m),m}}var tl=Wl,xc=function(d){Object(f.c)(h,d);function h(s){var c=this,m=s.container,j=s.width,K=s.height,gt=s.autoFit,Mt=gt===void 0?!1:gt,Xt=s.padding,Jt=s.appendPadding,te=s.renderer,ae=te===void 0?"canvas":te,fe=s.pixelRatio,Ae=s.localRefresh,Ie=Ae===void 0?!0:Ae,gr=s.visible,Or=gr===void 0?!0:gr,Br=s.supportCSSTransform,Gr=Br===void 0?!1:Br,Tn=s.defaultInteractions,nn=Tn===void 0?["tooltip","legend-filter","legend-active","continuous-filter","ellipsis-text"]:Tn,zn=s.options,Ai=s.limitInPlot,ii=s.theme,Qa=s.syncViewPadding,zi=Object(i.O)(m)?document.getElementById(m):m,vo=Object(B.b)('<div style="position:relative;"></div>');zi.appendChild(vo);var oo=W(zi,Mt,j,K),qo=z(ae),Is=new qo.Canvas(Object(f.a)({container:vo,pixelRatio:fe,localRefresh:Ie,supportCSSTransform:Gr},oo));return c=d.call(this,{parent:null,canvas:Is,backgroundGroup:Is.addGroup({zIndex:S.BG}),middleGroup:Is.addGroup({zIndex:S.MID}),foregroundGroup:Is.addGroup({zIndex:S.FORE}),padding:Xt,appendPadding:Jt,visible:Or,options:zn,limitInPlot:Ai,theme:ii,syncViewPadding:Qa})||this,c.onResize=Object(i.g)(function(){c.forceFit()},300),c.ele=zi,c.canvas=Is,c.width=oo.width,c.height=oo.height,c.autoFit=Mt,c.localRefresh=Ie,c.renderer=ae,c.wrapperElement=vo,c.updateCanvasStyle(),c.bindAutoFit(),c.initDefaultInteractions(nn),c}return h.prototype.initDefaultInteractions=function(s){var c=this;Object(i.j)(s,function(m){c.interaction(m)})},h.prototype.changeSize=function(s,c){return this.width===s&&this.height===c?this:(this.emit(A.BEFORE_CHANGE_SIZE),this.width=s,this.height=c,this.canvas.changeSize(s,c),this.render(!0),this.emit(A.AFTER_CHANGE_SIZE),this)},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.unbindAutoFit(),this.canvas.destroy(),Q(this.wrapperElement),this.wrapperElement=null},h.prototype.changeVisible=function(s){return d.prototype.changeVisible.call(this,s),this.wrapperElement.style.display=s?"":"none",this},h.prototype.forceFit=function(){if(!this.destroyed){var s=W(this.ele,!0,this.width,this.height),c=s.width,m=s.height;this.changeSize(c,m)}},h.prototype.updateCanvasStyle=function(){Object(B.e)(this.canvas.get("el"),{display:"inline-block",verticalAlign:"middle"})},h.prototype.bindAutoFit=function(){this.autoFit&&window.addEventListener("resize",this.onResize)},h.prototype.unbindAutoFit=function(){this.autoFit&&window.removeEventListener("resize",this.onResize)},h}(tl),yl=xc,gu=function(){function d(h){this.visible=!0,this.components=[],this.view=h}return d.prototype.clear=function(h){Object(i.j)(this.components,function(s){s.component.destroy()}),this.components=[]},d.prototype.destroy=function(){this.clear()},d.prototype.getComponents=function(){return this.components},d.prototype.changeVisible=function(h){this.visible!==h&&(this.components.forEach(function(s){h?s.component.show():s.component.hide()}),this.visible=h)},d}();function el(d){for(var h=[],s=function(j){var K=d[j],gt=Object(i.m)(h,function(Mt){return Mt.color===K.color&&Mt.name===K.name&&Mt.value===K.value&&Mt.title===K.title});gt||h.push(K)},c=0;c<d.length;c++)s(c);return h}var ss=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.isLocked=!1,s}return Object.defineProperty(h.prototype,"name",{get:function(){return"tooltip"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.isVisible=function(){var s=this.view.getOptions().tooltip;return s!==!1},h.prototype.render=function(){},h.prototype.showTooltip=function(s){if(this.point=s,!!this.isVisible()){var c=this.view,m=this.getTooltipItems(s);if(!m.length){this.hideTooltip();return}var j=this.getTitle(m),K={x:m[0].x,y:m[0].y};c.emit("tooltip:show",Tu.fromData(c,"tooltip:show",Object(f.a)({items:m,title:j},s)));var gt=this.getTooltipCfg(),Mt=gt.follow,Xt=gt.showMarkers,Jt=gt.showCrosshairs,te=gt.showContent,ae=gt.marker,fe=this.items,Ae=this.title;if(!Object(i.G)(Ae,j)||!Object(i.G)(fe,m)?(c.emit("tooltip:change",Tu.fromData(c,"tooltip:change",Object(f.a)({items:m,title:j},s))),(Object(i.H)(te)?te(m):te)&&(this.tooltip||this.renderTooltip(),this.tooltip.update(Object(i.bb)({},gt,{items:this.getItemsAfterProcess(m),title:j},Mt?s:{})),this.tooltip.show()),Xt&&this.renderTooltipMarkers(m,ae)):(this.tooltip&&Mt&&(this.tooltip.update(s),this.tooltip.show()),this.tooltipMarkersGroup&&this.tooltipMarkersGroup.show()),this.items=m,this.title=j,Jt){var Ie=Object(i.s)(gt,["crosshairs","follow"],!1);this.renderCrosshairs(Ie?s:K,gt)}}},h.prototype.hideTooltip=function(){var s=this.getTooltipCfg().follow;if(!s){this.point=null;return}var c=this.tooltipMarkersGroup;c&&c.hide();var m=this.xCrosshair,j=this.yCrosshair;m&&m.hide(),j&&j.hide();var K=this.tooltip;K&&K.hide(),this.view.emit("tooltip:hide",Tu.fromData(this.view,"tooltip:hide",{})),this.point=null},h.prototype.lockTooltip=function(){this.isLocked=!0,this.tooltip&&this.tooltip.setCapture(!0)},h.prototype.unlockTooltip=function(){this.isLocked=!1;var s=this.getTooltipCfg();this.tooltip&&this.tooltip.setCapture(s.capture)},h.prototype.isTooltipLocked=function(){return this.isLocked},h.prototype.clear=function(){var s=this,c=s.tooltip,m=s.xCrosshair,j=s.yCrosshair,K=s.tooltipMarkersGroup;c&&(c.hide(),c.clear()),m&&m.clear(),j&&j.clear(),K&&K.clear(),this.reset()},h.prototype.destroy=function(){this.tooltip&&this.tooltip.destroy(),this.xCrosshair&&this.xCrosshair.destroy(),this.yCrosshair&&this.yCrosshair.destroy(),this.guideGroup&&this.guideGroup.remove(!0),this.reset()},h.prototype.reset=function(){this.items=null,this.title=null,this.tooltipMarkersGroup=null,this.tooltipCrosshairsGroup=null,this.xCrosshair=null,this.yCrosshair=null,this.tooltip=null,this.guideGroup=null,this.isLocked=!1,this.point=null},h.prototype.changeVisible=function(s){if(this.visible!==s){var c=this,m=c.tooltip,j=c.tooltipMarkersGroup,K=c.xCrosshair,gt=c.yCrosshair;s?(m&&m.show(),j&&j.show(),K&&K.show(),gt&&gt.show()):(m&&m.hide(),j&&j.hide(),K&&K.hide(),gt&&gt.hide()),this.visible=s}},h.prototype.getTooltipItems=function(s){var c=this.findItemsFromView(this.view,s);if(c.length){c=Object(i.q)(c);for(var m=0,j=c;m<j.length;m++)for(var K=j[m],gt=0,Mt=K;gt<Mt.length;gt++){var Xt=Mt[gt],Jt=Xt.mappingData,te=Jt.x,ae=Jt.y;Xt.x=Object(i.B)(te)?te[te.length-1]:te,Xt.y=Object(i.B)(ae)?ae[ae.length-1]:ae}var fe=this.getTooltipCfg().shared;if(fe===!1&&c.length>1){for(var Ae=c[0],Ie=Math.abs(s.y-Ae[0].y),gr=0,Or=c;gr<Or.length;gr++){var Br=Or[gr],Gr=Math.abs(s.y-Br[0].y);Gr<=Ie&&(Ae=Br,Ie=Gr)}c=[Ae]}return el(Object(i.q)(c))}return[]},h.prototype.layout=function(){},h.prototype.update=function(){if(this.point&&this.showTooltip(this.point),this.tooltip){var s=this.view.getCanvas();this.tooltip.set("region",{start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}})}},h.prototype.isCursorEntered=function(s){if(this.tooltip){var c=this.tooltip.getContainer(),m=this.tooltip.get("capture");if(c&&m){var j=c.getBoundingClientRect(),K=j.x,gt=j.y,Mt=j.width,Xt=j.height;return new rr(K,gt,Mt,Xt).isPointIn(s)}}return!1},h.prototype.getTooltipCfg=function(){var s=this.view,c=s.getOptions().tooltip,m=this.processCustomContent(c),j=s.getTheme(),K=Object(i.s)(j,["components","tooltip"],{}),gt=Object(i.s)(m,"enterable",K.enterable);return Object(i.h)({},K,m,{capture:!!(gt||this.isLocked)})},h.prototype.processCustomContent=function(s){if(Object(i.C)(s)||!Object(i.s)(s,"customContent"))return s;var c=s.customContent,m=function(K,gt){var Mt=c(K,gt)||"";return Object(i.O)(Mt)?'<div class="g2-tooltip">'+Mt+"</div>":Mt};return Object(f.a)(Object(f.a)({},s),{customContent:m})},h.prototype.getTitle=function(s){var c=s[0].title||s[0].name;return this.title=c,c},h.prototype.renderTooltip=function(){var s=this.view.getCanvas(),c={start:{x:0,y:0},end:{x:s.get("width"),y:s.get("height")}},m=this.getTooltipCfg(),j=new ci(Object(f.a)(Object(f.a)({parent:s.get("el").parentNode,region:c},m),{visible:!1,crosshairs:null}));j.init(),this.tooltip=j},h.prototype.renderTooltipMarkers=function(s,c){for(var m=this.getTooltipMarkersGroup(),j=0,K=s;j<K.length;j++){var gt=K[j],Mt=gt.x,Xt=gt.y,Jt=Object(f.a)(Object(f.a)({fill:gt.color,symbol:"circle",shadowColor:gt.color},c),{x:Mt,y:Xt});m.addShape("marker",{attrs:Jt})}},h.prototype.renderCrosshairs=function(s,c){var m=Object(i.s)(c,["crosshairs","type"],"x");m==="x"?(this.yCrosshair&&this.yCrosshair.hide(),this.renderXCrosshairs(s,c)):m==="y"?(this.xCrosshair&&this.xCrosshair.hide(),this.renderYCrosshairs(s,c)):m==="xy"&&(this.renderXCrosshairs(s,c),this.renderYCrosshairs(s,c))},h.prototype.renderXCrosshairs=function(s,c){var m=this.getViewWithGeometry(this.view).getCoordinate();if(!!bn(m,s)){var j,K;if(m.isRect)m.isTransposed?(j={x:m.start.x,y:s.y},K={x:m.end.x,y:s.y}):(j={x:s.x,y:m.end.y},K={x:s.x,y:m.start.y});else{var gt=on(m,s),Mt=m.getCenter(),Xt=m.getRadius();K=pa(Mt.x,Mt.y,Xt,gt),j=Mt}var Jt=Object(i.h)({start:j,end:K,container:this.getTooltipCrosshairsGroup()},Object(i.s)(c,"crosshairs",{}),this.getCrosshairsText("x",s,c));delete Jt.type;var te=this.xCrosshair;te?te.update(Jt):(te=new yr.Crosshair.Line(Jt),te.init()),te.render(),te.show(),this.xCrosshair=te}},h.prototype.renderYCrosshairs=function(s,c){var m=this.getViewWithGeometry(this.view).getCoordinate();if(!!bn(m,s)){var j,K;if(m.isRect){var gt=void 0,Mt=void 0;m.isTransposed?(gt={x:s.x,y:m.end.y},Mt={x:s.x,y:m.start.y}):(gt={x:m.start.x,y:s.y},Mt={x:m.end.x,y:s.y}),j={start:gt,end:Mt},K="Line"}else j={center:m.getCenter(),radius:tn(m,s),startAngle:m.startAngle,endAngle:m.endAngle},K="Circle";j=Object(i.h)({container:this.getTooltipCrosshairsGroup()},j,Object(i.s)(c,"crosshairs",{}),this.getCrosshairsText("y",s,c)),delete j.type;var Xt=this.yCrosshair;Xt?m.isRect&&Xt.get("type")==="circle"||!m.isRect&&Xt.get("type")==="line"?(Xt=new yr.Crosshair[K](j),Xt.init()):Xt.update(j):(Xt=new yr.Crosshair[K](j),Xt.init()),Xt.render(),Xt.show(),this.yCrosshair=Xt}},h.prototype.getCrosshairsText=function(s,c,m){var j=Object(i.s)(m,["crosshairs","text"]),K=Object(i.s)(m,["crosshairs","follow"]),gt=this.items;if(j){var Mt=this.getViewWithGeometry(this.view),Xt=gt[0],Jt=Mt.getXScale(),te=Mt.getYScales()[0],ae=void 0,fe=void 0;if(K){var Ae=this.view.getCoordinate().invert(c);ae=Jt.invert(Ae.x),fe=te.invert(Ae.y)}else ae=Xt.data[Jt.field],fe=Xt.data[te.field];var Ie=s==="x"?ae:fe;return Object(i.H)(j)?j=j(s,Ie,gt,c):j.content=Ie,{text:j}}},h.prototype.getGuideGroup=function(){if(!this.guideGroup){var s=this.view.foregroundGroup;this.guideGroup=s.addGroup({name:"tooltipGuide",capture:!1})}return this.guideGroup},h.prototype.getTooltipMarkersGroup=function(){var s=this.tooltipMarkersGroup;return s&&!s.destroyed?(s.clear(),s.show()):(s=this.getGuideGroup().addGroup({name:"tooltipMarkersGroup"}),s.toFront(),this.tooltipMarkersGroup=s),s},h.prototype.getTooltipCrosshairsGroup=function(){var s=this.tooltipCrosshairsGroup;return s||(s=this.getGuideGroup().addGroup({name:"tooltipCrosshairsGroup",capture:!1}),s.toBack(),this.tooltipCrosshairsGroup=s),s},h.prototype.getTooltipItemsByHitShape=function(s,c,m){var j=this.getTooltipCfg().showNil,K=[],gt=s.container,Mt=gt.getShape(c.x,c.y);if(Mt&&Mt.get("visible")&&Mt.get("origin")){var Xt=Mt.get("origin").mappingData,Jt=Ha(Xt,s,m,j);Jt.length&&K.push(Jt)}return K},h.prototype.getTooltipItemsByFindData=function(s,c,m){var j=this.getTooltipCfg().showNil,K=[],gt=s.dataArray;if(!Object(i.F)(gt)){s.sort(gt);for(var Mt=0,Xt=gt;Mt<Xt.length;Mt++){var Jt=Xt[Mt],te=Io(c,Jt,s);if(te){var ae=s.getElementId(te),fe=s.elementsMap[ae];if(s.type==="heatmap"||fe.visible){var Ae=Ha(te,s,m,j);Ae.length&&K.push(Ae)}}}}return K},h.prototype.findItemsFromView=function(s,c){if(s.getOptions().tooltip===!1)return[];for(var m=[],j=s.geometries,K=this.getTooltipCfg(),gt=K.shared,Mt=K.title,Xt=K.reversed,Jt=0,te=j;Jt<te.length;Jt++){var ae=te[Jt];if(ae.visible&&ae.tooltipOption!==!1){var fe=ae.type,Ae=void 0;["point","edge","polygon"].includes(fe)?Ae=this.getTooltipItemsByHitShape(ae,c,Mt):["area","line","path","heatmap"].includes(fe)?Ae=this.getTooltipItemsByFindData(ae,c,Mt):gt!==!1?Ae=this.getTooltipItemsByFindData(ae,c,Mt):Ae=this.getTooltipItemsByHitShape(ae,c,Mt),Ae.length&&(Xt&&Ae.reverse(),m.push(Ae))}}for(var Ie=0,gr=s.views;Ie<gr.length;Ie++){var Or=gr[Ie];m=m.concat(this.findItemsFromView(Or,c))}return m},h.prototype.getViewWithGeometry=function(s){var c=this;return s.geometries.length?s:Object(i.m)(s.views,function(m){return c.getViewWithGeometry(m)})},h.prototype.getItemsAfterProcess=function(s){var c=this.getTooltipCfg().customItems,m=c||function(j){return j};return m(s)},h}(gu),zl=ss,nu={};function ef(d){return nu[d.toLowerCase()]}function Ss(d,h){nu[d.toLowerCase()]=h}var pu={appear:{duration:450,easing:"easeQuadOut"},update:{duration:400,easing:"easeQuadInOut"},enter:{duration:400,easing:"easeQuadInOut"},leave:{duration:350,easing:"easeQuadIn"}},yu={interval:function(h){return{enter:{animation:h.isRect?h.isTransposed?"scale-in-x":"scale-in-y":"fade-in"},update:{animation:h.isPolar&&h.isTransposed?"sector-path-update":null},leave:{animation:"fade-out"}}},line:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},path:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},point:{appear:{animation:"zoom-in"},enter:{animation:"zoom-in"},leave:{animation:"zoom-out"}},area:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},polygon:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},schema:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},edge:{enter:{animation:"fade-in"},leave:{animation:"fade-out"}},label:{appear:{animation:"fade-in",delay:450},enter:{animation:"fade-in"},update:{animation:"position-update"},leave:{animation:"fade-out"}}},Vs={line:function(){return{animation:"wave-in"}},area:function(){return{animation:"wave-in"}},path:function(){return{animation:"fade-in"}},interval:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":(s="grow-in-xy",h.isPolar&&h.isTransposed&&(s="wave-in")),{animation:s}},schema:function(h){var s;return h.isRect?s=h.isTransposed?"grow-in-x":"grow-in-y":s="grow-in-xy",{animation:s}},polygon:function(){return{animation:"fade-in",duration:500}},edge:function(){return{animation:"fade-in"}}};function mu(d,h){return{delay:Object(i.H)(d.delay)?d.delay(h):d.delay,easing:Object(i.H)(d.easing)?d.easing(h):d.easing,duration:Object(i.H)(d.duration)?d.duration(h):d.duration,callback:d.callback,repeat:d.repeat}}function Rs(d,h,s){var c=yu[d];return c&&(Object(i.H)(c)&&(c=c(h)),c=Object(i.h)({},pu,c),s)?c[s]:c}function Zs(d,h,s){var c=Object(i.s)(d.get("origin"),"data",D),m=h.animation,j=mu(h,c);if(m){var K=ef(m);K&&K(d,j,s)}else d.animate(s.toAttrs,j)}function kl(d,h,s,c,m){if(Vs[s]){var j=Vs[s](c),K=ef(Object(i.s)(j,"animation",""));if(K){var gt=Object(f.a)(Object(f.a)(Object(f.a)({},pu.appear),j),h);d.stopAnimate(),K(d,gt,{coordinate:c,minYPoint:m,toAttrs:null})}}}var Uu="element-background",rf=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.states=[];var m=s.shapeFactory,j=s.container,K=s.offscreenGroup,gt=s.visible,Mt=gt===void 0?!0:gt;return c.shapeFactory=m,c.container=j,c.offscreenGroup=K,c.visible=Mt,c}return h.prototype.draw=function(s,c){c===void 0&&(c=!1),this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.drawShape(s,c),this.visible===!1&&this.changeVisible(!1)},h.prototype.update=function(s){var c=this,m=c.shapeFactory,j=c.shape;if(!!j){this.model=s,this.data=s.data,this.shapeType=this.getShapeType(s),this.setShapeInfo(j,s);var K=this.getOffscreenGroup(),gt=m.drawShape(this.shapeType,s,K);gt.cfg.data=this.data,gt.cfg.origin=s,gt.cfg.element=this,this.syncShapeStyle(j,gt,this.getStates(),this.getAnimateCfg("update"))}},h.prototype.destroy=function(){var s=this,c=s.shapeFactory,m=s.shape;if(m){var j=this.getAnimateCfg("leave");j?Zs(m,j,{coordinate:c.coordinate,toAttrs:Object(f.a)({},m.attr())}):m.remove(!0)}this.states=[],this.shapeFactory=void 0,this.container=void 0,this.shape=void 0,this.animate=void 0,this.geometry=void 0,this.labelShape=void 0,this.model=void 0,this.data=void 0,this.offscreenGroup=void 0,this.statesStyle=void 0,d.prototype.destroy.call(this)},h.prototype.changeVisible=function(s){d.prototype.changeVisible.call(this,s),s?(this.shape&&this.shape.show(),this.labelShape&&this.labelShape.forEach(function(c){c.show()})):(this.shape&&this.shape.hide(),this.labelShape&&this.labelShape.forEach(function(c){c.hide()}))},h.prototype.setState=function(s,c){var m=this,j=m.states,K=m.shapeFactory,gt=m.model,Mt=m.shape,Xt=m.shapeType,Jt=j.indexOf(s);if(c){if(Jt>-1)return;j.push(s),(s==="active"||s==="selected")&&Mt.toFront()}else{if(Jt===-1)return;j.splice(Jt,1),(s==="active"||s==="selected")&&Mt.toBack()}var te=K.drawShape(Xt,gt,this.getOffscreenGroup());j.length?this.syncShapeStyle(Mt,te,j,null):this.syncShapeStyle(Mt,te,["reset"],null),te.remove(!0);var ae={state:s,stateStatus:c,element:this,target:this.container};this.container.emit("statechange",ae),Object(yr.propagationDelegate)(this.shape,"statechange",ae)},h.prototype.clearStates=function(){var s=this,c=this.states;Object(i.j)(c,function(m){s.setState(m,!1)}),this.states=[]},h.prototype.hasState=function(s){return this.states.includes(s)},h.prototype.getStates=function(){return this.states},h.prototype.getData=function(){return this.data},h.prototype.getModel=function(){return this.model},h.prototype.getBBox=function(){var s=this,c=s.shape,m=s.labelShape,j={x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0};return c&&(j=c.getCanvasBBox()),m&&m.forEach(function(K){var gt=K.getCanvasBBox();j.x=Math.min(gt.x,j.x),j.y=Math.min(gt.y,j.y),j.minX=Math.min(gt.minX,j.minX),j.minY=Math.min(gt.minY,j.minY),j.maxX=Math.max(gt.maxX,j.maxX),j.maxY=Math.max(gt.maxY,j.maxY)}),j.width=j.maxX-j.minX,j.height=j.maxY-j.minY,j},h.prototype.getStatesStyle=function(){if(!this.statesStyle){var s=this,c=s.shapeType,m=s.geometry,j=s.shapeFactory,K=m.stateOption,gt=j.defaultShapeType,Mt=j.theme[c]||j.theme[gt];this.statesStyle=Object(i.h)({},Mt,K)}return this.statesStyle},h.prototype.getStateStyle=function(s,c){var m=this.getStatesStyle(),j=Object(i.s)(m,[s,"style"],{}),K=j[c]||j;return Object(i.H)(K)?K(this):K},h.prototype.getAnimateCfg=function(s){var c=this,m=this.animate;if(m){var j=m[s];return j&&Object(f.a)(Object(f.a)({},j),{callback:function(){var gt;Object(i.H)(j.callback)&&j.callback(),(gt=c.geometry)===null||gt===void 0||gt.emit(M.AFTER_DRAW_ANIMATE)}})}return null},h.prototype.drawShape=function(s,c){var m;c===void 0&&(c=!1);var j=this,K=j.shapeFactory,gt=j.container,Mt=j.shapeType;if(this.shape=K.drawShape(Mt,s,gt),this.shape){this.setShapeInfo(this.shape,s);var Xt=this.shape.cfg.name;Xt?Object(i.O)(Xt)&&(this.shape.cfg.name=["element",Xt]):this.shape.cfg.name=["element",this.shapeFactory.geometryType];var Jt=c?"enter":"appear",te=this.getAnimateCfg(Jt);te&&((m=this.geometry)===null||m===void 0||m.emit(M.BEFORE_DRAW_ANIMATE),Zs(this.shape,te,{coordinate:K.coordinate,toAttrs:Object(f.a)({},this.shape.attr())}))}},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.setShapeInfo=function(s,c){var m=this;if(s.cfg.origin=c,s.cfg.element=this,s.isGroup()){var j=s.get("children");j.forEach(function(K){m.setShapeInfo(K,c)})}},h.prototype.syncShapeStyle=function(s,c,m,j,K){var gt=this,Mt;if(m===void 0&&(m=[]),K===void 0&&(K=0),!(!s||!c)){var Xt=s.get("clipShape"),Jt=c.get("clipShape");if(this.syncShapeStyle(Xt,Jt,m,j),s.isGroup())for(var te=s.get("children"),ae=c.get("children"),fe=0;fe<te.length;fe++)this.syncShapeStyle(te[fe],ae[fe],m,j,K+fe);else{if(!Object(i.F)(m)&&!Object(i.G)(m,["reset"])){var Ae=s.get("name");Object(i.B)(Ae)&&(Ae=Ae[1]),Object(i.j)(m,function(gr){if(c.get("name")!==Uu){var Or=gt.getStateStyle(gr,Ae||K);c.attr(Or)}})}var Ie=so(s,c);this.animate?j?((Mt=this.geometry)===null||Mt===void 0||Mt.emit(M.BEFORE_DRAW_ANIMATE),Zs(s,j,{coordinate:this.shapeFactory.coordinate,toAttrs:Ie,shapeModel:this.model})):Object(i.F)(m)?(s.stopAnimate(),s.animate(Ie,{duration:300})):s.attr(Ie):s.attr(Ie)}}},h.prototype.getShapeType=function(s){var c=Object(i.s)(s,"shape");return Object(i.B)(c)?c[0]:c},h}(et),Vl=rf,ml={},Hl={};function Xl(d){return ml[d.toLowerCase()]}function Hs(d,h){ml[d.toLowerCase()]=h}function Yo(d){return Hl[d.toLowerCase()]}function ds(d,h){Hl[d.toLowerCase()]=h}var Yl={coordinate:null,defaultShapeType:null,theme:null,getShapePoints:function(h,s){var c=this.getShape(h);return c.getPoints?c.getPoints(s):this.getDefaultPoints(s)},getShape:function(h){var s=this[h]||this[this.defaultShapeType];return s.coordinate=this.coordinate,s},getDefaultPoints:function(){return[]},getDefaultStyle:function(h){return Object(i.s)(h,[this.defaultShapeType,"default","style"],{})},getMarker:function(h,s){var c=this.getShape(h);if(!c.getMarker){var m=this.defaultShapeType;c=this.getShape(m)}var j=this.theme,K=Object(i.s)(j,[h,"default"],{}),gt=c.getMarker(s);return Object(i.h)({},K,gt)},drawShape:function(h,s,c){var m=this.getShape(h);return m.draw(s,c)}},Qs={coordinate:null,parsePath:function(h){var s=this.coordinate,c=Object(Cs.c)(h);return s.isPolar?c=la(s,c):c=hs(s,c),c},parsePoint:function(h){var s=this.coordinate;return s.convert(h)},parsePoints:function(h){var s=this.coordinate;return h.map(function(c){return s.convert(c)})},draw:function(h,s){}},Pu={};function au(d,h){var s=Object(i.tb)(d),c=Object(f.a)(Object(f.a)(Object(f.a)({},Yl),h),{geometryType:d});return Pu[s]=c,c}function io(d,h,s){var c=Object(i.tb)(d),m=Pu[c],j=Object(f.a)(Object(f.a)({},Qs),s);return m[h]=j,j}function bu(d){var h=Object(i.tb)(d);return Pu[h]}function Cc(d,h,s){if(s===void 0&&(s={}),!h)return[d];var c=Object(i.w)(d,h),m=[];if(h.length===1&&s[h[0]])for(var j=s[h[0]],K=0,gt=j;K<gt.length;K++){var Mt=gt[K],Xt=c["_"+Mt];Xt&&m.push(Xt)}else for(var Jt in c)if(c.hasOwnProperty(Jt)){var te=c[Jt];m.push(te)}return m}function iu(d,h){return Object(i.kb)(["color","shape","size","x","y","isInCircle","data","style","defaultStyle","points","mappingData"],function(s){return!Object(i.G)(d[s],h[s])})}function Wu(d){return Object(i.B)(d)?d:d.split("*")}function nf(d,h){var s=[];return Object(i.j)(h,function(c,m){var j=m.split(" ")[0];j===d&&s.push(c)}),s}var zu=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.type="base",c.attributes={},c.elements=[],c.elementsMap={},c.animateOption=!0,c.attributeOption={},c.lastElementsMap={},c.generatePoints=!1,c.beforeMappingData=null,c.adjusts={},c.idFields=[],c.hasSorted=!1,c.isCoordinateChanged=!1;var m=s.container,j=s.labelsContainer,K=s.coordinate,gt=s.data,Mt=s.sortable,Xt=Mt===void 0?!1:Mt,Jt=s.visible,te=Jt===void 0?!0:Jt,ae=s.theme,fe=s.scales,Ae=fe===void 0?{}:fe,Ie=s.scaleDefs,gr=Ie===void 0?{}:Ie,Or=s.intervalPadding,Br=s.dodgePadding,Gr=s.maxColumnWidth,Tn=s.minColumnWidth,nn=s.columnWidthRatio,zn=s.roseWidthRatio,Ai=s.multiplePieWidthRatio,ii=s.zIndexReversed;return c.container=m,c.labelsContainer=j,c.coordinate=K,c.data=gt,c.sortable=Xt,c.visible=te,c.userTheme=ae,c.scales=Ae,c.scaleDefs=gr,c.intervalPadding=Or,c.dodgePadding=Br,c.maxColumnWidth=Gr,c.minColumnWidth=Tn,c.columnWidthRatio=nn,c.roseWidthRatio=zn,c.multiplePieWidthRatio=Ai,c.zIndexReversed=ii,c}return h.prototype.position=function(s){var c=s;Object(i.N)(s)||(c={fields:Wu(s)});var m=Object(i.s)(c,"fields");return m.length===1&&(m.unshift("1"),Object(i.ib)(c,"fields",m)),Object(i.ib)(this.attributeOption,"position",c),this},h.prototype.color=function(s,c){return this.createAttrOption("color",s,c),this},h.prototype.shape=function(s,c){return this.createAttrOption("shape",s,c),this},h.prototype.size=function(s,c){return this.createAttrOption("size",s,c),this},h.prototype.adjust=function(s){var c=s;return(Object(i.O)(s)||Object(i.N)(s))&&(c=[s]),Object(i.j)(c,function(m,j){Object(i.M)(m)||(c[j]={type:m})}),this.adjustOption=c,this},h.prototype.style=function(s,c){if(Object(i.O)(s)){var m=Wu(s);this.styleOption={fields:m,callback:c}}else{var j=s,m=j.fields,K=j.callback,gt=j.cfg;m||K||gt?this.styleOption=s:this.styleOption={cfg:s}}return this},h.prototype.tooltip=function(s,c){if(Object(i.O)(s)){var m=Wu(s);this.tooltipOption={fields:m,callback:c}}else this.tooltipOption=s;return this},h.prototype.animate=function(s){return this.animateOption=s,this},h.prototype.label=function(s,c,m){if(Object(i.O)(s)){var j={},K=Wu(s);j.fields=K,Object(i.H)(c)?j.callback=c:Object(i.N)(c)&&(j.cfg=c),m&&(j.cfg=m),this.labelOption=j}else this.labelOption=s;return this},h.prototype.state=function(s){return this.stateOption=s,this},h.prototype.customInfo=function(s){return this.customOption=s,this},h.prototype.init=function(s){s===void 0&&(s={}),this.setCfg(s),this.initAttributes(),this.processData(this.data),this.adjustScale()},h.prototype.update=function(s){s===void 0&&(s={});var c=s.data,m=s.isDataChanged,j=s.isCoordinateChanged,K=this,gt=K.attributeOption,Mt=K.lastAttributeOption;Object(i.G)(gt,Mt)?c&&(m||!Object(i.G)(c,this.data))?(this.setCfg(s),this.initAttributes(),this.processData(c)):this.setCfg(s):this.init(s),this.adjustScale(),this.isCoordinateChanged=j},h.prototype.paint=function(s){var c=this;s===void 0&&(s=!1),this.animateOption&&(this.animateOption=Object(i.h)({},Rs(this.type,this.coordinate),this.animateOption)),this.defaultSize=void 0,this.elements=[],this.elementsMap={};var m=this.getOffscreenGroup();m.clear();for(var j=this.beforeMappingData,K=this.beforeMapping(j),gt=[],Mt=0,Xt=K.length;Mt<Xt;Mt++){var Jt=K[Mt],te=this.mapping(Jt);gt.push(te),this.createElements(te,Mt,s)}if(this.canDoGroupAnimation(s)){var ae=this.container,fe=this.type,Ae=this.coordinate,Ie=Object(i.s)(this.animateOption,"appear"),gr=this.getYScale(),Or=Ae.convert({x:0,y:gr.scale(this.getYMinValue())});kl(ae,Ie,fe,Ae,Or)}this.labelOption&&this.renderLabels(Object(i.q)(gt),s),this.dataArray=gt,Object(i.j)(this.lastElementsMap,function(Br){Br.animate=c.animateOption,Br.destroy()}),this.lastElementsMap=this.elementsMap,this.lastAttributeOption=Object(f.a)({},this.attributeOption),this.visible===!1&&this.changeVisible(!1)},h.prototype.clear=function(){var s=this,c=s.container,m=s.geometryLabel,j=s.offscreenGroup;c&&c.clear(),m&&m.clear(),j&&j.clear(),this.scaleDefs=void 0,this.attributes={},this.scales={},this.elementsMap={},this.lastElementsMap={},this.elements=[],this.adjusts={},this.dataArray=null,this.beforeMappingData=null,this.lastAttributeOption=void 0,this.defaultSize=void 0,this.idFields=[],this.groupScales=void 0,this.hasSorted=!1,this.isCoordinateChanged=!1},h.prototype.destroy=function(){this.clear();var s=this.container;s.remove(!0),this.offscreenGroup&&(this.offscreenGroup.remove(!0),this.offscreenGroup=null),this.geometryLabel&&(this.geometryLabel.destroy(),this.geometryLabel=null),this.theme=void 0,this.shapeFactory=void 0,d.prototype.destroy.call(this)},h.prototype.getGroupScales=function(){return this.groupScales},h.prototype.getAttribute=function(s){return this.attributes[s]},h.prototype.getXScale=function(){return this.getAttribute("position").scales[0]},h.prototype.getYScale=function(){return this.getAttribute("position").scales[1]},h.prototype.getGroupAttributes=function(){var s=[];return Object(i.j)(this.attributes,function(c){C.includes(c.type)&&s.push(c)}),s},h.prototype.getDefaultValue=function(s){var c,m=this.getAttribute(s);return m&&Object(i.F)(m.scales)&&(c=m.values[0]),c},h.prototype.getAttributeValues=function(s,c){for(var m=[],j=s.scales,K=0,gt=j.length;K<gt;K++){var Mt=j[K],Xt=Mt.field;Mt.isIdentity?m.push(Mt.values):m.push(c[Xt])}return s.mapping.apply(s,m)},h.prototype.getAdjust=function(s){return this.adjusts[s]},h.prototype.getShapeMarker=function(s,c){var m=this.getShapeFactory();return m.getMarker(s,c)},h.prototype.getElementsBy=function(s){return this.elements.filter(function(c){return s(c)})},h.prototype.getElementId=function(s){s=Object(i.B)(s)?s[0]:s;var c=s[D];if(this.idFields.length){for(var m=c[this.idFields[0]],j=1;j<this.idFields.length;j++)m+="-"+c[this.idFields[j]];return m}var K=this.type,gt=this.getXScale(),Mt=this.getYScale(),Xt=gt.field||"x",Jt=Mt.field||"y",te=c[Jt],ae;gt.type==="identity"?ae=gt.values[0]:ae=c[Xt];var fe;K==="interval"||K==="schema"?fe=""+ae:K==="line"||K==="area"||K==="path"?fe=K:fe=ae+"-"+te;var Ae=this.groupScales;Object(i.F)(Ae)&&(Ae=Object(i.s)(this.getAttribute("color"),"scales",[]));for(var j=0,Ie=Ae.length;j<Ie;j++){var gr=Ae[j],Or=gr.field;fe=fe+"-"+c[Or]}var Br=this.getAdjust("dodge");if(Br){var Gr=Br.dodgeBy;Gr&&(fe=fe+"-"+c[Gr])}return this.getAdjust("jitter")&&(fe=fe+"-"+s.x+"-"+s.y),fe},h.prototype.getScaleFields=function(){var s=[],c={},m=this,j=m.attributeOption,K=m.labelOption,gt=m.tooltipOption;for(var Mt in j)if(j.hasOwnProperty(Mt)){var Xt=j[Mt];Xt.fields?_a(Xt.fields,s,c):Xt.values&&_a(Xt.values,s,c)}return K&&K.fields&&_a(K.fields,s,c),Object(i.M)(gt)&&gt.fields&&_a(gt.fields,s,c),s},h.prototype.changeVisible=function(s){d.prototype.changeVisible.call(this,s);for(var c=this.elements,m=0,j=c.length;m<j;m++){var K=c[m];K.changeVisible(s)}s?(this.container&&this.container.show(),this.labelsContainer&&this.labelsContainer.show()):(this.container&&this.container.hide(),this.labelsContainer&&this.labelsContainer.hide())},h.prototype.getGroupFields=function(){for(var s=[],c={},m=0,j=C.length;m<j;m++){var K=C[m],gt=this.attributeOption[K];gt&&gt.fields&&_a(gt.fields,s,c)}return s},h.prototype.getXYFields=function(){var s=this.attributeOption.position.fields,c=s[0],m=s[1];return[c,m]},h.prototype.getShapes=function(){return this.elements.map(function(s){return s.shape})},h.prototype.getOffscreenGroup=function(){if(!this.offscreenGroup){var s=this.container.getGroupBase();this.offscreenGroup=new s({})}return this.offscreenGroup},h.prototype.sort=function(s){if(!this.hasSorted)for(var c=this.getXScale(),m=c.field,j=0;j<s.length;j++){var K=s[j];K.sort(function(gt,Mt){return c.translate(gt[D][m])-c.translate(Mt[D][m])})}this.hasSorted=!0},h.prototype.adjustScale=function(){var s=this.getYScale();s&&this.getAdjust("stack")&&this.updateStackRange(s,this.beforeMappingData)},h.prototype.getShapeFactory=function(){var s=this.shapeType;if(!!bu(s))return this.shapeFactory||(this.shapeFactory=Object(i.e)(bu(s))),this.shapeFactory.coordinate=this.coordinate,this.shapeFactory.theme=this.theme.geometries[s]||{},this.shapeFactory},h.prototype.createShapePointsCfg=function(s){var c=this.getXScale(),m=this.getYScale(),j=this.normalizeValues(s[c.field],c),K;return m?K=this.normalizeValues(s[m.field],m):K=s.y?s.y:.1,{x:j,y:K,y0:m?m.scale(this.getYMinValue()):void 0}},h.prototype.createElement=function(s,c){c===void 0&&(c=!1);var m=this.container,j=this.getDrawCfg(s),K=this.getShapeFactory(),gt=new Vl({shapeFactory:K,container:m,offscreenGroup:this.getOffscreenGroup()});return gt.animate=this.animateOption,gt.geometry=this,gt.draw(j,c),gt},h.prototype.getDrawCfg=function(s){var c=s[D],m={mappingData:s,data:c,x:s.x,y:s.y,color:s.color,size:s.size,isInCircle:this.coordinate.isPolar,customInfo:this.customOption},j=s.shape;!j&&this.getShapeFactory()&&(j=this.getShapeFactory().defaultShapeType),m.shape=j;var K=this.theme.geometries[this.shapeType];m.defaultStyle=Object(i.s)(K,[j,"default"],{}).style,!m.defaultStyle&&this.getShapeFactory()&&(m.defaultStyle=this.getShapeFactory().getDefaultStyle(K));var gt=this.styleOption;return gt&&(m.style=this.getStyleCfg(gt,c)),this.generatePoints&&(m.points=s.points,m.nextPoints=s.nextPoints),m},h.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);for(var j=this,K=j.lastElementsMap,gt=j.elementsMap,Mt=j.elements,Xt=0,Jt=s.length;Xt<Jt;Xt++){var te=s[Xt],ae=this.getElementId(te);gt[ae]&&(ae=ae+"-"+c+"-"+Xt);var fe=K[ae];if(!fe)fe=this.createElement(te,m);else{var Ae=this.getDrawCfg(te),Ie=fe.getModel();(this.isCoordinateChanged||iu(Ae,Ie))&&(fe.animate=this.animateOption,fe.update(Ae)),delete K[ae]}Mt.push(fe),gt[ae]=fe}if(this.zIndexReversed){var gr=Mt.length;Mt.forEach(function(Or,Br){Or.shape.setZIndex(gr-Br)})}return Mt},h.prototype.getLabelType=function(){var s=this,c=s.labelOption,m=s.coordinate,j=s.type,K=m.type,gt=m.isTransposed,Mt=Object(i.s)(c,["cfg","type"]);return Mt||(K==="polar"?Mt=gt?"pie":"polar":K==="theta"?Mt="pie":j==="interval"||j==="polygon"?Mt="interval":Mt="base"),Mt},h.prototype.getYMinValue=function(){var s=this.getYScale(),c=s.min,m=s.max,j;return c>=0?j=c:m<=0?j=m:j=0,j},h.prototype.createAttrOption=function(s,c,m){if(Object(i.I)(c)||Object(i.M)(c))Object(i.M)(c)&&Object(i.G)(Object.keys(c),["values"])?Object(i.ib)(this.attributeOption,s,{fields:c.values}):Object(i.ib)(this.attributeOption,s,c);else{var j={};Object(i.K)(c)?j.values=[c]:j.fields=Wu(c),m&&(Object(i.H)(m)?j.callback=m:j.values=m),Object(i.ib)(this.attributeOption,s,j)}},h.prototype.initAttributes=function(){var s=this,c=this,m=c.attributes,j=c.attributeOption,K=c.theme,gt=c.shapeType;this.groupScales=[];var Mt={},Xt=function(fe){if(j.hasOwnProperty(fe)){var Ae=j[fe];if(!Ae)return{value:void 0};var Ie=Object(f.a)({},Ae),gr=Ie.callback,Or=Ie.values,Br=Ie.fields,Gr=Br===void 0?[]:Br,Tn=Gr.map(function(zn){var Ai=s.scales[zn];return Ai.isCategory&&!Mt[zn]&&C.includes(fe)&&(s.groupScales.push(Ai),Mt[zn]=!0),Ai});Ie.scales=Tn,fe!=="position"&&Tn.length===1&&Tn[0].type==="identity"?Ie.values=Tn[0].values:!gr&&!Or&&(fe==="size"?Ie.values=K.sizes:fe==="shape"?Ie.values=K.shapes[gt]||[]:fe==="color"&&(Tn.length?Ie.values=Tn[0].values.length<=10?K.colors10:K.colors20:Ie.values=K.colors10));var nn=Ee(fe);m[fe]=new nn(Ie)}};for(var Jt in j){var te=Xt(Jt);if(typeof te=="object")return te.value}},h.prototype.processData=function(s){this.hasSorted=!1;for(var c=this.getAttribute("position").scales,m=c.filter(function(nn){return nn.isCategory}),j=this.groupData(s),K=[],gt=0,Mt=j.length;gt<Mt;gt++){for(var Xt=j[gt],Jt=[],te=0,ae=Xt.length;te<ae;te++){var fe=Xt[te],Ae={};for(var Ie in fe)Ae[Ie]=fe[Ie];Ae[D]=fe;for(var gr=0,Or=m;gr<Or.length;gr++){var Br=Or[gr],Gr=Br.field;Ae[Gr]=Br.translate(Ae[Gr])}Jt.push(Ae)}K.push(Jt)}var Tn=this.adjustData(K);return this.beforeMappingData=Tn,Tn},h.prototype.adjustData=function(s){var c=this.adjustOption,m=this,j=m.intervalPadding,K=m.dodgePadding,gt=m.theme,Mt=this.maxColumnWidth||gt.maxColumnWidth,Xt=this.minColumnWidth||gt.minColumnWidth,Jt=this.columnWidthRatio||gt.columnWidthRatio,te=s;if(c){var ae=this.getXScale(),fe=this.getYScale(),Ae=ae.field,Ie=fe?fe.field:null,gr=tr(this.coordinate),Or=ae.values.length,Br=this.getAttribute("size"),Gr=void 0;Br&&(Gr=Br.values[0]);for(var Tn=0,nn=c.length;Tn<nn;Tn++){var zn=c[Tn],Ai=Object(f.a)({xField:Ae,yField:Ie,intervalPadding:j,dodgePadding:K,xDimensionLength:gr,groupNum:Or,defaultSize:Gr,maxColumnWidth:Mt,minColumnWidth:Xt,columnWidthRatio:Jt},zn),ii=zn.type;if(ii==="dodge"){var Qa=[];if(ae.isCategory||ae.type==="identity")Qa.push("x");else if(!fe)Qa.push("y");else throw new Error("dodge is not support linear attribute, please use category attribute!");Ai.adjustNames=Qa,Ai.dodgeRatio=Jt}else if(ii==="stack"){var zi=this.coordinate;if(!fe){Ai.height=zi.getHeight();var vo=this.getDefaultValue("size")||3;Ai.size=vo}!zi.isTransposed&&Object(i.I)(Ai.reverseOrder)&&(Ai.reverseOrder=!0)}var oo=Object(Y.getAdjust)(ii),qo=new oo(Ai);te=qo.process(te),this.adjusts[ii]=qo}}return te},h.prototype.groupData=function(s){for(var c=this.getGroupScales(),m=this.scaleDefs,j={},K=[],gt=0;gt<c.length;gt++){var Mt=c[gt],Xt=Mt.field;K.push(Xt),Object(i.s)(m,[Xt,"values"])&&(j[Xt]=m[Xt].values)}return Cc(s,K,j)},h.prototype.updateStackRange=function(s,c){for(var m=Object(i.q)(c),j=s.field,K=s.min,gt=s.max,Mt=0;Mt<m.length;Mt++){var Xt=m[Mt],Jt=Math.min.apply(null,Xt[j]),te=Math.max.apply(null,Xt[j]);Jt<K&&(K=Jt),te>gt&&(gt=te)}var ae=this.scaleDefs,fe={};K<s.min&&!Object(i.s)(ae,[j,"min"])&&(fe.min=K),gt>s.max&&!Object(i.s)(ae,[j,"max"])&&(fe.max=gt),s.change(fe)},h.prototype.beforeMapping=function(s){var c=s;if(this.sortable&&this.sort(c),this.generatePoints)for(var m=0,j=c.length;m<j;m++){var K=c[m];this.generateShapePoints(K);var gt=c[m+1];gt&&(this.generateShapePoints(gt),K[0].nextPoints=gt[0].points)}return c},h.prototype.generateShapePoints=function(s){for(var c=this.getShapeFactory(),m=this.getAttribute("shape"),j=0;j<s.length;j++){var K=s[j],gt=this.createShapePointsCfg(K),Mt=m?this.getAttributeValues(m,K):null,Xt=c.getShapePoints(Mt,gt);K.points=Xt}},h.prototype.normalizeValues=function(s,c){var m=[];if(Object(i.B)(s))for(var j=0;j<s.length;j++){var K=s[j];m.push(c.scale(K))}else m=c.scale(s);return m},h.prototype.mapping=function(s){for(var c=this.attributes,m=[],j=0;j<s.length;j++){var K=s[j],gt={_origin:K[D],points:K.points,nextPoints:K.nextPoints};for(var Mt in c)if(c.hasOwnProperty(Mt)){var Xt=c[Mt],Jt=Xt.names,te=this.getAttributeValues(Xt,K);if(Jt.length>1)for(var ae=0;ae<te.length;ae+=1){var fe=te[ae],Ae=Jt[ae];gt[Ae]=Object(i.B)(fe)&&fe.length===1?fe[0]:fe}else gt[Jt[0]]=te.length===1?te[0]:te}this.convertPoint(gt),m.push(gt)}return m},h.prototype.convertPoint=function(s){var c=s.x,m=s.y,j,K,gt,Mt=this.coordinate;if(Object(i.B)(c)&&Object(i.B)(m)){j=[],K=[];for(var Xt=0,Jt=0,te=c.length,ae=m.length;Xt<te&&Jt<ae;Xt+=1,Jt+=1)gt=Mt.convert({x:c[Xt],y:m[Jt]}),j.push(gt.x),K.push(gt.y)}else if(Object(i.B)(m)){K=[];for(var fe=0;fe<m.length;fe++){var Ae=m[fe];gt=Mt.convert({x:c,y:Ae}),j&&j!==gt.x?(Object(i.B)(j)||(j=[j]),j.push(gt.x)):j=gt.x,K.push(gt.y)}}else if(Object(i.B)(c)){j=[];for(var fe=0;fe<c.length;fe++){var Ie=c[fe];gt=Mt.convert({x:Ie,y:m}),K&&K!==gt.y?(Object(i.B)(K)||(K=[K]),K.push(gt.y)):K=gt.y,j.push(gt.x)}}else{var gr=Mt.convert({x:c,y:m});j=gr.x,K=gr.y}s.x=j,s.y=K},h.prototype.getStyleCfg=function(s,c){var m=s.fields,j=m===void 0?[]:m,K=s.callback,gt=s.cfg;if(gt)return gt;var Mt=j.map(function(Xt){return c[Xt]});return K.apply(void 0,Mt)},h.prototype.setCfg=function(s){var c=this,m=s.coordinate,j=s.data,K=s.theme,gt=s.scaleDefs;m&&(this.coordinate=m),j&&(this.data=j),gt&&(this.scaleDefs=gt,this.idFields=[],Object(i.j)(gt,function(Mt,Xt){Mt&&Mt.key&&c.idFields.push(Xt)})),K&&(this.theme=this.userTheme?Object(i.h)({},K,this.userTheme):K)},h.prototype.renderLabels=function(s,c){c===void 0&&(c=!1);var m=this.geometryLabel;if(!m){var j=this.getLabelType(),K=Xl(j);m=new K(this),this.geometryLabel=m}m.render(s,c);var gt=m.labelsRenderer.shapesMap;Object(i.j)(this.elementsMap,function(Mt,Xt){var Jt=nf(Xt,gt);if(Jt.length){Mt.labelShape=Jt;for(var te=0;te<Jt.length;te++)for(var ae=Jt[te],fe=ae.getChildren(),Ae=0;Ae<fe.length;Ae++){var Ie=fe[Ae];Ie.cfg.name=["element","label"],Ie.cfg.element=Mt}}})},h.prototype.canDoGroupAnimation=function(s){return!s&&this.animateOption&&(Object(i.s)(this.animateOption,"appear")===void 0||Object(i.s)(this.animateOption,"appear")&&Object(i.s)(this.animateOption,["appear","animation"])===void 0)},h}(et),Eu=zu,ku=Se.a.transform;function Iu(d,h,s){var c=ku(d.getMatrix(),[["t",h,s]]);d.setMatrix(c)}function Kl(d,h){var s=d.attr(),c=s.x,m=s.y,j=ku(d.getMatrix(),[["t",-c,-m],["r",h],["t",c,m]]);return j}function rl(d,h){var s=Kl(d,h);d.setMatrix(s)}function Ou(){return[1,0,0,0,1,0,0,0,1]}function bl(d,h){var s=d.getBBox(),c=(s.minX+s.maxX)/2,m=(s.minY+s.maxY)/2;d.applyToMatrix([c,m,1]);var j=ku(d.getMatrix(),[["t",-c,-m],["s",h,h],["t",c,m]]);d.setMatrix(j)}function Ms(d){return d.find(function(h){return h.get("type")==="text"})}function ju(d,h,s){s===void 0&&(s=[0,0,0,0]);var c=d.getChildren()[0];if(c){var m=c.clone();(h==null?void 0:h.rotate)&&rl(m,-h.rotate);var j=m.getCanvasBBox(),K=j.x,gt=j.y,Mt=j.width,Xt=j.height;m.destroy();var Jt=s;return Object(i.I)(Jt)?Jt=[2,2,2,2]:Object(i.K)(Jt)&&(Jt=new Array(4).fill(Jt)),{x:K-Jt[3],y:gt-Jt[0],width:Mt+Jt[1]+Jt[3],height:Xt+Jt[0]+Jt[2],rotation:(h==null?void 0:h.rotate)||0}}}function Ac(d,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(d.x+d.width+s,h.x+h.width+s)-Math.max(d.x-s,h.x-s)),m=Math.max(0,Math.min(d.y+d.height+s,h.y+h.height+s)-Math.max(d.y-s,h.y-s));return c*m}function $l(d,h){var s=d.getBBox();return Object(i.kb)(h,function(c){var m=c.getBBox();return Ac(s,m,2)>0})}function Sc(d,h,s){var c=s.data,m=s.origin,j=s.animateCfg,K=s.coordinate,gt=Object(i.s)(j,"update");d.set("data",c),d.set("origin",m),d.set("animateCfg",j),d.set("coordinate",K),d.set("visible",h.get("visible")),d.getChildren().forEach(function(Mt,Xt){var Jt=h.getChildByIndex(Xt);if(!Jt)d.removeChild(Mt),Mt.remove(!0);else{Mt.set("data",c),Mt.set("origin",m),Mt.set("animateCfg",j),Mt.set("coordinate",K);var te=so(Mt,Jt);gt?Zs(Mt,gt,{toAttrs:te,coordinate:K}):Mt.attr(te),Jt.isGroup()&&Sc(Mt,Jt,s)}}),Object(i.j)(h.getChildren(),function(Mt,Xt){Xt>=d.getCount()&&(Mt.destroyed||d.add(Mt))})}var El=function(){function d(h){this.shapesMap={},this.lastShapesMap={};var s=h.layout,c=h.container;this.layout=s,this.container=c}return d.prototype.render=function(h,s,c){var m=this;c===void 0&&(c=!1),this.shapesMap={};var j=this.container,K=this.createOffscreenGroup();if(h.length){for(var gt=0,Mt=h;gt<Mt.length;gt++){var Xt=Mt[gt];Xt&&this.renderLabel(Xt,K)}this.doLayout(h,s),this.renderLabelLine(h),this.renderLabelBackground(h),this.adjustLabel(h)}var Jt=this.lastShapesMap,te=this.shapesMap;Object(i.j)(te,function(ae,fe){if(ae.destroyed)delete te[fe];else{if(Jt[fe]){var Ae=ae.get("data"),Ie=ae.get("origin"),gr=ae.get("coordinate"),Or=ae.get("animateCfg"),Br=Jt[fe];Sc(Br,te[fe],{data:Ae,origin:Ie,animateCfg:Or,coordinate:gr}),m.shapesMap[fe]=Br}else{j.add(ae);var Gr=Object(i.s)(ae.get("animateCfg"),c?"enter":"appear");Gr&&Zs(ae,Gr,{toAttrs:Object(f.a)({},ae.attr()),coordinate:ae.get("coordinate")})}delete Jt[fe]}}),Object(i.j)(Jt,function(ae){var fe=Object(i.s)(ae.get("animateCfg"),"leave");fe?Zs(ae,fe,{toAttrs:null,coordinate:ae.get("coordinate")}):ae.remove(!0)}),this.lastShapesMap=te,K.destroy()},d.prototype.clear=function(){this.container.clear(),this.shapesMap={},this.lastShapesMap={}},d.prototype.destroy=function(){this.container.destroy(),this.shapesMap=null,this.lastShapesMap=null},d.prototype.renderLabel=function(h,s){var c=h.id,m=h.elementId,j=h.data,K=h.mappingData,gt=h.coordinate,Mt=h.animate,Xt=h.content,Jt={id:c,elementId:m,data:j,origin:Object(f.a)(Object(f.a)({},K),{data:K[D]}),coordinate:gt},te=s.addGroup(Object(f.a)({name:"label",animateCfg:this.animate===!1||Mt===null||Mt===!1?!1:Object(i.h)({},this.animate,Mt)},Jt)),ae;if(Xt.isGroup&&Xt.isGroup()||Xt.isShape&&Xt.isShape()){var fe=Xt.getCanvasBBox(),Ae=fe.width,Ie=fe.height,gr=Object(i.s)(h,"textAlign","left"),Or=h.x,Br=h.y-Ie/2;gr==="center"?Or=Or-Ae/2:(gr==="right"||gr==="end")&&(Or=Or-Ae),Iu(Xt,Or,Br),ae=Xt,te.add(Xt)}else{var Gr=Object(i.s)(h,["style","fill"]);ae=te.addShape("text",Object(f.a)({attrs:Object(f.a)(Object(f.a)({x:h.x,y:h.y,textAlign:h.textAlign,textBaseline:Object(i.s)(h,"textBaseline","middle"),text:h.content},h.style),{fill:Object(i.J)(Gr)?h.color:Gr})},Jt))}h.rotate&&rl(ae,h.rotate),this.shapesMap[c]=te},d.prototype.doLayout=function(h,s){var c=this;if(this.layout){var m=Object(i.B)(this.layout)?this.layout:[this.layout];Object(i.j)(m,function(j){var K=Yo(Object(i.s)(j,"type",""));if(K){var gt=[],Mt=[];Object(i.j)(c.shapesMap,function(Xt,Jt){gt.push(Xt),Mt.push(s[Xt.get("elementId")])}),K(h,gt,Mt,c.region,j.cfg)}})}},d.prototype.renderLabelLine=function(h){var s=this;Object(i.j)(h,function(c){var m=Object(i.s)(c,"coordinate");if(!(!c||!m)){var j=m.getCenter(),K=m.getRadius();if(!!c.labelLine){var gt=Object(i.s)(c,"labelLine",{}),Mt=c.id,Xt=gt.path;if(!Xt){var Jt=pa(j.x,j.y,K,c.angle);Xt=[["M",Jt.x,Jt.y],["L",c.x,c.y]]}var te=s.shapesMap[Mt];te.destroyed||te.addShape("path",{capture:!1,attrs:Object(f.a)({path:Xt,stroke:c.color?c.color:Object(i.s)(c,["style","fill"],"#000"),fill:null},gt.style),id:Mt,origin:c.mappingData,data:c.data,coordinate:c.coordinate})}}})},d.prototype.renderLabelBackground=function(h){var s=this;Object(i.j)(h,function(c){var m=Object(i.s)(c,"coordinate"),j=Object(i.s)(c,"background");if(!(!j||!m)){var K=c.id,gt=s.shapesMap[K];if(!gt.destroyed){var Mt=gt.getChildren()[0];if(Mt){var Xt=ju(gt,c,j.padding),Jt=Xt.rotation,te=Object(f.e)(Xt,["rotation"]),ae=gt.addShape("rect",{attrs:Object(f.a)(Object(f.a)({},te),j.style||{}),id:K,origin:c.mappingData,data:c.data,coordinate:c.coordinate});if(ae.setZIndex(-1),Jt){var fe=Mt.getMatrix();ae.setMatrix(fe)}}}}})},d.prototype.createOffscreenGroup=function(){var h=this.container,s=h.getGroupBase(),c=new s({});return c},d.prototype.adjustLabel=function(h){var s=this;Object(i.j)(h,function(c){if(c){var m=c.id,j=s.shapesMap[m];if(!j.destroyed){var K=j.findAll(function(gt){return gt.get("type")!=="path"});Object(i.j)(K,function(gt){gt&&(c.offsetX&&gt.attr("x",gt.attr("x")+c.offsetX),c.offsetY&&gt.attr("y",gt.attr("y")+c.offsetY))})}}})},d}(),Mc=El;function xu(d){var h=0;return Object(i.j)(d,function(s){h+=s}),h/d.length}var Tc=function(){function d(h){this.geometry=h}return d.prototype.getLabelItems=function(h){var s=this,c=[],m=this.getLabelCfgs(h);return Object(i.j)(h,function(j,K){var gt=m[K];if(!gt||Object(i.I)(j.x)||Object(i.I)(j.y)){c.push(null);return}var Mt=Object(i.B)(gt.content)?gt.content:[gt.content];gt.content=Mt;var Xt=Mt.length;Object(i.j)(Mt,function(Jt,te){if(Object(i.I)(Jt)||Jt===""){c.push(null);return}var ae=Object(f.a)(Object(f.a)({},gt),s.getLabelPoint(gt,j,te));ae.textAlign||(ae.textAlign=s.getLabelAlign(ae,te,Xt)),ae.offset<=0&&(ae.labelLine=null),c.push(ae)})}),c},d.prototype.render=function(h,s){s===void 0&&(s=!1);var c=this.getLabelItems(h),m=this.getLabelsRenderer(),j=this.getGeometryShapes();m.render(c,j,s)},d.prototype.clear=function(){var h=this.labelsRenderer;h&&h.clear()},d.prototype.destroy=function(){var h=this.labelsRenderer;h&&h.destroy(),this.labelsRenderer=null},d.prototype.getCoordinate=function(){return this.geometry.coordinate},d.prototype.getDefaultLabelCfg=function(h,s){var c=this.geometry,m=c.type,j=c.theme;return m==="polygon"||m==="interval"&&s==="middle"||h<0&&!["line","point","path"].includes(m)?Object(i.s)(j,"innerLabels",{}):Object(i.s)(j,"labels",{})},d.prototype.getThemedLabelCfg=function(h){var s=this.geometry,c=this.getDefaultLabelCfg(),m=s.type,j=s.theme,K;return m==="polygon"||h.offset<0&&!["line","point","path"].includes(m)?K=Object(i.h)({},c,j.innerLabels,h):K=Object(i.h)({},c,j.labels,h),K},d.prototype.setLabelPosition=function(h,s,c,m){},d.prototype.getLabelOffset=function(h){var s=this.getCoordinate(),c=this.getOffsetVector(h);return s.isTransposed?c[0]:c[1]},d.prototype.getLabelOffsetPoint=function(h,s,c){var m=h.offset,j=this.getCoordinate(),K=j.isTransposed,gt=K?"x":"y",Mt=K?1:-1,Xt={x:0,y:0};return s>0||c===1?Xt[gt]=m*Mt:Xt[gt]=m*Mt*-1,Xt},d.prototype.getLabelPoint=function(h,s,c){var m=this.getCoordinate(),j=h.content.length;function K(gr,Or,Br){Br===void 0&&(Br=!1);var Gr=gr;return Object(i.B)(Gr)&&(h.content.length===1?Br?Gr=xu(Gr):Gr.length<=2?Gr=Gr[gr.length-1]:Gr=xu(Gr):Gr=Gr[Or]),Gr}var gt={content:h.content[c],x:0,y:0,start:{x:0,y:0},color:"#fff"},Mt=Object(i.B)(s.shape)?s.shape[0]:s.shape,Xt=Mt==="funnel"||Mt==="pyramid";if(this.geometry.type==="polygon"){var Jt=Ki(s.x,s.y);gt.x=Jt[0],gt.y=Jt[1]}else this.geometry.type==="interval"&&!Xt?(gt.x=K(s.x,c,!0),gt.y=K(s.y,c)):(gt.x=K(s.x,c),gt.y=K(s.y,c));if(Xt){var te=Object(i.s)(s,"nextPoints"),ae=Object(i.s)(s,"points");if(te){var fe=m.convert(ae[1]),Ae=m.convert(te[1]);gt.x=(fe.x+Ae.x)/2,gt.y=(fe.y+Ae.y)/2}else if(Mt==="pyramid"){var fe=m.convert(ae[1]),Ae=m.convert(ae[2]);gt.x=(fe.x+Ae.x)/2,gt.y=(fe.y+Ae.y)/2}}h.position&&this.setLabelPosition(gt,s,c,h.position);var Ie=this.getLabelOffsetPoint(h,c,j);return gt.start={x:gt.x,y:gt.y},gt.x+=Ie.x,gt.y+=Ie.y,gt.color=s.color,gt},d.prototype.getLabelAlign=function(h,s,c){var m="center",j=this.getCoordinate();if(j.isTransposed){var K=h.offset;K<0?m="right":K===0?m="center":m="left",c>1&&s===0&&(m==="right"?m="left":m==="left"&&(m="right"))}return m},d.prototype.getLabelId=function(h){var s=this.geometry,c=s.type,m=s.getXScale(),j=s.getYScale(),K=h[D],gt=s.getElementId(h);return c==="line"||c==="area"?gt+=" "+K[m.field]:c==="path"&&(gt+=" "+K[m.field]+"-"+K[j.field]),gt},d.prototype.getLabelsRenderer=function(){var h=this.geometry,s=h.labelsContainer,c=h.labelOption,m=h.canvasRegion,j=h.animateOption,K=this.geometry.coordinate,gt=this.labelsRenderer;return gt||(gt=new Mc({container:s,layout:Object(i.s)(c,["cfg","layout"],{type:this.defaultLayout})}),this.labelsRenderer=gt),gt.region=m,gt.animate=j?Rs("label",K):!1,gt},d.prototype.getLabelCfgs=function(h){var s=this,c=this.geometry,m=c.labelOption,j=c.scales,K=c.coordinate,gt=m,Mt=gt.fields,Xt=gt.callback,Jt=gt.cfg,te=Mt.map(function(fe){return j[fe]}),ae=[];return Object(i.j)(h,function(fe,Ae){var Ie=fe[D],gr=s.getLabelText(Ie,te),Or;if(Xt){var Br=Mt.map(function(Ai){return Ie[Ai]});if(Or=Xt.apply(void 0,Br),Object(i.I)(Or)){ae.push(null);return}}var Gr=Object(f.a)(Object(f.a)({id:s.getLabelId(fe),elementId:s.geometry.getElementId(fe),data:Ie,mappingData:fe,coordinate:K},Jt),Or);Object(i.H)(Gr.position)&&(Gr.position=Gr.position(Ie,fe,Ae));var Tn=s.getLabelOffset(Gr.offset||0),nn=s.getDefaultLabelCfg(Tn,Gr.position);Gr=Object(i.h)({},nn,Gr),Gr.offset=s.getLabelOffset(Gr.offset||0);var zn=Gr.content;Object(i.H)(zn)?Gr.content=zn(Ie,fe,Ae):Object(i.Q)(zn)&&(Gr.content=gr[0]),ae.push(Gr)}),ae},d.prototype.getLabelText=function(h,s){var c=[];return Object(i.j)(s,function(m){var j=h[m.field];Object(i.B)(j)?j=j.map(function(K){return m.getText(K)}):j=m.getText(j),Object(i.I)(j)||j===""?c.push(null):c.push(j)}),c},d.prototype.getOffsetVector=function(h){h===void 0&&(h=0);var s=this.getCoordinate(),c=0;return Object(i.K)(h)&&(c=h),s.isTransposed?s.applyMatrix(c,0):s.applyMatrix(0,c)},d.prototype.getGeometryShapes=function(){var h=this.geometry,s={};return Object(i.j)(h.elementsMap,function(c,m){s[m]=c.shape}),Object(i.j)(h.getOffscreenGroup().getChildren(),function(c){var m=h.getElementId(c.get("origin").mappingData);s[m]=c}),s},d}(),Ts=Tc,Vf=a("WXeg");function af(d,h,s){if(!d)return s;var c;if(d.callback&&d.callback.length>1){var m=Array(d.callback.length-1).fill("");c=d.mapping.apply(d,Object(f.g)([h],m)).join("")}else c=d.mapping(h).join("");return c||s}var jt={hexagon:function(h,s,c){var m=c/2*Math.sqrt(3);return[["M",h,s-c],["L",h+m,s-c/2],["L",h+m,s+c/2],["L",h,s+c],["L",h-m,s+c/2],["L",h-m,s-c/2],["Z"]]},bowtie:function(h,s,c){var m=c-1.5;return[["M",h-c,s-m],["L",h+c,s+m],["L",h+c,s-m],["L",h-c,s+m],["Z"]]},cross:function(h,s,c){return[["M",h-c,s-c],["L",h+c,s+c],["M",h+c,s-c],["L",h-c,s+c]]},tick:function(h,s,c){return[["M",h-c/2,s-c],["L",h+c/2,s-c],["M",h,s-c],["L",h,s+c],["M",h-c/2,s+c],["L",h+c/2,s+c]]},plus:function(h,s,c){return[["M",h-c,s],["L",h+c,s],["M",h,s-c],["L",h,s+c]]},hyphen:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},line:function(h,s,c){return[["M",h,s-c],["L",h,s+c]]}},Gt=["line","cross","tick","plus","hyphen"];function Pt(d,h){return Object(i.H)(h)?h(d):Object(i.h)({},d,h)}function Yt(d,h){var s=d.symbol;if(Object(i.O)(s)&&Gt.indexOf(s)!==-1){var c=Object(i.s)(d,"style",{}),m=Object(i.s)(c,"lineWidth",1),j=c.stroke||c.fill||h;d.style=Object(i.h)({},d.style,{lineWidth:m,stroke:j,fill:null})}}function _t(d){var h=d.symbol;Object(i.O)(h)&&jt[h]&&(d.symbol=jt[h])}function se(d){return d.startsWith(p.LEFT)||d.startsWith(p.RIGHT)?"vertical":"horizontal"}function Ue(d,h,s,c,m){var j=s.getScale(s.type);if(j.isCategory){var K=j.field,gt=h.getAttribute("color"),Mt=h.getAttribute("shape"),Xt=d.getTheme().defaultColor,Jt=h.coordinate.isPolar;return j.getTicks().map(function(te){var ae,fe=te.text,Ae=te.value,Ie=fe,gr=j.invert(Ae),Or=d.filterFieldData(K,[(ae={},ae[K]=gr,ae)]).length===0;Object(i.j)(d.views,function(nn){var zn;nn.filterFieldData(K,[(zn={},zn[K]=gr,zn)]).length||(Or=!0)});var Br=af(gt,gr,Xt),Gr=af(Mt,gr,"point"),Tn=h.getShapeMarker(Gr,{color:Br,isInPolar:Jt});return Tn=Object(i.h)({},c,Tn,ya(Object(f.a)({},m),["style"])),Yt(Tn,Br),m&&m.style&&(Tn.style=Pt(Tn.style,m.style)),_t(Tn),{id:gr,name:Ie,value:gr,marker:Tn,unchecked:Or}})}return[]}function vr(d,h,s){return s.map(function(c){var m=Object(i.h)({},d,h,c.marker);return _t(m),c.marker=m,c})}function Jr(d,h){var s=Object(i.s)(d,["components","legend"],{});return Object(i.h)({},Object(i.s)(s,["common"],{}),Object(i.h)({},Object(i.s)(s,[h],{})))}var Wr="4.1.16",mn={getLegendItems:Ue,translate:Iu,rotate:rl,zoom:bl,transform:ku,getAngle:Ci,getSectorPath:ga,polarToCartesian:pa,getDelegationObject:is,getTooltipItems:Ha},Fn={100:"#000",95:"#0D0D0D",85:"#262626",65:"#595959",45:"#8C8C8C",25:"#BFBFBF",15:"#D9D9D9",6:"#F0F0F0"},Ur={100:"#FFFFFF",95:"#F2F2F2",85:"#D9D9D9",65:"#A6A6A6",45:"#737373",25:"#404040",15:"#262626",6:"#0F0F0F"},ea=["#5B8FF9","#5AD8A6","#5D7092","#F6BD16","#E86452","#6DC8EC","#945FB9","#FF9845","#1E9493","#FF99C3"],ri=["#5B8FF9","#CDDDFD","#5AD8A6","#CDF3E4","#5D7092","#CED4DE","#F6BD16","#FCEBB9","#E86452","#F8D0CB","#6DC8EC","#D3EEF9","#945FB9","#DECFEA","#FF9845","#FFE0C7","#1E9493","#BBDEDE","#FF99C3","#FFE0ED"],ma=["#B8E1FF","#9AC5FF","#7DAAFF","#5B8FF9","#3D76DD","#085EC0","#0047A5","#00318A","#001D70"],ni=function(h){h===void 0&&(h={});var s=h.backgroundColor,c=s===void 0?"#141414":s,m=h.subColor,j=m===void 0?"rgba(255,255,255,0.05)":m,K=h.paletteQualitative10,gt=K===void 0?ea:K,Mt=h.paletteQualitative20,Xt=Mt===void 0?ri:Mt,Jt=h.paletteSemanticRed,te=Jt===void 0?"#F4664A":Jt,ae=h.paletteSemanticGreen,fe=ae===void 0?"#30BF78":ae,Ae=h.paletteSemanticYellow,Ie=Ae===void 0?"#FAAD14":Ae,gr=h.paletteSequence,Or=gr===void 0?ma:gr,Br=h.fontFamily,Gr=Br===void 0?`"-apple-system", "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol",
    "Noto Color Emoji"`:Br,Tn=h.brandColor,nn=Tn===void 0?gt[0]:Tn;return{backgroundColor:c,brandColor:nn,subColor:j,paletteQualitative10:gt,paletteQualitative20:Xt,paletteSemanticRed:te,paletteSemanticGreen:fe,paletteSemanticYellow:Ie,paletteSequence:Or,fontFamily:Gr,axisLineBorderColor:Ur[25],axisLineBorder:1,axisLineDash:null,axisTitleTextFillColor:Ur[65],axisTitleTextFontSize:12,axisTitleTextLineHeight:12,axisTitleTextFontWeight:"normal",axisTitleSpacing:12,axisTickLineBorderColor:Ur[25],axisTickLineLength:4,axisTickLineBorder:1,axisSubTickLineBorderColor:Ur[15],axisSubTickLineLength:2,axisSubTickLineBorder:1,axisLabelFillColor:Ur[45],axisLabelFontSize:12,axisLabelLineHeight:12,axisLabelFontWeight:"normal",axisLabelOffset:8,axisGridBorderColor:Ur[15],axisGridBorder:1,axisGridLineDash:null,legendTitleTextFillColor:Ur[45],legendTitleTextFontSize:12,legendTitleTextLineHeight:21,legendTitleTextFontWeight:"normal",legendMarkerColor:ea[0],legendMarkerSpacing:8,legendMarkerSize:4,legendCircleMarkerSize:4,legendSquareMarkerSize:4,legendLineMarkerSize:5,legendItemNameFillColor:Ur[65],legendItemNameFontSize:12,legendItemNameLineHeight:12,legendItemNameFontWeight:"normal",legendItemSpacing:24,legendItemMarginBottom:12,legendSpacing:16,legendPadding:[8,8,8,8],legendHorizontalPadding:[8,0,8,0],legendVerticalPadding:[0,8,0,8],legendPageNavigatorMarkerSize:12,legendPageNavigatorMarkerInactiveFillColor:Ur[45],legendPageNavigatorMarkerInactiveFillOpacity:.45,legendPageNavigatorMarkerFillColor:Ur[45],legendPageNavigatorMarkerFillOpacity:1,legendPageNavigatorTextFillColor:Ur[65],legendPageNavigatorTextFontSize:12,sliderRailFillColor:Ur[15],sliderRailBorder:0,sliderRailBorderColor:null,sliderRailWidth:100,sliderRailHeight:12,sliderLabelTextFillColor:Ur[45],sliderLabelTextFontSize:12,sliderLabelTextLineHeight:12,sliderLabelTextFontWeight:"normal",sliderHandlerFillColor:Fn[6],sliderHandlerWidth:10,sliderHandlerHeight:14,sliderHandlerBorder:1,sliderHandlerBorderColor:Fn[25],annotationArcBorderColor:Ur[15],annotationArcBorder:1,annotationLineBorderColor:Ur[25],annotationLineBorder:1,annotationLineDash:null,annotationTextFillColor:Ur[65],annotationTextFontSize:12,annotationTextLineHeight:12,annotationTextFontWeight:"normal",annotationTextBorderColor:null,annotationTextBorder:0,annotationRegionFillColor:Ur[100],annotationRegionFillOpacity:.06,annotationRegionBorder:0,annotationRegionBorderColor:null,annotationDataMarkerLineLength:16,tooltipCrosshairsBorderColor:Ur[25],tooltipCrosshairsBorder:1,tooltipCrosshairsLineDash:null,tooltipContainerFillColor:"#1f1f1f",tooltipContainerFillOpacity:.95,tooltipContainerShadow:"0px 2px 4px rgba(0,0,0,.5)",tooltipContainerBorderRadius:3,tooltipTextFillColor:Ur[65],tooltipTextFontSize:12,tooltipTextLineHeight:12,tooltipTextFontWeight:"bold",labelFillColor:Ur[65],labelFillColorDark:"#2c3542",labelFillColorLight:"#ffffff",labelFontSize:12,labelLineHeight:12,labelFontWeight:"normal",labelBorderColor:null,labelBorder:0,innerLabelFillColor:Fn[100],innerLabelFontSize:12,innerLabelLineHeight:12,innerLabelFontWeight:"normal",innerLabelBorderColor:null,innerLabelBorder:0,overflowLabelFillColor:Ur[65],overflowLabelFillColorDark:"#2c3542",overflowLabelFillColorLight:"#ffffff",overflowLabelFontSize:12,overflowLabelLineHeight:12,overflowLabelFontWeight:"normal",overflowLabelBorderColor:Fn[100],overflowLabelBorder:1,labelLineBorder:1,labelLineBorderColor:Ur[25],cSliderRailHieght:16,cSliderBackgroundFillColor:"#416180",cSliderBackgroundFillOpacity:.05,cSliderForegroundFillColor:"#5B8FF9",cSliderForegroundFillOpacity:.15,cSliderHandlerHeight:24,cSliderHandlerWidth:10,cSliderHandlerFillColor:"#F7F7F7",cSliderHandlerFillOpacity:1,cSliderHandlerHighlightFillColor:"#FFF",cSliderHandlerBorderColor:"#BFBFBF",cSliderHandlerBorder:1,cSliderHandlerBorderRadius:2,cSliderTextFillColor:"#fff",cSliderTextFillOpacity:.45,cSliderTextFontSize:12,cSliderTextLineHeight:12,cSliderTextFontWeight:"normal",cSliderTextBorderColor:null,cSliderTextBorder:0,scrollbarTrackFillColor:"rgba(255,255,255,0.65)",scrollbarThumbFillColor:"rgba(0,0,0,0.35)",scrollbarThumbHighlightFillColor:"rgba(0,0,0,0.45)",pointFillColor:ea[0],pointFillOpacity:.95,pointSize:4,pointBorder:1,pointBorderColor:Fn[100],pointBorderOpacity:1,pointActiveBorderColor:Ur[100],pointSelectedBorder:2,pointSelectedBorderColor:Ur[100],pointInactiveFillOpacity:.3,pointInactiveBorderOpacity:.3,hollowPointSize:4,hollowPointBorder:1,hollowPointBorderColor:ea[0],hollowPointBorderOpacity:.95,hollowPointFillColor:Fn[100],hollowPointActiveBorder:1,hollowPointActiveBorderColor:Ur[100],hollowPointActiveBorderOpacity:1,hollowPointSelectedBorder:2,hollowPointSelectedBorderColor:Ur[100],hollowPointSelectedBorderOpacity:1,hollowPointInactiveBorderOpacity:.3,lineBorder:2,lineBorderColor:ea[0],lineBorderOpacity:1,lineActiveBorder:3,lineSelectedBorder:3,lineInactiveBorderOpacity:.3,areaFillColor:ea[0],areaFillOpacity:.25,areaActiveFillColor:ea[0],areaActiveFillOpacity:.5,areaSelectedFillColor:ea[0],areaSelectedFillOpacity:.5,areaInactiveFillOpacity:.3,hollowAreaBorderColor:ea[0],hollowAreaBorder:2,hollowAreaBorderOpacity:1,hollowAreaActiveBorder:3,hollowAreaActiveBorderColor:Ur[100],hollowAreaSelectedBorder:3,hollowAreaSelectedBorderColor:Ur[100],hollowAreaInactiveBorderOpacity:.3,intervalFillColor:ea[0],intervalFillOpacity:.95,intervalActiveBorder:1,intervalActiveBorderColor:Ur[100],intervalActiveBorderOpacity:1,intervalSelectedBorder:2,intervalSelectedBorderColor:Ur[100],intervalSelectedBorderOpacity:1,intervalInactiveBorderOpacity:.3,intervalInactiveFillOpacity:.3,hollowIntervalBorder:2,hollowIntervalBorderColor:ea[0],hollowIntervalBorderOpacity:1,hollowIntervalFillColor:Fn[100],hollowIntervalActiveBorder:2,hollowIntervalActiveBorderColor:Ur[100],hollowIntervalSelectedBorder:3,hollowIntervalSelectedBorderColor:Ur[100],hollowIntervalSelectedBorderOpacity:1,hollowIntervalInactiveBorderOpacity:.3}},wn=ni(),Hn=a("U8jP"),ba=a("v7Ed");function Ea(d){return d?!1:d==null||isNaN(d)}function ja(d){if(Object(i.B)(d))return Ea(d[1].y);var h=d.y;return Object(i.B)(h)?Ea(h[0]):Ea(h)}function Ja(d,h,s){if(h===void 0&&(h=!1),s===void 0&&(s=!0),!d.length||d.length===1&&!s)return[];if(h){for(var c=[],m=0,j=d.length;m<j;m++){var K=d[m];ja(K)||c.push(K)}return[c]}for(var gt=[],Mt=[],m=0,j=d.length;m<j;m++){var K=d[m];ja(K)?Mt.length&&(Mt.length===1&&!s||gt.push(Mt),Mt=[]):Mt.push(K)}return Mt.length&&gt.push(Mt),gt}function ca(d,h,s,c){c===void 0&&(c="");var m=d.style,j=m===void 0?{}:m,K=d.defaultStyle,gt=d.color,Mt=d.size,Xt=Object(f.a)(Object(f.a)({},K),j);return gt&&(h&&(j.stroke||(Xt.stroke=gt)),s&&(j.fill||(Xt.fill=gt))),c&&Object(i.I)(j[c])&&!Object(i.I)(Mt)&&(Xt[c]=Mt),Xt}function Ma(d){return Object(i.h)({},{fill:"#CCD6EC",fillOpacity:.3},Object(i.s)(d,["background","style"]))}function oi(d){var h=d.x,s=Object(i.B)(d.y)?d.y:[d.y];return s.map(function(c,m){return{x:Object(i.B)(h)?h[m]:h,y:c}})}var ai={line:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dot:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},dash:function(h,s,c){return[["M",h-c,s],["L",h+c,s]]},smooth:function(h,s,c){return[["M",h-c,s],["A",c/2,c/2,0,1,1,h,s],["A",c/2,c/2,0,1,0,h+c,s]]},hv:function(h,s,c){return[["M",h-c-1,s-2.5],["L",h,s-2.5],["L",h,s+2.5],["L",h+c+1,s+2.5]]},vh:function(h,s,c){return[["M",h-c-1,s+2.5],["L",h,s+2.5],["L",h,s-2.5],["L",h+c+1,s-2.5]]},hvh:function(h,s,c){return[["M",h-(c+1),s+2.5],["L",h-c/2,s+2.5],["L",h-c/2,s-2.5],["L",h+c/2,s-2.5],["L",h+c/2,s+2.5],["L",h+c+1,s+2.5]]},vhv:function(h,s){return[["M",h-5,s+2.5],["L",h-5,s],["L",h,s],["L",h,s-3],["L",h,s+3],["L",h+6.5,s+3]]}};function gi(d,h){var s=d.color;return{symbol:ai[h],style:{lineWidth:2,r:6,stroke:s}}}function ti(d,h,s){for(var c=d.isStack,m=d.connectNulls,j=d.isInCircle,K=d.showSinglePoint,gt=ca(d,!0,!1,"lineWidth"),Mt=Ja(d.points,m,K),Xt=[],Jt=0,te=Mt.length;Jt<te;Jt++){var ae=Mt[Jt];Xt=Xt.concat(Ga(ae,j,c,h,s,gt))}return gt.path=Xt,gt}function Pi(d,h,s,c,m){if(d.length===1)return[["M",d[0].x,d[0].y-m.lineWidth/2],["L",d[0].x,d[0].y],["L",d[0].x,d[0].y+m.lineWidth/2]];var j;return s?(h&&d.length&&d.push({x:d[0].x,y:d[0].y}),j=Eo(d,!1,c)):(j=bo(d,!1),h&&j.push(["Z"])),j}function di(d,h,s,c,m,j){var K=[],gt=[];Object(i.j)(d,function(Jt){var te=oi(Jt);K.push(te[1]),gt.push(te[0])});var Mt=Pi(K,h,c,m,j),Xt=Pi(gt,h,c,m,j);return s?Mt:Mt.concat(Xt)}function Ga(d,h,s,c,m,j){if(d.length){var K=d[0];return Object(i.B)(K.y)?di(d,h,s,c,m,j):Pi(d,h,c,m,j)}return[]}var ui=au("line",{defaultShapeType:"line"});Object(i.j)(["line","dot","dash","smooth"],function(d){io("line",d,{draw:function(s,c){var m=d==="smooth",j;if(m){var K=this.coordinate,gt=K.start,Mt=K.end;j=[[gt.x,Mt.y],[Mt.x,gt.y]]}var Xt=ti(s,m,j),Jt=c.addShape({type:"path",attrs:Xt,name:"line",capture:!m});return Jt},getMarker:function(s){return gi(s,d)}})});var Vi=ui,Ui=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.type="path",c.shapeType="line";var m=s.connectNulls,j=m===void 0?!1:m,K=s.showSinglePoint,gt=K===void 0?!0:K;return c.connectNulls=j,c.showSinglePoint=gt,c}return h.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);var j=this,K=j.lastElementsMap,gt=j.elementsMap,Mt=j.elements,Xt=j.container,Jt=this.getElementId(s),te=this.getShapeInfo(s),ae=K[Jt];if(ae){var Ae=ae.getModel();(this.isCoordinateChanged||iu(Ae,te))&&(ae.animate=this.animateOption,ae.update(te)),delete K[Jt]}else{var fe=this.getShapeFactory();ae=new Vl({shapeFactory:fe,container:Xt,offscreenGroup:this.getOffscreenGroup()}),ae.geometry=this,ae.animate=this.animateOption,ae.draw(te,m)}return Mt.push(ae),gt[Jt]=ae,Mt},h.prototype.getPointsAndData=function(s){for(var c=[],m=[],j=0,K=s.length;j<K;j++){var gt=s[j];c.push({x:gt.x,y:gt.y}),m.push(gt[D])}return{points:c,data:m}},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]),m=this.getPointsAndData(s),j=m.points,K=m.data;return c.mappingData=s,c.data=K,c.isStack=!!this.getAdjust("stack"),c.points=j,c.connectNulls=this.connectNulls,c.showSinglePoint=this.showSinglePoint,c},h}(Eu),uo=Ui;function ho(d,h,s,c,m){var j=[];if(d.length){for(var K=[],gt=[],Mt=0,Xt=d.length;Mt<Xt;Mt++){var Jt=d[Mt];K.push(Jt[1]),gt.push(Jt[0])}gt=gt.reverse(),Object(i.j)([K,gt],function(te,ae){var fe=[],Ae=c.parsePoints(te),Ie=Ae[0];K.length===1&&gt.length===1?fe=ae===0?[["M",Ie.x-.5,Ie.y],["L",Ie.x+.5,Ie.y]]:[["L",Ie.x+.5,Ie.y],["L",Ie.x-.5,Ie.y]]:(h&&Ae.push({x:Ie.x,y:Ie.y}),s?fe=Eo(Ae,!1,m):fe=bo(Ae,!1),ae>0&&(fe[0][0]="L")),j=j.concat(fe)}),j.push(["Z"])}return j}function Ji(d,h,s,c,m){for(var j=ca(d,h,!h,"lineWidth"),K=d.connectNulls,gt=d.isInCircle,Mt=d.points,Xt=d.showSinglePoint,Jt=Ja(Mt,K,Xt),te=[],ae=0,fe=Jt.length;ae<fe;ae++){var Ae=Jt[ae];te=te.concat(ho(Ae,gt,s,c,m))}return j.path=te,j}function Fi(d){var h=d.start,s=d.end;return[[h.x,s.y],[s.x,h.y]]}var us=au("area",{defaultShapeType:"area",getDefaultPoints:function(h){var s=h.x,c=h.y0,m=Object(i.B)(h.y)?h.y:[c,h.y];return m.map(function(j){return{x:s,y:j}})}});io("area","area",{draw:function(h,s){var c=Ji(h,!1,!1,this),m=s.addShape({type:"path",attrs:c,name:"area"});return m},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return K===void 0&&(K=5.5),[["M",m-K,j-4],["L",m+K,j-4],["L",m+K,j+4],["L",m-K,j+4],["Z"]]},style:{r:5,fill:s}}}});var jo=us,Js=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.type="area",c.shapeType="area",c.generatePoints=!0,c.startOnZero=!0;var m=s.startOnZero,j=m===void 0?!0:m,K=s.sortable,gt=K===void 0?!1:K,Mt=s.showSinglePoint,Xt=Mt===void 0?!1:Mt;return c.startOnZero=j,c.sortable=gt,c.showSinglePoint=Xt,c}return h.prototype.getPointsAndData=function(s){for(var c=[],m=[],j=0,K=s.length;j<K;j++){var gt=s[j];c.push(gt.points),m.push(gt[D])}return{points:c,data:m}},h.prototype.getYMinValue=function(){if(this.startOnZero)return d.prototype.getYMinValue.call(this);var s=this.getYScale();return s.min},h}(uo),Zl=Js,Ol=au("edge",{defaultShapeType:"line",getDefaultPoints:function(h){return oi(h)}});io("edge","line",{draw:function(h,s){var c=ca(h,!0,!1,"lineWidth"),m=bo(this.parsePoints(h.points),this.coordinate.isPolar);return s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var ou=Ol,Vu=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.type="edge",s.shapeType="edge",s.generatePoints=!0,s}return h}(Eu),of=Vu,nl=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.type="heatmap",s.paletteCache={},s}return h.prototype.createElements=function(s,c,m){m===void 0&&(m=!1);var j=this.prepareRange(s),K=this.prepareSize(),gt=Object(i.s)(this.styleOption,["style","shadowBlur"]);return Object(i.K)(gt)||(gt=K/2),this.prepareGreyScaleBlurredCircle(K,gt),this.drawWithRange(s,j,K,gt),null},h.prototype.clear=function(){d.prototype.clear.call(this),this.clearShadowCanvasCtx(),this.paletteCache={}},h.prototype.prepareRange=function(s){var c=this.getAttribute("color"),m=c.getFields()[0],j=Infinity,K=-Infinity;return s.forEach(function(gt){var Mt=gt[D][m];Mt>K&&(K=Mt),Mt<j&&(j=Mt)}),j===K&&(j=K-1),[j,K]},h.prototype.prepareSize=function(){var s=this.getDefaultValue("size");return Object(i.K)(s)||(s=this.getDefaultSize()),s},h.prototype.prepareGreyScaleBlurredCircle=function(s,c){var m=this.getGrayScaleBlurredCanvas(),j=s+c,K=m.getContext("2d");m.width=m.height=j*2,K.clearRect(0,0,m.width,m.height),K.shadowOffsetX=K.shadowOffsetY=j*2,K.shadowBlur=c,K.shadowColor="black",K.beginPath(),K.arc(-j,-j,s,0,Math.PI*2,!0),K.closePath(),K.fill()},h.prototype.drawWithRange=function(s,c,m,j){var K=this.coordinate,gt=K.start,Mt=K.end,Xt=this.coordinate.getWidth(),Jt=this.coordinate.getHeight(),te=this.getAttribute("color"),ae=te.getFields()[0];this.clearShadowCanvasCtx();var fe=this.getShadowCanvasCtx();c&&(s=s.filter(function(ii){return ii[D][ae]<=c[1]&&ii[D][ae]>=c[0]}));for(var Ae=this.scales[ae],Ie=0,gr=s;Ie<gr.length;Ie++){var Or=gr[Ie],Br=this.getDrawCfg(Or),Gr=Br.x,Tn=Br.y,nn=Ae.scale(Or[D][ae]);this.drawGrayScaleBlurredCircle(Gr-gt.x,Tn-Mt.y,m+j,nn,fe)}var zn=fe.getImageData(0,0,Xt,Jt);this.clearShadowCanvasCtx(),this.colorize(zn),fe.putImageData(zn,0,0);var Ai=this.getImageShape();Ai.attr("x",gt.x),Ai.attr("y",Mt.y),Ai.attr("width",Xt),Ai.attr("height",Jt),Ai.attr("img",fe.canvas),Ai.set("origin",this.getShapeInfo(s))},h.prototype.getDefaultSize=function(){var s=this.getAttribute("position"),c=this.coordinate;return Math.min(c.getWidth()/(s.scales[0].ticks.length*4),c.getHeight()/(s.scales[1].ticks.length*4))},h.prototype.clearShadowCanvasCtx=function(){var s=this.getShadowCanvasCtx();s.clearRect(0,0,s.canvas.width,s.canvas.height)},h.prototype.getShadowCanvasCtx=function(){var s=this.shadowCanvas;return s||(s=document.createElement("canvas"),this.shadowCanvas=s),s.width=this.coordinate.getWidth(),s.height=this.coordinate.getHeight(),s.getContext("2d")},h.prototype.getGrayScaleBlurredCanvas=function(){return this.grayScaleBlurredCanvas||(this.grayScaleBlurredCanvas=document.createElement("canvas")),this.grayScaleBlurredCanvas},h.prototype.drawGrayScaleBlurredCircle=function(s,c,m,j,K){var gt=this.getGrayScaleBlurredCanvas();K.globalAlpha=j,K.drawImage(gt,s-m,c-m)},h.prototype.colorize=function(s){for(var c=this.getAttribute("color"),m=s.data,j=this.paletteCache,K=3;K<m.length;K+=4){var gt=m[K];if(Object(i.K)(gt)){var Mt=j[gt]?j[gt]:tt.a.rgb2arr(c.gradient(gt/256));m[K-3]=Mt[0],m[K-2]=Mt[1],m[K-1]=Mt[2],m[K]=gt}}},h.prototype.getImageShape=function(){var s=this.imageShape;if(s)return s;var c=this.container;return s=c.addShape({type:"image",attrs:{}}),this.imageShape=s,s},h.prototype.getShapeInfo=function(s){var c=this.getDrawCfg(s[0]);return Object(f.a)(Object(f.a)({},c),{mappingData:s,data:this.getData(s)})},h.prototype.getData=function(s){return s.map(function(c){return c[D]})},h}(Eu),ha=nl;function Hu(d,h){h===void 0&&(h=!1);var s=d.x,c=d.y,m=d.y0,j=d.size,K,gt;Object(i.B)(c)?(K=c[0],gt=c[1]):(K=m,gt=c);var Mt,Xt;Object(i.B)(s)?(Mt=s[0],Xt=s[1]):(Mt=s-j/2,Xt=s+j/2);var Jt=[{x:Mt,y:K},{x:Mt,y:gt}];return h?Jt.push({x:Xt,y:(gt+K)/2}):Jt.push({x:Xt,y:gt},{x:Xt,y:K}),Jt}function Xs(d,h){h===void 0&&(h=!0);var s=[],c=d[0];s.push(["M",c.x,c.y]);for(var m=1,j=d.length;m<j;m++)s.push(["L",d[m].x,d[m].y]);return h&&(s.push(["L",c.x,c.y]),s.push(["z"])),s}function Xu(d,h){var s=0,c=0,m=0,j=0;return Object(i.B)(d)?d.length===1?s=c=m=j=d[0]:d.length===2?(s=m=d[0],c=j=d[1]):d.length===3?(s=d[0],c=j=d[1],m=d[2]):(s=d[0],c=d[1],m=d[2],j=d[3]):s=c=m=j=d,s+c>h&&(s=s?h/(1+c/s):0,c=h-s),m+j>h&&(m=m?h/(1+j/m):0,j=h-m),[s||0,c||0,m||0,j||0]}function zr(d,h,s){var c=[];if(s.isRect){var m=s.isTransposed?{x:s.start.x,y:h[0].y}:{x:h[0].x,y:s.start.y},j=s.isTransposed?{x:s.end.x,y:h[2].y}:{x:h[3].x,y:s.end.y},K=Object(i.s)(d,["background","style","radius"]);if(K){var gt=s.isTransposed?Math.abs(h[0].y-h[2].y):h[2].x-h[1].x,Mt=s.isTransposed?s.getWidth():s.getHeight(),Xt=Xu(K,Math.min(gt,Mt)),Jt=Xt[0],te=Xt[1],ae=Xt[2],fe=Xt[3];c.push(["M",m.x,j.y+Jt]),Jt!==0&&c.push(["A",Jt,Jt,0,0,1,m.x+Jt,j.y]),c.push(["L",j.x-te,j.y]),te!==0&&c.push(["A",te,te,0,0,1,j.x,j.y+te]),c.push(["L",j.x,m.y-ae]),ae!==0&&c.push(["A",ae,ae,0,0,1,j.x-ae,m.y]),c.push(["L",m.x+fe,m.y]),fe!==0&&c.push(["A",fe,fe,0,0,1,m.x,m.y-fe])}else c.push(["M",m.x,m.y]),c.push(["L",j.x,m.y]),c.push(["L",j.x,j.y]),c.push(["L",m.x,j.y]),c.push(["L",m.x,m.y]);c.push(["z"])}if(s.isPolar){var Ae=s.getCenter(),Ie=Ci(d,s),gr=Ie.startAngle,Or=Ie.endAngle;if(s.type!=="theta"&&!s.isTransposed)c=ga(Ae.x,Ae.y,s.getRadius(),gr,Or);else{var Br=function(zn){return Math.pow(zn,2)},Jt=Math.sqrt(Br(Ae.x-h[0].x)+Br(Ae.y-h[0].y)),te=Math.sqrt(Br(Ae.x-h[2].x)+Br(Ae.y-h[2].y));c=ga(Ae.x,Ae.y,Jt,s.startAngle,s.endAngle,te)}}return c}function Hf(d,h,s){var c=s.getWidth(),m=s.getHeight(),j=s.type==="rect",K=[],gt=(d[2].x-d[1].x)/2,Mt=s.isTransposed?gt*m/c:gt*c/m;return h==="round"?(j?(K.push(["M",d[0].x,d[0].y+Mt]),K.push(["L",d[1].x,d[1].y-Mt]),K.push(["A",gt,gt,0,0,1,d[2].x,d[2].y-Mt]),K.push(["L",d[3].x,d[3].y+Mt]),K.push(["A",gt,gt,0,0,1,d[0].x,d[0].y+Mt])):(K.push(["M",d[0].x,d[0].y]),K.push(["L",d[1].x,d[1].y]),K.push(["A",gt,gt,0,0,1,d[2].x,d[2].y]),K.push(["L",d[3].x,d[3].y]),K.push(["A",gt,gt,0,0,1,d[0].x,d[0].y])),K.push(["z"])):K=Xs(d),K}function al(d,h,s){var c=[];return Object(i.I)(h)?s?c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",d[2].x,d[2].y],["L",d[2].x,d[2].y],["Z"]):c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",d[2].x,d[2].y],["L",d[3].x,d[3].y],["Z"]):c.push(["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["L",h[1].x,h[1].y],["L",h[0].x,h[0].y],["Z"]),c}function sf(d,h,s){var c,m,j,K,gt=d[0],Mt=d[1],Xt=d[2],Jt=d[3],te=[0,0,0,0],ae=te[0],fe=te[1],Ae=te[2],Ie=te[3];gt.y<Mt.y?(Mt=d[0],gt=d[1],Jt=d[2],Xt=d[3],c=Xu(s,Math.min(Jt.x-gt.x,gt.y-Mt.y)),Ie=c[0],Ae=c[1],fe=c[2],ae=c[3]):(m=Xu(s,Math.min(Jt.x-gt.x,gt.y-Mt.y)),ae=m[0],fe=m[1],Ae=m[2],Ie=m[3]),h.isTransposed&&(gt=d[0],Jt=d[1],Xt=d[2],Mt=d[3],d[0].x>d[1].x?(Jt=d[0],gt=d[1],Mt=d[2],Xt=d[3],j=Xu(s,Math.min(Jt.x-gt.x,gt.y-Mt.y)),ae=j[0],Ie=j[1],Ae=j[2],fe=j[3]):(K=Xu(s,Math.min(Jt.x-gt.x,gt.y-Mt.y)),fe=K[0],Ae=K[1],Ie=K[2],ae=K[3]));var gr=[];return gr.push(["M",Mt.x,Mt.y+ae]),ae!==0&&gr.push(["A",ae,ae,0,0,1,Mt.x+ae,Mt.y]),gr.push(["L",Xt.x-fe,Xt.y]),fe!==0&&gr.push(["A",fe,fe,0,0,1,Xt.x,Xt.y+fe]),gr.push(["L",Jt.x,Jt.y-Ae]),Ae!==0&&gr.push(["A",Ae,Ae,0,0,1,Jt.x-Ae,Jt.y]),gr.push(["L",gt.x+Ie,gt.y]),Ie!==0&&gr.push(["A",Ie,Ie,0,0,1,gt.x,gt.y-Ie]),gr.push(["L",Mt.x,Mt.y+ae]),gr.push(["z"]),gr}var Xf=au("interval",{defaultShapeType:"rect",getDefaultPoints:function(h){return Hu(h)}});io("interval","rect",{draw:function(h,s){var c=ca(h,!1,!0),m=s,j=h==null?void 0:h.background;if(j){m=s.addGroup();var K=Ma(h),gt=zr(h,this.parsePoints(h.points),this.coordinate);m.addShape("path",{attrs:Object(f.a)(Object(f.a)({},K),{path:gt}),zIndex:-1,name:Uu})}var Mt;c.radius&&this.coordinate.isRect?Mt=sf(this.parsePoints(h.points),this.coordinate,c.radius):Mt=this.parsePath(Hf(h.points,c.lineCap,this.coordinate));var Xt=m.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:Mt}),name:"interval"});return j?m:Xt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,fill:s}}:{symbol:"square",style:{r:4,fill:s}}}});var Oh=Xf;function uf(d,h){var s=d.length,c=d;Object(i.O)(c[0])&&(c=d.map(function(gt){return h.translate(gt)}));for(var m=c[1]-c[0],j=2;j<s;j++){var K=c[j]-c[j-1];m>K&&(m=K)}return m}function Yf(d,h){if(h){var s=Object(i.q)(d),c=Object(i.vb)(s,h);return c.length}return d.length}function Dc(d){var h=d.theme,s=d.coordinate,c=d.getXScale(),m=c.values,j=d.beforeMappingData,K=m.length,gt=tr(d.coordinate),Mt=d.intervalPadding,Xt=d.dodgePadding,Jt=d.maxColumnWidth||h.maxColumnWidth,te=d.minColumnWidth||h.minColumnWidth,ae=d.columnWidthRatio||h.columnWidthRatio,fe=d.multiplePieWidthRatio||h.multiplePieWidthRatio,Ae=d.roseWidthRatio||h.roseWidthRatio;if(c.isLinear&&m.length>1){m.sort();var Ie=uf(m,c);K=(c.max-c.min)/Ie,m.length>K&&(K=m.length)}var gr=c.range,Or=1/K,Br=1;if(s.isPolar?s.isTransposed&&K>1?Br=fe:Br=Ae:(c.isLinear&&(Or*=gr[1]-gr[0]),Br=ae),!Object(i.I)(Mt)&&Mt>=0){var Gr=Mt/gt;Or=(1-(K-1)*Gr)/K}else Or*=Br;if(d.getAdjust("dodge")){var Tn=d.getAdjust("dodge"),nn=Tn.dodgeBy,zn=Yf(j,nn);if(!Object(i.I)(Xt)&&Xt>=0){var Ai=Xt/gt;Or=(Or-Ai*(zn-1))/zn}else!Object(i.I)(Mt)&&Mt>=0&&(Or*=Br),Or=Or/zn;Or=Or>=0?Or:0}if(!Object(i.I)(Jt)&&Jt>=0){var ii=Jt/gt;Or>ii&&(Or=ii)}if(!Object(i.I)(te)&&te>=0){var Qa=te/gt;Or<Qa&&(Or=Qa)}return Or}var xh=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.type="interval",c.shapeType="interval",c.generatePoints=!0;var m=s.background;return c.background=m,c}return h.prototype.createShapePointsCfg=function(s){var c=d.prototype.createShapePointsCfg.call(this,s),m,j=this.getAttribute("size");if(j){m=this.getAttributeValues(j,s)[0];var K=this.coordinate,gt=tr(K);m=m/gt}else this.defaultSize||(this.defaultSize=Dc(this)),m=this.defaultSize;return c.size=m,c},h.prototype.adjustScale=function(){d.prototype.adjustScale.call(this);var s=this.getYScale();if(this.coordinate.type==="theta")s.change({nice:!1,min:0,max:Sa(s)});else{var c=this.scaleDefs,m=s.field,j=s.min,K=s.max,gt=s.type;gt!=="time"&&(j>0&&!Object(i.s)(c,[m,"min"])&&s.change({min:0}),K<=0&&!Object(i.s)(c,[m,"max"])&&s.change({max:0}))}},h.prototype.getDrawCfg=function(s){var c=d.prototype.getDrawCfg.call(this,s);return c.background=this.background,c},h}(Eu),Ql=xh,Ch=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;c.type="line";var m=s.sortable,j=m===void 0?!1:m;return c.sortable=j,c}return h}(uo),Pc=Ch,Jl=["circle","square","bowtie","diamond","hexagon","triangle","triangle-down"],lf=["cross","tick","plus","hyphen","line"];function Ic(d,h,s,c,m){var j=ca(h,m,!m,"r"),K=d.parsePoints(h.points),gt=K[0];if(h.isStack)gt=K[1];else if(K.length>1){for(var Mt=s.addGroup(),Xt=0,Jt=K;Xt<Jt.length;Xt++){var te=Jt[Xt];Mt.addShape({type:"marker",attrs:Object(f.a)(Object(f.a)(Object(f.a)({},j),{symbol:jt[c]||c}),te)})}return Mt}return s.addShape({type:"marker",attrs:Object(f.a)(Object(f.a)(Object(f.a)({},j),{symbol:jt[c]||c}),gt)})}var Ah=au("point",{defaultShapeType:"hollow-circle",getDefaultPoints:function(h){return oi(h)}});Object(i.j)(Jl,function(d){io("point","hollow-"+d,{draw:function(s,c){return Ic(this,s,c,d,!0)},getMarker:function(s){var c=s.color;return{symbol:jt[d]||d,style:{r:4.5,stroke:c,fill:null}}}})});var vd=Ah,Kf=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.type="point",s.shapeType="point",s.generatePoints=!0,s}return h.prototype.getDrawCfg=function(s){var c=d.prototype.getDrawCfg.call(this,s);return Object(f.a)(Object(f.a)({},c),{isStack:!!this.getAdjust("stack")})},h}(Eu),$f=Kf;function Zf(d){for(var h=d[0],s=1,c=[["M",h.x,h.y]];s<d.length;){var m=d[s];(m.x!==d[s-1].x||m.y!==d[s-1].y)&&(c.push(["L",m.x,m.y]),m.x===h.x&&m.y===h.y&&s<d.length-1&&(h=d[s+1],c.push(["Z"]),c.push(["M",h.x,h.y]),s++)),s++}return Object(i.G)(Object(i.S)(c),h)||c.push(["L",h.x,h.y]),c.push(["Z"]),c}var Qf=au("polygon",{defaultShapeType:"polygon",getDefaultPoints:function(h){var s=[];return Object(i.j)(h.x,function(c,m){var j=h.y[m];s.push({x:c,y:j})}),s}});io("polygon","polygon",{draw:function(h,s){if(!Object(i.F)(h.points)){var c=ca(h,!0,!0),m=this.parsePath(Zf(h.points));return s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m}),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});var Sh=Qf,cf=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.type="polygon",s.shapeType="polygon",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=d.prototype.createShapePointsCfg.call(this,s),m=c.x,j=c.y,K;if(!(Object(i.B)(m)&&Object(i.B)(j))){var gt=this.getXScale(),Mt=this.getYScale(),Xt=gt.values.length,Jt=Mt.values.length,te=.5*1/Xt,ae=.5*1/Jt;gt.isCategory&&Mt.isCategory?(m=[m-te,m-te,m+te,m+te],j=[j-ae,j+ae,j+ae,j-ae]):Object(i.B)(m)?(K=m,m=[K[0],K[0],K[1],K[1]],j=[j-ae/2,j+ae/2,j+ae/2,j-ae/2]):Object(i.B)(j)&&(K=j,j=[K[0],K[1],K[1],K[0]],m=[m-te/2,m-te/2,m+te/2,m+te/2]),c.x=m,c.y=j}return c},h}(Eu),_l=cf,ff=au("schema",{defaultShapeType:""}),ys=ff,hf=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.type="schema",s.shapeType="schema",s.generatePoints=!0,s}return h.prototype.createShapePointsCfg=function(s){var c=d.prototype.createShapePointsCfg.call(this,s),m,j=this.getAttribute("size");if(j){m=this.getAttributeValues(j,s)[0];var K=this.coordinate,gt=tr(K);m=m/gt}else this.defaultSize||(this.defaultSize=Dc(this)),m=this.defaultSize;return c.size=m,c},h}(Eu),gd=hf;io("area","line",{draw:function(h,s){var c=Ji(h,!0,!1,this),m=s.addShape({type:"path",attrs:c,name:"area"});return m},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return K===void 0&&(K=5.5),[["M",m-K,j-4],["L",m+K,j-4],["L",m+K,j+4],["L",m-K,j+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}}),io("area","smooth",{draw:function(h,s){var c=this.coordinate,m=Ji(h,!1,!0,this,Fi(c)),j=s.addShape({type:"path",attrs:m,name:"area"});return j},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return K===void 0&&(K=5.5),[["M",m-K,j-4],["L",m+K,j-4],["L",m+K,j+4],["L",m-K,j+4],["Z"]]},style:{r:5,fill:s}}}}),io("area","smooth-line",{draw:function(h,s){var c=this.coordinate,m=Ji(h,!0,!0,this,Fi(c)),j=s.addShape({type:"path",attrs:m,name:"area"});return j},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return K===void 0&&(K=5.5),[["M",m-K,j-4],["L",m+K,j-4],["L",m+K,j+4],["L",m-K,j+4],["Z"]]},style:{r:5,stroke:s,fill:null}}}});function df(d,h){return["C",d.x*1/2+h.x*1/2,d.y,d.x*1/2+h.x*1/2,h.y,h.x,h.y]}function Jf(d,h){var s=[];s.push({x:h.x,y:h.y}),s.push(d);var c=["Q"];return Object(i.j)(s,function(m){c.push(m.x,m.y)}),c}function pd(d,h,s){var c=Jf(h,s),m=[["M",d.x,d.y]];return m.push(c),m}function Mh(d,h){var s=Jf(d[1],h),c=Jf(d[3],h),m=[["M",d[0].x,d[0].y]];return m.push(c),m.push(["L",d[3].x,d[3].y]),m.push(["L",d[2].x,d[2].y]),m.push(s),m.push(["L",d[1].x,d[1].y]),m.push(["L",d[0].x,d[0].y]),m.push(["Z"]),m}io("edge","arc",{draw:function(h,s){var c=ca(h,!0,!1,"lineWidth"),m=h.points,j=m.length>2?"weight":"normal",K;if(h.isInCircle){var gt={x:0,y:1};return j==="normal"?K=pd(m[0],m[1],gt):(c.fill=c.stroke,K=Mh(m,gt)),K=this.parsePath(K),s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:K})})}else{if(j==="normal")return m=this.parsePoints(m),K=Xi((m[1].x+m[0].x)/2,m[0].y,Math.abs(m[1].x-m[0].x)/2,Math.PI,Math.PI*2),s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:K})});var Mt=df(m[1],m[3]),Xt=df(m[2],m[0]);return K=[["M",m[0].x,m[0].y],["L",m[1].x,m[1].y],Mt,["L",m[3].x,m[3].y],["L",m[2].x,m[2].y],Xt,["Z"]],K=this.parsePath(K),c.fill=c.stroke,s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:K})})}},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});function Th(d,h){var s=df(d,h),c=[["M",d.x,d.y]];return c.push(s),c}io("edge","smooth",{draw:function(h,s){var c=ca(h,!0,!1,"lineWidth"),m=h.points,j=this.parsePath(Th(m[0],m[1]));return s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:j})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}});var xl=1/3;function yd(d,h){var s=[];s.push({x:d.x,y:d.y*(1-xl)+h.y*xl}),s.push({x:h.x,y:d.y*(1-xl)+h.y*xl}),s.push(h);var c=[["M",d.x,d.y]];return Object(i.j)(s,function(m){c.push(["L",m.x,m.y])}),c}io("edge","vhv",{draw:function(h,s){var c=ca(h,!0,!1,"lineWidth"),m=h.points,j=this.parsePath(yd(m[0],m[1]));return s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:j})})},getMarker:function(h){return{symbol:"circle",style:{r:4.5,fill:h.color}}}}),io("interval","funnel",{getPoints:function(h){return h.size=h.size*2,Hu(h)},draw:function(h,s){var c=ca(h,!1,!0),m=this.parsePath(al(h.points,h.nextPoints,!1)),j=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m}),name:"interval"});return j},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}}),io("interval","hollow-rect",{draw:function(h,s){var c=ca(h,!0,!1),m=s,j=h==null?void 0:h.background;if(j){m=s.addGroup();var K=Ma(h),gt=zr(h,this.parsePoints(h.points),this.coordinate);m.addShape("path",{attrs:Object(f.a)(Object(f.a)({},K),{path:gt}),zIndex:-1,name:Uu})}var Mt=this.parsePath(Xs(h.points)),Xt=m.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:Mt}),name:"interval"});return j?m:Xt},getMarker:function(h){var s=h.color,c=h.isInPolar;return c?{symbol:"circle",style:{r:4.5,stroke:s,fill:null}}:{symbol:"square",style:{r:4,stroke:s,fill:null}}}});function _f(d){var h=d.x,s=d.y,c=d.y0;return Object(i.B)(s)?s.map(function(m,j){return{x:Object(i.B)(h)?h[j]:h,y:m}}):[{x:h,y:c},{x:h,y:s}]}io("interval","line",{getPoints:function(h){return _f(h)},draw:function(h,s){var c=ca(h,!0,!1,"lineWidth"),m=ya(Object(f.a)({},c),["fill"]),j=this.parsePath(Xs(h.points,!1)),K=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},m),{path:j}),name:"interval"});return K},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return[["M",m,j-K],["L",m,j+K]]},style:{r:5,stroke:s}}}}),io("interval","pyramid",{getPoints:function(h){return h.size=h.size*2,Hu(h,!0)},draw:function(h,s){var c=ca(h,!1,!0),m=this.parsePath(al(h.points,h.nextPoints,!0)),j=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m}),name:"interval"});return j},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});function il(d){var h=d.x,s=d.y,c=d.y0,m=d.size,j,K;Object(i.B)(s)?(j=s[0],K=s[1]):(j=c,K=s);var gt=h+m/2,Mt=h-m/2;return[{x:h,y:j},{x:h,y:K},{x:Mt,y:j},{x:gt,y:j},{x:Mt,y:K},{x:gt,y:K}]}function vf(d){return[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["M",d[4].x,d[4].y],["L",d[5].x,d[5].y]]}io("interval","tick",{getPoints:function(h){return il(h)},draw:function(h,s){var c=ca(h,!0,!1),m=this.parsePath(vf(h.points)),j=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m}),name:"interval"});return j},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){return[["M",m-K/2,j-K],["L",m+K/2,j-K],["M",m,j-K],["L",m,j+K],["M",m-K/2,j+K],["L",m+K/2,j+K]]},style:{r:5,stroke:s}}}});var ql=function(h,s,c){var m=h.x,j=h.y,K=s.x,gt=s.y,Mt;switch(c){case"hv":Mt=[{x:K,y:j}];break;case"vh":Mt=[{x:m,y:gt}];break;case"hvh":var Xt=(K+m)/2;Mt=[{x:Xt,y:j},{x:Xt,y:gt}];break;case"vhv":var Jt=(j+gt)/2;Mt=[{x:m,y:Jt},{x:K,y:Jt}];break;default:break}return Mt};function gf(d,h){var s=[];return Object(i.j)(d,function(c,m){var j=d[m+1];if(s.push(c),j){var K=ql(c,j,h);s=s.concat(K)}}),s}function Go(d){return d.map(function(h,s){return s===0?["M",h.x,h.y]:["L",h.x,h.y]})}function Cl(d,h){var s=Ja(d.points,d.connectNulls,d.showSinglePoint),c=[];return Object(i.j)(s,function(m){var j=gf(m,h);c=c.concat(Go(j))}),Object(f.a)(Object(f.a)({},ca(d,!0,!1,"lineWidth")),{path:c})}Object(i.j)(["hv","vh","hvh","vhv"],function(d){io("line",d,{draw:function(s,c){var m=Cl(s,d),j=c.addShape({type:"path",attrs:m,name:"line"});return j},getMarker:function(s){return gi(s,d)}})}),Object(i.j)(lf,function(d){io("point",d,{draw:function(s,c){return Ic(this,s,c,d,!0)},getMarker:function(s){var c=s.color;return{symbol:jt[d],style:{r:4.5,stroke:c,fill:null}}}})}),io("point","image",{draw:function(h,s){var c=ca(h,!1,!1,"r").r,m=this.parsePoints(h.points),j=m[0];if(h.isStack)j=m[1];else if(m.length>1){for(var K=s.addGroup(),gt=0,Mt=m;gt<Mt.length;gt++){var Xt=Mt[gt];K.addShape("image",{attrs:{x:Xt.x-c/2,y:Xt.y-c,width:c,height:c,img:h.shape[1]}})}return K}return s.addShape("image",{attrs:{x:j.x-c/2,y:j.y-c,width:c,height:c,img:h.shape[1]}})},getMarker:function(h){var s=h.color;return{symbol:"circle",style:{r:4.5,fill:s}}}}),Object(i.j)(Jl,function(d){io("point",d,{draw:function(s,c){return Ic(this,s,c,d,!1)},getMarker:function(s){var c=s.color;return{symbol:jt[d]||d,style:{r:4.5,fill:c}}}})});function ol(d){var h=Object(i.B)(d)?d:[d],s=h[0],c=h[h.length-1],m=h.length>1?h[1]:s,j=h.length>3?h[3]:c,K=h.length>2?h[2]:m;return{min:s,max:c,min1:m,max1:j,median:K}}function Lu(d,h,s){var c=s/2,m;if(Object(i.B)(h)){var j=ol(h),K=j.min,gt=j.max,Mt=j.median,Xt=j.min1,Jt=j.max1,te=d-c,ae=d+c;m=[[te,gt],[ae,gt],[d,gt],[d,Jt],[te,Xt],[te,Jt],[ae,Jt],[ae,Xt],[d,Xt],[d,K],[te,K],[ae,K],[te,Mt],[ae,Mt]]}else{h=Object(i.I)(h)?.5:h;var fe=ol(d),K=fe.min,gt=fe.max,Mt=fe.median,Xt=fe.min1,Jt=fe.max1,Ae=h-c,Ie=h+c;m=[[K,Ae],[K,Ie],[K,h],[Xt,h],[Xt,Ae],[Xt,Ie],[Jt,Ie],[Jt,Ae],[Jt,h],[gt,h],[gt,Ae],[gt,Ie],[Mt,Ae],[Mt,Ie]]}return m.map(function(gr){return{x:gr[0],y:gr[1]}})}function pf(d){return[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["M",d[4].x,d[4].y],["L",d[5].x,d[5].y],["L",d[6].x,d[6].y],["L",d[7].x,d[7].y],["L",d[4].x,d[4].y],["Z"],["M",d[8].x,d[8].y],["L",d[9].x,d[9].y],["M",d[10].x,d[10].y],["L",d[11].x,d[11].y],["M",d[12].x,d[12].y],["L",d[13].x,d[13].y]]}io("schema","box",{getPoints:function(h){var s=h.x,c=h.y,m=h.size;return Lu(s,c,m)},draw:function(h,s){var c=ca(h,!0,!1),m=this.parsePath(pf(h.points)),j=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m,name:"schema"})});return j},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){var gt=[j-6,j-3,j,j+3,j+6],Mt=Lu(m,gt,K);return[["M",Mt[0].x+1,Mt[0].y],["L",Mt[1].x-1,Mt[1].y],["M",Mt[2].x,Mt[2].y],["L",Mt[3].x,Mt[3].y],["M",Mt[4].x,Mt[4].y],["L",Mt[5].x,Mt[5].y],["L",Mt[6].x,Mt[6].y],["L",Mt[7].x,Mt[7].y],["L",Mt[4].x,Mt[4].y],["Z"],["M",Mt[8].x,Mt[8].y],["L",Mt[9].x,Mt[9].y],["M",Mt[10].x+1,Mt[10].y],["L",Mt[11].x-1,Mt[11].y],["M",Mt[12].x,Mt[12].y],["L",Mt[13].x,Mt[13].y]]},style:{r:6,lineWidth:1,stroke:s}}}});function yf(d){var h=Object(i.B)(d)?d:[d],s=h.sort(function(c,m){return m-c});return fo(s,4,s[s.length-1])}function tc(d,h,s){var c=yf(h);return[{x:d,y:c[0]},{x:d,y:c[1]},{x:d-s/2,y:c[2]},{x:d-s/2,y:c[1]},{x:d+s/2,y:c[1]},{x:d+s/2,y:c[2]},{x:d,y:c[2]},{x:d,y:c[3]}]}function mf(d){return[["M",d[0].x,d[0].y],["L",d[1].x,d[1].y],["M",d[2].x,d[2].y],["L",d[3].x,d[3].y],["L",d[4].x,d[4].y],["L",d[5].x,d[5].y],["Z"],["M",d[6].x,d[6].y],["L",d[7].x,d[7].y]]}io("schema","candle",{getPoints:function(h){var s=h.x,c=h.y,m=h.size;return tc(s,c,m)},draw:function(h,s){var c=ca(h,!0,!0),m=this.parsePath(mf(h.points)),j=s.addShape("path",{attrs:Object(f.a)(Object(f.a)({},c),{path:m,name:"schema"})});return j},getMarker:function(h){var s=h.color;return{symbol:function(m,j,K){var gt=[j+7.5,j+3,j-3,j-7.5],Mt=tc(m,gt,K);return[["M",Mt[0].x,Mt[0].y],["L",Mt[1].x,Mt[1].y],["M",Mt[2].x,Mt[2].y],["L",Mt[3].x,Mt[3].y],["L",Mt[4].x,Mt[4].y],["L",Mt[5].x,Mt[5].y],["Z"],["M",Mt[6].x,Mt[6].y],["L",Mt[7].x,Mt[7].y]]},style:{lineWidth:1,stroke:s,fill:s,r:6}}}});function Hi(d,h){var s=Math.abs(d[0].x-d[2].x),c=Math.abs(d[0].y-d[2].y),m=Math.min(s,c);h&&(m=Object(i.c)(h,0,Math.min(s,c))),m=m/2;var j=(d[0].x+d[2].x)/2,K=(d[0].y+d[2].y)/2;return{x:j-m,y:K-m,width:m*2,height:m*2}}io("polygon","square",{draw:function(h,s){if(!Object(i.F)(h.points)){var c=ca(h,!0,!0),m=this.parsePoints(h.points);return s.addShape("rect",{attrs:Object(f.a)(Object(f.a)({},c),Hi(m,h.size)),name:"polygon"})}},getMarker:function(h){var s=h.color;return{symbol:"square",style:{r:4,fill:s}}}});var su=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getLabelValueDir=function(s){var c="y",m=s.points;return m[0][c]<=m[2][c]?1:-1},h.prototype.getLabelOffsetPoint=function(s,c,m){var j,K=d.prototype.getLabelOffsetPoint.call(this,s,c,m),gt=this.getCoordinate().isTransposed,Mt=gt?"x":"y",Xt=this.getLabelValueDir(s.mappingData);return Object(f.a)(Object(f.a)({},K),(j={},j[Mt]=K[Mt]*Xt,j))},h.prototype.getThemedLabelCfg=function(s){var c=this.geometry,m=this.getDefaultLabelCfg(),j=c.theme;return Object(i.h)({},m,j.labels,s.position==="middle"?{offset:0}:{},s)},h.prototype.setLabelPosition=function(s,c,m,j){var K=this.getCoordinate(),gt=K.isTransposed,Mt=c.points,Xt=K.convert(Mt[0]),Jt=K.convert(Mt[2]),te=this.getLabelValueDir(c),ae,fe,Ae,Ie,gr=Object(i.B)(c.shape)?c.shape[0]:c.shape;if(gr==="funnel"||gr==="pyramid"){var Or=Object(i.s)(c,"nextPoints"),Br=Object(i.s)(c,"points");if(Or){var Gr=K.convert(Br[0]),Tn=K.convert(Br[1]),nn=K.convert(Or[0]),zn=K.convert(Or[1]);gt?(ae=Math.min(nn.y,Gr.y),Ae=Math.max(nn.y,Gr.y),fe=(Tn.x+zn.x)/2,Ie=(Gr.x+nn.x)/2):(ae=Math.min((Tn.y+zn.y)/2,(Gr.y+nn.y)/2),Ae=Math.max((Tn.y+zn.y)/2,(Gr.y+nn.y)/2),fe=zn.x,Ie=Gr.x)}else ae=Math.min(Jt.y,Xt.y),Ae=Math.max(Jt.y,Xt.y),fe=Jt.x,Ie=Xt.x}else ae=Math.min(Jt.y,Xt.y),Ae=Math.max(Jt.y,Xt.y),fe=Jt.x,Ie=Xt.x;switch(j){case"right":s.x=fe,s.y=(ae+Ae)/2,s.textAlign=Object(i.s)(s,"textAlign",te>0?"left":"right");break;case"left":s.x=Ie,s.y=(ae+Ae)/2,s.textAlign=Object(i.s)(s,"textAlign",te>0?"left":"right");break;case"bottom":gt&&(s.x=(fe+Ie)/2),s.y=Ae,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline",te>0?"bottom":"top");break;case"middle":gt&&(s.x=(fe+Ie)/2),s.y=(ae+Ae)/2,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline","middle");break;case"top":gt&&(s.x=(fe+Ie)/2),s.y=ae,s.textAlign=Object(i.s)(s,"textAlign","center"),s.textBaseline=Object(i.s)(s,"textBaseline",te>0?"bottom":"top");break;default:break}},h}(Ts),ec=su,bf=Math.PI/2,md=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getLabelOffset=function(s){var c=this.getCoordinate(),m=0;if(Object(i.K)(s))m=s;else if(Object(i.O)(s)&&s.indexOf("%")!==-1){var j=c.getRadius();c.innerRadius>0&&(j=j*(1-c.innerRadius)),m=parseFloat(s)*.01*j}return m},h.prototype.getLabelItems=function(s){var c=d.prototype.getLabelItems.call(this,s),m=this.geometry.getYScale();return Object(i.U)(c,function(j){if(j&&m){var K=m.scale(Object(i.s)(j.data,m.field));return Object(f.a)(Object(f.a)({},j),{percent:K})}return j})},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),m;if(s.labelEmit)m=s.angle<=Math.PI/2&&s.angle>=-Math.PI/2?"left":"right";else if(!c.isTransposed)m="center";else{var j=c.getCenter(),K=s.offset;Math.abs(s.x-j.x)<1?m="center":s.angle>Math.PI||s.angle<=0?m=K>0?"left":"right":m=K>0?"right":"left"}return m},h.prototype.getLabelPoint=function(s,c,m){var j=1,K,gt=s.content[m];this.isToMiddle(c)?K=this.getMiddlePoint(c.points):(s.content.length===1&&m===0?m=1:m===0&&(j=-1),K=this.getArcPoint(c,m));var Mt=s.offset*j,Xt=this.getPointAngle(K),Jt=s.labelEmit,te=this.getCirclePoint(Xt,Mt,K,Jt);return te.r===0?te.content="":(te.content=gt,te.angle=Xt,te.color=c.color),te.rotate=s.autoRotate?this.getLabelRotate(Xt,Mt,Jt):s.rotate,te.start={x:K.x,y:K.y},te},h.prototype.getArcPoint=function(s,c){return c===void 0&&(c=0),!Object(i.B)(s.x)&&!Object(i.B)(s.y)?{x:s.x,y:s.y}:{x:Object(i.B)(s.x)?s.x[c]:s.x,y:Object(i.B)(s.y)?s.y[c]:s.y}},h.prototype.getPointAngle=function(s){return on(this.getCoordinate(),s)},h.prototype.getCirclePoint=function(s,c,m,j){var K=this.getCoordinate(),gt=K.getCenter(),Mt=tn(K,m);if(Mt===0)return Object(f.a)(Object(f.a)({},gt),{r:Mt});var Xt=s;if(K.isTransposed&&Mt>c&&!j){var Jt=Math.asin(c/(2*Mt));Xt=s+Jt*2}else Mt=Mt+c;return{x:gt.x+Mt*Math.cos(Xt),y:gt.y+Mt*Math.sin(Xt),r:Mt}},h.prototype.getLabelRotate=function(s,c,m){var j=s+bf;return m&&(j-=bf),j&&(j>bf?j=j-Math.PI:j<-bf&&(j=j+Math.PI)),j},h.prototype.getMiddlePoint=function(s){var c=this.getCoordinate(),m=s.length,j={x:0,y:0};return Object(i.j)(s,function(K){j.x+=K.x,j.y+=K.y}),j.x/=m,j.y/=m,j=c.convert(j),j},h.prototype.isToMiddle=function(s){return s.x.length>2},h}(Ts),qf=md,Ao=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.defaultLayout="distribute",s}return h.prototype.getDefaultLabelCfg=function(s,c){var m=d.prototype.getDefaultLabelCfg.call(this,s,c);return Object(i.h)({},m,Object(i.s)(this.geometry.theme,"pieLabels",{}))},h.prototype.getLabelOffset=function(s){return d.prototype.getLabelOffset.call(this,s)||0},h.prototype.getLabelRotate=function(s,c,m){var j;return c<0&&(j=s,j>Math.PI/2&&(j=j-Math.PI),j<-Math.PI/2&&(j=j+Math.PI)),j},h.prototype.getLabelAlign=function(s){var c=this.getCoordinate(),m=c.getCenter(),j;return s.angle<=Math.PI/2&&s.x>=m.x?j="left":j="right",s.offset<=0&&(j==="right"?j="left":j="right"),j},h.prototype.getArcPoint=function(s){return s},h.prototype.getPointAngle=function(s){var c=this.getCoordinate(),m={x:Object(i.B)(s.x)?s.x[0]:s.x,y:s.y[0]},j={x:Object(i.B)(s.x)?s.x[1]:s.x,y:s.y[1]},K,gt=on(c,m);if(s.points&&s.points[0].y===s.points[1].y)K=gt;else{var Mt=on(c,j);gt>=Mt&&(Mt=Mt+Math.PI*2),K=gt+(Mt-gt)/2}return K},h.prototype.getCirclePoint=function(s,c){var m=this.getCoordinate(),j=m.getCenter(),K=m.getRadius()+c;return Object(f.a)(Object(f.a)({},pa(j.x,j.y,K,s)),{angle:s,r:K})},h}(qf),Dh=Ao,vs=4;function Ko(d,h,s,c,m,j){var K=!0,gt=c.start,Mt=c.end,Xt=Math.min(gt.y,Mt.y),Jt=Math.abs(gt.y-Mt.y),te,ae=0,fe=Number.MIN_VALUE,Ae=h.map(function(nn){return nn.y>ae&&(ae=nn.y),nn.y<fe&&(fe=nn.y),{size:s,targets:[nn.y-Xt]}});for(fe-=Xt,ae-Xt>Jt&&(Jt=ae-Xt);K;)for(Ae.forEach(function(nn){var zn=(Math.min.apply(fe,nn.targets)+Math.max.apply(fe,nn.targets))/2;nn.pos=Math.min(Math.max(fe,zn-nn.size/2),Jt-nn.size)}),K=!1,te=Ae.length;te--;)if(te>0){var Ie=Ae[te-1],gr=Ae[te];Ie.pos+Ie.size>gr.pos&&(Ie.size+=gr.size,Ie.targets=Ie.targets.concat(gr.targets),Ie.pos+Ie.size>Jt&&(Ie.pos=Jt-Ie.size),Ae.splice(te,1),K=!0)}te=0,Ae.forEach(function(nn){var zn=Xt+s/2;nn.targets.forEach(function(){h[te].y=nn.pos+zn,zn+=s,te++})});for(var Or={},Br=0,Gr=d;Br<Gr.length;Br++){var Tn=Gr[Br];Or[Tn.get("id")]=Tn}h.forEach(function(nn){var zn=nn.r*nn.r,Ai=Math.pow(Math.abs(nn.y-m.y),2);if(zn<Ai)nn.x=m.x;else{var ii=Math.sqrt(zn-Ai);j?nn.x=m.x+ii:nn.x=m.x-ii}var Qa=Or[nn.id];Qa.attr("x",nn.x),Qa.attr("y",nn.y);var zi=Object(i.m)(Qa.getChildren(),function(vo){return vo.get("type")==="text"});zi&&(zi.attr("y",nn.y),zi.attr("x",nn.x))})}function Lo(d,h,s,c){if(!(!d.length||!h.length)){var m=d[0]?d[0].offset:0,j=h[0].get("coordinate"),K=j.getRadius(),gt=j.getCenter();if(m>0){var Mt=14,Xt=K+m,Jt=Xt*2+Mt*2,te={start:j.start,end:j.end},ae=[[],[]];d.forEach(function(fe){!fe||(fe.textAlign==="right"?ae[0].push(fe):ae[1].push(fe))}),ae.forEach(function(fe,Ae){var Ie=Jt/Mt;fe.length>Ie&&(fe.sort(function(gr,Or){return Or["..percent"]-gr["..percent"]}),fe.splice(Ie,fe.length-Ie)),fe.sort(function(gr,Or){return gr.y-Or.y}),Ko(h,fe,Mt,te,gt,Ae)})}Object(i.j)(d,function(fe){if(fe&&fe.labelLine){var Ae=fe.offset,Ie=fe.angle,gr=pa(gt.x,gt.y,K,Ie),Or=pa(gt.x,gt.y,K+Ae/2,Ie),Br=fe.x+Object(i.s)(fe,"offsetX",0),Gr=fe.y+Object(i.s)(fe,"offsetY",0),Tn={x:Br-Math.cos(Ie)*vs,y:Gr-Math.sin(Ie)*vs};Object(i.M)(fe.labelLine)||(fe.labelLine={}),fe.labelLine.path=["M "+gr.x,gr.y+" Q"+Or.x,Or.y+" "+Tn.x,Tn.y].join(",")}})}}function Ds(d,h,s){var c=d.filter(function(Ae){return!Ae.invisible});c.sort(function(Ae,Ie){return Ae.y-Ie.y});var m=!0,j=s.minY,K=s.maxY,gt=Math.abs(j-K),Mt,Xt=0,Jt=Number.MIN_VALUE,te=c.map(function(Ae){return Ae.y>Xt&&(Xt=Ae.y),Ae.y<Jt&&(Jt=Ae.y),{content:Ae.content,size:h,targets:[Ae.y-j],pos:null}});for(Jt-=j,Xt-j>gt&&(gt=Xt-j);m;)for(te.forEach(function(Ae){var Ie=(Math.min.apply(Jt,Ae.targets)+Math.max.apply(Jt,Ae.targets))/2;Ae.pos=Math.min(Math.max(Jt,Ie-Ae.size/2),gt-Ae.size),Ae.pos=Math.max(0,Ae.pos)}),m=!1,Mt=te.length;Mt--;)if(Mt>0){var ae=te[Mt-1],fe=te[Mt];ae.pos+ae.size>fe.pos&&(ae.size+=fe.size,ae.targets=ae.targets.concat(fe.targets),ae.pos+ae.size>gt&&(ae.pos=gt-ae.size),te.splice(Mt,1),m=!0)}Mt=0,te.forEach(function(Ae){var Ie=j+h/2;Ae.targets.forEach(function(){c[Mt].y=Ae.pos+Ie,Ie+=h,Mt++})})}var rc=4;function Ph(d,h){var s=h.getCenter(),c=h.getRadius();if(d&&d.labelLine){var m=d.angle,j=d.offset,K=pa(s.x,s.y,c,m),gt=d.x+Object(i.s)(d,"offsetX",0)*(Math.cos(m)>0?1:-1),Mt=d.y+Object(i.s)(d,"offsetY",0)*(Math.sin(m)>0?1:-1),Xt={x:gt-Math.cos(m)*rc,y:Mt-Math.sin(m)*rc},Jt=d.labelLine.smooth,te=[],ae=Xt.x-s.x,fe=Xt.y-s.y,Ae=Math.atan(fe/ae);if(ae<0&&(Ae+=Math.PI),Jt===!1){Object(i.M)(d.labelLine)||(d.labelLine={});var Ie=0;(m<0&&m>-Math.PI/2||m>Math.PI*1.5)&&Xt.y>K.y&&(Ie=1),m>=0&&m<Math.PI/2&&Xt.y>K.y&&(Ie=1),m>=Math.PI/2&&m<Math.PI&&K.y>Xt.y&&(Ie=1),(m<-Math.PI/2||m>=Math.PI&&m<Math.PI*1.5)&&K.y>Xt.y&&(Ie=1);var gr=j/2>4?4:Math.max(j/2-1,0),Or=pa(s.x,s.y,c+gr,m),Br=pa(s.x,s.y,c+j/2,Ae),Gr=0;te.push("M "+K.x+" "+K.y),te.push("L "+Or.x+" "+Or.y),te.push("A "+s.x+" "+s.y+" 0 "+Gr+" "+Ie+" "+Br.x+" "+Br.y),te.push("L "+Xt.x+" "+Xt.y)}else{var Or=pa(s.x,s.y,c+(j/2>4?4:Math.max(j/2-1,0)),m),Tn=K.x<s.x?1:-1;te.push("M "+Xt.x+" "+Xt.y);var nn=(K.y-s.y)/(K.x-s.x),zn=(Xt.y-s.y)/(Xt.x-s.x);Math.abs(nn-zn)>Math.pow(Math.E,-16)&&te.push.apply(te,["C",Xt.x+Tn*4,Xt.y,2*Or.x-K.x,2*Or.y-K.y,K.x,K.y]),te.push("L "+K.x+" "+K.y)}d.labelLine.path=te.join(" ")}}function bd(d,h,s,c){var m=Object(i.l)(d,function(zn){return!Object(i.I)(zn)}),j=h[0]&&h[0].get("coordinate");if(!!j){for(var K=j.getCenter(),gt=j.getRadius(),Mt={},Xt=0,Jt=h;Xt<Jt.length;Xt++){var te=Jt[Xt];Mt[te.get("id")]=te}var ae=Object(i.s)(m[0],"labelHeight",14),fe=Object(i.s)(m[0],"offset",0);if(!(fe<=0)){var Ae="left",Ie="right",gr=Object(i.v)(m,function(zn){return zn.x<K.x?Ae:Ie}),Or=j.start,Br=j.end,Gr=Math.min((gt+fe+ae)*2,j.getHeight()),Tn=Gr/2,nn={minX:Or.x,maxX:Br.x,minY:K.y-Tn,maxY:K.y+Tn};Object(i.j)(gr,function(zn,Ai){var ii=Math.floor(Gr/ae);zn.length>ii&&(zn.sort(function(Qa,zi){return zi.percent-Qa.percent}),Object(i.j)(zn,function(Qa,zi){zi+1>ii&&(Mt[Qa.id].set("visible",!1),Qa.invisible=!0)})),Ds(zn,ae,nn)}),Object(i.j)(gr,function(zn,Ai){Object(i.j)(zn,function(ii){var Qa=Ai===Ie,zi=Mt[ii.id],vo=zi.getChildByIndex(0);if(vo){var oo=gt+fe,qo=ii.y-K.y,Is=Math.pow(oo,2),Es=Math.pow(qo,2),Os=Is-Es>0?Is-Es:0,jl=Math.sqrt(Os),ll=Math.abs(Math.cos(ii.angle)*oo);Qa?ii.x=K.x+Math.max(jl,ll):ii.x=K.x-Math.max(jl,ll)}vo&&(vo.attr("y",ii.y),vo.attr("x",ii.x)),Ph(ii,j)})})}}}var Ih=4,ms=4,xa=4;function Ef(d,h,s){var c=h.getCenter(),m=h.getRadius(),j={x:d.x-(s?xa:-xa),y:d.y},K=pa(c.x,c.y,m+Ih,d.angle),gt={x:j.x,y:j.y},Mt={x:K.x,y:K.y},Xt=pa(c.x,c.y,m,d.angle),Jt="";if(j.y!==K.y){var te=s?4:-4;gt.y=j.y,d.angle<0&&d.angle>=-Math.PI/2&&(gt.x=Math.max(K.x,j.x-te),j.y<K.y?Mt.y=gt.y:(Mt.y=K.y,Mt.x=Math.max(Mt.x,gt.x-te))),d.angle>0&&d.angle<Math.PI/2&&(gt.x=Math.max(K.x,j.x-te),j.y>K.y?Mt.y=gt.y:(Mt.y=K.y,Mt.x=Math.max(Mt.x,gt.x-te))),d.angle>Math.PI/2&&(gt.x=Math.min(K.x,j.x-te),j.y>K.y?Mt.y=gt.y:(Mt.y=K.y,Mt.x=Math.min(Mt.x,gt.x-te))),d.angle<-Math.PI/2&&(gt.x=Math.min(K.x,j.x-te),j.y<K.y?Mt.y=gt.y:(Mt.y=K.y,Mt.x=Math.min(Mt.x,gt.x-te)))}Jt=["M "+j.x+","+j.y,"L "+gt.x+","+gt.y,"L "+Mt.x+","+Mt.y,"L "+K.x+","+K.y,"L "+Xt.x+","+Xt.y].join(" "),d.labelLine=Object(i.h)({},d.labelLine,{path:Jt})}function av(d,h,s,c){var m=h[0]&&h[0].get("coordinate");if(!!m){for(var j=m.getCenter(),K=m.getRadius(),gt={},Mt=0,Xt=h;Mt<Xt.length;Mt++){var Jt=Xt[Mt];gt[Jt.get("id")]=Jt}var te=Object(i.s)(d[0],"labelHeight",14),ae=Math.max(Object(i.s)(d[0],"offset",0),Ih);Object(i.j)(d,function(zn){var Ai=Object(i.s)(gt,[zn.id]);if(!!Ai){var ii=zn.x>j.x||zn.x===j.x&&zn.y>j.y,Qa=Object(i.I)(zn.offsetX)?ms:zn.offsetX,zi=pa(j.x,j.y,K+Ih,zn.angle),vo=ae+Qa;zn.x=j.x+(ii?1:-1)*(K+vo),zn.y=zi.y}});var fe=m.start,Ae=m.end,Ie="left",gr="right",Or=Object(i.v)(d,function(zn){return zn.x<j.x?Ie:gr}),Br=(K+ae)*2+te;Object(i.j)(Or,function(zn){var Ai=zn.length*te;Ai>Br&&(Br=Math.min(Ai,Math.abs(fe.y-Ae.y)))});var Gr={minX:fe.x,maxX:Ae.x,minY:j.y-Br/2,maxY:j.y+Br/2};Object(i.j)(Or,function(zn,Ai){var ii=Br/te;zn.length>ii&&(zn.sort(function(Qa,zi){return zi.percent-Qa.percent}),Object(i.j)(zn,function(Qa,zi){zi>ii&&(gt[Qa.id].set("visible",!1),Qa.invisible=!0)})),Ds(zn,te,Gr)});var Tn=Gr.minY,nn=Gr.maxY;Object(i.j)(Or,function(zn,Ai){var ii=Ai===gr;Object(i.j)(zn,function(Qa){var zi=Object(i.s)(gt,Qa&&[Qa.id]);if(!!zi){if(Qa.y<Tn||Qa.y>nn){zi.set("visible",!1);return}var vo=zi.getChildByIndex(0),oo=vo.getCanvasBBox(),qo={x:ii?oo.x:oo.maxX,y:oo.y+oo.height/2};Iu(vo,Qa.x-qo.x,Qa.y-qo.y),Qa.labelLine&&Ef(Qa,m,ii)}})})}}function jc(d,h,s,c){Object(i.j)(h,function(m){var j=c.minX,K=c.minY,gt=c.maxX,Mt=c.maxY,Xt=m.getCanvasBBox(),Jt=Xt.minX,te=Xt.minY,ae=Xt.maxX,fe=Xt.maxY,Ae=Xt.x,Ie=Xt.y,gr=Xt.width,Or=Xt.height,Br=Ae,Gr=Ie;(Jt<j||ae<j)&&(Br=j),(te<K||fe<K)&&(Gr=K),Jt>gt?Br=gt-gr:ae>gt&&(Br=Br-(ae-gt)),te>Mt?Gr=Mt-Or:fe>Mt&&(Gr=Gr-(fe-Mt)),(Br!==Ae||Gr!==Ie)&&Iu(m,Br-Ae,Gr-Ie)})}function jh(d,h,s,c){Object(i.j)(h,function(m,j){var K=m.getCanvasBBox(),gt=s[j].getBBox();(K.minX<gt.minX||K.minY<gt.minY||K.maxX>gt.maxX||K.maxY>gt.maxY)&&m.remove(!0)})}var Lh=100,Bh=function(){function d(h){h===void 0&&(h={}),this.bitmap={};var s=h.xGap,c=s===void 0?1:s,m=h.yGap,j=m===void 0?8:m;this.xGap=c,this.yGap=j}return d.prototype.hasGap=function(h){for(var s=!0,c=this.bitmap,m=Math.round(h.minX),j=Math.round(h.maxX),K=Math.round(h.minY),gt=Math.round(h.maxY),Mt=m;Mt<=j;Mt+=1){if(!c[Mt]){c[Mt]={};continue}if(Mt===m||Mt===j){for(var Xt=K;Xt<=gt;Xt++)if(c[Mt][Xt]){s=!1;break}}else if(c[Mt][K]||c[Mt][gt]){s=!1;break}}return s},d.prototype.fillGap=function(h){for(var s=this.bitmap,c=Math.round(h.minX),m=Math.round(h.maxX),j=Math.round(h.minY),K=Math.round(h.maxY),gt=c;gt<=m;gt+=1)s[gt]||(s[gt]={});for(var gt=c;gt<=m;gt+=this.xGap){for(var Mt=j;Mt<=K;Mt+=this.yGap)s[gt][Mt]=!0;s[gt][K]=!0}if(this.yGap!==1)for(var gt=j;gt<=K;gt+=1)s[c][gt]=!0,s[m][gt]=!0;if(this.xGap!==1)for(var gt=c;gt<=m;gt+=1)s[gt][j]=!0,s[gt][K]=!0},d.prototype.destroy=function(){this.bitmap={}},d}();function th(d,h,s){s===void 0&&(s=Lh);var c=-1,m=d.attr(),j=m.x,K=m.y,gt=d.getCanvasBBox(),Mt=Math.sqrt(gt.width*gt.width+gt.height*gt.height),Xt,Jt=-c,te=0,ae=0,fe=function(Br){var Gr=Br*.1;return[Gr*Math.cos(Gr),Gr*Math.sin(Gr)]};if(h.hasGap(gt))return h.fillGap(gt),!0;for(var Ae=!1,Ie=0,gr={};Math.min(Math.abs(te),Math.abs(ae))<Mt&&Ie<s;)if(Xt=fe(Jt+=c),te=~~Xt[0],ae=~~Xt[1],!(!te&&!ae||gr[te+"-"+ae])&&(d.attr({x:j+te,y:K+ae}),te+ae<0&&d.attr("textAlign","right"),Ie++,h.hasGap(d.getCanvasBBox()))){h.fillGap(d.getCanvasBBox()),Ae=!0,gr[te+"-"+ae]=!0;break}return Ae}function Al(d,h,s,c){var m=d.getCanvasBBox(),j=m.width,K=m.height,gt={x:h,y:s,textAlign:"center"};switch(c){case 0:gt.y-=K+1,gt.x+=1,gt.textAlign="left";break;case 1:gt.y-=K+1,gt.x-=1,gt.textAlign="right";break;case 2:gt.y+=K+1,gt.x-=1,gt.textAlign="right";break;case 3:gt.y+=K+1,gt.x+=1,gt.textAlign="left";break;case 5:gt.y-=K*2+2;break;case 6:gt.y+=K*2+2;break;case 7:gt.x+=j+1,gt.textAlign="left";break;case 8:gt.x-=j+1,gt.textAlign="right";break;default:break}return d.attr(gt),d.getCanvasBBox()}function Of(d,h,s,c){var m=new Bh;Object(i.j)(h,function(j){var K=j.find(function(gt){return gt.get("type")==="text"});th(K,m)||j.remove(!0)}),m.destroy()}function xf(d,h,s,c){var m=new Bh;Object(i.j)(h,function(j){for(var K=j.find(function(fe){return fe.get("type")==="text"}),gt=K.attr(),Mt=gt.x,Xt=gt.y,Jt=!1,te=0;te<=8;te++){var ae=Al(K,Mt,Xt,te);if(m.hasGap(ae)){m.fillGap(ae),Jt=!0;break}}Jt||j.remove(!0)}),m.destroy()}var Bu=Se.c.dot;function Cu(d){if(d.length>4)return[];var h=function(j,K){return[K.x-j.x,K.y-j.y]},s=h(d[0],d[1]),c=h(d[1],d[2]);return[s,c]}function $o(d,h,s){h===void 0&&(h=0),s===void 0&&(s={x:0,y:0});var c=d.x,m=d.y;return{x:(c-s.x)*Math.cos(-h)+(m-s.y)*Math.sin(-h)+s.x,y:(s.x-c)*Math.sin(-h)+(m-s.y)*Math.cos(-h)+s.y}}function Cf(d){var h=[{x:d.x,y:d.y},{x:d.x+d.width,y:d.y},{x:d.x+d.width,y:d.y+d.height},{x:d.x,y:d.y+d.height}],s=d.rotation;return s?[$o(h[0],s,h[0]),$o(h[1],s,h[0]),$o(h[2],s,h[0]),$o(h[3],s,h[0])]:h}function Lc(d,h){if(d.length>4)return{min:0,max:0};var s=[];return d.forEach(function(c){s.push(Bu([c.x,c.y],h))}),{min:Math.min.apply(Math,s),max:Math.max.apply(Math,s)}}function Af(d,h){return d.max>h.min&&d.min<h.max}function Sf(d,h,s){return s===void 0&&(s=0),!(h.x>d.x+d.width+s||h.x+h.width<d.x-s||h.y>d.y+d.height+s||h.y+h.height<d.y-s)}function nc(d,h){if(!d.rotation&&!h.rotation)return Sf(d,h);for(var s=Cf(d),c=Cf(h),m=Object(f.g)(Cu(s),Cu(c)),j=0;j<m.length;j++){var K=m[j],gt=Lc(s,K),Mt=Lc(c,K);if(!Af(gt,Mt))return!1}return!0}function Bc(d,h,s,c){for(var m=0;m<h.length;m++){var j=h[m];if(h[m].get("visible"))for(var K=m+1;K<h.length;K++){var gt=h[K];if(j&&gt&&j!==gt&&gt.get("visible")){var Mt=ju(j,d[m],Object(i.s)(d[m],"background.padding")),Xt=ju(gt,d[K],Object(i.s)(d[K],"background.padding"));nc(Mt,Xt)&&h[K].set("visible",!1)}}}}var ac={"#5B8FF9":!0},ic=function(h){var s=tt.a.toRGB(h).toUpperCase();if(ac[s])return ac[s];var c=tt.a.rgb2arr(s),m=c[0],j=c[1],K=c[2],gt=(m*299+j*587+K*114)/1e3<128;return gt};function wc(d,h,s){if(s.length!==0){var c=s[0].get("element"),m=c.geometry.theme,j=m.labels||{},K=j.fillColorLight,gt=j.fillColorDark;s.forEach(function(Mt,Xt){var Jt=h[Xt],te=Jt.find(function(Or){return Or.get("type")==="text"}),ae=rr.fromObject(Mt.getBBox()),fe=rr.fromObject(te.getCanvasBBox()),Ae=!ae.contains(fe),Ie=Mt.attr("fill"),gr=ic(Ie);Ae?te.attr(m.overflowLabels.style):gr?K&&te.attr("fill",K):gt&&te.attr("fill",gt)})}}function Rc(d,h,s){var c=d.coordinate,m=Ms(h),j=rr.fromObject(m.getCanvasBBox()),K=rr.fromObject(s.getBBox());return c.isTransposed?K.height>=j.height:K.width>=j.width}function wh(d,h,s){var c=!!d.getAdjust("stack");return c||h.every(function(m,j){var K=s[j];return Rc(d,m,K)})}function Fc(d,h,s){var c=d.coordinate,m=rr.fromObject(s.getBBox()),j=Ms(h);c.isTransposed?j.attr({x:m.minX+m.width/2,textAlign:"center"}):j.attr({y:m.minY+m.height/2,textBaseline:"middle"})}function ts(d,h,s){var c;if(s.length!==0){var m=(c=s[0])===null||c===void 0?void 0:c.get("element"),j=m==null?void 0:m.geometry;if(!(!j||j.type!=="interval")){var K=wh(j,h,s);K&&s.forEach(function(gt,Mt){var Xt=h[Mt];Fc(j,Xt,gt)})}}}function Rh(d){var h=500,s=[],c=Math.max(Math.floor(d.length/h),1);return Object(i.j)(d,function(m,j){j%c==0?s.push(m):m.set("visible",!1)}),s}function eh(d,h,s){var c;if(s.length!==0){var m=(c=s[0])===null||c===void 0?void 0:c.get("element"),j=m==null?void 0:m.geometry;if(!(!j||j.type!=="interval")){var K=Rh(h),gt=j.getXYFields()[0],Mt=[],Xt=[],Jt=Object(i.v)(K,function(Ie){return Ie.get("data")[gt]}),te=Object(i.rb)(Object(i.U)(K,function(Ie){return Ie.get("data")[gt]})),ae;K.forEach(function(Ie){Ie.set("visible",!0)});var fe=function(gr){gr&&(gr.length&&Xt.push(gr.pop()),Xt.push.apply(Xt,gr))};for(Object(i.jb)(te)>0&&(ae=te.shift(),fe(Jt[ae])),Object(i.jb)(te)>0&&(ae=te.pop(),fe(Jt[ae])),Object(i.j)(te.reverse(),function(Ie){fe(Jt[Ie])});Xt.length>0;){var Ae=Xt.shift();Ae.get("visible")&&($l(Ae,Mt)?Ae.set("visible",!1):Mt.push(Ae))}}}}function Ed(d,h){var s=d.getXYFields()[1],c=[],m=h.sort(function(j,K){return j.get("data")[s]-j.get("data")[s]});return m.length>0&&c.push(m.shift()),m.length>0&&c.push(m.pop()),c.push.apply(c,m),c}function Fh(d,h,s){return d.some(function(c){return s(c,h)})}function Od(d,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(d.x+d.width+s,h.x+h.width+s)-Math.max(d.x-s,h.x-s)),m=Math.max(0,Math.min(d.y+d.height+s,h.y+h.height+s)-Math.max(d.y-s,h.y-s));return c*m}function Yu(d,h){return Fh(d,h,function(s,c){var m=Ms(s),j=Ms(c);return Od(m.getCanvasBBox(),j.getCanvasBBox(),2)>0})}function Nh(d,h,s,c,m){var j,K;if(s.length!==0){var gt=(j=s[0])===null||j===void 0?void 0:j.get("element"),Mt=gt==null?void 0:gt.geometry;if(!(!Mt||Mt.type!=="point")){var Xt=Mt.getXYFields(),Jt=Xt[0],te=Xt[1],ae=Object(i.v)(h,function(Ie){return Ie.get("data")[Jt]}),fe=[],Ae=m&&m.offset||((K=d[0])===null||K===void 0?void 0:K.offset)||12;Object(i.U)(Object(i.R)(ae).reverse(),function(Ie){for(var gr=Ed(Mt,ae[Ie]);gr.length;){var Or=gr.shift(),Br=Ms(Or);if(Fh(fe,Or,function(nn,zn){return nn.get("data")[Jt]===zn.get("data")[Jt]&&nn.get("data")[te]===zn.get("data")[te]})){Br.set("visible",!1);continue}var Gr=Yu(fe,Or),Tn=!1;if(Gr&&(Br.attr("y",Br.attr("y")+2*Ae),Tn=Yu(fe,Or)),Tn){Br.set("visible",!1);continue}fe.push(Or)}})}}}function Gh(d,h){var s=d.getXYFields()[1],c=[],m=h.sort(function(j,K){return j.get("data")[s]-j.get("data")[s]});return m.length>0&&c.push(m.shift()),m.length>0&&c.push(m.pop()),c.push.apply(c,m),c}function rh(d,h,s){return d.some(function(c){return s(c,h)})}function xd(d,h,s){s===void 0&&(s=0);var c=Math.max(0,Math.min(d.x+d.width+s,h.x+h.width+s)-Math.max(d.x-s,h.x-s)),m=Math.max(0,Math.min(d.y+d.height+s,h.y+h.height+s)-Math.max(d.y-s,h.y-s));return c*m}function nh(d,h){return rh(d,h,function(s,c){var m=Ms(s),j=Ms(c);return xd(m.getCanvasBBox(),j.getCanvasBBox(),2)>0})}function ah(d,h,s,c,m){var j,K;if(s.length!==0){var gt=(j=s[0])===null||j===void 0?void 0:j.get("element"),Mt=gt==null?void 0:gt.geometry;if(!(!Mt||["path","line","area"].indexOf(Mt.type)<0)){var Xt=Mt.getXYFields(),Jt=Xt[0],te=Xt[1],ae=Object(i.v)(h,function(Ie){return Ie.get("data")[Jt]}),fe=[],Ae=m&&m.offset||((K=d[0])===null||K===void 0?void 0:K.offset)||12;Object(i.U)(Object(i.R)(ae).reverse(),function(Ie){for(var gr=Gh(Mt,ae[Ie]);gr.length;){var Or=gr.shift(),Br=Ms(Or);if(rh(fe,Or,function(nn,zn){return nn.get("data")[Jt]===zn.get("data")[Jt]&&nn.get("data")[te]===zn.get("data")[te]})){Br.set("visible",!1);continue}var Gr=nh(fe,Or),Tn=!1;if(Gr&&(Br.attr("y",Br.attr("y")+2*Ae),Tn=nh(fe,Or)),Tn){Br.set("visible",!1);continue}fe.push(Or)}})}}}var Ys;function ih(){return Ys||(Ys=document.createElement("canvas").getContext("2d")),Ys}var Uo=Object(i.Y)(function(d,h){h===void 0&&(h={});var s=h.fontSize,c=h.fontFamily,m=h.fontWeight,j=h.fontStyle,K=h.fontVariant,gt=ih();return gt.font=[j,K,m,s+"px",c].join(" "),gt.measureText(Object(i.O)(d)?d:"").width},function(d,h){return h===void 0&&(h={}),Object(f.g)([d],Object(i.ub)(h)).join("")}),Zo=function(h,s,c){var m=16,j=Uo("...",c),K;Object(i.O)(h)?K=h:K=Object(i.qb)(h);var gt=s,Mt=[],Xt,Jt;if(Uo(h,c)<=s)return h;for(;Xt=K.substr(0,m),Jt=Uo(Xt,c),!(Jt+j>gt&&Jt>gt);)if(Mt.push(Xt),gt-=Jt,K=K.substr(m),!K)return Mt.join("");for(;Xt=K.substr(0,1),Jt=Uo(Xt,c),!(Jt+j>gt);)if(Mt.push(Xt),gt-=Jt,K=K.substr(1),!K)return Mt.join("");return Mt.join("")+"..."};function Ku(d,h,s,c,m){if(!(h.length<=0)){var j=(m==null?void 0:m.direction)||["top","right","bottom","left"],K=(m==null?void 0:m.action)||"translate",gt=(m==null?void 0:m.margin)||0,Mt=h[0].get("coordinate");if(!!Mt){var Xt=na(Mt,gt),Jt=Xt.minX,te=Xt.minY,ae=Xt.maxX,fe=Xt.maxY;Object(i.j)(h,function(Ae){var Ie=Ae.getCanvasBBox(),gr=Ie.minX,Or=Ie.minY,Br=Ie.maxX,Gr=Ie.maxY,Tn=Ie.x,nn=Ie.y,zn=Ie.width,Ai=Ie.height,ii=Tn,Qa=nn;if(j.indexOf("left")>=0&&(gr<Jt||Br<Jt)&&(ii=Jt),j.indexOf("top")>=0&&(Or<te||Gr<te)&&(Qa=te),j.indexOf("right")>=0&&(gr>ae?ii=ae-zn:Br>ae&&(ii=ii-(Br-ae))),j.indexOf("bottom")>=0&&(Or>fe?Qa=fe-Ai:Gr>fe&&(Qa=Qa-(Gr-fe))),ii!==Tn||Qa!==nn){var zi=ii-Tn;if(K==="translate")Iu(Ae,zi,Qa-nn);else if(K==="ellipsis"){var vo=Ae.findAll(function(oo){return oo.get("type")==="text"});vo.forEach(function(oo){var qo=Object(i.eb)(oo.attr(),["fontSize","fontFamily","fontWeight","fontStyle","fontVariant"]),Is=oo.getCanvasBBox(),Es=Zo(oo.attr("text"),Is.width-Math.abs(zi),qo);oo.attr("text",Es)})}else Ae.hide()}})}}}function oh(d,h,s){var c={fillOpacity:Object(i.I)(d.attr("fillOpacity"))?1:d.attr("fillOpacity"),strokeOpacity:Object(i.I)(d.attr("strokeOpacity"))?1:d.attr("strokeOpacity"),opacity:Object(i.I)(d.attr("opacity"))?1:d.attr("opacity")};d.attr({fillOpacity:0,strokeOpacity:0,opacity:0}),d.animate(c,h)}function Nc(d,h,s){var c={fillOpacity:0,strokeOpacity:0,opacity:0},m=h.easing,j=h.duration,K=h.delay;d.animate(c,j,m,function(){d.remove(!0)},K)}function Gc(d,h,s){var c,m=h[0],j=h[1];return d.applyToMatrix([m,j,1]),s==="x"?(d.setMatrix(Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",.01,1],["t",m,j]])),c=Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",100,1],["t",m,j]])):s==="y"?(d.setMatrix(Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",1,.01],["t",m,j]])),c=Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",1,100],["t",m,j]])):s==="xy"&&(d.setMatrix(Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",.01,.01],["t",m,j]])),c=Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",100,100],["t",m,j]])),c}function bs(d,h,s,c,m){var j=s.start,K=s.end,gt=s.getWidth(),Mt=s.getHeight(),Xt,Jt;m==="y"?(Xt=j.x+gt/2,Jt=c.y<j.y?c.y:j.y):m==="x"?(Xt=c.x>j.x?c.x:j.x,Jt=j.y+Mt/2):m==="xy"&&(s.isPolar?(Xt=s.getCenter().x,Jt=s.getCenter().y):(Xt=(j.x+K.x)/2,Jt=(j.y+K.y)/2));var te=Gc(d,[Xt,Jt],m);d.animate({matrix:te},h)}function sl(d,h,s){var c=s.coordinate,m=s.minYPoint;bs(d,h,c,m,"x")}function Wo(d,h,s){var c=s.coordinate,m=s.minYPoint;bs(d,h,c,m,"y")}function Ks(d,h,s){var c=s.coordinate,m=s.minYPoint;bs(d,h,c,m,"xy")}function Sl(d,h,s){var c=d.getTotalLength();d.attr("lineDash",[c]),d.animate(function(m){return{lineDashOffset:(1-m)*c}},h)}function Uc(d,h,s){var c=s.toAttrs,m=c.x,j=c.y;delete c.x,delete c.y,d.attr(c),d.animate({x:m,y:j},h)}function Wc(d,h,s){var c=d.getBBox(),m=d.get("origin").mappingData,j=m.points,K=j[0].y-j[1].y>0?c.maxX:c.minX,gt=(c.minY+c.maxY)/2;d.applyToMatrix([K,gt,1]);var Mt=Se.a.transform(d.getMatrix(),[["t",-K,-gt],["s",.01,1],["t",K,gt]]);d.setMatrix(Mt),d.animate({matrix:Se.a.transform(d.getMatrix(),[["t",-K,-gt],["s",100,1],["t",K,gt]])},h)}function Uh(d,h,s){var c=d.getBBox(),m=d.get("origin").mappingData,j=(c.minX+c.maxX)/2,K=m.points,gt=K[0].y-K[1].y<=0?c.maxY:c.minY;d.applyToMatrix([j,gt,1]);var Mt=Se.a.transform(d.getMatrix(),[["t",-j,-gt],["s",1,.01],["t",j,gt]]);d.setMatrix(Mt),d.animate({matrix:Se.a.transform(d.getMatrix(),[["t",-j,-gt],["s",1,100],["t",j,gt]])},h)}function zc(d,h){var s,c=Object(Hn.getArcParams)(d,h),m=c.startAngle,j=c.endAngle;return!Object(i.L)(m,-Math.PI*.5)&&m<-Math.PI*.5&&(m+=Math.PI*2),!Object(i.L)(j,-Math.PI*.5)&&j<-Math.PI*.5&&(j+=Math.PI*2),h[5]===0&&(s=[j,m],m=s[0],j=s[1]),Object(i.L)(m,Math.PI*1.5)&&(m=Math.PI*-.5),Object(i.L)(j,Math.PI*-.5)&&(j=Math.PI*1.5),{startAngle:m,endAngle:j}}function Ml(d){var h;return d[0]==="M"||d[0]==="L"?h=[d[1],d[2]]:(d[0]==="a"||d[0]==="A"||d[0]==="C")&&(h=[d[d.length-2],d[d.length-1]]),h}function kc(d){var h,s,c,m=d.filter(function(Gr){return Gr[0]==="A"||Gr[0]==="a"});if(m.length===0)return{startAngle:0,endAngle:0,radius:0,innerRadius:0};var j=m[0],K=m.length>1?m[1]:m[0],gt=d.indexOf(j),Mt=d.indexOf(K),Xt=Ml(d[gt-1]),Jt=Ml(d[Mt-1]),te=zc(Xt,j),ae=te.startAngle,fe=te.endAngle,Ae=zc(Jt,K),Ie=Ae.startAngle,gr=Ae.endAngle;Object(i.L)(ae,Ie)&&Object(i.L)(fe,gr)?(s=ae,c=fe):(s=Math.min(ae,Ie),c=Math.max(fe,gr));var Or=j[1],Br=m[m.length-1][1];return Or<Br?(h=[Br,Or],Or=h[0],Br=h[1]):Or===Br&&(Br=0),{startAngle:s,endAngle:c,radius:Or,innerRadius:Br}}function Tl(d,h,s){var c=s.toAttrs,m=s.coordinate,j=c.path||[],K=j.map(function(Br){return Br[0]});if(!(j.length<1)){var gt=kc(j),Mt=gt.startAngle,Xt=gt.endAngle,Jt=gt.radius,te=gt.innerRadius,ae=kc(d.attr("path")),fe=ae.startAngle,Ae=ae.endAngle,Ie=m.getCenter(),gr=Mt-fe,Or=Xt-Ae;if(gr===0&&Or===0){d.attr("path",j);return}d.animate(function(Br){var Gr=fe+Br*gr,Tn=Ae+Br*Or;return Object(f.a)(Object(f.a)({},c),{path:Object(i.G)(K,["M","A","A","Z"])?Xi(Ie.x,Ie.y,Jt,Gr,Tn):ga(Ie.x,Ie.y,Jt,Gr,Tn,te)})},Object(f.a)(Object(f.a)({},h),{callback:function(){d.attr("path",j)}}))}}function Mf(d,h,s){var c=Oa(s.coordinate,20),m=c.type,j=c.startState,K=c.endState,gt=d.setClip({type:m,attrs:j});gt.animate(K,Object(f.a)(Object(f.a)({},h),{callback:function(){d&&!d.get("destroyed")&&d.set("clipShape",null),gt.remove(!0)}}))}function Dl(d,h,s){if(d.isGroup())Object(i.j)(d.getChildren(),function(gt){Dl(gt,h,s)});else{var c=d.getBBox(),m=(c.minX+c.maxX)/2,j=(c.minY+c.maxY)/2;if(d.applyToMatrix([m,j,1]),s==="zoomIn"){var K=Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",.01,.01],["t",m,j]]);d.setMatrix(K),d.animate({matrix:Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",100,100],["t",m,j]])},h)}else d.animate({matrix:Se.a.transform(d.getMatrix(),[["t",-m,-j],["s",.01,.01],["t",m,j]])},Object(f.a)(Object(f.a)({},h),{callback:function(){d.remove(!0)}}))}}function Wh(d,h,s){Dl(d,h,"zoomIn")}function sh(d,h,s){Dl(d,h,"zoomOut")}function wu(d){return[p.TOP,p.BOTTOM].includes(d)?{offsetX:0,offsetY:d===p.TOP?-8:8,style:{textAlign:"center",textBaseline:d===p.TOP?"bottom":"top"}}:[p.LEFT,p.RIGHT].includes(d)?{offsetX:d===p.LEFT?-8:8,offsetY:0,style:{textAlign:d===p.LEFT?"right":"left",textBaseline:"middle",rotate:Math.PI/2}}:{}}function oc(d,h,s){return{x:d.x+h*Math.cos(s),y:d.y+h*Math.sin(s)}}var zh=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"circle",showTitle:!0,title:d.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.getRegion=function(s,c){var m=1/2,j={x:.5,y:.5},K=Math.PI*2/s,gt=-1*Math.PI/2+K*c,Mt=m/(1+1/Math.sin(K/2)),Xt=oc(j,m-Mt,gt),Jt=Math.PI*5/4,te=Math.PI*1/4;return{start:oc(Xt,Mt,Jt),end:oc(Xt,Mt,te)}},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,m=this.cfg,j=m.fields,K=m.type,gt=j[0];if(!gt)throw new Error("No `fields` specified!");var Mt=this.getFieldValues(s,gt),Xt=Mt.length,Jt=[];return Mt.forEach(function(te,ae){var fe=[{field:gt,value:te,values:Mt}],Ae=Object(i.l)(s,c.getFacetDataFilter(fe)),Ie={type:K,data:Ae,region:c.getRegion(Xt,ae),columnValue:te,columnField:gt,columnIndex:ae,columnValuesLength:Xt,rowValue:null,rowField:null,rowIndex:0,rowValuesLength:1};Jt.push(Ie)}),Jt},h.prototype.getXAxisOption=function(s,c,m,j){return m},h.prototype.getYAxisOption=function(s,c,m,j){return m},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,j=c.view,K=Object(i.s)(s.cfg.title,"formatter"),gt=Object(i.h)({position:["50%","0%"],content:K?K(m):m},wu(p.TOP),s.cfg.title);j.annotation().text(gt)})},h}(ta),Cd=zh,uh=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"list",cols:null,showTitle:!0,title:d.prototype.getDefaultTitleCfg.call(this)})},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields,j=this.cfg.cols,K=m[0];if(!K)throw new Error("No `fields` specified!");var gt=this.getFieldValues(s,K),Mt=gt.length;j=j||Mt;var Xt=this.getPageCount(Mt,j),Jt=[];return gt.forEach(function(te,ae){var fe=c.getRowCol(ae,j),Ae=fe.row,Ie=fe.col,gr=[{field:K,value:te,values:gt}],Or=Object(i.l)(s,c.getFacetDataFilter(gr)),Br={type:c.cfg.type,data:Or,region:c.getRegion(Xt,j,Ie,Ae),columnValue:te,rowValue:te,columnField:K,rowField:null,columnIndex:Ie,rowIndex:Ae,columnValuesLength:j,rowValuesLength:Xt,total:Mt};Jt.push(Br)}),Jt},h.prototype.getXAxisOption=function(s,c,m,j){return j.rowIndex!==j.rowValuesLength-1&&j.columnValuesLength*j.rowIndex+j.columnIndex+1+j.columnValuesLength<=j.total?Object(f.a)(Object(f.a)({},m),{label:null,title:null}):m},h.prototype.getYAxisOption=function(s,c,m,j){return j.columnIndex!==0?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):m},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,j=c.view,K=Object(i.s)(s.cfg.title,"formatter"),gt=Object(i.h)({position:["50%","0%"],content:K?K(m):m},wu(p.TOP),s.cfg.title);j.annotation().text(gt)})},h.prototype.getPageCount=function(s,c){return Math.floor((s+c-1)/c)},h.prototype.getRowCol=function(s,c){var m=Math.floor(s/c),j=s%c;return{row:m,col:j}},h}(ta),Ad=uh,ie=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"matrix",showTitle:!1,columnTitle:Object(f.a)({},d.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(f.a)({},d.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.generateFacets=function(s){for(var c=this.cfg,m=c.fields,j=c.type,K=m.length,gt=K,Mt=[],Xt=0;Xt<gt;Xt++)for(var Jt=m[Xt],te=0;te<K;te++){var ae=m[te],fe={type:j,data:s,region:this.getRegion(K,gt,Xt,te),columnValue:Jt,rowValue:ae,columnField:Jt,rowField:ae,columnIndex:Xt,rowIndex:te,columnValuesLength:gt,rowValuesLength:K};Mt.push(fe)}return Mt},h.prototype.getXAxisOption=function(s,c,m,j){return j.rowIndex!==j.rowValuesLength-1?Object(f.a)(Object(f.a)({},m),{label:null,title:null}):m},h.prototype.getYAxisOption=function(s,c,m,j){return j.columnIndex!==0?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):m},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var j=c.columnIndex,K=c.rowIndex,gt=c.columnValuesLength,Mt=c.rowValuesLength,Xt=c.columnValue,Jt=c.rowValue,te=c.view;if(K===0){var ae=Object(i.s)(s.cfg.columnTitle,"formatter"),fe=Object(i.h)({position:["50%","0%"],content:ae?ae(Xt):Xt},wu(p.TOP),s.cfg.columnTitle);te.annotation().text(fe)}if(j===gt-1){var ae=Object(i.s)(s.cfg.rowTitle,"formatter"),fe=Object(i.h)({position:["100%","50%"],content:ae?ae(Jt):Jt},wu(p.RIGHT),s.cfg.rowTitle);te.annotation().text(fe)}})},h}(ta),ge=ie,ze=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"mirror",showTitle:!0,title:d.prototype.getDefaultTitleCfg.call(this),transpose:!1})},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.beforeEachView=function(s,c){this.cfg.transpose?c.columnIndex%2==0?s.coordinate().transpose().reflect("x"):s.coordinate().transpose():c.rowIndex%2!=0&&s.coordinate().reflect("y")},h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields[0],j=[],K=1,gt=1,Mt=[""],Xt=[""],Jt,te;return this.cfg.transpose?(Jt=m,Mt=this.getFieldValues(s,Jt).slice(0,2),K=Mt.length):(te=m,Xt=this.getFieldValues(s,te).slice(0,2),gt=Xt.length),Mt.forEach(function(ae,fe){Xt.forEach(function(Ae,Ie){var gr=[{field:Jt,value:ae,values:Mt},{field:te,value:Ae,values:Xt}],Or=Object(i.l)(s,c.getFacetDataFilter(gr)),Br={type:c.cfg.type,data:Or,region:c.getRegion(gt,K,fe,Ie),columnValue:ae,rowValue:Ae,columnField:Jt,rowField:te,columnIndex:fe,rowIndex:Ie,columnValuesLength:K,rowValuesLength:gt};j.push(Br)})}),j},h.prototype.getXAxisOption=function(s,c,m,j){return j.columnIndex===1||j.rowIndex===1?Object(f.a)(Object(f.a)({},m),{label:null,title:null}):m},h.prototype.getYAxisOption=function(s,c,m,j){return m},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var j=c.columnValue,K=c.rowValue,gt=c.view,Mt=Object(i.s)(s.cfg.title,"formatter");if(s.cfg.transpose){var Xt=Object(i.h)({position:["50%","0%"],content:Mt?Mt(j):j},wu(p.TOP),s.cfg.title);gt.annotation().text(Xt)}else{var Xt=Object(i.h)({position:["100%","50%"],content:Mt?Mt(K):K},wu(p.RIGHT),s.cfg.title);gt.annotation().text(Xt)}})},h}(ta),Dr=ze,$r=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"rect",columnTitle:Object(f.a)({},d.prototype.getDefaultTitleCfg.call(this)),rowTitle:Object(f.a)({},d.prototype.getDefaultTitleCfg.call(this))})},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.generateFacets=function(s){var c=this,m=this.cfg.fields,j=m[0],K=m[1],gt=[],Mt=1,Xt=1,Jt=[""],te=[""];return j&&(Jt=this.getFieldValues(s,j),Mt=Jt.length),K&&(te=this.getFieldValues(s,K),Xt=te.length),Jt.forEach(function(ae,fe){te.forEach(function(Ae,Ie){var gr=[{field:j,value:ae,values:Jt},{field:K,value:Ae,values:te}],Or=Object(i.l)(s,c.getFacetDataFilter(gr)),Br={type:c.cfg.type,data:Or,region:c.getRegion(Xt,Mt,fe,Ie),columnValue:ae,rowValue:Ae,columnField:j,rowField:K,columnIndex:fe,rowIndex:Ie,columnValuesLength:Mt,rowValuesLength:Xt};gt.push(Br)})}),gt},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c,m){var j=c.columnIndex,K=c.rowIndex,gt=c.columnValuesLength,Mt=c.columnValue,Xt=c.rowValue,Jt=c.view;if(K===0){var te=Object(i.s)(s.cfg.columnTitle,"formatter"),ae=Object(i.h)({position:["50%","0%"],content:te?te(Mt):Mt},wu(p.TOP),s.cfg.columnTitle);Jt.annotation().text(ae)}if(j===gt-1){var te=Object(i.s)(s.cfg.rowTitle,"formatter"),ae=Object(i.h)({position:["100%","50%"],content:te?te(Xt):Xt},wu(p.RIGHT),s.cfg.rowTitle);Jt.annotation().text(ae)}})},h.prototype.getXAxisOption=function(s,c,m,j){return j.rowIndex!==j.rowValuesLength-1?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):j.columnIndex!==Math.floor((j.columnValuesLength-1)/2)?Object(f.a)(Object(f.a)({},m),{title:null}):m},h.prototype.getYAxisOption=function(s,c,m,j){return j.columnIndex!==0?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):j.rowIndex!==Math.floor((j.rowValuesLength-1)/2)?Object(f.a)(Object(f.a)({},m),{title:null}):m},h}(ta),kr=$r,Pr=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.afterChartRender=function(){s.facets&&s.cfg.line&&(s.container.clear(),s.drawLines(s.facets))},s}return h.prototype.afterEachView=function(s,c){this.processAxis(s,c)},h.prototype.beforeEachView=function(s,c){},h.prototype.init=function(){d.prototype.init.call(this),this.view.on(A.AFTER_RENDER,this.afterChartRender)},h.prototype.getDefaultCfg=function(){return Object(i.h)({},d.prototype.getDefaultCfg.call(this),{type:"tree",line:{style:{lineWidth:1,stroke:"#ddd"},smooth:!1},showTitle:!0,title:d.prototype.getDefaultTitleCfg.call(this)})},h.prototype.generateFacets=function(s){var c=this.cfg.fields;if(!c.length)throw new Error("Please specify for the fields for rootFacet!");var m=[],j={type:this.cfg.type,data:s,region:null,rowValuesLength:this.getRows(),columnValuesLength:1,rowIndex:0,columnIndex:0,rowField:"",columnField:"",rowValue:"",columnValue:""};return m.push(j),j.children=this.getChildFacets(s,1,m),this.setRegion(m),m},h.prototype.setRegion=function(s){var c=this;this.forceColIndex(s),s.forEach(function(m){m.region=c.getRegion(m.rowValuesLength,m.columnValuesLength,m.columnIndex,m.rowIndex)})},h.prototype.getRegion=function(s,c,m,j){var K=1/c,gt=1/s,Mt={x:K*m,y:gt*j},Xt={x:Mt.x+K,y:Mt.y+gt*2/3};return{start:Mt,end:Xt}},h.prototype.forceColIndex=function(s){var c=this,m=[],j=0;s.forEach(function(ae){c.isLeaf(ae)&&(m.push(ae),ae.columnIndex=j,j++)}),m.forEach(function(ae){ae.columnValuesLength=m.length});for(var K=this.cfg.fields.length,gt=K-1;gt>=0;gt--)for(var Mt=this.getFacetsByLevel(s,gt),Xt=0,Jt=Mt;Xt<Jt.length;Xt++){var te=Jt[Xt];this.isLeaf(te)||(te.originColIndex=te.columnIndex,te.columnIndex=this.getRegionIndex(te.children),te.columnValuesLength=m.length)}},h.prototype.getFacetsByLevel=function(s,c){var m=[];return s.forEach(function(j){j.rowIndex===c&&m.push(j)}),m},h.prototype.getRegionIndex=function(s){var c=s[0],m=s[s.length-1];return(m.columnIndex-c.columnIndex)/2+c.columnIndex},h.prototype.isLeaf=function(s){return!s.children||!s.children.length},h.prototype.getRows=function(){return this.cfg.fields.length+1},h.prototype.getChildFacets=function(s,c,m){var j=this,K=this.cfg.fields,gt=K.length;if(!(gt<c)){var Mt=[],Xt=K[c-1],Jt=this.getFieldValues(s,Xt);return Jt.forEach(function(te,ae){var fe=[{field:Xt,value:te,values:Jt}],Ae=s.filter(j.getFacetDataFilter(fe));if(Ae.length){var Ie={type:j.cfg.type,data:Ae,region:null,columnValue:te,rowValue:"",columnField:Xt,rowField:"",columnIndex:ae,rowValuesLength:j.getRows(),columnValuesLength:1,rowIndex:c,children:j.getChildFacets(Ae,c+1,m)};Mt.push(Ie),m.push(Ie)}}),Mt}},h.prototype.render=function(){d.prototype.render.call(this),this.cfg.showTitle&&this.renderTitle()},h.prototype.renderTitle=function(){var s=this;Object(i.j)(this.facets,function(c){var m=c.columnValue,j=c.view,K=Object(i.s)(s.cfg.title,"formatter"),gt=Object(i.h)({position:["50%","0%"],content:K?K(m):m},wu(p.TOP),s.cfg.title);j.annotation().text(gt)})},h.prototype.drawLines=function(s){var c=this;s.forEach(function(m){if(!c.isLeaf(m)){var j=m.children;c.addFacetLines(m,j)}})},h.prototype.addFacetLines=function(s,c){var m=this,j=s.view,K=j.coordinateBBox,gt={x:K.x+K.width/2,y:K.y+K.height};c.forEach(function(Mt){var Xt=Mt.view.coordinateBBox,Jt={x:Xt.bl.x+(Xt.tr.x-Xt.bl.x)/2,y:Xt.tr.y},te={x:gt.x,y:gt.y+(Jt.y-gt.y)/2},ae={x:Jt.x,y:te.y};m.drawLine([gt,te,ae,Jt])})},h.prototype.getPath=function(s){var c=[],m=this.cfg.line.smooth;return m?(c.push(["M",s[0].x,s[0].y]),c.push(["C",s[1].x,s[1].y,s[2].x,s[2].y,s[3].x,s[3].y])):s.forEach(function(j,K){K===0?c.push(["M",j.x,j.y]):c.push(["L",j.x,j.y])}),c},h.prototype.drawLine=function(s){var c=this.getPath(s),m=this.cfg.line.style;this.container.addShape("path",{attrs:Object(i.b)({path:c},m)})},h.prototype.getXAxisOption=function(s,c,m,j){return j.rowIndex!==j.rowValuesLength-1?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):m},h.prototype.getYAxisOption=function(s,c,m,j){return j.originColIndex!==0&&j.columnIndex!==0?Object(f.a)(Object(f.a)({},m),{title:null,label:null}):m},h}(ta),pn=Pr;function jn(d){var h=Object(f.g)(d);h.sort(function(c,m){return c-m});var s=h.length;return s===0?0:s%2==1?h[(s-1)/2]:(h[s/2]+h[s/2-1])/2}function An(d){var h=Object(i.fb)(d,function(s,c){return s+=isNaN(c)||!Object(i.K)(c)?0:c},0);return d.length===0?0:h/d.length}function En(d,h){var s;switch(d){case"start":return 0;case"end":return 1;case"median":{s=h.isCategory?jn(h.values.map(function(c,m){return m})):jn(h.values);break}case"mean":{s=h.isCategory?(h.values.length-1)/2:An(h.values);break}case"min":s=h.isCategory?0:h[d];break;case"max":s=h.isCategory?h.values.length-1:h[d];break;default:s=d;break}return h.scale(s)}var Ln=["regionFilter","shape"],$n=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.cache=new Map,c.foregroundContainer=c.view.getLayer(g.FORE).addGroup(),c.backgroundContainer=c.view.getLayer(g.BG).addGroup(),c.option=[],c}return Object.defineProperty(h.prototype,"name",{get:function(){return"annotation"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.layout=function(){this.update()},h.prototype.render=function(){},h.prototype.update=function(){var s=this;this.onAfterRender(function(){var m=new Map;Object(i.j)(s.option,function(j){if(Object(i.z)(Ln,j.type)){var K=s.updateOrCreate(j);K&&m.set(s.getCacheKey(j),K)}}),s.cache=s.syncCache(m)});var c=new Map;Object(i.j)(this.option,function(m){if(!Object(i.z)(Ln,m.type)){var j=s.updateOrCreate(m);j&&c.set(s.getCacheKey(m),j)}}),this.cache=this.syncCache(c)},h.prototype.clear=function(s){s===void 0&&(s=!1),d.prototype.clear.call(this),this.clearComponents(),this.foregroundContainer.clear(),this.backgroundContainer.clear(),s&&(this.option=[])},h.prototype.destroy=function(){this.clear(!0),this.foregroundContainer.remove(!0),this.backgroundContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.clearComponents=function(){this.getComponents().forEach(function(s){s.component.destroy()}),this.cache.clear()},h.prototype.onAfterRender=function(s){this.view.getOptions().animate?this.view.geometries.forEach(function(c){c.animateOption&&c.once(M.AFTER_DRAW_ANIMATE,function(){s()})}):this.view.getRootView().once(A.AFTER_RENDER,function(){s()})},h.prototype.createAnnotation=function(s){var c=s.type,m=yr.Annotation[Object(i.tb)(c)];if(m){var j=this.getAnnotationTheme(c),K=this.getAnnotationCfg(c,s,j),gt=new m(K);return{component:gt,layer:this.isTop(K)?g.FORE:g.BG,direction:p.NONE,type:E.ANNOTATION,extra:s}}},h.prototype.annotation=function(s){this.option.push(s)},h.prototype.arc=function(s){return this.annotation(Object(f.a)({type:"arc"},s)),this},h.prototype.image=function(s){return this.annotation(Object(f.a)({type:"image"},s)),this},h.prototype.line=function(s){return this.annotation(Object(f.a)({type:"line"},s)),this},h.prototype.region=function(s){return this.annotation(Object(f.a)({type:"region"},s)),this},h.prototype.text=function(s){return this.annotation(Object(f.a)({type:"text"},s)),this},h.prototype.dataMarker=function(s){return this.annotation(Object(f.a)({type:"dataMarker"},s)),this},h.prototype.dataRegion=function(s){this.annotation(Object(f.a)({type:"dataRegion"},s))},h.prototype.regionFilter=function(s){this.annotation(Object(f.a)({type:"regionFilter"},s))},h.prototype.shape=function(s){this.annotation(Object(f.a)({type:"shape"},s))},h.prototype.html=function(s){this.annotation(Object(f.a)({type:"html"},s))},h.prototype.parsePosition=function(s){var c=this.view.getXScale(),m=this.view.getScalesByDim("y"),j=Object(i.H)(s)?s.call(null,c,m):s,K=0,gt=0;if(Object(i.B)(j)){var Mt=j[0],Xt=j[1];if(Object(i.O)(Mt)&&Mt.indexOf("%")!==-1&&!isNaN(Mt.slice(0,-1)))return this.parsePercentPosition(j);K=En(Mt,c),gt=En(Xt,Object.values(m)[0])}else if(!Object(i.I)(j))for(var Jt=0,te=Object(i.R)(j);Jt<te.length;Jt++){var ae=te[Jt],fe=j[ae];ae===c.field&&(K=En(fe,c)),m[ae]&&(gt=En(fe,m[ae]))}return this.view.getCoordinate().convert({x:K,y:gt})},h.prototype.getRegionPoints=function(s,c){var m=this,j=this.view.getXScale(),K=this.view.getScalesByDim("y"),gt=Object.values(K)[0],Mt=j.field,Xt=this.view.getData(),Jt=Object(i.B)(s)?s[0]:s[Mt],te=Object(i.B)(c)?c[0]:c[Mt],ae=[],fe;return Object(i.j)(Xt,function(Ae,Ie){if(Ae[Mt]===Jt&&(fe=Ie),Ie>=fe){var gr=m.parsePosition([Ae[Mt],Ae[gt.field]]);gr&&ae.push(gr)}if(Ae[Mt]===te)return!1}),ae},h.prototype.parsePercentPosition=function(s){var c=parseFloat(s[0])/100,m=parseFloat(s[1])/100,j=this.view.getCoordinate(),K=j.start,gt=j.end,Mt={x:Math.min(K.x,gt.x),y:Math.min(K.y,gt.y)},Xt=j.getWidth()*c+Mt.x,Jt=j.getHeight()*m+Mt.y;return{x:Xt,y:Jt}},h.prototype.getCoordinateBBox=function(){var s=this.view.getCoordinate(),c=s.start,m=s.end,j=s.getWidth(),K=s.getHeight(),gt={x:Math.min(c.x,m.x),y:Math.min(c.y,m.y)};return{x:gt.x,y:gt.y,minX:gt.x,minY:gt.y,maxX:gt.x+j,maxY:gt.y+K,width:j,height:K}},h.prototype.getAnnotationCfg=function(s,c,m){var j=this,K=this.view.getCoordinate(),gt=this.view.getCanvas(),Mt={};if(Object(i.I)(c))return null;if(s==="arc"){var Xt=c,Jt=Xt.start,te=Xt.end,ae=this.parsePosition(Jt),fe=this.parsePosition(te),Ae=on(K,ae),Ie=on(K,fe);Ae>Ie&&(Ie=Math.PI*2+Ie),Mt={center:K.getCenter(),radius:tn(K,ae),startAngle:Ae,endAngle:Ie}}else if(s==="image"){var gr=c,Jt=gr.start,te=gr.end;Mt={start:this.parsePosition(Jt),end:this.parsePosition(te),src:c.src}}else if(s==="line"){var Or=c,Jt=Or.start,te=Or.end;Mt={start:this.parsePosition(Jt),end:this.parsePosition(te),text:Object(i.s)(c,"text",null)}}else if(s==="region"){var Br=c,Jt=Br.start,te=Br.end;Mt={start:this.parsePosition(Jt),end:this.parsePosition(te)}}else if(s==="text"){var Gr=this.view.getData(),Tn=c,nn=Tn.position,zn=Tn.content,Ai=Object(f.e)(Tn,["position","content"]),ii=zn;Object(i.H)(zn)&&(ii=zn(Gr)),Mt=Object(f.a)(Object(f.a)(Object(f.a)({},this.parsePosition(nn)),Ai),{content:ii})}else if(s==="dataMarker"){var Qa=c,nn=Qa.position,zi=Qa.point,vo=Qa.line,oo=Qa.text,qo=Qa.autoAdjust,Is=Qa.direction;Mt=Object(f.a)(Object(f.a)({},this.parsePosition(nn)),{coordinateBBox:this.getCoordinateBBox(),point:zi,line:vo,text:oo,autoAdjust:qo,direction:Is})}else if(s==="dataRegion"){var Es=c,Jt=Es.start,te=Es.end,Os=Es.region,oo=Es.text,jl=Es.lineLength;Mt={points:this.getRegionPoints(Jt,te),region:Os,text:oo,lineLength:jl}}else if(s==="regionFilter"){var ll=c,Jt=ll.start,te=ll.end,Pd=ll.apply,xv=ll.color,Cv=this.view.geometries,Id=[],jd=function Xc($u){!$u||($u.isGroup()?$u.getChildren().forEach(function(Tv){return Xc(Tv)}):Id.push($u))};Object(i.j)(Cv,function(Xc){Pd?Object(i.f)(Pd,Xc.type)&&Object(i.j)(Xc.elements,function($u){jd($u.shape)}):Object(i.j)(Xc.elements,function($u){jd($u.shape)})}),Mt={color:xv,shapes:Id,start:this.parsePosition(Jt),end:this.parsePosition(te)}}else if(s==="shape"){var Ld=c,Av=Ld.render,Kh=Object(f.e)(Ld,["render"]),Bd=function(Mv){if(Object(i.H)(c.render))return Av(Mv,j.view,{parsePosition:j.parsePosition.bind(j)})};Mt=Object(f.a)(Object(f.a)({},Kh),{render:Bd})}else if(s==="html"){var $h=c,Zh=$h.html,nn=$h.position,Kh=Object(f.e)($h,["html","position"]),Sv=function($u){return Object(i.H)(Zh)?Zh($u,j.view):Zh};Mt=Object(f.a)(Object(f.a)(Object(f.a)({},Kh),this.parsePosition(nn)),{parent:gt.get("el").parentNode,html:Sv})}var Ll=Object(i.h)({},m,Object(f.a)(Object(f.a)({},Mt),{top:c.top,style:c.style,offsetX:c.offsetX,offsetY:c.offsetY}));return s!=="html"&&(Ll.container=this.getComponentContainer(Ll)),Ll.animate=this.view.getOptions().animate&&Ll.animate&&Object(i.s)(c,"animate",Ll.animate),Ll.animateOption=Object(i.h)({},pu,Ll.animateOption,c.animateOption),Ll},h.prototype.isTop=function(s){return Object(i.s)(s,"top",!0)},h.prototype.getComponentContainer=function(s){return this.isTop(s)?this.foregroundContainer:this.backgroundContainer},h.prototype.getAnnotationTheme=function(s){return Object(i.s)(this.view.getTheme(),["components","annotation",s],{})},h.prototype.updateOrCreate=function(s){var c=this.cache.get(this.getCacheKey(s));if(c){var m=s.type,j=this.getAnnotationTheme(m),K=this.getAnnotationCfg(m,s,j);ya(K,["container"]),c.component.update(K),Object(i.z)(Ln,s.type)&&c.component.render()}else c=this.createAnnotation(s),c&&(c.component.init(),Object(i.z)(Ln,s.type)&&c.component.render());return c},h.prototype.syncCache=function(s){var c=this,m=new Map(this.cache);return s.forEach(function(j,K){m.set(K,j)}),m.forEach(function(j,K){Object(i.m)(c.option,function(gt){return K===c.getCacheKey(gt)})||(j.component.destroy(),m.delete(K))}),m},h.prototype.getCacheKey=function(s){return s},h}(gu),Nn=$n;function Mn(d,h){var s=Object(i.h)({},Object(i.s)(d,["components","axis","common"]),Object(i.s)(d,["components","axis",h]));return Object(i.s)(s,["grid"],{})}function Mr(d,h,s,c){var m=[],j=h.getTicks();return d.isPolar&&j.push({value:1,text:"",tickValue:""}),j.reduce(function(K,gt,Mt){var Xt=gt.value;if(c)m.push({points:[d.convert(s==="y"?{x:0,y:Xt}:{x:Xt,y:0}),d.convert(s==="y"?{x:1,y:Xt}:{x:Xt,y:1})]});else if(Mt){var Jt=K.value,te=(Jt+Xt)/2;m.push({points:[d.convert(s==="y"?{x:0,y:te}:{x:te,y:0}),d.convert(s==="y"?{x:1,y:te}:{x:te,y:1})]})}return gt},j[0]),m}function Tr(d,h,s,c,m){var j=h.values.length,K=[],gt=s.getTicks();return gt.reduce(function(Mt,Xt){var Jt=Mt?Mt.value:Xt.value,te=Xt.value,ae=(Jt+te)/2;return m==="x"?K.push({points:[d.convert({x:c?te:ae,y:0}),d.convert({x:c?te:ae,y:1})]}):K.push({points:Object(i.U)(Array(j+1),function(fe,Ae){return d.convert({x:Ae/j,y:c?te:ae})})}),Xt},gt[0]),K}function xn(d,h){var s=Object(i.s)(h,"grid");if(s===null)return!1;var c=Object(i.s)(d,"grid");return!(s===void 0&&c===null)}var Vn=["container"],Kr=Object(f.a)(Object(f.a)({},pu),{appear:null}),Ta=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.cache=new Map,c.gridContainer=c.view.getLayer(g.BG).addGroup(),c.gridForeContainer=c.view.getLayer(g.FORE).addGroup(),c.axisContainer=c.view.getLayer(g.BG).addGroup(),c.axisForeContainer=c.view.getLayer(g.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"axis"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this,c=this.view.getCoordinate();Object(i.j)(this.getComponents(),function(m){var j=m.component,K=m.direction,gt=m.type,Mt=m.extra,Xt=Mt.dim,Jt=Mt.scale,te=Mt.alignTick,ae;if(gt===E.AXIS)c.isPolar?Xt==="x"?ae=c.isTransposed?hi(c,K):fr(c):Xt==="y"&&(ae=c.isTransposed?fr(c):hi(c,K)):ae=hi(c,K);else if(gt===E.GRID)if(c.isPolar){var fe=void 0;c.isTransposed?fe=Xt==="x"?Tr(c,s.view.getYScales()[0],Jt,te,Xt):Mr(c,Jt,Xt,te):fe=Xt==="x"?Mr(c,Jt,Xt,te):Tr(c,s.view.getXScale(),Jt,te,Xt),ae={items:fe,center:s.view.getCoordinate().getCenter()}}else ae={items:Mr(c,Jt,Xt,te)};j.update(ae)})},h.prototype.update=function(){this.option=this.view.getOptions().axes;var s=new Map;this.updateXAxes(s),this.updateYAxes(s);var c=new Map;this.cache.forEach(function(m,j){s.has(j)?c.set(j,m):m.component.destroy()}),this.cache=c},h.prototype.clear=function(){d.prototype.clear.call(this),this.cache.clear(),this.gridContainer.clear(),this.gridForeContainer.clear(),this.axisContainer.clear(),this.axisForeContainer.clear()},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.gridContainer.remove(!0),this.gridForeContainer.remove(!0),this.axisContainer.remove(!0),this.axisForeContainer.remove(!0)},h.prototype.getComponents=function(){var s=[];return this.cache.forEach(function(c){s.push(c)}),s},h.prototype.updateXAxes=function(s){var c=this.view.getXScale();if(!(!c||c.isIdentity)){var m=Lr(this.option,c.field);if(m!==!1){var j=_r(m,p.BOTTOM),K=g.BG,gt="x",Mt=this.view.getCoordinate(),Xt=this.getId("axis",c.field),Jt=this.getId("grid",c.field);if(Mt.isRect){var te=this.cache.get(Xt);if(te){var ae=this.getLineAxisCfg(c,m,j);ya(ae,Vn),te.component.update(ae),s.set(Xt,te)}else te=this.createLineAxis(c,m,K,j,gt),this.cache.set(Xt,te),s.set(Xt,te);var fe=this.cache.get(Jt);if(fe){var ae=this.getLineGridCfg(c,m,j,gt);ya(ae,Vn),fe.component.update(ae),s.set(Jt,fe)}else fe=this.createLineGrid(c,m,K,j,gt),fe&&(this.cache.set(Jt,fe),s.set(Jt,fe))}else if(Mt.isPolar){var te=this.cache.get(Xt);if(te){var ae=Mt.isTransposed?this.getLineAxisCfg(c,m,p.RADIUS):this.getCircleAxisCfg(c,m,j);ya(ae,Vn),te.component.update(ae),s.set(Xt,te)}else{if(Mt.isTransposed){if(Object(i.Q)(m))return;te=this.createLineAxis(c,m,K,p.RADIUS,gt)}else te=this.createCircleAxis(c,m,K,j,gt);this.cache.set(Xt,te),s.set(Xt,te)}var fe=this.cache.get(Jt);if(fe){var ae=Mt.isTransposed?this.getCircleGridCfg(c,m,p.RADIUS,gt):this.getLineGridCfg(c,m,p.CIRCLE,gt);ya(ae,Vn),fe.component.update(ae),s.set(Jt,fe)}else{if(Mt.isTransposed){if(Object(i.Q)(m))return;fe=this.createCircleGrid(c,m,K,p.RADIUS,gt)}else fe=this.createLineGrid(c,m,K,p.CIRCLE,gt);fe&&(this.cache.set(Jt,fe),s.set(Jt,fe))}}}}},h.prototype.updateYAxes=function(s){var c=this,m=this.view.getYScales();Object(i.j)(m,function(j,K){if(!(!j||j.isIdentity)){var gt=j.field,Mt=Lr(c.option,gt);if(Mt!==!1){var Xt=g.BG,Jt="y",te=c.getId("axis",gt),ae=c.getId("grid",gt),fe=c.view.getCoordinate();if(fe.isRect){var Ae=_r(Mt,K===0?p.LEFT:p.RIGHT),Ie=c.cache.get(te);if(Ie){var gr=c.getLineAxisCfg(j,Mt,Ae);ya(gr,Vn),Ie.component.update(gr),s.set(te,Ie)}else Ie=c.createLineAxis(j,Mt,Xt,Ae,Jt),c.cache.set(te,Ie),s.set(te,Ie);var Or=c.cache.get(ae);if(Or){var gr=c.getLineGridCfg(j,Mt,Ae,Jt);ya(gr,Vn),Or.component.update(gr),s.set(ae,Or)}else Or=c.createLineGrid(j,Mt,Xt,Ae,Jt),Or&&(c.cache.set(ae,Or),s.set(ae,Or))}else if(fe.isPolar){var Ie=c.cache.get(te);if(Ie){var gr=fe.isTransposed?c.getCircleAxisCfg(j,Mt,p.CIRCLE):c.getLineAxisCfg(j,Mt,p.RADIUS);ya(gr,Vn),Ie.component.update(gr),s.set(te,Ie)}else{if(fe.isTransposed){if(Object(i.Q)(Mt))return;Ie=c.createCircleAxis(j,Mt,Xt,p.CIRCLE,Jt)}else Ie=c.createLineAxis(j,Mt,Xt,p.RADIUS,Jt);c.cache.set(te,Ie),s.set(te,Ie)}var Or=c.cache.get(ae);if(Or){var gr=fe.isTransposed?c.getLineGridCfg(j,Mt,p.CIRCLE,Jt):c.getCircleGridCfg(j,Mt,p.RADIUS,Jt);ya(gr,Vn),Or.component.update(gr),s.set(ae,Or)}else{if(fe.isTransposed){if(Object(i.Q)(Mt))return;Or=c.createLineGrid(j,Mt,Xt,p.CIRCLE,Jt)}else Or=c.createCircleGrid(j,Mt,Xt,p.RADIUS,Jt);Or&&(c.cache.set(ae,Or),s.set(ae,Or))}}}}})},h.prototype.createLineAxis=function(s,c,m,j,K){var gt={component:new Rr(this.getLineAxisCfg(s,c,j)),layer:m,direction:j===p.RADIUS?p.NONE:j,type:E.AXIS,extra:{dim:K,scale:s}};return gt.component.set("field",s.field),gt.component.init(),gt},h.prototype.createLineGrid=function(s,c,m,j,K){var gt=this.getLineGridCfg(s,c,j,K);if(gt){var Mt={component:new In(gt),layer:m,direction:p.NONE,type:E.GRID,extra:{dim:K,scale:s,alignTick:Object(i.s)(gt,"alignTick",!0)}};return Mt.component.init(),Mt}},h.prototype.createCircleAxis=function(s,c,m,j,K){var gt={component:new an(this.getCircleAxisCfg(s,c,j)),layer:m,direction:j,type:E.AXIS,extra:{dim:K,scale:s}};return gt.component.set("field",s.field),gt.component.init(),gt},h.prototype.createCircleGrid=function(s,c,m,j,K){var gt=this.getCircleGridCfg(s,c,j,K);if(gt){var Mt={component:new Un(gt),layer:m,direction:p.NONE,type:E.GRID,extra:{dim:K,scale:s,alignTick:Object(i.s)(gt,"alignTick",!0)}};return Mt.component.init(),Mt}},h.prototype.getLineAxisCfg=function(s,c,m){var j=Object(i.s)(c,["top"])?this.axisForeContainer:this.axisContainer,K=this.view.getCoordinate(),gt=hi(K,m),Mt=ua(s,c),Xt=Ve(this.view.getTheme(),m),Jt=Object(i.s)(c,["title"])?Object(i.h)({title:{style:{text:Mt}}},{title:Ke(this.view.getTheme(),m,c.title)},c):c,te=Object(i.h)(Object(f.a)(Object(f.a)({container:j},gt),{ticks:s.getTicks().map(function(Gr){return{id:""+Gr.tickValue,name:Gr.text,value:Gr.value}}),verticalFactor:K.isPolar?be(gt,K.getCenter())*-1:be(gt,K.getCenter()),theme:Xt}),Xt,Jt),ae=this.getAnimateCfg(te),fe=ae.animate,Ae=ae.animateOption;te.animateOption=Ae,te.animate=fe;var Ie=he(gt),gr=Object(i.s)(te,"verticalLimitLength",Ie?1/3:1/2);if(gr<=1){var Or=this.view.getCanvas().get("width"),Br=this.view.getCanvas().get("height");te.verticalLimitLength=gr*(Ie?Or:Br)}return te},h.prototype.getLineGridCfg=function(s,c,m,j){if(!!xn(Ve(this.view.getTheme(),m),c)){var K=Mn(this.view.getTheme(),m),gt=Object(i.h)({container:Object(i.s)(c,["top"])?this.gridForeContainer:this.gridContainer},K,Object(i.s)(c,"grid"),this.getAnimateCfg(c));return gt.items=Mr(this.view.getCoordinate(),s,j,Object(i.s)(gt,"alignTick",!0)),gt}},h.prototype.getCircleAxisCfg=function(s,c,m){var j=Object(i.s)(c,["top"])?this.axisForeContainer:this.axisContainer,K=this.view.getCoordinate(),gt=s.getTicks().map(function(Ie){return{id:""+Ie.tickValue,name:Ie.text,value:Ie.value}});!s.isCategory&&Math.abs(K.endAngle-K.startAngle)===Math.PI*2&&gt.pop();var Mt=ua(s,c),Xt=Ve(this.view.getTheme(),p.CIRCLE),Jt=Object(i.s)(c,["title"])?Object(i.h)({title:{style:{text:Mt}}},{title:Ke(this.view.getTheme(),m,c.title)},c):c,te=Object(i.h)(Object(f.a)(Object(f.a)({container:j},fr(this.view.getCoordinate())),{ticks:gt,verticalFactor:1,theme:Xt}),Xt,Jt),ae=this.getAnimateCfg(te),fe=ae.animate,Ae=ae.animateOption;return te.animate=fe,te.animateOption=Ae,te},h.prototype.getCircleGridCfg=function(s,c,m,j){if(!!xn(Ve(this.view.getTheme(),m),c)){var K=Mn(this.view.getTheme(),p.RADIUS),gt=Object(i.h)({container:Object(i.s)(c,["top"])?this.gridForeContainer:this.gridContainer,center:this.view.getCoordinate().getCenter()},K,Object(i.s)(c,"grid"),this.getAnimateCfg(c)),Mt=Object(i.s)(gt,"alignTick",!0),Xt=j==="x"?this.view.getYScales()[0]:this.view.getXScale();return gt.items=Tr(this.view.getCoordinate(),Xt,s,Mt,j),gt}},h.prototype.getId=function(s,c){var m=this.view.getCoordinate();return s+"-"+c+"-"+m.type},h.prototype.getAnimateCfg=function(s){return{animate:this.view.getOptions().animate&&Object(i.s)(s,"animate"),animateOption:s&&s.animateOption?Object(i.h)({},Kr,s.animateOption):Kr}},h}(gu),Sn=Ta;function sn(d,h,s){return s===p.TOP?[d.minX+d.width/2-h.width/2,d.minY]:s===p.BOTTOM?[d.minX+d.width/2-h.width/2,d.maxY-h.height]:s===p.LEFT?[d.minX,d.minY+d.height/2-h.height/2]:s===p.RIGHT?[d.maxX-h.width,d.minY+d.height/2-h.height/2]:s===p.TOP_LEFT||s===p.LEFT_TOP?[d.tl.x,d.tl.y]:s===p.TOP_RIGHT||s===p.RIGHT_TOP?[d.tr.x-h.width,d.tr.y]:s===p.BOTTOM_LEFT||s===p.LEFT_BOTTOM?[d.bl.x,d.bl.y-h.height]:s===p.BOTTOM_RIGHT||s===p.RIGHT_BOTTOM?[d.br.x-h.width,d.br.y-h.height]:[0,0]}function fn(d,h){if(h.isTransposed)switch(d){case p.BOTTOM:return p.LEFT;case p.LEFT:return p.BOTTOM;case p.RIGHT:return p.TOP;case p.TOP:return p.RIGHT}return d}function Pn(d){return d===p.LEFT?p.RIGHT:d===p.RIGHT?p.LEFT:d}function Ca(d){return d===p.TOP?p.BOTTOM:d===p.BOTTOM?p.TOP:d}function vi(d,h){var s=h.matrix[0],c=h.matrix[4],m=d;return s<0&&(m=Pn(m)),c<0&&(m=Ca(m)),m}function kn(d,h){var s=d;return h.isReflect("x")&&(s=Pn(s)),h.isReflect("y")&&(s=Ca(s)),s}function Bn(d,h){var s=d;return s=fn(s,h),s=vi(s,h),s=kn(s,h),s}function rn(d,h){return Object(i.C)(d)?d===!1?!1:{}:Object(i.s)(d,[h],d)}function $a(d){return Object(i.s)(d,"position",p.BOTTOM)}var Li=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.container=c.view.getLayer(g.FORE).addGroup(),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"legend"},enumerable:!1,configurable:!0}),h.prototype.init=function(){},h.prototype.render=function(){this.update()},h.prototype.layout=function(){var s=this;this.layoutBBox=this.view.viewBBox,Object(i.j)(this.components,function(c){var m=c.component,j=c.direction,K=se(j),gt=s.getCategoryLegendSizeCfg(K),Mt=m.get("maxWidth"),Xt=m.get("maxHeight");m.update({maxWidth:Math.min(gt.maxWidth,Mt||0),maxHeight:Math.min(gt.maxHeight,Xt||0)});var Jt=m.get("padding"),te=m.getLayoutBBox(),ae=new rr(te.x,te.y,te.width,te.height).expand(Jt),fe=sn(s.view.viewBBox,ae,j),Ae=fe[0],Ie=fe[1],gr=sn(s.layoutBBox,ae,j),Or=gr[0],Br=gr[1],Gr=0,Tn=0;j.startsWith("top")||j.startsWith("bottom")?(Gr=Ae,Tn=Br):(Gr=Or,Tn=Ie),m.setLocation({x:Gr+Jt[3],y:Tn+Jt[0]}),s.layoutBBox=s.layoutBBox.cut(ae,j)})},h.prototype.update=function(){var s=this;this.option=this.view.getOptions().legends;var c={},m=function(fe,Ae,Ie){var gr=s.getId(Ie.field),Or=s.getComponentById(gr);if(Or){var Br=void 0,Gr=rn(s.option,Ie.field);Gr!==!1&&(Object(i.s)(Gr,"custom")?Br=s.getCategoryCfg(fe,Ae,Ie,Gr,!0):Ie.isLinear?Br=s.getContinuousCfg(fe,Ae,Ie,Gr):Ie.isCategory&&(Br=s.getCategoryCfg(fe,Ae,Ie,Gr))),Br&&(ya(Br,["container"]),Or.direction=$a(Gr),Or.component.update(Br),c[gr]=!0)}else{var Tn=s.createFieldLegend(fe,Ae,Ie);Tn&&(Tn.component.init(),s.components.push(Tn),c[gr]=!0)}};if(Object(i.s)(this.option,"custom")){var j="global-custom",K=this.getComponentById(j);if(K){var gt=this.getCategoryCfg(void 0,void 0,void 0,this.option,!0);ya(gt,["container"]),K.component.update(gt),c[j]=!0}else{var Mt=this.createCustomLegend(void 0,void 0,void 0,this.option);if(Mt){Mt.init();var Xt=g.FORE,Jt=$a(this.option);this.components.push({id:j,component:Mt,layer:Xt,direction:Jt,type:E.LEGEND,extra:void 0}),c[j]=!0}}}else this.loopLegends(m);var te=[];Object(i.j)(this.getComponents(),function(ae){c[ae.id]?te.push(ae):ae.component.destroy()}),this.components=te},h.prototype.clear=function(){d.prototype.clear.call(this),this.container.clear()},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.container.remove(!0)},h.prototype.getGeometries=function(s){var c=this,m=s.geometries;return Object(i.j)(s.views,function(j){m=m.concat(c.getGeometries(j))}),m},h.prototype.loopLegends=function(s){var c=this.view.getRootView()===this.view;if(!!c){var m=this.getGeometries(this.view),j={};Object(i.j)(m,function(K){var gt=K.getGroupAttributes();Object(i.j)(gt,function(Mt){var Xt=Mt.getScale(Mt.type);!Xt||Xt.type==="identity"||j[Xt.field]||(s(K,Mt,Xt),j[Xt.field]=!0)})})}},h.prototype.createFieldLegend=function(s,c,m){var j,K=rn(this.option,m.field),gt=g.FORE,Mt=$a(K);if(K!==!1&&(Object(i.s)(K,"custom")?j=this.createCustomLegend(s,c,m,K):m.isLinear?j=this.createContinuousLegend(s,c,m,K):m.isCategory&&(j=this.createCategoryLegend(s,c,m,K))),j)return j.set("field",m.field),{id:this.getId(m.field),component:j,layer:gt,direction:Mt,type:E.LEGEND,extra:{scale:m}}},h.prototype.createCustomLegend=function(s,c,m,j){var K=this.getCategoryCfg(s,c,m,j,!0);return new _n(K)},h.prototype.createContinuousLegend=function(s,c,m,j){var K=this.getContinuousCfg(s,c,m,j);return new sa(K)},h.prototype.createCategoryLegend=function(s,c,m,j){var K=this.getCategoryCfg(s,c,m,j);return new _n(K)},h.prototype.getContinuousCfg=function(s,c,m,j){var K=m.getTicks(),gt=Object(i.m)(K,function(Ie){return Ie.value===0}),Mt=Object(i.m)(K,function(Ie){return Ie.value===1}),Xt=K.map(function(Ie){var gr=Ie.value,Or=Ie.tickValue,Br=c.mapping(m.invert(gr)).join("");return{value:Or,attrValue:Br,color:Br,scaleValue:gr}});gt||Xt.push({value:m.min,attrValue:c.mapping(m.invert(0)).join(""),color:c.mapping(m.invert(0)).join(""),scaleValue:0}),Mt||Xt.push({value:m.max,attrValue:c.mapping(m.invert(1)).join(""),color:c.mapping(m.invert(1)).join(""),scaleValue:1}),Xt.sort(function(Ie,gr){return Ie.value-gr.value});var Jt={min:Object(i.y)(Xt).value,max:Object(i.S)(Xt).value,colors:[],rail:{type:c.type},track:{}};c.type==="size"&&(Jt.track={style:{fill:c.type==="size"?this.view.getTheme().defaultColor:void 0}}),c.type==="color"&&(Jt.colors=Xt.map(function(Ie){return Ie.attrValue}));var te=this.container,ae=$a(j),fe=se(ae),Ae=Object(i.s)(j,"title");return Ae&&(Ae=Object(i.h)({text:fa(m)},Ae)),Jt.container=te,Jt.layout=fe,Jt.title=Ae,Jt.animateOption=pu,this.mergeLegendCfg(Jt,j,"continuous")},h.prototype.getCategoryCfg=function(s,c,m,j,K){var gt=this.container,Mt=Object(i.s)(j,"position",p.BOTTOM),Xt=Jr(this.view.getTheme(),Mt),Jt=Object(i.s)(Xt,["marker"]),te=Object(i.s)(j,"marker"),ae=se(Mt),fe=Object(i.s)(Xt,["pageNavigator"]),Ae=Object(i.s)(j,"pageNavigator"),Ie=K?vr(Jt,te,j.items):Ue(this.view,s,c,Jt,te),gr=Object(i.s)(j,"title");gr&&(gr=Object(i.h)({text:m?fa(m):""},gr));var Or=this.getCategoryLegendSizeCfg(ae);Or.container=gt,Or.layout=ae,Or.items=Ie,Or.title=gr,Or.animateOption=pu,Or.pageNavigator=Object(i.h)({},fe,Ae);var Br=this.mergeLegendCfg(Or,j,Mt);Br.reversed&&Br.items.reverse();var Gr=Object(i.s)(Br,"maxItemWidth");return Gr&&Gr<=1&&(Br.maxItemWidth=this.view.viewBBox.width*Gr),Br},h.prototype.mergeLegendCfg=function(s,c,m){var j=m.split("-")[0],K=Jr(this.view.getTheme(),j);return Object(i.h)({},K,s,c)},h.prototype.getId=function(s){return this.name+"-"+s},h.prototype.getComponentById=function(s){return Object(i.m)(this.components,function(c){return c.id===s})},h.prototype.getCategoryLegendSizeCfg=function(s){var c=this.view.viewBBox,m=c.width,j=c.height;return s==="vertical"?{maxWidth:m*w,maxHeight:j}:{maxWidth:m,maxHeight:j*w}},h}(gu),va=Li,Bi=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.onChangeFn=i.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(m){var j=m[0],K=m[1];c.start=j,c.end=K,c.changeViewData(j,K)},c.container=c.view.getLayer(g.FORE).addGroup(),c.onChangeFn=Object(i.nb)(c.onValueChange,20,{leading:!0}),c.width=0,c.view.on(A.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(A.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"slider"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){d.prototype.destroy.call(this),this.view.off(A.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(A.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().slider;var s=this.getSliderCfg(),c=s.start,m=s.end;Object(i.I)(this.start)&&(this.start=c,this.end=m);var j=this.view.getOptions().data;this.option&&!Object(i.F)(j)?this.slider?this.slider=this.updateSlider():(this.slider=this.createSlider(),this.slider.component.on("sliderchange",this.onChangeFn)):this.slider&&(this.slider.component.destroy(),this.slider=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.width&&(this.measureSlider(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.start,s.end)},0)),this.slider){var c=this.view.coordinateBBox.width,m=this.slider.component.get("padding"),j=m[0],K=m[1],gt=m[2],Mt=m[3],Xt=this.slider.component.getLayoutBBox(),Jt=new rr(Xt.x,Xt.y,Math.min(Xt.width,c),Xt.height).expand(m),te=this.getMinMaxText(this.start,this.end),ae=te.minText,fe=te.maxText,Ae=sn(this.view.viewBBox,Jt,p.BOTTOM),Ie=Ae[0],gr=Ae[1],Or=sn(this.view.coordinateBBox,Jt,p.BOTTOM),Br=Or[0],Gr=Or[1];this.slider.component.update(Object(f.a)(Object(f.a)({},this.getSliderCfg()),{x:Br+Mt,y:gr+j,width:this.width,start:this.start,end:this.end,minText:ae,maxText:fe})),this.view.viewBBox=this.view.viewBBox.cut(Jt,p.BOTTOM)}},h.prototype.update=function(){this.render()},h.prototype.createSlider=function(){var s=this.getSliderCfg(),c=new yr.Slider(Object(f.a)({container:this.container},s));return c.init(),{component:c,layer:g.FORE,direction:p.BOTTOM,type:E.SLIDER}},h.prototype.updateSlider=function(){var s=this.getSliderCfg();if(this.width){var c=this.getMinMaxText(this.start,this.end),m=c.minText,j=c.maxText;s=Object(f.a)(Object(f.a)({},s),{width:this.width,start:this.start,end:this.end,minText:m,maxText:j})}return this.slider.component.update(s),this.slider},h.prototype.measureSlider=function(){var s=this.getSliderCfg().width;this.width=s},h.prototype.getSliderCfg=function(){var s={height:16,start:0,end:1,minText:"",maxText:"",x:0,y:0,width:this.view.coordinateBBox.width};if(Object(i.M)(this.option)){var c=Object(f.a)({data:this.getData()},Object(i.s)(this.option,"trendCfg",{}));s=Object(i.h)({},s,this.getThemeOptions(),this.option),s=Object(f.a)(Object(f.a)({},s),{trendCfg:c})}return s.start=Object(i.c)(Math.min(Object(i.I)(s.start)?0:s.start,Object(i.I)(s.end)?1:s.end),0,1),s.end=Object(i.c)(Math.max(Object(i.I)(s.start)?0:s.start,Object(i.I)(s.end)?1:s.end),0,1),s},h.prototype.getData=function(){var s=this.view.getOptions().data,c=this.view.getYScales()[0],m=this.view.getGroupScales();if(m.length){var j=m[0],K=j.field,gt=j.ticks;return s.reduce(function(Mt,Xt){return Xt[K]===gt[0]&&Mt.push(Xt[c.field]),Mt},[])}return s.map(function(Mt){return Mt[c.field]||0})},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(i.s)(s,["components","slider","common"],{})},h.prototype.getMinMaxText=function(s,c){var m=this.view.getOptions().data,j=this.view.getXScale(),K=!0,gt=Object(i.vb)(m,j.field),Mt=K?gt:gt.reverse(),Xt=Object(i.jb)(m);if(!j||!Xt)return{};var Jt=Object(i.jb)(Mt),te=Math.floor(s*(Jt-1)),ae=Math.floor(c*(Jt-1)),fe=Object(i.s)(Mt,[te]),Ae=Object(i.s)(Mt,[ae]),Ie=this.getSliderCfg().formatter;return Ie&&(fe=Ie(fe,m[te],te),Ae=Ie(Ae,m[ae],ae)),{minText:fe,maxText:Ae}},h.prototype.changeViewData=function(s,c){var m=this.view.getOptions().data,j=this.view.getXScale(),K=Object(i.jb)(m);if(!(!j||!K)){var gt=!0,Mt=Object(i.vb)(m,j.field),Xt=gt?Mt:Mt.reverse(),Jt=Object(i.jb)(Xt),te=Math.floor(s*(Jt-1)),ae=Math.floor(c*(Jt-1));this.view.filter(j.field,function(fe,Ae){var Ie=Xt.indexOf(fe);return Ie>-1?co(Ie,te,ae):!0}),this.view.render(!0)}},h.prototype.getComponents=function(){return this.slider?[this.slider]:[]},h.prototype.clear=function(){this.slider&&(this.slider.component.destroy(),this.slider=void 0),this.width=0,this.start=void 0,this.end=void 0},h}(gu),si=Bi,Mi=0,Yi=8,Qo=32,zo=20,Ni=function(d){Object(f.c)(h,d);function h(s){var c=d.call(this,s)||this;return c.onChangeFn=i.db,c.resetMeasure=function(){c.clear()},c.onValueChange=function(m){var j=m.ratio,K=c.getValidScrollbarCfg().animate;c.ratio=Object(i.c)(j,0,1);var gt=c.view.getOptions().animate;K||c.view.animate(!1),c.changeViewData(c.getScrollRange(),!0),c.view.animate(gt)},c.container=c.view.getLayer(g.FORE).addGroup(),c.onChangeFn=Object(i.nb)(c.onValueChange,20,{leading:!0}),c.trackLen=0,c.thumbLen=0,c.ratio=0,c.view.on(A.BEFORE_CHANGE_DATA,c.resetMeasure),c.view.on(A.BEFORE_CHANGE_SIZE,c.resetMeasure),c}return Object.defineProperty(h.prototype,"name",{get:function(){return"scrollbar"},enumerable:!1,configurable:!0}),h.prototype.destroy=function(){d.prototype.destroy.call(this),this.view.off(A.BEFORE_CHANGE_DATA,this.resetMeasure),this.view.off(A.BEFORE_CHANGE_SIZE,this.resetMeasure)},h.prototype.init=function(){},h.prototype.render=function(){this.option=this.view.getOptions().scrollbar,this.option?this.scrollbar?this.scrollbar=this.updateScrollbar():(this.scrollbar=this.createScrollbar(),this.scrollbar.component.on("scrollchange",this.onChangeFn)):this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0)},h.prototype.layout=function(){var s=this;if(this.option&&!this.trackLen&&(this.measureScrollbar(),setTimeout(function(){s.view.destroyed||s.changeViewData(s.getScrollRange(),!0)})),this.scrollbar){var c=this.view.coordinateBBox.width,m=this.scrollbar.component.get("padding"),j=this.scrollbar.component.getLayoutBBox(),K=new rr(j.x,j.y,Math.min(j.width,c),j.height).expand(m),gt=this.getScrollbarComponentCfg(),Mt=void 0,Xt=void 0;if(gt.isHorizontal){var Jt=sn(this.view.viewBBox,K,p.BOTTOM),te=Jt[0],ae=Jt[1],fe=sn(this.view.coordinateBBox,K,p.BOTTOM),Ae=fe[0],Ie=fe[1];Mt=Ae,Xt=ae}else{var gr=sn(this.view.viewBBox,K,p.RIGHT),te=gr[0],ae=gr[1],Or=sn(this.view.viewBBox,K,p.RIGHT),Ae=Or[0],Ie=Or[1];Mt=Ae,Xt=ae}Mt+=m[3],Xt+=m[0],this.trackLen?this.scrollbar.component.update(Object(f.a)(Object(f.a)({},gt),{x:Mt,y:Xt,trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio})):this.scrollbar.component.update(Object(f.a)(Object(f.a)({},gt),{x:Mt,y:Xt})),this.view.viewBBox=this.view.viewBBox.cut(K,gt.isHorizontal?p.BOTTOM:p.RIGHT)}},h.prototype.update=function(){this.render()},h.prototype.getComponents=function(){return this.scrollbar?[this.scrollbar]:[]},h.prototype.clear=function(){this.scrollbar&&(this.scrollbar.component.destroy(),this.scrollbar=void 0),this.trackLen=0,this.thumbLen=0,this.ratio=0,this.cnt=0,this.step=0,this.data=void 0,this.xScaleCfg=void 0,this.yScalesCfg=[]},h.prototype.getThemeOptions=function(){var s=this.view.getTheme();return Object(i.s)(s,["components","scrollbar","common"],{})},h.prototype.getScrollbarTheme=function(s){var c=Object(i.s)(this.view.getTheme(),["components","scrollbar"]),m=s||{},j=m.thumbHighlightColor,K=Object(f.e)(m,["thumbHighlightColor"]);return{default:Object(i.h)({},Object(i.s)(c,["default","style"],{}),K),hover:Object(i.h)({},Object(i.s)(c,["hover","style"],{}),{thumbColor:j})}},h.prototype.measureScrollbar=function(){var s=this.view.getXScale(),c=this.view.getYScales().slice();this.data=this.view.getOptions().data,this.step=this.getStep(),this.cnt=this.getCnt();var m=this.getScrollbarComponentCfg(),j=m.trackLen,K=m.thumbLen;this.trackLen=j,this.thumbLen=K,this.xScaleCfg={field:s.field,values:s.values||[]},this.yScalesCfg=c},h.prototype.getScrollRange=function(){var s=Math.floor((this.cnt-this.step)*Object(i.c)(this.ratio,0,1)),c=Math.min(s+this.step-1,this.cnt-1);return[s,c]},h.prototype.changeViewData=function(s,c){var m=this,j=s[0],K=s[1],gt=this.getValidScrollbarCfg().type,Mt=gt!=="vertical",Xt=Object(i.vb)(this.data,this.xScaleCfg.field),Jt=Mt?Xt:Xt.reverse();this.yScalesCfg.forEach(function(te){m.view.scale(te.field,{formatter:te.formatter,type:te.type,min:te.min,max:te.max})}),this.view.filter(this.xScaleCfg.field,function(te){var ae=Jt.indexOf(te);return ae>-1?co(ae,j,K):!0}),this.view.render(!0)},h.prototype.createScrollbar=function(){var s=this.getValidScrollbarCfg().type,c=s!=="vertical",m=new yr.Scrollbar(Object(f.a)(Object(f.a)({container:this.container},this.getScrollbarComponentCfg()),{x:0,y:0}));return m.init(),{component:m,layer:g.FORE,direction:c?p.BOTTOM:p.RIGHT,type:E.SCROLLBAR}},h.prototype.updateScrollbar=function(){var s=this.getScrollbarComponentCfg(),c=this.trackLen?Object(f.a)(Object(f.a)({},s),{trackLen:this.trackLen,thumbLen:this.thumbLen,thumbOffset:(this.trackLen-this.thumbLen)*this.ratio}):Object(f.a)({},s);return this.scrollbar.component.update(c),this.scrollbar},h.prototype.getStep=function(){if(this.step)return this.step;var s=this.view.coordinateBBox,c=this.getValidScrollbarCfg(),m=c.type,j=c.categorySize,K=m!=="vertical";return Math.floor((K?s.width:s.height)/j)},h.prototype.getCnt=function(){if(this.cnt)return this.cnt;var s=this.view.getXScale(),c=this.view.getOptions().data,m=Object(i.vb)(c,s.field);return Object(i.jb)(m)},h.prototype.getScrollbarComponentCfg=function(){var s=this.view,c=s.coordinateBBox,m=s.viewBBox,j=this.getValidScrollbarCfg(),K=j.type,gt=j.padding,Mt=j.width,Xt=j.height,Jt=j.style,te=K!=="vertical",ae=gt[0],fe=gt[1],Ae=gt[2],Ie=gt[3],gr=te?{x:c.minX+Ie,y:m.maxY-Xt-Ae}:{x:m.maxX-Mt-fe,y:c.minY+ae},Or=this.getStep(),Br=this.getCnt(),Gr=te?c.width-Ie-fe:c.height-ae-Ae,Tn=Math.max(Gr*Object(i.c)(Or/Br,0,1),zo);return Object(f.a)(Object(f.a)({},this.getThemeOptions()),{x:gr.x,y:gr.y,size:te?Xt:Mt,isHorizontal:te,trackLen:Gr,thumbLen:Tn,thumbOffset:0,theme:this.getScrollbarTheme(Jt)})},h.prototype.getValidScrollbarCfg=function(){var s={type:"horizontal",categorySize:Qo,width:Yi,height:Yi,padding:[0,0,0,0],animate:!0,style:{}};return Object(i.M)(this.option)&&(s=Object(f.a)(Object(f.a)({},s),this.option)),(!Object(i.M)(this.option)||!this.option.padding)&&(s.padding=s.type==="horizontal"?[Mi,0,Mi,0]:[0,Mi,0,Mi]),s},h}(gu),es=Ni,Oo={fill:"#CCD6EC",opacity:.3},Jo=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.show=function(s){var c=this.context.view,m=this.context.event,j=c.getTooltipItems({x:m.x,y:m.y});if(!Object(i.G)(j,this.items)&&(this.items=j,j.length)){var K=c.getXScale().field,gt=j[0].data[K],Mt=[],Xt=c.geometries;if(Object(i.j)(Xt,function(Es){if(Es.type==="interval"||Es.type==="schema"){var Os=Es.getElementsBy(function(jl){var ll=jl.getData();return ll[K]===gt});Mt=Mt.concat(Os)}}),Mt.length){var Jt=c.getCoordinate(),te=Mt[0].shape.getCanvasBBox(),ae=Mt[0].shape.getCanvasBBox(),fe=te;Object(i.j)(Mt,function(Es){var Os=Es.shape.getCanvasBBox();Jt.isTransposed?(Os.minY<te.minY&&(te=Os),Os.maxY>ae.maxY&&(ae=Os)):(Os.minX<te.minX&&(te=Os),Os.maxX>ae.maxX&&(ae=Os)),fe.x=Math.min(Os.minX,fe.minX),fe.y=Math.min(Os.minY,fe.minY),fe.width=Math.max(Os.maxX,fe.maxX)-fe.x,fe.height=Math.max(Os.maxY,fe.maxY)-fe.y});var Ae=c.backgroundGroup,Ie=c.coordinateBBox,gr=void 0;if(Jt.isRect){var Or=c.getXScale(),Br=Or.isLinear?0:.25,Gr=void 0,Tn=void 0,nn=void 0,zn=void 0;Jt.isTransposed?(Gr=Ie.minX,Tn=Math.min(ae.minY,te.minY)-Br*ae.height,nn=Ie.width,zn=fe.height+Br*2*ae.height):(Gr=Math.min(te.minX,ae.minX)-Br*te.width,Tn=Math.min(Ie.minY,te.minY),nn=fe.width+Br*2*te.width,zn=Ie.height),gr=[["M",Gr,Tn],["L",Gr+nn,Tn],["L",Gr+nn,Tn+zn],["L",Gr,Tn+zn],["Z"]]}else{var Ai=Object(i.y)(Mt),ii=Object(i.S)(Mt),Qa=Ci(Ai.getModel(),Jt).startAngle,zi=Ci(ii.getModel(),Jt).endAngle,vo=Jt.getCenter(),oo=Jt.getRadius(),qo=Jt.innerRadius*oo;gr=ga(vo.x,vo.y,oo,Qa,zi,qo)}if(this.regionPath)this.regionPath.attr("path",gr),this.regionPath.show();else{var Is=Object(i.s)(s,"style",Oo);this.regionPath=Ae.addShape({type:"path",name:"active-region",capture:!1,attrs:Object(f.a)(Object(f.a)({},Is),{path:gr})})}}}},h.prototype.hide=function(){this.regionPath&&this.regionPath.hide(),this.items=null},h.prototype.destroy=function(){this.hide(),this.regionPath&&this.regionPath.remove(!0),d.prototype.destroy.call(this)},h}(Si),rs=Jo,_o=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.show=function(){var s=this.context,c=s.event,m=s.view,j=m.isTooltipLocked();if(!j){var K=this.timeStamp,gt=+new Date,Mt=Object(i.s)(s.view.getOptions(),"tooltip.showDelay",16);if(gt-K>Mt){var Xt=this.location,Jt={x:c.x,y:c.y};(!Xt||!Object(i.G)(Xt,Jt))&&this.showTooltip(m,Jt),this.timeStamp=gt,this.location=Jt}}},h.prototype.hide=function(){var s=this.context.view,c=s.getController("tooltip"),m=this.context.event,j=m.clientX,K=m.clientY;c.isCursorEntered({x:j,y:K})||s.isTooltipLocked()||(this.hideTooltip(s),this.location=null)},h.prototype.showTooltip=function(s,c){s.showTooltip(c)},h.prototype.hideTooltip=function(s){s.hideTooltip()},h}(Si),ko=_o,fs=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.showTooltip=function(s,c){var m=Nr(s);Object(i.j)(m,function(j){var K=cn(s,j,c);j.showTooltip(K)})},h.prototype.hideTooltip=function(s){var c=Nr(s);Object(i.j)(c,function(m){m.hideTooltip()})},h}(ko),Vo=fs,Ti=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.timeStamp=0,s}return h.prototype.destroy=function(){d.prototype.destroy.call(this),this.tooltip&&this.tooltip.destroy()},h.prototype.show=function(){var s=this.context,c=s.event,m=this.timeStamp,j=+new Date;if(j-m>16){var K=this.location,gt={x:c.x,y:c.y};(!K||!Object(i.G)(K,gt))&&this.showTooltip(gt),this.timeStamp=j,this.location=gt}},h.prototype.hide=function(){this.hideTooltip(),this.location=null},h.prototype.showTooltip=function(s){var c=this.context,m=c.event,j=m.target;if(j&&j.get("tip")){this.tooltip||this.renderTooltip();var K=j.get("tip");this.tooltip.update(Object(f.a)({title:K},s)),this.tooltip.show()}},h.prototype.hideTooltip=function(){this.tooltip&&this.tooltip.hide()},h.prototype.renderTooltip=function(){var s,c=this.context.view,m=c.canvas,j={start:{x:0,y:0},end:{x:m.get("width"),y:m.get("height")}},K=c.getTheme(),gt=Object(i.s)(K,["components","tooltip","domStyles"],{}),Mt=new ci({parent:m.get("el").parentNode,region:j,visible:!1,crosshairs:null,domStyles:Object(f.a)({},Object(i.h)({},gt,(s={},s[yr.TOOLTIP_CSS_CONST.CONTAINER_CLASS]={"max-width":"50%"},s[yr.TOOLTIP_CSS_CONST.TITLE_CLASS]={"word-break":"break-all"},s)))});Mt.init(),Mt.setCapture(!1),this.tooltip=Mt},h}(Si),gs=Ti,to=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="",s}return h.prototype.hasState=function(s){return s.hasState(this.stateName)},h.prototype.setElementState=function(s,c){s.setState(this.stateName,c)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.clear=function(){var s=this.context.view;this.clearViewState(s)},h.prototype.clearViewState=function(s){var c=this,m=re(s,this.stateName);Object(i.j)(m,function(j){c.setElementState(j,!1)})},h}(Si),Xa=to;function Za(d){return Object(i.s)(d.get("delegateObject"),"item")}var Ii=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.ignoreListItemStates=["unchecked"],s}return h.prototype.isItemIgnore=function(s,c){var m=this.ignoreListItemStates,j=m.filter(function(K){return c.hasState(s,K)});return!!j.length},h.prototype.setStateByComponent=function(s,c,m){var j=this.context.view,K=s.get("field"),gt=k(j);this.setElementsStateByItem(gt,K,c,m)},h.prototype.setStateByElement=function(s,c){this.setElementState(s,c)},h.prototype.isMathItem=function(s,c,m){var j=this.context.view,K=Hr(j,c),gt=le(s,c);return!Object(i.I)(gt)&&m.name===K.getText(gt)},h.prototype.setElementsStateByItem=function(s,c,m,j){var K=this;Object(i.j)(s,function(gt){K.isMathItem(gt,c,m)&&gt.setState(K.stateName,j)})},h.prototype.setStateEnable=function(s){var c=as(this.context);if(c)os(this.context)&&this.setStateByElement(c,s);else{var m=is(this.context);if(As(m)){var j=m.item,K=m.component;if(j&&K&&!this.isItemIgnore(j,K)){var gt=this.context.event.gEvent;if(gt&&gt.fromShape&&gt.toShape&&Za(gt.fromShape)===Za(gt.toShape))return;this.setStateByComponent(K,j,s)}}}},h.prototype.toggle=function(){var s=as(this.context);if(s){var c=s.hasState(this.stateName);this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(Xa),To=Ii,ls=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(To),Pl=ls,Fe=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.cache={},s}return h.prototype.getColorScale=function(s,c){var m=c.geometry.getAttribute("color");if(!m)return null;var j=s.getScaleByField(m.getFields()[0]);return j},h.prototype.getLinkPath=function(s,c){var m=this.context.view,j=m.getCoordinate().isTransposed,K=s.shape.getCanvasBBox(),gt=c.shape.getCanvasBBox(),Mt=j?[["M",K.minX,K.minY],["L",gt.minX,gt.maxY],["L",gt.maxX,gt.maxY],["L",K.maxX,K.minY],["Z"]]:[["M",K.maxX,K.minY],["L",gt.minX,gt.minY],["L",gt.minX,gt.maxY],["L",K.maxX,K.maxY],["Z"]];return Mt},h.prototype.addLinkShape=function(s,c,m){s.addShape({type:"path",attrs:{opacity:.4,fill:c.shape.attr("fill"),path:this.getLinkPath(c,m)}})},h.prototype.linkByElement=function(s){var c=this,m=this.context.view,j=this.getColorScale(m,s);if(!!j){var K=le(s,j.field);if(!this.cache[K]){var gt=Dt(m,j.field,K),Mt=this.linkGroup,Xt=Mt.addGroup();this.cache[K]=Xt;var Jt=gt.length;Object(i.j)(gt,function(te,ae){if(ae<Jt-1){var fe=gt[ae+1];c.addLinkShape(Xt,te,fe)}})}}},h.prototype.removeLink=function(s){var c=this.getColorScale(this.context.view,s);if(!!c){var m=le(s,c.field);this.cache[m]&&(this.cache[m].remove(),this.cache[m]=null)}},h.prototype.link=function(){var s=this.context;this.linkGroup||(this.linkGroup=s.view.foregroundGroup.addGroup({capture:!1}));var c=as(s);c&&this.linkByElement(c)},h.prototype.unlink=function(){var s=as(this.context);s&&this.removeLink(s)},h.prototype.clear=function(){this.linkGroup&&this.linkGroup.clear(),this.cache={}},h.prototype.destroy=function(){d.prototype.destroy.call(this),this.linkGroup&&this.linkGroup.remove()},h}(Si),wr=Fe,Sr=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.startPoint=null,s.endPoint=null,s.isStarted=!1,s.effectSiblings=!1,s.effectByRecord=!1,s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.start=function(){this.clear(),this.startPoint=this.getCurrentPoint(),this.isStarted=!0},h.prototype.getIntersectElements=function(){var s=null;if(Gs(this.context))s=ru(this.context,10);else{var c=this.startPoint,m=this.isStarted?this.getCurrentPoint():this.endPoint;if(!c||!m)return;var j={minX:Math.min(c.x,m.x),minY:Math.min(c.y,m.y),maxX:Math.max(c.x,m.x),maxY:Math.max(c.y,m.y)},K=this.context.view;s=Re(K,j)}return s},h.prototype.setStateEnable=function(s){if(this.effectSiblings&&!this.effectByRecord)this.setSiblingsState(s);else{var c=k(this.context.view),m=this.getIntersectElements();m&&m.length?this.effectByRecord?this.setSiblingsStateByRecord(m,s):this.setElementsState(m,s,c):this.clear()}},h.prototype.setSiblingsStateByRecord=function(s,c){var m=this,j=this.context.view,K=Nr(j),gt=s.map(function(Jt){return Jt.getModel().data}),Mt=j.getXScale().field,Xt=j.getYScales()[0].field;Object(i.j)(K,function(Jt){var te=k(Jt),ae=te.filter(function(fe){var Ae=fe.getModel().data;return ln(gt,Ae,Mt,Xt)});m.setElementsState(ae,c,te)})},h.prototype.setSiblingsState=function(s){var c=this,m=this.context.view,j=Nr(m);Gs(this.context)&&Object(i.j)(j,function(K){var gt=k(K),Mt=Us(c.context,K,10);Mt&&Mt.length?c.setElementsState(Mt,s,gt):c.clearViewState(K)})},h.prototype.setElementsState=function(s,c,m){var j=this;Object(i.j)(m,function(K){s.includes(K)?j.setElementState(K,c):j.setElementState(K,!1)})},h.prototype.end=function(){this.isStarted=!1,this.endPoint=this.getCurrentPoint()},h.prototype.clear=function(){var s=this,c=this.context.view;if(this.effectSiblings){var m=Nr(c);Object(i.j)(m,function(j){s.clearViewState(j)})}else this.clearViewState(c)},h}(Xa),qn=Sr,xi=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(qn),Pe=xi,Oe=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.setStateEnable=function(s){var c=as(this.context);if(c){if(!os(this.context))return;s?(this.clear(),this.setElementState(c,!0)):this.hasState(c)&&this.setElementState(c,!1)}},h.prototype.toggle=function(){var s=as(this.context);if(s){var c=this.hasState(s);c||this.clear(),this.setElementState(s,!c)}},h.prototype.reset=function(){this.setStateEnable(!1)},h}(Xa),Qe=Oe,mr=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(Qe),Er=mr,ar="inactive",Je="active";function hr(d){var h=k(d);Object(i.j)(h,function(s){s.hasState(Je)&&s.setState(Je,!1),s.hasState(ar)&&s.setState(ar,!1)})}function Le(d,h,s){Object(i.j)(d,function(c){h(c)?(c.hasState(ar)&&c.setState(ar,!1),c.setState(Je,s)):(c.hasState(Je)&&c.setState(Je,!1),c.setState(ar,s))})}var Xe=O.INACTIVE,Me=O.ACTIVE,pr=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName=Me,s}return h.prototype.setElementsStateByItem=function(s,c,m,j){var K=this,gt=function(Xt){return K.isMathItem(Xt,c,m)};this.setHighlightBy(s,gt,j)},h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(Xe)&&s.setState(Xe,!1),s.setState(Me,!0)):s.hasState(Me)||s.setState(Xe,!0)},h.prototype.setHighlightBy=function(s,c,m){var j=this;if(m)Object(i.j)(s,function(Mt){j.setElementHighlight(Mt,c)});else{var K=re(this.context.view,Me),gt=!0;Object(i.j)(K,function(Mt){if(!c(Mt))return gt=!1,!1}),gt?this.clear():Object(i.j)(s,function(Mt){c(Mt)&&(Mt.hasState(Me)&&Mt.setState(Me,!1),Mt.setState(Xe,!0))})}},h.prototype.setElementState=function(s,c){var m=this.context.view,j=k(m);this.setHighlightBy(j,function(K){return s===K},c)},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.context.view;hr(s)},h}(To),xr=pr,Qr=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.setStateByElement=function(s,c){var m=this.context.view,j=s.geometry.getAttribute("color");if(!!j){var K=m.getScaleByField(j.getFields()[0]),gt=le(s,K.field),Mt=k(m),Xt=Mt.filter(function(Jt){return le(Jt,K.field)===gt});this.setHighlightBy(Mt,function(Jt){return Xt.includes(Jt)},c)}},h}(xr),en=Qr,Xr=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.setElementHighlight=function(s,c){c(s)?(s.hasState(Xe)&&s.setState(Xe,!1),s.setState(Me,!0)):(s.setState(Xe,!0),s.hasState(Me)&&s.setState(Me,!1))},h.prototype.setStateByElement=function(s,c){var m=this.context.view,j=m.getXScale(),K=le(s,j.field),gt=k(m),Mt=gt.filter(function(Xt){return le(Xt,j.field)===K});this.setHighlightBy(gt,function(Xt){return Mt.includes(Xt)},c)},h.prototype.toggle=function(){var s=as(this.context);if(s){var c=s.hasState(this.stateName);this.setStateByElement(s,!c)}},h}(xr),Dn=Xr,Da=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.clearViewState=function(s){hr(s)},h.prototype.highlight=function(){this.setState()},h.prototype.setElementsState=function(s,c,m){Le(m,function(j){return s.indexOf(j)>=0},c)},h}(qn),Di=Da,Xn=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.highlight=function(){this.setState()},h.prototype.setElementState=function(s,c){var m=this.context.view,j=k(m);Le(j,function(K){return s===K},c)},h.prototype.clear=function(){var s=this.context.view;hr(s)},h}(Qe),Ya=Xn,Wn=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(qn),$i=Wn,po=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(To),Ps=po,lh=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(Qe),uu=lh,kh=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="",s.ignoreItemStates=[],s}return h.prototype.getTriggerListInfo=function(){var s=is(this.context),c=null;return As(s)&&(c={item:s.item,list:s.component}),c},h.prototype.getAllowComponents=function(){var s=this,c=this.context.view,m=lr(c),j=[];return Object(i.j)(m,function(K){K.isList()&&s.allowSetStateByElement(K)&&j.push(K)}),j},h.prototype.hasState=function(s,c){return s.hasState(c,this.stateName)},h.prototype.clearAllComponentsState=function(){var s=this,c=this.getAllowComponents();Object(i.j)(c,function(m){m.clearItemsState(s.stateName)})},h.prototype.allowSetStateByElement=function(s){var c=s.get("field");if(!c)return!1;if(this.cfg&&this.cfg.componentNames){var m=s.get("name");if(this.cfg.componentNames.indexOf(m)===-1)return!1}var j=this.context.view,K=Hr(j,c);return K&&K.isCategory},h.prototype.allowSetStateByItem=function(s,c){var m=this.ignoreItemStates;if(m.length){var j=m.filter(function(K){return c.hasState(s,K)});return j.length===0}return!0},h.prototype.setStateByElement=function(s,c,m){var j=s.get("field"),K=this.context.view,gt=Hr(K,j),Mt=le(c,j),Xt=gt.getText(Mt);this.setItemsState(s,Xt,m)},h.prototype.setStateEnable=function(s){var c=this,m=as(this.context);if(m){var j=this.getAllowComponents();Object(i.j)(j,function(Xt){c.setStateByElement(Xt,m,s)})}else{var K=is(this.context);if(As(K)){var gt=K.item,Mt=K.component;this.allowSetStateByElement(Mt)&&this.allowSetStateByItem(gt,Mt)&&this.setItemState(Mt,gt,s)}}},h.prototype.setItemsState=function(s,c,m){var j=this,K=s.getItems();Object(i.j)(K,function(gt){gt.name===c&&j.setItemState(s,gt,m)})},h.prototype.setItemState=function(s,c,m){s.setItemState(c,this.stateName,m)},h.prototype.setState=function(){this.setStateEnable(!0)},h.prototype.reset=function(){this.setStateEnable(!1)},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,m=s.item,j=this.hasState(c,m);this.setItemState(c,m,!j)}},h.prototype.clear=function(){var s=this.getTriggerListInfo();s?s.list.clearItemsState(this.stateName):this.clearAllComponentsState()},h}(Si),Fs=kh,Vh=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="active",s}return h.prototype.active=function(){this.setState()},h}(Fs),iv=Vh,ov="inactive",sv="active";function tg(d){var h=d.getItems();Object(i.j)(h,function(s){d.hasState(s,sv)&&d.setItemState(s,sv,!1),d.hasState(s,ov)&&d.setItemState(s,ov,!1)})}var ch="inactive",Vc="active",eg=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName=Vc,s.ignoreItemStates=["unchecked"],s}return h.prototype.setItemsState=function(s,c,m){this.setHighlightBy(s,function(j){return j.name===c},m)},h.prototype.setItemState=function(s,c,m){var j=s.getItems();this.setHighlightBy(s,function(K){return K===c},m)},h.prototype.setHighlightBy=function(s,c,m){var j=s.getItems();if(m)Object(i.j)(j,function(Mt){c(Mt)?(s.hasState(Mt,ch)&&s.setItemState(Mt,ch,!1),s.setItemState(Mt,Vc,!0)):s.hasState(Mt,Vc)||s.setItemState(Mt,ch,!0)});else{var K=s.getItemsByState(Vc),gt=!0;Object(i.j)(K,function(Mt){if(!c(Mt))return gt=!1,!1}),gt?this.clear():Object(i.j)(j,function(Mt){c(Mt)&&(s.hasState(Mt,Vc)&&s.setItemState(Mt,Vc,!1),s.setItemState(Mt,ch,!0))})}},h.prototype.highlight=function(){this.setState()},h.prototype.clear=function(){var s=this.getTriggerListInfo();if(s)tg(s.list);else{var c=this.getAllowComponents();Object(i.j)(c,function(m){m.clearItemsState(Vc),m.clearItemsState(ch)})}},h}(Fs),$s=eg,rg=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="selected",s}return h.prototype.selected=function(){this.setState()},h}(Fs),Bo=rg,ng=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName="unchecked",s}return h.prototype.unchecked=function(){this.setState()},h}(Fs),no=ng,Tf="unchecked",_i="checked",ag=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.stateName=_i,s}return h.prototype.setItemState=function(s,c,m){this.setCheckedBy(s,function(j){return j===c},m)},h.prototype.setCheckedBy=function(s,c,m){var j=s.getItems();m&&Object(i.j)(j,function(K){c(K)?(s.hasState(K,Tf)&&s.setItemState(K,Tf,!1),s.setItemState(K,_i,!0)):s.hasState(K,_i)||s.setItemState(K,Tf,!0)})},h.prototype.toggle=function(){var s=this.getTriggerListInfo();if(s&&s.item){var c=s.list,m=s.item,j=!Object(i.kb)(c.getItems(),function(K){return c.hasState(K,Tf)});j||c.hasState(m,Tf)?this.setItemState(c,m,!0):this.reset()}},h.prototype.checked=function(){this.setState()},h.prototype.reset=function(){var s=this.getAllowComponents();Object(i.j)(s,function(c){c.clearItemsState(_i),c.clearItemsState(Tf)})},h}(Fs),wo=ag,Yg=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.maskShape=null,s.points=[],s.starting=!1,s.moving=!1,s.preMovePoint=null,s.shapeType="path",s}return h.prototype.getCurrentPoint=function(){var s=this.context.event;return{x:s.x,y:s.y}},h.prototype.emitEvent=function(s){var c="mask:"+s,m=this.context.view,j=this.context.event;m.emit(c,{target:this.maskShape,shape:this.maskShape,points:this.points,x:j.x,y:j.y})},h.prototype.createMask=function(){var s=this.context.view,c=this.getMaskAttrs(),m=s.foregroundGroup.addShape({type:this.shapeType,name:"mask",draggable:!0,attrs:Object(f.a)({fill:"#C5D4EB",opacity:.3},c)});return m},h.prototype.getMaskPath=function(){return[]},h.prototype.show=function(){this.maskShape&&(this.maskShape.show(),this.emitEvent("show"))},h.prototype.start=function(){this.starting=!0,this.moving=!1,this.points=[this.getCurrentPoint()],this.maskShape||(this.maskShape=this.createMask(),this.maskShape.set("capture",!1)),this.updateMask(),this.emitEvent("start")},h.prototype.moveStart=function(){this.moving=!0,this.preMovePoint=this.getCurrentPoint()},h.prototype.move=function(){if(!(!this.moving||!this.maskShape)){var s=this.getCurrentPoint(),c=this.preMovePoint,m=s.x-c.x,j=s.y-c.y,K=this.points;Object(i.j)(K,function(gt){gt.x+=m,gt.y+=j}),this.updateMask(),this.emitEvent("change"),this.preMovePoint=s}},h.prototype.updateMask=function(){var s=this.getMaskAttrs();this.maskShape.attr(s)},h.prototype.moveEnd=function(){this.moving=!1,this.preMovePoint=null},h.prototype.end=function(){this.starting=!1,this.emitEvent("end"),this.maskShape&&this.maskShape.set("capture",!0)},h.prototype.hide=function(){this.maskShape&&(this.maskShape.hide(),this.emitEvent("hide"))},h.prototype.resize=function(){this.starting&&this.maskShape&&(this.points.push(this.getCurrentPoint()),this.updateMask(),this.emitEvent("change"))},h.prototype.destroy=function(){this.points=[],this.maskShape&&this.maskShape.remove(),this.maskShape=null,this.preMovePoint=null,d.prototype.destroy.call(this)},h}(Si),Ne=Yg,pi=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.shapeType="circle",s}return h.prototype.getMaskAttrs=function(){var s=this.points,c=Object(i.S)(this.points),m=0,j=0,K=0;if(s.length){var gt=s[0];m=dr(gt,c)/2,j=(c.x+gt.x)/2,K=(c.y+gt.y)/2}return{x:j,y:K,r:m}},h}(Ne),Sd=pi,Il=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.shapeType="rect",s}return h.prototype.getRegion=function(){var s=this.points;return{start:Object(i.y)(s),end:Object(i.S)(s)}},h.prototype.getMaskAttrs=function(){var s=this.getRegion(),c=s.start,m=s.end,j=Math.min(c.x,m.x),K=Math.min(c.y,m.y),gt=Math.abs(m.x-c.x),Mt=Math.abs(m.y-c.y);return{x:j,y:K,width:gt,height:Mt}},h}(Ne),sc=Il;function Md(d){d.x=Object(i.c)(d.x,0,1),d.y=Object(i.c)(d.y,0,1)}var uv=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.dim="x",s.inPlot=!0,s}return h.prototype.getRegion=function(){var s=null,c=null,m=this.points,j=this.dim,K=this.context.view.getCoordinate(),gt=K.invert(Object(i.y)(m)),Mt=K.invert(Object(i.S)(m));return this.inPlot&&(Md(gt),Md(Mt)),j==="x"?(s=K.convert({x:gt.x,y:0}),c=K.convert({x:Mt.x,y:1})):(s=K.convert({x:0,y:gt.y}),c=K.convert({x:1,y:Mt.y})),{start:s,end:c}},h}(sc),Td=uv,lv=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points,c=[];return s.length&&(Object(i.j)(s,function(m,j){j===0?c.push(["M",m.x,m.y]):c.push(["L",m.x,m.y])}),c.push(["L",s[0].x,s[0].y])),c},h.prototype.getMaskAttrs=function(){return{path:this.getMaskPath()}},h.prototype.addPoint=function(){this.resize()},h}(Ne),Hh=lv,cv=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.getMaskPath=function(){var s=this.points;return Cr(s,!0)},h}(Hh),fv=cv,hv=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.setCursor=function(s){var c=this.context.view;c.getCanvas().setCursor(s)},h.prototype.default=function(){this.setCursor("default")},h.prototype.pointer=function(){this.setCursor("pointer")},h.prototype.move=function(){this.setCursor("move")},h.prototype.crosshair=function(){this.setCursor("crosshair")},h.prototype.wait=function(){this.setCursor("wait")},h.prototype.help=function(){this.setCursor("help")},h.prototype.text=function(){this.setCursor("text")},h.prototype.eResize=function(){this.setCursor("e-resize")},h.prototype.wResize=function(){this.setCursor("w-resize")},h.prototype.nResize=function(){this.setCursor("n-resize")},h.prototype.sResize=function(){this.setCursor("s-resize")},h.prototype.neResize=function(){this.setCursor("ne-resize")},h.prototype.nwResize=function(){this.setCursor("nw-resize")},h.prototype.seResize=function(){this.setCursor("se-resize")},h.prototype.swResize=function(){this.setCursor("sw-resize")},h.prototype.nsResize=function(){this.setCursor("ns-resize")},h.prototype.ewResize=function(){this.setCursor("ew-resize")},h}(Si),xo=hv,Xh=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,m){var j=this;s.getScaleByField(c)&&s.filter(c,m),s.views&&s.views.length&&Object(i.j)(s.views,function(K){j.filterView(K,c,m)})},h.prototype.filter=function(){var s=is(this.context);if(s){var c=this.context.view,m=s.component,j=m.get("field");if(As(s)){if(j){var K=m.getItemsByState("unchecked"),gt=Hr(c,j),Mt=K.map(function(ae){return ae.name});Mt.length?this.filterView(c,j,function(ae){var fe=gt.getText(ae);return!Mt.includes(fe)}):this.filterView(c,j,null),c.render(!0)}}else if(fu(s)){var Xt=m.getValue(),Jt=Xt[0],te=Xt[1];this.filterView(c,j,function(ae){return ae>=Jt&&ae<=te}),c.render(!0)}}},h}(Si),Hc=Xh;function ul(d,h,s,c){var m=Math.min(s[h],c[h]),j=Math.max(s[h],c[h]),K=d.range,gt=K[0],Mt=K[1];if(m<gt&&(m=gt),j>Mt&&(j=Mt),m===Mt&&j===Mt)return null;var Xt=d.invert(m),Jt=d.invert(j);if(d.isCategory){var te=d.values.indexOf(Xt),ae=d.values.indexOf(Jt),fe=d.values.slice(te,ae+1);return function(Ae){return fe.includes(Ae)}}else return function(Ae){return Ae>=Xt&&Ae<=Jt}}var uc=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.dims=["x","y"],s.startPoint=null,s.isStarted=!1,s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.start=function(){var s=this.context;this.isStarted=!0,this.startPoint=s.getCurrentPoint()},h.prototype.filter=function(){var s,c;if(Gs(this.context)){var m=this.context.event.target,j=m.getCanvasBBox();s={x:j.x,y:j.y},c={x:j.maxX,y:j.maxY}}else{if(!this.isStarted)return;s=this.startPoint,c=this.context.getCurrentPoint()}if(!(Math.abs(s.x-c.x)<5||Math.abs(s.x-c.y)<5)){var K=this.context.view,gt=K.getCoordinate(),Mt=gt.invert(c),Xt=gt.invert(s);if(this.hasDim("x")){var Jt=K.getXScale(),te=ul(Jt,"x",Mt,Xt);this.filterView(K,Jt.field,te)}if(this.hasDim("y")){var ae=K.getYScales()[0],te=ul(ae,"y",Mt,Xt);this.filterView(K,ae.field,te)}this.reRender(K)}},h.prototype.end=function(){this.isStarted=!1},h.prototype.reset=function(){var s=this.context.view;if(this.isStarted=!1,this.hasDim("x")){var c=s.getXScale();this.filterView(s,c.field,null)}if(this.hasDim("y")){var m=s.getYScales()[0];this.filterView(s,m.field,null)}this.reRender(s)},h.prototype.filterView=function(s,c,m){s.filter(c,m)},h.prototype.reRender=function(s){s.render(!0)},h}(Si),fh=uc,dv=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.filterView=function(s,c,m){var j=Nr(s);Object(i.j)(j,function(K){K.filter(c,m)})},h.prototype.reRender=function(s){var c=Nr(s);Object(i.j)(c,function(m){m.render(!0)})},h}(fh),Yh=dv,vv=function(d){Object(f.c)(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.prototype.filter=function(){var s=is(this.context),c=this.context.view,m=k(c);if(Gs(this.context)){var j=ru(this.context,10);j&&Object(i.j)(m,function(Ae){j.includes(Ae)?Ae.show():Ae.hide()})}else if(s){var K=s.component,gt=K.get("field");if(As(s)){if(gt){var Mt=K.getItemsByState("unchecked"),Xt=Hr(c,gt),Jt=Mt.map(function(Ae){return Ae.name});Object(i.j)(m,function(Ae){var Ie=le(Ae,gt),gr=Xt.getText(Ie);Jt.indexOf(gr)>=0?Ae.hide():Ae.show()})}}else if(fu(s)){var te=K.getValue(),ae=te[0],fe=te[1];Object(i.j)(m,function(Ae){var Ie=le(Ae,gt);Ie>=ae&&Ie<=fe?Ae.show():Ae.hide()})}}},h.prototype.clear=function(){var s=k(this.context.view);Object(i.j)(s,function(c){c.show()})},h.prototype.reset=function(){this.clear()},h}(Si),Dd=vv,gv=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.byRecord=!1,s}return h.prototype.filter=function(){Gs(this.context)&&(this.byRecord?this.filterByRecord():this.filterByBBox())},h.prototype.filterByRecord=function(){var s=this.context.view,c=ru(this.context,10);if(!!c){var m=s.getXScale().field,j=s.getYScales()[0].field,K=c.map(function(Mt){return Mt.getModel().data}),gt=Nr(s);Object(i.j)(gt,function(Mt){var Xt=k(Mt);Object(i.j)(Xt,function(Jt){var te=Jt.getModel().data;ln(K,te,m,j)?Jt.show():Jt.hide()})})}},h.prototype.filterByBBox=function(){var s=this,c=this.context.view,m=Nr(c);Object(i.j)(m,function(j){var K=Us(s.context,j,10),gt=k(j);K&&Object(i.j)(gt,function(Mt){K.includes(Mt)?Mt.show():Mt.hide()})})},h.prototype.reset=function(){var s=Nr(this.context.view);Object(i.j)(s,function(c){var m=k(c);Object(i.j)(m,function(j){j.show()})})},h}(Si),Df=gv,pv=10,lc=5,ig=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.buttonGroup=null,s.buttonCfg={name:"button",text:"button",textStyle:{x:0,y:0,fontSize:12,fill:"#333333",cursor:"pointer"},padding:[8,10],style:{fill:"#f7f7f7",stroke:"#cccccc",cursor:"pointer"},activeStyle:{fill:"#e6e6e6"}},s}return h.prototype.getButtonCfg=function(){return Object(i.h)(this.buttonCfg,this.cfg)},h.prototype.drawButton=function(){var s=this.getButtonCfg(),c=this.context.view.foregroundGroup.addGroup({name:s.name}),m=c.addShape({type:"text",name:"button-text",attrs:Object(f.a)({text:s.text},s.textStyle)}),j=m.getBBox(),K=Ju(s.padding),gt=c.addShape({type:"rect",name:"button-rect",attrs:Object(f.a)({x:j.x-K[3],y:j.y-K[0],width:j.width+K[1]+K[3],height:j.height+K[0]+K[2]},s.style)});gt.toBack(),c.on("mouseenter",function(){gt.attr(s.activeStyle)}),c.on("mouseleave",function(){gt.attr(s.style)}),this.buttonGroup=c},h.prototype.resetPosition=function(){var s=this.context.view,c=s.getCoordinate(),m=c.convert({x:1,y:1}),j=this.buttonGroup,K=j.getBBox(),gt=Se.a.transform(null,[["t",m.x-K.width-pv,m.y+K.height+lc]]);j.setMatrix(gt)},h.prototype.show=function(){this.buttonGroup||this.drawButton(),this.resetPosition(),this.buttonGroup.show()},h.prototype.hide=function(){this.buttonGroup&&this.buttonGroup.hide()},h.prototype.destroy=function(){var s=this.buttonGroup;s&&s.remove(),d.prototype.destroy.call(this)},h}(Si),Wi=ig,og=4,cs=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.starting=!1,s.dragStart=!1,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint()},h.prototype.drag=function(){if(!!this.startPoint){var s=this.context.getCurrentPoint(),c=this.context.view,m=this.context.event;this.dragStart?c.emit("drag",{target:m.target,x:m.x,y:m.y}):dr(s,this.startPoint)>og&&(c.emit("dragstart",{target:m.target,x:m.x,y:m.y}),this.dragStart=!0)}},h.prototype.end=function(){if(this.dragStart){var s=this.context.view,c=this.context.event;s.emit("dragend",{target:c.target,x:c.x,y:c.y})}this.starting=!1,this.dragStart=!1},h}(Si),sg=cs,un=5,Zn=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.starting=!1,s.isMoving=!1,s.startPoint=null,s.startMatrix=null,s}return h.prototype.start=function(){this.starting=!0,this.startPoint=this.context.getCurrentPoint(),this.startMatrix=this.context.view.middleGroup.getMatrix()},h.prototype.move=function(){if(!!this.starting){var s=this.startPoint,c=this.context.getCurrentPoint(),m=dr(s,c);if(m>un&&!this.isMoving&&(this.isMoving=!0),this.isMoving){var j=this.context.view,K=Se.a.transform(this.startMatrix,[["t",c.x-s.x,c.y-s.y]]);j.backgroundGroup.setMatrix(K),j.foregroundGroup.setMatrix(K),j.middleGroup.setMatrix(K)}}},h.prototype.end=function(){this.isMoving&&(this.isMoving=!1),this.startMatrix=null,this.starting=!1,this.startPoint=null},h.prototype.reset=function(){this.starting=!1,this.startPoint=null,this.isMoving=!1;var s=this.context.view;s.backgroundGroup.resetMatrix(),s.foregroundGroup.resetMatrix(),s.middleGroup.resetMatrix(),this.isMoving=!1},h}(Si),yv=Zn,mv="x",bv="y",ug=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.dims=[mv,bv],s.cfgFields=["dims"],s.cacheScaleDefs={},s}return h.prototype.hasDim=function(s){return this.dims.includes(s)},h.prototype.getScale=function(s){var c=this.context.view;return s==="x"?c.getXScale():c.getYScales()[0]},h.prototype.resetDim=function(s){var c=this.context.view;if(this.hasDim(s)&&this.cacheScaleDefs[s]){var m=this.getScale(s);c.scale(m.field,this.cacheScaleDefs[s]),this.cacheScaleDefs[s]=null}},h.prototype.reset=function(){this.resetDim(mv),this.resetDim(bv);var s=this.context.view;s.render(!0)},h}(Si),Ev=ug,lg=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.startPoint=null,s.starting=!1,s.startCache={},s}return h.prototype.start=function(){var s=this;this.startPoint=this.context.getCurrentPoint(),this.starting=!0;var c=this.dims;Object(i.j)(c,function(m){var j=s.getScale(m),K=j.min,gt=j.max,Mt=j.values;s.startCache[m]={min:K,max:gt,values:Mt}})},h.prototype.end=function(){this.startPoint=null,this.starting=!1,this.startCache={}},h.prototype.translate=function(){var s=this;if(!!this.starting){var c=this.startPoint,m=this.context.view.getCoordinate(),j=this.context.getCurrentPoint(),K=m.invert(c),gt=m.invert(j),Mt=gt.x-K.x,Xt=gt.y-K.y,Jt=this.context.view,te=this.dims;Object(i.j)(te,function(ae){s.translateDim(ae,{x:Mt*-1,y:Xt*-1})}),Jt.render(!0)}},h.prototype.translateDim=function(s,c){if(this.hasDim(s)){var m=this.getScale(s);m.isLinear&&this.translateLinear(s,m,c)}},h.prototype.translateLinear=function(s,c,m){var j=this.context.view,K=this.startCache[s],gt=K.min,Mt=K.max,Xt=Mt-gt,Jt=m[s]*Xt;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:gt,max:Mt}),j.scale(c.field,{nice:!1,min:gt+Jt,max:Mt+Jt})},h.prototype.reset=function(){d.prototype.reset.call(this),this.startPoint=null,this.starting=!1},h}(Ev),hh=lg,cg=function(d){Object(f.c)(h,d);function h(){var s=d!==null&&d.apply(this,arguments)||this;return s.zoomRatio=.05,s}return h.prototype.zoomIn=function(){this.zoom(this.zoomRatio)},h.prototype.zoom=function(s){var c=this,m=this.dims;Object(i.j)(m,function(j){c.zoomDim(j,s)}),this.context.view.render(!0)},h.prototype.zoomOut=function(){this.zoom(-1*this.zoomRatio)},h.prototype.zoomDim=function(s,c){if(this.hasDim(s)){var m=this.getScale(s);m.isLinear&&this.zoomLinear(s,m,c)}},h.prototype.zoomLinear=function(s,c,m){var j=this.context.view;this.cacheScaleDefs[s]||(this.cacheScaleDefs[s]={nice:c.nice,min:c.min,max:c.max});var K=this.cacheScaleDefs[s],gt=K.max-K.min,Mt=c.min,Xt=c.max,Jt=m*gt,te=Mt-Jt,ae=Xt+Jt,fe=ae-te,Ae=fe/gt;ae>te&&Ae<100&&Ae>.01&&j.scale(c.field,{nice:!1,min:Mt-Jt,max:Xt+Jt})},h}(Ev),fg=cg;Ru("dark",ee(wn)),V("canvas",Hn),V("svg",ba),ks("Polygon",_l),ks("Interval",Ql),ks("Schema",gd),ks("Path",uo),ks("Point",$f),ks("Line",Pc),ks("Area",Zl),ks("Edge",of),ks("Heatmap",ha),Hs("base",Ts),Hs("interval",ec),Hs("pie",Dh),Hs("polar",qf),ds("overlap",xf),ds("distribute",Lo),ds("fixed-overlap",Of),ds("hide-overlap",Bc),ds("limit-in-shape",jh),ds("limit-in-canvas",jc),ds("limit-in-plot",Ku),ds("pie-outer",bd),ds("adjust-color",wc),ds("interval-adjust-position",ts),ds("interval-hide-overlap",eh),ds("point-adjust-position",Nh),ds("pie-spider",av),ds("path-adjust-position",ah),Ss("fade-in",oh),Ss("fade-out",Nc),Ss("grow-in-x",sl),Ss("grow-in-xy",Ks),Ss("grow-in-y",Wo),Ss("scale-in-x",Wc),Ss("scale-in-y",Uh),Ss("wave-in",Mf),Ss("zoom-in",Wh),Ss("zoom-out",sh),Ss("position-update",Uc),Ss("sector-path-update",Tl),Ss("path-in",Sl),Ra("rect",kr),Ra("mirror",Dr),Ra("list",Ad),Ra("matrix",ge),Ra("circle",Cd),Ra("tree",pn),vu("axis",Sn),vu("legend",va),vu("tooltip",zl),vu("annotation",Nn),vu("slider",si),vu("scrollbar",es),pe("tooltip",ko),pe("sibling-tooltip",Vo),pe("ellipsis-text",gs),pe("element-active",Pl),pe("element-single-active",Er),pe("element-range-active",Pe),pe("element-highlight",xr),pe("element-highlight-by-x",Dn),pe("element-highlight-by-color",en),pe("element-single-highlight",Ya),pe("element-range-highlight",Di),pe("element-sibling-highlight",Di,{effectSiblings:!0,effectByRecord:!0}),pe("element-selected",Ps),pe("element-single-selected",uu),pe("element-range-selected",$i),pe("element-link-by-color",wr),pe("active-region",rs),pe("list-active",iv),pe("list-selected",Bo),pe("list-highlight",$s),pe("list-unchecked",no),pe("list-checked",wo),pe("legend-item-highlight",$s,{componentNames:["legend"]}),pe("axis-label-highlight",$s,{componentNames:["axis"]}),pe("rect-mask",sc),pe("x-rect-mask",Td,{dim:"x"}),pe("y-rect-mask",Td,{dim:"y"}),pe("circle-mask",Sd),pe("path-mask",Hh),pe("smooth-path-mask",fv),pe("cursor",xo),pe("data-filter",Hc),pe("brush",fh),pe("brush-x",fh,{dims:["x"]}),pe("brush-y",fh,{dims:["y"]}),pe("sibling-filter",Yh),pe("sibling-x-filter",Yh),pe("sibling-y-filter",Yh),pe("element-filter",Dd),pe("element-sibling-filter",Df),pe("element-sibling-filter-record",Df,{byRecord:!0}),pe("view-drag",sg),pe("view-move",yv),pe("scale-translate",hh),pe("scale-zoom",fg),pe("reset-button",Wi,{name:"reset-button",text:"reset"});function cc(d){return d.isInPlot()}yn("tooltip",{start:[{trigger:"plot:mousemove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"plot:touchmove",action:"tooltip:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"plot:mouseleave",action:"tooltip:hide"},{trigger:"plot:leave",action:"tooltip:hide"},{trigger:"plot:touchend",action:"tooltip:hide"}]}),yn("ellipsis-text",{start:[{trigger:"legend-item-name:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"legend-item-name:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:mousemove",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}},{trigger:"axis-label:touchstart",action:"ellipsis-text:show",throttle:{wait:50,leading:!0,trailing:!1}}],end:[{trigger:"legend-item-name:mouseleave",action:"ellipsis-text:hide"},{trigger:"legend-item-name:touchend",action:"ellipsis-text:hide"},{trigger:"axis-label:mouseleave",action:"ellipsis-text:hide"},{trigger:"axis-label:touchend",action:"ellipsis-text:hide"}]}),yn("element-active",{start:[{trigger:"element:mouseenter",action:"element-active:active"}],end:[{trigger:"element:mouseleave",action:"element-active:reset"}]}),yn("element-selected",{start:[{trigger:"element:click",action:"element-selected:toggle"}]}),yn("element-highlight",{start:[{trigger:"element:mouseenter",action:"element-highlight:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight:reset"}]}),yn("element-highlight-by-x",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-x:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-x:reset"}]}),yn("element-highlight-by-color",{start:[{trigger:"element:mouseenter",action:"element-highlight-by-color:highlight"}],end:[{trigger:"element:mouseleave",action:"element-highlight-by-color:reset"}]}),yn("legend-active",{start:[{trigger:"legend-item:mouseenter",action:["list-active:active","element-active:active"]}],end:[{trigger:"legend-item:mouseleave",action:["list-active:reset","element-active:reset"]}]}),yn("legend-highlight",{start:[{trigger:"legend-item:mouseenter",action:["legend-item-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"legend-item:mouseleave",action:["legend-item-highlight:reset","element-highlight:reset"]}]}),yn("axis-label-highlight",{start:[{trigger:"axis-label:mouseenter",action:["axis-label-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"axis-label:mouseleave",action:["axis-label-highlight:reset","element-highlight:reset"]}]}),yn("element-list-highlight",{start:[{trigger:"element:mouseenter",action:["list-highlight:highlight","element-highlight:highlight"]}],end:[{trigger:"element:mouseleave",action:["list-highlight:reset","element-highlight:reset"]}]}),yn("element-range-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"mask:mouseenter",action:"cursor:move"},{trigger:"plot:mouseleave",action:"cursor:default"},{trigger:"mask:mouseleave",action:"cursor:crosshair"}],start:[{trigger:"plot:mousedown",isEnable:function(h){return!h.isInShape("mask")},action:["rect-mask:start","rect-mask:show"]},{trigger:"mask:dragstart",action:["rect-mask:moveStart"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:drag",action:["rect-mask:move"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end"]},{trigger:"mask:dragend",action:["rect-mask:moveEnd"]},{trigger:"document:mouseup",isEnable:function(h){return!h.isInPlot()},action:["element-range-highlight:clear","rect-mask:end","rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["element-range-highlight:clear","rect-mask:hide"]}]}),yn("brush",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cc,action:["brush:start","rect-mask:start","rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cc,action:["rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cc,action:["brush:filter","brush:end","rect-mask:end","rect-mask:hide","reset-button:show"]}],rollback:[{trigger:"reset-button:click",action:["brush:reset","reset-button:hide","cursor:crosshair"]}]}),yn("brush-visible",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"plot:mousedown",action:["rect-mask:start","rect-mask:show"]}],processing:[{trigger:"plot:mousemove",action:["rect-mask:resize"]},{trigger:"mask:change",action:["element-range-highlight:highlight"]}],end:[{trigger:"plot:mouseup",action:["rect-mask:end","rect-mask:hide","element-filter:filter","element-range-highlight:clear"]}],rollback:[{trigger:"dblclick",action:["element-filter:clear"]}]}),yn("brush-x",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cc,action:["brush-x:start","x-rect-mask:start","x-rect-mask:show"]}],processing:[{trigger:"mousemove",isEnable:cc,action:["x-rect-mask:resize"]}],end:[{trigger:"mouseup",isEnable:cc,action:["brush-x:filter","brush-x:end","x-rect-mask:end","x-rect-mask:hide"]}],rollback:[{trigger:"dblclick",action:["brush-x:reset"]}]}),yn("element-path-highlight",{showEnable:[{trigger:"plot:mouseenter",action:"cursor:crosshair"},{trigger:"plot:mouseleave",action:"cursor:default"}],start:[{trigger:"mousedown",isEnable:cc,action:"path-mask:start"},{trigger:"mousedown",isEnable:cc,action:"path-mask:show"}],processing:[{trigger:"mousemove",action:"path-mask:addPoint"}],end:[{trigger:"mouseup",action:"path-mask:end"}],rollback:[{trigger:"dblclick",action:"path-mask:hide"}]}),yn("element-single-selected",{start:[{trigger:"element:click",action:"element-single-selected:toggle"}]}),yn("legend-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","data-filter:filter"]}]}),yn("continuous-filter",{start:[{trigger:"legend:valuechanged",action:"data-filter:filter"}]}),yn("continuous-visible-filter",{start:[{trigger:"legend:valuechanged",action:"element-filter:filter"}]}),yn("legend-visible-filter",{showEnable:[{trigger:"legend-item:mouseenter",action:"cursor:pointer"},{trigger:"legend-item:mouseleave",action:"cursor:default"}],start:[{trigger:"legend-item:click",action:["list-unchecked:toggle","element-filter:filter"]}]}),yn("active-region",{start:[{trigger:"plot:mousemove",action:"active-region:show"}],end:[{trigger:"plot:mouseleave",action:"active-region:hide"}]});function Ov(d){return d.gEvent.preventDefault(),d.gEvent.originalEvent.deltaY>0}yn("view-zoom",{start:[{trigger:"plot:mousewheel",isEnable:function(h){return Ov(h.event)},action:"scale-zoom:zoomOut",throttle:{wait:100,leading:!0,trailing:!1}},{trigger:"plot:mousewheel",isEnable:function(h){return!Ov(h.event)},action:"scale-zoom:zoomIn",throttle:{wait:100,leading:!0,trailing:!1}}]}),yn("sibling-tooltip",{start:[{trigger:"plot:mousemove",action:"sibling-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"sibling-tooltip:hide"}]})},kafh:function(Ft,I,a){var f=a("+sJh"),i=a("4Hkj"),g=a("t8N9"),p=a("cGwC"),E=a("a8Yn"),S=[0,0];Ft.exports.computeMiter=function(M,x,O,C,D){return f(M,O,C),g(M,M),i(x,-M[1],M[0]),i(S,-O[1],O[0]),D/E(x,S)},Ft.exports.normal=function(M,x){return i(M,-x[1],x[0]),M},Ft.exports.direction=function(M,x,O){return p(M,x,O),g(M,M),M}},kdrt:function(Ft,I,a){"use strict";a.d(I,"a",function(){return xt}),a.d(I,"b",function(){return Qt}),a.d(I,"c",function(){return E});var f=a("iTfj"),i=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,g=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),p=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),E=function(yt){if(!yt)return null;if(Object(f.B)(yt))return yt;var ut={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(yt).replace(g,function(it,vt,Wt){var Ct=[],Z=vt.toLowerCase();if(Wt.replace(p,function(X,dt){dt&&Ct.push(+dt)}),Z==="m"&&Ct.length>2&&(ft.push([vt].concat(Ct.splice(0,2))),Z="l",vt=vt==="m"?"l":"L"),Z==="o"&&Ct.length===1&&ft.push([vt,Ct[0]]),Z==="r")ft.push([vt].concat(Ct));else for(;Ct.length>=ut[Z]&&(ft.push([vt].concat(Ct.splice(0,ut[Z]))),!!ut[Z]););return yt}),ft},S=function(yt,ut){for(var ft=[],it=0,vt=yt.length;vt-2*!ut>it;it+=2){var Wt=[{x:+yt[it-2],y:+yt[it-1]},{x:+yt[it],y:+yt[it+1]},{x:+yt[it+2],y:+yt[it+3]},{x:+yt[it+4],y:+yt[it+5]}];ut?it?vt-4===it?Wt[3]={x:+yt[0],y:+yt[1]}:vt-2===it&&(Wt[2]={x:+yt[0],y:+yt[1]},Wt[3]={x:+yt[2],y:+yt[3]}):Wt[0]={x:+yt[vt-2],y:+yt[vt-1]}:vt-4===it?Wt[3]=Wt[2]:it||(Wt[0]={x:+yt[it],y:+yt[it+1]}),ft.push(["C",(-Wt[0].x+6*Wt[1].x+Wt[2].x)/6,(-Wt[0].y+6*Wt[1].y+Wt[2].y)/6,(Wt[1].x+6*Wt[2].x-Wt[3].x)/6,(Wt[1].y+6*Wt[2].y-Wt[3].y)/6,Wt[2].x,Wt[2].y])}return ft},A=function(yt,ut,ft,it,vt){var Wt=[];if(vt===null&&it===null&&(it=ft),yt=+yt,ut=+ut,ft=+ft,it=+it,vt!==null){var Ct=Math.PI/180,Z=yt+ft*Math.cos(-it*Ct),X=yt+ft*Math.cos(-vt*Ct),dt=ut+ft*Math.sin(-it*Ct),H=ut+ft*Math.sin(-vt*Ct);Wt=[["M",Z,dt],["A",ft,ft,0,+(vt-it>180),0,X,H]]}else Wt=[["M",yt,ut],["m",0,-it],["a",ft,it,0,1,1,0,2*it],["a",ft,it,0,1,1,0,-2*it],["z"]];return Wt},M=function(yt){if(yt=E(yt),!yt||!yt.length)return[["M",0,0]];var ut=[],ft=0,it=0,vt=0,Wt=0,Ct=0,Z,X;yt[0][0]==="M"&&(ft=+yt[0][1],it=+yt[0][2],vt=ft,Wt=it,Ct++,ut[0]=["M",ft,it]);for(var dt=yt.length===3&&yt[0][0]==="M"&&yt[1][0].toUpperCase()==="R"&&yt[2][0].toUpperCase()==="Z",H=void 0,lt=void 0,Ot=Ct,Rt=yt.length;Ot<Rt;Ot++){if(ut.push(H=[]),lt=yt[Ot],Z=lt[0],Z!==Z.toUpperCase())switch(H[0]=Z.toUpperCase(),H[0]){case"A":H[1]=lt[1],H[2]=lt[2],H[3]=lt[3],H[4]=lt[4],H[5]=lt[5],H[6]=+lt[6]+ft,H[7]=+lt[7]+it;break;case"V":H[1]=+lt[1]+it;break;case"H":H[1]=+lt[1]+ft;break;case"R":X=[ft,it].concat(lt.slice(1));for(var zt=2,Bt=X.length;zt<Bt;zt++)X[zt]=+X[zt]+ft,X[++zt]=+X[zt]+it;ut.pop(),ut=ut.concat(S(X,dt));break;case"O":ut.pop(),X=A(ft,it,lt[1],lt[2]),X.push(X[0]),ut=ut.concat(X);break;case"U":ut.pop(),ut=ut.concat(A(ft,it,lt[1],lt[2],lt[3])),H=["U"].concat(ut[ut.length-1].slice(-2));break;case"M":vt=+lt[1]+ft,Wt=+lt[2]+it;break;default:for(var zt=1,Bt=lt.length;zt<Bt;zt++)H[zt]=+lt[zt]+(zt%2?ft:it)}else if(Z==="R")X=[ft,it].concat(lt.slice(1)),ut.pop(),ut=ut.concat(S(X,dt)),H=["R"].concat(lt.slice(-2));else if(Z==="O")ut.pop(),X=A(ft,it,lt[1],lt[2]),X.push(X[0]),ut=ut.concat(X);else if(Z==="U")ut.pop(),ut=ut.concat(A(ft,it,lt[1],lt[2],lt[3])),H=["U"].concat(ut[ut.length-1].slice(-2));else for(var tt=0,J=lt.length;tt<J;tt++)H[tt]=lt[tt];if(Z=Z.toUpperCase(),Z!=="O")switch(H[0]){case"Z":ft=+vt,it=+Wt;break;case"H":ft=H[1];break;case"V":it=H[1];break;case"M":vt=H[H.length-2],Wt=H[H.length-1];break;default:ft=H[H.length-2],it=H[H.length-1]}}return ut},x=function(yt,ut,ft,it){return[yt,ut,ft,it,ft,it]},O=function(yt,ut,ft,it,vt,Wt){var Ct=1/3,Z=2/3;return[Ct*yt+Z*ft,Ct*ut+Z*it,Ct*vt+Z*ft,Ct*Wt+Z*it,vt,Wt]},C=function $t(yt,ut,ft,it,vt,Wt,Ct,Z,X,dt){ft===it&&(ft+=1);var H=Math.PI*120/180,lt=Math.PI/180*(+vt||0),Ot=[],Rt,zt,Bt,tt,J,G=function(Rr,an,In){var Un=Rr*Math.cos(In)-an*Math.sin(In),_n=Rr*Math.sin(In)+an*Math.cos(In);return{x:Un,y:_n}};if(dt)zt=dt[0],Bt=dt[1],tt=dt[2],J=dt[3];else{Rt=G(yt,ut,-lt),yt=Rt.x,ut=Rt.y,Rt=G(Z,X,-lt),Z=Rt.x,X=Rt.y,yt===Z&&ut===X&&(Z+=1,X+=1);var Et=(yt-Z)/2,Tt=(ut-X)/2,ct=Et*Et/(ft*ft)+Tt*Tt/(it*it);ct>1&&(ct=Math.sqrt(ct),ft=ct*ft,it=ct*it);var St=ft*ft,Vt=it*it,Lt=(Wt===Ct?-1:1)*Math.sqrt(Math.abs((St*Vt-St*Tt*Tt-Vt*Et*Et)/(St*Tt*Tt+Vt*Et*Et)));tt=Lt*ft*Tt/it+(yt+Z)/2,J=Lt*-it*Et/ft+(ut+X)/2,zt=Math.asin(((ut-J)/it).toFixed(9)),Bt=Math.asin(((X-J)/it).toFixed(9)),zt=yt<tt?Math.PI-zt:zt,Bt=Z<tt?Math.PI-Bt:Bt,zt<0&&(zt=Math.PI*2+zt),Bt<0&&(Bt=Math.PI*2+Bt),Ct&&zt>Bt&&(zt=zt-Math.PI*2),!Ct&&Bt>zt&&(Bt=Bt-Math.PI*2)}var Nt=Bt-zt;if(Math.abs(Nt)>H){var Zt=Bt,oe=Z,ue=X;Bt=zt+H*(Ct&&Bt>zt?1:-1),Z=tt+ft*Math.cos(Bt),X=J+it*Math.sin(Bt),Ot=$t(Z,X,ft,it,vt,0,Ct,oe,ue,[Bt,Zt,tt,J])}Nt=Bt-zt;var Ee=Math.cos(zt),Te=Math.sin(zt),Se=Math.cos(Bt),$e=Math.sin(Bt),cr=Math.tan(Nt/4),He=4/3*ft*cr,_e=4/3*it*cr,ur=[yt,ut],jr=[yt+He*Te,ut-_e*Ee],Ar=[Z+He*$e,X-_e*Se],Ge=[Z,X];if(jr[0]=2*ur[0]-jr[0],jr[1]=2*ur[1]-jr[1],dt)return[jr,Ar,Ge].concat(Ot);Ot=[jr,Ar,Ge].concat(Ot).join().split(",");for(var br=[],er=0,nr=Ot.length;er<nr;er++)br[er]=er%2?G(Ot[er-1],Ot[er],lt).y:G(Ot[er],Ot[er+1],lt).x;return br},D=function(yt,ut){var ft=M(yt),it=ut&&M(ut),vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Wt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ct=[],Z=[],X="",dt="",H,lt=function(Tt,ct,St){var Vt,Lt;if(!Tt)return["C",ct.x,ct.y,ct.x,ct.y,ct.x,ct.y];switch(!(Tt[0]in{T:1,Q:1})&&(ct.qx=ct.qy=null),Tt[0]){case"M":ct.X=Tt[1],ct.Y=Tt[2];break;case"A":Tt=["C"].concat(C.apply(0,[ct.x,ct.y].concat(Tt.slice(1))));break;case"S":St==="C"||St==="S"?(Vt=ct.x*2-ct.bx,Lt=ct.y*2-ct.by):(Vt=ct.x,Lt=ct.y),Tt=["C",Vt,Lt].concat(Tt.slice(1));break;case"T":St==="Q"||St==="T"?(ct.qx=ct.x*2-ct.qx,ct.qy=ct.y*2-ct.qy):(ct.qx=ct.x,ct.qy=ct.y),Tt=["C"].concat(O(ct.x,ct.y,ct.qx,ct.qy,Tt[1],Tt[2]));break;case"Q":ct.qx=Tt[1],ct.qy=Tt[2],Tt=["C"].concat(O(ct.x,ct.y,Tt[1],Tt[2],Tt[3],Tt[4]));break;case"L":Tt=["C"].concat(x(ct.x,ct.y,Tt[1],Tt[2]));break;case"H":Tt=["C"].concat(x(ct.x,ct.y,Tt[1],ct.y));break;case"V":Tt=["C"].concat(x(ct.x,ct.y,ct.x,Tt[1]));break;case"Z":Tt=["C"].concat(x(ct.x,ct.y,ct.X,ct.Y));break;default:break}return Tt},Ot=function(Tt,ct){if(Tt[ct].length>7){Tt[ct].shift();for(var St=Tt[ct];St.length;)Ct[ct]="A",it&&(Z[ct]="A"),Tt.splice(ct++,0,["C"].concat(St.splice(0,6)));Tt.splice(ct,1),H=Math.max(ft.length,it&&it.length||0)}},Rt=function(Tt,ct,St,Vt,Lt){Tt&&ct&&Tt[Lt][0]==="M"&&ct[Lt][0]!=="M"&&(ct.splice(Lt,0,["M",Vt.x,Vt.y]),St.bx=0,St.by=0,St.x=Tt[Lt][1],St.y=Tt[Lt][2],H=Math.max(ft.length,it&&it.length||0))};H=Math.max(ft.length,it&&it.length||0);for(var zt=0;zt<H;zt++){ft[zt]&&(X=ft[zt][0]),X!=="C"&&(Ct[zt]=X,zt&&(dt=Ct[zt-1])),ft[zt]=lt(ft[zt],vt,dt),Ct[zt]!=="A"&&X==="C"&&(Ct[zt]="C"),Ot(ft,zt),it&&(it[zt]&&(X=it[zt][0]),X!=="C"&&(Z[zt]=X,zt&&(dt=Z[zt-1])),it[zt]=lt(it[zt],Wt,dt),Z[zt]!=="A"&&X==="C"&&(Z[zt]="C"),Ot(it,zt)),Rt(ft,it,vt,Wt,zt),Rt(it,ft,Wt,vt,zt);var Bt=ft[zt],tt=it&&it[zt],J=Bt.length,G=it&&tt.length;vt.x=Bt[J-2],vt.y=Bt[J-1],vt.bx=parseFloat(Bt[J-4])||vt.x,vt.by=parseFloat(Bt[J-3])||vt.y,Wt.bx=it&&(parseFloat(tt[G-4])||Wt.x),Wt.by=it&&(parseFloat(tt[G-3])||Wt.y),Wt.x=it&&tt[G-2],Wt.y=it&&tt[G-1]}return it?[ft,it]:ft},R=/,?([a-z]),?/gi,y=function(yt){return yt.join(",").replace(R,"$1")},w=function(yt,ut,ft,it,vt){var Wt=-3*ut+9*ft-9*it+3*vt,Ct=yt*Wt+6*ut-12*ft+6*it;return yt*Ct-3*ut+3*ft},N=function(yt,ut,ft,it,vt,Wt,Ct,Z,X){X===null&&(X=1),X=X>1?1:X<0?0:X;for(var dt=X/2,H=12,lt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ot=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Rt=0,zt=0;zt<H;zt++){var Bt=dt*lt[zt]+dt,tt=w(Bt,yt,ft,vt,Ct),J=w(Bt,ut,it,Wt,Z),G=tt*tt+J*J;Rt+=Ot[zt]*Math.sqrt(G)}return dt*Rt},z=function(yt,ut,ft,it,vt,Wt,Ct,Z){for(var X=[],dt=[[],[]],H,lt,Ot,Rt,zt=0;zt<2;++zt){if(zt===0?(lt=6*yt-12*ft+6*vt,H=-3*yt+9*ft-9*vt+3*Ct,Ot=3*ft-3*yt):(lt=6*ut-12*it+6*Wt,H=-3*ut+9*it-9*Wt+3*Z,Ot=3*it-3*ut),Math.abs(H)<1e-12){if(Math.abs(lt)<1e-12)continue;Rt=-Ot/lt,Rt>0&&Rt<1&&X.push(Rt);continue}var Bt=lt*lt-4*Ot*H,tt=Math.sqrt(Bt);if(!(Bt<0)){var J=(-lt+tt)/(2*H);J>0&&J<1&&X.push(J);var G=(-lt-tt)/(2*H);G>0&&G<1&&X.push(G)}}for(var Et=X.length,Tt=Et,ct;Et--;)Rt=X[Et],ct=1-Rt,dt[0][Et]=ct*ct*ct*yt+3*ct*ct*Rt*ft+3*ct*Rt*Rt*vt+Rt*Rt*Rt*Ct,dt[1][Et]=ct*ct*ct*ut+3*ct*ct*Rt*it+3*ct*Rt*Rt*Wt+Rt*Rt*Rt*Z;return dt[0][Tt]=yt,dt[1][Tt]=ut,dt[0][Tt+1]=Ct,dt[1][Tt+1]=Z,dt[0].length=dt[1].length=Tt+2,{min:{x:Math.min.apply(0,dt[0]),y:Math.min.apply(0,dt[1])},max:{x:Math.max.apply(0,dt[0]),y:Math.max.apply(0,dt[1])}}},V=function(yt,ut,ft,it,vt,Wt,Ct,Z){if(!(Math.max(yt,ft)<Math.min(vt,Ct)||Math.min(yt,ft)>Math.max(vt,Ct)||Math.max(ut,it)<Math.min(Wt,Z)||Math.min(ut,it)>Math.max(Wt,Z))){var X=(yt*it-ut*ft)*(vt-Ct)-(yt-ft)*(vt*Z-Wt*Ct),dt=(yt*it-ut*ft)*(Wt-Z)-(ut-it)*(vt*Z-Wt*Ct),H=(yt-ft)*(Wt-Z)-(ut-it)*(vt-Ct);if(!!H){var lt=X/H,Ot=dt/H,Rt=+lt.toFixed(2),zt=+Ot.toFixed(2);if(!(Rt<+Math.min(yt,ft).toFixed(2)||Rt>+Math.max(yt,ft).toFixed(2)||Rt<+Math.min(vt,Ct).toFixed(2)||Rt>+Math.max(vt,Ct).toFixed(2)||zt<+Math.min(ut,it).toFixed(2)||zt>+Math.max(ut,it).toFixed(2)||zt<+Math.min(Wt,Z).toFixed(2)||zt>+Math.max(Wt,Z).toFixed(2)))return{x:lt,y:Ot}}}},B=function(yt,ut,ft){return ut>=yt.x&&ut<=yt.x+yt.width&&ft>=yt.y&&ft<=yt.y+yt.height},P=function(yt,ut,ft,it,vt){if(vt)return[["M",+yt+ +vt,ut],["l",ft-vt*2,0],["a",vt,vt,0,0,1,vt,vt],["l",0,it-vt*2],["a",vt,vt,0,0,1,-vt,vt],["l",vt*2-ft,0],["a",vt,vt,0,0,1,-vt,-vt],["l",0,vt*2-it],["a",vt,vt,0,0,1,vt,-vt],["z"]];var Wt=[["M",yt,ut],["l",ft,0],["l",0,it],["l",-ft,0],["z"]];return Wt.parsePathArray=y,Wt},T=function(yt,ut,ft,it){return yt===null&&(yt=ut=ft=it=0),ut===null&&(ut=yt.y,ft=yt.width,it=yt.height,yt=yt.x),{x:yt,y:ut,width:ft,w:ft,height:it,h:it,x2:yt+ft,y2:ut+it,cx:yt+ft/2,cy:ut+it/2,r1:Math.min(ft,it)/2,r2:Math.max(ft,it)/2,r0:Math.sqrt(ft*ft+it*it)/2,path:P(yt,ut,ft,it),vb:[yt,ut,ft,it].join(" ")}},W=function(yt,ut){return yt=T(yt),ut=T(ut),B(ut,yt.x,yt.y)||B(ut,yt.x2,yt.y)||B(ut,yt.x,yt.y2)||B(ut,yt.x2,yt.y2)||B(yt,ut.x,ut.y)||B(yt,ut.x2,ut.y)||B(yt,ut.x,ut.y2)||B(yt,ut.x2,ut.y2)||(yt.x<ut.x2&&yt.x>ut.x||ut.x<yt.x2&&ut.x>yt.x)&&(yt.y<ut.y2&&yt.y>ut.y||ut.y<yt.y2&&ut.y>yt.y)},Q=function(yt,ut,ft,it,vt,Wt,Ct,Z){Object(f.B)(yt)||(yt=[yt,ut,ft,it,vt,Wt,Ct,Z]);var X=z.apply(null,yt);return T(X.min.x,X.min.y,X.max.x-X.min.x,X.max.y-X.min.y)},nt=function(yt,ut,ft,it,vt,Wt,Ct,Z,X){var dt=1-X,H=Math.pow(dt,3),lt=Math.pow(dt,2),Ot=X*X,Rt=Ot*X,zt=H*yt+lt*3*X*ft+dt*3*X*X*vt+Rt*Ct,Bt=H*ut+lt*3*X*it+dt*3*X*X*Wt+Rt*Z,tt=yt+2*X*(ft-yt)+Ot*(vt-2*ft+yt),J=ut+2*X*(it-ut)+Ot*(Wt-2*it+ut),G=ft+2*X*(vt-ft)+Ot*(Ct-2*vt+ft),Et=it+2*X*(Wt-it)+Ot*(Z-2*Wt+it),Tt=dt*yt+X*ft,ct=dt*ut+X*it,St=dt*vt+X*Ct,Vt=dt*Wt+X*Z,Lt=90-Math.atan2(tt-G,J-Et)*180/Math.PI;return{x:zt,y:Bt,m:{x:tt,y:J},n:{x:G,y:Et},start:{x:Tt,y:ct},end:{x:St,y:Vt},alpha:Lt}},st=function(yt,ut,ft){var it=Q(yt),vt=Q(ut);if(!W(it,vt))return ft?0:[];for(var Wt=N.apply(0,yt),Ct=N.apply(0,ut),Z=~~(Wt/8),X=~~(Ct/8),dt=[],H=[],lt={},Ot=ft?0:[],Rt=0;Rt<Z+1;Rt++){var zt=nt.apply(0,yt.concat(Rt/Z));dt.push({x:zt.x,y:zt.y,t:Rt/Z})}for(var Rt=0;Rt<X+1;Rt++){var zt=nt.apply(0,ut.concat(Rt/X));H.push({x:zt.x,y:zt.y,t:Rt/X})}for(var Rt=0;Rt<Z;Rt++)for(var Bt=0;Bt<X;Bt++){var tt=dt[Rt],J=dt[Rt+1],G=H[Bt],Et=H[Bt+1],Tt=Math.abs(J.x-tt.x)<.001?"y":"x",ct=Math.abs(Et.x-G.x)<.001?"y":"x",St=V(tt.x,tt.y,J.x,J.y,G.x,G.y,Et.x,Et.y);if(St){if(lt[St.x.toFixed(4)]===St.y.toFixed(4))continue;lt[St.x.toFixed(4)]=St.y.toFixed(4);var Vt=tt.t+Math.abs((St[Tt]-tt[Tt])/(J[Tt]-tt[Tt]))*(J.t-tt.t),Lt=G.t+Math.abs((St[ct]-G[ct])/(Et[ct]-G[ct]))*(Et.t-G.t);Vt>=0&&Vt<=1&&Lt>=0&&Lt<=1&&(ft?Ot+=1:Ot.push({x:St.x,y:St.y,t1:Vt,t2:Lt}))}}return Ot},et=function(yt,ut,ft){yt=D(yt),ut=D(ut);for(var it,vt,Wt,Ct,Z,X,dt,H,lt,Ot,Rt=ft?0:[],zt=0,Bt=yt.length;zt<Bt;zt++){var tt=yt[zt];if(tt[0]==="M")it=Z=tt[1],vt=X=tt[2];else{tt[0]==="C"?(lt=[it,vt].concat(tt.slice(1)),it=lt[6],vt=lt[7]):(lt=[it,vt,it,vt,Z,X,Z,X],it=Z,vt=X);for(var J=0,G=ut.length;J<G;J++){var Et=ut[J];if(Et[0]==="M")Wt=dt=Et[1],Ct=H=Et[2];else{Et[0]==="C"?(Ot=[Wt,Ct].concat(Et.slice(1)),Wt=Ot[6],Ct=Ot[7]):(Ot=[Wt,Ct,Wt,Ct,dt,H,dt,H],Wt=dt,Ct=H);var Tt=st(lt,Ot,ft);if(ft)Rt+=Tt;else{for(var ct=0,St=Tt.length;ct<St;ct++)Tt[ct].segment1=zt,Tt[ct].segment2=J,Tt[ct].bez1=lt,Tt[ct].bez2=Ot;Rt=Rt.concat(Tt)}}}}}return Rt},_=function(yt,ut){return et(yt,ut)};function Y($t,yt){var ut=[],ft=[];function it(vt,Wt){if(vt.length===1)ut.push(vt[0]),ft.push(vt[0]);else{for(var Ct=[],Z=0;Z<vt.length-1;Z++)Z===0&&ut.push(vt[0]),Z===vt.length-2&&ft.push(vt[Z+1]),Ct[Z]=[(1-Wt)*vt[Z][0]+Wt*vt[Z+1][0],(1-Wt)*vt[Z][1]+Wt*vt[Z+1][1]];it(Ct,Wt)}}return $t.length&&it($t,yt),{left:ut,right:ft.reverse()}}function $($t,yt,ut){var ft=[[$t[1],$t[2]]];ut=ut||2;var it=[];yt[0]==="A"?(ft.push(yt[6]),ft.push(yt[7])):yt[0]==="C"?(ft.push([yt[1],yt[2]]),ft.push([yt[3],yt[4]]),ft.push([yt[5],yt[6]])):yt[0]==="S"||yt[0]==="Q"?(ft.push([yt[1],yt[2]]),ft.push([yt[3],yt[4]])):ft.push([yt[1],yt[2]]);for(var vt=ft,Wt=1/ut,Ct=0;Ct<ut-1;Ct++){var Z=Wt/(1-Wt*Ct),X=Y(vt,Z);it.push(X.left),vt=X.right}it.push(vt);var dt=it.map(function(H){var lt=[];return H.length===4&&(lt.push("C"),lt=lt.concat(H[2])),H.length>=3&&(H.length===3&&lt.push("Q"),lt=lt.concat(H[1])),H.length===2&&lt.push("L"),lt=lt.concat(H[H.length-1]),lt});return dt}var q=function(yt,ut,ft){if(ft===1)return[[].concat(yt)];var it=[];if(ut[0]==="L"||ut[0]==="C"||ut[0]==="Q")it=it.concat($(yt,ut,ft));else{var vt=[].concat(yt);vt[0]==="M"&&(vt[0]="L");for(var Wt=0;Wt<=ft-1;Wt++)it.push(vt)}return it},at=function(yt,ut){if(yt.length===1)return yt;var ft=yt.length-1,it=ut.length-1,vt=ft/it,Wt=[];if(yt.length===1&&yt[0][0]==="M"){for(var Ct=0;Ct<it-ft;Ct++)yt.push(yt[0]);return yt}for(var Ct=0;Ct<it;Ct++){var Z=Math.floor(vt*Ct);Wt[Z]=(Wt[Z]||0)+1}var X=Wt.reduce(function(dt,H,lt){return lt===ft?dt.concat(yt[ft]):dt.concat(q(yt[lt],yt[lt+1],H))},[]);return X.unshift(yt[0]),(ut[it]==="Z"||ut[it]==="z")&&X.push("Z"),X},pt=function(yt,ut){if(yt.length!==ut.length)return!1;var ft=!0;return Object(f.j)(yt,function(it,vt){if(it!==ut[vt])return ft=!1,!1}),ft};function mt($t,yt,ut){var ft=null,it=ut;return yt<it&&(it=yt,ft="add"),$t<it&&(it=$t,ft="del"),{type:ft,min:it}}var ot=function(yt,ut){var ft=yt.length,it=ut.length,vt,Wt,Ct=0;if(ft===0||it===0)return null;for(var Z=[],X=0;X<=ft;X++)Z[X]=[],Z[X][0]={min:X};for(var dt=0;dt<=it;dt++)Z[0][dt]={min:dt};for(var X=1;X<=ft;X++){vt=yt[X-1];for(var dt=1;dt<=it;dt++){Wt=ut[dt-1],pt(vt,Wt)?Ct=0:Ct=1;var H=Z[X-1][dt].min+1,lt=Z[X][dt-1].min+1,Ot=Z[X-1][dt-1].min+Ct;Z[X][dt]=mt(H,lt,Ot)}}return Z},xt=function(yt,ut){var ft=ot(yt,ut),it=yt.length,vt=ut.length,Wt=[],Ct=1,Z=1;if(ft[it][vt].min!==it){for(var X=1;X<=it;X++){var dt=ft[X][X].min;Z=X;for(var H=Ct;H<=vt;H++)ft[X][H].min<dt&&(dt=ft[X][H].min,Z=H);Ct=Z,ft[X][Ct].type&&Wt.push({index:X-1,type:ft[X][Ct].type})}for(var X=Wt.length-1;X>=0;X--)Ct=Wt[X].index,Wt[X].type==="add"?yt.splice(Ct,0,[].concat(yt[Ct])):yt.splice(Ct,1)}it=yt.length;var lt=vt-it;if(it<vt)for(var X=0;X<lt;X++)yt[it-1][0]==="z"||yt[it-1][0]==="Z"?yt.splice(it-2,0,yt[it-2]):yt.push(yt[it-1]),it+=1;return yt};function It($t,yt,ut){for(var ft=[].concat($t),it,vt=1/(ut+1),Wt=Ht(yt)[0],Ct=1;Ct<=ut;Ct++)vt*=Ct,it=Math.floor($t.length*vt),it===0?ft.unshift([Wt[0]*vt+$t[it][0]*(1-vt),Wt[1]*vt+$t[it][1]*(1-vt)]):ft.splice(it,0,[Wt[0]*vt+$t[it][0]*(1-vt),Wt[1]*vt+$t[it][1]*(1-vt)]);return ft}function Ht($t){var yt=[];switch($t[0]){case"M":yt.push([$t[1],$t[2]]);break;case"L":yt.push([$t[1],$t[2]]);break;case"A":yt.push([$t[6],$t[7]]);break;case"Q":yt.push([$t[3],$t[4]]),yt.push([$t[1],$t[2]]);break;case"T":yt.push([$t[1],$t[2]]);break;case"C":yt.push([$t[5],$t[6]]),yt.push([$t[1],$t[2]]),yt.push([$t[3],$t[4]]);break;case"S":yt.push([$t[3],$t[4]]),yt.push([$t[1],$t[2]]);break;case"H":yt.push([$t[1],$t[1]]);break;case"V":yt.push([$t[1],$t[1]]);break;default:}return yt}var Qt=function(yt,ut){if(yt.length<=1)return yt;for(var ft,it=0;it<ut.length;it++)if(yt[it][0]!==ut[it][0])switch(ft=Ht(yt[it]),ut[it][0]){case"M":yt[it]=["M"].concat(ft[0]);break;case"L":yt[it]=["L"].concat(ft[0]);break;case"A":yt[it]=[].concat(ut[it]),yt[it][6]=ft[0][0],yt[it][7]=ft[0][1];break;case"Q":if(ft.length<2)if(it>0)ft=It(ft,yt[it-1],1);else{yt[it]=ut[it];break}yt[it]=["Q"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;case"T":yt[it]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(it>0)ft=It(ft,yt[it-1],2);else{yt[it]=ut[it];break}yt[it]=["C"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;case"S":if(ft.length<2)if(it>0)ft=It(ft,yt[it-1],1);else{yt[it]=ut[it];break}yt[it]=["S"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;default:yt[it]=ut[it]}return yt}},kfnj:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Qt});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("IOcx"),N=a("4cb6"),z=a.n(N),V=a("+uE7"),B=a("qfsk"),P=a("+xCn"),T,W,Q,nt,st,et,_,Y,$,q,at,pt,mt,ot;function xt($t,yt){var ut;if(typeof Symbol=="undefined"||$t[Symbol.iterator]==null){if(Array.isArray($t)||(ut=It($t))||yt&&$t&&typeof $t.length=="number"){ut&&($t=ut);var ft=0,it=function(){};return{s:it,n:function(){return ft>=$t.length?{done:!0}:{done:!1,value:$t[ft++]}},e:function(X){throw X},f:it}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vt=!0,Wt=!1,Ct;return{s:function(){ut=$t[Symbol.iterator]()},n:function(){var X=ut.next();return vt=X.done,X},e:function(X){Wt=!0,Ct=X},f:function(){try{!vt&&ut.return!=null&&ut.return()}finally{if(Wt)throw Ct}}}}function It($t,yt){if(!!$t){if(typeof $t=="string")return Ht($t,yt);var ut=Object.prototype.toString.call($t).slice(8,-1);if(ut==="Object"&&$t.constructor&&(ut=$t.constructor.name),ut==="Map"||ut==="Set")return Array.from($t);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return Ht($t,yt)}}function Ht($t,yt){(yt==null||yt>$t.length)&&(yt=$t.length);for(var ut=0,ft=new Array(yt);ut<yt;ut++)ft[ut]=$t[ut];return ft}var Qt=(T=Object(N.injectable)(),W=Object(N.inject)(V.a.MeshComponentManager),Q=Object(N.inject)(V.a.CullableComponentManager),nt=Object(N.inject)(V.a.GeometryComponentManager),st=Object(N.inject)(V.a.HierarchyComponentManager),et=Object(N.inject)(V.a.TransformComponentManager),T(_=(Y=(ot=function(){function $t(){M()(this,$t),S()(this,"mesh",$,this),S()(this,"cullable",q,this),S()(this,"geometry",at,this),S()(this,"hierarchy",pt,this),S()(this,"transform",mt,this),this.planes=void 0}return O()($t,[{key:"setFrustumPlanes",value:function(ut){this.planes=ut}},{key:"execute",value:function(){var yt=p()(i.a.mark(function ft(it){var vt,Wt,Ct,Z,X,dt,H,lt,Ot,Rt,zt,Bt,tt,J,G,Et,Tt,ct,St,Vt,Lt;return i.a.wrap(function(Zt){for(;;)switch(Zt.prev=Zt.next){case 0:vt=xt(it);try{for(vt.s();!(Wt=vt.n()).done;){Ct=Wt.value,Z=Ct.getScene(),X=Ct.getCamera(),dt=xt(Z.getEntities());try{for(dt.s();!(H=dt.n()).done;)lt=H.value,Ot=this.mesh.getComponentByEntity(lt),Ot&&(Rt=this.hierarchy.getComponentByEntity(lt),zt=this.cullable.getComponentByEntity(lt),Bt=Ot.geometry,tt=this.transform.getComponentByEntity(lt),Bt&&Bt.aabb&&tt&&Ot.aabbDirty&&(J=tt.worldTransform,G=Bt.aabb,Et=G.center,Tt=G.halfExtents,ct=w.e.transformMat4(w.e.create(),Et,J),St=Object(P.b)(J,w.a.create()),Vt=w.e.transformMat3(w.e.create(),Tt,St),Ot.aabb.update(ct,Vt),Ot.aabbDirty=!1),zt&&Bt&&(Lt=this.cullable.getComponentByEntity((Rt==null?void 0:Rt.parentID)||-1),zt.visibilityPlaneMask=this.computeVisibilityWithPlaneMask(Ot.aabb,(Lt==null?void 0:Lt.visibilityPlaneMask)||B.b.INDETERMINATE,this.planes||X.getFrustum().planes),zt.visible=zt.visibilityPlaneMask!==B.b.OUTSIDE))}catch(oe){dt.e(oe)}finally{dt.f()}}}catch(oe){vt.e(oe)}finally{vt.f()}case 2:case"end":return Zt.stop()}},ft,this)}));function ut(ft){return yt.apply(this,arguments)}return ut}()},{key:"tearDown",value:function(){this.cullable.clear(),this.mesh.clear()}},{key:"computeVisibilityWithPlaneMask",value:function(ut,ft,it){if(ft===B.b.OUTSIDE||ft===B.b.INSIDE)return ft;for(var vt=B.b.INSIDE,Wt=0,Ct=it.length;Wt<Ct;++Wt){var Z=Wt<31?1<<Wt:0;if(!(Wt<31&&(ft&Z)==0)){var X=it[Wt],dt=X.normal,H=X.distance;if(w.e.dot(dt,ut.getNegativeFarPoint(it[Wt]))+H>0)return B.b.OUTSIDE;w.e.dot(dt,ut.getPositiveFarPoint(it[Wt]))+H>0&&(vt|=Z)}}return vt}}]),$t}(),ot),$=D()(Y.prototype,"mesh",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=D()(Y.prototype,"cullable",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=D()(Y.prototype,"geometry",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=D()(Y.prototype,"hierarchy",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mt=D()(Y.prototype,"transform",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||_)},khRU:function(Ft,I){Ft.exports="0.8.5"},kwiP:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S});var f=a("mrSG"),i=a("zJSt"),g=a("u9/z"),p=a("Mffy"),E=a("B3DA"),S=function(A){Object(f.c)(M,A);function M(){var x=A!==null&&A.apply(this,arguments)||this;return x.type="process",x}return M.getDefaultOptions=function(){return p.b},M.prototype.changeData=function(x){this.updateOption({percent:x}),this.chart.changeData(Object(E.a)(x))},M.prototype.getDefaultOptions=function(){return M.getDefaultOptions()},M.prototype.getSchemaAdaptor=function(){return g.a},M}(i.b)},l08K:function(Ft,I){},l3hu:function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("iTfj");function i(g,p,E){var S=p+"Style",A=null;return Object(f.j)(E,function(M,x){g[x]&&M[S]&&(A||(A={}),Object(f.bb)(A,M[S]))}),A}},l9OW:function(Ft,I,a){var f=a("SKAX"),i=a("MMmD");function g(p,E){var S=-1,A=i(p)?Array(p.length):[];return f(p,function(M,x,O){A[++S]=E(M,x,O)}),A}Ft.exports=g},lFe4:function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("iTfj");function i(g){return Object(f.U)(g||[],function(p,E){return{x:""+E,y:p}})}},lOPJ:function(Ft,I,a){"use strict";var f=a("AA7f"),i=a("iTfj"),g=a("0Xep"),p=a("Qci9"),E=function(S){Object(f.b)(A,S);function A(M){var x=S.call(this,M)||this;x.cacheMap={},x.adjustDataArray=[],x.mergeData=[];var O=M.marginRatio,C=O===void 0?g.d:O,D=M.dodgeRatio,R=D===void 0?g.b:D,y=M.dodgeBy,w=M.intervalPadding,N=M.dodgePadding,z=M.xDimensionLength,V=M.groupNum,B=M.defaultSize,P=M.maxColumnWidth,T=M.minColumnWidth,W=M.columnWidthRatio;return x.marginRatio=C,x.dodgeRatio=R,x.dodgeBy=y,x.intervalPadding=w,x.dodgePadding=N,x.xDimensionLegenth=z,x.groupNum=V,x.defaultSize=B,x.maxColumnWidth=P,x.minColumnWidth=T,x.columnWidthRatio=W,x}return A.prototype.process=function(M){var x=i.e(M),O=i.q(x),C=this.dodgeBy,D=C?i.u(O,C):x;return this.cacheMap={},this.adjustDataArray=D,this.mergeData=O,this.adjustData(D,O),this.adjustDataArray=[],this.mergeData=[],x},A.prototype.adjustDim=function(M,x,O,C){var D=this,R=this.getDistribution(M),y=this.groupData(O,M);return i.j(y,function(w,N){var z;x.length===1?z={pre:x[0]-1,next:x[0]+1}:z=D.getAdjustRange(M,parseFloat(N),x),i.j(w,function(V){var B=V[M],P=R[B],T=P.indexOf(C);V[M]=D.getDodgeOffset(z,T,P.length)})}),[]},A.prototype.getDodgeOffset=function(M,x,O){var C=this,D=C.dodgeRatio,R=C.marginRatio,y=C.intervalPadding,w=C.dodgePadding,N=M.pre,z=M.next,V=z-N,B;if(!i.I(y)&&i.I(w)&&y>=0){var P=this.getIntervalOnlyOffset(O,x);B=N+P}else if(!i.I(w)&&i.I(y)&&w>=0){var P=this.getDodgeOnlyOffset(O,x);B=N+P}else if(!i.I(y)&&!i.I(w)&&y>=0&&w>=0){var P=this.getIntervalAndDodgeOffset(O,x);B=N+P}else{var T=V*D/O,W=R*T,P=1/2*(V-O*T-(O-1)*W)+((x+1)*T+x*W)-1/2*T-1/2*V;B=(N+z)/2+P}return B},A.prototype.getIntervalOnlyOffset=function(M,x){var O=this,C=O.defaultSize,D=O.intervalPadding,R=O.xDimensionLegenth,y=O.groupNum,w=O.dodgeRatio,N=O.maxColumnWidth,z=O.minColumnWidth,V=O.columnWidthRatio,B=D/R,P=(1-(y-1)*B)/y*w/(M-1),T=((1-B*(y-1))/y-P*(M-1))/M;if(T=i.I(V)?T:1/y/M*V,!i.I(N)){var W=N/R;T=Math.min(T,W)}if(!i.I(z)){var Q=z/R;T=Math.max(T,Q)}T=C?C/R:T,P=((1-(y-1)*B)/y-M*T)/(M-1);var nt=((1/2+x)*T+x*P+1/2*B)*y-B/2;return nt},A.prototype.getDodgeOnlyOffset=function(M,x){var O=this,C=O.defaultSize,D=O.dodgePadding,R=O.xDimensionLegenth,y=O.groupNum,w=O.marginRatio,N=O.maxColumnWidth,z=O.minColumnWidth,V=O.columnWidthRatio,B=D/R,P=1*w/(y-1),T=((1-P*(y-1))/y-B*(M-1))/M;if(T=V?1/y/M*V:T,!i.I(N)){var W=N/R;T=Math.min(T,W)}if(!i.I(z)){var Q=z/R;T=Math.max(T,Q)}T=C?C/R:T,P=(1-(T*M+B*(M-1))*y)/(y-1);var nt=((1/2+x)*T+x*B+1/2*P)*y-P/2;return nt},A.prototype.getIntervalAndDodgeOffset=function(M,x){var O=this,C=O.intervalPadding,D=O.dodgePadding,R=O.xDimensionLegenth,y=O.groupNum,w=C/R,N=D/R,z=((1-w*(y-1))/y-N*(M-1))/M,V=((1/2+x)*z+x*N+1/2*w)*y-w/2;return V},A.prototype.getDistribution=function(M){var x=this.adjustDataArray,O=this.cacheMap,C=O[M];return C||(C={},i.j(x,function(D,R){var y=i.vb(D,M);y.length||y.push(0),i.j(y,function(w){C[w]||(C[w]=[]),C[w].push(R)})}),O[M]=C),C},A}(p.a);I.a=E},lQqw:function(Ft,I,a){var f=a("MMmD");function i(g,p){return function(E,S){if(E==null)return E;if(!f(E))return g(E,S);for(var A=E.length,M=p?A:-1,x=Object(E);(p?M--:++M<A)&&S(x[M],M,x)!==!1;);return E}}Ft.exports=i},la6v:function(Ft,I,a){var f=a("EA7m"),i=a("ljhN"),g=a("mv/X"),p=a("mTTR"),E=Object.prototype,S=E.hasOwnProperty,A=f(function(M,x){M=Object(M);var O=-1,C=x.length,D=C>2?x[2]:void 0;for(D&&g(x[0],x[1],D)&&(C=1);++O<C;)for(var R=x[O],y=p(R),w=-1,N=y.length;++w<N;){var z=y[w],V=M[z];(V===void 0||i(V,E[z])&&!S.call(M,z))&&(M[z]=R[z])}return M});Ft.exports=A},ljNz:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});var f=typeof navigator!="undefined"&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent)},"lm/5":function(Ft,I,a){var f=a("fmRc"),i=a("wF/u"),g=1,p=2;function E(S,A,M,x){var O=M.length,C=O,D=!x;if(S==null)return!C;for(S=Object(S);O--;){var R=M[O];if(D&&R[2]?R[1]!==S[R[0]]:!(R[0]in S))return!1}for(;++O<C;){R=M[O];var y=R[0],w=S[y],N=R[1];if(D&&R[2]){if(w===void 0&&!(y in S))return!1}else{var z=new f;if(x)var V=x(w,N,y,S,A,z);if(!(V===void 0?i(N,w,g|p,x,z):V))return!1}}return!0}Ft.exports=E},lnHP:function(Ft,I,a){"use strict";var f=a("M96O");Ft.exports=E;var i="\0",g="\0",p="";function E(C){this._isDirected=f.has(C,"directed")?C.directed:!0,this._isMultigraph=f.has(C,"multigraph")?C.multigraph:!1,this._isCompound=f.has(C,"compound")?C.compound:!1,this._label=void 0,this._defaultNodeLabelFn=f.constant(void 0),this._defaultEdgeLabelFn=f.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[g]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}E.prototype._nodeCount=0,E.prototype._edgeCount=0,E.prototype.isDirected=function(){return this._isDirected},E.prototype.isMultigraph=function(){return this._isMultigraph},E.prototype.isCompound=function(){return this._isCompound},E.prototype.setGraph=function(C){return this._label=C,this},E.prototype.graph=function(){return this._label},E.prototype.setDefaultNodeLabel=function(C){return f.isFunction(C)||(C=f.constant(C)),this._defaultNodeLabelFn=C,this},E.prototype.nodeCount=function(){return this._nodeCount},E.prototype.nodes=function(){return f.keys(this._nodes)},E.prototype.sources=function(){var C=this;return f.filter(this.nodes(),function(D){return f.isEmpty(C._in[D])})},E.prototype.sinks=function(){var C=this;return f.filter(this.nodes(),function(D){return f.isEmpty(C._out[D])})},E.prototype.setNodes=function(C,D){var R=arguments,y=this;return f.each(C,function(w){R.length>1?y.setNode(w,D):y.setNode(w)}),this},E.prototype.setNode=function(C,D){return f.has(this._nodes,C)?(arguments.length>1&&(this._nodes[C]=D),this):(this._nodes[C]=arguments.length>1?D:this._defaultNodeLabelFn(C),this._isCompound&&(this._parent[C]=g,this._children[C]={},this._children[g][C]=!0),this._in[C]={},this._preds[C]={},this._out[C]={},this._sucs[C]={},++this._nodeCount,this)},E.prototype.node=function(C){return this._nodes[C]},E.prototype.hasNode=function(C){return f.has(this._nodes,C)},E.prototype.removeNode=function(C){var D=this;if(f.has(this._nodes,C)){var R=function(w){D.removeEdge(D._edgeObjs[w])};delete this._nodes[C],this._isCompound&&(this._removeFromParentsChildList(C),delete this._parent[C],f.each(this.children(C),function(y){D.setParent(y)}),delete this._children[C]),f.each(f.keys(this._in[C]),R),delete this._in[C],delete this._preds[C],f.each(f.keys(this._out[C]),R),delete this._out[C],delete this._sucs[C],--this._nodeCount}return this},E.prototype.setParent=function(C,D){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(f.isUndefined(D))D=g;else{D+="";for(var R=D;!f.isUndefined(R);R=this.parent(R))if(R===C)throw new Error("Setting "+D+" as parent of "+C+" would create a cycle");this.setNode(D)}return this.setNode(C),this._removeFromParentsChildList(C),this._parent[C]=D,this._children[D][C]=!0,this},E.prototype._removeFromParentsChildList=function(C){delete this._children[this._parent[C]][C]},E.prototype.parent=function(C){if(this._isCompound){var D=this._parent[C];if(D!==g)return D}},E.prototype.children=function(C){if(f.isUndefined(C)&&(C=g),this._isCompound){var D=this._children[C];if(D)return f.keys(D)}else{if(C===g)return this.nodes();if(this.hasNode(C))return[]}},E.prototype.predecessors=function(C){var D=this._preds[C];if(D)return f.keys(D)},E.prototype.successors=function(C){var D=this._sucs[C];if(D)return f.keys(D)},E.prototype.neighbors=function(C){var D=this.predecessors(C);if(D)return f.union(D,this.successors(C))},E.prototype.isLeaf=function(C){var D;return this.isDirected()?D=this.successors(C):D=this.neighbors(C),D.length===0},E.prototype.filterNodes=function(C){var D=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});D.setGraph(this.graph());var R=this;f.each(this._nodes,function(N,z){C(z)&&D.setNode(z,N)}),f.each(this._edgeObjs,function(N){D.hasNode(N.v)&&D.hasNode(N.w)&&D.setEdge(N,R.edge(N))});var y={};function w(N){var z=R.parent(N);return z===void 0||D.hasNode(z)?(y[N]=z,z):z in y?y[z]:w(z)}return this._isCompound&&f.each(D.nodes(),function(N){D.setParent(N,w(N))}),D},E.prototype.setDefaultEdgeLabel=function(C){return f.isFunction(C)||(C=f.constant(C)),this._defaultEdgeLabelFn=C,this},E.prototype.edgeCount=function(){return this._edgeCount},E.prototype.edges=function(){return f.values(this._edgeObjs)},E.prototype.setPath=function(C,D){var R=this,y=arguments;return f.reduce(C,function(w,N){return y.length>1?R.setEdge(w,N,D):R.setEdge(w,N),N}),this},E.prototype.setEdge=function(){var C,D,R,y,w=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(C=N.v,D=N.w,R=N.name,arguments.length===2&&(y=arguments[1],w=!0)):(C=N,D=arguments[1],R=arguments[3],arguments.length>2&&(y=arguments[2],w=!0)),C=""+C,D=""+D,f.isUndefined(R)||(R=""+R);var z=M(this._isDirected,C,D,R);if(f.has(this._edgeLabels,z))return w&&(this._edgeLabels[z]=y),this;if(!f.isUndefined(R)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(C),this.setNode(D),this._edgeLabels[z]=w?y:this._defaultEdgeLabelFn(C,D,R);var V=x(this._isDirected,C,D,R);return C=V.v,D=V.w,Object.freeze(V),this._edgeObjs[z]=V,S(this._preds[D],C),S(this._sucs[C],D),this._in[D][z]=V,this._out[C][z]=V,this._edgeCount++,this},E.prototype.edge=function(C,D,R){var y=arguments.length===1?O(this._isDirected,arguments[0]):M(this._isDirected,C,D,R);return this._edgeLabels[y]},E.prototype.hasEdge=function(C,D,R){var y=arguments.length===1?O(this._isDirected,arguments[0]):M(this._isDirected,C,D,R);return f.has(this._edgeLabels,y)},E.prototype.removeEdge=function(C,D,R){var y=arguments.length===1?O(this._isDirected,arguments[0]):M(this._isDirected,C,D,R),w=this._edgeObjs[y];return w&&(C=w.v,D=w.w,delete this._edgeLabels[y],delete this._edgeObjs[y],A(this._preds[D],C),A(this._sucs[C],D),delete this._in[D][y],delete this._out[C][y],this._edgeCount--),this},E.prototype.inEdges=function(C,D){var R=this._in[C];if(R){var y=f.values(R);return D?f.filter(y,function(w){return w.v===D}):y}},E.prototype.outEdges=function(C,D){var R=this._out[C];if(R){var y=f.values(R);return D?f.filter(y,function(w){return w.w===D}):y}},E.prototype.nodeEdges=function(C,D){var R=this.inEdges(C,D);if(R)return R.concat(this.outEdges(C,D))};function S(C,D){C[D]?C[D]++:C[D]=1}function A(C,D){--C[D]||delete C[D]}function M(C,D,R,y){var w=""+D,N=""+R;if(!C&&w>N){var z=w;w=N,N=z}return w+p+N+p+(f.isUndefined(y)?i:y)}function x(C,D,R,y){var w=""+D,N=""+R;if(!C&&w>N){var z=w;w=N,N=z}var V={v:w,w:N};return y&&(V.name=y),V}function O(C,D){return M(C,D.v,D.w,D.name)}},lr9b:function(Ft,I,a){"use strict";a.d(I,"a",function(){return W});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("w02o"),E=a("YuPD"),S=a("n/J0"),A,M="$$range$$",x="low-q1-median-q3-high",O="$$y_outliers$$",C="outliers_view",D=Object(E.b)({},i.b.getDefaultOptions(),{meta:(A={},A[M]={min:0,alias:x},A),interactions:[{type:"active-region"}],tooltip:{showMarkers:!1,showCrosshairs:!0,shared:!0}}),R=function(nt,st){var et=nt;if(Array.isArray(st)){var _=st[0],Y=st[1],$=st[2],q=st[3],at=st[4];et=Object(g.U)(nt,function(pt){return pt[M]=[pt[_],pt[Y],pt[$],pt[q],pt[at]],pt})}return et};function y(Q){var nt=Q.chart,st=Q.options,et=st.xField,_=st.yField,Y=st.groupField,$=st.color,q=Array.isArray(_)?M:_,at=nt.schema().position(et+"*"+q).shape("box");return Y&&at.color(Y,$).adjust("dodge"),nt.data(R(st.data,_)),Q}function w(Q){var nt=Q.chart,st=Q.options,et=st.xField,_=st.data,Y=st.outliersField,$=st.outliersStyle,q=st.padding;if(!Y)return Q;var at=nt.createView({padding:q,id:C});at.data(_),at.axis(!1);var pt=at.point().position(et+"*"+Y).shape("circle");return Object(g.H)($)?pt.style(et+"*"+Y,function(mt,ot){var xt;return $((xt={},xt[et]=mt,xt[Y]=ot,xt))}):Object(g.M)($)&&pt.style($),Q}function N(Q){var nt,st,et=Q.chart,_=Q.options,Y=_.meta,$=_.xAxis,q=_.yAxis,at=_.xField,pt=_.yField,mt=_.outliersField,ot=Array.isArray(pt)?M:pt,xt={};if(mt){var It=O;xt=(nt={},nt[mt]={sync:It,nice:!0},nt[ot]={sync:It,nice:!0},nt)}var Ht=Object(E.b)(xt,Y,(st={},st[at]=Object(E.p)($,S.a),st[ot]=Object(E.p)(q,S.a),st));return et.scale(Ht),Q}function z(Q){var nt=Q.chart,st=Q.options,et=st.xAxis,_=st.yAxis,Y=st.xField,$=st.yField,q=Array.isArray($)?M:$;return et===!1?nt.axis(Y,!1):nt.axis(Y,et),_===!1?nt.axis(M,!1):nt.axis(q,_),Q}function V(Q){var nt=Q.chart,st=Q.options,et=st.legend,_=st.groupField;return _?et?nt.legend(_,et):nt.legend(_,{position:"bottom"}):nt.legend(!1),Q}function B(Q){var nt=Q.chart,st=Q.options,et=st.xField,_=st.yField,Y=st.boxStyle,$=Object(E.c)(nt,"schema"),q=Array.isArray(_)?M:_;return Object(g.H)(Y)?$.style(et+"*"+q,function(at,pt){var mt;return Y((mt={},mt[et]=at,mt[q]=pt,mt))}):Object(g.M)(Y)&&$.style(Y),Q}function P(Q){var nt=Q.chart,st=Q.options,et=st.tooltip;return et!==void 0&&nt.tooltip(et),Q}function T(Q){return Object(E.e)(y,w,N,z,B,V,P,p.c,p.a,p.j)(Q)}var W=function(Q){Object(f.c)(nt,Q);function nt(){var st=Q!==null&&Q.apply(this,arguments)||this;return st.type="box",st}return nt.getDefaultOptions=function(){return D},nt.prototype.changeData=function(st){this.updateOption({data:st});var et=this.options.yField,_=this.chart.views.find(function(Y){return Y.id===C});_&&_.data(st),this.chart.changeData(R(st,et))},nt.prototype.getDefaultOptions=function(){return nt.getDefaultOptions()},nt.prototype.getSchemaAdaptor=function(){return T},nt}(i.b)},lt7v:function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=null;function i(){if(!f){var g=document.createElement("canvas");g.width=1,g.height=1,f=g.getContext("2d")}return f}},lvO4:function(Ft,I){var a=Object.prototype,f=a.hasOwnProperty;function i(g,p){return g!=null&&f.call(g,p)}Ft.exports=i},"mA+x":function(Ft,I,a){"use strict";a.d(I,"a",function(){return Ts}),a.d(I,"b",function(){return ju}),a.d(I,"c",function(){return $l}),a.d(I,"d",function(){return Mc});var f=a("fWQN"),i=a("mtLc"),g=a("yKVA"),p=a("879j"),E=a("jrin"),S=a("oBTY");function A(jt,Gt){return Gt||(Gt=jt.slice(0)),Object.freeze(Object.defineProperties(jt,{raw:{value:Object.freeze(Gt)}}))}var M=a("rAM+"),x=a("tJVT"),O=a("Pv/L"),C=a("TSYQ"),D=a.n(C),R=a("q1tI"),y=a.n(R);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var w=function(Gt,Pt){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Yt,_t){Yt.__proto__=_t}||function(Yt,_t){for(var se in _t)_t.hasOwnProperty(se)&&(Yt[se]=_t[se])},w(Gt,Pt)};function N(jt,Gt){w(jt,Gt);function Pt(){this.constructor=jt}jt.prototype=Gt===null?Object.create(Gt):(Pt.prototype=Gt.prototype,new Pt)}var z=function(){return z=Object.assign||function(Pt){for(var Yt,_t=1,se=arguments.length;_t<se;_t++){Yt=arguments[_t];for(var Ue in Yt)Object.prototype.hasOwnProperty.call(Yt,Ue)&&(Pt[Ue]=Yt[Ue])}return Pt},z.apply(this,arguments)};function V(jt,Gt){var Pt={};for(var Yt in jt)Object.prototype.hasOwnProperty.call(jt,Yt)&&Gt.indexOf(Yt)<0&&(Pt[Yt]=jt[Yt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _t=0,Yt=Object.getOwnPropertySymbols(jt);_t<Yt.length;_t++)Gt.indexOf(Yt[_t])<0&&Object.prototype.propertyIsEnumerable.call(jt,Yt[_t])&&(Pt[Yt[_t]]=jt[Yt[_t]]);return Pt}function B(jt,Gt,Pt,Yt){var _t=arguments.length,se=_t<3?Gt:Yt===null?Yt=Object.getOwnPropertyDescriptor(Gt,Pt):Yt,Ue;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")se=Reflect.decorate(jt,Gt,Pt,Yt);else for(var vr=jt.length-1;vr>=0;vr--)(Ue=jt[vr])&&(se=(_t<3?Ue(se):_t>3?Ue(Gt,Pt,se):Ue(Gt,Pt))||se);return _t>3&&se&&Object.defineProperty(Gt,Pt,se),se}function P(jt,Gt){return function(Pt,Yt){Gt(Pt,Yt,jt)}}function T(jt,Gt){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(jt,Gt)}function W(jt,Gt,Pt,Yt){function _t(se){return se instanceof Pt?se:new Pt(function(Ue){Ue(se)})}return new(Pt||(Pt=Promise))(function(se,Ue){function vr(mn){try{Wr(Yt.next(mn))}catch(Fn){Ue(Fn)}}function Jr(mn){try{Wr(Yt.throw(mn))}catch(Fn){Ue(Fn)}}function Wr(mn){mn.done?se(mn.value):_t(mn.value).then(vr,Jr)}Wr((Yt=Yt.apply(jt,Gt||[])).next())})}function Q(jt,Gt){var Pt={label:0,sent:function(){if(se[0]&1)throw se[1];return se[1]},trys:[],ops:[]},Yt,_t,se,Ue;return Ue={next:vr(0),throw:vr(1),return:vr(2)},typeof Symbol=="function"&&(Ue[Symbol.iterator]=function(){return this}),Ue;function vr(Wr){return function(mn){return Jr([Wr,mn])}}function Jr(Wr){if(Yt)throw new TypeError("Generator is already executing.");for(;Pt;)try{if(Yt=1,_t&&(se=Wr[0]&2?_t.return:Wr[0]?_t.throw||((se=_t.return)&&se.call(_t),0):_t.next)&&!(se=se.call(_t,Wr[1])).done)return se;switch(_t=0,se&&(Wr=[Wr[0]&2,se.value]),Wr[0]){case 0:case 1:se=Wr;break;case 4:return Pt.label++,{value:Wr[1],done:!1};case 5:Pt.label++,_t=Wr[1],Wr=[0];continue;case 7:Wr=Pt.ops.pop(),Pt.trys.pop();continue;default:if(se=Pt.trys,!(se=se.length>0&&se[se.length-1])&&(Wr[0]===6||Wr[0]===2)){Pt=0;continue}if(Wr[0]===3&&(!se||Wr[1]>se[0]&&Wr[1]<se[3])){Pt.label=Wr[1];break}if(Wr[0]===6&&Pt.label<se[1]){Pt.label=se[1],se=Wr;break}if(se&&Pt.label<se[2]){Pt.label=se[2],Pt.ops.push(Wr);break}se[2]&&Pt.ops.pop(),Pt.trys.pop();continue}Wr=Gt.call(jt,Pt)}catch(mn){Wr=[6,mn],_t=0}finally{Yt=se=0}if(Wr[0]&5)throw Wr[1];return{value:Wr[0]?Wr[1]:void 0,done:!0}}}function nt(jt,Gt,Pt,Yt){Yt===void 0&&(Yt=Pt),jt[Yt]=Gt[Pt]}function st(jt,Gt){for(var Pt in jt)Pt!=="default"&&!Gt.hasOwnProperty(Pt)&&(Gt[Pt]=jt[Pt])}function et(jt){var Gt=typeof Symbol=="function"&&Symbol.iterator,Pt=Gt&&jt[Gt],Yt=0;if(Pt)return Pt.call(jt);if(jt&&typeof jt.length=="number")return{next:function(){return jt&&Yt>=jt.length&&(jt=void 0),{value:jt&&jt[Yt++],done:!jt}}};throw new TypeError(Gt?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(jt,Gt){var Pt=typeof Symbol=="function"&&jt[Symbol.iterator];if(!Pt)return jt;var Yt=Pt.call(jt),_t,se=[],Ue;try{for(;(Gt===void 0||Gt-- >0)&&!(_t=Yt.next()).done;)se.push(_t.value)}catch(vr){Ue={error:vr}}finally{try{_t&&!_t.done&&(Pt=Yt.return)&&Pt.call(Yt)}finally{if(Ue)throw Ue.error}}return se}function Y(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt=jt.concat(_(arguments[Gt]));return jt}function $(){for(var jt=0,Gt=0,Pt=arguments.length;Gt<Pt;Gt++)jt+=arguments[Gt].length;for(var Yt=Array(jt),_t=0,Gt=0;Gt<Pt;Gt++)for(var se=arguments[Gt],Ue=0,vr=se.length;Ue<vr;Ue++,_t++)Yt[_t]=se[Ue];return Yt}function q(jt){return this instanceof q?(this.v=jt,this):new q(jt)}function at(jt,Gt,Pt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Yt=Pt.apply(jt,Gt||[]),_t,se=[];return _t={},Ue("next"),Ue("throw"),Ue("return"),_t[Symbol.asyncIterator]=function(){return this},_t;function Ue(Ur){Yt[Ur]&&(_t[Ur]=function(ea){return new Promise(function(ri,ma){se.push([Ur,ea,ri,ma])>1||vr(Ur,ea)})})}function vr(Ur,ea){try{Jr(Yt[Ur](ea))}catch(ri){Fn(se[0][3],ri)}}function Jr(Ur){Ur.value instanceof q?Promise.resolve(Ur.value.v).then(Wr,mn):Fn(se[0][2],Ur)}function Wr(Ur){vr("next",Ur)}function mn(Ur){vr("throw",Ur)}function Fn(Ur,ea){Ur(ea),se.shift(),se.length&&vr(se[0][0],se[0][1])}}function pt(jt){var Gt,Pt;return Gt={},Yt("next"),Yt("throw",function(_t){throw _t}),Yt("return"),Gt[Symbol.iterator]=function(){return this},Gt;function Yt(_t,se){Gt[_t]=jt[_t]?function(Ue){return(Pt=!Pt)?{value:q(jt[_t](Ue)),done:_t==="return"}:se?se(Ue):Ue}:se}}function mt(jt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Gt=jt[Symbol.asyncIterator],Pt;return Gt?Gt.call(jt):(jt=typeof et=="function"?et(jt):jt[Symbol.iterator](),Pt={},Yt("next"),Yt("throw"),Yt("return"),Pt[Symbol.asyncIterator]=function(){return this},Pt);function Yt(se){Pt[se]=jt[se]&&function(Ue){return new Promise(function(vr,Jr){Ue=jt[se](Ue),_t(vr,Jr,Ue.done,Ue.value)})}}function _t(se,Ue,vr,Jr){Promise.resolve(Jr).then(function(Wr){se({value:Wr,done:vr})},Ue)}}function ot(jt,Gt){return Object.defineProperty?Object.defineProperty(jt,"raw",{value:Gt}):jt.raw=Gt,jt}function xt(jt){if(jt&&jt.__esModule)return jt;var Gt={};if(jt!=null)for(var Pt in jt)Object.hasOwnProperty.call(jt,Pt)&&(Gt[Pt]=jt[Pt]);return Gt.default=jt,Gt}function It(jt){return jt&&jt.__esModule?jt:{default:jt}}function Ht(jt,Gt){if(!Gt.has(jt))throw new TypeError("attempted to get private field on non-instance");return Gt.get(jt)}function Qt(jt,Gt,Pt){if(!Gt.has(jt))throw new TypeError("attempted to set private field on non-instance");return Gt.set(jt,Pt),Pt}function $t(jt){return typeof jt=="function"}var yt=!1,ut={Promise:void 0,set useDeprecatedSynchronousErrorHandling(jt){if(jt){var Gt=new Error;""+Gt.stack}yt=jt},get useDeprecatedSynchronousErrorHandling(){return yt}};function ft(jt){setTimeout(function(){throw jt},0)}var it={closed:!0,next:function(Gt){},error:function(Gt){if(ut.useDeprecatedSynchronousErrorHandling)throw Gt;ft(Gt)},complete:function(){}},vt=function(){return Array.isArray||function(jt){return jt&&typeof jt.length=="number"}}();function Wt(jt){return jt!==null&&typeof jt=="object"}var Ct=function(){function jt(Gt){return Error.call(this),this.message=Gt?Gt.length+` errors occurred during unsubscription:
`+Gt.map(function(Pt,Yt){return Yt+1+") "+Pt.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=Gt,this}return jt.prototype=Object.create(Error.prototype),jt}(),Z=Ct,X=function(){function jt(Gt){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Gt&&(this._ctorUnsubscribe=!0,this._unsubscribe=Gt)}return jt.prototype.unsubscribe=function(){var Gt;if(!this.closed){var Pt=this,Yt=Pt._parentOrParents,_t=Pt._ctorUnsubscribe,se=Pt._unsubscribe,Ue=Pt._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Yt instanceof jt)Yt.remove(this);else if(Yt!==null)for(var vr=0;vr<Yt.length;++vr){var Jr=Yt[vr];Jr.remove(this)}if($t(se)){_t&&(this._unsubscribe=void 0);try{se.call(this)}catch(Fn){Gt=Fn instanceof Z?dt(Fn.errors):[Fn]}}if(vt(Ue))for(var vr=-1,Wr=Ue.length;++vr<Wr;){var mn=Ue[vr];if(Wt(mn))try{mn.unsubscribe()}catch(Ur){Gt=Gt||[],Ur instanceof Z?Gt=Gt.concat(dt(Ur.errors)):Gt.push(Ur)}}if(Gt)throw new Z(Gt)}},jt.prototype.add=function(Gt){var Pt=Gt;if(!Gt)return jt.EMPTY;switch(typeof Gt){case"function":Pt=new jt(Gt);case"object":if(Pt===this||Pt.closed||typeof Pt.unsubscribe!="function")return Pt;if(this.closed)return Pt.unsubscribe(),Pt;if(!(Pt instanceof jt)){var Yt=Pt;Pt=new jt,Pt._subscriptions=[Yt]}break;default:throw new Error("unrecognized teardown "+Gt+" added to Subscription.")}var _t=Pt._parentOrParents;if(_t===null)Pt._parentOrParents=this;else if(_t instanceof jt){if(_t===this)return Pt;Pt._parentOrParents=[_t,this]}else if(_t.indexOf(this)===-1)_t.push(this);else return Pt;var se=this._subscriptions;return se===null?this._subscriptions=[Pt]:se.push(Pt),Pt},jt.prototype.remove=function(Gt){var Pt=this._subscriptions;if(Pt){var Yt=Pt.indexOf(Gt);Yt!==-1&&Pt.splice(Yt,1)}},jt.EMPTY=function(Gt){return Gt.closed=!0,Gt}(new jt),jt}();function dt(jt){return jt.reduce(function(Gt,Pt){return Gt.concat(Pt instanceof Z?Pt.errors:Pt)},[])}var H=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),lt=H,Ot=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this)||this;switch(se.syncErrorValue=null,se.syncErrorThrown=!1,se.syncErrorThrowable=!1,se.isStopped=!1,arguments.length){case 0:se.destination=it;break;case 1:if(!Pt){se.destination=it;break}if(typeof Pt=="object"){Pt instanceof Gt?(se.syncErrorThrowable=Pt.syncErrorThrowable,se.destination=Pt,Pt.add(se)):(se.syncErrorThrowable=!0,se.destination=new Rt(se,Pt));break}default:se.syncErrorThrowable=!0,se.destination=new Rt(se,Pt,Yt,_t);break}return se}return Gt.prototype[H]=function(){return this},Gt.create=function(Pt,Yt,_t){var se=new Gt(Pt,Yt,_t);return se.syncErrorThrowable=!1,se},Gt.prototype.next=function(Pt){this.isStopped||this._next(Pt)},Gt.prototype.error=function(Pt){this.isStopped||(this.isStopped=!0,this._error(Pt))},Gt.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},Gt.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,jt.prototype.unsubscribe.call(this))},Gt.prototype._next=function(Pt){this.destination.next(Pt)},Gt.prototype._error=function(Pt){this.destination.error(Pt),this.unsubscribe()},Gt.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},Gt.prototype._unsubscribeAndRecycle=function(){var Pt=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Pt,this},Gt}(X),Rt=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t,se){var Ue=jt.call(this)||this;Ue._parentSubscriber=Pt;var vr,Jr=Ue;return $t(Yt)?vr=Yt:Yt&&(vr=Yt.next,_t=Yt.error,se=Yt.complete,Yt!==it&&(Jr=Object.create(Yt),$t(Jr.unsubscribe)&&Ue.add(Jr.unsubscribe.bind(Jr)),Jr.unsubscribe=Ue.unsubscribe.bind(Ue))),Ue._context=Jr,Ue._next=vr,Ue._error=_t,Ue._complete=se,Ue}return Gt.prototype.next=function(Pt){if(!this.isStopped&&this._next){var Yt=this._parentSubscriber;!ut.useDeprecatedSynchronousErrorHandling||!Yt.syncErrorThrowable?this.__tryOrUnsub(this._next,Pt):this.__tryOrSetError(Yt,this._next,Pt)&&this.unsubscribe()}},Gt.prototype.error=function(Pt){if(!this.isStopped){var Yt=this._parentSubscriber,_t=ut.useDeprecatedSynchronousErrorHandling;if(this._error)!_t||!Yt.syncErrorThrowable?(this.__tryOrUnsub(this._error,Pt),this.unsubscribe()):(this.__tryOrSetError(Yt,this._error,Pt),this.unsubscribe());else if(Yt.syncErrorThrowable)_t?(Yt.syncErrorValue=Pt,Yt.syncErrorThrown=!0):ft(Pt),this.unsubscribe();else{if(this.unsubscribe(),_t)throw Pt;ft(Pt)}}},Gt.prototype.complete=function(){var Pt=this;if(!this.isStopped){var Yt=this._parentSubscriber;if(this._complete){var _t=function(){return Pt._complete.call(Pt._context)};!ut.useDeprecatedSynchronousErrorHandling||!Yt.syncErrorThrowable?(this.__tryOrUnsub(_t),this.unsubscribe()):(this.__tryOrSetError(Yt,_t),this.unsubscribe())}else this.unsubscribe()}},Gt.prototype.__tryOrUnsub=function(Pt,Yt){try{Pt.call(this._context,Yt)}catch(_t){if(this.unsubscribe(),ut.useDeprecatedSynchronousErrorHandling)throw _t;ft(_t)}},Gt.prototype.__tryOrSetError=function(Pt,Yt,_t){if(!ut.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Yt.call(this._context,_t)}catch(se){return ut.useDeprecatedSynchronousErrorHandling?(Pt.syncErrorValue=se,Pt.syncErrorThrown=!0,!0):(ft(se),!0)}return!1},Gt.prototype._unsubscribe=function(){var Pt=this._parentSubscriber;this._context=null,this._parentSubscriber=null,Pt.unsubscribe()},Gt}(Ot);function zt(jt){for(;jt;){var Gt=jt,Pt=Gt.closed,Yt=Gt.destination,_t=Gt.isStopped;if(Pt||_t)return!1;Yt&&Yt instanceof Ot?jt=Yt:jt=null}return!0}function Bt(jt,Gt,Pt){if(jt){if(jt instanceof Ot)return jt;if(jt[H])return jt[H]()}return!jt&&!Gt&&!Pt?new Ot(it):new Ot(jt,Gt,Pt)}var tt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function J(jt){return jt}function G(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];return Et(jt)}function Et(jt){return jt.length===0?J:jt.length===1?jt[0]:function(Pt){return jt.reduce(function(Yt,_t){return _t(Yt)},Pt)}}var Tt=function(){function jt(Gt){this._isScalar=!1,Gt&&(this._subscribe=Gt)}return jt.prototype.lift=function(Gt){var Pt=new jt;return Pt.source=this,Pt.operator=Gt,Pt},jt.prototype.subscribe=function(Gt,Pt,Yt){var _t=this.operator,se=Bt(Gt,Pt,Yt);if(_t?se.add(_t.call(se,this.source)):se.add(this.source||ut.useDeprecatedSynchronousErrorHandling&&!se.syncErrorThrowable?this._subscribe(se):this._trySubscribe(se)),ut.useDeprecatedSynchronousErrorHandling&&se.syncErrorThrowable&&(se.syncErrorThrowable=!1,se.syncErrorThrown))throw se.syncErrorValue;return se},jt.prototype._trySubscribe=function(Gt){try{return this._subscribe(Gt)}catch(Pt){ut.useDeprecatedSynchronousErrorHandling&&(Gt.syncErrorThrown=!0,Gt.syncErrorValue=Pt),zt(Gt)?Gt.error(Pt):console.warn(Pt)}},jt.prototype.forEach=function(Gt,Pt){var Yt=this;return Pt=ct(Pt),new Pt(function(_t,se){var Ue;Ue=Yt.subscribe(function(vr){try{Gt(vr)}catch(Jr){se(Jr),Ue&&Ue.unsubscribe()}},se,_t)})},jt.prototype._subscribe=function(Gt){var Pt=this.source;return Pt&&Pt.subscribe(Gt)},jt.prototype[tt]=function(){return this},jt.prototype.pipe=function(){for(var Gt=[],Pt=0;Pt<arguments.length;Pt++)Gt[Pt]=arguments[Pt];return Gt.length===0?this:Et(Gt)(this)},jt.prototype.toPromise=function(Gt){var Pt=this;return Gt=ct(Gt),new Gt(function(Yt,_t){var se;Pt.subscribe(function(Ue){return se=Ue},function(Ue){return _t(Ue)},function(){return Yt(se)})})},jt.create=function(Gt){return new jt(Gt)},jt}();function ct(jt){if(jt||(jt=ut.Promise||Promise),!jt)throw new Error("no Promise impl found");return jt}var St=function(Gt){return function(Pt){for(var Yt=0,_t=Gt.length;Yt<_t&&!Pt.closed;Yt++)Pt.next(Gt[Yt]);Pt.complete()}},Vt=function(Gt){return function(Pt){return Gt.then(function(Yt){Pt.closed||(Pt.next(Yt),Pt.complete())},function(Yt){return Pt.error(Yt)}).then(null,ft),Pt}};function Lt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Nt=Lt(),Zt=Nt,oe=function(Gt){return function(Pt){var Yt=Gt[Nt]();do{var _t=void 0;try{_t=Yt.next()}catch(se){return Pt.error(se),Pt}if(_t.done){Pt.complete();break}if(Pt.next(_t.value),Pt.closed)break}while(!0);return typeof Yt.return=="function"&&Pt.add(function(){Yt.return&&Yt.return()}),Pt}},ue=function(Gt){return function(Pt){var Yt=Gt[tt]();if(typeof Yt.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return Yt.subscribe(Pt)}},Ee=function(Gt){return Gt&&typeof Gt.length=="number"&&typeof Gt!="function"};function Te(jt){return!!jt&&typeof jt.subscribe!="function"&&typeof jt.then=="function"}var Se=function(Gt){if(!!Gt&&typeof Gt[tt]=="function")return ue(Gt);if(Ee(Gt))return St(Gt);if(Te(Gt))return Vt(Gt);if(!!Gt&&typeof Gt[Nt]=="function")return oe(Gt);var Pt=Wt(Gt)?"an invalid object":"'"+Gt+"'",Yt="You provided "+Pt+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(Yt)};function $e(jt,Gt){return new Tt(function(Pt){var Yt=new X;return Yt.add(Gt.schedule(function(){var _t=jt[tt]();Yt.add(_t.subscribe({next:function(Ue){Yt.add(Gt.schedule(function(){return Pt.next(Ue)}))},error:function(Ue){Yt.add(Gt.schedule(function(){return Pt.error(Ue)}))},complete:function(){Yt.add(Gt.schedule(function(){return Pt.complete()}))}}))})),Yt})}function cr(jt,Gt){return new Tt(function(Pt){var Yt=new X;return Yt.add(Gt.schedule(function(){return jt.then(function(_t){Yt.add(Gt.schedule(function(){Pt.next(_t),Yt.add(Gt.schedule(function(){return Pt.complete()}))}))},function(_t){Yt.add(Gt.schedule(function(){return Pt.error(_t)}))})})),Yt})}function He(jt,Gt){return new Tt(function(Pt){var Yt=new X,_t=0;return Yt.add(Gt.schedule(function(){if(_t===jt.length){Pt.complete();return}Pt.next(jt[_t++]),Pt.closed||Yt.add(this.schedule())})),Yt})}function _e(jt,Gt){if(!jt)throw new Error("Iterable cannot be null");return new Tt(function(Pt){var Yt=new X,_t;return Yt.add(function(){_t&&typeof _t.return=="function"&&_t.return()}),Yt.add(Gt.schedule(function(){_t=jt[Nt](),Yt.add(Gt.schedule(function(){if(!Pt.closed){var se,Ue;try{var vr=_t.next();se=vr.value,Ue=vr.done}catch(Jr){Pt.error(Jr);return}Ue?Pt.complete():(Pt.next(se),this.schedule())}}))})),Yt})}function ur(jt){return jt&&typeof jt[tt]=="function"}function jr(jt){return jt&&typeof jt[Nt]=="function"}function Ar(jt,Gt){if(jt!=null){if(ur(jt))return $e(jt,Gt);if(Te(jt))return cr(jt,Gt);if(Ee(jt))return He(jt,Gt);if(jr(jt)||typeof jt=="string")return _e(jt,Gt)}throw new TypeError((jt!==null&&typeof jt||jt)+" is not observable")}function Ge(jt,Gt){return Gt?Ar(jt,Gt):jt instanceof Tt?jt:new Tt(Se(jt))}var br=new Tt(function(jt){return jt.complete()});function er(jt){return jt?nr(jt):br}function nr(jt){return new Tt(function(Gt){return jt.schedule(function(){return Gt.complete()})})}function yr(jt){return new Tt(function(Gt){var Pt;try{Pt=jt()}catch(_t){Gt.error(_t);return}var Yt=Pt?Ge(Pt):er();return Yt.subscribe(Gt)})}function Rr(jt,Gt){return function(Yt){if(typeof jt!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Yt.lift(new an(jt,Gt))}}var an=function(){function jt(Gt,Pt){this.project=Gt,this.thisArg=Pt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new In(Gt,this.project,this.thisArg))},jt}(),In=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this,Pt)||this;return se.project=Yt,se.count=0,se.thisArg=_t||se,se}return Gt.prototype._next=function(Pt){var Yt;try{Yt=this.project.call(this.thisArg,Pt,this.count++)}catch(_t){this.destination.error(_t);return}this.destination.next(Yt)},Gt}(Ot),Un=function(){return Object.prototype.toString}();function _n(jt,Gt,Pt,Yt){return $t(Pt)&&(Yt=Pt,Pt=void 0),Yt?_n(jt,Gt,Pt).pipe(Rr(function(_t){return vt(_t)?Yt.apply(void 0,_t):Yt(_t)})):new Tt(function(_t){function se(Ue){arguments.length>1?_t.next(Array.prototype.slice.call(arguments)):_t.next(Ue)}sa(jt,Gt,se,_t,Pt)})}function sa(jt,Gt,Pt,Yt,_t){var se;if(pa(jt)){var Ue=jt;jt.addEventListener(Gt,Pt,_t),se=function(){return Ue.removeEventListener(Gt,Pt,_t)}}else if(fi(jt)){var vr=jt;jt.on(Gt,Pt),se=function(){return vr.off(Gt,Pt)}}else if(ci(jt)){var Jr=jt;jt.addListener(Gt,Pt),se=function(){return Jr.removeListener(Gt,Pt)}}else if(jt&&jt.length)for(var Wr=0,mn=jt.length;Wr<mn;Wr++)sa(jt[Wr],Gt,Pt,Yt,_t);else throw new TypeError("Invalid event target");Yt.add(se)}function ci(jt){return jt&&typeof jt.addListener=="function"&&typeof jt.removeListener=="function"}function fi(jt){return jt&&typeof jt.on=="function"&&typeof jt.off=="function"}function pa(jt){return jt&&typeof jt.addEventListener=="function"&&typeof jt.removeEventListener=="function"}var ga=function(jt){N(Gt,jt);function Gt(Pt,Yt){return jt.call(this)||this}return Gt.prototype.schedule=function(Pt,Yt){return Yt===void 0&&(Yt=0),this},Gt}(X),Xi=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt,Yt)||this;return _t.scheduler=Pt,_t.work=Yt,_t.pending=!1,_t}return Gt.prototype.schedule=function(Pt,Yt){if(Yt===void 0&&(Yt=0),this.closed)return this;this.state=Pt;var _t=this.id,se=this.scheduler;return _t!=null&&(this.id=this.recycleAsyncId(se,_t,Yt)),this.pending=!0,this.delay=Yt,this.id=this.id||this.requestAsyncId(se,this.id,Yt),this},Gt.prototype.requestAsyncId=function(Pt,Yt,_t){return _t===void 0&&(_t=0),setInterval(Pt.flush.bind(Pt,this),_t)},Gt.prototype.recycleAsyncId=function(Pt,Yt,_t){if(_t===void 0&&(_t=0),_t!==null&&this.delay===_t&&this.pending===!1)return Yt;clearInterval(Yt)},Gt.prototype.execute=function(Pt,Yt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var _t=this._execute(Pt,Yt);if(_t)return _t;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},Gt.prototype._execute=function(Pt,Yt){var _t=!1,se=void 0;try{this.work(Pt)}catch(Ue){_t=!0,se=!!Ue&&Ue||new Error(Ue)}if(_t)return this.unsubscribe(),se},Gt.prototype._unsubscribe=function(){var Pt=this.id,Yt=this.scheduler,_t=Yt.actions,se=_t.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,se!==-1&&_t.splice(se,1),Pt!=null&&(this.id=this.recycleAsyncId(Yt,Pt,null)),this.delay=null},Gt}(ga),Ci=function(){function jt(Gt,Pt){Pt===void 0&&(Pt=jt.now),this.SchedulerAction=Gt,this.now=Pt}return jt.prototype.schedule=function(Gt,Pt,Yt){return Pt===void 0&&(Pt=0),new this.SchedulerAction(this,Gt).schedule(Yt,Pt)},jt.now=function(){return Date.now()},jt}(),Ki=function(jt){N(Gt,jt);function Gt(Pt,Yt){Yt===void 0&&(Yt=Ci.now);var _t=jt.call(this,Pt,function(){return Gt.delegate&&Gt.delegate!==_t?Gt.delegate.now():Yt()})||this;return _t.actions=[],_t.active=!1,_t.scheduled=void 0,_t}return Gt.prototype.schedule=function(Pt,Yt,_t){return Yt===void 0&&(Yt=0),Gt.delegate&&Gt.delegate!==this?Gt.delegate.schedule(Pt,Yt,_t):jt.prototype.schedule.call(this,Pt,Yt,_t)},Gt.prototype.flush=function(Pt){var Yt=this.actions;if(this.active){Yt.push(Pt);return}var _t;this.active=!0;do if(_t=Pt.execute(Pt.state,Pt.delay))break;while(Pt=Yt.shift());if(this.active=!1,_t){for(;Pt=Yt.shift();)Pt.unsubscribe();throw _t}},Gt}(Ci),so=new Ki(Xi),co=so,fo=function(){function jt(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return jt.prototype=Object.create(Error.prototype),jt}(),ya=fo,_a=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this)||this;return _t.subject=Pt,_t.subscriber=Yt,_t.closed=!1,_t}return Gt.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var Pt=this.subject,Yt=Pt.observers;if(this.subject=null,!(!Yt||Yt.length===0||Pt.isStopped||Pt.closed)){var _t=Yt.indexOf(this.subscriber);_t!==-1&&Yt.splice(_t,1)}}},Gt}(X),rr=function(jt){N(Gt,jt);function Gt(Pt){var Yt=jt.call(this,Pt)||this;return Yt.destination=Pt,Yt}return Gt}(Ot),ir=function(jt){N(Gt,jt);function Gt(){var Pt=jt.call(this)||this;return Pt.observers=[],Pt.closed=!1,Pt.isStopped=!1,Pt.hasError=!1,Pt.thrownError=null,Pt}return Gt.prototype[H]=function(){return new rr(this)},Gt.prototype.lift=function(Pt){var Yt=new Ye(this,this);return Yt.operator=Pt,Yt},Gt.prototype.next=function(Pt){if(this.closed)throw new ya;if(!this.isStopped)for(var Yt=this.observers,_t=Yt.length,se=Yt.slice(),Ue=0;Ue<_t;Ue++)se[Ue].next(Pt)},Gt.prototype.error=function(Pt){if(this.closed)throw new ya;this.hasError=!0,this.thrownError=Pt,this.isStopped=!0;for(var Yt=this.observers,_t=Yt.length,se=Yt.slice(),Ue=0;Ue<_t;Ue++)se[Ue].error(Pt);this.observers.length=0},Gt.prototype.complete=function(){if(this.closed)throw new ya;this.isStopped=!0;for(var Pt=this.observers,Yt=Pt.length,_t=Pt.slice(),se=0;se<Yt;se++)_t[se].complete();this.observers.length=0},Gt.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},Gt.prototype._trySubscribe=function(Pt){if(this.closed)throw new ya;return jt.prototype._trySubscribe.call(this,Pt)},Gt.prototype._subscribe=function(Pt){if(this.closed)throw new ya;return this.hasError?(Pt.error(this.thrownError),X.EMPTY):this.isStopped?(Pt.complete(),X.EMPTY):(this.observers.push(Pt),new _a(this,Pt))},Gt.prototype.asObservable=function(){var Pt=new Tt;return Pt.source=this,Pt},Gt.create=function(Pt,Yt){return new Ye(Pt,Yt)},Gt}(Tt),Ye=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this)||this;return _t.destination=Pt,_t.source=Yt,_t}return Gt.prototype.next=function(Pt){var Yt=this.destination;Yt&&Yt.next&&Yt.next(Pt)},Gt.prototype.error=function(Pt){var Yt=this.destination;Yt&&Yt.error&&this.destination.error(Pt)},Gt.prototype.complete=function(){var Pt=this.destination;Pt&&Pt.complete&&this.destination.complete()},Gt.prototype._subscribe=function(Pt){var Yt=this.source;return Yt?this.source.subscribe(Pt):X.EMPTY},Gt}(ir),tr=function(jt){N(Gt,jt);function Gt(Pt){var Yt=jt.call(this)||this;return Yt._value=Pt,Yt}return Object.defineProperty(Gt.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),Gt.prototype._subscribe=function(Pt){var Yt=jt.prototype._subscribe.call(this,Pt);return Yt&&!Yt.closed&&Pt.next(this._value),Yt},Gt.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ya;return this._value},Gt.prototype.next=function(Pt){jt.prototype.next.call(this,this._value=Pt)},Gt}(ir);function Fr(jt){return jt&&typeof jt.schedule=="function"}var tn=function(jt){N(Gt,jt);function Gt(Pt){var Yt=jt.call(this)||this;return Yt.parent=Pt,Yt}return Gt.prototype._next=function(Pt){this.parent.notifyNext(Pt)},Gt.prototype._error=function(Pt){this.parent.notifyError(Pt),this.unsubscribe()},Gt.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},Gt}(Ot),bn=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this)||this;return se.parent=Pt,se.outerValue=Yt,se.outerIndex=_t,se}return Gt.prototype._next=function(Pt){this.parent.notifyNext(this.outerValue,Pt,this.outerIndex,this)},Gt.prototype._error=function(Pt){this.parent.notifyError(Pt),this.unsubscribe()},Gt.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},Gt}(Ot),on=function(jt){N(Gt,jt);function Gt(){return jt!==null&&jt.apply(this,arguments)||this}return Gt.prototype.notifyNext=function(Pt){this.destination.next(Pt)},Gt.prototype.notifyError=function(Pt){this.destination.error(Pt)},Gt.prototype.notifyComplete=function(){this.destination.complete()},Gt}(Ot),Oa=function(jt){N(Gt,jt);function Gt(){return jt!==null&&jt.apply(this,arguments)||this}return Gt.prototype.notifyNext=function(Pt,Yt,_t,se){this.destination.next(Yt)},Gt.prototype.notifyError=function(Pt){this.destination.error(Pt)},Gt.prototype.notifyComplete=function(Pt){this.destination.complete()},Gt}(Ot);function na(jt,Gt){if(!Gt.closed){if(jt instanceof Tt)return jt.subscribe(Gt);var Pt;try{Pt=Se(jt)(Gt)}catch(Yt){Gt.error(Yt)}return Pt}}function wa(jt,Gt,Pt){return Pt===void 0&&(Pt=Number.POSITIVE_INFINITY),typeof Gt=="function"?function(Yt){return Yt.pipe(wa(function(_t,se){return Ge(jt(_t,se)).pipe(Rr(function(Ue,vr){return Gt(_t,Ue,se,vr)}))},Pt))}:(typeof Gt=="number"&&(Pt=Gt),function(Yt){return Yt.lift(new da(jt,Pt))})}var da=function(){function jt(Gt,Pt){Pt===void 0&&(Pt=Number.POSITIVE_INFINITY),this.project=Gt,this.concurrent=Pt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new bi(Gt,this.project,this.concurrent))},jt}(),bi=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){_t===void 0&&(_t=Number.POSITIVE_INFINITY);var se=jt.call(this,Pt)||this;return se.project=Yt,se.concurrent=_t,se.hasCompleted=!1,se.buffer=[],se.active=0,se.index=0,se}return Gt.prototype._next=function(Pt){this.active<this.concurrent?this._tryNext(Pt):this.buffer.push(Pt)},Gt.prototype._tryNext=function(Pt){var Yt,_t=this.index++;try{Yt=this.project(Pt,_t)}catch(se){this.destination.error(se);return}this.active++,this._innerSub(Yt)},Gt.prototype._innerSub=function(Pt){var Yt=new tn(this),_t=this.destination;_t.add(Yt);var se=na(Pt,Yt);se!==Yt&&_t.add(se)},Gt.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},Gt.prototype.notifyNext=function(Pt){this.destination.next(Pt)},Gt.prototype.notifyComplete=function(){var Pt=this.buffer;this.active--,Pt.length>0?this._next(Pt.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},Gt}(on),qa=wa;function fa(jt){return jt===void 0&&(jt=Number.POSITIVE_INFINITY),wa(J,jt)}function Aa(jt,Gt){return Gt?He(jt,Gt):new Tt(St(jt))}function Sa(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];var Pt=Number.POSITIVE_INFINITY,Yt=null,_t=jt[jt.length-1];return Fr(_t)?(Yt=jt.pop(),jt.length>1&&typeof jt[jt.length-1]=="number"&&(Pt=jt.pop())):typeof _t=="number"&&(Pt=jt.pop()),Yt===null&&jt.length===1&&jt[0]instanceof Tt?jt[0]:fa(Pt)(Aa(jt,Yt))}var Fa=function(jt){N(Gt,jt);function Gt(){return jt!==null&&jt.apply(this,arguments)||this}return Gt.prototype.notifyNext=function(Pt,Yt,_t,se,Ue){this.destination.next(Yt)},Gt.prototype.notifyError=function(Pt,Yt){this.destination.error(Pt)},Gt.prototype.notifyComplete=function(Pt){this.destination.complete()},Gt}(Ot),Ka=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this)||this;return se.parent=Pt,se.outerValue=Yt,se.outerIndex=_t,se.index=0,se}return Gt.prototype._next=function(Pt){this.parent.notifyNext(this.outerValue,Pt,this.outerIndex,this.index++,this)},Gt.prototype._error=function(Pt){this.parent.notifyError(Pt,this),this.unsubscribe()},Gt.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},Gt}(Ot);function hi(jt,Gt,Pt,Yt,_t){if(_t===void 0&&(_t=new Ka(jt,Pt,Yt)),!_t.closed)return Gt instanceof Tt?Gt.subscribe(_t):Se(Gt)(_t)}var me={};function he(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];var Pt=void 0,Yt=void 0;return Fr(jt[jt.length-1])&&(Yt=jt.pop()),typeof jt[jt.length-1]=="function"&&(Pt=jt.pop()),jt.length===1&&vt(jt[0])&&(jt=jt[0]),Aa(jt,Yt).lift(new be(Pt))}var be=function(){function jt(Gt){this.resultSelector=Gt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Ve(Gt,this.resultSelector))},jt}(),Ve=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt)||this;return _t.resultSelector=Yt,_t.active=0,_t.values=[],_t.observables=[],_t}return Gt.prototype._next=function(Pt){this.values.push(me),this.observables.push(Pt)},Gt.prototype._complete=function(){var Pt=this.observables,Yt=Pt.length;if(Yt===0)this.destination.complete();else{this.active=Yt,this.toRespond=Yt;for(var _t=0;_t<Yt;_t++){var se=Pt[_t];this.add(hi(this,se,void 0,_t))}}},Gt.prototype.notifyComplete=function(Pt){(this.active-=1)===0&&this.destination.complete()},Gt.prototype.notifyNext=function(Pt,Yt,_t){var se=this.values,Ue=se[_t],vr=this.toRespond?Ue===me?--this.toRespond:this.toRespond:0;se[_t]=Yt,vr===0&&(this.resultSelector?this._tryResultSelector(se):this.destination.next(se.slice()))},Gt.prototype._tryResultSelector=function(Pt){var Yt;try{Yt=this.resultSelector.apply(this,Pt)}catch(_t){this.destination.error(_t);return}this.destination.next(Yt)},Gt}(Fa);function Ke(){}function fr(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];var Pt=jt[jt.length-1];return Fr(Pt)?(jt.pop(),He(jt,Pt)):Aa(jt)}function Lr(){return fa(1)}function _r(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];return Lr()(fr.apply(void 0,jt))}function ua(){for(var jt=[],Gt=0;Gt<arguments.length;Gt++)jt[Gt]=arguments[Gt];var Pt=jt[jt.length-1];return Fr(Pt)?(jt.pop(),function(Yt){return _r(jt,Yt,Pt)}):function(Yt){return _r(jt,Yt)}}function ta(jt,Gt){return function(Pt){return Pt.lift(new Kn(jt,Gt))}}var Kn=function(){function jt(Gt,Pt){this.compare=Gt,this.keySelector=Pt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new ji(Gt,this.compare,this.keySelector))},jt}(),ji=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this,Pt)||this;return se.keySelector=_t,se.hasKey=!1,typeof Yt=="function"&&(se.compare=Yt),se}return Gt.prototype.compare=function(Pt,Yt){return Pt===Yt},Gt.prototype._next=function(Pt){var Yt;try{var _t=this.keySelector;Yt=_t?_t(Pt):Pt}catch(vr){return this.destination.error(vr)}var se=!1;if(this.hasKey)try{var Ue=this.compare;se=Ue(this.key,Yt)}catch(vr){return this.destination.error(vr)}else this.hasKey=!0;se||(this.key=Yt,this.destination.next(Pt))},Gt}(Ot);function Ra(jt,Gt,Pt){return function(_t){return _t.lift(new eo(jt,Gt,Pt))}}var eo=function(){function jt(Gt,Pt,Yt){this.nextOrObserver=Gt,this.error=Pt,this.complete=Yt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Si(Gt,this.nextOrObserver,this.error,this.complete))},jt}(),Si=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t,se){var Ue=jt.call(this,Pt)||this;return Ue._tapNext=Ke,Ue._tapError=Ke,Ue._tapComplete=Ke,Ue._tapError=_t||Ke,Ue._tapComplete=se||Ke,$t(Yt)?(Ue._context=Ue,Ue._tapNext=Yt):Yt&&(Ue._context=Yt,Ue._tapNext=Yt.next||Ke,Ue._tapError=Yt.error||Ke,Ue._tapComplete=Yt.complete||Ke),Ue}return Gt.prototype._next=function(Pt){try{this._tapNext.call(this._context,Pt)}catch(Yt){this.destination.error(Yt);return}this.destination.next(Pt)},Gt.prototype._error=function(Pt){try{this._tapError.call(this._context,Pt)}catch(Yt){this.destination.error(Yt);return}this.destination.error(Pt)},Gt.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(Pt){this.destination.error(Pt);return}return this.destination.complete()},Gt}(Ot);function yo(jt,Gt){return typeof Gt=="function"?function(Pt){return Pt.pipe(yo(function(Yt,_t){return Ge(jt(Yt,_t)).pipe(Rr(function(se,Ue){return Gt(Yt,se,_t,Ue)}))}))}:function(Pt){return Pt.lift(new Co(jt))}}var Co=function(){function jt(Gt){this.project=Gt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Ro(Gt,this.project))},jt}(),Ro=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt)||this;return _t.project=Yt,_t.index=0,_t}return Gt.prototype._next=function(Pt){var Yt,_t=this.index++;try{Yt=this.project(Pt,_t)}catch(se){this.destination.error(se);return}this._innerSub(Yt)},Gt.prototype._innerSub=function(Pt){var Yt=this.innerSubscription;Yt&&Yt.unsubscribe();var _t=new tn(this),se=this.destination;se.add(_t),this.innerSubscription=na(Pt,_t),this.innerSubscription!==_t&&se.add(this.innerSubscription)},Gt.prototype._complete=function(){var Pt=this.innerSubscription;(!Pt||Pt.closed)&&jt.prototype._complete.call(this),this.unsubscribe()},Gt.prototype._unsubscribe=function(){this.innerSubscription=void 0},Gt.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&jt.prototype._complete.call(this)},Gt.prototype.notifyNext=function(Pt){this.destination.next(Pt)},Gt}(on);function we(jt){return function(Gt){return Gt.lift(new ro(jt))}}var ro=function(){function jt(Gt){this.total=Gt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new pe(Gt,this.total))},jt}(),pe=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt)||this;return _t.total=Yt,_t.count=0,_t}return Gt.prototype._next=function(Pt){++this.count>this.total&&this.destination.next(Pt)},Gt}(Ot);function Gi(jt){return function(Gt){return Gt.lift(new Ba(jt))}}var Ba=function(){function jt(Gt){this.value=Gt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new On(Gt,this.value))},jt}(),On=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt)||this;return _t.value=Yt,_t}return Gt.prototype._next=function(Pt){this.destination.next(this.value)},Gt}(Ot),mo=function(jt){N(Gt,jt);function Gt(Pt,Yt){var _t=jt.call(this,Pt,Yt)||this;return _t.scheduler=Pt,_t.work=Yt,_t}return Gt.prototype.schedule=function(Pt,Yt){return Yt===void 0&&(Yt=0),Yt>0?jt.prototype.schedule.call(this,Pt,Yt):(this.delay=Yt,this.state=Pt,this.scheduler.flush(this),this)},Gt.prototype.execute=function(Pt,Yt){return Yt>0||this.closed?jt.prototype.execute.call(this,Pt,Yt):this._execute(Pt,Yt)},Gt.prototype.requestAsyncId=function(Pt,Yt,_t){return _t===void 0&&(_t=0),_t!==null&&_t>0||_t===null&&this.delay>0?jt.prototype.requestAsyncId.call(this,Pt,Yt,_t):Pt.flush(this)},Gt}(Xi),Xo=function(jt){N(Gt,jt);function Gt(){return jt!==null&&jt.apply(this,arguments)||this}return Gt}(Ki),Ei=new Xo(mo),Zi=Ei;function Do(jt,Gt){return Gt?new Tt(function(Pt){return Gt.schedule(Po,0,{error:jt,subscriber:Pt})}):new Tt(function(Pt){return Pt.error(jt)})}function Po(jt){var Gt=jt.error,Pt=jt.subscriber;Pt.error(Gt)}var bo;bo||(bo={});var Eo=function(){function jt(Gt,Pt,Yt){this.kind=Gt,this.value=Pt,this.error=Yt,this.hasValue=Gt==="N"}return jt.prototype.observe=function(Gt){switch(this.kind){case"N":return Gt.next&&Gt.next(this.value);case"E":return Gt.error&&Gt.error(this.error);case"C":return Gt.complete&&Gt.complete()}},jt.prototype.do=function(Gt,Pt,Yt){var _t=this.kind;switch(_t){case"N":return Gt&&Gt(this.value);case"E":return Pt&&Pt(this.error);case"C":return Yt&&Yt()}},jt.prototype.accept=function(Gt,Pt,Yt){return Gt&&typeof Gt.next=="function"?this.observe(Gt):this.do(Gt,Pt,Yt)},jt.prototype.toObservable=function(){var Gt=this.kind;switch(Gt){case"N":return fr(this.value);case"E":return Do(this.error);case"C":return er()}throw new Error("unexpected notification kind value")},jt.createNext=function(Gt){return typeof Gt!="undefined"?new jt("N",Gt):jt.undefinedValueNotification},jt.createError=function(Gt){return new jt("E",void 0,Gt)},jt.createComplete=function(){return jt.completeNotification},jt.completeNotification=new jt("C"),jt.undefinedValueNotification=new jt("N",void 0),jt}();function hs(jt,Gt){return Gt===void 0&&(Gt=0),function(Yt){return Yt.lift(new la(jt,Gt))}}var la=function(){function jt(Gt,Pt){Pt===void 0&&(Pt=0),this.scheduler=Gt,this.delay=Pt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Cs(Gt,this.scheduler,this.delay))},jt}(),Cs=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){_t===void 0&&(_t=0);var se=jt.call(this,Pt)||this;return se.scheduler=Yt,se.delay=_t,se}return Gt.dispatch=function(Pt){var Yt=Pt.notification,_t=Pt.destination;Yt.observe(_t),this.unsubscribe()},Gt.prototype.scheduleMessage=function(Pt){var Yt=this.destination;Yt.add(this.scheduler.schedule(Gt.dispatch,this.delay,new Ns(Pt,this.destination)))},Gt.prototype._next=function(Pt){this.scheduleMessage(Eo.createNext(Pt))},Gt.prototype._error=function(Pt){this.scheduleMessage(Eo.createError(Pt)),this.unsubscribe()},Gt.prototype._complete=function(){this.scheduleMessage(Eo.createComplete()),this.unsubscribe()},Gt}(Ot),Ns=function(){function jt(Gt,Pt){this.notification=Gt,this.destination=Pt}return jt}(),Bs=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){Pt===void 0&&(Pt=Number.POSITIVE_INFINITY),Yt===void 0&&(Yt=Number.POSITIVE_INFINITY);var se=jt.call(this)||this;return se.scheduler=_t,se._events=[],se._infiniteTimeWindow=!1,se._bufferSize=Pt<1?1:Pt,se._windowTime=Yt<1?1:Yt,Yt===Number.POSITIVE_INFINITY?(se._infiniteTimeWindow=!0,se.next=se.nextInfiniteTimeWindow):se.next=se.nextTimeWindow,se}return Gt.prototype.nextInfiniteTimeWindow=function(Pt){if(!this.isStopped){var Yt=this._events;Yt.push(Pt),Yt.length>this._bufferSize&&Yt.shift()}jt.prototype.next.call(this,Pt)},Gt.prototype.nextTimeWindow=function(Pt){this.isStopped||(this._events.push(new as(this._getNow(),Pt)),this._trimBufferThenGetEvents()),jt.prototype.next.call(this,Pt)},Gt.prototype._subscribe=function(Pt){var Yt=this._infiniteTimeWindow,_t=Yt?this._events:this._trimBufferThenGetEvents(),se=this.scheduler,Ue=_t.length,vr;if(this.closed)throw new ya;if(this.isStopped||this.hasError?vr=X.EMPTY:(this.observers.push(Pt),vr=new _a(this,Pt)),se&&Pt.add(Pt=new Cs(Pt,se)),Yt)for(var Jr=0;Jr<Ue&&!Pt.closed;Jr++)Pt.next(_t[Jr]);else for(var Jr=0;Jr<Ue&&!Pt.closed;Jr++)Pt.next(_t[Jr].value);return this.hasError?Pt.error(this.thrownError):this.isStopped&&Pt.complete(),vr},Gt.prototype._getNow=function(){return(this.scheduler||Zi).now()},Gt.prototype._trimBufferThenGetEvents=function(){for(var Pt=this._getNow(),Yt=this._bufferSize,_t=this._windowTime,se=this._events,Ue=se.length,vr=0;vr<Ue&&!(Pt-se[vr].time<_t);)vr++;return Ue>Yt&&(vr=Math.max(vr,Ue-Yt)),vr>0&&se.splice(0,vr),se},Gt}(ir),as=function(){function jt(Gt,Pt){this.time=Gt,this.value=Pt}return jt}();function is(jt,Gt,Pt){var Yt;return jt&&typeof jt=="object"?Yt=jt:Yt={bufferSize:jt,windowTime:Gt,refCount:!1,scheduler:Pt},function(_t){return _t.lift(os(Yt))}}function os(jt){var Gt=jt.bufferSize,Pt=Gt===void 0?Number.POSITIVE_INFINITY:Gt,Yt=jt.windowTime,_t=Yt===void 0?Number.POSITIVE_INFINITY:Yt,se=jt.refCount,Ue=jt.scheduler,vr,Jr=0,Wr,mn=!1,Fn=!1;return function(ea){Jr++;var ri;!vr||mn?(mn=!1,vr=new Bs(Pt,_t,Ue),ri=vr.subscribe(this),Wr=ea.subscribe({next:function(ni){vr.next(ni)},error:function(ni){mn=!0,vr.error(ni)},complete:function(){Fn=!0,Wr=void 0,vr.complete()}}),Fn&&(Wr=void 0)):ri=vr.subscribe(this),this.add(function(){Jr--,ri.unsubscribe(),ri=void 0,Wr&&!Fn&&se&&Jr===0&&(Wr.unsubscribe(),Wr=void 0,vr=void 0)})}}function As(){return function(jt){return jt.lift(new fu)}}var fu=function(){function jt(){}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Gs(Gt))},jt}(),Gs=function(jt){N(Gt,jt);function Gt(Pt){var Yt=jt.call(this,Pt)||this;return Yt.hasPrev=!1,Yt}return Gt.prototype._next=function(Pt){var Yt;this.hasPrev?Yt=[this.prev,Pt]:this.hasPrev=!0,this.prev=Pt,Yt&&this.destination.next(Yt)},Gt}(Ot);function ru(jt,Gt){return function(Yt){return Yt.lift(new Us(jt,Gt))}}var Us=function(){function jt(Gt,Pt){this.predicate=Gt,this.thisArg=Pt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new k(Gt,this.predicate,this.thisArg))},jt}(),k=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t){var se=jt.call(this,Pt)||this;return se.predicate=Yt,se.thisArg=_t,se.count=0,se}return Gt.prototype._next=function(Pt){var Yt;try{Yt=this.predicate.call(this.thisArg,Pt,this.count++)}catch(_t){this.destination.error(_t);return}Yt&&this.destination.next(Pt)},Gt}(Ot),Dt={leading:!0,trailing:!1};function re(jt,Gt){return Gt===void 0&&(Gt=Dt),function(Pt){return Pt.lift(new le(jt,!!Gt.leading,!!Gt.trailing))}}var le=function(){function jt(Gt,Pt,Yt){this.durationSelector=Gt,this.leading=Pt,this.trailing=Yt}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Ce(Gt,this.durationSelector,this.leading,this.trailing))},jt}(),Ce=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t,se){var Ue=jt.call(this,Pt)||this;return Ue.destination=Pt,Ue.durationSelector=Yt,Ue._leading=_t,Ue._trailing=se,Ue._hasValue=!1,Ue}return Gt.prototype._next=function(Pt){this._hasValue=!0,this._sendValue=Pt,this._throttled||(this._leading?this.send():this.throttle(Pt))},Gt.prototype.send=function(){var Pt=this,Yt=Pt._hasValue,_t=Pt._sendValue;Yt&&(this.destination.next(_t),this.throttle(_t)),this._hasValue=!1,this._sendValue=void 0},Gt.prototype.throttle=function(Pt){var Yt=this.tryDurationSelector(Pt);Yt&&this.add(this._throttled=na(Yt,new tn(this)))},Gt.prototype.tryDurationSelector=function(Pt){try{return this.durationSelector(Pt)}catch(Yt){return this.destination.error(Yt),null}},Gt.prototype.throttlingDone=function(){var Pt=this,Yt=Pt._throttled,_t=Pt._trailing;Yt&&Yt.unsubscribe(),this._throttled=void 0,_t&&this.send()},Gt.prototype.notifyNext=function(){this.throttlingDone()},Gt.prototype.notifyComplete=function(){this.throttlingDone()},Gt}(on);function Re(jt,Gt,Pt){return Gt===void 0&&(Gt=co),Pt===void 0&&(Pt=Dt),function(Yt){return Yt.lift(new ke(jt,Gt,Pt.leading,Pt.trailing))}}var ke=function(){function jt(Gt,Pt,Yt,_t){this.duration=Gt,this.scheduler=Pt,this.leading=Yt,this.trailing=_t}return jt.prototype.call=function(Gt,Pt){return Pt.subscribe(new Ze(Gt,this.duration,this.scheduler,this.leading,this.trailing))},jt}(),Ze=function(jt){N(Gt,jt);function Gt(Pt,Yt,_t,se,Ue){var vr=jt.call(this,Pt)||this;return vr.duration=Yt,vr.scheduler=_t,vr.leading=se,vr.trailing=Ue,vr._hasTrailingValue=!1,vr._trailingValue=null,vr}return Gt.prototype._next=function(Pt){this.throttled?this.trailing&&(this._trailingValue=Pt,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(lr,this.duration,{subscriber:this})),this.leading?this.destination.next(Pt):this.trailing&&(this._trailingValue=Pt,this._hasTrailingValue=!0))},Gt.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},Gt.prototype.clearThrottle=function(){var Pt=this.throttled;Pt&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),Pt.unsubscribe(),this.remove(Pt),this.throttled=null)},Gt}(Ot);function lr(jt){var Gt=jt.subscriber;Gt.clearThrottle()}var dr=a("vOnD"),Cr=a("bdgK"),Yr,Nr,Vr,cn;function ln(jt){return jt.children==null||jt.children.length===0}function Hr(jt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pre",Pt=[];return Yt(jt),Pt;function Yt(_t){if(_t!=null){var se=Object(M.a)(_t),Ue;try{for(se.s();!(Ue=se.n()).done;){var vr=Ue.value;ln(vr)?Pt.push(vr):Gt==="pre"?(Pt.push(vr),Yt(vr.children)):Gt==="post"?(Yt(vr.children),Pt.push(vr)):Yt(vr.children)}}catch(Jr){se.e(Jr)}finally{se.f()}}}}function ia(jt){var Gt=-1;return Pt(jt,0),Gt;function Pt(Yt,_t){var se=Object(M.a)(Yt),Ue;try{for(se.s();!(Ue=se.n()).done;){var vr=Ue.value;ln(vr)?Gt=Math.max(Gt,_t):Pt(vr.children,_t+1)}}catch(Jr){se.e(Jr)}finally{se.f()}}}function Oi(jt,Gt){var Pt={},Yt=Object(M.a)(jt),_t;try{for(Yt.s();!(_t=Yt.n()).done;){var se=_t.value,Ue=Gt(se);Pt[Ue]==null&&(Pt[Ue]=[]),Pt[Ue].push(se)}}catch(vr){Yt.e(vr)}finally{Yt.f()}return Pt}function Ua(jt,Gt){var Pt=[];return jt.forEach(function(Yt,_t){Pt.push.apply(Pt,Object(S.a)(Gt(Yt,_t,jt)))}),Pt}function Wa(jt){var Gt={},Pt=Object(M.a)(jt),Yt;try{for(Pt.s();!(Yt=Pt.n()).done;){var _t=Yt.value,se=Object(x.default)(_t,2),Ue=se[0],vr=se[1];Gt[Ue]=vr}}catch(Jr){Pt.e(Jr)}finally{Pt.f()}return Gt}var ei={diff:function(Gt,Pt){var Yt=new Set(Pt);return Gt.filter(function(_t){return!Yt.has(_t)})},merge:function(Gt,Pt){var Yt=new Set(Gt);return Gt.concat(Pt.filter(function(_t){return!Yt.has(_t)}))}};function za(jt){return function(){return jt}}var Na=function(){function jt(){Object(f.default)(this,jt),this.rects=[]}return Object(i.default)(jt,[{key:"testSkip",value:function(Pt,Yt){return this.rects.some(function(_t){var se=_t.left,Ue=_t.right,vr=_t.top,Jr=_t.bottom;return se<=Yt&&Yt<Ue&&vr<=Pt&&Pt<Jr})}},{key:"stripUpwards",value:function(Pt){this.rects=this.rects.filter(function(Yt){return Yt.bottom>Pt})}},{key:"add",value:function(Pt,Yt,_t,se){this.rects.push({left:Yt,right:Yt+_t,top:Pt,bottom:Pt+se})}}]),jt}();function Qi(jt){var Gt;return(Gt=jt.title)!==null&&Gt!==void 0?Gt:jt.name}function qi(jt,Gt,Pt){return jt.getValue?jt.getValue(Gt,Pt):Gt[jt.code]}function wi(jt,Gt,Pt){var Yt;return typeof jt=="string"?Yt=Gt[jt]:typeof jt=="function"&&(Yt=jt(Gt)),Yt==null&&(Yt=String(Pt)),Yt}function Ia(jt,Gt,Pt){if(jt.getCellProps){var Yt=qi(jt,Gt,Pt);return jt.getCellProps(Yt,Gt,Pt)||{}}return{}}function yn(jt,Gt,Pt){var Yt=qi(jt,Gt,Pt);return jt.render?jt.render(Yt,Gt,Pt):Yt}var ce={safeRenderHeader:Qi,safeGetValue:qi,safeGetRowKey:wi,safeGetCellProps:Ia,safeRender:yn};function or(jt,Gt){return function(){for(var Pt=arguments.length,Yt=new Array(Pt),_t=0;_t<Pt;_t++)Yt[_t]=arguments[_t];jt(Yt),Gt(Yt)}}function de(jt,Gt){if(jt==null)return Gt;if(Gt==null)return jt;for(var Pt=Object.assign({},jt),Yt=0,_t=Object.keys(Gt);Yt<_t.length;Yt++){var se=_t[Yt],Ue=Gt[se],vr=typeof Ue;if(Ue===null)Pt[se]=null;else if(Ue!==void 0)if(vr==="number"||vr==="string"||vr==="boolean")se==="className"?Pt[se]=D()(Pt[se],Ue):Pt[se]=Ue;else if(vr==="function"){var Jr=Pt[se];Jr==null?Pt[se]=Ue:Pt[se]=or(Jr,Ue)}else vr==="object"&&(Pt[se]=Object.assign({},Pt[se],Ue))}return Pt}var ee=dr.a!=null?"v5":"v3",ve=ee==="v3"?"innerRef":"ref",De=100,Ir=100;function qr(jt){var Gt=0;return jt.forEach(function(Pt){Gt+=Pt}),Gt}var ka=yr(function(){return _n(window,"resize",{passive:!0}).pipe(Re(150,so,{leading:!0,trailing:!0}))});function ki(){var jt=document.createElement("div");jt.style.position="absolute",jt.style.width="100px",jt.style.height="100px",jt.style.overflow="scroll",jt.style.top="-9999px",document.body.appendChild(jt);var Gt=jt.offsetWidth-jt.clientWidth,Pt=jt.offsetHeight-jt.clientHeight;return document.body.removeChild(jt),{width:Gt,height:Pt}}var Fo;function No(){return Fo==null&&(Fo=new tr(ki()),ka.pipe(Rr(function(){return ki()})).subscribe(Fo)),Fo.value}function ps(jt,Gt){var Pt=new Set;function Yt(Jr,Wr){Pt.clear();var mn=Object(M.a)(jt),Fn;try{for(mn.s();!(Fn=mn.n()).done;){var Ur=Fn.value;Ur!==Jr&&(Ur.scrollLeft=Wr,Pt.add(Ur))}}catch(ea){mn.e(ea)}finally{mn.f()}}var _t=new X,se=Object(M.a)(jt),Ue;try{var vr=function(){var Wr=Ue.value,mn=function(){if(Pt.has(Wr)){Pt.delete(Wr);return}var Ur=Wr.scrollLeft;Yt(Wr,Ur),Gt(Ur)};Wr.addEventListener("scroll",mn,{passive:!0}),_t.add(function(){return Wr.removeEventListener("scroll",mn)})};for(se.s();!(Ue=se.n()).done;)vr()}catch(Jr){se.e(Jr)}finally{se.f()}return _t}function Ws(jt,Gt){var Pt=Object.prototype.hasOwnProperty;if(Object.is(jt,Gt))return!0;if(typeof jt!="object"||jt===null||typeof Gt!="object"||Gt===null)return!1;var Yt=Object.keys(jt),_t=Object.keys(Gt);if(Yt.length!==_t.length)return!1;for(var se=0;se<Yt.length;se++)if(!Pt.call(Gt,Yt[se])||!Object.is(jt[Yt[se]],Gt[Yt[se]]))return!1;return!0}function ws(jt,Gt){return jt==null||jt==="auto"?Gt:jt}var Ru=!1;function Mu(jt){Ru||(Ru=!0,console.warn("[ali-react-table] lock=true \u7684\u5217\u9700\u8981\u6307\u5B9A\u5BBD\u5EA6",jt))}var Fu=!1;function dl(jt){Fu||(Fu=!0,console.warn("[ali-react-table] column.hidden \u5DF2\u7ECF\u8FC7\u65F6\uFF0C\u5982\u679C\u9700\u8981\u9690\u85CF\u8BE5\u5217\uFF0C\u8BF7\u5C06\u5176\u4ECE columns \u6570\u7EC4\u4E2D\u79FB\u9664",jt))}function vl(jt,Gt){(jt==null||!Array.isArray(jt))&&(console.warn("[ali-react-table] <BaseTable /> props.columns \u9700\u8981\u4F20\u5165\u4E00\u4E2A\u6570\u7EC4",jt),jt=[]);function Pt(Yt){var _t=[],se=Object(M.a)(Yt),Ue;try{for(se.s();!(Ue=se.n()).done;){var vr=Ue.value;if(vr.width==null&&Gt!=null&&(vr=Object.assign(Object.assign({},vr),{width:Gt})),ln(vr))vr.hidden?dl(vr):_t.push(vr);else{var Jr=Pt(vr.children);Jr.length>0&&_t.push(Object.assign(Object.assign({},vr),{children:Jr}))}}}catch(Wr){se.e(Wr)}finally{se.f()}return _t}return Pt(jt)}function gl(jt){var Gt=0,Pt=Object(M.a)(jt),Yt;try{for(Pt.s();!(Yt=Pt.n()).done;){var _t=Yt.value;if(se(_t))Gt+=1;else break}}catch(Ue){Pt.e(Ue)}finally{Pt.f()}return Gt;function se(Ue){return ln(Ue)?Ue.lock:Ue.lock||Ue.children.some(se)}}function tf(jt){var Gt=jt.offsetX,Pt=jt.maxRenderWidth,Yt=jt.flat,_t=jt.useVirtual;if(!_t.horizontal)return{leftIndex:0,leftBlank:0,rightIndex:Yt.full.length,rightBlank:0};for(var se=0,Ue=0,vr=0,Jr=0,Wr=Math.max(0,Gt-De);se<Yt.center.length;){var mn=Yt.center[se];if(mn.width+vr<Wr)se+=1,vr+=mn.width;else break}for(var Fn=Pt+(Wr-vr)+2*De;se+Ue<Yt.center.length;){var Ur=Yt.center[se+Ue];if(Ur.width+Jr<Fn)Jr+=Ur.width,Ue+=1;else break}var ea=Yt.center.length-se-Ue,ri=qr(Yt.center.slice(Yt.center.length-ea).map(function(ma){return ma.width}));return{leftIndex:se,leftBlank:vr,rightIndex:se+Ue,rightBlank:ri}}function bc(jt){var Gt=jt.state,Pt=Gt.offsetX,Yt=Gt.maxRenderWidth,_t=jt.props,se=_t.useVirtual,Ue=_t.columns,vr=_t.dataSource,Jr=_t.defaultColumnWidth,Wr=vl(Ue,Jr),mn=gl(Wr),Fn=Hr(Wr,"leaf-only"),Ur,ea,ri;if(mn===Wr.length)Ur={left:[],right:[],full:Fn,center:Fn},ea={left:[],right:[],full:Wr,center:Wr},ri={horizontal:!1,vertical:!1,header:!1};else{var ma=Wr.slice(0,mn),ni=gl(Wr.slice().reverse()),wn=Wr.slice(mn,Wr.length-ni),Hn=Wr.slice(Wr.length-ni),ba=Fn.length>=Ir&&Fn.every(function(jo){return jo.width!=null}),Ea=vr.length>=Ir;ri={horizontal:ws(typeof se=="object"?se.horizontal:se,ba),vertical:ws(typeof se=="object"?se.vertical:se,Ea),header:ws(typeof se=="object"?se.header:se,!1)},Ur={left:Hr(ma,"leaf-only"),full:Fn,right:Hr(Hn,"leaf-only"),center:Hr(wn,"leaf-only")},ea={left:ma,full:Wr,right:Hn,center:wn}}for(var ja=tf({maxRenderWidth:Yt,offsetX:Pt,useVirtual:ri,flat:Ur}),Ja=jt.getVerticalRenderRange(ri),ca=ja.leftBlank,Ma=ja.leftIndex,oi=ja.rightBlank,ai=ja.rightIndex,gi=[].concat(Object(S.a)(Ur.left.map(function(jo,Js){return{type:"normal",col:jo,colIndex:Js}})),[ca>0&&{type:"blank",blankSide:"left",width:ca}],Object(S.a)(Ur.center.slice(Ma,ai).map(function(jo,Js){return{type:"normal",col:jo,colIndex:Ur.left.length+Ma+Js}})),[oi>0&&{type:"blank",blankSide:"right",width:oi}],Object(S.a)(Ur.right.map(function(jo,Js){return{type:"normal",col:jo,colIndex:Ur.full.length-Ur.right.length+Js}}))),ti=gi.filter(Boolean),Pi=Ur.full.length,di=Ur.left.length,Ga=Ur.right.length,ui=new Map,Vi=0,Ui=0;Ui<di;Ui++)ui.set(Ui,Vi),Vi+=Ur.full[Ui].width;for(var uo=new Map,ho=0,Ji=0;Ji<Ga;Ji++)uo.set(Pi-1-Ji,ho),ho+=Ur.full[Pi-1-Ji].width;var Fi=qr(Ur.left.map(function(jo){return jo.width})),us=qr(Ur.right.map(function(jo){return jo.width}));return{horizontalRenderRange:ja,verticalRenderRange:Ja,visible:ti,flat:Ur,nested:ea,useVirtual:ri,stickyLeftMap:ui,stickyRightMap:uo,leftLockTotalWidth:Fi,rightLockTotalWidth:us,hasLockColumn:ea.left.length>0||ea.right.length>0}}function Ec(jt){var Gt=jt.descriptors;return y.a.createElement("colgroup",null,Gt.map(function(Pt){return Pt.type==="blank"?y.a.createElement("col",{key:Pt.blankSide,style:{width:Pt.width}}):y.a.createElement("col",{key:Pt.colIndex,style:{width:Pt.col.width}})}))}var Va=20,Io="art-",Ha={artTableWrapper:"".concat(Io,"table-wrapper"),artTable:"".concat(Io,"table"),tableHeader:"".concat(Io,"table-header"),tableBody:"".concat(Io,"table-body"),tableFooter:"".concat(Io,"table-footer"),tableRow:"".concat(Io,"table-row"),tableHeaderRow:"".concat(Io,"table-header-row"),tableCell:"".concat(Io,"table-cell"),tableHeaderCell:"".concat(Io,"table-header-cell"),virtualBlank:"".concat(Io,"virtual-blank"),stickyScroll:"".concat(Io,"sticky-scroll"),stickyScrollItem:"".concat(Io,"sticky-scroll-item"),horizontalScrollContainer:"".concat(Io,"horizontal-scroll-container"),lockShadowMask:"".concat(Io,"lock-shadow-mask"),lockShadow:"".concat(Io,"lock-shadow"),leftLockShadow:"".concat(Io,"left-lock-shadow"),rightLockShadow:"".concat(Io,"right-lock-shadow"),emptyWrapper:"".concat(Io,"empty-wrapper"),loadingWrapper:"".concat(Io,"loading-wrapper"),loadingIndicatorWrapper:"".concat(Io,"loading-indicator-wrapper"),loadingIndicator:"".concat(Io,"loading-indicator")},hu={lock:5,header:15,footer:10,lockShadow:20,scrollItem:30,loadingIndicator:40},Ju=Object(dr.b)(Yr||(Yr=A([`
  border-top: var(--cell-border-horizontal);
  border-right: var(--cell-border-vertical);
  border-bottom: var(--cell-border-horizontal);
  border-left: var(--cell-border-vertical);

  td.first,
  th.first {
    border-left: none;
  }
  td.last,
  th.last {
    border-right: none;
  }

  thead tr.first th,
  tbody tr.first td {
    border-top: none;
  }
  &.has-footer tfoot tr.last td {
    border-bottom: none;
  }
  &:not(.has-footer) tbody tr.last td {
    border-bottom: none;
  }
`]))),du=dr.c.div(Nr||(Nr=A([`
  --row-height: 48px;
  --color: #333;
  --bgcolor: white;
  --hover-bgcolor: var(--hover-color, #f5f5f5);
  --highlight-bgcolor: #eee;

  --header-row-height: 32px;
  --header-color: #5a6c84;
  --header-bgcolor: #e9edf2;
  --header-hover-bgcolor: #ddd;
  --header-highlight-bgcolor: #e4e8ed;

  --cell-padding: 8px 12px;
  --font-size: 12px;
  --line-height: 1.28571;
  --lock-shadow: rgba(152, 152, 152, 0.5) 0 0 6px 2px;

  --border-color: #dfe3e8;
  --cell-border: 1px solid var(--border-color);
  --cell-border-horizontal: var(--cell-border);
  --cell-border-vertical: var(--cell-border);
  --header-cell-border: 1px solid var(--border-color);
  --header-cell-border-horizontal: var(--header-cell-border);
  --header-cell-border-vertical: var(--header-cell-border);

  box-sizing: border-box;
  * {
    box-sizing: border-box;
  }
  cursor: default;
  color: var(--color);
  font-size: var(--font-size);
  line-height: var(--line-height);
  position: relative;

  // \u8868\u683C\u5916\u8FB9\u6846\u7531 art-table-wrapper \u63D0\u4F9B\uFF0C\u800C\u4E0D\u662F\u7531\u5355\u5143\u683C\u63D0\u4F9B
  &.use-outer-border {
    `,`;
  }

  .no-scrollbar {
    ::-webkit-scrollbar {
      display: none;
    }
  }

  .`,` {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--header-bgcolor);
  }

  .`,", .",` {
    overflow-x: auto;
    overflow-y: hidden;
    background: var(--bgcolor);
  }

  &.sticky-header .`,` {
    position: sticky;
    top: 0;
    z-index: `,`;
  }

  &.sticky-footer .`,` {
    position: sticky;
    bottom: 0;
    z-index: `,`;
  }

  table {
    width: 100%;
    table-layout: fixed;
    border-collapse: separate;
    border-spacing: 0;
    display: table;
    margin: 0;
    padding: 0;
  }

  // \u5728 tr \u4E0A\u8BBE\u7F6E .no-hover \u53EF\u4EE5\u7981\u7528\u9F20\u6807\u60AC\u505C\u6548\u679C
  tr:not(.no-hover):hover > td {
    background: var(--hover-bgcolor);
  }
  // \u5728 tr \u8BBE\u7F6E highlight \u53EF\u4EE5\u4E3A\u5E95\u4E0B\u7684 td \u8BBE\u7F6E\u4E3A\u9AD8\u4EAE\u8272
  // \u800C\u8BBE\u7F6E .no-highlight \u7684\u8BDD\u5219\u53EF\u4EE5\u7981\u7528\u9AD8\u4EAE\u6548\u679C\uFF1B
  tr:not(.no-highlight).highlight > td {
    background: var(--highlight-bgcolor);
  }

  th {
    font-weight: normal;
    text-align: left;
    padding: var(--cell-padding);
    height: var(--header-row-height);
    color: var(--header-color);
    background: var(--header-bgcolor);
    border: none;
    border-right: var(--header-cell-border-vertical);
    border-bottom: var(--header-cell-border-horizontal);
  }
  tr.first th {
    border-top: var(--header-cell-border-horizontal);
  }
  th.first {
    border-left: var(--header-cell-border-vertical);
  }

  td {
    padding: var(--cell-padding);
    background: var(--bgcolor);
    height: var(--row-height);
    border: none;
    border-right: var(--cell-border-vertical);
    border-bottom: var(--cell-border-horizontal);
  }
  td.first {
    border-left: var(--cell-border-vertical);
  }
  tr.first td {
    border-top: var(--cell-border-horizontal);
  }
  &.has-header tbody tr.first td {
    border-top: none;
  }
  &.has-footer tbody tr.last td {
    border-bottom: none;
  }

  .lock-left,
  .lock-right {
    z-index: `,`;
  }

  //#region \u9501\u5217\u9634\u5F71
  .`,` {
    position: absolute;
    top: 0;
    bottom: 0;
    z-index: `,`;
    pointer-events: none;
    overflow: hidden;

    .`,` {
      height: 100%;
    }

    .`,` {
      margin-right: `,`px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-right: var(--cell-border-vertical);
      }
    }

    .`,` {
      margin-left: `,`px;
      box-shadow: none;

      &.show-shadow {
        box-shadow: var(--lock-shadow);
        border-left: var(--cell-border-vertical);
      }
    }
  }
  //#endregion

  //#region \u7A7A\u8868\u683C\u5C55\u73B0
  .`,` {
    pointer-events: none;
    color: #99a3b3;
    font-size: 12px;
    text-align: center;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);

    .empty-image {
      width: 50px;
      height: 50px;
    }

    .empty-tips {
      margin-top: 16px;
      line-height: 1.5;
    }
  }
  //#endregion

  //#region \u7C98\u6027\u6EDA\u52A8\u6761
  .`,` {
    overflow: auto;
    position: sticky;
    bottom: 0;
    z-index: `,`;
    margin-top: -17px;
  }

  .`,` {
    // \u5FC5\u987B\u6709\u9AD8\u5EA6\u624D\u80FD\u51FA\u73B0\u6EDA\u52A8\u6761
    height: 1px;
    visibility: hidden;
  }
  //#endregion

  //#region \u52A0\u8F7D\u6837\u5F0F
  .`,` {
    position: relative;

    .`,` {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      pointer-events: none;
    }

    .`,` {
      position: sticky;
      z-index: `,`;
      transform: translateY(-50%);
    }
  }
  //#endregion
`])),Ju,Ha.tableHeader,Ha.tableBody,Ha.tableFooter,Ha.tableHeader,hu.header,Ha.tableFooter,hu.footer,hu.lock,Ha.lockShadowMask,hu.lockShadow,Ha.lockShadow,Ha.leftLockShadow,Va,Ha.rightLockShadow,Va,Ha.emptyWrapper,Ha.stickyScroll,hu.scrollItem,Ha.stickyScrollItem,Ha.loadingWrapper,Ha.loadingIndicatorWrapper,Ha.loadingIndicator,hu.loadingIndicator),vu=y.a.memo(function(){return y.a.createElement(y.a.Fragment,null,y.a.createElement("img",{alt:"empty-image",className:"empty-image",src:"//img.alicdn.com/tfs/TB1l1LcM3HqK1RjSZJnXXbNLpXa-50-50.svg"}),y.a.createElement("div",{className:"empty-tips"},"\u6CA1\u6709\u7B26\u5408\u67E5\u8BE2\u6761\u4EF6\u7684\u6570\u636E",y.a.createElement("br",null),"\u8BF7\u4FEE\u6539\u6761\u4EF6\u540E\u91CD\u65B0\u67E5\u8BE2"))});function pl(jt){var Gt=jt.descriptors,Pt=jt.isLoading,Yt=jt.emptyCellHeight,_t=jt.EmptyContent,se=_t===void 0?vu:_t,Ue=!Pt;return y.a.createElement("table",null,y.a.createElement(Ec,{descriptors:Gt}),y.a.createElement("tbody",null,y.a.createElement("tr",{className:D()(Ha.tableRow,"first","last","no-hover"),"data-rowindex":0},y.a.createElement("td",{className:D()(Ha.tableCell,"first","last"),colSpan:Gt.length,style:{height:Yt!=null?Yt:200}},Ue&&y.a.createElement("div",{className:Ha.emptyWrapper},y.a.createElement(se,null))))))}function _u(jt){for(var Gt=[],Pt=0;Pt<jt;Pt++)Gt.push(Pt);return Gt}function zf(jt,Gt,Pt){return Yt(jt,Pt).filtered;function Yt(_t,se){var Ue=0,vr=[],Jr=Object(M.a)(_t),Wr;try{for(Jr.s();!(Wr=Jr.n()).done;){var mn=Wr.value,Fn=se+Ue;if(ln(mn))Ue+=1,Pt+Gt.leftIndex<=Fn&&Fn<Pt+Gt.rightIndex&&vr.push({colIndex:Fn,col:mn});else{var Ur=Yt(mn.children,Fn);Ue+=Ur.leafCount,Ur.filtered.length>0&&vr.push({colIndex:Fn,col:mn,children:Ur.filtered})}}}catch(ea){Jr.e(ea)}finally{Jr.f()}return{filtered:vr,leafCount:Ue}}}function Ul(jt,Gt){for(var Pt=[],Yt=0;Yt<Gt;Yt++)Pt.push([]);var _t=[];return se(jt,0),{flat:_t,leveled:Pt};function se(Ue,vr){for(var Jr=0,Wr=0;Wr<Ue.length;Wr++){var mn=Ue[Wr];if(ln(mn)){Jr+=1;var Fn={type:"normal",width:mn.col.width,col:mn.col,colIndex:mn.colIndex,colSpan:1,isLeaf:!0};Pt[vr].push(Fn),_t.push(Fn)}else{var Ur=se(mn.children,vr+1);Jr+=Ur.leafCount,Ur.leafCount>0&&Pt[vr].push({type:"normal",width:mn.col.width,col:mn.col,colIndex:mn.colIndex,colSpan:Ur.leafCount,isLeaf:!1})}}return{leafCount:Jr}}}function Oc(jt,Gt){return Pt(jt,Gt).result;function Pt(Yt,_t){for(var se=[],Ue=0,vr=0;vr<Yt.length;vr++){var Jr=Yt[vr],Wr=_t+Ue;if(ln(Jr))Ue+=1,se.push({colIndex:Wr,col:Jr});else{var mn=Pt(Jr.children,Wr);Ue+=mn.leafCount,mn.leafCount>0&&se.push({col:Jr,colIndex:Wr,children:mn.result})}}return{result:se,leafCount:Ue}}}function qu(jt,Gt){var Pt=jt.flat,Yt=jt.nested,_t=jt.horizontalRenderRange,se=jt.useVirtual;if(se.header){var Ue=Ul(Oc(Yt.left,0),Gt),vr=zf(Yt.center,_t,Pt.left.length),Jr=Ul(vr,Gt),Wr=Ul(Oc(Yt.right,Pt.left.length+Pt.center.length),Gt);return{flat:[].concat(Object(S.a)(Ue.flat),[{type:"blank",width:_t.leftBlank,blankSide:"left"}],Object(S.a)(Jr.flat),[{type:"blank",width:_t.rightBlank,blankSide:"right"}],Object(S.a)(Wr.flat)),leveled:_u(Gt).map(function(mn){return[].concat(Object(S.a)(Ue.leveled[mn]),[{type:"blank",width:_t.leftBlank,blankSide:"left"}],Object(S.a)(Jr.leveled[mn]),[{type:"blank",width:_t.rightBlank,blankSide:"right"}],Object(S.a)(Wr.leveled[mn]))})}}return Ul(Oc(Yt.full,0),Gt)}function Tu(jt){var Gt=jt.info,Pt=Gt.nested,Yt=Gt.flat,_t=Gt.stickyLeftMap,se=Gt.stickyRightMap,Ue=ia(Pt.full)+1,vr=qu(Gt,Ue),Jr=Yt.full.length,Wr=Yt.left.length,mn=Yt.right.length,Fn=vr.leveled.map(function(Ur,ea){var ri=Ur.map(function(ma){var ni,wn;if(ma.type==="normal"){var Hn=ma.colIndex,ba=ma.colSpan,Ea=ma.isLeaf,ja=ma.col,Ja=(ni=ja.headerCellProps)!==null&&ni!==void 0?ni:{},ca={};return Hn<Wr?(ca.position="sticky",ca.left=_t.get(Hn)):Hn>=Jr-mn&&(ca.position="sticky",ca.right=se.get(Hn+ba-1)),y.a.createElement("th",Object.assign({key:Hn},Ja,{className:D()(Ha.tableHeaderCell,Ja.className,{first:Hn===0,last:Hn+ba===Jr,"lock-left":Hn<Wr,"lock-right":Hn>=Jr-mn}),colSpan:ba,rowSpan:Ea?Ue-ea:void 0,style:Object.assign(Object.assign({textAlign:ja.align},Ja.style),ca)}),(wn=ja.title)!==null&&wn!==void 0?wn:ja.name)}else return ma.width>0?y.a.createElement("th",{key:ma.blankSide}):null});return y.a.createElement("tr",{key:ea,className:D()(Ha.tableHeaderRow,{first:ea===0,last:ea===Ue-1})},ri)});return y.a.createElement("table",null,y.a.createElement("colgroup",null,vr.flat.map(function(Ur){return Ur.type==="blank"?Ur.width>0?y.a.createElement("col",{key:Ur.blankSide,style:{width:Ur.width}}):null:y.a.createElement("col",{key:Ur.colIndex,style:{width:Ur.width}})})),y.a.createElement("thead",null,Fn))}function Du(jt){return jt?(jt.nodeName||"").toLowerCase():null}function Nu(jt){if(jt==null)return window;if(jt.toString()!=="[object Window]"){var Gt=jt.ownerDocument;return Gt&&Gt.defaultView||window}return jt}function zs(jt){return Nu(jt).getComputedStyle(jt)}function kf(jt){var Gt=Nu(jt).Element;return jt instanceof Gt||jt instanceof Element}function Gu(jt){var Gt=Nu(jt).HTMLElement;return jt instanceof Gt||jt instanceof HTMLElement}function Wl(jt){if(typeof ShadowRoot=="undefined")return!1;var Gt=Nu(jt).ShadowRoot;return jt instanceof Gt||jt instanceof ShadowRoot}function ks(jt){return["table","td","th"].indexOf(Du(jt))>=0}function tl(jt){return((kf(jt)?jt.ownerDocument:jt.document)||window.document).documentElement}function xc(jt){return Du(jt)==="html"?jt:jt.assignedSlot||jt.parentNode||(Wl(jt)?jt.host:null)||tl(jt)}function yl(jt){return!Gu(jt)||zs(jt).position==="fixed"?null:jt.offsetParent}function gu(jt){var Gt=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Pt=navigator.userAgent.indexOf("Trident")!==-1;if(Pt&&Gu(jt)){var Yt=zs(jt);if(Yt.position==="fixed")return null}for(var _t=xc(jt);Gu(_t)&&["html","body"].indexOf(Du(_t))<0;){var se=zs(_t);if(se.transform!=="none"||se.perspective!=="none"||se.contain==="paint"||["transform","perspective"].indexOf(se.willChange)!==-1||Gt&&se.willChange==="filter"||Gt&&se.filter&&se.filter!=="none")return _t;_t=_t.parentNode}return null}function el(jt){for(var Gt=Nu(jt),Pt=yl(jt);Pt&&ks(Pt)&&zs(Pt).position==="static";)Pt=yl(Pt);return Pt&&(Du(Pt)==="html"||Du(Pt)==="body"&&zs(Pt).position==="static")?Gt:Pt||gu(jt)||Gt}function ss(jt){var Gt=Nu(jt),Pt=Gt.pageXOffset,Yt=Gt.pageYOffset;return{scrollLeft:Pt,scrollTop:Yt}}function zl(jt){var Gt=zs(jt),Pt=Gt.overflow,Yt=Gt.overflowX,_t=Gt.overflowY;return/auto|scroll|overlay|hidden/.test(Pt+_t+Yt)}function nu(jt){return jt.toString()==="[object Window]"}function ef(jt){return Du(jt)==="body"}function Ss(jt){return Du(jt)==="html"}function pu(jt){return Ss(jt)||ef(jt)}function yu(jt,Gt,Pt){for(var Yt=0,_t=jt;_t!=null&&(Yt+=_t[Pt],!(_t===Gt||nu(Gt)&&pu(_t)));)_t=_t.parentElement;return nu(Gt)&&(Yt+=ss(_t)[Pt]),Yt}function Vs(jt,Gt){if(nu(Gt)||pu(Gt))return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight};for(var Pt=0,Yt=0,_t=Gt;_t!=null&&_t!=jt;){Yt+=_t.offsetTop,Pt+=_t.offsetLeft;var se=el(_t);if(Yt-=yu(_t.parentElement,se,"scrollTop"),Pt-=yu(_t.parentElement,se,"scrollLeft"),nu(se))break;Yt+=se.clientTop,Pt+=se.clientLeft,_t=se}return{top:Yt,bottom:Yt+Gt.offsetHeight,left:Pt,right:Pt+Gt.offsetWidth}}function mu(jt,Gt){if(nu(Gt))return Gt;var Pt=Rs(jt);return Pt.includes(Gt)?Gt:el(Gt)}function Rs(jt){for(var Gt=[],Pt=jt;!nu(Pt);)Pt=el(Pt),Gt.push(Pt);return Gt}function Zs(jt){return _n(jt,"scroll",{passive:!0})}function kl(jt){return nu(jt)?_n(jt,"resize",{passive:!0}):new Tt(function(Gt){var Pt=new Cr.a(function(Yt){Gt.next(Yt)});return Pt.observe(jt),function(){Pt.disconnect()}})}function Uu(jt){return["html","body","#document"].includes(Du(jt))?Nu(jt):Gu(jt)&&zl(jt)?jt:Uu(xc(jt))}function rf(jt,Gt,Pt){return Gt.pipe(ua("init"),Rr(function(){var Yt=Uu(jt),_t=mu(jt,Yt);return{scrollParent:Yt,commonOffsetAncestor:_t}}),ta(Ws),Ra(function(Yt){Pt&&console.log("%c[ali-react-table STRUCTURE ".concat(Pt,"]"),"color: #4f9052; font-weight: bold",`
target:`,jt,`
scrollParent:`,Yt.scrollParent,`
commonOffsetAncestor:`,Yt.commonOffsetAncestor)}),yo(function(Yt){var _t=Yt.scrollParent,se=Yt.commonOffsetAncestor,Ue=Sa(Zs(_t),kl(_t),kl(jt));return Ue.pipe(Rr(function(vr){return{targetRect:Vs(se,jt),scrollParentRect:Vs(se,_t),event:vr}}),Rr(function(vr){var Jr=vr.event,Wr=vr.scrollParentRect,mn=vr.targetRect;return{event:Jr,targetRect:mn,scrollParentRect:Wr,offsetY:Math.max(0,Wr.top-mn.top),clipRect:{left:Math.max(mn.left,Wr.left),top:Math.max(mn.top,Wr.top),right:Math.min(mn.right,Wr.right),bottom:Math.min(mn.bottom,Wr.bottom)}}}))}),Ra(function(Yt){Pt&&console.log("%c[ali-react-table RECTS ".concat(Pt,"]"),"color: #4f9052; font-weight: bold",`
offsetY:`,Yt.offsetY,`
targetRect:`,Yt.targetRect,`
scrollParentRect:`,Yt.scrollParentRect,`
clipRect:`,Yt.clipRect,`
event:`,Yt.event)}))}function Vl(jt){return{topIndex:0,topBlank:0,bottomIndex:jt,bottomBlank:0}}function ml(jt,Gt){var Pt=new Array(jt).fill(Gt);function Yt(se,Ue,vr){if(Pt.length!==vr&&ni(vr),Ue<=0)return se<=0?Jr():Wr();return mn();function Jr(){var wn={topIndex:0,topBlank:0},Hn=ea(0,wn);return Object.assign(Object.assign({},wn),Hn)}function Wr(){var wn=ma(vr),Hn=Fn(wn),ba=ea(wn,Hn);return Object.assign(Object.assign({},Hn),ba)}function mn(){var wn=Fn(se),Hn=ea(se+Ue,wn);return Object.assign(Object.assign({},wn),Hn)}function Fn(wn){if(Pt.length===0)return{topIndex:0,topBlank:0};for(var Hn=0,ba=0;Hn<Pt.length;){var Ea=Pt[Hn];if(ba+Ea>=wn)break;ba+=Ea,Hn+=1}return Ur(Hn,ba)}function Ur(wn,Hn){for(var ba=0,Ea=0;Ea<wn&&ba<De;)Ea+=1,ba+=Pt[wn-Ea];return{topIndex:wn-Ea,topBlank:Hn-ba}}function ea(wn,Hn){for(var ba=Hn.topIndex,Ea=Hn.topBlank;ba<vr&&Ea<wn;)Ea+=Pt[ba],ba+=1;var ja=ma(vr)-Ea;return ri(ba,ja)}function ri(wn,Hn){for(var ba=0,Ea=0;Ea<vr-wn&&ba<De;)ba+=Pt[wn+Ea],Ea+=1;return{bottomIndex:wn+Ea,bottomBlank:Hn-ba}}function ma(wn){return qr(Pt)+(wn-Pt.length)*Gt}function ni(wn){if(wn<Pt.length)Pt.length=wn;else{var Hn=Pt.length;Pt.length=wn,Pt.fill(Gt,Hn)}}}function _t(se,Ue,vr){Pt[se]=vr}return{getRenderRange:Yt,updateRow:_t,cache:Pt}}var Hl=function(){function jt(Gt){Object(f.default)(this,jt),this.artTableWrapper=Gt,this.artTable=Gt.querySelector(".".concat(Ha.artTable)),this.tableHeader=this.artTable.querySelector(":scope > .".concat(Ha.tableHeader)),this.tableBody=this.artTable.querySelector(":scope > .".concat(Ha.tableBody)),this.tableFooter=this.artTable.querySelector(":scope > .".concat(Ha.tableFooter));var Pt=".".concat(Ha.artTable," + .").concat(Ha.stickyScroll);this.stickyScroll=Gt.querySelector(Pt),this.stickyScrollItem=this.stickyScroll.querySelector(".".concat(Ha.stickyScrollItem))}return Object(i.default)(jt,[{key:"getVirtualTop",value:function(){return this.tableBody.querySelector(".".concat(Ha.virtualBlank,".top"))}},{key:"getTableRows",value:function(){var Pt=this.getTableBodyHtmlTable();return Pt.querySelectorAll(":scope > tbody > .".concat(Ha.tableRow))}},{key:"getTableBodyHtmlTable",value:function(){return this.artTable.querySelector(".".concat(Ha.tableBody," table"))}},{key:"getLeftLockShadow",value:function(){var Pt=":scope > .".concat(Ha.lockShadowMask," .").concat(Ha.leftLockShadow);return this.artTable.querySelector(Pt)}},{key:"getRightLockShadow",value:function(){var Pt=":scope > .".concat(Ha.lockShadowMask," .").concat(Ha.rightLockShadow);return this.artTable.querySelector(Pt)}},{key:"getLoadingIndicator",value:function(){return this.artTableWrapper.querySelector(".".concat(Ha.loadingIndicator))}}]),jt}();function Xl(jt){var Gt=jt.tbodyHtmlTag,Pt=jt.getRowProps,Yt=jt.primaryKey,_t=jt.data,se=jt.verticalRenderInfo,Ue=jt.horizontalRenderInfo,vr=Ue.flat,Jr=Ue.horizontalRenderRange,Wr=new Na,mn=vr.full.length,Fn=vr.left.length,Ur=vr.right.length;return y.a.createElement("table",null,y.a.createElement(Ec,{descriptors:Ue.visible}),y.a.createElement(Gt,null,_t.map(ea)));function ea(ma,ni){var wn=se.offset+ni;Wr.stripUpwards(wn);var Hn=Pt(ma,wn),ba=D()(Ha.tableRow,{first:wn===se.first,last:wn===se.last,even:wn%2==0,odd:wn%2==1},Hn==null?void 0:Hn.className);return y.a.createElement("tr",Object.assign({},Hn,{className:ba,key:ce.safeGetRowKey(Yt,ma,wn),"data-rowindex":wn}),Ue.visible.map(function(Ea){return Ea.type==="blank"?y.a.createElement("td",{key:Ea.blankSide}):ri(ma,wn,Ea.col,Ea.colIndex)}))}function ri(ma,ni,wn,Hn){var ba,Ea;if(Wr.testSkip(ni,Hn))return null;var ja=ce.safeGetValue(wn,ma,ni),Ja=(Ea=(ba=wn.getCellProps)===null||ba===void 0?void 0:ba.call(wn,ja,ma,ni))!==null&&Ea!==void 0?Ea:{},ca=ja;wn.render&&(ca=wn.render(ja,ma,ni));var Ma=1,oi=1;if(wn.getSpanRect){var ai=wn.getSpanRect(ja,ma,ni);Ma=ai==null?1:ai.right-Hn,oi=ai==null?1:ai.bottom-ni}else Ja.colSpan!=null&&(Ma=Ja.colSpan),Ja.rowSpan!=null&&(oi=Ja.rowSpan);oi=Math.min(oi,se.limit-ni),Ma=Math.min(Ma,Fn+Jr.rightIndex-Hn);var gi=Ma>1||oi>1;gi&&Wr.add(ni,Hn,Ma,oi);var ti={};return Hn<Fn?(ti.position="sticky",ti.left=Ue.stickyLeftMap.get(Hn)):Hn>=mn-Ur&&(ti.position="sticky",ti.right=Ue.stickyRightMap.get(Hn)),y.a.createElement("td",Object.assign(Object.assign(Object.assign(Object.assign({key:Hn},Ja),{className:D()(Ha.tableCell,Ja.className,{first:Hn===0,last:Hn+Ma===mn,"lock-left":Hn<Fn,"lock-right":Hn>=mn-Ur})}),gi?{colSpan:Ma,rowSpan:oi}:null),{style:Object.assign(Object.assign({textAlign:wn.align},Ja.style),ti)}),ca)}}var Hs=y.a.memo(function(){return y.a.createElement("svg",{style:{margin:"auto",display:"block",width:40,height:40},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid"},y.a.createElement("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"#23a7fa",strokeDasharray:"188 64",strokeLinecap:"round",strokeWidth:"10"},y.a.createElement("animateTransform",{attributeName:"transform",dur:"1.5s",keyTimes:"0;1",repeatCount:"indefinite",type:"rotate",values:"0 50 50;360 50 50"})))});function Yo(jt){var Gt=jt.children,Pt=jt.visible;return y.a.createElement("div",{className:"art-loading-content-wrapper",style:{filter:Pt?"blur(1px)":"none"}},Gt)}function ds(jt){var Gt=jt.visible,Pt=jt.children,Yt=jt.LoadingContentWrapper,_t=Yt===void 0?Yo:Yt,se=jt.LoadingIcon,Ue=se===void 0?Hs:se;return y.a.createElement("div",{className:Ha.loadingWrapper},Gt&&y.a.createElement("div",{className:Ha.loadingIndicatorWrapper},y.a.createElement("div",{className:Ha.loadingIndicator},y.a.createElement(Ue,null))),y.a.createElement(_t,{visible:Gt,children:Pt}))}var Yl=!1;function Qs(){Yl||(Yl=!0,console.warn("[ali-react-table] BaseTable props.emptyContent \u5DF2\u7ECF\u8FC7\u65F6\uFF0C\u8BF7\u4F7F\u7528 props.components.EmptyContent \u6765\u81EA\u5B9A\u4E49\u6570\u636E\u4E3A\u7A7A\u65F6\u7684\u8868\u683C\u8868\u73B0"))}var Pu=!1;function au(){Pu||(Pu=!0,console.warn("[ali-react-table] BaseTable v2.4 \u7248\u672C\u4E4B\u540E\u5DF2\u7ECF\u4E0D\u518D\u9700\u8981\u6307\u5B9A flowRoot"))}var io=function(jt){Object(g.default)(Pt,jt);var Gt=Object(p.default)(Pt);function Pt(Yt){var _t;return Object(f.default)(this,Pt),_t=Gt.call(this,Yt),_t.rowHeightManager=ml(_t.props.dataSource.length,_t.props.estimatedRowHeight),_t.artTableWrapperRef=y.a.createRef(),_t.rootSubscription=new X,_t.state={hasScroll:!0,needRenderLock:!0,offsetY:0,offsetX:0,maxRenderHeight:600,maxRenderWidth:800},_t}return Object(i.default)(Pt,[{key:"getDoms",value:function(){return console.warn("[ali-react-table] BaseTable.getDoms() \u5DF2\u7ECF\u8FC7\u65F6"),this.domHelper}},{key:"updateStickyScroll",value:function(){var _t=this.domHelper,se=_t.stickyScroll,Ue=_t.artTable,vr=_t.stickyScrollItem;if(!!Ue){var Jr=this.domHelper.getTableBodyHtmlTable(),Wr=Jr.offsetWidth,mn=Ue.offsetWidth,Fn=this.props.stickyScrollHeight,Ur=Fn==="auto"?No().height:Fn;se.style.marginTop="-".concat(Ur+1,"px"),mn>=Wr?this.state.hasScroll&&this.setState({hasScroll:!1}):!this.state.hasScroll&&Ur>5&&this.setState({hasScroll:!0}),vr.style.width="".concat(Wr,"px")}}},{key:"renderTableHeader",value:function(_t){var se=this.props,Ue=se.stickyTop,vr=se.hasHeader;return y.a.createElement("div",{className:D()(Ha.tableHeader,"no-scrollbar"),style:{top:Ue===0?void 0:Ue,display:vr?void 0:"none"}},y.a.createElement(Tu,{info:_t}))}},{key:"updateOffsetX",value:function(_t){this.lastInfo.useVirtual.horizontal&&Math.abs(_t-this.state.offsetX)>=De/2&&this.setState({offsetX:_t})}},{key:"syncHorizontalScrollFromTableBody",value:function(){this.syncHorizontalScroll(this.domHelper.tableBody.scrollLeft)}},{key:"syncHorizontalScroll",value:function(_t){this.updateOffsetX(_t);var se=this.domHelper.tableBody,Ue=this.lastInfo.flat,vr=this.domHelper.getLeftLockShadow();if(vr){var Jr=Ue.left.length>0&&this.state.needRenderLock&&_t>0;Jr?vr.classList.add("show-shadow"):vr.classList.remove("show-shadow")}var Wr=this.domHelper.getRightLockShadow();if(Wr){var mn=Ue.right.length>0&&this.state.needRenderLock&&_t<se.scrollWidth-se.clientWidth;mn?Wr.classList.add("show-shadow"):Wr.classList.remove("show-shadow")}}},{key:"getVerticalRenderRange",value:function(_t){var se=this.props.dataSource,Ue=this.state,vr=Ue.offsetY,Jr=Ue.maxRenderHeight,Wr=se.length;return _t.vertical?this.rowHeightManager.getRenderRange(vr,Jr,Wr):Vl(Wr)}},{key:"renderTableBody",value:function(_t){var se=this.props,Ue=se.dataSource,vr=se.getRowProps,Jr=se.primaryKey,Wr=se.isLoading,mn=se.emptyCellHeight,Fn=se.footerDataSource,Ur=D()(Ha.tableBody,Ha.horizontalScrollContainer,{"no-scrollbar":Fn.length>0});if(Ue.length===0){var ea=this.props,ri=ea.components,ma=ea.emptyContent,ni=ri.EmptyContent;return ni==null&&ma!=null&&(Qs(),ni=function(){return ma}),y.a.createElement("div",{className:Ur},y.a.createElement(pl,{descriptors:_t.visible,isLoading:Wr,EmptyContent:ni,emptyCellHeight:mn}))}var wn=_t.verticalRenderRange,Hn=wn.topIndex,ba=wn.bottomBlank,Ea=wn.topBlank,ja=wn.bottomIndex;return y.a.createElement("div",{className:Ur},Ea>0&&y.a.createElement("div",{key:"top-blank",className:D()(Ha.virtualBlank,"top"),style:{height:Ea}}),y.a.createElement(Xl,{tbodyHtmlTag:"tbody",getRowProps:vr,primaryKey:Jr,data:Ue.slice(Hn,ja),horizontalRenderInfo:_t,verticalRenderInfo:{first:0,offset:Hn,limit:ja,last:Ue.length-1}}),ba>0&&y.a.createElement("div",{key:"bottom-blank",className:D()(Ha.virtualBlank,"bottom"),style:{height:ba}}))}},{key:"renderTableFooter",value:function(_t){var se=this.props,Ue=se.footerDataSource,vr=Ue===void 0?[]:Ue,Jr=se.getRowProps,Wr=se.primaryKey,mn=se.stickyBottom;return y.a.createElement("div",{className:D()(Ha.tableFooter,Ha.horizontalScrollContainer),style:{bottom:mn===0?void 0:mn}},y.a.createElement(Xl,{tbodyHtmlTag:"tfoot",data:vr,horizontalRenderInfo:_t,getRowProps:Jr,primaryKey:Wr,verticalRenderInfo:{offset:0,first:0,last:vr.length-1,limit:Infinity}}))}},{key:"renderLockShadows",value:function(_t){return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:Ha.lockShadowMask,style:{left:0,width:_t.leftLockTotalWidth+Va}},y.a.createElement("div",{className:D()(Ha.lockShadow,Ha.leftLockShadow)})),y.a.createElement("div",{className:Ha.lockShadowMask,style:{right:0,width:_t.rightLockTotalWidth+Va}},y.a.createElement("div",{className:D()(Ha.lockShadow,Ha.rightLockShadow)})))}},{key:"renderStickyScroll",value:function(_t){var se=this.props,Ue=se.hasStickyScroll,vr=se.stickyBottom,Jr=this.state.hasScroll;return y.a.createElement("div",{className:D()(Ha.stickyScroll,Ha.horizontalScrollContainer),style:{display:Ue&&Jr?"block":"none",bottom:vr}},y.a.createElement("div",{className:Ha.stickyScrollItem}))}},{key:"render",value:function(){var _t=bc(this);this.lastInfo=_t;var se=this.props,Ue=se.dataSource,vr=se.className,Jr=se.style,Wr=se.hasHeader,mn=se.useOuterBorder,Fn=se.isStickyHead,Ur=se.isStickyHeader,ea=se.isStickyFooter,ri=se.isLoading,ma=se.footerDataSource,ni=se.components,wn=se.flowRoot;wn!=null&&au();var Hn=D()(Ha.artTableWrapper,{"use-outer-border":mn,empty:Ue.length===0,lock:_t.hasLockColumn,"has-header":Wr,"sticky-header":Ur!=null?Ur:Fn,"has-footer":ma.length>0,"sticky-footer":ea},vr),ba=Object(E.a)({className:Hn,style:Jr},ve,this.artTableWrapperRef);return y.a.createElement(du,Object.assign({},ba),y.a.createElement(ds,{visible:ri,LoadingIcon:ni.LoadingIcon,LoadingContentWrapper:ni.LoadingContentWrapper},y.a.createElement("div",{className:Ha.artTable},this.renderTableHeader(_t),this.renderTableBody(_t),this.renderTableFooter(_t),this.renderLockShadows(_t)),this.renderStickyScroll(_t)))}},{key:"componentDidMount",value:function(){this.updateDOMHelper(),this.props$=new tr(this.props),this.initSubscriptions(),this.didMountOrUpdate()}},{key:"componentDidUpdate",value:function(_t,se){this.updateDOMHelper(),this.props$.next(this.props),this.didMountOrUpdate(_t,se)}},{key:"didMountOrUpdate",value:function(_t,se){this.syncHorizontalScrollFromTableBody(),this.updateStickyScroll(),this.adjustNeedRenderLock(),this.updateRowHeightManager(),this.updateScrollLeftWhenLayoutChanged(_t,se)}},{key:"updateScrollLeftWhenLayoutChanged",value:function(_t,se){if(se!=null&&!se.hasScroll&&this.state.hasScroll&&(this.domHelper.stickyScroll.scrollLeft=0),_t!=null){var Ue=_t.footerDataSource.length>0,vr=this.props.footerDataSource.length>0;!Ue&&vr&&(this.domHelper.tableFooter.scrollLeft=this.domHelper.tableBody.scrollLeft)}}},{key:"initSubscriptions",value:function(){var _t=this,se=this.domHelper,Ue=se.tableHeader,vr=se.tableBody,Jr=se.tableFooter,Wr=se.stickyScroll;this.rootSubscription.add(ka.subscribe(function(){_t.updateStickyScroll(),_t.adjustNeedRenderLock()})),this.rootSubscription.add(ps([Ue,vr,Jr,Wr],function(Fn){_t.syncHorizontalScroll(Fn)}));var mn=rf(this.domHelper.artTable,this.props$.pipe(we(1),Gi("structure-may-change")),this.props.virtualDebugLabel).pipe(is());this.rootSubscription.add(he([mn.pipe(Rr(function(Fn){return Fn.clipRect}),ta(Ws)),this.props$.pipe(ua(null),As(),ru(function(Fn){var Ur=Object(x.default)(Fn,2),ea=Ur[0],ri=Ur[1];return ea==null||!ea.isLoading&&ri.isLoading}))]).subscribe(function(Fn){var Ur=Object(x.default)(Fn,1),ea=Ur[0],ri=_t.domHelper.getLoadingIndicator();if(!!ri){var ma=ea.bottom-ea.top;ri.style.top="".concat(ma/2,"px"),ri.style.marginTop="".concat(ma/2,"px")}})),this.rootSubscription.add(mn.pipe(ru(function(){var Fn=_t.lastInfo.useVirtual,Ur=Fn.horizontal,ea=Fn.vertical;return Ur||ea}),Rr(function(Fn){var Ur=Fn.clipRect,ea=Fn.offsetY;return{maxRenderHeight:Ur.bottom-Ur.top,maxRenderWidth:Ur.right-Ur.left,offsetY:ea}}),ta(function(Fn,Ur){return Math.abs(Fn.maxRenderWidth-Ur.maxRenderWidth)<De/2&&Math.abs(Fn.maxRenderHeight-Ur.maxRenderHeight)<De/2&&Math.abs(Fn.offsetY-Ur.offsetY)<De/2})).subscribe(function(Fn){_t.setState(Fn)}))}},{key:"componentWillUnmount",value:function(){this.rootSubscription.unsubscribe()}},{key:"updateDOMHelper",value:function(){this.domHelper=new Hl(this.artTableWrapperRef.current)}},{key:"updateRowHeightManager",value:function(){var _t,se=this.domHelper.getVirtualTop(),Ue=(_t=se==null?void 0:se.clientHeight)!==null&&_t!==void 0?_t:0,vr=0,Jr=-1,Wr=-1,mn=Object(M.a)(this.domHelper.getTableRows()),Fn;try{for(mn.s();!(Fn=mn.n()).done;){var Ur=Fn.value,ea=Number(Ur.dataset.rowindex);if(!isNaN(ea)){Jr=Math.max(Jr,ea);var ri=Ur.offsetTop+Ue,ma=Ur.offsetHeight;ma===0&&(vr+=1),Wr=Math.max(Wr,ri+ma),this.rowHeightManager.updateRow(ea,ri,ma)}}}catch(wn){mn.e(wn)}finally{mn.f()}if(Jr!==-1&&vr===0&&Wr<this.state.offsetY+this.state.maxRenderHeight){var ni=this.getVerticalRenderRange(this.lastInfo.useVirtual);ni.bottomIndex-1>Jr&&this.forceUpdate()}}},{key:"adjustNeedRenderLock",value:function(){var _t=this.state.needRenderLock,se=this.lastInfo,Ue=se.flat,vr=se.hasLockColumn;if(vr){var Jr=qr(Ue.full.map(function(mn){return mn.width})),Wr=Jr>this.domHelper.artTable.clientWidth;_t!==Wr&&this.setState({needRenderLock:Wr})}else _t&&this.setState({needRenderLock:!1})}}]),Pt}(y.a.Component);io.defaultProps={hasHeader:!0,isStickyHeader:!0,stickyTop:0,footerDataSource:[],isStickyFooter:!0,stickyBottom:0,hasStickyScroll:!0,stickyScrollHeight:"auto",useVirtual:"auto",estimatedRowHeight:48,isLoading:!1,components:{},getRowProps:Ke,dataSource:[]};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function bu(jt,Gt){var Pt={};for(var Yt in jt)Object.prototype.hasOwnProperty.call(jt,Yt)&&Gt.indexOf(Yt)<0&&(Pt[Yt]=jt[Yt]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _t=0,Yt=Object.getOwnPropertySymbols(jt);_t<Yt.length;_t++)Gt.indexOf(Yt[_t])<0&&Object.prototype.propertyIsEnumerable.call(jt,Yt[_t])&&(Pt[Yt[_t]]=jt[Yt[_t]]);return Pt}var Cc=dr.c.div(Vr||(Vr=A([`
  display: inline-flex;
  align-items: center;
`]))),iu=Object(dr.c)(Cc)(cn||(cn=A([`
  &.leaf {
    cursor: default;
  }

  .expansion-icon {
    fill: #999;
    flex: 0 0 16px;
    transition: transform 200ms;

    &.expanded {
      transform-origin: center center;
      transform: rotate(90deg);
    }
  }
`])));function Wu(jt){return y.a.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},jt),y.a.createElement("path",{d:"M24 12L16 22 8 12z"}))}function nf(jt){return y.a.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 16 16"},jt),y.a.createElement("path",{d:"M8.5 11L8.5 6.5 6.5 6.5 6.5 7.5 7.5 7.5 7.5 11 6 11 6 12 10 12 10 11zM8 3.5c-.4 0-.8.3-.8.8S7.6 5 8 5c.4 0 .8-.3.8-.8S8.4 3.5 8 3.5z"}),y.a.createElement("path",{d:"M8,15c-3.9,0-7-3.1-7-7s3.1-7,7-7s7,3.1,7,7S11.9,15,8,15z M8,2C4.7,2,2,4.7,2,8s2.7,6,6,6s6-2.7,6-6S11.3,2,8,2z"}))}function zu(jt){return y.a.createElement("svg",Object.assign({focusable:"false",preserveAspectRatio:"xMidYMid meet",fill:"currentColor",width:"16",height:"16",viewBox:"0 0 32 32"},jt),y.a.createElement("path",{d:"M12 8L22 16 12 24z"}))}function Eu(jt){return y.a.createElement("svg",Object.assign({width:"16",height:"16",fill:"currentColor",viewBox:"0 0 1024 1024"},jt),y.a.createElement("path",{d:"M512 74.667c-17.067 0-32 14.933-32 32V256c0 17.067 14.933 32 32 32s32-14.933 32-32V106.667c0-17.067-14.933-32-32-32zm181.333 288c8.534 0 17.067-2.134 23.467-8.534L821.333 249.6c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0L672 309.333c-12.8 12.8-12.8 32 0 44.8 4.267 6.4 12.8 8.534 21.333 8.534zm224 117.333H768c-17.067 0-32 14.933-32 32s14.933 32 32 32h149.333c17.067 0 32-14.933 32-32s-14.933-32-32-32zM714.667 669.867c-12.8-12.8-32-12.8-44.8 0s-12.8 32 0 44.8L774.4 819.2c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L714.667 669.867zM512 736c-17.067 0-32 14.933-32 32v149.333c0 17.067 14.933 32 32 32s32-14.933 32-32V768c0-17.067-14.933-32-32-32zm-202.667-66.133L204.8 774.4c-12.8 12.8-12.8 32 0 44.8 6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533l104.534-104.533c12.8-12.8 12.8-32 0-44.8s-36.267-12.8-46.934 0zM288 512c0-17.067-14.933-32-32-32H106.667c-17.067 0-32 14.933-32 32s14.933 32 32 32H256c17.067 0 32-14.933 32-32zm-40.533-309.333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8L307.2 352c6.4 6.4 14.933 8.533 23.467 8.533s17.066-2.133 23.466-8.533c12.8-12.8 12.8-32 0-44.8L247.467 202.667z"}))}var ku={Loading:Eu,CaretDown:Wu,CaretRight:zu,Info:nf},Iu=Symbol("treeMetaSymbol");function Kl(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(Pt){var Yt,_t,se,Ue,vr,Jr,Wr,mn,Fn,Ur="treeMode",ea=Pt.ctx,ri=Pt.ensurePrimaryKey("treeMode");if(typeof ri!="string")throw new Error("treeMode \u4EC5\u652F\u6301\u5B57\u7B26\u4E32\u4F5C\u4E3A primaryKey");var ma=(se=(_t=(Yt=jt.openKeys)!==null&&Yt!==void 0?Yt:Pt.getStateAtKey(Ur))!==null&&_t!==void 0?_t:jt.defaultOpenKeys)!==null&&se!==void 0?se:[],ni=new Set(ma),wn=function(di,Ga,ui){var Vi;(Vi=jt.onChangeOpenKeys)===null||Vi===void 0||Vi.call(jt,di,Ga,ui),Pt.setStateAtKey(Ur,di,{key:Ga,action:ui})},Hn=function(di){var Ga=ni.has(di);Ga?wn(ma.filter(function(ui){return ui!==di}),di,"collapse"):wn([].concat(Object(S.a)(ma),[di]),di,"expand")},ba=(Ue=jt.isLeafNode)!==null&&Ue!==void 0?Ue:ln,Ea=(vr=jt.clickArea)!==null&&vr!==void 0?vr:"cell",ja=(Jr=jt.treeMetaKey)!==null&&Jr!==void 0?Jr:Iu,Ja=Boolean(jt.stopClickEventPropagation),ca=ea.indents.iconWidth,Ma=(Wr=jt.iconIndent)!==null&&Wr!==void 0?Wr:ea.indents.iconIndent,oi=(mn=jt.iconGap)!==null&&mn!==void 0?mn:ea.indents.iconGap,ai=(Fn=jt.indentSize)!==null&&Fn!==void 0?Fn:ea.indents.indentSize;return Pt.mapDataSource(gi).mapColumns(ti);function gi(Pi){var di=[];Ga(Pi,0);function Ga(ui,Vi){if(ui!=null){var Ui=Object(M.a)(ui),uo;try{for(Ui.s();!(uo=Ui.n()).done;){var ho=uo.value,Ji=ho[ri],Fi=ni.has(Ji),us=ba(ho,{depth:Vi,expanded:Fi,rowKey:Ji}),jo={depth:Vi,isLeaf:us,expanded:Fi,rowKey:Ji};di.push(Object.assign(Object(E.a)({},ja,jo),ho)),!us&&Fi&&Ga(ho.children,Vi+1)}}catch(Js){Ui.e(Js)}finally{Ui.f()}}}return di}function ti(Pi){if(Pi.length===0)return Pi;var di=Object(O.a)(Pi),Ga=di[0],ui=di.slice(1),Vi=function(ho,Ji,Fi){var us=ce.safeRender(Ga,Ji,Fi);if(Ji[ja]==null)return us;var jo=Ji[ja],Js=jo.rowKey,Zl=jo.depth,Ol=jo.isLeaf,ou=jo.expanded,Vu=Ma+Zl*ai;if(Ol)return y.a.createElement(Cc,{className:"expansion-cell leaf"},y.a.createElement("span",{style:{marginLeft:Vu+ca+oi}},us));var of=function(Hu){Ja&&Hu.stopPropagation(),Hn(Js)},nl=ou?"expanded":"collapsed";return y.a.createElement(iu,{className:D()("expansion-cell",nl),style:{cursor:Ea==="content"?"pointer":void 0},onClick:Ea==="content"?of:void 0},y.a.createElement(ku.CaretRight,{className:D()("expansion-icon",nl),style:{cursor:Ea==="icon"?"pointer":void 0,marginLeft:Vu,marginRight:oi},onClick:Ea==="icon"?of:void 0}),us)},Ui=function(ho,Ji,Fi){var us=ce.safeGetCellProps(Ga,Ji,Fi);if(Ji[ja]==null)return us;var jo=Ji[ja],Js=jo.isLeaf,Zl=jo.rowKey;return Js?us:de(us,{onClick:function(ou){Ja&&ou.stopPropagation(),Hn(Zl)},style:{cursor:"pointer"}})};return[Object.assign(Object.assign({},Ga),{title:y.a.createElement("span",{style:{marginLeft:Ma+ca+oi}},ce.safeRenderHeader(Ga)),render:Vi,getCellProps:Ea==="cell"?Ui:Ga.getCellProps})].concat(Object(S.a)(ui))}}}var rl=function(){function jt(Gt){var Pt=Gt.state,Yt=Gt.setState,_t=Gt.ctx;Object(f.default)(this,jt),this._snapshots={},this._rowPropsGetters=[],this.ctx={components:{},indents:jt.defaultIndents},this.state=Pt,this.setState=Yt,Object.assign(this.ctx,_t)}return Object(i.default)(jt,[{key:"appendRowPropsGetter",value:function(Pt){return this._rowPropsGetters.push(Pt),this}},{key:"getDataSource",value:function(Pt){return Pt==null?this._dataSource:this._snapshots[Pt].dataSource}},{key:"getColumns",value:function(Pt){return Pt==null?this._columns:this._snapshots[Pt].columns}},{key:"getStateAtKey",value:function(Pt,Yt){var _t;return(_t=this.state[Pt])!==null&&_t!==void 0?_t:Yt}},{key:"setStateAtKey",value:function(Pt,Yt,_t){this.setState(function(se){return Object.assign(Object.assign({},se),Object(E.a)({},Pt,Yt))},Pt,Yt,_t)}},{key:"ensurePrimaryKey",value:function(Pt){if(this.ctx.primaryKey==null)throw new Error(Pt?"\u4F7F\u7528 ".concat(Pt," \u4E4B\u524D\u5FC5\u987B\u5148\u8BBE\u7F6E primaryKey"):"\u5FC5\u987B\u5148\u8BBE\u7F6E primaryKey");return this.ctx.primaryKey}},{key:"input",value:function(Pt){if(this._dataSource!=null||this._columns!=null)throw new Error("input \u4E0D\u80FD\u8C03\u7528\u4E24\u6B21");return this._dataSource=Pt.dataSource,this._columns=Pt.columns,this.snapshot("input"),this}},{key:"dataSource",value:function(Pt){return this._dataSource=Pt,this}},{key:"columns",value:function(Pt){return this._columns=Pt,this}},{key:"primaryKey",value:function(Pt){return this.ctx.primaryKey=Pt,this}},{key:"snapshot",value:function(Pt){return this._snapshots[Pt]={dataSource:this._dataSource,columns:this._columns,rowPropsGetters:this._rowPropsGetters.slice()},this}},{key:"useTransform",value:function(Pt){var Yt=Pt({dataSource:this.getDataSource(),columns:this.getColumns()});return this.dataSource(Yt.dataSource).columns(Yt.columns)}},{key:"use",value:function(Pt){return Pt(this)}},{key:"mapDataSource",value:function(Pt){return this.dataSource(Pt(this.getDataSource()))}},{key:"mapColumns",value:function(Pt){return this.columns(Pt(this.getColumns()))}},{key:"getProps",value:function(){var Pt=this,Yt={dataSource:this._dataSource,columns:this._columns};return this.ctx.primaryKey&&(Yt.primaryKey=this.ctx.primaryKey),this._rowPropsGetters.length>0&&(Yt.getRowProps=function(_t,se){return Pt._rowPropsGetters.reduce(function(Ue,vr){return de(Ue,vr(_t,se))},{})}),Yt}}]),jt}();rl.defaultIndents={iconIndent:-8,iconWidth:16,iconGap:0,indentSize:16};function Ou(jt){var Gt=Object(R.useState)({}),Pt=Object(x.default)(Gt,2),Yt=Pt[0],_t=Pt[1];return new rl({state:Yt,setState:_t,ctx:jt})}var bl;function Ms(jt){return jt.length===0?"key:@total@":"key:".concat(jt.join(" "))}function ju(jt,Gt){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Yt=Pt.encode,_t=Yt===void 0?Ms:Yt,se=Pt.totalValue,Ue=se===void 0?"\u603B\u8BA1":se,vr=Pt.includeTopWrapper,Jr=vr===void 0?!1:vr,Wr=Pt.isExpand,mn=Wr===void 0?za(!0):Wr,Fn=Pt.enforceExpandTotalNode,Ur=Fn===void 0?!0:Fn,ea=[],ri=_t(ea),ma,ni=!1;if(Gt.length===0?ma=[]:!Ur&&!mn(ri)?(ma=[],ni=jt.length>0):ma=Hn(jt,[]),Jr){var wn={key:ri,value:Ue,path:ea,children:ma};return ni&&(wn.hasChild=ni),[wn]}if(Jr)return[{key:ri,value:Ue,path:ea,children:ma}];return ma;function Hn(ba,Ea){for(var ja=Ea.length,Ja=[],ca=Gt[ja],Ma=Oi(ba,function(di){return di[ca]}),oi=0,ai=Object.keys(Ma);oi<ai.length;oi++){var gi=ai[oi];Ea.push(gi);var ti={key:_t(Ea),value:gi,path:Ea.slice()};Ja.push(ti);var Pi=Ma[gi];Pi.length>0&&ja<Gt.length-1&&(mn(ti.key)?ti.children=Hn(Pi,Ea):ti.hasChild=!0),Ea.pop()}return Ja}}function Ac(jt){return jt.length===1?jt[0]:{}}function $l(jt){var Gt=jt.data,Pt=jt.leftCodes,Yt=jt.topCodes,_t=jt.aggregate,se=_t===void 0?Ac:_t,Ue=jt.encode,vr=Ue===void 0?Ms:Ue,Jr=jt.isLeftExpand,Wr=Jr===void 0?za(!0):Jr,mn=jt.isTopExpand,Fn=mn===void 0?za(!0):mn,Ur=jt.prebuiltLeftTree,ea=jt.prebuiltTopTree,ri={peculiarity:new Set},ma=Ur!=null?Ur:ju(Gt,Pt,{encode:vr,includeTopWrapper:!0,isExpand:Wr}),ni=Object(x.default)(ma,1),wn=ni[0],Hn=ea!=null?ea:ju(Gt,Yt,{encode:vr,includeTopWrapper:!0,isExpand:Fn}),ba=Object(x.default)(Hn,1),Ea=ba[0],ja=Ja(ri,Gt,wn,0);return oi(ja);function Ja(ai,gi,ti,Pi){var di=null,Ga;if(ln(ti))Ga=ca(ai,gi,Ea,0);else{di=[];var ui=Pt[Pi],Vi=Oi(gi,function(Fi){return Fi[ui]});ai.peculiarity.add(ui);var Ui=Object(M.a)(ti.children),uo;try{for(Ui.s();!(uo=Ui.n()).done;){var ho=uo.value,Ji=Vi[ho.value];Ji&&di.push(Ja(ai,Ji,ho,Pi+1))}}catch(Fi){Ui.e(Fi)}finally{Ui.f()}ai.peculiarity.delete(ui),Ga=Ma(ai,di.map(function(Fi){return Fi.col}))}return{leftKey:ti.key,children:di,col:Ga}}function ca(ai,gi,ti,Pi){var di=null,Ga;if(ln(ti))Ga=se(gi,ai);else{di=[];var ui=Yt[Pi],Vi=Oi(gi,function(Fi){return Fi[ui]});ai.peculiarity.add(ui);var Ui=Object(M.a)(ti.children),uo;try{for(Ui.s();!(uo=Ui.n()).done;){var ho=uo.value,Ji=Vi[ho.value];Ji&&di.push(ca(ai,Ji,ho,Pi+1))}}catch(Fi){Ui.e(Fi)}finally{Ui.f()}ai.peculiarity.delete(ui),Ga=se(di.map(function(Fi){return Fi.record}),ai)}return{topKey:ti.key,topValue:ti.value,children:di,record:Ga}}function Ma(ai,gi){return ti(ai,gi,Ea,0);function ti(Pi,di,Ga,ui){var Vi=null,Ui=se(di.map(function(Fi){return Fi.record}),Pi);if(!ln(Ga)){var uo=Yt[ui];Pi.peculiarity.add(uo);var ho=Wa(Ga.children.map(function(Fi){return[Fi.value,Fi]})),Ji=di.map(function(Fi){return Wa(Fi.children.map(function(us){return[us.topValue,us]}))});Vi=Ga.children.map(function(Fi){var us=Ji.map(function(jo){return jo[Fi.value]}).filter(Boolean);return ti(Pi,us,ho[Fi.value],ui+1)}),Pi.peculiarity.delete(uo)}return{topKey:Ga.key,topValue:Ga.value,record:Ui,children:Vi}}}function oi(ai){var gi=new Map;return ti(gi,ai),gi;function ti(di,Ga){var ui=new Map;di.set(Ga.leftKey,ui),Pi(ui,Ga.col),ln(Ga)||Ga.children.forEach(function(Vi){ti(di,Vi)})}function Pi(di,Ga){di.set(Ga.topKey,Ga.record),ln(Ga)||Ga.children.forEach(function(ui){Pi(di,ui)})}}}function Sc(jt){var Gt=jt.codes,Pt=jt.encode,Yt=Pt===void 0?Ms:Pt,_t=jt.data,se=jt.aggregate,Ue=jt.isExpand,vr=$l({data:_t,leftCodes:[],topCodes:Gt,isTopExpand:Ue,aggregate:se,encode:Yt}),Jr=Yt([]);return vr.get(Jr)}var El=dr.c.span(bl||(bl=A([`
  display: inline-flex;
  align-items: center;
  padding: 2px 8px 2px 0;
  cursor: pointer;

  .icon {
    fill: #999;
    margin-right: 4px;

    &.expanded {
      transform-origin: center center;
      transform: rotate(90deg);
    }
  }
`])));function Mc(jt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Pt=Gt.indicators,Yt=Gt.encode,_t=Yt===void 0?Ms:Yt,se=Gt.generateSubtotalNode,Ue=Gt.enforceExpandTotalNode,vr=Ue===void 0?!0:Ue,Jr=Gt.expandKeys,Wr=Gt.onChangeExpandKeys,mn=Wr===void 0?Ke:Wr,Fn=Gt.supportsExpand,Ur=_t([]);if(Fn&&Jr==null)throw new Error("[ali-react-table] convertDrillTreeToCrossTree(...) \u8BBE\u7F6E supportsExpand=true \u65F6\uFF0CexpandKeys \u4E0D\u80FD\u4E3A null/undefined.");var ea=new Set(Jr);return ni(jt);function ri(wn,Hn){return Pt.map(function(ba){return Object.assign({key:_t(wn.path.concat([ba.code])),value:ba.name,data:Object.assign(Object.assign({},Hn),{indicator:ba})},ba)})}function ma(wn,Hn){return Pt!=null?{key:wn.key,value:wn.value,data:Hn,children:ri(wn,Hn)}:{key:wn.key,value:wn.value,data:Hn}}function ni(wn,Hn){var ba=[],Ea=Object(M.a)(wn),ja;try{var Ja=function(){var Ma=ja.value,oi={dataKey:Ma.key,dataPath:Ma.path};if(ln(Ma)&&!Ma.hasChild)ba.push(ma(Ma,oi));else{var ai=!0,gi={key:Ma.key,value:Ma.value,data:oi};if(!Fn||vr&&Ma.key===Ur?gi.children=ni(Ma.children):ea.has(Ma.key)?(gi.title=y.a.createElement(El,{onClick:function(){mn(Jr.filter(function(ho){return ho!==Ma.key}),Ma,"collapse")}},y.a.createElement(ku.CaretRight,{className:"icon expanded"}),Ma.value),gi.children=ni(Ma.children)):(ai=!1,gi.title=y.a.createElement(El,{onClick:function(){mn(Jr.concat([Ma.key]),Ma,"expand")}},y.a.createElement(ku.CaretRight,{className:"icon collapsed"}),Ma.value),Pt!=null&&(gi.children=ri(Ma,oi))),ai){var ti=se==null?void 0:se(Ma);if(ti){var Pi=ti.position,di=Pi===void 0?"start":Pi,Ga=ti.value,ui=Ma.path.concat([Ga]),Vi={key:_t(ui),path:ui,value:Ga},Ui=ma(Vi,oi);di==="start"?gi.children.unshift(Ui):gi.children.push(Ui)}}ba.push(gi)}};for(Ea.s();!(ja=Ea.n()).done;)Ja()}catch(ca){Ea.e(ca)}finally{Ea.f()}return ba}}var xu="rowKey";function Tc(jt){var Gt,Pt,Yt,_t,se,Ue,vr=jt.leftTotalNode,Jr=jt.topTotalNode,Wr=(Gt=jt.columnOffset)!==null&&Gt!==void 0?Gt:0,mn=(Pt=jt.rowOffset)!==null&&Pt!==void 0?Pt:0,Fn=Wr!==0||mn!==0,Ur=(Yt=jt.leftTree)!==null&&Yt!==void 0?Yt:[],ea=(_t=jt.topTree)!==null&&_t!==void 0?_t:[],ri=(se=jt.getValue)!==null&&se!==void 0?se:za(null),ma=(Ue=jt.leftMetaColumns)!==null&&Ue!==void 0?Ue:[],ni=Math.max(ma.length,ia(Ur)+1);return{columns:wn(),dataSource:Hn()};function wn(){return[].concat(Object(S.a)(ba()),Object(S.a)(Ea()));function ba(){for(var Ja,ca=[],Ma=0;Ma<ni;Ma++){var oi=(Ja=ma[Ma])!==null&&Ja!==void 0?Ja:{},ai=bu(oi,["getCellProps","render"]);ca.push(Object.assign(Object.assign({columnType:"left",lock:!0},ai),{getCellProps:gi(oi,Ma),getSpanRect:ti(oi,Ma),getValue:Pi(oi,Ma),render:di(oi,Ma)}))}return ca;function gi(Ga,ui){return function(Vi,Ui,uo){var ho,Ji=Ui.nodes[ui];return(ho=Ga.getCellProps)===null||ho===void 0?void 0:ho.call(Ga,Ji,ui)}}function ti(Ga,ui){return function(Vi,Ui){var uo=Ui.rects[ui];return Fn?{left:uo.left+Wr,right:uo.right+Wr,top:uo.top+mn,bottom:uo.bottom+mn}:uo}}function Pi(Ga,ui){return function(Vi,Ui){var uo=Vi.nodes[ui];return uo.value}}function di(Ga,ui){return function(Vi,Ui,uo){var ho,Ji=Ui.nodes[ui];return Ga.render?Ga.render(Ji,ui):(ho=Ji.title)!==null&&ho!==void 0?ho:Ji.value}}}function Ea(){if(ea.length>0)return Ja(ea,{valuePath:[],depth:0});return Jr?Ja([Jr],{valuePath:[],depth:0}):[];function Ja(ca,Ma){var oi=[],ai=Object(M.a)(ca),gi;try{for(ai.s();!(gi=ai.n()).done;){var ti=gi.value;if(Ma.valuePath.push(ti.value),ln(ti))oi.push(ja(ti,Ma.depth));else{var Pi=ti.key,di=ti.value,Ga=ti.children,ui=bu(ti,["key","value","children"]);oi.push(Object.assign(Object.assign({columnType:"data-parent"},ui),{name:di,children:Ja(Ga,{valuePath:Ma.valuePath,depth:Ma.depth+1})}))}Ma.valuePath.pop()}}catch(Vi){ai.e(Vi)}finally{ai.f()}return oi}}function ja(Ja,ca){var Ma=function(di){var Ga=di.nodes.length-1,ui=di.nodes[Ga];return ri(ui,Ja,Ga,ca)},oi=Ja.key,ai=Ja.value,gi=Ja.children,ti=bu(Ja,["key","value","children"]);return Object.assign(Object.assign({columnType:"data"},ti),{getValue:Ma,name:ai,children:null,render:function(di,Ga){if(jt.render){var ui=Ga.nodes.length-1,Vi=Ga.nodes[ui];return jt.render(di,Vi,Ja,ui,ca)}return di},getCellProps:function(di,Ga){if(jt.getCellProps){var ui=Ga.nodes.length-1,Vi=Ga.nodes[ui];return jt.getCellProps(di,Vi,Ja,ui,ca)}}})}}function Hn(){var ba=[],Ea={depth:0,nodes:[],rects:[],rowIndex:0};return Ur.length>0?ja(Ur,Ea):vr&&ja([vr],Ea),ba;function ja(Ja,ca){var Ma=0,oi=Object(M.a)(Ja),ai;try{for(oi.s();!(ai=oi.n()).done;){var gi,ti=ai.value;if(!ti.hidden){var Pi={top:ca.rowIndex+Ma,bottom:-1,left:ca.depth,right:-1},di=(gi={},Object(E.a)(gi,xu,ti.key),Object(E.a)(gi,"rects",[].concat(Object(S.a)(ca.rects),[Pi])),Object(E.a)(gi,"nodes",[].concat(Object(S.a)(ca.nodes),[ti])),gi);if(ln(ti))Pi.right=ni,Pi.bottom=Pi.top+1,ba.push(di),Ma+=1;else{ca.rects.push(Pi),ca.nodes.push(ti);var Ga=ja(ti.children,{nodes:ca.nodes,rects:ca.rects,depth:ca.depth+1,rowIndex:ca.rowIndex+Ma});ca.rects.pop(),ca.nodes.pop(),Ma+=Ga.count,Pi.right=Pi.left+1,Pi.bottom=Pi.top+Ga.count}}}}catch(ui){oi.e(ui)}finally{oi.f()}return{count:Ma}}}}function Ts(jt){var Gt=jt.BaseTableComponent,Pt=Gt===void 0?io:Gt,Yt=jt.leftTree,_t=jt.leftTotalNode,se=jt.topTree,Ue=jt.topTotalNode,vr=jt.getValue,Jr=jt.getCellProps,Wr=jt.leftMetaColumns,mn=jt.render,Fn=jt.baseTableRef,Ur=bu(jt,["BaseTableComponent","leftTree","leftTotalNode","topTree","topTotalNode","getValue","getCellProps","leftMetaColumns","render","baseTableRef"]),ea=Tc({leftTree:Yt,topTree:se,leftTotalNode:_t,topTotalNode:Ue,getValue:vr,getCellProps:Jr,render:mn,leftMetaColumns:Wr}),ri=ea.dataSource,ma=ea.columns;return y.a.createElement(Pt,Object.assign({ref:Fn},Ur,{primaryKey:xu,dataSource:ri,columns:ma}))}function Vf(jt){var Gt,Pt,Yt=jt.primaryColumn,_t=Yt===void 0?{name:""}:Yt,se=jt.openKeys,Ue=jt.onChangeOpenKeys,vr=jt.indentSize,Jr=jt.isLeafNode,Wr=Jr===void 0?ln:Jr,mn=(Gt=jt.leftTree)!==null&&Gt!==void 0?Gt:[],Fn=(Pt=jt.topTree)!==null&&Pt!==void 0?Pt:[],Ur=new rl({state:{},setState:Ke,ctx:{primaryKey:xu}});return Ur.input({dataSource:ri(),columns:ea()}),Ur.use(Kl({openKeys:se,onChangeOpenKeys:Ue,indentSize:vr,isLeafNode:function(ni,wn){return Wr(ni.node,wn)}})),{dataSource:Ur.getDataSource(),columns:Ur.getColumns()};function ea(){return[Object.assign(Object.assign({},_t),{getValue:function(Hn){return Hn.node.value},getCellProps:function(Hn,ba){if(_t.getCellProps)return _t.getCellProps(ba.node,ba.nodes.length-1)},render:function(Hn,ba){return _t.render?_t.render(ba.node,ba.nodes.length-1):Hn}})].concat(Object(S.a)(ma()));function ma(){return wn(Fn,{depth:0});function wn(Hn,ba){var Ea=[],ja=Object(M.a)(Hn),Ja;try{for(ja.s();!(Ja=ja.n()).done;){var ca=Ja.value;if(ln(ca))Ea.push(ni(ca,ba.depth));else{var Ma=ca.key,oi=ca.value,ai=ca.children,gi=bu(ca,["key","value","children"]);Ea.push(Object.assign(Object.assign({},gi),{name:oi,children:wn(ai,{depth:ba.depth+1})}))}}}catch(ti){ja.e(ti)}finally{ja.f()}return Ea}}function ni(wn,Hn){var ba=function(oi){var ai=oi.nodes.length-1,gi=oi.node;return jt.getValue?jt.getValue(gi,wn,ai,Hn):null},Ea=wn.key,ja=wn.value,Ja=wn.children,ca=bu(wn,["key","value","children"]);return Object.assign(Object.assign({},ca),{getValue:ba,name:ja,children:null,render:function(oi,ai){if(jt.render){var gi=ai.nodes.length-1,ti=ai.node;return jt.render(oi,ti,wn,gi,Hn)}return oi},getCellProps:function(oi,ai){if(jt.getCellProps){var gi=ai.nodes.length-1,ti=ai.node;return jt.getCellProps(oi,ti,wn,gi,Hn)}}})}}function ri(){return ma(mn,{nodes:[]});function ma(ni,wn){var Hn=[],ba=Object(M.a)(ni),Ea;try{for(ba.s();!(Ea=ba.n()).done;){var ja=Ea.value;if(!ja.hidden)if(ln(ja)){var Ja;Hn.push((Ja={},Object(E.a)(Ja,xu,ja.key),Object(E.a)(Ja,"node",ja),Object(E.a)(Ja,"nodes",[].concat(Object(S.a)(wn.nodes),[ja])),Ja))}else{var ca,Ma=[].concat(Object(S.a)(wn.nodes),[ja]);wn.nodes.push(ja);var oi=ma(ja.children,wn);Hn.push((ca={},Object(E.a)(ca,xu,ja.key),Object(E.a)(ca,"node",ja),Object(E.a)(ca,"nodes",Ma),Object(E.a)(ca,"children",oi),ca)),wn.nodes.pop()}}}catch(ai){ba.e(ai)}finally{ba.f()}return Hn}}}var af=function(jt){Object(g.default)(Pt,jt);var Gt=Object(p.default)(Pt);function Pt(Yt){var _t;return Object(f.default)(this,Pt),_t=Gt.call(this,Yt),_t.onChangeOpenKeys=function(se){_t.props.onChangeOpenKeys(se),"openKeys"in _t.props||_t.setState({openKeys:se})},_t.state={openKeys:Yt.defaultOpenKeys},_t}return Object(i.default)(Pt,[{key:"render",value:function(){var _t=this.props,se=_t.BaseTableComponent,Ue=se===void 0?io:se,vr=_t.leftTree,Jr=_t.topTree,Wr=_t.getValue,mn=_t.getCellProps,Fn=_t.primaryColumn,Ur=_t.render,ea=_t.openKeys,ri=_t.defaultOpenKeys,ma=_t.onChangeOpenKeys,ni=_t.indentSize,wn=_t.isLeafNode,Hn=_t.baseTableRef,ba=bu(_t,["BaseTableComponent","leftTree","topTree","getValue","getCellProps","primaryColumn","render","openKeys","defaultOpenKeys","onChangeOpenKeys","indentSize","isLeafNode","baseTableRef"]),Ea=ea!=null?ea:this.state.openKeys,ja=Vf({leftTree:vr,topTree:Jr,getValue:Wr,getCellProps:mn,render:Ur,primaryColumn:Fn,openKeys:Ea,onChangeOpenKeys:this.onChangeOpenKeys,indentSize:ni,isLeafNode:wn}),Ja=ja.dataSource,ca=ja.columns;return y.a.createElement(Ue,Object.assign({ref:Hn},ba,{primaryKey:xu,dataSource:Ja,columns:ca}))}}],[{key:"getDerivedStateFromProps",value:function(_t){return"openKeys"in _t?{openKeys:_t.openKeys}:null}}]),Pt}(y.a.Component);af.defaultProps={defaultOpenKeys:[],onChangeOpenKeys:Ke}},mI1Z:function(Ft,I,a){"use strict";a.d(I,"b",function(){return M}),a.d(I,"a",function(){return x});var f=a("mrSG"),i=a("iTfj"),g=a("YuPD"),p=a("w02o"),E=a("u9/z"),S=a("w+x+");function A(O){var C=O.chart,D=O.options,R=D.innerRadius,y=D.radius;return C.coordinate("theta",{innerRadius:R,radius:y}),O}function M(O,C){var D=O.chart,R=O.options,y=R.innerRadius,w=R.statistic,N=R.percent,z=R.meta;if(D.getController("annotation").clear(!0),y&&w){var V=w.content;V&&!V.formatter&&(V.formatter=function(B){var P=B.percent,T=Object(i.s)(z,[S.e,"formatter"]);return T?T(P):P}),Object(g.s)(D,{statistic:Object(f.a)(Object(f.a)({},w),{content:V}),plotType:"ring-progress"},{percent:N})}return C&&D.render(!0),O}function x(O){return Object(g.e)(E.b,Object(p.f)({}),A,M,p.a,p.j,Object(p.b)())(O)}},mNvP:function(Ft,I,a){(function(f,i){/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var g;(function(p){(function(E){var S=typeof i=="object"?i:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),A=M(p);typeof S.Reflect=="undefined"?S.Reflect=p:A=M(S.Reflect,A),E(A);function M(x,O){return function(C,D){typeof x[C]!="function"&&Object.defineProperty(x,C,{configurable:!0,writable:!0,value:D}),O&&O(C,D)}}})(function(E){var S=Object.prototype.hasOwnProperty,A=typeof Symbol=="function",M=A&&typeof Symbol.toPrimitive!="undefined"?Symbol.toPrimitive:"@@toPrimitive",x=A&&typeof Symbol.iterator!="undefined"?Symbol.iterator:"@@iterator",O=typeof Object.create=="function",C={__proto__:[]}instanceof Array,D=!O&&!C,R={create:O?function(){return Vt(Object.create(null))}:C?function(){return Vt({__proto__:null})}:function(){return Vt({})},has:D?function(Lt,Nt){return S.call(Lt,Nt)}:function(Lt,Nt){return Nt in Lt},get:D?function(Lt,Nt){return S.call(Lt,Nt)?Lt[Nt]:void 0}:function(Lt,Nt){return Lt[Nt]}},y=Object.getPrototypeOf(Function),w=typeof f=="object"&&Object({NODE_ENV:"production"})&&Object({NODE_ENV:"production"}).REFLECT_METADATA_USE_MAP_POLYFILL==="true",N=!w&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Tt(),z=!w&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:ct(),V=!w&&typeof WeakMap=="function"?WeakMap:St(),B=new V;function P(Lt,Nt,Zt,oe){if(ut(Zt)){if(!H(Lt))throw new TypeError;if(!Ot(Nt))throw new TypeError;return q(Lt,Nt)}else{if(!H(Lt))throw new TypeError;if(!vt(Nt))throw new TypeError;if(!vt(oe)&&!ut(oe)&&!ft(oe))throw new TypeError;return ft(oe)&&(oe=void 0),Zt=dt(Zt),at(Lt,Nt,Zt,oe)}}E("decorate",P);function T(Lt,Nt){function Zt(oe,ue){if(!vt(oe))throw new TypeError;if(!ut(ue)&&!Rt(ue))throw new TypeError;Ht(Lt,Nt,oe,ue)}return Zt}E("metadata",T);function W(Lt,Nt,Zt,oe){if(!vt(Zt))throw new TypeError;return ut(oe)||(oe=dt(oe)),Ht(Lt,Nt,Zt,oe)}E("defineMetadata",W);function Q(Lt,Nt,Zt){if(!vt(Nt))throw new TypeError;return ut(Zt)||(Zt=dt(Zt)),mt(Lt,Nt,Zt)}E("hasMetadata",Q);function nt(Lt,Nt,Zt){if(!vt(Nt))throw new TypeError;return ut(Zt)||(Zt=dt(Zt)),ot(Lt,Nt,Zt)}E("hasOwnMetadata",nt);function st(Lt,Nt,Zt){if(!vt(Nt))throw new TypeError;return ut(Zt)||(Zt=dt(Zt)),xt(Lt,Nt,Zt)}E("getMetadata",st);function et(Lt,Nt,Zt){if(!vt(Nt))throw new TypeError;return ut(Zt)||(Zt=dt(Zt)),It(Lt,Nt,Zt)}E("getOwnMetadata",et);function _(Lt,Nt){if(!vt(Lt))throw new TypeError;return ut(Nt)||(Nt=dt(Nt)),Qt(Lt,Nt)}E("getMetadataKeys",_);function Y(Lt,Nt){if(!vt(Lt))throw new TypeError;return ut(Nt)||(Nt=dt(Nt)),$t(Lt,Nt)}E("getOwnMetadataKeys",Y);function $(Lt,Nt,Zt){if(!vt(Nt))throw new TypeError;ut(Zt)||(Zt=dt(Zt));var oe=pt(Nt,Zt,!1);if(ut(oe)||!oe.delete(Lt))return!1;if(oe.size>0)return!0;var ue=B.get(Nt);return ue.delete(Zt),ue.size>0||B.delete(Nt),!0}E("deleteMetadata",$);function q(Lt,Nt){for(var Zt=Lt.length-1;Zt>=0;--Zt){var oe=Lt[Zt],ue=oe(Nt);if(!ut(ue)&&!ft(ue)){if(!Ot(ue))throw new TypeError;Nt=ue}}return Nt}function at(Lt,Nt,Zt,oe){for(var ue=Lt.length-1;ue>=0;--ue){var Ee=Lt[ue],Te=Ee(Nt,Zt,oe);if(!ut(Te)&&!ft(Te)){if(!vt(Te))throw new TypeError;oe=Te}}return oe}function pt(Lt,Nt,Zt){var oe=B.get(Lt);if(ut(oe)){if(!Zt)return;oe=new N,B.set(Lt,oe)}var ue=oe.get(Nt);if(ut(ue)){if(!Zt)return;ue=new N,oe.set(Nt,ue)}return ue}function mt(Lt,Nt,Zt){var oe=ot(Lt,Nt,Zt);if(oe)return!0;var ue=Et(Nt);return ft(ue)?!1:mt(Lt,ue,Zt)}function ot(Lt,Nt,Zt){var oe=pt(Nt,Zt,!1);return ut(oe)?!1:Z(oe.has(Lt))}function xt(Lt,Nt,Zt){var oe=ot(Lt,Nt,Zt);if(oe)return It(Lt,Nt,Zt);var ue=Et(Nt);if(!ft(ue))return xt(Lt,ue,Zt)}function It(Lt,Nt,Zt){var oe=pt(Nt,Zt,!1);if(!ut(oe))return oe.get(Lt)}function Ht(Lt,Nt,Zt,oe){var ue=pt(Zt,oe,!0);ue.set(Lt,Nt)}function Qt(Lt,Nt){var Zt=$t(Lt,Nt),oe=Et(Lt);if(oe===null)return Zt;var ue=Qt(oe,Nt);if(ue.length<=0)return Zt;if(Zt.length<=0)return ue;for(var Ee=new z,Te=[],Se=0,$e=Zt;Se<$e.length;Se++){var cr=$e[Se],He=Ee.has(cr);He||(Ee.add(cr),Te.push(cr))}for(var _e=0,ur=ue;_e<ur.length;_e++){var cr=ur[_e],He=Ee.has(cr);He||(Ee.add(cr),Te.push(cr))}return Te}function $t(Lt,Nt){var Zt=[],oe=pt(Lt,Nt,!1);if(ut(oe))return Zt;for(var ue=oe.keys(),Ee=Bt(ue),Te=0;;){var Se=J(Ee);if(!Se)return Zt.length=Te,Zt;var $e=tt(Se);try{Zt[Te]=$e}catch(cr){try{G(Ee)}finally{throw cr}}Te++}}function yt(Lt){if(Lt===null)return 1;switch(typeof Lt){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Lt===null?1:6;default:return 6}}function ut(Lt){return Lt===void 0}function ft(Lt){return Lt===null}function it(Lt){return typeof Lt=="symbol"}function vt(Lt){return typeof Lt=="object"?Lt!==null:typeof Lt=="function"}function Wt(Lt,Nt){switch(yt(Lt)){case 0:return Lt;case 1:return Lt;case 2:return Lt;case 3:return Lt;case 4:return Lt;case 5:return Lt}var Zt=Nt===3?"string":Nt===5?"number":"default",oe=zt(Lt,M);if(oe!==void 0){var ue=oe.call(Lt,Zt);if(vt(ue))throw new TypeError;return ue}return Ct(Lt,Zt==="default"?"number":Zt)}function Ct(Lt,Nt){if(Nt==="string"){var Zt=Lt.toString;if(lt(Zt)){var oe=Zt.call(Lt);if(!vt(oe))return oe}var ue=Lt.valueOf;if(lt(ue)){var oe=ue.call(Lt);if(!vt(oe))return oe}}else{var ue=Lt.valueOf;if(lt(ue)){var oe=ue.call(Lt);if(!vt(oe))return oe}var Ee=Lt.toString;if(lt(Ee)){var oe=Ee.call(Lt);if(!vt(oe))return oe}}throw new TypeError}function Z(Lt){return!!Lt}function X(Lt){return""+Lt}function dt(Lt){var Nt=Wt(Lt,3);return it(Nt)?Nt:X(Nt)}function H(Lt){return Array.isArray?Array.isArray(Lt):Lt instanceof Object?Lt instanceof Array:Object.prototype.toString.call(Lt)==="[object Array]"}function lt(Lt){return typeof Lt=="function"}function Ot(Lt){return typeof Lt=="function"}function Rt(Lt){switch(yt(Lt)){case 3:return!0;case 4:return!0;default:return!1}}function zt(Lt,Nt){var Zt=Lt[Nt];if(Zt!=null){if(!lt(Zt))throw new TypeError;return Zt}}function Bt(Lt){var Nt=zt(Lt,x);if(!lt(Nt))throw new TypeError;var Zt=Nt.call(Lt);if(!vt(Zt))throw new TypeError;return Zt}function tt(Lt){return Lt.value}function J(Lt){var Nt=Lt.next();return Nt.done?!1:Nt}function G(Lt){var Nt=Lt.return;Nt&&Nt.call(Lt)}function Et(Lt){var Nt=Object.getPrototypeOf(Lt);if(typeof Lt!="function"||Lt===y||Nt!==y)return Nt;var Zt=Lt.prototype,oe=Zt&&Object.getPrototypeOf(Zt);if(oe==null||oe===Object.prototype)return Nt;var ue=oe.constructor;return typeof ue!="function"||ue===Lt?Nt:ue}function Tt(){var Lt={},Nt=[],Zt=function(){function Te(Se,$e,cr){this._index=0,this._keys=Se,this._values=$e,this._selector=cr}return Te.prototype["@@iterator"]=function(){return this},Te.prototype[x]=function(){return this},Te.prototype.next=function(){var Se=this._index;if(Se>=0&&Se<this._keys.length){var $e=this._selector(this._keys[Se],this._values[Se]);return Se+1>=this._keys.length?(this._index=-1,this._keys=Nt,this._values=Nt):this._index++,{value:$e,done:!1}}return{value:void 0,done:!0}},Te.prototype.throw=function(Se){throw this._index>=0&&(this._index=-1,this._keys=Nt,this._values=Nt),Se},Te.prototype.return=function(Se){return this._index>=0&&(this._index=-1,this._keys=Nt,this._values=Nt),{value:Se,done:!0}},Te}();return function(){function Te(){this._keys=[],this._values=[],this._cacheKey=Lt,this._cacheIndex=-2}return Object.defineProperty(Te.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Te.prototype.has=function(Se){return this._find(Se,!1)>=0},Te.prototype.get=function(Se){var $e=this._find(Se,!1);return $e>=0?this._values[$e]:void 0},Te.prototype.set=function(Se,$e){var cr=this._find(Se,!0);return this._values[cr]=$e,this},Te.prototype.delete=function(Se){var $e=this._find(Se,!1);if($e>=0){for(var cr=this._keys.length,He=$e+1;He<cr;He++)this._keys[He-1]=this._keys[He],this._values[He-1]=this._values[He];return this._keys.length--,this._values.length--,Se===this._cacheKey&&(this._cacheKey=Lt,this._cacheIndex=-2),!0}return!1},Te.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Lt,this._cacheIndex=-2},Te.prototype.keys=function(){return new Zt(this._keys,this._values,oe)},Te.prototype.values=function(){return new Zt(this._keys,this._values,ue)},Te.prototype.entries=function(){return new Zt(this._keys,this._values,Ee)},Te.prototype["@@iterator"]=function(){return this.entries()},Te.prototype[x]=function(){return this.entries()},Te.prototype._find=function(Se,$e){return this._cacheKey!==Se&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=Se)),this._cacheIndex<0&&$e&&(this._cacheIndex=this._keys.length,this._keys.push(Se),this._values.push(void 0)),this._cacheIndex},Te}();function oe(Te,Se){return Te}function ue(Te,Se){return Se}function Ee(Te,Se){return[Te,Se]}}function ct(){return function(){function Lt(){this._map=new N}return Object.defineProperty(Lt.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Lt.prototype.has=function(Nt){return this._map.has(Nt)},Lt.prototype.add=function(Nt){return this._map.set(Nt,Nt),this},Lt.prototype.delete=function(Nt){return this._map.delete(Nt)},Lt.prototype.clear=function(){this._map.clear()},Lt.prototype.keys=function(){return this._map.keys()},Lt.prototype.values=function(){return this._map.values()},Lt.prototype.entries=function(){return this._map.entries()},Lt.prototype["@@iterator"]=function(){return this.keys()},Lt.prototype[x]=function(){return this.keys()},Lt}()}function St(){var Lt=16,Nt=R.create(),Zt=oe();return function(){function $e(){this._key=oe()}return $e.prototype.has=function(cr){var He=ue(cr,!1);return He!==void 0?R.has(He,this._key):!1},$e.prototype.get=function(cr){var He=ue(cr,!1);return He!==void 0?R.get(He,this._key):void 0},$e.prototype.set=function(cr,He){var _e=ue(cr,!0);return _e[this._key]=He,this},$e.prototype.delete=function(cr){var He=ue(cr,!1);return He!==void 0?delete He[this._key]:!1},$e.prototype.clear=function(){this._key=oe()},$e}();function oe(){var $e;do $e="@@WeakMap@@"+Se();while(R.has(Nt,$e));return Nt[$e]=!0,$e}function ue($e,cr){if(!S.call($e,Zt)){if(!cr)return;Object.defineProperty($e,Zt,{value:R.create()})}return $e[Zt]}function Ee($e,cr){for(var He=0;He<cr;++He)$e[He]=Math.random()*255|0;return $e}function Te($e){return typeof Uint8Array=="function"?typeof crypto!="undefined"?crypto.getRandomValues(new Uint8Array($e)):typeof msCrypto!="undefined"?msCrypto.getRandomValues(new Uint8Array($e)):Ee(new Uint8Array($e),$e):Ee(new Array($e),$e)}function Se(){var $e=Te(Lt);$e[6]=$e[6]&79|64,$e[8]=$e[8]&191|128;for(var cr="",He=0;He<Lt;++He){var _e=$e[He];(He===4||He===6||He===8)&&(cr+="-"),_e<16&&(cr+="0"),cr+=_e.toString(16).toLowerCase()}return cr}}function Vt(Lt){return Lt.__=void 0,delete Lt.__,Lt}})})(g||(g={}))}).call(this,a("Q2Ig"),a("IyRk"))},mNz5:function(Ft,I,a){var f=a("dt0z"),i=0;function g(p){var E=++i;return f(p)+E}Ft.exports=g},mTTR:function(Ft,I,a){var f=a("b80T"),i=a("QcOe"),g=a("MMmD");function p(E){return g(E)?f(E,!0):i(E)}Ft.exports=p},mUg4:function(Ft,I,a){var f=a("cq/+"),i=a("EwQA"),g=a("mTTR");function p(E,S){return E==null?E:f(E,i(S),g)}Ft.exports=p},"ma/q":function(Ft,I,a){"use strict";a.d(I,"adaptors",function(){return ut});var f=a("kXyF");a.d(I,"G2",function(){return f});var i=a("zJSt"),g=a("Djfg"),p=a("XloR");a.d(I,"Line",function(){return p.a});var E=a("uw/B");a.d(I,"Area",function(){return E.a});var S=a("u9VJ");a.d(I,"Column",function(){return S.a});var A=a("Y+LX");a.d(I,"Bar",function(){return A.a});var M=a("Cr25");a.d(I,"Pie",function(){return M.a});var x=a("z4Vf");a.d(I,"Rose",function(){return x.a});var O=a("Mj7Y");a.d(I,"WordCloud",function(){return O.a});var C=a("tE4n");a.d(I,"Scatter",function(){return C.a});var D=a("y753");a.d(I,"Radar",function(){return D.a});var R=a("yqCL");a.d(I,"DualAxes",function(){return R.a});var y=a("mttH");a.d(I,"TinyLine",function(){return y.a});var w=a("027J");a.d(I,"TinyColumn",function(){return w.a});var N=a("05BJ");a.d(I,"TinyArea",function(){return N.a});var z=a("BwSJ");a.d(I,"Histogram",function(){return z.a});var V=a("kwiP");a.d(I,"Progress",function(){return V.a});var B=a("YP77");a.d(I,"RingProgress",function(){return B.a});var P=a("+wVF");a.d(I,"Heatmap",function(){return P.a});var T=a("lr9b");a.d(I,"Box",function(){return T.a});var W=a("/+3i");a.d(I,"Stock",function(){return W.a});var Q=a("aLzy");a.d(I,"Funnel",function(){return Q.a});var nt=a("FAXy");a.d(I,"Liquid",function(){return nt.a});var st=a("BYeR");a.d(I,"Bullet",function(){return st.a});var et=a("cBFB");a.d(I,"Sunburst",function(){return et.a});var _=a("XpFM");a.d(I,"Gauge",function(){return _.a});var Y=a("FLLP");a.d(I,"Waterfall",function(){return Y.a});var $=a("TEat");a.d(I,"RadialBar",function(){return $.a});var q=a("7ZbV");a.d(I,"BidirectionalBar",function(){return q.a});var at=a("eHqw");a.d(I,"Treemap",function(){return at.a});var pt=a("rtSP");a.d(I,"Sankey",function(){return pt.a});var mt=a("Uo7R");a.d(I,"Chord",function(){return mt.a});var ot=a("7+4w"),xt=a("QG4C");a.d(I,"MultiView",function(){return xt.a});var It=a("YuPD");a.d(I,"flow",function(){return It.e}),a.d(I,"measureTextWidth",function(){return It.o});var Ht=a("tKoa"),Qt=a("w02o"),$t=a("46lQ"),yt="2.3.19",ut={scale:Qt.f,legend:Qt.d,tooltip:Qt.k,annotation:Qt.b,interaction:Qt.c,theme:Qt.j,animation:Qt.a}},mc0g:function(Ft,I){function a(f){return function(i,g,p){for(var E=-1,S=Object(i),A=p(i),M=A.length;M--;){var x=A[f?M:++E];if(g(S[x],x,S)===!1)break}return i}}Ft.exports=a},mgjb:function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("w02o"),i=a("YuPD"),g=a("tKoa"),p=a("7cv3"),E=a("lFe4"),S=a("hYLx");a.d(I,"b",function(){return S.b});function A(x){var O=x.chart,C=x.options,D=C.data,R=C.color,y=C.columnStyle,w=C.columnWidthRatio,N=Object(E.a)(D);O.data(N);var z=Object(i.b)({},x,{options:{xField:p.c,yField:p.d,widthRatio:w,interval:{style:y,color:R}}});return Object(g.c)(z),O.axis(!1),O.legend(!1),O.interaction("element-active"),x}function M(x){return Object(i.e)(A,S.b,f.k,f.j,f.a,Object(f.b)())(x)}},mj6g:function(Ft,I,a){"use strict";a.d(I,"b",function(){return S}),a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("iTfj"),g=a("YuPD");function p(M){var x={overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis",display:"flex",justifyContent:"center",alignItems:"center"},O=["stroke","lineWidth","shadowColor","strokeOpacity","shadowBlur","shadowOffsetX","shadowOffsetY","fill"];Object(i.s)(M,"fill")&&(x.color=M.fill);var C=Object(g.p)(M,O),D=C.shadowColor,R=C.shadowBlur,y=R===void 0?0:R,w=C.shadowOffsetX,N=w===void 0?0:w,z=C.shadowOffsetY,V=z===void 0?0:z;x["text-shadow"]=""+[D,N+"px",V+"px",y+"px"].join(" ");var B=Object(g.p)(M,O),P=B.stroke,T=B.lineWidth,W=T===void 0?0:T;return x["-webkit-text-stroke"]=""+[W+"px",P].join(" "),Object(i.j)(M,function(Q,nt){["fontSize"].includes(nt)&&Object(i.K)(Q)?x[Object(g.m)(nt)]=Q+"px":nt&&!O.includes(nt)&&(x[Object(g.m)(nt)]=""+Q)}),x}function E(M,x){M.style["pointer-events"]="none",Object(i.j)(x,function(O,C){C&&O&&(M.style[C]=O)})}var S=function(x,O,C){var D=O.statistic,R=O.plotType,y=D.title,w=D.content;[y,w].forEach(function(N,z){if(!!N){var V="",B="";z===0?B=w?"translate(-50%, -100%)":"translate(-50%, -50%)":B=y?"translate(-50%, 0)":"translate(-50%, -50%)";var P=Object(i.H)(N.style)?N.style(C):N.style;x.annotation().html(Object(f.a)({position:["50%","50%"],html:function(W,Q){var nt=Q.getCoordinate(),st=0;if(R==="pie"||R==="ring-progress")st=nt.getRadius()*nt.innerRadius*2;else if(R==="liquid"){var et=Object(i.s)(Q.geometries,[0,"elements",0,"shape"]);if(et){var _=et.find(function(q){return q.get("name")==="wrap"}),Y=_.getCanvasBBox().width;st=Y}}else st||(st=nt.getWidth());E(W,Object(f.a)({width:st+"px",transform:B},p(P)));var $=Q.getData();return N.customHtml?N.customHtml(W,Q,C,$):(N.formatter&&(V=N.formatter(C,$)),V?Object(i.O)(V)?V:""+V:"<div></div>")},key:(z===0?"top":"bottom")+"-statistic"},Object(g.p)(N,["offsetX","offsetY","rotate","style","formatter"])))}})},A=function(x,O,C){var D=O.statistic,R=D.title,y=D.content;[R,y].forEach(function(w){if(!!w){var N="",z=Object(i.H)(w.style)?w.style(C):w.style;x.annotation().html(Object(f.a)({position:["50%","100%"],html:function(B,P){var T=P.getCoordinate(),W=P.views[0].getCoordinate(),Q=W.getCenter(),nt=W.getRadius(),st=Math.max(Math.sin(W.startAngle),Math.sin(W.endAngle))*nt,et=Q.y+st-T.y.start-parseFloat(Object(i.s)(z,"fontSize",0)),_=T.getRadius()*T.innerRadius*2;E(B,Object(f.a)({width:_+"px",transform:"translate(-50%, "+et+"px)"},p(z)));var Y=P.getData();return w.customHtml?w.customHtml(B,P,C,Y):(w.formatter&&(N=w.formatter(C,Y)),N?Object(i.O)(N)?N:""+N:"<div></div>")}},Object(g.p)(w,["offsetX","offsetY","rotate","style","formatter"])))}})}},mrSG:function(Ft,I,a){"use strict";a.d(I,"c",function(){return i}),a.d(I,"a",function(){return g}),a.d(I,"e",function(){return p}),a.d(I,"b",function(){return M}),a.d(I,"d",function(){return x}),a.d(I,"g",function(){return w}),a.d(I,"f",function(){return N});/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var f=function(Y,$){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,at){q.__proto__=at}||function(q,at){for(var pt in at)Object.prototype.hasOwnProperty.call(at,pt)&&(q[pt]=at[pt])},f(Y,$)};function i(_,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");f(_,Y);function $(){this.constructor=_}_.prototype=Y===null?Object.create(Y):($.prototype=Y.prototype,new $)}var g=function(){return g=Object.assign||function($){for(var q,at=1,pt=arguments.length;at<pt;at++){q=arguments[at];for(var mt in q)Object.prototype.hasOwnProperty.call(q,mt)&&($[mt]=q[mt])}return $},g.apply(this,arguments)};function p(_,Y){var $={};for(var q in _)Object.prototype.hasOwnProperty.call(_,q)&&Y.indexOf(q)<0&&($[q]=_[q]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var at=0,q=Object.getOwnPropertySymbols(_);at<q.length;at++)Y.indexOf(q[at])<0&&Object.prototype.propertyIsEnumerable.call(_,q[at])&&($[q[at]]=_[q[at]]);return $}function E(_,Y,$,q){var at=arguments.length,pt=at<3?Y:q===null?q=Object.getOwnPropertyDescriptor(Y,$):q,mt;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")pt=Reflect.decorate(_,Y,$,q);else for(var ot=_.length-1;ot>=0;ot--)(mt=_[ot])&&(pt=(at<3?mt(pt):at>3?mt(Y,$,pt):mt(Y,$))||pt);return at>3&&pt&&Object.defineProperty(Y,$,pt),pt}function S(_,Y){return function($,q){Y($,q,_)}}function A(_,Y){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(_,Y)}function M(_,Y,$,q){function at(pt){return pt instanceof $?pt:new $(function(mt){mt(pt)})}return new($||($=Promise))(function(pt,mt){function ot(Ht){try{It(q.next(Ht))}catch(Qt){mt(Qt)}}function xt(Ht){try{It(q.throw(Ht))}catch(Qt){mt(Qt)}}function It(Ht){Ht.done?pt(Ht.value):at(Ht.value).then(ot,xt)}It((q=q.apply(_,Y||[])).next())})}function x(_,Y){var $={label:0,sent:function(){if(pt[0]&1)throw pt[1];return pt[1]},trys:[],ops:[]},q,at,pt,mt;return mt={next:ot(0),throw:ot(1),return:ot(2)},typeof Symbol=="function"&&(mt[Symbol.iterator]=function(){return this}),mt;function ot(It){return function(Ht){return xt([It,Ht])}}function xt(It){if(q)throw new TypeError("Generator is already executing.");for(;$;)try{if(q=1,at&&(pt=It[0]&2?at.return:It[0]?at.throw||((pt=at.return)&&pt.call(at),0):at.next)&&!(pt=pt.call(at,It[1])).done)return pt;switch(at=0,pt&&(It=[It[0]&2,pt.value]),It[0]){case 0:case 1:pt=It;break;case 4:return $.label++,{value:It[1],done:!1};case 5:$.label++,at=It[1],It=[0];continue;case 7:It=$.ops.pop(),$.trys.pop();continue;default:if(pt=$.trys,!(pt=pt.length>0&&pt[pt.length-1])&&(It[0]===6||It[0]===2)){$=0;continue}if(It[0]===3&&(!pt||It[1]>pt[0]&&It[1]<pt[3])){$.label=It[1];break}if(It[0]===6&&$.label<pt[1]){$.label=pt[1],pt=It;break}if(pt&&$.label<pt[2]){$.label=pt[2],$.ops.push(It);break}pt[2]&&$.ops.pop(),$.trys.pop();continue}It=Y.call(_,$)}catch(Ht){It=[6,Ht],at=0}finally{q=pt=0}if(It[0]&5)throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}}var O=Object.create?function(_,Y,$,q){q===void 0&&(q=$),Object.defineProperty(_,q,{enumerable:!0,get:function(){return Y[$]}})}:function(_,Y,$,q){q===void 0&&(q=$),_[q]=Y[$]};function C(_,Y){for(var $ in _)$!=="default"&&!Object.prototype.hasOwnProperty.call(Y,$)&&O(Y,_,$)}function D(_){var Y=typeof Symbol=="function"&&Symbol.iterator,$=Y&&_[Y],q=0;if($)return $.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&q>=_.length&&(_=void 0),{value:_&&_[q++],done:!_}}};throw new TypeError(Y?"Object is not iterable.":"Symbol.iterator is not defined.")}function R(_,Y){var $=typeof Symbol=="function"&&_[Symbol.iterator];if(!$)return _;var q=$.call(_),at,pt=[],mt;try{for(;(Y===void 0||Y-- >0)&&!(at=q.next()).done;)pt.push(at.value)}catch(ot){mt={error:ot}}finally{try{at&&!at.done&&($=q.return)&&$.call(q)}finally{if(mt)throw mt.error}}return pt}function y(){for(var _=[],Y=0;Y<arguments.length;Y++)_=_.concat(R(arguments[Y]));return _}function w(){for(var _=0,Y=0,$=arguments.length;Y<$;Y++)_+=arguments[Y].length;for(var q=Array(_),at=0,Y=0;Y<$;Y++)for(var pt=arguments[Y],mt=0,ot=pt.length;mt<ot;mt++,at++)q[at]=pt[mt];return q}function N(_,Y){for(var $=0,q=Y.length,at=_.length;$<q;$++,at++)_[at]=Y[$];return _}function z(_){return this instanceof z?(this.v=_,this):new z(_)}function V(_,Y,$){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var q=$.apply(_,Y||[]),at,pt=[];return at={},mt("next"),mt("throw"),mt("return"),at[Symbol.asyncIterator]=function(){return this},at;function mt($t){q[$t]&&(at[$t]=function(yt){return new Promise(function(ut,ft){pt.push([$t,yt,ut,ft])>1||ot($t,yt)})})}function ot($t,yt){try{xt(q[$t](yt))}catch(ut){Qt(pt[0][3],ut)}}function xt($t){$t.value instanceof z?Promise.resolve($t.value.v).then(It,Ht):Qt(pt[0][2],$t)}function It($t){ot("next",$t)}function Ht($t){ot("throw",$t)}function Qt($t,yt){$t(yt),pt.shift(),pt.length&&ot(pt[0][0],pt[0][1])}}function B(_){var Y,$;return Y={},q("next"),q("throw",function(at){throw at}),q("return"),Y[Symbol.iterator]=function(){return this},Y;function q(at,pt){Y[at]=_[at]?function(mt){return($=!$)?{value:z(_[at](mt)),done:at==="return"}:pt?pt(mt):mt}:pt}}function P(_){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y=_[Symbol.asyncIterator],$;return Y?Y.call(_):(_=typeof D=="function"?D(_):_[Symbol.iterator](),$={},q("next"),q("throw"),q("return"),$[Symbol.asyncIterator]=function(){return this},$);function q(pt){$[pt]=_[pt]&&function(mt){return new Promise(function(ot,xt){mt=_[pt](mt),at(ot,xt,mt.done,mt.value)})}}function at(pt,mt,ot,xt){Promise.resolve(xt).then(function(It){pt({value:It,done:ot})},mt)}}function T(_,Y){return Object.defineProperty?Object.defineProperty(_,"raw",{value:Y}):_.raw=Y,_}var W=Object.create?function(_,Y){Object.defineProperty(_,"default",{enumerable:!0,value:Y})}:function(_,Y){_.default=Y};function Q(_){if(_&&_.__esModule)return _;var Y={};if(_!=null)for(var $ in _)$!=="default"&&Object.prototype.hasOwnProperty.call(_,$)&&O(Y,_,$);return W(Y,_),Y}function nt(_){return _&&_.__esModule?_:{default:_}}function st(_,Y,$,q){if($==="a"&&!q)throw new TypeError("Private accessor was defined without a getter");if(typeof Y=="function"?_!==Y||!q:!Y.has(_))throw new TypeError("Cannot read private member from an object whose class did not declare it");return $==="m"?q:$==="a"?q.call(_):q?q.value:Y.get(_)}function et(_,Y,$,q,at){if(q==="m")throw new TypeError("Private method is not writable");if(q==="a"&&!at)throw new TypeError("Private accessor was defined without a setter");if(typeof Y=="function"?_!==Y||!at:!Y.has(_))throw new TypeError("Cannot write private member to an object whose class did not declare it");return q==="a"?at.call(_,$):at?at.value=$:Y.set(_,$),$}},mtLc:function(Ft,I,a){"use strict";a.r(I),a.d(I,"default",function(){return i});function f(g,p){for(var E=0;E<p.length;E++){var S=p[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}function i(g,p,E){return p&&f(g.prototype,p),E&&f(g,E),g}},mttH:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S});var f=a("mrSG"),i=a("zJSt"),g=a("sshJ"),p=a("7cv3"),E=a("lFe4"),S=function(A){Object(f.c)(M,A);function M(){var x=A!==null&&A.apply(this,arguments)||this;return x.type="tiny-line",x}return M.getDefaultOptions=function(){return p.a},M.prototype.changeData=function(x){this.updateOption({data:x});var O=this,C=O.chart,D=O.options;Object(g.b)({chart:C,options:D}),C.changeData(Object(E.a)(x))},M.prototype.getDefaultOptions=function(){return M.getDefaultOptions()},M.prototype.getSchemaAdaptor=function(){return g.a},M}(i.b)},"mv/X":function(Ft,I,a){var f=a("ljhN"),i=a("MMmD"),g=a("wJg7"),p=a("GoyQ");function E(S,A,M){if(!p(M))return!1;var x=typeof A;return(x=="number"?i(M)&&g(A,M.length):x=="string"&&A in M)?f(M[A],S):!1}Ft.exports=E},mwIZ:function(Ft,I,a){var f=a("ZWtO");function i(g,p,E){var S=g==null?void 0:f(g,p);return S===void 0?E:S}Ft.exports=i},"n+fv":function(Ft,I,a){"use strict";a.r(I),a.d(I,"create",function(){return i}),a.d(I,"clone",function(){return g}),a.d(I,"length",function(){return p}),a.d(I,"fromValues",function(){return E}),a.d(I,"copy",function(){return S}),a.d(I,"set",function(){return A}),a.d(I,"add",function(){return M}),a.d(I,"subtract",function(){return x}),a.d(I,"multiply",function(){return O}),a.d(I,"divide",function(){return C}),a.d(I,"ceil",function(){return D}),a.d(I,"floor",function(){return R}),a.d(I,"min",function(){return y}),a.d(I,"max",function(){return w}),a.d(I,"round",function(){return N}),a.d(I,"scale",function(){return z}),a.d(I,"scaleAndAdd",function(){return V}),a.d(I,"distance",function(){return B}),a.d(I,"squaredDistance",function(){return P}),a.d(I,"squaredLength",function(){return T}),a.d(I,"negate",function(){return W}),a.d(I,"inverse",function(){return Q}),a.d(I,"normalize",function(){return nt}),a.d(I,"dot",function(){return st}),a.d(I,"cross",function(){return et}),a.d(I,"lerp",function(){return _}),a.d(I,"hermite",function(){return Y}),a.d(I,"bezier",function(){return $}),a.d(I,"random",function(){return q}),a.d(I,"transformMat4",function(){return at}),a.d(I,"transformMat3",function(){return pt}),a.d(I,"transformQuat",function(){return mt}),a.d(I,"rotateX",function(){return ot}),a.d(I,"rotateY",function(){return xt}),a.d(I,"rotateZ",function(){return It}),a.d(I,"angle",function(){return Ht}),a.d(I,"zero",function(){return Qt}),a.d(I,"str",function(){return $t}),a.d(I,"exactEquals",function(){return yt}),a.d(I,"equals",function(){return ut}),a.d(I,"sub",function(){return ft}),a.d(I,"mul",function(){return it}),a.d(I,"div",function(){return vt}),a.d(I,"dist",function(){return Wt}),a.d(I,"sqrDist",function(){return Ct}),a.d(I,"len",function(){return Z}),a.d(I,"sqrLen",function(){return X}),a.d(I,"forEach",function(){return dt});var f=a("yU0y");function i(){var H=new f.a(3);return f.a!=Float32Array&&(H[0]=0,H[1]=0,H[2]=0),H}function g(H){var lt=new f.a(3);return lt[0]=H[0],lt[1]=H[1],lt[2]=H[2],lt}function p(H){var lt=H[0],Ot=H[1],Rt=H[2];return Math.hypot(lt,Ot,Rt)}function E(H,lt,Ot){var Rt=new f.a(3);return Rt[0]=H,Rt[1]=lt,Rt[2]=Ot,Rt}function S(H,lt){return H[0]=lt[0],H[1]=lt[1],H[2]=lt[2],H}function A(H,lt,Ot,Rt){return H[0]=lt,H[1]=Ot,H[2]=Rt,H}function M(H,lt,Ot){return H[0]=lt[0]+Ot[0],H[1]=lt[1]+Ot[1],H[2]=lt[2]+Ot[2],H}function x(H,lt,Ot){return H[0]=lt[0]-Ot[0],H[1]=lt[1]-Ot[1],H[2]=lt[2]-Ot[2],H}function O(H,lt,Ot){return H[0]=lt[0]*Ot[0],H[1]=lt[1]*Ot[1],H[2]=lt[2]*Ot[2],H}function C(H,lt,Ot){return H[0]=lt[0]/Ot[0],H[1]=lt[1]/Ot[1],H[2]=lt[2]/Ot[2],H}function D(H,lt){return H[0]=Math.ceil(lt[0]),H[1]=Math.ceil(lt[1]),H[2]=Math.ceil(lt[2]),H}function R(H,lt){return H[0]=Math.floor(lt[0]),H[1]=Math.floor(lt[1]),H[2]=Math.floor(lt[2]),H}function y(H,lt,Ot){return H[0]=Math.min(lt[0],Ot[0]),H[1]=Math.min(lt[1],Ot[1]),H[2]=Math.min(lt[2],Ot[2]),H}function w(H,lt,Ot){return H[0]=Math.max(lt[0],Ot[0]),H[1]=Math.max(lt[1],Ot[1]),H[2]=Math.max(lt[2],Ot[2]),H}function N(H,lt){return H[0]=Math.round(lt[0]),H[1]=Math.round(lt[1]),H[2]=Math.round(lt[2]),H}function z(H,lt,Ot){return H[0]=lt[0]*Ot,H[1]=lt[1]*Ot,H[2]=lt[2]*Ot,H}function V(H,lt,Ot,Rt){return H[0]=lt[0]+Ot[0]*Rt,H[1]=lt[1]+Ot[1]*Rt,H[2]=lt[2]+Ot[2]*Rt,H}function B(H,lt){var Ot=lt[0]-H[0],Rt=lt[1]-H[1],zt=lt[2]-H[2];return Math.hypot(Ot,Rt,zt)}function P(H,lt){var Ot=lt[0]-H[0],Rt=lt[1]-H[1],zt=lt[2]-H[2];return Ot*Ot+Rt*Rt+zt*zt}function T(H){var lt=H[0],Ot=H[1],Rt=H[2];return lt*lt+Ot*Ot+Rt*Rt}function W(H,lt){return H[0]=-lt[0],H[1]=-lt[1],H[2]=-lt[2],H}function Q(H,lt){return H[0]=1/lt[0],H[1]=1/lt[1],H[2]=1/lt[2],H}function nt(H,lt){var Ot=lt[0],Rt=lt[1],zt=lt[2],Bt=Ot*Ot+Rt*Rt+zt*zt;return Bt>0&&(Bt=1/Math.sqrt(Bt)),H[0]=lt[0]*Bt,H[1]=lt[1]*Bt,H[2]=lt[2]*Bt,H}function st(H,lt){return H[0]*lt[0]+H[1]*lt[1]+H[2]*lt[2]}function et(H,lt,Ot){var Rt=lt[0],zt=lt[1],Bt=lt[2],tt=Ot[0],J=Ot[1],G=Ot[2];return H[0]=zt*G-Bt*J,H[1]=Bt*tt-Rt*G,H[2]=Rt*J-zt*tt,H}function _(H,lt,Ot,Rt){var zt=lt[0],Bt=lt[1],tt=lt[2];return H[0]=zt+Rt*(Ot[0]-zt),H[1]=Bt+Rt*(Ot[1]-Bt),H[2]=tt+Rt*(Ot[2]-tt),H}function Y(H,lt,Ot,Rt,zt,Bt){var tt=Bt*Bt,J=tt*(2*Bt-3)+1,G=tt*(Bt-2)+Bt,Et=tt*(Bt-1),Tt=tt*(3-2*Bt);return H[0]=lt[0]*J+Ot[0]*G+Rt[0]*Et+zt[0]*Tt,H[1]=lt[1]*J+Ot[1]*G+Rt[1]*Et+zt[1]*Tt,H[2]=lt[2]*J+Ot[2]*G+Rt[2]*Et+zt[2]*Tt,H}function $(H,lt,Ot,Rt,zt,Bt){var tt=1-Bt,J=tt*tt,G=Bt*Bt,Et=J*tt,Tt=3*Bt*J,ct=3*G*tt,St=G*Bt;return H[0]=lt[0]*Et+Ot[0]*Tt+Rt[0]*ct+zt[0]*St,H[1]=lt[1]*Et+Ot[1]*Tt+Rt[1]*ct+zt[1]*St,H[2]=lt[2]*Et+Ot[2]*Tt+Rt[2]*ct+zt[2]*St,H}function q(H,lt){lt=lt||1;var Ot=f.c()*2*Math.PI,Rt=f.c()*2-1,zt=Math.sqrt(1-Rt*Rt)*lt;return H[0]=Math.cos(Ot)*zt,H[1]=Math.sin(Ot)*zt,H[2]=Rt*lt,H}function at(H,lt,Ot){var Rt=lt[0],zt=lt[1],Bt=lt[2],tt=Ot[3]*Rt+Ot[7]*zt+Ot[11]*Bt+Ot[15];return tt=tt||1,H[0]=(Ot[0]*Rt+Ot[4]*zt+Ot[8]*Bt+Ot[12])/tt,H[1]=(Ot[1]*Rt+Ot[5]*zt+Ot[9]*Bt+Ot[13])/tt,H[2]=(Ot[2]*Rt+Ot[6]*zt+Ot[10]*Bt+Ot[14])/tt,H}function pt(H,lt,Ot){var Rt=lt[0],zt=lt[1],Bt=lt[2];return H[0]=Rt*Ot[0]+zt*Ot[3]+Bt*Ot[6],H[1]=Rt*Ot[1]+zt*Ot[4]+Bt*Ot[7],H[2]=Rt*Ot[2]+zt*Ot[5]+Bt*Ot[8],H}function mt(H,lt,Ot){var Rt=Ot[0],zt=Ot[1],Bt=Ot[2],tt=Ot[3],J=lt[0],G=lt[1],Et=lt[2],Tt=zt*Et-Bt*G,ct=Bt*J-Rt*Et,St=Rt*G-zt*J,Vt=zt*St-Bt*ct,Lt=Bt*Tt-Rt*St,Nt=Rt*ct-zt*Tt,Zt=tt*2;return Tt*=Zt,ct*=Zt,St*=Zt,Vt*=2,Lt*=2,Nt*=2,H[0]=J+Tt+Vt,H[1]=G+ct+Lt,H[2]=Et+St+Nt,H}function ot(H,lt,Ot,Rt){var zt=[],Bt=[];return zt[0]=lt[0]-Ot[0],zt[1]=lt[1]-Ot[1],zt[2]=lt[2]-Ot[2],Bt[0]=zt[0],Bt[1]=zt[1]*Math.cos(Rt)-zt[2]*Math.sin(Rt),Bt[2]=zt[1]*Math.sin(Rt)+zt[2]*Math.cos(Rt),H[0]=Bt[0]+Ot[0],H[1]=Bt[1]+Ot[1],H[2]=Bt[2]+Ot[2],H}function xt(H,lt,Ot,Rt){var zt=[],Bt=[];return zt[0]=lt[0]-Ot[0],zt[1]=lt[1]-Ot[1],zt[2]=lt[2]-Ot[2],Bt[0]=zt[2]*Math.sin(Rt)+zt[0]*Math.cos(Rt),Bt[1]=zt[1],Bt[2]=zt[2]*Math.cos(Rt)-zt[0]*Math.sin(Rt),H[0]=Bt[0]+Ot[0],H[1]=Bt[1]+Ot[1],H[2]=Bt[2]+Ot[2],H}function It(H,lt,Ot,Rt){var zt=[],Bt=[];return zt[0]=lt[0]-Ot[0],zt[1]=lt[1]-Ot[1],zt[2]=lt[2]-Ot[2],Bt[0]=zt[0]*Math.cos(Rt)-zt[1]*Math.sin(Rt),Bt[1]=zt[0]*Math.sin(Rt)+zt[1]*Math.cos(Rt),Bt[2]=zt[2],H[0]=Bt[0]+Ot[0],H[1]=Bt[1]+Ot[1],H[2]=Bt[2]+Ot[2],H}function Ht(H,lt){var Ot=H[0],Rt=H[1],zt=H[2],Bt=lt[0],tt=lt[1],J=lt[2],G=Math.sqrt(Ot*Ot+Rt*Rt+zt*zt),Et=Math.sqrt(Bt*Bt+tt*tt+J*J),Tt=G*Et,ct=Tt&&st(H,lt)/Tt;return Math.acos(Math.min(Math.max(ct,-1),1))}function Qt(H){return H[0]=0,H[1]=0,H[2]=0,H}function $t(H){return"vec3("+H[0]+", "+H[1]+", "+H[2]+")"}function yt(H,lt){return H[0]===lt[0]&&H[1]===lt[1]&&H[2]===lt[2]}function ut(H,lt){var Ot=H[0],Rt=H[1],zt=H[2],Bt=lt[0],tt=lt[1],J=lt[2];return Math.abs(Ot-Bt)<=f.b*Math.max(1,Math.abs(Ot),Math.abs(Bt))&&Math.abs(Rt-tt)<=f.b*Math.max(1,Math.abs(Rt),Math.abs(tt))&&Math.abs(zt-J)<=f.b*Math.max(1,Math.abs(zt),Math.abs(J))}var ft=x,it=O,vt=C,Wt=B,Ct=P,Z=p,X=T,dt=function(){var H=i();return function(lt,Ot,Rt,zt,Bt,tt){var J,G;for(Ot||(Ot=3),Rt||(Rt=0),zt?G=Math.min(zt*Ot+Rt,lt.length):G=lt.length,J=Rt;J<G;J+=Ot)H[0]=lt[J],H[1]=lt[J+1],H[2]=lt[J+2],Bt(H,H,tt),lt[J]=H[0],lt[J+1]=H[1],lt[J+2]=H[2];return lt}}()},"n/J0":function(Ft,I,a){"use strict";a.d(I,"a",function(){return f}),a.d(I,"b",function(){return i});var f=["type","alias","tickCount","tickInterval","min","max","nice","minLimit","maxLimit","range","tickMethod","base","exponent","mask","sync"],i={GRADIENT:{CONTINUOUS:"#BAE7FF-#1890FF-#0050B3"}}},n2J3:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.unmanaged=void 0;var f=a("xfSm"),i=a("GXnB"),g=a("Ztfv");function p(){return function(E,S,A){var M=new i.Metadata(f.UNMANAGED_TAG,!0);g.tagParameter(E,S,A,M)}}I.unmanaged=p},n3Sm:function(Ft,I,a){var f=a("SKAX");function i(g,p){var E=[];return f(g,function(S,A,M){p(S,A,M)&&E.push(S)}),E}Ft.exports=i},nCnq:function(Ft,I,a){"use strict";a.d(I,"a",function(){return E});var f=a("cyZq");function i(S){return Math.sqrt(S[0]*S[0]+S[1]*S[1])}function g(S,A){return i(S)*i(A)?(S[0]*A[0]+S[1]*A[1])/(i(S)*i(A)):1}function p(S,A){return(S[0]*A[1]<S[1]*A[0]?-1:1)*Math.acos(g(S,A))}function E(S,A){var M=A[1],x=A[2],O=Object(f.m)(Object(f.o)(A[3]),Math.PI*2),C=A[4],D=A[5],R=S[0],y=S[1],w=A[6],N=A[7],z=Math.cos(O)*(R-w)/2+Math.sin(O)*(y-N)/2,V=-1*Math.sin(O)*(R-w)/2+Math.cos(O)*(y-N)/2,B=z*z/(M*M)+V*V/(x*x);B>1&&(M*=Math.sqrt(B),x*=Math.sqrt(B));var P=M*M*(V*V)+x*x*(z*z),T=P?Math.sqrt((M*M*(x*x)-P)/P):1;C===D&&(T*=-1),isNaN(T)&&(T=0);var W=x?T*M*V/x:0,Q=M?T*-x*z/M:0,nt=(R+w)/2+Math.cos(O)*W-Math.sin(O)*Q,st=(y+N)/2+Math.sin(O)*W+Math.cos(O)*Q,et=[(z-W)/M,(V-Q)/x],_=[(-1*z-W)/M,(-1*V-Q)/x],Y=p([1,0],et),$=p(et,_);return g(et,_)<=-1&&($=Math.PI),g(et,_)>=1&&($=0),D===0&&$>0&&($=$-2*Math.PI),D===1&&$<0&&($=$+2*Math.PI),{cx:nt,cy:st,rx:Object(f.j)(S,[w,N])?0:M,ry:Object(f.j)(S,[w,N])?0:x,startAngle:Y,endAngle:Y+$,xRotation:O,arcFlag:C,sweepFlag:D}}},nO7B:function(Ft,I){},nmoi:function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("kXyF"),i=a("mrSG"),g=a("iTfj"),p=a("qaDU"),E=function(x){Object(i.c)(O,x);function O(){return x!==null&&x.apply(this,arguments)||this}return O.prototype.getActiveElements=function(){var C=f.Util.getDelegationObject(this.context);if(C){var D=this.context.view,R=C.component,y=C.item,w=R.get("field");if(w){var N=D.geometries[0].elements;return N.filter(function(z){return z.getModel().data[w]===y.value})}}return[]},O.prototype.getActiveElementLabels=function(){var C=this.context.view,D=this.getActiveElements(),R=C.geometries[0].labelsContainer.getChildren();return R.filter(function(y){return D.find(function(w){return Object(g.G)(w.getData(),y.get("data"))})})},O.prototype.transfrom=function(C){C===void 0&&(C=7.5);var D=this.getActiveElements(),R=this.getActiveElementLabels();D.forEach(function(y,w){var N=R[w],z=y.geometry.coordinate;if(z.isPolar&&z.isTransposed){var V=f.Util.getAngle(y.getModel(),z),B=V.startAngle,P=V.endAngle,T=(B+P)/2,W=C,Q=W*Math.cos(T),nt=W*Math.sin(T);y.shape.setMatrix(Object(p.a)([["t",Q,nt]])),N.setMatrix(Object(p.a)([["t",Q,nt]]))}})},O.prototype.active=function(){this.transfrom()},O.prototype.reset=function(){this.transfrom(0)},O}(f.Action),S=a("mj6g"),A=function(x){Object(i.c)(O,x);function O(){return x!==null&&x.apply(this,arguments)||this}return O.prototype.getAnnotations=function(C){var D=C||this.context.view;return D.getController("annotation").option},O.prototype.getInitialAnnotation=function(){return this.initialAnnotation},O.prototype.init=function(){var C=this,D=this.context.view;D.removeInteraction("tooltip"),D.on("afterchangesize",function(){var R=C.getAnnotations(D);C.initialAnnotation=R})},O.prototype.change=function(C){var D=this.context,R=D.view,y=D.event;this.initialAnnotation||(this.initialAnnotation=this.getAnnotations());var w=Object(g.s)(y,["data","data"]);if(y.type.match("legend-item")){var N=f.Util.getDelegationObject(this.context),z=R.getGroupedFields()[0];if(N&&z){var V=N.item;w=R.getData().find(function(T){return T[z]===V.value})}}if(w){var B=Object(g.s)(C,"annotations",[]),P=Object(g.s)(C,"statistic",{});R.getController("annotation").clear(!0),Object(g.j)(B,function(T){typeof T=="object"&&R.annotation()[T.type](T)}),Object(S.b)(R,{statistic:P,plotType:"pie"},w),R.render(!0)}},O.prototype.reset=function(){var C=this.context.view,D=C.getController("annotation");D.clear(!0);var R=this.getInitialAnnotation();Object(g.j)(R,function(y){C.annotation()[y.type](y)}),C.render(!0)},O}(f.Action),M="pie-statistic";Object(f.registerAction)(M,A),Object(f.registerInteraction)("pie-statistic-active",{start:[{trigger:"element:mouseenter",action:"pie-statistic:change"}],end:[{trigger:"element:mouseleave",action:"pie-statistic:reset"}]}),Object(f.registerAction)("pie-legend",E),Object(f.registerInteraction)("pie-legend-active",{start:[{trigger:"legend-item:mouseenter",action:"pie-legend:active"}],end:[{trigger:"legend-item:mouseleave",action:"pie-legend:reset"}]})},noZS:function(Ft,I,a){var f=a("hypo"),i=a("JC6p"),g=a("ut/Y");function p(E,S){var A={};return S=g(S,3),i(E,function(M,x,O){f(A,x,S(M,x,O))}),A}Ft.exports=p},nycV:function(Ft,I,a){"use strict";a.d(I,"c",function(){return x}),a.d(I,"b",function(){return O}),a.d(I,"a",function(){return C});var f=a("mrSG"),i=a("R5nb"),g=Math.sin,p=Math.cos,E=Math.atan2,S=Math.PI;function A(D,R,y,w,N,z,V){var B=R.stroke,P=R.lineWidth,T=y-N,W=w-z,Q=E(W,T),nt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*p(S/6)+","+10*g(S/6)+" L0,0 L"+10*p(S/6)+",-"+10*g(S/6),stroke:B,lineWidth:P}});nt.translate(N,z),nt.rotateAtPoint(N,z,Q),D.set(V?"startArrowShape":"endArrowShape",nt)}function M(D,R,y,w,N,z,V){var B=R.startArrow,P=R.endArrow,T=R.stroke,W=R.lineWidth,Q=V?B:P,nt=Q.d,st=Q.fill,et=Q.stroke,_=Q.lineWidth,Y=Object(f.e)(Q,["d","fill","stroke","lineWidth"]),$=y-N,q=w-z,at=E(q,$);nt&&(N=N-p(at)*nt,z=z-g(at)*nt);var pt=new i.Path({type:"path",canvas:D.get("canvas"),isArrowShape:!0,attrs:Object(f.a)(Object(f.a)({},Y),{stroke:et||T,lineWidth:_||W,fill:st})});pt.translate(N,z),pt.rotateAtPoint(N,z,at),D.set(V?"startArrowShape":"endArrowShape",pt)}function x(D,R,y,w,N){var z=E(w-R,y-D);return{dx:p(z)*N,dy:g(z)*N}}function O(D,R,y,w,N,z){typeof R.startArrow=="object"?M(D,R,y,w,N,z,!0):R.startArrow?A(D,R,y,w,N,z,!0):D.set("startArrowShape",null)}function C(D,R,y,w,N,z){typeof R.endArrow=="object"?M(D,R,y,w,N,z,!1):R.endArrow?A(D,R,y,w,N,z,!1):D.set("startArrowShape",null)}},oBTY:function(Ft,I,a){"use strict";a.d(I,"a",function(){return S});var f=a("leS6");function i(A){if(Array.isArray(A))return Object(f.a)(A)}var g=a("Y9hK"),p=a("Qw5x");function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S(A){return i(A)||Object(g.a)(A)||Object(p.a)(A)||E()}},"oCl/":function(Ft,I,a){var f=a("CH3K"),i=a("LcsW"),g=a("MvSz"),p=a("0ycA"),E=Object.getOwnPropertySymbols,S=E?function(A){for(var M=[];A;)f(M,g(A)),A=i(A);return M}:p;Ft.exports=S},oDt1:function(Ft,I,a){"use strict";a.d(I,"a",function(){return O}),a.d(I,"b",function(){return C});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("W8MJ"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("9y2T"),O=function D(R){M()(this,D)},C=function(){function D(R){M()(this,D),this.clazz=void 0,this.components=[],this.entities=[],this.lookup={},this.clazz=R}return S()(D,[{key:"clear",value:function(){this.components=[],this.entities=[],this.lookup={}}},{key:"contains",value:function(y){return this.lookup[y]>-1}},{key:"create",value:function(y,w){this.lookup[y]=this.components.length;var N=new this.clazz(w||{});return this.components.push(N),this.entities.push(y),N}},{key:"remove",value:function(y){var w=this.lookup[y];w>-1&&w<this.components.length-1&&(this.components[w]=this.components[this.components.length-1],this.entities[w]=this.entities[this.entities.length-1],this.lookup[this.entities[w]]=w),this.components.pop(),this.entities.pop(),delete this.lookup[y]}},{key:"removeKeepSorted",value:function(y){var w=this.lookup[y];if(w>-1){var N=this.entities[w];if(w<this.components.length-1){for(var z=w+1;z<this.components.length;++z)this.components[z-1]=this.components[z];for(var V=w+1;V<this.entities.length;++V)this.entities[V-1]=this.entities[V],this.lookup[this.entities[V-1]]=V-1}this.components.pop(),this.entities.pop(),delete this.lookup[N]}}},{key:"moveItem",value:function(y,w){if(y!==w){for(var N=this.components[y],z=this.entities[y],V=y<w?1:-1,B=y;B!==w;B+=V){var P=B+V;this.components[B]=this.components[P],this.entities[B]=this.entities[P],this.lookup[this.entities[B]]=B}this.components[w]=N,this.entities[w]=z,this.lookup[z]=w}}},{key:"getEntity",value:function(y){return this.entities[y]}},{key:"getComponent",value:function(y){return this.components[y]}},{key:"getComponentByEntity",value:function(y){var w=this.lookup[y];return w>-1?this.components[w]:null}},{key:"getCount",value:function(){return this.components.length}},{key:"getEntityByComponentIndex",value:function(y){for(var w=0,N=Object.keys(this.lookup);w<N.length;w++){var z=N[w],V=Number(z);if(this.lookup[V]===y)return V}return x.a}},{key:"find",value:function(y){for(var w=0;w<this.getCount();w++){var N=this.getComponent(w);if(y(N,w))return N}return null}},{key:"findIndex",value:function(y){for(var w=0;w<this.getCount();w++){var N=this.getComponent(w);if(y(N,w))return w}return-1}},{key:"forEach",value:function(y){for(var w=0,N=Object.keys(this.lookup);w<N.length;w++){var z=N[w],V=Number(z),B=this.lookup[V];y(V,this.getComponent(B))}}},{key:"forEachAsync",value:function(){var R=p()(i.a.mark(function w(N){var z,V,B,P,T;return i.a.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:z=0,V=Object.keys(this.lookup);case 1:if(!(z<V.length)){Q.next=10;break}return B=V[z],P=Number(B),T=this.lookup[P],Q.next=7,N(P,this.getComponent(T));case 7:z++,Q.next=1;break;case 10:case"end":return Q.stop()}},w,this)}));function y(w){return R.apply(this,arguments)}return y}()},{key:"map",value:function(y){for(var w=[],N=0,z=Object.keys(this.lookup);N<z.length;N++){var V=z[N],B=Number(V),P=this.lookup[B];w.push(y(B,this.getComponent(P)))}return w}}]),D}()},oZsa:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)},f(i)}},oaX6:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.targetName=void 0;var f=a("xfSm"),i=a("GXnB"),g=a("Ztfv");function p(E){return function(S,A,M){var x=new i.Metadata(f.NAME_TAG,E);g.tagParameter(S,A,M,x)}}I.targetName=p},olaO:function(Ft,I){},onlc:function(Ft,I,a){var f=a("t1N5");function i(){for(var S={},A=Object.keys(f),M=A.length,x=0;x<M;x++)S[A[x]]={distance:-1,parent:null};return S}function g(S){var A=i(),M=[S];for(A[S].distance=0;M.length;)for(var x=M.pop(),O=Object.keys(f[x]),C=O.length,D=0;D<C;D++){var R=O[D],y=A[R];y.distance===-1&&(y.distance=A[x].distance+1,y.parent=x,M.unshift(R))}return A}function p(S,A){return function(M){return A(S(M))}}function E(S,A){for(var M=[A[S].parent,S],x=f[A[S].parent][S],O=A[S].parent;A[O].parent;)M.unshift(A[O].parent),x=p(f[A[O].parent][O],x),O=A[O].parent;return x.conversion=M,x}Ft.exports=function(S){for(var A=g(S),M={},x=Object.keys(A),O=x.length,C=0;C<O;C++){var D=x[C],R=A[D];R.parent!==null&&(M[D]=E(D,A))}return M}},"otv/":function(Ft,I,a){var f=a("nmnc"),i=f?f.prototype:void 0,g=i?i.valueOf:void 0;function p(E){return g?Object(g.call(E)):{}}Ft.exports=p},"oy+k":function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Context=void 0;var f=a("d9O0"),i=function(){function g(p){this.id=f.id(),this.container=p}return g.prototype.addPlan=function(p){this.plan=p},g.prototype.setCurrentRequest=function(p){this.currentRequest=p},g}();I.Context=i},pFRH:function(Ft,I,a){var f=a("cvCv"),i=a("O0oS"),g=a("zZ0H"),p=i?function(E,S){return i(E,"toString",{configurable:!0,enumerable:!1,value:f(S),writable:!0})}:g;Ft.exports=p},pHPU:function(Ft,I,a){var f=a("M96O"),i=a("AevD");Ft.exports=p;var g=f.constant(1);function p(S,A,M,x){return E(S,String(A),M||g,x||function(O){return S.outEdges(O)})}function E(S,A,M,x){var O={},C=new i,D,R,y=function(N){var z=N.v!==D?N.v:N.w,V=O[z],B=M(N),P=R.distance+B;if(B<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+N+" Weight: "+B);P<V.distance&&(V.distance=P,V.predecessor=D,C.decrease(z,P))};for(S.nodes().forEach(function(w){var N=w===A?0:Number.POSITIVE_INFINITY;O[w]={distance:N},C.add(w,N)});C.size()>0&&(D=C.removeMin(),R=O[D],R.distance!==Number.POSITIVE_INFINITY);)x(D).forEach(y);return O}},ph3A:function(Ft,I,a){"use strict";a.d(I,"a",function(){return T});var f=a("lSNA"),i=a.n(f),g=a("lwsE"),p=a.n(g),E=a("W8MJ"),S=a.n(E),A=a("PJYZ"),M=a.n(A),x=a("7W2i"),O=a.n(x),C=a("a1gu"),D=a.n(C),R=a("Nsbk"),y=a.n(R),w=a("Gj0h"),N=a("oDt1");function z(W,Q){var nt=Object.keys(W);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols(W);Q&&(st=st.filter(function(et){return Object.getOwnPropertyDescriptor(W,et).enumerable})),nt.push.apply(nt,st)}return nt}function V(W){for(var Q=1;Q<arguments.length;Q++){var nt=arguments[Q]!=null?arguments[Q]:{};Q%2?z(Object(nt),!0).forEach(function(st){i()(W,st,nt[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(nt)):z(Object(nt)).forEach(function(st){Object.defineProperty(W,st,Object.getOwnPropertyDescriptor(nt,st))})}return W}function B(W){var Q=P();return function(){var st=y()(W),et;if(Q){var _=y()(this).constructor;et=Reflect.construct(st,arguments,_)}else et=st.apply(this,arguments);return D()(this,et)}}function P(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(W){return!1}}var T=function(W){O()(nt,W);var Q=B(nt);function nt(st){var et;return p()(this,nt),et=Q.call(this,st),et.vertexShaderGLSL=void 0,et.fragmentShaderGLSL=void 0,et.defines={},et.dirty=!0,et.uniforms=[],et.cull={enable:!0,face:w.gl.BACK},et.depth={enable:!0},et.blend=void 0,et.entity=void 0,et.type=void 0,Object.assign(M()(et),st),et}return S()(nt,[{key:"setDefines",value:function(et){return this.defines=V(V({},this.defines),et),this}},{key:"setCull",value:function(et){return this.cull=et,this}},{key:"setDepth",value:function(et){return this.depth=et,this}},{key:"setBlend",value:function(et){return this.blend=et,this}},{key:"setUniform",value:function(et,_){var Y=this;if(typeof et!="string")return Object.keys(et).forEach(function(q){return Y.setUniform(q,et[q])}),this;var $=this.uniforms.find(function(q){return q.name===et});return $?($.dirty=!0,$.data=_):this.uniforms.push({name:et,dirty:!0,data:_}),this.dirty=!0,this}}]),nt}(N.a)},plQd:function(Ft,I,a){Ft.exports=a("C3Dj")},ptHe:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("KZ/l");Ft.exports={run:g,undo:E};function g(S){var A=S.graph().acyclicer==="greedy"?i(S,M(S)):p(S);f.forEach(A,function(x){var O=S.edge(x);S.removeEdge(x),O.forwardName=x.name,O.reversed=!0,S.setEdge(x.w,x.v,O,f.uniqueId("rev"))});function M(x){return function(O){return x.edge(O).weight}}}function p(S){var A=[],M={},x={};function O(C){f.has(x,C)||(x[C]=!0,M[C]=!0,f.forEach(S.outEdges(C),function(D){f.has(M,D.w)?A.push(D):O(D.w)}),delete M[C])}return f.forEach(S.nodes(),O),A}function E(S){f.forEach(S.edges(),function(A){var M=S.edge(A);if(M.reversed){S.removeEdge(A);var x=M.forwardName;delete M.reversed,delete M.forwardName,S.setEdge(A.w,A.v,M,x)}})}},q4HE:function(Ft,I){var a="\\ud800-\\udfff",f="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",g="\\u20d0-\\u20ff",p=f+i+g,E="\\ufe0e\\ufe0f",S="["+a+"]",A="["+p+"]",M="\\ud83c[\\udffb-\\udfff]",x="(?:"+A+"|"+M+")",O="[^"+a+"]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",D="[\\ud800-\\udbff][\\udc00-\\udfff]",R="\\u200d",y=x+"?",w="["+E+"]?",N="(?:"+R+"(?:"+[O,C,D].join("|")+")"+w+y+")*",z=w+y+N,V="(?:"+[O+A+"?",A,C,D,S].join("|")+")",B=RegExp(M+"(?="+M+")|"+V+z,"g");function P(T){for(var W=B.lastIndex=0;B.test(T);)++W;return W}Ft.exports=P},q92V:function(Ft,I,a){var f=a("dunj"),i=a("V9xz"),g=a("zZ0H");function p(E){return E&&E.length?f(E,g,i):void 0}Ft.exports=p},qGSU:function(Ft,I,a){"use strict";var f=a("b5wT");Ft.exports={adjust:i,undo:g};function i(O){var C=O.graph().rankdir.toLowerCase();(C==="lr"||C==="rl")&&p(O)}function g(O){var C=O.graph().rankdir.toLowerCase();(C==="bt"||C==="rl")&&S(O),(C==="lr"||C==="rl")&&(M(O),p(O))}function p(O){f.forEach(O.nodes(),function(C){E(O.node(C))}),f.forEach(O.edges(),function(C){E(O.edge(C))})}function E(O){var C=O.width;O.width=O.height,O.height=C}function S(O){f.forEach(O.nodes(),function(C){A(O.node(C))}),f.forEach(O.edges(),function(C){var D=O.edge(C);f.forEach(D.points,A),f.has(D,"y")&&A(D)})}function A(O){O.y=-O.y}function M(O){f.forEach(O.nodes(),function(C){x(O.node(C))}),f.forEach(O.edges(),function(C){var D=O.edge(C);f.forEach(D.points,x),f.has(D,"x")&&x(D)})}function x(O){var C=O.x;O.x=O.y,O.y=C}},qK8v:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.isStackOverflowExeption=void 0;var f=a("MON2");function i(g){return g instanceof RangeError||g.message===f.STACK_OVERFLOW}I.isStackOverflowExeption=i},qU1D:function(Ft,I,a){"use strict";var f=a("kdrt"),i=a("l08K"),g=a.n(i),p=a("ff4A"),E=a.n(p),S=a("weLR");a.d(I,"Event",function(){return S.a});var A=a("IlFV");a.d(I,"Base",function(){return A.a});var M=a("H7K6"),x=a("Gg4N"),O=a("JYrq"),C=a("PL7N"),D=a("5jV7"),R=a("8Ek7"),y=a("uwyu"),w=a("xcS9"),N="0.5.6"},qaDU:function(Ft,I,a){"use strict";a.d(I,"a",function(){return p});var f=a("mrSG"),i=a("kXyF"),g=[1,0,0,0,1,0,0,0,1];function p(E,S){var A=S?Object(f.g)(S):Object(f.g)(g);return i.Util.transform(A,E)}},qfsk:function(Ft,I,a){"use strict";a.d(I,"b",function(){return x}),a.d(I,"a",function(){return O});var f=a("J4zp"),i=a.n(f),g=a("lwsE"),p=a.n(g),E=a("W8MJ"),S=a.n(E),A=a("IOcx"),M=a("cXWL"),x;(function(C){C[C.OUTSIDE=4294967295]="OUTSIDE",C[C.INSIDE=0]="INSIDE",C[C.INDETERMINATE=2147483647]="INDETERMINATE"})(x||(x={}));var O=function(){function C(D){if(p()(this,C),this.planes=[],D)this.planes=D;else for(var R=0;R<6;R++)this.planes.push(new M.a)}return S()(C,[{key:"extractFromVPMatrix",value:function(R){var y=i()(R,16),w=y[0],N=y[1],z=y[2],V=y[3],B=y[4],P=y[5],T=y[6],W=y[7],Q=y[8],nt=y[9],st=y[10],et=y[11],_=y[12],Y=y[13],$=y[14],q=y[15];A.e.set(this.planes[0].normal,V-w,W-B,et-Q),this.planes[0].distance=-(q-_),A.e.set(this.planes[1].normal,V+w,W+B,et+Q),this.planes[1].distance=-(q+_),A.e.set(this.planes[2].normal,V+N,W+P,et+nt),this.planes[2].distance=-(q+Y),A.e.set(this.planes[3].normal,V-N,W-P,et-nt),this.planes[3].distance=-(q-Y),A.e.set(this.planes[4].normal,V-z,W-T,et-st),this.planes[4].distance=-(q-$),A.e.set(this.planes[5].normal,V+z,W+T,et+st),this.planes[5].distance=-(q+$),this.planes.forEach(function(at){at.normalize(),at.updatePNVertexFlag()})}}]),C}()},quyA:function(Ft,I){var a="\\ud800-\\udfff",f="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",g="\\u20d0-\\u20ff",p=f+i+g,E="\\ufe0e\\ufe0f",S="\\u200d",A=RegExp("["+S+a+p+E+"]");function M(x){return A.test(x)}Ft.exports=M},qvmO:function(Ft,I,a){var f=a("3y7U");Ft.exports=i;function i(g,p){return f(g,p,"pre")}},r0DC:function(Ft,I,a){"use strict";a.d(I,"b",function(){return O}),a.d(I,"a",function(){return C});var f=a("cyZq"),i=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,g=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,p=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,E=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function S(D,R){var y=D.match(E);Object(f.c)(y,function(w){var N=w.split(":");R.addColorStop(N[0],N[1])})}function A(D,R,y){var w=i.exec(y),N=parseFloat(w[1])%360*(Math.PI/180),z=w[2],V=R.getBBox(),B,P;N>=0&&N<1/2*Math.PI?(B={x:V.minX,y:V.minY},P={x:V.maxX,y:V.maxY}):1/2*Math.PI<=N&&N<Math.PI?(B={x:V.maxX,y:V.minY},P={x:V.minX,y:V.maxY}):Math.PI<=N&&N<3/2*Math.PI?(B={x:V.maxX,y:V.maxY},P={x:V.minX,y:V.minY}):(B={x:V.minX,y:V.maxY},P={x:V.maxX,y:V.minY});var T=Math.tan(N),W=T*T,Q=(P.x-B.x+T*(P.y-B.y))/(W+1)+B.x,nt=T*(P.x-B.x+T*(P.y-B.y))/(W+1)+B.y,st=D.createLinearGradient(B.x,B.y,Q,nt);return S(z,st),st}function M(D,R,y){var w=g.exec(y),N=parseFloat(w[1]),z=parseFloat(w[2]),V=parseFloat(w[3]),B=w[4];if(V===0){var P=B.match(E);return P[P.length-1].split(":")[1]}var T=R.getBBox(),W=T.maxX-T.minX,Q=T.maxY-T.minY,nt=Math.sqrt(W*W+Q*Q)/2,st=D.createRadialGradient(T.minX+W*N,T.minY+Q*z,0,T.minX+W/2,T.minY+Q/2,V*nt);return S(B,st),st}function x(D,R,y){if(R.get("patternSource")&&R.get("patternSource")===y)return R.get("pattern");var w,N,z=p.exec(y),V=z[1],B=z[2];function P(){w=D.createPattern(N,V),R.set("pattern",w),R.set("patternSource",y)}switch(V){case"a":V="repeat";break;case"x":V="repeat-x";break;case"y":V="repeat-y";break;case"n":V="no-repeat";break;default:V="no-repeat"}return N=new Image,B.match(/^data:/i)||(N.crossOrigin="Anonymous"),N.src=B,N.complete?P():(N.onload=P,N.src=N.src),w}function O(D,R,y){if(Object(f.k)(y)){if(y[1]==="("||y[2]==="("){if(y[0]==="l")return A(D,R,y);if(y[0]==="r")return M(D,R,y);if(y[0]==="p")return x(D,R,y)}return y}}function C(D){var R=0,y=0,w=0,N=0;return Object(f.g)(D)?D.length===1?R=y=w=N=D[0]:D.length===2?(R=w=D[0],y=N=D[1]):D.length===3?(R=D[0],y=N=D[1],w=D[2]):(R=D[0],y=D[1],w=D[2],N=D[3]):R=y=w=N=D,[R,y,w,N]}},"rAM+":function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=a("Qw5x");function i(g,p){var E;if(typeof Symbol=="undefined"||g[Symbol.iterator]==null){if(Array.isArray(g)||(E=Object(f.a)(g))||p&&g&&typeof g.length=="number"){E&&(g=E);var S=0,A=function(){};return{s:A,n:function(){return S>=g.length?{done:!0}:{done:!1,value:g[S++]}},e:function(D){throw D},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M=!0,x=!1,O;return{s:function(){E=g[Symbol.iterator]()},n:function(){var D=E.next();return M=D.done,D},e:function(D){x=!0,O=D},f:function(){try{!M&&E.return!=null&&E.return()}finally{if(x)throw O}}}}},rtSP:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Ct});var f=a("mrSG"),i=a("iTfj"),g=a("zJSt"),p=a("YuPD"),E=a("w02o"),S=a("tKoa"),A="x",M="y",x="name",O="nodes",C="views",D=a("F/eT"),R=a("DyAw");function y(Z){return Z.target.depth}function w(Z){return Z.depth}function N(Z,X){return X-1-Z.height}function z(Z,X){return Z.sourceLinks.length?Z.depth:X-1}function V(Z){return Z.targetLinks.length?Z.depth:Z.sourceLinks.length?Object(i.ab)(Z.sourceLinks,y)-1:0}function B(Z){return function(){return Z}}function P(Z,X){for(var dt=0,H=0;H<Z.length;H++)dt+=X(Z[H]);return dt}function T(Z,X){for(var dt=-Infinity,H=0;H<Z.length;H++)dt=Math.max(X(Z[H]),dt);return dt}function W(Z,X){for(var dt=Infinity,H=0;H<Z.length;H++)dt=Math.min(X(Z[H]),dt);return dt}function Q(Z,X){return st(Z.source,X.source)||Z.index-X.index}function nt(Z,X){return st(Z.target,X.target)||Z.index-X.index}function st(Z,X){return Z.y0-X.y0}function et(Z){return Z.value}function _(Z){return Z.index}function Y(Z){return Z.nodes}function $(Z){return Z.links}function q(Z,X){var dt=Z.get(X);if(!dt)throw new Error("missing: "+X);return dt}function at(Z){for(var X=Z.nodes,dt=0,H=X;dt<H.length;dt++){for(var lt=H[dt],Ot=lt.y0,Rt=Ot,zt=0,Bt=lt.sourceLinks;zt<Bt.length;zt++){var tt=Bt[zt];tt.y0=Ot+tt.width/2,Ot+=tt.width}for(var J=0,G=lt.targetLinks;J<G.length;J++){var tt=G[J];tt.y1=Rt+tt.width/2,Rt+=tt.width}}}function pt(){var Z=0,X=0,dt=1,H=1,lt=24,Ot=8,Rt,zt=_,Bt=z,tt,J,G,Et=Y,Tt=$,ct=6;function St(Ge){var br={nodes:Et(Ge),links:Tt(Ge)};return Vt(br),Lt(br),Nt(br),Zt(br),Ee(br),at(br),br}St.update=function(Ge){return at(Ge),Ge},St.nodeId=function(Ge){return arguments.length?(zt=typeof Ge=="function"?Ge:B(Ge),St):zt},St.nodeAlign=function(Ge){return arguments.length?(Bt=typeof Ge=="function"?Ge:B(Ge),St):Bt},St.nodeDepth=function(Ge){return arguments.length?(tt=(typeof Ge=="function",Ge),St):tt},St.nodeSort=function(Ge){return arguments.length?(J=Ge,St):J},St.nodeWidth=function(Ge){return arguments.length?(lt=+Ge,St):lt},St.nodePadding=function(Ge){return arguments.length?(Ot=Rt=+Ge,St):Ot},St.nodes=function(Ge){return arguments.length?(Et=typeof Ge=="function"?Ge:B(Ge),St):Et},St.links=function(Ge){return arguments.length?(Tt=typeof Ge=="function"?Ge:B(Ge),St):Tt},St.linkSort=function(Ge){return arguments.length?(G=Ge,St):G},St.size=function(Ge){return arguments.length?(Z=X=0,dt=+Ge[0],H=+Ge[1],St):[dt-Z,H-X]},St.extent=function(Ge){return arguments.length?(Z=+Ge[0][0],dt=+Ge[1][0],X=+Ge[0][1],H=+Ge[1][1],St):[[Z,X],[dt,H]]},St.iterations=function(Ge){return arguments.length?(ct=+Ge,St):ct};function Vt(Ge){var br=Ge.nodes,er=Ge.links;br.forEach(function(_n,sa){_n.index=sa,_n.sourceLinks=[],_n.targetLinks=[]});var nr=new Map(br.map(function(_n){return[zt(_n),_n]}));if(er.forEach(function(_n,sa){_n.index=sa;var ci=_n.source,fi=_n.target;typeof ci!="object"&&(ci=_n.source=q(nr,ci)),typeof fi!="object"&&(fi=_n.target=q(nr,fi)),ci.sourceLinks.push(_n),fi.targetLinks.push(_n)}),G!=null)for(var yr=0,Rr=br;yr<Rr.length;yr++){var an=Rr[yr],In=an.sourceLinks,Un=an.targetLinks;In.sort(G),Un.sort(G)}}function Lt(Ge){for(var br=Ge.nodes,er=0,nr=br;er<nr.length;er++){var yr=nr[er];yr.value=yr.fixedValue===void 0?Math.max(P(yr.sourceLinks,et),P(yr.targetLinks,et)):yr.fixedValue}}function Nt(Ge){for(var br=Ge.nodes,er=br.length,nr=new Set(br),yr=new Set,Rr=0;nr.size;){if(nr.forEach(function(sa){sa.depth=Rr;for(var ci=0,fi=sa.sourceLinks;ci<fi.length;ci++){var pa=fi[ci].target;yr.add(pa)}}),++Rr>er)throw new Error("circular link");nr=yr,yr=new Set}if(tt)for(var an=Math.max(T(br,function(sa){return sa.depth})+1,0),In=void 0,Un=0;Un<br.length;Un++){In=br[Un];var _n=Math.max(T(br,function(sa){return sa.depth})+1,0);In.depth=tt.call(null,In,an)}}function Zt(Ge){for(var br=Ge.nodes,er=br.length,nr=new Set(br),yr=new Set,Rr=0;nr.size;){if(nr.forEach(function(an){an.height=Rr;for(var In=0,Un=an.targetLinks;In<Un.length;In++){var _n=Un[In].source;yr.add(_n)}}),++Rr>er)throw new Error("circular link");nr=yr,yr=new Set}}function oe(Ge){for(var br=Ge.nodes,er=Math.max(T(br,function(fi){return fi.depth})+1,0),nr=(dt-Z-lt)/(er-1),yr=new Array(er).fill(0).map(function(){return[]}),Rr=0,an=br;Rr<an.length;Rr++){var In=an[Rr],Un=Math.max(0,Math.min(er-1,Math.floor(Bt.call(null,In,er))));In.layer=Un,In.x0=Z+Un*nr,In.x1=In.x0+lt,yr[Un]?yr[Un].push(In):yr[Un]=[In]}if(J)for(var _n=0,sa=yr;_n<sa.length;_n++){var ci=sa[_n];ci.sort(J)}return yr}function ue(Ge){for(var br=W(Ge,function(pa){return(H-X-(pa.length-1)*Rt)/P(pa,et)}),er=0,nr=Ge;er<nr.length;er++){for(var yr=nr[er],Rr=X,an=0,In=yr;an<In.length;an++){var Un=In[an];Un.y0=Rr,Un.y1=Rr+Un.value*br,Rr=Un.y1+Rt;for(var _n=0,sa=Un.sourceLinks;_n<sa.length;_n++){var ci=sa[_n];ci.width=ci.value*br}}Rr=(H-Rr+Rt)/(yr.length+1);for(var fi=0;fi<yr.length;++fi){var Un=yr[fi];Un.y0+=Rr*(fi+1),Un.y1+=Rr*(fi+1)}ur(yr)}}function Ee(Ge){var br=oe(Ge);Rt=Math.min(Ot,(H-X)/(T(br,function(Rr){return Rr.length})-1)),ue(br);for(var er=0;er<ct;++er){var nr=Math.pow(.99,er),yr=Math.max(1-nr,(er+1)/ct);Se(br,nr,yr),Te(br,nr,yr)}}function Te(Ge,br,er){for(var nr=1,yr=Ge.length;nr<yr;++nr){for(var Rr=Ge[nr],an=0,In=Rr;an<In.length;an++){for(var Un=In[an],_n=0,sa=0,ci=0,fi=Un.targetLinks;ci<fi.length;ci++){var pa=fi[ci],ga=pa.source,Xi=pa.value,Ci=Xi*(Un.layer-ga.layer);_n+=jr(ga,Un)*Ci,sa+=Ci}if(sa>0){var Ki=(_n/sa-Un.y0)*br;Un.y0+=Ki,Un.y1+=Ki,_e(Un)}}J===void 0&&Rr.sort(st),Rr.length&&$e(Rr,er)}}function Se(Ge,br,er){for(var nr=Ge.length,yr=nr-2;yr>=0;--yr){for(var Rr=Ge[yr],an=0,In=Rr;an<In.length;an++){for(var Un=In[an],_n=0,sa=0,ci=0,fi=Un.sourceLinks;ci<fi.length;ci++){var pa=fi[ci],ga=pa.target,Xi=pa.value,Ci=Xi*(ga.layer-Un.layer);_n+=Ar(Un,ga)*Ci,sa+=Ci}if(sa>0){var Ki=(_n/sa-Un.y0)*br;Un.y0+=Ki,Un.y1+=Ki,_e(Un)}}J===void 0&&Rr.sort(st),Rr.length&&$e(Rr,er)}}function $e(Ge,br){var er=Ge.length>>1,nr=Ge[er];He(Ge,nr.y0-Rt,er-1,br),cr(Ge,nr.y1+Rt,er+1,br),He(Ge,H,Ge.length-1,br),cr(Ge,X,0,br)}function cr(Ge,br,er,nr){for(;er<Ge.length;++er){var yr=Ge[er],Rr=(br-yr.y0)*nr;Rr>1e-6&&(yr.y0+=Rr,yr.y1+=Rr),br=yr.y1+Rt}}function He(Ge,br,er,nr){for(;er>=0;--er){var yr=Ge[er],Rr=(yr.y1-br)*nr;Rr>1e-6&&(yr.y0-=Rr,yr.y1-=Rr),br=yr.y0-Rt}}function _e(Ge){var br=Ge.sourceLinks,er=Ge.targetLinks;if(G===void 0){for(var nr=0,yr=er;nr<yr.length;nr++){var Rr=yr[nr].source.sourceLinks;Rr.sort(nt)}for(var an=0,In=br;an<In.length;an++){var Un=In[an].target.targetLinks;Un.sort(Q)}}}function ur(Ge){if(G===void 0)for(var br=0,er=Ge;br<er.length;br++){var nr=er[br],yr=nr.sourceLinks,Rr=nr.targetLinks;yr.sort(nt),Rr.sort(Q)}}function jr(Ge,br){for(var er=Ge.y0-(Ge.sourceLinks.length-1)*Rt/2,nr=0,yr=Ge.sourceLinks;nr<yr.length;nr++){var Rr=yr[nr],an=Rr.target,In=Rr.width;if(an===br)break;er+=In+Rt}for(var Un=0,_n=br.targetLinks;Un<_n.length;Un++){var sa=_n[Un],an=sa.source,In=sa.width;if(an===Ge)break;er-=In}return er}function Ar(Ge,br){for(var er=br.y0-(br.targetLinks.length-1)*Rt/2,nr=0,yr=br.targetLinks;nr<yr.length;nr++){var Rr=yr[nr],an=Rr.source,In=Rr.width;if(an===Ge)break;er+=In+Rt}for(var Un=0,_n=Ge.sourceLinks;Un<_n.length;Un++){var sa=_n[Un],an=sa.target,In=sa.width;if(an===br)break;er-=In}return er}return St}var mt={left:w,right:N,center:V,justify:z},ot={nodeId:function(X){return X.index},nodeAlign:"justify",nodeWidth:.008,nodePadding:.03,nodeSort:void 0};function xt(Z){var X=Object(i.O)(Z)?mt[Z]:Object(i.H)(Z)?Z:null;return X||z}function It(Z){return Object(i.b)({},ot,Z)}function Ht(Z,X){var dt=It(Z),H=dt.nodeId,lt=dt.nodeSort,Ot=dt.nodeAlign,Rt=dt.nodeWidth,zt=dt.nodePadding,Bt=dt.nodeDepth,tt=pt().nodeSort(lt).nodeWidth(Rt).nodePadding(zt).nodeDepth(Bt).nodeAlign(xt(Ot)).extent([[0,0],[1,1]]).nodeId(H),J=tt(X);return J.nodes.forEach(function(G){var Et=G.x0,Tt=G.x1,ct=G.y0,St=G.y1;G.x=[Et,Tt,Tt,Et],G.y=[ct,ct,St,St]}),J.links.forEach(function(G){var Et=G.source,Tt=G.target,ct=Et.x1,St=Tt.x0;G.x=[ct,ct,St,St];var Vt=G.width/2;G.y=[G.y0+Vt,G.y0-Vt,G.y1+Vt,G.y1-Vt]}),J}function Qt(Z,X,dt){return Object(i.jb)(X)===0?!1:X.includes(dt)?!0:X.some(function(H){return Qt(Z,Z.get(H),dt)})}function $t(Z,X,dt){var H=[],lt=[],Ot=new Map;return Object(i.j)(Z,function(Rt){var zt=Rt[X],Bt=Rt[dt];Qt(Ot,[zt],Bt)?lt.push(Rt):(H.push(Rt),Ot.has(Bt)||Ot.set(Bt,[]),Ot.get(Bt).push(zt))}),lt.length!==0&&console.warn("sankey data contains circle, "+lt.length+" records removed.",lt),H}function yt(Z,X,dt){return Object(D.b)(Z)?Z/dt:X}function ut(Z,X,dt){return Object(D.b)(Z)?Z/dt:X}function ft(Z,X,dt){var H=Z.data,lt=Z.sourceField,Ot=Z.targetField,Rt=Z.weightField,zt=Z.nodeAlign,Bt=Z.nodeSort,tt=Z.nodePadding,J=Z.nodePaddingRatio,G=Z.nodeWidth,Et=Z.nodeWidthRatio,Tt=Z.nodeDepth,ct=Object(R.c)($t(H,lt,Ot),lt,Ot,Rt),St=Ht({nodeAlign:zt,nodePadding:ut(tt,J,dt),nodeWidth:yt(G,Et,X),nodeSort:Bt,nodeDepth:Tt},ct),Vt=St.nodes,Lt=St.links;return{nodes:Vt.map(function(Nt){return{x:Nt.x,y:Nt.y,name:Nt.name,isNode:!0}}),edges:Lt.map(function(Nt){return{source:Nt.source.name,target:Nt.target.name,name:Nt.source.name||Nt.target.name,x:Nt.x,y:Nt.y,value:Nt.value,isNode:!1}})}}function it(Z){var X=Z.chart,dt=Z.options,H=dt.color,lt=dt.nodeStyle,Ot=dt.edgeStyle,Rt=dt.label,zt=dt.tooltip;X.legend(!1),X.tooltip(zt),X.axis(!1),X.coordinate().reflect("y");var Bt=ft(dt,X.width,X.height),tt=Bt.nodes,J=Bt.edges,G=X.createView({id:"views"});G.data(J),Object(S.b)({chart:G,options:{xField:A,yField:M,seriesField:x,edge:{color:H,style:Ot,shape:"arc"},tooltip:zt,state:{active:{style:{opacity:.8,lineWidth:0}}}}});var Et=X.createView({id:"nodes"});return Et.data(tt),Object(S.f)({chart:Et,options:{xField:A,yField:M,seriesField:x,polygon:{color:H,style:lt},label:Rt,tooltip:zt}}),X.interaction("element-active"),X.scale({x:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},y:{sync:!0,nice:!0,min:0,max:1,minLimit:0,maxLimit:1},name:{sync:"color"}}),Z}function vt(Z){var X=Z.chart,dt=Z.options,H=dt.animation;typeof H=="boolean"?X.animate(H):X.animate(!0);var lt=Object(f.g)(X.views[0].geometries,X.views[1].geometries);return lt.forEach(function(Ot){Ot.animate(H)}),Z}function Wt(Z){return Object(p.e)(it,E.c,vt,E.j)(Z)}var Ct=function(Z){Object(f.c)(X,Z);function X(){var dt=Z!==null&&Z.apply(this,arguments)||this;return dt.type="sankey",dt}return X.getDefaultOptions=function(){return{appendPadding:8,syncViewPadding:!0,nodeStyle:{opacity:1,fillOpacity:1,lineWidth:1},edgeStyle:{opacity:.3,lineWidth:0},label:{fields:["x","name"],callback:function(H,lt){var Ot=H[1]===1;return{style:{fill:"#545454",textAlign:Ot?"end":"start"},offsetX:Ot?-8:8,content:lt}},layout:[{type:"hide-overlap"}]},tooltip:{showTitle:!1,showMarkers:!1,shared:!1,fields:["name","source","target","value","isNode"],showContent:function(H){return!Object(i.s)(H,[0,"data","isNode"])},formatter:function(H){var lt=H.source,Ot=H.target,Rt=H.value;return{name:lt+" -> "+Ot,value:Rt}}},nodeWidthRatio:.008,nodePaddingRatio:.01,animation:{appear:{animation:"wave-in"},enter:{animation:"wave-in"}}}},X.prototype.changeData=function(dt){this.updateOption({data:dt});var H=ft(this.options,this.chart.width,this.chart.height),lt=H.nodes,Ot=H.edges,Rt=Object(p.d)(this.chart,O),zt=Object(p.d)(this.chart,C);Rt.changeData(lt),zt.changeData(Ot)},X.prototype.getSchemaAdaptor=function(){return Wt},X.prototype.getDefaultOptions=function(){return X.getDefaultOptions()},X}(g.b)},sGjT:function(Ft,I,a){"use strict";a.d(I,"a",function(){return g});var f=a("QyJ8");function i(p,E){if(Object(f.a)(p)!=="object"||p===null)return p;var S=p[Symbol.toPrimitive];if(S!==void 0){var A=S.call(p,E||"default");if(Object(f.a)(A)!=="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(p)}function g(p){var E=i(p,"string");return Object(f.a)(E)==="symbol"?E:String(E)}},sYIZ:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("aFU3");function g(R,y){if(y){var w=Object(i.invert)(y);return Object(i.multiplyVec2)(w,R)}return R}function p(R,y,w){var N=R.getTotalMatrix();if(N){var z=g([y,w,1],N),V=z[0],B=z[1];return[V,B]}return[y,w]}function E(R,y,w){if(R.isCanvas&&R.isCanvas())return!0;if(!Object(i.isAllowCapture)(R)||R.cfg.isInView===!1)return!1;if(R.cfg.clipShape){var N=p(R,y,w),z=N[0],V=N[1];if(R.isClipped(z,V))return!1}var B=R.cfg.cacheCanvasBBox||R.getCanvasBBox();return y>=B.minX&&y<=B.maxX&&w>=B.minY&&w<=B.maxY}function S(R,y,w){if(!E(R,y,w))return null;for(var N=null,z=R.getChildren(),V=z.length,B=V-1;B>=0;B--){var P=z[B];if(P.isGroup())N=S(P,y,w);else if(E(P,y,w)){var T=P,W=p(P,y,w),Q=W[0],nt=W[1];T.isInShape(Q,nt)&&(N=P)}if(N)break}return N}var A=a("R5nb"),M=a("wq2r"),x=a("cyZq"),O=a("9eUa"),C=function(R){Object(f.c)(y,R);function y(){return R!==null&&R.apply(this,arguments)||this}return y.prototype.getDefaultCfg=function(){var w=R.prototype.getDefaultCfg.call(this);return w.renderer="canvas",w.autoDraw=!0,w.localRefresh=!0,w.refreshElements=[],w.clipView=!0,w.quickHit=!1,w},y.prototype.onCanvasChange=function(w){(w==="attr"||w==="sort"||w==="changeSize")&&(this.set("refreshElements",[this]),this.draw())},y.prototype.getShapeBase=function(){return A},y.prototype.getGroupBase=function(){return M.a},y.prototype.getPixelRatio=function(){var w=this.get("pixelRatio")||Object(x.d)();return w>=1?Math.ceil(w):1},y.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},y.prototype.createDom=function(){var w=document.createElement("canvas"),N=w.getContext("2d");return this.set("context",N),w},y.prototype.setDOMSize=function(w,N){R.prototype.setDOMSize.call(this,w,N);var z=this.get("context"),V=this.get("el"),B=this.getPixelRatio();V.width=B*w,V.height=B*N,B>1&&z.scale(B,B)},y.prototype.clear=function(){R.prototype.clear.call(this),this._clearFrame();var w=this.get("context"),N=this.get("el");w.clearRect(0,0,N.width,N.height)},y.prototype.getShape=function(w,N){var z;return this.get("quickHit")?z=S(this,w,N):z=R.prototype.getShape.call(this,w,N,null),z},y.prototype._getRefreshRegion=function(){var w=this.get("refreshElements"),N=this.getViewRange(),z;if(w.length&&w[0]===this)z=N;else if(z=Object(O.f)(w),z){z.minX=Math.floor(z.minX),z.minY=Math.floor(z.minY),z.maxX=Math.ceil(z.maxX),z.maxY=Math.ceil(z.maxY),z.maxY+=1;var V=this.get("clipView");V&&(z=Object(O.g)(z,N))}return z},y.prototype.refreshElement=function(w){var N=this.get("refreshElements");N.push(w)},y.prototype._clearFrame=function(){var w=this.get("drawFrame");w&&(Object(x.a)(w),this.set("drawFrame",null),this.set("refreshElements",[]))},y.prototype.draw=function(){var w=this.get("drawFrame");this.get("autoDraw")&&w||this._startDraw()},y.prototype._drawAll=function(){var w=this.get("context"),N=this.get("el"),z=this.getChildren();w.clearRect(0,0,N.width,N.height),Object(O.a)(w,this),Object(O.d)(w,z),this.set("refreshElements",[])},y.prototype._drawRegion=function(){var w=this.get("context"),N=this.get("refreshElements"),z=this.getChildren(),V=this._getRefreshRegion();V?(w.clearRect(V.minX,V.minY,V.maxX-V.minX,V.maxY-V.minY),w.save(),w.beginPath(),w.rect(V.minX,V.minY,V.maxX-V.minX,V.maxY-V.minY),w.clip(),Object(O.a)(w,this),Object(O.b)(this,z,V),Object(O.d)(w,z,V),w.restore()):N.length&&Object(O.c)(N),Object(x.c)(N,function(B){B.get("hasChanged")&&B.set("hasChanged",!1)}),this.set("refreshElements",[])},y.prototype._startDraw=function(){var w=this,N=this.get("drawFrame");N||(N=Object(x.n)(function(){w.get("localRefresh")?w._drawRegion():w._drawAll(),w.set("drawFrame",null)}),this.set("drawFrame",N))},y.prototype.skipDraw=function(){},y.prototype.removeDom=function(){var w=this.get("el");w.width=0,w.height=0,w.parentNode.removeChild(w)},y}(i.AbstractCanvas),D=I.a=C},sj7I:function(Ft,I){Ft.exports=a;function a(f,i,g){var p=Math.cos(g),E=Math.sin(g),S=i[0],A=i[1];return f[0]=S*p-A*E,f[1]=S*E+A*p,f}},sqD9:function(Ft,I,a){"use strict";a.d(I,"b",function(){return p}),a.d(I,"a",function(){return E});var f=a("mrSG"),i=a("iTfj"),g=a("F/eT");function p(S,A,M,x){var O=Object(i.fb)(S,function(C,D){var R=D[M],y=C.has(R)?C.get(R):0,w=D[A];return y=Object(g.b)(w)?y+w:y,C.set(R,y),C},new Map);return Object(i.U)(S,function(C){var D,R=C[A],y=C[M],w=Object(g.b)(R)?R/O.get(y):0;return Object(f.a)(Object(f.a)({},C),(D={},D[x]=w,D))})}function E(S,A,M,x,O){return O?p(S,A,M,x):S}},sshJ:function(Ft,I,a){"use strict";a.d(I,"a",function(){return M});var f=a("YuPD"),i=a("w02o"),g=a("tKoa"),p=a("hYLx");a.d(I,"b",function(){return p.b});var E=a("lFe4"),S=a("7cv3");function A(x){var O=x.chart,C=x.options,D=C.data,R=C.color,y=C.lineStyle,w=C.point,N=w==null?void 0:w.state,z=Object(E.a)(D);O.data(z);var V=Object(f.b)({},x,{options:{xField:S.c,yField:S.d,line:{color:R,style:y},point:w}}),B=Object(f.b)({},V,{options:{tooltip:!1,state:N}});return Object(g.d)(V),Object(g.e)(B),O.axis(!1),O.legend(!1),x}function M(x){return Object(f.e)(A,p.b,i.j,i.k,i.a,Object(i.b)())(x)}},sstZ:function(Ft,I,a){"use strict";a.d(I,"j",function(){return i}),a.d(I,"c",function(){return g}),a.d(I,"g",function(){return p}),a.d(I,"b",function(){return E});var f=a("iTfj");a.d(I,"e",function(){return f.I}),a.d(I,"d",function(){return f.H}),a.d(I,"h",function(){return f.O}),a.d(I,"f",function(){return f.M}),a.d(I,"i",function(){return f.bb}),a.d(I,"a",function(){return f.j}),a.d(I,"k",function(){return f.tb});function i(S,A){var M=S.indexOf(A);M!==-1&&S.splice(M,1)}var g=typeof window!="undefined"&&typeof window.document!="undefined";function p(S,A){if(S.isCanvas())return!0;for(var M=A.getParent(),x=!1;M;){if(M===S){x=!0;break}M=M.getParent()}return x}function E(S){return S.cfg.visible&&S.cfg.capture}},t1N5:function(Ft,I,a){var f=a("i2N1"),i={};for(var g in f)f.hasOwnProperty(g)&&(i[f[g]]=g);var p=Ft.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var E in p)if(p.hasOwnProperty(E)){if(!("channels"in p[E]))throw new Error("missing channels property: "+E);if(!("labels"in p[E]))throw new Error("missing channel labels property: "+E);if(p[E].labels.length!==p[E].channels)throw new Error("channel and label counts mismatch: "+E);var S=p[E].channels,A=p[E].labels;delete p[E].channels,delete p[E].labels,Object.defineProperty(p[E],"channels",{value:S}),Object.defineProperty(p[E],"labels",{value:A})}p.rgb.hsl=function(x){var O=x[0]/255,C=x[1]/255,D=x[2]/255,R=Math.min(O,C,D),y=Math.max(O,C,D),w=y-R,N,z,V;return y===R?N=0:O===y?N=(C-D)/w:C===y?N=2+(D-O)/w:D===y&&(N=4+(O-C)/w),N=Math.min(N*60,360),N<0&&(N+=360),V=(R+y)/2,y===R?z=0:V<=.5?z=w/(y+R):z=w/(2-y-R),[N,z*100,V*100]},p.rgb.hsv=function(x){var O,C,D,R,y,w=x[0]/255,N=x[1]/255,z=x[2]/255,V=Math.max(w,N,z),B=V-Math.min(w,N,z),P=function(W){return(V-W)/6/B+1/2};return B===0?R=y=0:(y=B/V,O=P(w),C=P(N),D=P(z),w===V?R=D-C:N===V?R=1/3+O-D:z===V&&(R=2/3+C-O),R<0?R+=1:R>1&&(R-=1)),[R*360,y*100,V*100]},p.rgb.hwb=function(x){var O=x[0],C=x[1],D=x[2],R=p.rgb.hsl(x)[0],y=1/255*Math.min(O,Math.min(C,D));return D=1-1/255*Math.max(O,Math.max(C,D)),[R,y*100,D*100]},p.rgb.cmyk=function(x){var O=x[0]/255,C=x[1]/255,D=x[2]/255,R,y,w,N;return N=Math.min(1-O,1-C,1-D),R=(1-O-N)/(1-N)||0,y=(1-C-N)/(1-N)||0,w=(1-D-N)/(1-N)||0,[R*100,y*100,w*100,N*100]};function M(x,O){return Math.pow(x[0]-O[0],2)+Math.pow(x[1]-O[1],2)+Math.pow(x[2]-O[2],2)}p.rgb.keyword=function(x){var O=i[x];if(O)return O;var C=Infinity,D;for(var R in f)if(f.hasOwnProperty(R)){var y=f[R],w=M(x,y);w<C&&(C=w,D=R)}return D},p.keyword.rgb=function(x){return f[x]},p.rgb.xyz=function(x){var O=x[0]/255,C=x[1]/255,D=x[2]/255;O=O>.04045?Math.pow((O+.055)/1.055,2.4):O/12.92,C=C>.04045?Math.pow((C+.055)/1.055,2.4):C/12.92,D=D>.04045?Math.pow((D+.055)/1.055,2.4):D/12.92;var R=O*.4124+C*.3576+D*.1805,y=O*.2126+C*.7152+D*.0722,w=O*.0193+C*.1192+D*.9505;return[R*100,y*100,w*100]},p.rgb.lab=function(x){var O=p.rgb.xyz(x),C=O[0],D=O[1],R=O[2],y,w,N;return C/=95.047,D/=100,R/=108.883,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,R=R>.008856?Math.pow(R,1/3):7.787*R+16/116,y=116*D-16,w=500*(C-D),N=200*(D-R),[y,w,N]},p.hsl.rgb=function(x){var O=x[0]/360,C=x[1]/100,D=x[2]/100,R,y,w,N,z;if(C===0)return z=D*255,[z,z,z];D<.5?y=D*(1+C):y=D+C-D*C,R=2*D-y,N=[0,0,0];for(var V=0;V<3;V++)w=O+1/3*-(V-1),w<0&&w++,w>1&&w--,6*w<1?z=R+(y-R)*6*w:2*w<1?z=y:3*w<2?z=R+(y-R)*(2/3-w)*6:z=R,N[V]=z*255;return N},p.hsl.hsv=function(x){var O=x[0],C=x[1]/100,D=x[2]/100,R=C,y=Math.max(D,.01),w,N;return D*=2,C*=D<=1?D:2-D,R*=y<=1?y:2-y,N=(D+C)/2,w=D===0?2*R/(y+R):2*C/(D+C),[O,w*100,N*100]},p.hsv.rgb=function(x){var O=x[0]/60,C=x[1]/100,D=x[2]/100,R=Math.floor(O)%6,y=O-Math.floor(O),w=255*D*(1-C),N=255*D*(1-C*y),z=255*D*(1-C*(1-y));switch(D*=255,R){case 0:return[D,z,w];case 1:return[N,D,w];case 2:return[w,D,z];case 3:return[w,N,D];case 4:return[z,w,D];case 5:return[D,w,N]}},p.hsv.hsl=function(x){var O=x[0],C=x[1]/100,D=x[2]/100,R=Math.max(D,.01),y,w,N;return N=(2-C)*D,y=(2-C)*R,w=C*R,w/=y<=1?y:2-y,w=w||0,N/=2,[O,w*100,N*100]},p.hwb.rgb=function(x){var O=x[0]/360,C=x[1]/100,D=x[2]/100,R=C+D,y,w,N,z;R>1&&(C/=R,D/=R),y=Math.floor(6*O),w=1-D,N=6*O-y,(y&1)!=0&&(N=1-N),z=C+N*(w-C);var V,B,P;switch(y){default:case 6:case 0:V=w,B=z,P=C;break;case 1:V=z,B=w,P=C;break;case 2:V=C,B=w,P=z;break;case 3:V=C,B=z,P=w;break;case 4:V=z,B=C,P=w;break;case 5:V=w,B=C,P=z;break}return[V*255,B*255,P*255]},p.cmyk.rgb=function(x){var O=x[0]/100,C=x[1]/100,D=x[2]/100,R=x[3]/100,y,w,N;return y=1-Math.min(1,O*(1-R)+R),w=1-Math.min(1,C*(1-R)+R),N=1-Math.min(1,D*(1-R)+R),[y*255,w*255,N*255]},p.xyz.rgb=function(x){var O=x[0]/100,C=x[1]/100,D=x[2]/100,R,y,w;return R=O*3.2406+C*-1.5372+D*-.4986,y=O*-.9689+C*1.8758+D*.0415,w=O*.0557+C*-.204+D*1.057,R=R>.0031308?1.055*Math.pow(R,1/2.4)-.055:R*12.92,y=y>.0031308?1.055*Math.pow(y,1/2.4)-.055:y*12.92,w=w>.0031308?1.055*Math.pow(w,1/2.4)-.055:w*12.92,R=Math.min(Math.max(0,R),1),y=Math.min(Math.max(0,y),1),w=Math.min(Math.max(0,w),1),[R*255,y*255,w*255]},p.xyz.lab=function(x){var O=x[0],C=x[1],D=x[2],R,y,w;return O/=95.047,C/=100,D/=108.883,O=O>.008856?Math.pow(O,1/3):7.787*O+16/116,C=C>.008856?Math.pow(C,1/3):7.787*C+16/116,D=D>.008856?Math.pow(D,1/3):7.787*D+16/116,R=116*C-16,y=500*(O-C),w=200*(C-D),[R,y,w]},p.lab.xyz=function(x){var O=x[0],C=x[1],D=x[2],R,y,w;y=(O+16)/116,R=C/500+y,w=y-D/200;var N=Math.pow(y,3),z=Math.pow(R,3),V=Math.pow(w,3);return y=N>.008856?N:(y-16/116)/7.787,R=z>.008856?z:(R-16/116)/7.787,w=V>.008856?V:(w-16/116)/7.787,R*=95.047,y*=100,w*=108.883,[R,y,w]},p.lab.lch=function(x){var O=x[0],C=x[1],D=x[2],R,y,w;return R=Math.atan2(D,C),y=R*360/2/Math.PI,y<0&&(y+=360),w=Math.sqrt(C*C+D*D),[O,w,y]},p.lch.lab=function(x){var O=x[0],C=x[1],D=x[2],R,y,w;return w=D/360*2*Math.PI,R=C*Math.cos(w),y=C*Math.sin(w),[O,R,y]},p.rgb.ansi16=function(x){var O=x[0],C=x[1],D=x[2],R=1 in arguments?arguments[1]:p.rgb.hsv(x)[2];if(R=Math.round(R/50),R===0)return 30;var y=30+(Math.round(D/255)<<2|Math.round(C/255)<<1|Math.round(O/255));return R===2&&(y+=60),y},p.hsv.ansi16=function(x){return p.rgb.ansi16(p.hsv.rgb(x),x[2])},p.rgb.ansi256=function(x){var O=x[0],C=x[1],D=x[2];if(O===C&&C===D)return O<8?16:O>248?231:Math.round((O-8)/247*24)+232;var R=16+36*Math.round(O/255*5)+6*Math.round(C/255*5)+Math.round(D/255*5);return R},p.ansi16.rgb=function(x){var O=x%10;if(O===0||O===7)return x>50&&(O+=3.5),O=O/10.5*255,[O,O,O];var C=(~~(x>50)+1)*.5,D=(O&1)*C*255,R=(O>>1&1)*C*255,y=(O>>2&1)*C*255;return[D,R,y]},p.ansi256.rgb=function(x){if(x>=232){var O=(x-232)*10+8;return[O,O,O]}x-=16;var C,D=Math.floor(x/36)/5*255,R=Math.floor((C=x%36)/6)/5*255,y=C%6/5*255;return[D,R,y]},p.rgb.hex=function(x){var O=((Math.round(x[0])&255)<<16)+((Math.round(x[1])&255)<<8)+(Math.round(x[2])&255),C=O.toString(16).toUpperCase();return"000000".substring(C.length)+C},p.hex.rgb=function(x){var O=x.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!O)return[0,0,0];var C=O[0];O[0].length===3&&(C=C.split("").map(function(N){return N+N}).join(""));var D=parseInt(C,16),R=D>>16&255,y=D>>8&255,w=D&255;return[R,y,w]},p.rgb.hcg=function(x){var O=x[0]/255,C=x[1]/255,D=x[2]/255,R=Math.max(Math.max(O,C),D),y=Math.min(Math.min(O,C),D),w=R-y,N,z;return w<1?N=y/(1-w):N=0,w<=0?z=0:R===O?z=(C-D)/w%6:R===C?z=2+(D-O)/w:z=4+(O-C)/w+4,z/=6,z%=1,[z*360,w*100,N*100]},p.hsl.hcg=function(x){var O=x[1]/100,C=x[2]/100,D=1,R=0;return C<.5?D=2*O*C:D=2*O*(1-C),D<1&&(R=(C-.5*D)/(1-D)),[x[0],D*100,R*100]},p.hsv.hcg=function(x){var O=x[1]/100,C=x[2]/100,D=O*C,R=0;return D<1&&(R=(C-D)/(1-D)),[x[0],D*100,R*100]},p.hcg.rgb=function(x){var O=x[0]/360,C=x[1]/100,D=x[2]/100;if(C===0)return[D*255,D*255,D*255];var R=[0,0,0],y=O%1*6,w=y%1,N=1-w,z=0;switch(Math.floor(y)){case 0:R[0]=1,R[1]=w,R[2]=0;break;case 1:R[0]=N,R[1]=1,R[2]=0;break;case 2:R[0]=0,R[1]=1,R[2]=w;break;case 3:R[0]=0,R[1]=N,R[2]=1;break;case 4:R[0]=w,R[1]=0,R[2]=1;break;default:R[0]=1,R[1]=0,R[2]=N}return z=(1-C)*D,[(C*R[0]+z)*255,(C*R[1]+z)*255,(C*R[2]+z)*255]},p.hcg.hsv=function(x){var O=x[1]/100,C=x[2]/100,D=O+C*(1-O),R=0;return D>0&&(R=O/D),[x[0],R*100,D*100]},p.hcg.hsl=function(x){var O=x[1]/100,C=x[2]/100,D=C*(1-O)+.5*O,R=0;return D>0&&D<.5?R=O/(2*D):D>=.5&&D<1&&(R=O/(2*(1-D))),[x[0],R*100,D*100]},p.hcg.hwb=function(x){var O=x[1]/100,C=x[2]/100,D=O+C*(1-O);return[x[0],(D-O)*100,(1-D)*100]},p.hwb.hcg=function(x){var O=x[1]/100,C=x[2]/100,D=1-C,R=D-O,y=0;return R<1&&(y=(D-R)/(1-R)),[x[0],R*100,y*100]},p.apple.rgb=function(x){return[x[0]/65535*255,x[1]/65535*255,x[2]/65535*255]},p.rgb.apple=function(x){return[x[0]/255*65535,x[1]/255*65535,x[2]/255*65535]},p.gray.rgb=function(x){return[x[0]/100*255,x[0]/100*255,x[0]/100*255]},p.gray.hsl=p.gray.hsv=function(x){return[0,0,x[0]]},p.gray.hwb=function(x){return[0,100,x[0]]},p.gray.cmyk=function(x){return[0,0,0,x[0]]},p.gray.lab=function(x){return[x[0],0,0]},p.gray.hex=function(x){var O=Math.round(x[0]/100*255)&255,C=(O<<16)+(O<<8)+O,D=C.toString(16).toUpperCase();return"000000".substring(D.length)+D},p.rgb.gray=function(x){var O=(x[0]+x[1]+x[2])/3;return[O/255*100]}},t2Dn:function(Ft,I,a){var f=a("hypo"),i=a("ljhN");function g(p,E,S){(S!==void 0&&!i(p[E],S)||S===void 0&&!(E in p))&&f(p,E,S)}Ft.exports=g},t8N9:function(Ft,I){Ft.exports=a;function a(f,i){var g=i[0],p=i[1],E=g*g+p*p;return E>0&&(E=1/Math.sqrt(E),f[0]=i[0]*E,f[1]=i[1]*E),f}},tE4n:function(Ft,I,a){"use strict";a.d(I,"a",function(){return st});var f=a("mrSG"),i=a("zJSt"),g=a("YuPD"),p=a("iTfj"),E=a("tKoa"),S=a("w02o"),A=a("Tc6Q"),M={exp:A.regressionExp,linear:A.regressionLinear,loess:A.regressionLoess,log:A.regressionLog,poly:A.regressionPoly,pow:A.regressionPow,quad:A.regressionQuad};function x(et,_){var Y=10,$={regionStyle:[{position:{start:[et,"max"],end:["max",_]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:["min","max"],end:[et,_]},style:{fill:"#a3dda1",opacity:.4}},{position:{start:["min",_],end:[et,"min"]},style:{fill:"#d8d0c0",opacity:.4}},{position:{start:[et,_],end:["max","min"]},style:{fill:"#a3dda1",opacity:.4}}],lineStyle:{stroke:"#9ba29a",lineWidth:1},labelStyle:[{position:["max",_],offsetX:-Y,offsetY:-Y,style:{textAlign:"right",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",_],offsetX:Y,offsetY:-Y,style:{textAlign:"left",textBaseline:"bottom",fontSize:14,fill:"#ccc"}},{position:["min",_],offsetX:Y,offsetY:Y,style:{textAlign:"left",textBaseline:"top",fontSize:14,fill:"#ccc"}},{position:["max",_],offsetX:-Y,offsetY:Y,style:{textAlign:"right",textBaseline:"top",fontSize:14,fill:"#ccc"}}]};return $}var O=function(_,Y){var $=Y.view,q=Y.options,at=q.xField,pt=q.yField,mt=$.getScaleByField(at),ot=$.getScaleByField(pt),xt=_.map(function(It){return $.getCoordinate().convert({x:mt.scale(It[0]),y:ot.scale(It[1])})});return Object(g.j)(xt,!1)},C=function(_){var Y=_.options,$=Y.xField,q=Y.yField,at=Y.data,pt=Y.regressionLine,mt=pt.type,ot=mt===void 0?"linear":mt,xt=pt.algorithm,It;if(xt)It=Object(p.B)(xt)?xt:xt(at);else{var Ht=M[ot]().x(function(Qt){return Qt[$]}).y(function(Qt){return Qt[q]});It=Ht(at)}return O(It,_)},D=function(_){var Y,$=_.meta,q=$===void 0?{}:$,at=_.xField,pt=_.yField,mt=_.data,ot=mt[0][at],xt=mt[0][pt],It=ot>0,Ht=xt>0,Qt=function(yt,ut,ft){var it=Object(p.s)(q,[yt,ut]);if(Object(p.K)(it))return it;if(ft==="x"){var vt={min:It?0:ot*2,max:It?ot*2:0};return vt[ut]}var Wt={min:Ht?0:xt*2,max:Ht?xt*2:0};return Wt[ut]};return Object(f.a)(Object(f.a)({},q),(Y={},Y[at]=Object(f.a)(Object(f.a)({},q[at]),{min:Qt(at,"min","x"),max:Qt(at,"max","x")}),Y[pt]=Object(f.a)(Object(f.a)({},q[pt]),{min:Qt(pt,"min","y"),max:Qt(pt,"max","y")}),Y))};function R(et){var _=et.data,Y=_===void 0?[]:_;return Y.length===1?Object(g.b)({},et,{meta:D(et)}):et}function y(et){var _=et.chart,Y=et.options,$=Y.data,q=Y.type,at=Y.color,pt=Y.shape,mt=Y.pointStyle,ot=Y.shapeField,xt=Y.colorField,It=Y.xField,Ht=Y.yField,Qt=Y.sizeField,$t=Y.size,yt=Y.tooltip;Qt&&($t||($t=[2,8]),Object(p.K)($t)&&($t=[$t,$t])),yt&&!yt.fields&&(yt=Object(f.a)(Object(f.a)({},yt),{fields:[It,Ht,xt,Qt,ot]})),_.data($),Object(E.e)(Object(g.b)({},et,{options:{seriesField:xt,point:{color:at,shape:pt,size:$t,style:mt},tooltip:yt}}));var ut=Object(g.c)(_,"point");return q&&ut.adjust(q),et}function w(et){var _,Y=et.options,$=Y.data,q=Y.xAxis,at=Y.yAxis,pt=Y.xField,mt=Y.yField,ot=Y;return $.length===1&&(ot=R(Object(g.b)({},Y,{meta:D(Y)}))),Object(g.e)(Object(S.f)((_={},_[pt]=q,_[mt]=at,_)))(Object(g.b)({},et,{options:ot}))}function N(et){var _=et.chart,Y=et.options,$=Y.xAxis,q=Y.yAxis,at=Y.xField,pt=Y.yField;return _.axis(at,$),_.axis(pt,q),et}function z(et){var _=et.chart,Y=et.options,$=Y.legend,q=Y.colorField,at=Y.shapeField,pt=Y.sizeField,mt=Y.shapeLegend,ot=Y.sizeLegend,xt=$!==!1;return q&&_.legend(q,xt?$:!1),at&&(mt?_.legend(at,mt):_.legend(at,mt===!1?!1:$)),pt&&_.legend(pt,ot||!1),!xt&&!mt&&!ot&&_.legend(!1),et}function V(et){var _=et.chart,Y=et.options,$=Y.label,q=Y.yField,at=Object(g.c)(_,"point");if(!$)at.label(!1);else{var pt=$.callback,mt=Object(f.e)($,["callback"]);at.label({fields:[q],callback:pt,cfg:Object(g.u)(mt)})}return et}function B(et){var _=et.options,Y=_.quadrant,$=[];if(Y){var q=Y.xBaseline,at=q===void 0?0:q,pt=Y.yBaseline,mt=pt===void 0?0:pt,ot=Y.labels,xt=Y.regionStyle,It=Y.lineStyle,Ht=x(at,mt),Qt=new Array(4).join(",").split(",");Qt.forEach(function($t,yt){$.push(Object(f.a)(Object(f.a)({type:"region",top:!1},Ht.regionStyle[yt].position),{style:Object(g.b)({},Ht.regionStyle[yt].style,xt==null?void 0:xt[yt])}),Object(f.a)({type:"text",top:!0},Object(g.b)({},Ht.labelStyle[yt],ot==null?void 0:ot[yt])))}),$.push({type:"line",top:!1,start:["min",mt],end:["max",mt],style:Object(g.b)({},Ht.lineStyle,It)},{type:"line",top:!1,start:[at,"min"],end:[at,"max"],style:Object(g.b)({},Ht.lineStyle,It)})}return Object(g.e)(Object(S.b)($))(et)}function P(et){var _=et.options,Y=et.chart,$=_.regressionLine;if($){var q=$.style,at=$.top,pt=at===void 0?!1:at,mt={stroke:"#9ba29a",lineWidth:2,opacity:.5};Y.annotation().shape({top:pt,render:function(xt,It){var Ht=xt.addGroup({id:Y.id+"-regression-line",name:"regression-line-group"}),Qt=C({view:It,options:_});Ht.addShape("path",{name:"regression-line",attrs:Object(f.a)(Object(f.a)({path:Qt},mt),q)})}})}return et}function T(et){var _=et.chart,Y=et.options,$=Y.tooltip;return $?_.tooltip($):$===!1&&_.tooltip(!1),et}function W(et){return Object(g.e)(y,w,N,z,T,V,S.c,B,S.a,S.j,P)(et)}var Q=Object(g.b)({},i.b.getDefaultOptions(),{size:4,tooltip:{showTitle:!1,showMarkers:!1,showCrosshairs:!0,crosshairs:{type:"xy"}}}),nt=a("hag6"),st=function(et){Object(f.c)(_,et);function _(){var Y=et!==null&&et.apply(this,arguments)||this;return Y.type="point",Y}return _.getDefaultOptions=function(){return Q},_.prototype.changeData=function(Y){this.updateOption(R(Object(g.b)({},this.options,{data:Y})));var $=this,q=$.options,at=$.chart;w({chart:at,options:q}),this.chart.changeData(Y)},_.prototype.getSchemaAdaptor=function(){return W},_.prototype.getDefaultOptions=function(){return _.getDefaultOptions()},_}(i.b)},tKoa:function(Ft,I,a){"use strict";a.d(I,"a",function(){return E}),a.d(I,"d",function(){return A}),a.d(I,"e",function(){return M}),a.d(I,"c",function(){return C}),a.d(I,"f",function(){return D.a}),a.d(I,"b",function(){return R});var f=a("mrSG"),i=a("5HRO"),g=a("YuPD"),p=a("WOQw");function E(y){var w=y.options,N=w.area,z=w.xField,V=w.yField,B=w.seriesField,P=w.smooth,T=w.tooltip,W=Object(i.a)(T,[z,V,B]),Q=W.fields,nt=W.formatter;return N?Object(p.a)(Object(g.b)({},y,{options:{type:"area",colorField:B,tooltipFields:Q,mapping:Object(f.a)({shape:P?"smooth":"area",tooltip:nt},N)}})):y}var S=a("iTfj");function A(y){var w=y.options,N=w.line,z=w.stepType,V=w.xField,B=w.yField,P=w.seriesField,T=w.smooth,W=w.connectNulls,Q=w.tooltip,nt=Object(i.a)(Q,[V,B,P]),st=nt.fields,et=nt.formatter;return N?Object(p.a)(Object(g.b)({},y,{options:{type:"line",colorField:P,tooltipFields:st,mapping:Object(S.h)({shape:z||(T?"smooth":"line"),tooltip:et},N),args:{connectNulls:W}}})):y}function M(y){var w=y.options,N=w.point,z=w.xField,V=w.yField,B=w.seriesField,P=w.sizeField,T=w.shapeField,W=w.tooltip,Q=Object(i.a)(W,[z,V,B,P,T]),nt=Q.fields,st=Q.formatter;return N?Object(p.a)(Object(g.b)({},y,{options:{type:"point",colorField:B,shapeField:T,tooltipFields:nt,mapping:Object(f.a)({tooltip:st},N)}})):y}var x=a("kXyF");function O(y){var w=y.chart,N=y.options,z=y.ext,V=N.seriesField,B=N.isGroup,P=N.isStack,T=N.marginRatio,W=N.widthRatio,Q=N.groupField,nt=N.theme,st=[];if(V&&(B&&st.push({type:"dodge",dodgeBy:Q||V,marginRatio:T}),P&&st.push({type:"stack",marginRatio:T})),st.length&&(z==null?void 0:z.geometry)){var et=z==null?void 0:z.geometry;et.adjust(st)}return Object(S.I)(W)||w.theme(Object(g.b)({},Object(S.M)(nt)?nt:Object(x.getTheme)(nt),{columnWidthRatio:W})),y}function C(y){var w=y.options,N=w.xField,z=w.yField,V=w.interval,B=w.seriesField,P=w.tooltip,T=w.minColumnWidth,W=w.maxColumnWidth,Q=w.columnBackground,nt=Object(i.a)(P,[N,z,B]),st=nt.fields,et=nt.formatter,_=(V?Object(p.a)(Object(g.b)({},y,{options:{type:"interval",colorField:B,tooltipFields:st,mapping:Object(f.a)({tooltip:et},V),args:{minColumnWidth:T,maxColumnWidth:W,background:Q}}})):y).ext;return O(Object(f.a)(Object(f.a)({},y),{ext:_}))}var D=a("KMYG");function R(y){var w=y.options,N=w.edge,z=w.xField,V=w.yField,B=w.seriesField,P=w.tooltip,T=Object(i.a)(P,[z,V,B]),W=T.fields,Q=T.formatter;return N?Object(p.a)(Object(g.b)({},y,{options:{type:"edge",colorField:B,tooltipFields:W,mapping:Object(f.a)({tooltip:Q},N)}})):y}},tQ6r:function(Ft,I,a){"use strict";var f=a("b5wT"),i=a("F9We").Graph;Ft.exports={addDummyNode:g,simplify:p,asNonCompoundGraph:E,successorWeights:S,predecessorWeights:A,intersectRect:M,buildLayerMatrix:x,normalizeRanks:O,removeEmptyRanks:C,addBorderNode:D,maxRank:R,partition:y,time:w,notime:N};function g(z,V,B,P){var T;do T=f.uniqueId(P);while(z.hasNode(T));return B.dummy=V,z.setNode(T,B),T}function p(z){var V=new i().setGraph(z.graph());return f.forEach(z.nodes(),function(B){V.setNode(B,z.node(B))}),f.forEach(z.edges(),function(B){var P=V.edge(B.v,B.w)||{weight:0,minlen:1},T=z.edge(B);V.setEdge(B.v,B.w,{weight:P.weight+T.weight,minlen:Math.max(P.minlen,T.minlen)})}),V}function E(z){var V=new i({multigraph:z.isMultigraph()}).setGraph(z.graph());return f.forEach(z.nodes(),function(B){z.children(B).length||V.setNode(B,z.node(B))}),f.forEach(z.edges(),function(B){V.setEdge(B,z.edge(B))}),V}function S(z){var V=f.map(z.nodes(),function(B){var P={};return f.forEach(z.outEdges(B),function(T){P[T.w]=(P[T.w]||0)+z.edge(T).weight}),P});return f.zipObject(z.nodes(),V)}function A(z){var V=f.map(z.nodes(),function(B){var P={};return f.forEach(z.inEdges(B),function(T){P[T.v]=(P[T.v]||0)+z.edge(T).weight}),P});return f.zipObject(z.nodes(),V)}function M(z,V){var B=z.x,P=z.y,T=V.x-B,W=V.y-P,Q=z.width/2,nt=z.height/2;if(!T&&!W)throw new Error("Not possible to find intersection inside of the rectangle");var st,et;return Math.abs(W)*Q>Math.abs(T)*nt?(W<0&&(nt=-nt),st=nt*T/W,et=nt):(T<0&&(Q=-Q),st=Q,et=Q*W/T),{x:B+st,y:P+et}}function x(z){var V=f.map(f.range(R(z)+1),function(){return[]});return f.forEach(z.nodes(),function(B){var P=z.node(B),T=P.rank;f.isUndefined(T)||(V[T][P.order]=B)}),V}function O(z){var V=f.min(f.map(z.nodes(),function(B){return z.node(B).rank}));f.forEach(z.nodes(),function(B){var P=z.node(B);f.has(P,"rank")&&(P.rank-=V)})}function C(z){var V=f.min(f.map(z.nodes(),function(W){return z.node(W).rank})),B=[];f.forEach(z.nodes(),function(W){var Q=z.node(W).rank-V;B[Q]||(B[Q]=[]),B[Q].push(W)});var P=0,T=z.graph().nodeRankFactor;f.forEach(B,function(W,Q){f.isUndefined(W)&&Q%T!=0?--P:P&&f.forEach(W,function(nt){z.node(nt).rank+=P})})}function D(z,V,B,P){var T={width:0,height:0};return arguments.length>=4&&(T.rank=B,T.order=P),g(z,"border",T,V)}function R(z){return f.max(f.map(z.nodes(),function(V){var B=z.node(V).rank;if(!f.isUndefined(B))return B}))}function y(z,V){var B={lhs:[],rhs:[]};return f.forEach(z,function(P){V(P)?B.lhs.push(P):B.rhs.push(P)}),B}function w(z,V){var B=f.now();try{return V()}finally{console.log(z+" time: "+(f.now()-B)+"ms")}}function N(z,V){return V()}},tS8v:function(Ft,I,a){"use strict";a.d(I,"a",function(){return f});function f(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}},tdXX:function(Ft,I){},"tvR+":function(Ft,I,a){"use strict";var f=a("DdT1"),i=a("I4jL"),g=a("IeU1"),p=a("CSvP");I.a=function(){var E=i.a,S=!1,A=1,M=1,x=[0],O=p.a,C=p.a,D=p.a,R=p.a,y=p.a;function w(z){return z.x0=z.y0=0,z.x1=A,z.y1=M,z.eachBefore(N),x=[0],S&&z.eachBefore(f.a),z}function N(z){var V=x[z.depth],B=z.x0+V,P=z.y0+V,T=z.x1-V,W=z.y1-V;T<B&&(B=T=(B+T)/2),W<P&&(P=W=(P+W)/2),z.x0=B,z.y0=P,z.x1=T,z.y1=W,z.children&&(V=x[z.depth+1]=O(z)/2,B+=y(z)-V,P+=C(z)-V,T-=D(z)-V,W-=R(z)-V,T<B&&(B=T=(B+T)/2),W<P&&(P=W=(P+W)/2),E(z,B,P,T,W))}return w.round=function(z){return arguments.length?(S=!!z,w):S},w.size=function(z){return arguments.length?(A=+z[0],M=+z[1],w):[A,M]},w.tile=function(z){return arguments.length?(E=Object(g.b)(z),w):E},w.padding=function(z){return arguments.length?w.paddingInner(z).paddingOuter(z):w.paddingInner()},w.paddingInner=function(z){return arguments.length?(O=typeof z=="function"?z:Object(p.b)(+z),w):O},w.paddingOuter=function(z){return arguments.length?w.paddingTop(z).paddingRight(z).paddingBottom(z).paddingLeft(z):w.paddingTop()},w.paddingTop=function(z){return arguments.length?(C=typeof z=="function"?z:Object(p.b)(+z),w):C},w.paddingRight=function(z){return arguments.length?(D=typeof z=="function"?z:Object(p.b)(+z),w):D},w.paddingBottom=function(z){return arguments.length?(R=typeof z=="function"?z:Object(p.b)(+z),w):R},w.paddingLeft=function(z){return arguments.length?(y=typeof z=="function"?z:Object(p.b)(+z),w):y},w}},tvuL:function(Ft,I,a){"use strict";a.r(I),a.d(I,"catmullRomToBezier",function(){return S}),a.d(I,"fillPath",function(){return at}),a.d(I,"fillPathByDiff",function(){return xt}),a.d(I,"formatPath",function(){return Qt}),a.d(I,"intersection",function(){return _}),a.d(I,"parsePathArray",function(){return y}),a.d(I,"parsePathString",function(){return E}),a.d(I,"pathToAbsolute",function(){return M}),a.d(I,"pathToCurve",function(){return D}),a.d(I,"rectPath",function(){return P});var f=a("iTfj"),i=`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029`,g=new RegExp("([a-z])["+i+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+i+"]*,?["+i+"]*)+)","ig"),p=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+i+"]*,?["+i+"]*","ig"),E=function(yt){if(!yt)return null;if(Object(f.B)(yt))return yt;var ut={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},ft=[];return String(yt).replace(g,function(it,vt,Wt){var Ct=[],Z=vt.toLowerCase();if(Wt.replace(p,function(X,dt){dt&&Ct.push(+dt)}),Z==="m"&&Ct.length>2&&(ft.push([vt].concat(Ct.splice(0,2))),Z="l",vt=vt==="m"?"l":"L"),Z==="o"&&Ct.length===1&&ft.push([vt,Ct[0]]),Z==="r")ft.push([vt].concat(Ct));else for(;Ct.length>=ut[Z]&&(ft.push([vt].concat(Ct.splice(0,ut[Z]))),!!ut[Z]););return yt}),ft},S=function(yt,ut){for(var ft=[],it=0,vt=yt.length;vt-2*!ut>it;it+=2){var Wt=[{x:+yt[it-2],y:+yt[it-1]},{x:+yt[it],y:+yt[it+1]},{x:+yt[it+2],y:+yt[it+3]},{x:+yt[it+4],y:+yt[it+5]}];ut?it?vt-4===it?Wt[3]={x:+yt[0],y:+yt[1]}:vt-2===it&&(Wt[2]={x:+yt[0],y:+yt[1]},Wt[3]={x:+yt[2],y:+yt[3]}):Wt[0]={x:+yt[vt-2],y:+yt[vt-1]}:vt-4===it?Wt[3]=Wt[2]:it||(Wt[0]={x:+yt[it],y:+yt[it+1]}),ft.push(["C",(-Wt[0].x+6*Wt[1].x+Wt[2].x)/6,(-Wt[0].y+6*Wt[1].y+Wt[2].y)/6,(Wt[1].x+6*Wt[2].x-Wt[3].x)/6,(Wt[1].y+6*Wt[2].y-Wt[3].y)/6,Wt[2].x,Wt[2].y])}return ft},A=function(yt,ut,ft,it,vt){var Wt=[];if(vt===null&&it===null&&(it=ft),yt=+yt,ut=+ut,ft=+ft,it=+it,vt!==null){var Ct=Math.PI/180,Z=yt+ft*Math.cos(-it*Ct),X=yt+ft*Math.cos(-vt*Ct),dt=ut+ft*Math.sin(-it*Ct),H=ut+ft*Math.sin(-vt*Ct);Wt=[["M",Z,dt],["A",ft,ft,0,+(vt-it>180),0,X,H]]}else Wt=[["M",yt,ut],["m",0,-it],["a",ft,it,0,1,1,0,2*it],["a",ft,it,0,1,1,0,-2*it],["z"]];return Wt},M=function(yt){if(yt=E(yt),!yt||!yt.length)return[["M",0,0]];var ut=[],ft=0,it=0,vt=0,Wt=0,Ct=0,Z,X;yt[0][0]==="M"&&(ft=+yt[0][1],it=+yt[0][2],vt=ft,Wt=it,Ct++,ut[0]=["M",ft,it]);for(var dt=yt.length===3&&yt[0][0]==="M"&&yt[1][0].toUpperCase()==="R"&&yt[2][0].toUpperCase()==="Z",H=void 0,lt=void 0,Ot=Ct,Rt=yt.length;Ot<Rt;Ot++){if(ut.push(H=[]),lt=yt[Ot],Z=lt[0],Z!==Z.toUpperCase())switch(H[0]=Z.toUpperCase(),H[0]){case"A":H[1]=lt[1],H[2]=lt[2],H[3]=lt[3],H[4]=lt[4],H[5]=lt[5],H[6]=+lt[6]+ft,H[7]=+lt[7]+it;break;case"V":H[1]=+lt[1]+it;break;case"H":H[1]=+lt[1]+ft;break;case"R":X=[ft,it].concat(lt.slice(1));for(var zt=2,Bt=X.length;zt<Bt;zt++)X[zt]=+X[zt]+ft,X[++zt]=+X[zt]+it;ut.pop(),ut=ut.concat(S(X,dt));break;case"O":ut.pop(),X=A(ft,it,lt[1],lt[2]),X.push(X[0]),ut=ut.concat(X);break;case"U":ut.pop(),ut=ut.concat(A(ft,it,lt[1],lt[2],lt[3])),H=["U"].concat(ut[ut.length-1].slice(-2));break;case"M":vt=+lt[1]+ft,Wt=+lt[2]+it;break;default:for(var zt=1,Bt=lt.length;zt<Bt;zt++)H[zt]=+lt[zt]+(zt%2?ft:it)}else if(Z==="R")X=[ft,it].concat(lt.slice(1)),ut.pop(),ut=ut.concat(S(X,dt)),H=["R"].concat(lt.slice(-2));else if(Z==="O")ut.pop(),X=A(ft,it,lt[1],lt[2]),X.push(X[0]),ut=ut.concat(X);else if(Z==="U")ut.pop(),ut=ut.concat(A(ft,it,lt[1],lt[2],lt[3])),H=["U"].concat(ut[ut.length-1].slice(-2));else for(var tt=0,J=lt.length;tt<J;tt++)H[tt]=lt[tt];if(Z=Z.toUpperCase(),Z!=="O")switch(H[0]){case"Z":ft=+vt,it=+Wt;break;case"H":ft=H[1];break;case"V":it=H[1];break;case"M":vt=H[H.length-2],Wt=H[H.length-1];break;default:ft=H[H.length-2],it=H[H.length-1]}}return ut},x=function(yt,ut,ft,it){return[yt,ut,ft,it,ft,it]},O=function(yt,ut,ft,it,vt,Wt){var Ct=1/3,Z=2/3;return[Ct*yt+Z*ft,Ct*ut+Z*it,Ct*vt+Z*ft,Ct*Wt+Z*it,vt,Wt]},C=function $t(yt,ut,ft,it,vt,Wt,Ct,Z,X,dt){ft===it&&(ft+=1);var H=Math.PI*120/180,lt=Math.PI/180*(+vt||0),Ot=[],Rt,zt,Bt,tt,J,G=function(Rr,an,In){var Un=Rr*Math.cos(In)-an*Math.sin(In),_n=Rr*Math.sin(In)+an*Math.cos(In);return{x:Un,y:_n}};if(dt)zt=dt[0],Bt=dt[1],tt=dt[2],J=dt[3];else{Rt=G(yt,ut,-lt),yt=Rt.x,ut=Rt.y,Rt=G(Z,X,-lt),Z=Rt.x,X=Rt.y,yt===Z&&ut===X&&(Z+=1,X+=1);var Et=(yt-Z)/2,Tt=(ut-X)/2,ct=Et*Et/(ft*ft)+Tt*Tt/(it*it);ct>1&&(ct=Math.sqrt(ct),ft=ct*ft,it=ct*it);var St=ft*ft,Vt=it*it,Lt=(Wt===Ct?-1:1)*Math.sqrt(Math.abs((St*Vt-St*Tt*Tt-Vt*Et*Et)/(St*Tt*Tt+Vt*Et*Et)));tt=Lt*ft*Tt/it+(yt+Z)/2,J=Lt*-it*Et/ft+(ut+X)/2,zt=Math.asin(((ut-J)/it).toFixed(9)),Bt=Math.asin(((X-J)/it).toFixed(9)),zt=yt<tt?Math.PI-zt:zt,Bt=Z<tt?Math.PI-Bt:Bt,zt<0&&(zt=Math.PI*2+zt),Bt<0&&(Bt=Math.PI*2+Bt),Ct&&zt>Bt&&(zt=zt-Math.PI*2),!Ct&&Bt>zt&&(Bt=Bt-Math.PI*2)}var Nt=Bt-zt;if(Math.abs(Nt)>H){var Zt=Bt,oe=Z,ue=X;Bt=zt+H*(Ct&&Bt>zt?1:-1),Z=tt+ft*Math.cos(Bt),X=J+it*Math.sin(Bt),Ot=$t(Z,X,ft,it,vt,0,Ct,oe,ue,[Bt,Zt,tt,J])}Nt=Bt-zt;var Ee=Math.cos(zt),Te=Math.sin(zt),Se=Math.cos(Bt),$e=Math.sin(Bt),cr=Math.tan(Nt/4),He=4/3*ft*cr,_e=4/3*it*cr,ur=[yt,ut],jr=[yt+He*Te,ut-_e*Ee],Ar=[Z+He*$e,X-_e*Se],Ge=[Z,X];if(jr[0]=2*ur[0]-jr[0],jr[1]=2*ur[1]-jr[1],dt)return[jr,Ar,Ge].concat(Ot);Ot=[jr,Ar,Ge].concat(Ot).join().split(",");for(var br=[],er=0,nr=Ot.length;er<nr;er++)br[er]=er%2?G(Ot[er-1],Ot[er],lt).y:G(Ot[er],Ot[er+1],lt).x;return br},D=function(yt,ut){var ft=M(yt),it=ut&&M(ut),vt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Wt={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},Ct=[],Z=[],X="",dt="",H,lt=function(Tt,ct,St){var Vt,Lt;if(!Tt)return["C",ct.x,ct.y,ct.x,ct.y,ct.x,ct.y];switch(!(Tt[0]in{T:1,Q:1})&&(ct.qx=ct.qy=null),Tt[0]){case"M":ct.X=Tt[1],ct.Y=Tt[2];break;case"A":Tt=["C"].concat(C.apply(0,[ct.x,ct.y].concat(Tt.slice(1))));break;case"S":St==="C"||St==="S"?(Vt=ct.x*2-ct.bx,Lt=ct.y*2-ct.by):(Vt=ct.x,Lt=ct.y),Tt=["C",Vt,Lt].concat(Tt.slice(1));break;case"T":St==="Q"||St==="T"?(ct.qx=ct.x*2-ct.qx,ct.qy=ct.y*2-ct.qy):(ct.qx=ct.x,ct.qy=ct.y),Tt=["C"].concat(O(ct.x,ct.y,ct.qx,ct.qy,Tt[1],Tt[2]));break;case"Q":ct.qx=Tt[1],ct.qy=Tt[2],Tt=["C"].concat(O(ct.x,ct.y,Tt[1],Tt[2],Tt[3],Tt[4]));break;case"L":Tt=["C"].concat(x(ct.x,ct.y,Tt[1],Tt[2]));break;case"H":Tt=["C"].concat(x(ct.x,ct.y,Tt[1],ct.y));break;case"V":Tt=["C"].concat(x(ct.x,ct.y,ct.x,Tt[1]));break;case"Z":Tt=["C"].concat(x(ct.x,ct.y,ct.X,ct.Y));break;default:break}return Tt},Ot=function(Tt,ct){if(Tt[ct].length>7){Tt[ct].shift();for(var St=Tt[ct];St.length;)Ct[ct]="A",it&&(Z[ct]="A"),Tt.splice(ct++,0,["C"].concat(St.splice(0,6)));Tt.splice(ct,1),H=Math.max(ft.length,it&&it.length||0)}},Rt=function(Tt,ct,St,Vt,Lt){Tt&&ct&&Tt[Lt][0]==="M"&&ct[Lt][0]!=="M"&&(ct.splice(Lt,0,["M",Vt.x,Vt.y]),St.bx=0,St.by=0,St.x=Tt[Lt][1],St.y=Tt[Lt][2],H=Math.max(ft.length,it&&it.length||0))};H=Math.max(ft.length,it&&it.length||0);for(var zt=0;zt<H;zt++){ft[zt]&&(X=ft[zt][0]),X!=="C"&&(Ct[zt]=X,zt&&(dt=Ct[zt-1])),ft[zt]=lt(ft[zt],vt,dt),Ct[zt]!=="A"&&X==="C"&&(Ct[zt]="C"),Ot(ft,zt),it&&(it[zt]&&(X=it[zt][0]),X!=="C"&&(Z[zt]=X,zt&&(dt=Z[zt-1])),it[zt]=lt(it[zt],Wt,dt),Z[zt]!=="A"&&X==="C"&&(Z[zt]="C"),Ot(it,zt)),Rt(ft,it,vt,Wt,zt),Rt(it,ft,Wt,vt,zt);var Bt=ft[zt],tt=it&&it[zt],J=Bt.length,G=it&&tt.length;vt.x=Bt[J-2],vt.y=Bt[J-1],vt.bx=parseFloat(Bt[J-4])||vt.x,vt.by=parseFloat(Bt[J-3])||vt.y,Wt.bx=it&&(parseFloat(tt[G-4])||Wt.x),Wt.by=it&&(parseFloat(tt[G-3])||Wt.y),Wt.x=it&&tt[G-2],Wt.y=it&&tt[G-1]}return it?[ft,it]:ft},R=/,?([a-z]),?/gi,y=function(yt){return yt.join(",").replace(R,"$1")},w=function(yt,ut,ft,it,vt){var Wt=-3*ut+9*ft-9*it+3*vt,Ct=yt*Wt+6*ut-12*ft+6*it;return yt*Ct-3*ut+3*ft},N=function(yt,ut,ft,it,vt,Wt,Ct,Z,X){X===null&&(X=1),X=X>1?1:X<0?0:X;for(var dt=X/2,H=12,lt=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],Ot=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],Rt=0,zt=0;zt<H;zt++){var Bt=dt*lt[zt]+dt,tt=w(Bt,yt,ft,vt,Ct),J=w(Bt,ut,it,Wt,Z),G=tt*tt+J*J;Rt+=Ot[zt]*Math.sqrt(G)}return dt*Rt},z=function(yt,ut,ft,it,vt,Wt,Ct,Z){for(var X=[],dt=[[],[]],H,lt,Ot,Rt,zt=0;zt<2;++zt){if(zt===0?(lt=6*yt-12*ft+6*vt,H=-3*yt+9*ft-9*vt+3*Ct,Ot=3*ft-3*yt):(lt=6*ut-12*it+6*Wt,H=-3*ut+9*it-9*Wt+3*Z,Ot=3*it-3*ut),Math.abs(H)<1e-12){if(Math.abs(lt)<1e-12)continue;Rt=-Ot/lt,Rt>0&&Rt<1&&X.push(Rt);continue}var Bt=lt*lt-4*Ot*H,tt=Math.sqrt(Bt);if(!(Bt<0)){var J=(-lt+tt)/(2*H);J>0&&J<1&&X.push(J);var G=(-lt-tt)/(2*H);G>0&&G<1&&X.push(G)}}for(var Et=X.length,Tt=Et,ct;Et--;)Rt=X[Et],ct=1-Rt,dt[0][Et]=ct*ct*ct*yt+3*ct*ct*Rt*ft+3*ct*Rt*Rt*vt+Rt*Rt*Rt*Ct,dt[1][Et]=ct*ct*ct*ut+3*ct*ct*Rt*it+3*ct*Rt*Rt*Wt+Rt*Rt*Rt*Z;return dt[0][Tt]=yt,dt[1][Tt]=ut,dt[0][Tt+1]=Ct,dt[1][Tt+1]=Z,dt[0].length=dt[1].length=Tt+2,{min:{x:Math.min.apply(0,dt[0]),y:Math.min.apply(0,dt[1])},max:{x:Math.max.apply(0,dt[0]),y:Math.max.apply(0,dt[1])}}},V=function(yt,ut,ft,it,vt,Wt,Ct,Z){if(!(Math.max(yt,ft)<Math.min(vt,Ct)||Math.min(yt,ft)>Math.max(vt,Ct)||Math.max(ut,it)<Math.min(Wt,Z)||Math.min(ut,it)>Math.max(Wt,Z))){var X=(yt*it-ut*ft)*(vt-Ct)-(yt-ft)*(vt*Z-Wt*Ct),dt=(yt*it-ut*ft)*(Wt-Z)-(ut-it)*(vt*Z-Wt*Ct),H=(yt-ft)*(Wt-Z)-(ut-it)*(vt-Ct);if(!!H){var lt=X/H,Ot=dt/H,Rt=+lt.toFixed(2),zt=+Ot.toFixed(2);if(!(Rt<+Math.min(yt,ft).toFixed(2)||Rt>+Math.max(yt,ft).toFixed(2)||Rt<+Math.min(vt,Ct).toFixed(2)||Rt>+Math.max(vt,Ct).toFixed(2)||zt<+Math.min(ut,it).toFixed(2)||zt>+Math.max(ut,it).toFixed(2)||zt<+Math.min(Wt,Z).toFixed(2)||zt>+Math.max(Wt,Z).toFixed(2)))return{x:lt,y:Ot}}}},B=function(yt,ut,ft){return ut>=yt.x&&ut<=yt.x+yt.width&&ft>=yt.y&&ft<=yt.y+yt.height},P=function(yt,ut,ft,it,vt){if(vt)return[["M",+yt+ +vt,ut],["l",ft-vt*2,0],["a",vt,vt,0,0,1,vt,vt],["l",0,it-vt*2],["a",vt,vt,0,0,1,-vt,vt],["l",vt*2-ft,0],["a",vt,vt,0,0,1,-vt,-vt],["l",0,vt*2-it],["a",vt,vt,0,0,1,vt,-vt],["z"]];var Wt=[["M",yt,ut],["l",ft,0],["l",0,it],["l",-ft,0],["z"]];return Wt.parsePathArray=y,Wt},T=function(yt,ut,ft,it){return yt===null&&(yt=ut=ft=it=0),ut===null&&(ut=yt.y,ft=yt.width,it=yt.height,yt=yt.x),{x:yt,y:ut,width:ft,w:ft,height:it,h:it,x2:yt+ft,y2:ut+it,cx:yt+ft/2,cy:ut+it/2,r1:Math.min(ft,it)/2,r2:Math.max(ft,it)/2,r0:Math.sqrt(ft*ft+it*it)/2,path:P(yt,ut,ft,it),vb:[yt,ut,ft,it].join(" ")}},W=function(yt,ut){return yt=T(yt),ut=T(ut),B(ut,yt.x,yt.y)||B(ut,yt.x2,yt.y)||B(ut,yt.x,yt.y2)||B(ut,yt.x2,yt.y2)||B(yt,ut.x,ut.y)||B(yt,ut.x2,ut.y)||B(yt,ut.x,ut.y2)||B(yt,ut.x2,ut.y2)||(yt.x<ut.x2&&yt.x>ut.x||ut.x<yt.x2&&ut.x>yt.x)&&(yt.y<ut.y2&&yt.y>ut.y||ut.y<yt.y2&&ut.y>yt.y)},Q=function(yt,ut,ft,it,vt,Wt,Ct,Z){Object(f.B)(yt)||(yt=[yt,ut,ft,it,vt,Wt,Ct,Z]);var X=z.apply(null,yt);return T(X.min.x,X.min.y,X.max.x-X.min.x,X.max.y-X.min.y)},nt=function(yt,ut,ft,it,vt,Wt,Ct,Z,X){var dt=1-X,H=Math.pow(dt,3),lt=Math.pow(dt,2),Ot=X*X,Rt=Ot*X,zt=H*yt+lt*3*X*ft+dt*3*X*X*vt+Rt*Ct,Bt=H*ut+lt*3*X*it+dt*3*X*X*Wt+Rt*Z,tt=yt+2*X*(ft-yt)+Ot*(vt-2*ft+yt),J=ut+2*X*(it-ut)+Ot*(Wt-2*it+ut),G=ft+2*X*(vt-ft)+Ot*(Ct-2*vt+ft),Et=it+2*X*(Wt-it)+Ot*(Z-2*Wt+it),Tt=dt*yt+X*ft,ct=dt*ut+X*it,St=dt*vt+X*Ct,Vt=dt*Wt+X*Z,Lt=90-Math.atan2(tt-G,J-Et)*180/Math.PI;return{x:zt,y:Bt,m:{x:tt,y:J},n:{x:G,y:Et},start:{x:Tt,y:ct},end:{x:St,y:Vt},alpha:Lt}},st=function(yt,ut,ft){var it=Q(yt),vt=Q(ut);if(!W(it,vt))return ft?0:[];for(var Wt=N.apply(0,yt),Ct=N.apply(0,ut),Z=~~(Wt/8),X=~~(Ct/8),dt=[],H=[],lt={},Ot=ft?0:[],Rt=0;Rt<Z+1;Rt++){var zt=nt.apply(0,yt.concat(Rt/Z));dt.push({x:zt.x,y:zt.y,t:Rt/Z})}for(var Rt=0;Rt<X+1;Rt++){var zt=nt.apply(0,ut.concat(Rt/X));H.push({x:zt.x,y:zt.y,t:Rt/X})}for(var Rt=0;Rt<Z;Rt++)for(var Bt=0;Bt<X;Bt++){var tt=dt[Rt],J=dt[Rt+1],G=H[Bt],Et=H[Bt+1],Tt=Math.abs(J.x-tt.x)<.001?"y":"x",ct=Math.abs(Et.x-G.x)<.001?"y":"x",St=V(tt.x,tt.y,J.x,J.y,G.x,G.y,Et.x,Et.y);if(St){if(lt[St.x.toFixed(4)]===St.y.toFixed(4))continue;lt[St.x.toFixed(4)]=St.y.toFixed(4);var Vt=tt.t+Math.abs((St[Tt]-tt[Tt])/(J[Tt]-tt[Tt]))*(J.t-tt.t),Lt=G.t+Math.abs((St[ct]-G[ct])/(Et[ct]-G[ct]))*(Et.t-G.t);Vt>=0&&Vt<=1&&Lt>=0&&Lt<=1&&(ft?Ot+=1:Ot.push({x:St.x,y:St.y,t1:Vt,t2:Lt}))}}return Ot},et=function(yt,ut,ft){yt=D(yt),ut=D(ut);for(var it,vt,Wt,Ct,Z,X,dt,H,lt,Ot,Rt=ft?0:[],zt=0,Bt=yt.length;zt<Bt;zt++){var tt=yt[zt];if(tt[0]==="M")it=Z=tt[1],vt=X=tt[2];else{tt[0]==="C"?(lt=[it,vt].concat(tt.slice(1)),it=lt[6],vt=lt[7]):(lt=[it,vt,it,vt,Z,X,Z,X],it=Z,vt=X);for(var J=0,G=ut.length;J<G;J++){var Et=ut[J];if(Et[0]==="M")Wt=dt=Et[1],Ct=H=Et[2];else{Et[0]==="C"?(Ot=[Wt,Ct].concat(Et.slice(1)),Wt=Ot[6],Ct=Ot[7]):(Ot=[Wt,Ct,Wt,Ct,dt,H,dt,H],Wt=dt,Ct=H);var Tt=st(lt,Ot,ft);if(ft)Rt+=Tt;else{for(var ct=0,St=Tt.length;ct<St;ct++)Tt[ct].segment1=zt,Tt[ct].segment2=J,Tt[ct].bez1=lt,Tt[ct].bez2=Ot;Rt=Rt.concat(Tt)}}}}}return Rt},_=function(yt,ut){return et(yt,ut)};function Y($t,yt){var ut=[],ft=[];function it(vt,Wt){if(vt.length===1)ut.push(vt[0]),ft.push(vt[0]);else{for(var Ct=[],Z=0;Z<vt.length-1;Z++)Z===0&&ut.push(vt[0]),Z===vt.length-2&&ft.push(vt[Z+1]),Ct[Z]=[(1-Wt)*vt[Z][0]+Wt*vt[Z+1][0],(1-Wt)*vt[Z][1]+Wt*vt[Z+1][1]];it(Ct,Wt)}}return $t.length&&it($t,yt),{left:ut,right:ft.reverse()}}function $($t,yt,ut){var ft=[[$t[1],$t[2]]];ut=ut||2;var it=[];yt[0]==="A"?(ft.push(yt[6]),ft.push(yt[7])):yt[0]==="C"?(ft.push([yt[1],yt[2]]),ft.push([yt[3],yt[4]]),ft.push([yt[5],yt[6]])):yt[0]==="S"||yt[0]==="Q"?(ft.push([yt[1],yt[2]]),ft.push([yt[3],yt[4]])):ft.push([yt[1],yt[2]]);for(var vt=ft,Wt=1/ut,Ct=0;Ct<ut-1;Ct++){var Z=Wt/(1-Wt*Ct),X=Y(vt,Z);it.push(X.left),vt=X.right}it.push(vt);var dt=it.map(function(H){var lt=[];return H.length===4&&(lt.push("C"),lt=lt.concat(H[2])),H.length>=3&&(H.length===3&&lt.push("Q"),lt=lt.concat(H[1])),H.length===2&&lt.push("L"),lt=lt.concat(H[H.length-1]),lt});return dt}var q=function(yt,ut,ft){if(ft===1)return[[].concat(yt)];var it=[];if(ut[0]==="L"||ut[0]==="C"||ut[0]==="Q")it=it.concat($(yt,ut,ft));else{var vt=[].concat(yt);vt[0]==="M"&&(vt[0]="L");for(var Wt=0;Wt<=ft-1;Wt++)it.push(vt)}return it},at=function(yt,ut){if(yt.length===1)return yt;var ft=yt.length-1,it=ut.length-1,vt=ft/it,Wt=[];if(yt.length===1&&yt[0][0]==="M"){for(var Ct=0;Ct<it-ft;Ct++)yt.push(yt[0]);return yt}for(var Ct=0;Ct<it;Ct++){var Z=Math.floor(vt*Ct);Wt[Z]=(Wt[Z]||0)+1}var X=Wt.reduce(function(dt,H,lt){return lt===ft?dt.concat(yt[ft]):dt.concat(q(yt[lt],yt[lt+1],H))},[]);return X.unshift(yt[0]),(ut[it]==="Z"||ut[it]==="z")&&X.push("Z"),X},pt=function(yt,ut){if(yt.length!==ut.length)return!1;var ft=!0;return Object(f.j)(yt,function(it,vt){if(it!==ut[vt])return ft=!1,!1}),ft};function mt($t,yt,ut){var ft=null,it=ut;return yt<it&&(it=yt,ft="add"),$t<it&&(it=$t,ft="del"),{type:ft,min:it}}var ot=function(yt,ut){var ft=yt.length,it=ut.length,vt,Wt,Ct=0;if(ft===0||it===0)return null;for(var Z=[],X=0;X<=ft;X++)Z[X]=[],Z[X][0]={min:X};for(var dt=0;dt<=it;dt++)Z[0][dt]={min:dt};for(var X=1;X<=ft;X++){vt=yt[X-1];for(var dt=1;dt<=it;dt++){Wt=ut[dt-1],pt(vt,Wt)?Ct=0:Ct=1;var H=Z[X-1][dt].min+1,lt=Z[X][dt-1].min+1,Ot=Z[X-1][dt-1].min+Ct;Z[X][dt]=mt(H,lt,Ot)}}return Z},xt=function(yt,ut){var ft=ot(yt,ut),it=yt.length,vt=ut.length,Wt=[],Ct=1,Z=1;if(ft[it][vt].min!==it){for(var X=1;X<=it;X++){var dt=ft[X][X].min;Z=X;for(var H=Ct;H<=vt;H++)ft[X][H].min<dt&&(dt=ft[X][H].min,Z=H);Ct=Z,ft[X][Ct].type&&Wt.push({index:X-1,type:ft[X][Ct].type})}for(var X=Wt.length-1;X>=0;X--)Ct=Wt[X].index,Wt[X].type==="add"?yt.splice(Ct,0,[].concat(yt[Ct])):yt.splice(Ct,1)}it=yt.length;var lt=vt-it;if(it<vt)for(var X=0;X<lt;X++)yt[it-1][0]==="z"||yt[it-1][0]==="Z"?yt.splice(it-2,0,yt[it-2]):yt.push(yt[it-1]),it+=1;return yt};function It($t,yt,ut){for(var ft=[].concat($t),it,vt=1/(ut+1),Wt=Ht(yt)[0],Ct=1;Ct<=ut;Ct++)vt*=Ct,it=Math.floor($t.length*vt),it===0?ft.unshift([Wt[0]*vt+$t[it][0]*(1-vt),Wt[1]*vt+$t[it][1]*(1-vt)]):ft.splice(it,0,[Wt[0]*vt+$t[it][0]*(1-vt),Wt[1]*vt+$t[it][1]*(1-vt)]);return ft}function Ht($t){var yt=[];switch($t[0]){case"M":yt.push([$t[1],$t[2]]);break;case"L":yt.push([$t[1],$t[2]]);break;case"A":yt.push([$t[6],$t[7]]);break;case"Q":yt.push([$t[3],$t[4]]),yt.push([$t[1],$t[2]]);break;case"T":yt.push([$t[1],$t[2]]);break;case"C":yt.push([$t[5],$t[6]]),yt.push([$t[1],$t[2]]),yt.push([$t[3],$t[4]]);break;case"S":yt.push([$t[3],$t[4]]),yt.push([$t[1],$t[2]]);break;case"H":yt.push([$t[1],$t[1]]);break;case"V":yt.push([$t[1],$t[1]]);break;default:}return yt}var Qt=function(yt,ut){if(yt.length<=1)return yt;for(var ft,it=0;it<ut.length;it++)if(yt[it][0]!==ut[it][0])switch(ft=Ht(yt[it]),ut[it][0]){case"M":yt[it]=["M"].concat(ft[0]);break;case"L":yt[it]=["L"].concat(ft[0]);break;case"A":yt[it]=[].concat(ut[it]),yt[it][6]=ft[0][0],yt[it][7]=ft[0][1];break;case"Q":if(ft.length<2)if(it>0)ft=It(ft,yt[it-1],1);else{yt[it]=ut[it];break}yt[it]=["Q"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;case"T":yt[it]=["T"].concat(ft[0]);break;case"C":if(ft.length<3)if(it>0)ft=It(ft,yt[it-1],2);else{yt[it]=ut[it];break}yt[it]=["C"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;case"S":if(ft.length<2)if(it>0)ft=It(ft,yt[it-1],1);else{yt[it]=ut[it];break}yt[it]=["S"].concat(ft.reduce(function(vt,Wt){return vt.concat(Wt)},[]));break;default:yt[it]=ut[it]}return yt}},tyuB:function(Ft,I,a){"use strict";a.d(I,"a",function(){return ot});var f=a("o0o1"),i=a.n(f),g=a("yXPU"),p=a.n(g),E=a("yG8O"),S=a.n(E),A=a("lwsE"),M=a.n(A),x=a("W8MJ"),O=a.n(x),C=a("U+yc"),D=a.n(C),R=a("1ABj"),y=a.n(R),w=a("4cb6"),N=a.n(w),z=a("+uE7"),V=a("g1CP"),B=a("FlHB"),P=a("94HZ"),T,W,Q,nt,st,et,_,Y,$,q,at,pt,mt,ot=(T=Object(w.injectable)(),W=Object(w.inject)(z.a.Systems),Q=Object(w.named)(z.a.FrameGraphSystem),nt=Object(w.inject)(z.a.RenderPassFactory),st=Object(w.inject)(z.a.ConfigService),et=Object(w.inject)(z.a.ResourcePool),T(_=(Y=(mt=function(){function xt(){M()(this,xt),S()(this,"frameGraphSystem",$,this),S()(this,"renderPassFactory",q,this),S()(this,"configService",at,this),S()(this,"resourcePool",pt,this)}return O()(xt,[{key:"execute",value:function(){var It=p()(i.a.mark(function Qt($t){var yt,ut,ft,it,vt,Wt,Ct,Z,X;return i.a.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:yt=this.renderPassFactory(P.a.IDENTIFIER),ut=yt.setup,ft=yt.execute,it=this.frameGraphSystem.addPass(P.a.IDENTIFIER,ut,ft),vt=this.renderPassFactory(V.a.IDENTIFIER),Wt=vt.setup,Ct=vt.execute,Z=vt.tearDown,X=this.frameGraphSystem.addPass(V.a.IDENTIFIER,Wt,Ct,Z),this.frameGraphSystem.present(X.data.output);case 5:case"end":return H.stop()}},Qt,this)}));function Ht(Qt){return It.apply(this,arguments)}return Ht}()},{key:"tearDown",value:function(){this.resourcePool.clean()}},{key:"pick",value:function(Ht,Qt){var $t=this.renderPassFactory(B.a.IDENTIFIER);return $t.pick(Ht,Qt)}}]),xt}(),mt),$=D()(Y.prototype,"frameGraphSystem",[W,Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=D()(Y.prototype,"renderPassFactory",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=D()(Y.prototype,"configService",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pt=D()(Y.prototype,"resourcePool",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y))||_)},u3os:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.ver=I.clear=I.bind=void 0;var f=a("P4Qj"),i=function(S,A){var M=(0,f.getSensor)(S);return M.bind(A),function(){M.unbind(A)}};I.bind=i;var g=function(S){var A=(0,f.getSensor)(S);(0,f.removeSensor)(A)};I.clear=g;var p="1.0.1";I.ver=p},u60a:function(Ft,I,a){"use strict";a.r(I),a.d(I,"CONTAINER_CLASS",function(){return f}),a.d(I,"TITLE_CLASS",function(){return i}),a.d(I,"LIST_CLASS",function(){return g}),a.d(I,"LIST_ITEM_CLASS",function(){return p}),a.d(I,"MARKER_CLASS",function(){return E}),a.d(I,"VALUE_CLASS",function(){return S}),a.d(I,"NAME_CLASS",function(){return A}),a.d(I,"CROSSHAIR_X",function(){return M}),a.d(I,"CROSSHAIR_Y",function(){return x});var f="g2-tooltip",i="g2-tooltip-title",g="g2-tooltip-list",p="g2-tooltip-list-item",E="g2-tooltip-marker",S="g2-tooltip-value",A="g2-tooltip-name",M="g2-tooltip-crosshair-x",x="g2-tooltip-crosshair-y"},u6oY:function(Ft,I){Ft.exports=a;function a(f,i,g){return f[0]=i[0]*g[0],f[1]=i[1]*g[1],f}},"u9/z":function(Ft,I,a){"use strict";a.d(I,"b",function(){return A}),a.d(I,"a",function(){return x});var f=a("iTfj"),i=a("YuPD"),g=a("w02o"),p=a("tKoa"),E=a("Mffy"),S=a("B3DA");function A(O){var C=O.chart,D=O.options,R=D.percent,y=D.progressStyle,w=D.color,N=D.barWidthRatio;C.data(Object(S.a)(R));var z=Object(i.b)({},O,{options:{xField:"1",yField:"percent",seriesField:"type",isStack:!0,widthRatio:N,interval:{style:y,color:Object(f.O)(w)?[w,E.a[1]]:w},args:{zIndexReversed:!0}}});return Object(p.c)(z),C.tooltip(!1),C.axis(!1),C.legend(!1),O}function M(O){var C=O.chart;return C.coordinate("rect").transpose(),O}function x(O){return Object(i.e)(A,Object(g.f)({}),M,g.a,g.j,Object(g.b)())(O)}},u9VJ:function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("zJSt"),g=a("sqD9"),p=a("DMQx"),E=a("YuPD"),S=Object(E.b)({},i.b.getDefaultOptions(),{columnWidthRatio:.6,marginRatio:1/32,tooltip:{shared:!0,showMarkers:!1,offset:20},interactions:[{type:"active-region"}]}),A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.type="column",O}return x.getDefaultOptions=function(){return S},x.prototype.changeData=function(O){this.updateOption({data:O});var C=this.options,D=C.yField,R=C.xField,y=C.isPercent,w=this,N=w.chart,z=w.options;Object(p.b)({chart:N,options:z}),this.chart.changeData(Object(g.a)(O,D,R,D,y))},x.prototype.getDefaultOptions=function(){return x.getDefaultOptions()},x.prototype.getSchemaAdaptor=function(){return p.a},x}(i.b)},uCX8:function(Ft,I,a){"use strict";a.r(I),a.d(I,"Line",function(){return O}),a.d(I,"Text",function(){return D}),a.d(I,"Arc",function(){return y}),a.d(I,"Region",function(){return N}),a.d(I,"Image",function(){return V}),a.d(I,"DataMarker",function(){return P}),a.d(I,"DataRegion",function(){return W}),a.d(I,"RegionFilter",function(){return nt}),a.d(I,"Shape",function(){return et}),a.d(I,"Html",function(){return q});var f=a("mrSG"),i=a("iTfj"),g=a("MeYt"),p=a("BgvD"),E=a("jqgP"),S=a("5UbV");function A(at,pt){var mt=pt.x,ot=pt.y,xt=pt.content,It=pt.style,Ht=pt.id,Qt=pt.name,$t=pt.rotate,yt=pt.maxLength,ut=pt.autoEllipsis,ft=pt.isVertical,it=pt.ellipsisPosition,vt=pt.background,Wt=at.addGroup({id:Ht+"-group",name:Qt+"-group",attrs:{x:mt,y:ot}}),Ct=Wt.addShape({type:"text",id:Ht,name:Qt,attrs:Object(f.a)({x:0,y:0,text:xt},It)}),Z=Object(S.c)(Object(i.s)(vt,"padding",0));if(yt&&ut){var X=yt-(Z[1]+Z[3]);Object(p.a)(!ft,Ct,X,it)}if(vt){var dt=Object(i.s)(vt,"style",{}),H=Ct.getCanvasBBox(),lt=H.minX,Ot=H.minY,Rt=H.width,zt=H.height,Bt=Wt.addShape("rect",{id:Ht+"-bg",name:Ht+"-bg",attrs:Object(f.a)({x:lt-Z[3],y:Ot-Z[0],width:Rt+Z[1]+Z[3],height:zt+Z[0]+Z[2]},dt)});Bt.toBack()}Object(E.c)(Wt,mt,ot),Object(E.b)(Wt,$t,mt,ot)}var M=a("L16w"),x=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"line",locationType:"region",start:null,end:null,style:{},text:null,defaultCfg:{style:{fill:M.a.textColor,fontSize:12,textAlign:"center",textBaseline:"bottom",fontFamily:M.a.fontFamily},text:{position:"center",autoRotate:!0,content:null,offsetX:0,offsetY:0,style:{stroke:M.a.lineColor,lineWidth:1}}}})},pt.prototype.renderInner=function(mt){this.renderLine(mt),this.get("text")&&this.renderLabel(mt)},pt.prototype.renderLine=function(mt){var ot=this.get("start"),xt=this.get("end"),It=this.get("style");this.addShape(mt,{type:"line",id:this.getElementId("line"),name:"annotation-line",attrs:Object(f.a)({x1:ot.x,y1:ot.y,x2:xt.x,y2:xt.y},It)})},pt.prototype.getLabelPoint=function(mt,ot,xt){var It;return xt==="start"?It=0:xt==="center"?It=.5:Object(i.O)(xt)&&xt.indexOf("%")!==-1?It=parseInt(xt,10)/100:Object(i.K)(xt)?It=xt:It=1,(It>1||It<0)&&(It=1),{x:Object(S.g)(mt.x,ot.x,It),y:Object(S.g)(mt.y,ot.y,It)}},pt.prototype.renderLabel=function(mt){var ot=this.get("text"),xt=this.get("start"),It=this.get("end"),Ht=ot.position,Qt=ot.content,$t=ot.style,yt=ot.offsetX,ut=ot.offsetY,ft=ot.autoRotate,it=ot.maxLength,vt=ot.autoEllipsis,Wt=ot.ellipsisPosition,Ct=ot.background,Z=ot.isVertical,X=Z===void 0?!1:Z,dt=this.getLabelPoint(xt,It,Ht),H=dt.x+yt,lt=dt.y+ut,Ot={id:this.getElementId("line-text"),name:"annotation-line-text",x:H,y:lt,content:Qt,style:$t,maxLength:it,autoEllipsis:vt,ellipsisPosition:Wt,background:Ct,isVertical:X};if(ft){var Rt=[It.x-xt.x,It.y-xt.y];Ot.rotate=Math.atan2(Rt[1],Rt[0])}A(mt,Ot)},pt}(g.a),O=x,C=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"text",locationType:"point",x:0,y:0,content:"",rotate:null,style:{},background:null,maxLength:null,autoEllipsis:!0,isVertical:!1,ellipsisPosition:"tail",defaultCfg:{style:{fill:M.a.textColor,fontSize:12,textAlign:"center",textBaseline:"middle",fontFamily:M.a.fontFamily}}})},pt.prototype.setLocation=function(mt){this.set("x",mt.x),this.set("y",mt.y),this.resetLocation()},pt.prototype.renderInner=function(mt){var ot=this.getLocation(),xt=ot.x,It=ot.y,Ht=this.get("content"),Qt=this.get("style"),$t=this.getElementId("text"),yt=this.get("name")+"-text",ut=this.get("maxLength"),ft=this.get("autoEllipsis"),it=this.get("isVertical"),vt=this.get("ellipsisPosition"),Wt=this.get("background"),Ct=this.get("rotate"),Z={id:$t,name:yt,x:xt,y:It,content:Ht,style:Qt,maxLength:ut,autoEllipsis:ft,isVertical:it,ellipsisPosition:vt,background:Wt,rotate:Ct};A(mt,Z)},pt.prototype.resetLocation=function(){var mt=this.getElementByLocalId("text-group");if(mt){var ot=this.getLocation(),xt=ot.x,It=ot.y,Ht=this.get("rotate");Object(E.c)(mt,xt,It),Object(E.b)(mt,Ht,xt,It)}},pt}(g.a),D=C,R=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"arc",locationType:"circle",center:null,radius:100,startAngle:-Math.PI/2,endAngle:Math.PI*3/2,style:{stroke:"#999",lineWidth:1}})},pt.prototype.renderInner=function(mt){this.renderArc(mt)},pt.prototype.getArcPath=function(){var mt=this.getLocation(),ot=mt.center,xt=mt.radius,It=mt.startAngle,Ht=mt.endAngle,Qt=Object(S.e)(ot,xt,It),$t=Object(S.e)(ot,xt,Ht),yt=Ht-It>Math.PI?1:0,ut=[["M",Qt.x,Qt.y]];if(Ht-It==Math.PI*2){var ft=Object(S.e)(ot,xt,It+Math.PI);ut.push(["A",xt,xt,0,yt,1,ft.x,ft.y]),ut.push(["A",xt,xt,0,yt,1,$t.x,$t.y])}else ut.push(["A",xt,xt,0,yt,1,$t.x,$t.y]);return ut},pt.prototype.renderArc=function(mt){var ot=this.getArcPath(),xt=this.get("style");this.addShape(mt,{type:"path",id:this.getElementId("arc"),name:"annotation-arc",attrs:Object(f.a)({path:ot},xt)})},pt}(g.a),y=R,w=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"region",locationType:"region",start:null,end:null,style:{},defaultCfg:{style:{lineWidth:0,fill:M.a.regionColor,opacity:.4}}})},pt.prototype.renderInner=function(mt){this.renderRegion(mt)},pt.prototype.renderRegion=function(mt){var ot=this.get("start"),xt=this.get("end"),It=this.get("style"),Ht=Object(S.k)({start:ot,end:xt});this.addShape(mt,{type:"rect",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.a)({x:Ht.x,y:Ht.y,width:Ht.width,height:Ht.height},It)})},pt}(g.a),N=w,z=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"image",locationType:"region",start:null,end:null,src:null,style:{}})},pt.prototype.renderInner=function(mt){this.renderImage(mt)},pt.prototype.getImageAttrs=function(){var mt=this.get("start"),ot=this.get("end"),xt=this.get("style"),It=Object(S.k)({start:mt,end:ot}),Ht=this.get("src");return Object(f.a)({x:It.x,y:It.y,img:Ht,width:It.width,height:It.height},xt)},pt.prototype.renderImage=function(mt){this.addShape(mt,{type:"image",id:this.getElementId("image"),name:"annotation-image",attrs:this.getImageAttrs()})},pt}(g.a),V=z,B=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"dataMarker",locationType:"point",x:0,y:0,point:{},line:{},text:{},direction:"upward",autoAdjust:!0,coordinateBBox:null,defaultCfg:{point:{display:!0,style:{r:3,fill:"#FFFFFF",stroke:"#1890FF",lineWidth:2}},line:{display:!0,length:20,style:{stroke:M.a.lineColor,lineWidth:1}},text:{content:"",display:!0,style:{fill:M.a.textColor,opacity:.65,fontSize:12,textAlign:"start",fontFamily:M.a.fontFamily}}}})},pt.prototype.renderInner=function(mt){Object(i.s)(this.get("line"),"display")&&this.renderLine(mt),Object(i.s)(this.get("text"),"display")&&this.renderText(mt),Object(i.s)(this.get("point"),"display")&&this.renderPoint(mt),this.get("autoAdjust")&&this.autoAdjust(mt)},pt.prototype.applyOffset=function(){this.moveElementTo(this.get("group"),{x:this.get("x")+this.get("offsetX"),y:this.get("y")+this.get("offsetY")})},pt.prototype.renderPoint=function(mt){var ot=this.getShapeAttrs().point;this.addShape(mt,{type:"circle",id:this.getElementId("point"),name:"annotation-point",attrs:ot})},pt.prototype.renderLine=function(mt){var ot=this.getShapeAttrs().line;this.addShape(mt,{type:"path",id:this.getElementId("line"),name:"annotation-line",attrs:ot})},pt.prototype.renderText=function(mt){var ot=this.getShapeAttrs().text,xt=ot.x,It=ot.y,Ht=ot.text,Qt=Object(f.e)(ot,["x","y","text"]),$t=this.get("text"),yt=$t.background,ut=$t.maxLength,ft=$t.autoEllipsis,it=$t.isVertival,vt=$t.ellipsisPosition,Wt={x:xt,y:It,id:this.getElementId("text"),name:"annotation-text",content:Ht,style:Qt,background:yt,maxLength:ut,autoEllipsis:ft,isVertival:it,ellipsisPosition:vt};A(mt,Wt)},pt.prototype.autoAdjust=function(mt){var ot=this.get("direction"),xt=this.get("x"),It=this.get("y"),Ht=Object(i.s)(this.get("line"),"length",0),Qt=this.get("coordinateBBox"),$t=mt.getBBox(),yt=$t.minX,ut=$t.maxX,ft=$t.minY,it=$t.maxY,vt=mt.findById(this.getElementId("text-group")),Wt=mt.findById(this.getElementId("text")),Ct=mt.findById(this.getElementId("line"));if(!!Qt){if(vt){if(xt+yt<=Qt.minX){var Z=Qt.minX-(xt+yt);Object(E.c)(vt,vt.attr("x")+Z,vt.attr("y"))}if(xt+ut>=Qt.maxX){var Z=xt+ut-Qt.maxX;Object(E.c)(vt,vt.attr("x")-Z,vt.attr("y"))}}if(ot==="upward"&&It+ft<=Qt.minY||ot!=="upward"&&It+it>=Qt.maxY){var X=void 0,dt=void 0;ot==="upward"&&It+ft<=Qt.minY?(X="top",dt=1):(X="bottom",dt=-1),Wt.attr("textBaseline",X),Ct&&Ct.attr("path",[["M",0,0],["L",0,Ht*dt]]),Object(E.c)(vt,vt.attr("x"),(Ht+2)*dt)}}},pt.prototype.getShapeAttrs=function(){var mt=Object(i.s)(this.get("line"),"display"),ot=Object(i.s)(this.get("point"),"style",{}),xt=Object(i.s)(this.get("line"),"style",{}),It=Object(i.s)(this.get("text"),"style",{}),Ht=this.get("direction"),Qt=mt?Object(i.s)(this.get("line"),"length",0):0,$t=Ht==="upward"?-1:1;return{point:Object(f.a)({x:0,y:0},ot),line:Object(f.a)({path:[["M",0,0],["L",0,Qt*$t]]},xt),text:Object(f.a)({x:0,y:(Qt+2)*$t,text:Object(i.s)(this.get("text"),"content",""),textBaseline:Ht==="upward"?"bottom":"top"},It)}},pt}(g.a),P=B,T=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"dataRegion",locationType:"points",points:[],lineLength:0,region:{},text:{},defaultCfg:{region:{style:{lineWidth:0,fill:M.a.regionColor,opacity:.4}},text:{content:"",style:{textAlign:"center",textBaseline:"bottom",fontSize:12,fill:M.a.textColor,fontFamily:M.a.fontFamily}}}})},pt.prototype.renderInner=function(mt){var ot=Object(i.s)(this.get("region"),"style",{}),xt=Object(i.s)(this.get("text"),"style",{}),It=this.get("lineLength")||0,Ht=this.get("points");if(!!Ht.length){var Qt=Object(S.j)(Ht),$t=[];$t.push(["M",Ht[0].x,Qt.minY-It]),Ht.forEach(function(ut){$t.push(["L",ut.x,ut.y])}),$t.push(["L",Ht[Ht.length-1].x,Ht[Ht.length-1].y-It]),this.addShape(mt,{type:"path",id:this.getElementId("region"),name:"annotation-region",attrs:Object(f.a)({path:$t},ot)});var yt=Object(f.a)({id:this.getElementId("text"),name:"annotation-text",x:(Qt.minX+Qt.maxX)/2,y:Qt.minY-It},this.get("text"));A(mt,yt)}},pt}(g.a),W=T,Q=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"regionFilter",locationType:"region",start:null,end:null,color:null,shape:[]})},pt.prototype.renderInner=function(mt){var ot=this,xt=this.get("start"),It=this.get("end"),Ht=this.addGroup(mt,{id:this.getElementId("region-filter"),capture:!1});Object(i.j)(this.get("shapes"),function($t,yt){var ut=$t.get("type"),ft=Object(i.e)($t.attr());ot.adjustShapeAttrs(ft),ot.addShape(Ht,{id:ot.getElementId("shape-"+ut+"-"+yt),capture:!1,type:ut,attrs:ft})});var Qt=Object(S.k)({start:xt,end:It});Ht.setClip({type:"rect",attrs:{x:Qt.minX,y:Qt.minY,width:Qt.width,height:Qt.height}})},pt.prototype.adjustShapeAttrs=function(mt){var ot=this.get("color");mt.fill&&(mt.fill=mt.fillStyle=ot),mt.stroke=mt.strokeStyle=ot},pt}(g.a),nt=Q,st=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"shape",draw:i.db})},pt.prototype.renderInner=function(mt){var ot=this.get("render");Object(i.H)(ot)&&ot(mt)},pt}(g.a),et=st,_=a("fIp6"),Y=a("de35"),$=function(at){Object(f.c)(pt,at);function pt(){return at!==null&&at.apply(this,arguments)||this}return pt.prototype.getDefaultCfg=function(){var mt=at.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},mt),{name:"annotation",type:"html",locationType:"point",x:0,y:0,containerTpl:'<div class="g2-html-annotation"></div>',alignX:"left",alignY:"top",html:"",zIndex:7})},pt.prototype.render=function(){var mt=this.getContainer(),ot=this.get("html");Object(S.a)(mt);var xt=Object(i.H)(ot)?ot(mt):ot;Object(i.E)(xt)?mt.appendChild(xt):Object(i.O)(xt)&&mt.appendChild(Object(_.b)(xt)),this.resetPosition()},pt.prototype.resetPosition=function(){var mt=this.getContainer(),ot=this.getLocation(),xt=ot.x,It=ot.y,Ht=this.get("alignX"),Qt=this.get("alignY"),$t=this.get("offsetX"),yt=this.get("offsetY"),ut=Object(_.d)(mt),ft=Object(_.c)(mt),it={x:xt,y:It};Ht==="middle"?it.x-=Math.round(ut/2):Ht==="right"&&(it.x-=Math.round(ut)),Qt==="middle"?it.y-=Math.round(ft/2):Qt==="bottom"&&(it.y-=Math.round(ft)),$t&&(it.x+=$t),yt&&(it.y+=yt),Object(_.e)(mt,{position:"absolute",left:it.x+"px",top:it.y+"px",zIndex:this.get("zIndex")})},pt}(Y.a),q=$},uM7l:function(Ft,I,a){var f=a("OBhP"),i=4;function g(p){return f(p,i)}Ft.exports=g},uPCe:function(Ft,I,a){Ft.exports=a("cGwC")},uPr3:function(Ft,I){Ft.exports=function(f){return!f||typeof f=="string"?!1:f instanceof Array||Array.isArray(f)||f.length>=0&&(f.splice instanceof Function||Object.getOwnPropertyDescriptor(f,f.length-1)&&f.constructor.name!=="String")}},ujMp:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.circularDependencyToException=I.listMetadataForTarget=I.listRegisteredBindingsForServiceIdentifier=I.getServiceIdentifierAsString=I.getFunctionName=void 0;var f=a("MON2");function i(x){if(typeof x=="function"){var O=x;return O.name}else{if(typeof x=="symbol")return x.toString();var O=x;return O}}I.getServiceIdentifierAsString=i;function g(x,O,C){var D="",R=C(x,O);return R.length!==0&&(D=`
Registered bindings:`,R.forEach(function(y){var w="Object";y.implementationType!==null&&(w=M(y.implementationType)),D=D+`
 `+w,y.constraint.metaData&&(D=D+" - "+y.constraint.metaData)})),D}I.listRegisteredBindingsForServiceIdentifier=g;function p(x,O){return x.parentRequest===null?!1:x.parentRequest.serviceIdentifier===O?!0:p(x.parentRequest,O)}function E(x){function O(D,R){R===void 0&&(R=[]);var y=i(D.serviceIdentifier);return R.push(y),D.parentRequest!==null?O(D.parentRequest,R):R}var C=O(x);return C.reverse().join(" --> ")}function S(x){x.childRequests.forEach(function(O){if(p(O,O.serviceIdentifier)){var C=E(O);throw new Error(f.CIRCULAR_DEPENDENCY+" "+C)}else S(O)})}I.circularDependencyToException=S;function A(x,O){if(O.isTagged()||O.isNamed()){var C="",D=O.getNamedTag(),R=O.getCustomTags();return D!==null&&(C+=D.toString()+`
`),R!==null&&R.forEach(function(y){C+=y.toString()+`
`})," "+x+`
 `+x+" - "+C}else return" "+x}I.listMetadataForTarget=A;function M(x){if(x.name)return x.name;var O=x.toString(),C=O.match(/^function\s*([^\s(]+)/);return C?C[1]:"Anonymous function: "+O}I.getFunctionName=M},"ut/Y":function(Ft,I,a){var f=a("ZCpW"),i=a("GDhZ"),g=a("zZ0H"),p=a("Z0cm"),E=a("+c4W");function S(A){return typeof A=="function"?A:A==null?g:typeof A=="object"?p(A)?i(A[0],A[1]):f(A):E(A)}Ft.exports=S},"uw/B":function(Ft,I,a){"use strict";a.d(I,"a",function(){return A});var f=a("mrSG"),i=a("zJSt"),g=a("sqD9"),p=a("HXND"),E=a("YuPD"),S=Object(E.b)({},i.b.getDefaultOptions(),{tooltip:{shared:!0,showMarkers:!0,showCrosshairs:!0,crosshairs:{type:"x"}},isStack:!0,line:{},legend:{position:"top-left"}}),A=function(M){Object(f.c)(x,M);function x(){var O=M!==null&&M.apply(this,arguments)||this;return O.type="area",O}return x.getDefaultOptions=function(){return S},x.prototype.getDefaultOptions=function(){return x.getDefaultOptions()},x.prototype.changeData=function(O){this.updateOption({data:O});var C=this.options,D=C.isPercent,R=C.xField,y=C.yField,w=this,N=w.chart,z=w.options;Object(p.b)({chart:N,options:z}),this.chart.changeData(Object(g.a)(O,y,R,y,D))},x.prototype.getSchemaAdaptor=function(){return p.a},x}(i.b)},uwyu:function(Ft,I,a){"use strict";a.d(I,"b",function(){return f}),a.d(I,"c",function(){return i}),a.d(I,"a",function(){return g});function f(p,E){var S=[],A=p[0],M=p[1],x=p[2],O=p[3],C=p[4],D=p[5],R=p[6],y=p[7],w=p[8],N=E[0],z=E[1],V=E[2],B=E[3],P=E[4],T=E[5],W=E[6],Q=E[7],nt=E[8];return S[0]=N*A+z*O+V*R,S[1]=N*M+z*C+V*y,S[2]=N*x+z*D+V*w,S[3]=B*A+P*O+T*R,S[4]=B*M+P*C+T*y,S[5]=B*x+P*D+T*w,S[6]=W*A+Q*O+nt*R,S[7]=W*M+Q*C+nt*y,S[8]=W*x+Q*D+nt*w,S}function i(p,E){var S=[],A=E[0],M=E[1];return S[0]=p[0]*A+p[3]*M+p[6],S[1]=p[1]*A+p[4]*M+p[7],S}function g(p){var E=[],S=p[0],A=p[1],M=p[2],x=p[3],O=p[4],C=p[5],D=p[6],R=p[7],y=p[8],w=y*O-C*R,N=-y*x+C*D,z=R*x-O*D,V=S*w+A*N+M*z;return V?(V=1/V,E[0]=w*V,E[1]=(-y*A+M*R)*V,E[2]=(C*A-M*O)*V,E[3]=N*V,E[4]=(y*S-M*D)*V,E[5]=(-C*S+M*x)*V,E[6]=z*V,E[7]=(-R*S+A*D)*V,E[8]=(O*S-A*x)*V,E):null}},uxXc:function(Ft,I,a){var f=a("t1N5"),i=a("onlc"),g={},p=Object.keys(f);function E(A){var M=function(O){return O==null?O:(arguments.length>1&&(O=Array.prototype.slice.call(arguments)),A(O))};return"conversion"in A&&(M.conversion=A.conversion),M}function S(A){var M=function(O){if(O==null)return O;arguments.length>1&&(O=Array.prototype.slice.call(arguments));var C=A(O);if(typeof C=="object")for(var D=C.length,R=0;R<D;R++)C[R]=Math.round(C[R]);return C};return"conversion"in A&&(M.conversion=A.conversion),M}p.forEach(function(A){g[A]={},Object.defineProperty(g[A],"channels",{value:f[A].channels}),Object.defineProperty(g[A],"labels",{value:f[A].labels});var M=i(A),x=Object.keys(M);x.forEach(function(O){var C=M[O];g[A][O]=S(C),g[A][O].raw=E(C)})}),Ft.exports=g},uzHj:function(Ft,I){},v7Ed:function(Ft,I,a){"use strict";a.r(I),a.d(I,"version",function(){return S});var f=a("aN7R");a.d(I,"Shape",function(){return f});var i=a("aFU3");for(var g in i)["default","Canvas","Group","Shape","version"].indexOf(g)<0&&function(A){a.d(I,A,function(){return i[A]})}(g);var p=a("wClo");a.d(I,"Canvas",function(){return p.a});var E=a("5z4m");a.d(I,"Group",function(){return E.a});var S="0.5.6"},v8eK:function(Ft,I,a){var f=a("XGnz"),i=a("EA7m"),g=a("LGYb"),p=a("3L66"),E=i(function(S){return g(f(S,1,p,!0))});Ft.exports=E},vIgC:function(Ft,I,a){"use strict";a.d(I,"b",function(){return g}),a.d(I,"c",function(){return E}),a.d(I,"a",function(){return S});var f=a("sstZ"),i=a("lt7v");function g(A,M,x){var O=1;if(Object(f.h)(A)&&(O=A.split(`
`).length),O>1){var C=p(M,x);return M*O+C*(O-1)}return M}function p(A,M){return M?M-A:A*.14}function E(A,M){var x=Object(i.a)(),O=0;if(Object(f.e)(A)||A==="")return O;if(x.save(),x.font=M,Object(f.h)(A)&&A.includes(`
`)){var C=A.split(`
`);Object(f.a)(C,function(D){var R=x.measureText(D).width;O<R&&(O=R)})}else O=x.measureText(A).width;return x.restore(),O}function S(A){var M=A.fontSize,x=A.fontFamily,O=A.fontWeight,C=A.fontStyle,D=A.fontVariant;return[C,D,O,M+"px",x].join(" ").trim()}},"vN+2":function(Ft,I){function a(){}Ft.exports=a},vOnD:function(Ft,I,a){"use strict";(function(f){a.d(I,"a",function(){return Ki}),a.d(I,"b",function(){return _e});var i=a("TOwV"),g=a.n(i),p=a("q1tI"),E=a.n(p),S=a("Gytx"),A=a.n(S),M=a("0x0X"),x=a("ME5O"),O=a("9uj6"),C=a("2mql"),D=a.n(C);function R(){return(R=Object.assign||function(rr){for(var ir=1;ir<arguments.length;ir++){var Ye=arguments[ir];for(var tr in Ye)Object.prototype.hasOwnProperty.call(Ye,tr)&&(rr[tr]=Ye[tr])}return rr}).apply(this,arguments)}var y=function(ir,Ye){for(var tr=[ir[0]],Fr=0,tn=Ye.length;Fr<tn;Fr+=1)tr.push(Ye[Fr],ir[Fr+1]);return tr},w=function(ir){return ir!==null&&typeof ir=="object"&&(ir.toString?ir.toString():Object.prototype.toString.call(ir))==="[object Object]"&&!Object(i.typeOf)(ir)},N=Object.freeze([]),z=Object.freeze({});function V(rr){return typeof rr=="function"}function B(rr){return rr.displayName||rr.name||"Component"}function P(rr){return rr&&typeof rr.styledComponentId=="string"}var T=typeof f!="undefined"&&(Object({NODE_ENV:"production"}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production"}).SC_ATTR)||"data-styled",W="5.3.0",Q=typeof window!="undefined"&&"HTMLElement"in window,nt=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof f!="undefined"&&Object({NODE_ENV:"production"}).REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Object({NODE_ENV:"production"}).REACT_APP_SC_DISABLE_SPEEDY!==""?Object({NODE_ENV:"production"}).REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Object({NODE_ENV:"production"}).REACT_APP_SC_DISABLE_SPEEDY:typeof f!="undefined"&&Object({NODE_ENV:"production"}).SC_DISABLE_SPEEDY!==void 0&&Object({NODE_ENV:"production"}).SC_DISABLE_SPEEDY!==""?Object({NODE_ENV:"production"}).SC_DISABLE_SPEEDY!=="false"&&Object({NODE_ENV:"production"}).SC_DISABLE_SPEEDY:!1),st={},et={};function _(){for(var rr=arguments.length<=0?void 0:arguments[0],ir=[],Ye=1,tr=arguments.length;Ye<tr;Ye+=1)ir.push(Ye<0||arguments.length<=Ye?void 0:arguments[Ye]);return ir.forEach(function(Fr){rr=rr.replace(/%[a-z]/,Fr)}),rr}function Y(rr){for(var ir=arguments.length,Ye=new Array(ir>1?ir-1:0),tr=1;tr<ir;tr++)Ye[tr-1]=arguments[tr];throw new Error("An error occurred. See https://git.io/JUIaE#"+rr+" for more information."+(Ye.length>0?" Args: "+Ye.join(", "):""))}var $=function(){function rr(Ye){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=Ye}var ir=rr.prototype;return ir.indexOfGroup=function(Ye){for(var tr=0,Fr=0;Fr<Ye;Fr++)tr+=this.groupSizes[Fr];return tr},ir.insertRules=function(Ye,tr){if(Ye>=this.groupSizes.length){for(var Fr=this.groupSizes,tn=Fr.length,bn=tn;Ye>=bn;)(bn<<=1)<0&&Y(16,""+Ye);this.groupSizes=new Uint32Array(bn),this.groupSizes.set(Fr),this.length=bn;for(var on=tn;on<bn;on++)this.groupSizes[on]=0}for(var Oa=this.indexOfGroup(Ye+1),na=0,wa=tr.length;na<wa;na++)this.tag.insertRule(Oa,tr[na])&&(this.groupSizes[Ye]++,Oa++)},ir.clearGroup=function(Ye){if(Ye<this.length){var tr=this.groupSizes[Ye],Fr=this.indexOfGroup(Ye),tn=Fr+tr;this.groupSizes[Ye]=0;for(var bn=Fr;bn<tn;bn++)this.tag.deleteRule(Fr)}},ir.getGroup=function(Ye){var tr="";if(Ye>=this.length||this.groupSizes[Ye]===0)return tr;for(var Fr=this.groupSizes[Ye],tn=this.indexOfGroup(Ye),bn=tn+Fr,on=tn;on<bn;on++)tr+=this.tag.getRule(on)+`/*!sc*/
`;return tr},rr}(),q=new Map,at=new Map,pt=1,mt=function(ir){if(q.has(ir))return q.get(ir);for(;at.has(pt);)pt++;var Ye=pt++;return q.set(ir,Ye),at.set(Ye,ir),Ye},ot=function(ir){return at.get(ir)},xt=function(ir,Ye){q.set(ir,Ye),at.set(Ye,ir)},It="style["+T+'][data-styled-version="5.3.0"]',Ht=new RegExp("^"+T+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Qt=function(ir,Ye,tr){for(var Fr,tn=tr.split(","),bn=0,on=tn.length;bn<on;bn++)(Fr=tn[bn])&&ir.registerName(Ye,Fr)},$t=function(ir,Ye){for(var tr=Ye.innerHTML.split(`/*!sc*/
`),Fr=[],tn=0,bn=tr.length;tn<bn;tn++){var on=tr[tn].trim();if(on){var Oa=on.match(Ht);if(Oa){var na=0|parseInt(Oa[1],10),wa=Oa[2];na!==0&&(xt(wa,na),Qt(ir,wa,Oa[3]),ir.getTag().insertRules(na,Fr)),Fr.length=0}else Fr.push(on)}}},yt=function(){return typeof window!="undefined"&&window.__webpack_nonce__!==void 0?window.__webpack_nonce__:null},ut=function(ir){var Ye=document.head,tr=ir||Ye,Fr=document.createElement("style"),tn=function(Oa){for(var na=Oa.childNodes,wa=na.length;wa>=0;wa--){var da=na[wa];if(da&&da.nodeType===1&&da.hasAttribute(T))return da}}(tr),bn=tn!==void 0?tn.nextSibling:null;Fr.setAttribute(T,"active"),Fr.setAttribute("data-styled-version","5.3.0");var on=yt();return on&&Fr.setAttribute("nonce",on),tr.insertBefore(Fr,bn),Fr},ft=function(){function rr(Ye){var tr=this.element=ut(Ye);tr.appendChild(document.createTextNode("")),this.sheet=function(Fr){if(Fr.sheet)return Fr.sheet;for(var tn=document.styleSheets,bn=0,on=tn.length;bn<on;bn++){var Oa=tn[bn];if(Oa.ownerNode===Fr)return Oa}Y(17)}(tr),this.length=0}var ir=rr.prototype;return ir.insertRule=function(Ye,tr){try{return this.sheet.insertRule(tr,Ye),this.length++,!0}catch(Fr){return!1}},ir.deleteRule=function(Ye){this.sheet.deleteRule(Ye),this.length--},ir.getRule=function(Ye){var tr=this.sheet.cssRules[Ye];return tr!==void 0&&typeof tr.cssText=="string"?tr.cssText:""},rr}(),it=function(){function rr(Ye){var tr=this.element=ut(Ye);this.nodes=tr.childNodes,this.length=0}var ir=rr.prototype;return ir.insertRule=function(Ye,tr){if(Ye<=this.length&&Ye>=0){var Fr=document.createTextNode(tr),tn=this.nodes[Ye];return this.element.insertBefore(Fr,tn||null),this.length++,!0}return!1},ir.deleteRule=function(Ye){this.element.removeChild(this.nodes[Ye]),this.length--},ir.getRule=function(Ye){return Ye<this.length?this.nodes[Ye].textContent:""},rr}(),vt=function(){function rr(Ye){this.rules=[],this.length=0}var ir=rr.prototype;return ir.insertRule=function(Ye,tr){return Ye<=this.length&&(this.rules.splice(Ye,0,tr),this.length++,!0)},ir.deleteRule=function(Ye){this.rules.splice(Ye,1),this.length--},ir.getRule=function(Ye){return Ye<this.length?this.rules[Ye]:""},rr}(),Wt=Q,Ct={isServer:!Q,useCSSOMInjection:!nt},Z=function(){function rr(Ye,tr,Fr){Ye===void 0&&(Ye=z),tr===void 0&&(tr={}),this.options=R({},Ct,{},Ye),this.gs=tr,this.names=new Map(Fr),!this.options.isServer&&Q&&Wt&&(Wt=!1,function(tn){for(var bn=document.querySelectorAll(It),on=0,Oa=bn.length;on<Oa;on++){var na=bn[on];na&&na.getAttribute(T)!=="active"&&($t(tn,na),na.parentNode&&na.parentNode.removeChild(na))}}(this))}rr.registerId=function(Ye){return mt(Ye)};var ir=rr.prototype;return ir.reconstructWithOptions=function(Ye,tr){return tr===void 0&&(tr=!0),new rr(R({},this.options,{},Ye),this.gs,tr&&this.names||void 0)},ir.allocateGSInstance=function(Ye){return this.gs[Ye]=(this.gs[Ye]||0)+1},ir.getTag=function(){return this.tag||(this.tag=(Fr=(tr=this.options).isServer,tn=tr.useCSSOMInjection,bn=tr.target,Ye=Fr?new vt(bn):tn?new ft(bn):new it(bn),new $(Ye)));var Ye,tr,Fr,tn,bn},ir.hasNameForId=function(Ye,tr){return this.names.has(Ye)&&this.names.get(Ye).has(tr)},ir.registerName=function(Ye,tr){if(mt(Ye),this.names.has(Ye))this.names.get(Ye).add(tr);else{var Fr=new Set;Fr.add(tr),this.names.set(Ye,Fr)}},ir.insertRules=function(Ye,tr,Fr){this.registerName(Ye,tr),this.getTag().insertRules(mt(Ye),Fr)},ir.clearNames=function(Ye){this.names.has(Ye)&&this.names.get(Ye).clear()},ir.clearRules=function(Ye){this.getTag().clearGroup(mt(Ye)),this.clearNames(Ye)},ir.clearTag=function(){this.tag=void 0},ir.toString=function(){return function(Ye){for(var tr=Ye.getTag(),Fr=tr.length,tn="",bn=0;bn<Fr;bn++){var on=ot(bn);if(on!==void 0){var Oa=Ye.names.get(on),na=tr.getGroup(bn);if(Oa!==void 0&&na.length!==0){var wa=T+".g"+bn+'[id="'+on+'"]',da="";Oa!==void 0&&Oa.forEach(function(bi){bi.length>0&&(da+=bi+",")}),tn+=""+na+wa+'{content:"'+da+`"}/*!sc*/
`}}}return tn}(this)},rr}(),X=/(a)(d)/gi,dt=function(ir){return String.fromCharCode(ir+(ir>25?39:97))};function H(rr){var ir,Ye="";for(ir=Math.abs(rr);ir>52;ir=ir/52|0)Ye=dt(ir%52)+Ye;return(dt(ir%52)+Ye).replace(X,"$1-$2")}var lt=function(ir,Ye){for(var tr=Ye.length;tr;)ir=33*ir^Ye.charCodeAt(--tr);return ir},Ot=function(ir){return lt(5381,ir)};function Rt(rr){for(var ir=0;ir<rr.length;ir+=1){var Ye=rr[ir];if(V(Ye)&&!P(Ye))return!1}return!0}var zt=Ot("5.3.0"),Bt=function(){function rr(ir,Ye,tr){this.rules=ir,this.staticRulesId="",this.isStatic=(tr===void 0||tr.isStatic)&&Rt(ir),this.componentId=Ye,this.baseHash=lt(zt,Ye),this.baseStyle=tr,Z.registerId(Ye)}return rr.prototype.generateAndInjectStyles=function(ir,Ye,tr){var Fr=this.componentId,tn=[];if(this.baseStyle&&tn.push(this.baseStyle.generateAndInjectStyles(ir,Ye,tr)),this.isStatic&&!tr.hash)if(this.staticRulesId&&Ye.hasNameForId(Fr,this.staticRulesId))tn.push(this.staticRulesId);else{var bn=He(this.rules,ir,Ye,tr).join(""),on=H(lt(this.baseHash,bn.length)>>>0);if(!Ye.hasNameForId(Fr,on)){var Oa=tr(bn,"."+on,void 0,Fr);Ye.insertRules(Fr,on,Oa)}tn.push(on),this.staticRulesId=on}else{for(var na=this.rules.length,wa=lt(this.baseHash,tr.hash),da="",bi=0;bi<na;bi++){var qa=this.rules[bi];if(typeof qa=="string")da+=qa;else if(qa){var fa=He(qa,ir,Ye,tr),Aa=Array.isArray(fa)?fa.join(""):fa;wa=lt(wa,Aa+bi),da+=Aa}}if(da){var Sa=H(wa>>>0);if(!Ye.hasNameForId(Fr,Sa)){var Fa=tr(da,"."+Sa,void 0,Fr);Ye.insertRules(Fr,Sa,Fa)}tn.push(Sa)}}return tn.join(" ")},rr}(),tt=/^\s*\/\/.*$/gm,J=[":","[",".","#"];function G(rr){var ir,Ye,tr,Fr,tn=rr===void 0?z:rr,bn=tn.options,on=bn===void 0?z:bn,Oa=tn.plugins,na=Oa===void 0?N:Oa,wa=new M.a(on),da=[],bi=function(Aa){function Sa(Fa){if(Fa)try{Aa(Fa+"}")}catch(Ka){}}return function(Fa,Ka,hi,me,he,be,Ve,Ke,fr,Lr){switch(Fa){case 1:if(fr===0&&Ka.charCodeAt(0)===64)return Aa(Ka+";"),"";break;case 2:if(Ke===0)return Ka+"/*|*/";break;case 3:switch(Ke){case 102:case 112:return Aa(hi[0]+Ka),"";default:return Ka+(Lr===0?"/*|*/":"")}case-2:Ka.split("/*|*/}").forEach(Sa)}}}(function(Aa){da.push(Aa)}),qa=function(Sa,Fa,Ka){return Fa===0&&J.indexOf(Ka[Ye.length])!==-1||Ka.match(Fr)?Sa:"."+ir};function fa(Aa,Sa,Fa,Ka){Ka===void 0&&(Ka="&");var hi=Aa.replace(tt,""),me=Sa&&Fa?Fa+" "+Sa+" { "+hi+" }":hi;return ir=Ka,Ye=Sa,tr=new RegExp("\\"+Ye+"\\b","g"),Fr=new RegExp("(\\"+Ye+"\\b){2,}"),wa(Fa||!Sa?"":Sa,me)}return wa.use([].concat(na,[function(Aa,Sa,Fa){Aa===2&&Fa.length&&Fa[0].lastIndexOf(Ye)>0&&(Fa[0]=Fa[0].replace(tr,qa))},bi,function(Aa){if(Aa===-2){var Sa=da;return da=[],Sa}}])),fa.hash=na.length?na.reduce(function(Aa,Sa){return Sa.name||Y(15),lt(Aa,Sa.name)},5381).toString():"",fa}var Et=E.a.createContext(),Tt=Et.Consumer,ct=E.a.createContext(),St=(ct.Consumer,new Z),Vt=G();function Lt(){return Object(p.useContext)(Et)||St}function Nt(){return Object(p.useContext)(ct)||Vt}function Zt(rr){var ir=Object(p.useState)(rr.stylisPlugins),Ye=ir[0],tr=ir[1],Fr=Lt(),tn=Object(p.useMemo)(function(){var on=Fr;return rr.sheet?on=rr.sheet:rr.target&&(on=on.reconstructWithOptions({target:rr.target},!1)),rr.disableCSSOMInjection&&(on=on.reconstructWithOptions({useCSSOMInjection:!1})),on},[rr.disableCSSOMInjection,rr.sheet,rr.target]),bn=Object(p.useMemo)(function(){return G({options:{prefix:!rr.disableVendorPrefixes},plugins:Ye})},[rr.disableVendorPrefixes,Ye]);return Object(p.useEffect)(function(){A()(Ye,rr.stylisPlugins)||tr(rr.stylisPlugins)},[rr.stylisPlugins]),E.a.createElement(Et.Provider,{value:tn},E.a.createElement(ct.Provider,{value:bn},rr.children))}var oe=function(){function rr(ir,Ye){var tr=this;this.inject=function(Fr,tn){tn===void 0&&(tn=Vt);var bn=tr.name+tn.hash;Fr.hasNameForId(tr.id,bn)||Fr.insertRules(tr.id,bn,tn(tr.rules,bn,"@keyframes"))},this.toString=function(){return Y(12,String(tr.name))},this.name=ir,this.id="sc-keyframes-"+ir,this.rules=Ye}return rr.prototype.getName=function(ir){return ir===void 0&&(ir=Vt),this.name+ir.hash},rr}(),ue=/([A-Z])/,Ee=/([A-Z])/g,Te=/^ms-/,Se=function(ir){return"-"+ir.toLowerCase()};function $e(rr){return ue.test(rr)?rr.replace(Ee,Se).replace(Te,"-ms-"):rr}var cr=function(ir){return ir==null||ir===!1||ir===""};function He(rr,ir,Ye,tr){if(Array.isArray(rr)){for(var Fr,tn=[],bn=0,on=rr.length;bn<on;bn+=1)(Fr=He(rr[bn],ir,Ye,tr))!==""&&(Array.isArray(Fr)?tn.push.apply(tn,Fr):tn.push(Fr));return tn}if(cr(rr))return"";if(P(rr))return"."+rr.styledComponentId;if(V(rr)){if(typeof(na=rr)!="function"||na.prototype&&na.prototype.isReactComponent||!ir)return rr;var Oa=rr(ir);return He(Oa,ir,Ye,tr)}var na;return rr instanceof oe?Ye?(rr.inject(Ye,tr),rr.getName(tr)):rr:w(rr)?function wa(da,bi){var qa,fa,Aa=[];for(var Sa in da)da.hasOwnProperty(Sa)&&!cr(da[Sa])&&(w(da[Sa])?Aa.push.apply(Aa,wa(da[Sa],Sa)):V(da[Sa])?Aa.push($e(Sa)+":",da[Sa],";"):Aa.push($e(Sa)+": "+(qa=Sa,(fa=da[Sa])==null||typeof fa=="boolean"||fa===""?"":typeof fa!="number"||fa===0||qa in x.a?String(fa).trim():fa+"px")+";"));return bi?[bi+" {"].concat(Aa,["}"]):Aa}(rr):rr.toString()}function _e(rr){for(var ir=arguments.length,Ye=new Array(ir>1?ir-1:0),tr=1;tr<ir;tr++)Ye[tr-1]=arguments[tr];return V(rr)||w(rr)?He(y(N,[rr].concat(Ye))):Ye.length===0&&rr.length===1&&typeof rr[0]=="string"?rr:He(y(rr,Ye))}var ur=/invalid hook call/i,jr=new Set,Ar=function(ir,Ye){if(!1)var tr},Ge=function(ir,Ye,tr){return tr===void 0&&(tr=z),ir.theme!==tr.theme&&ir.theme||Ye||tr.theme},br=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,er=/(^-|-$)/g;function nr(rr){return rr.replace(br,"-").replace(er,"")}var yr=function(ir){return H(Ot(ir)>>>0)};function Rr(rr){return typeof rr=="string"&&!0}var an=function(ir){return typeof ir=="function"||typeof ir=="object"&&ir!==null&&!Array.isArray(ir)},In=function(ir){return ir!=="__proto__"&&ir!=="constructor"&&ir!=="prototype"};function Un(rr,ir,Ye){var tr=rr[Ye];an(ir)&&an(tr)?_n(tr,ir):rr[Ye]=ir}function _n(rr){for(var ir=arguments.length,Ye=new Array(ir>1?ir-1:0),tr=1;tr<ir;tr++)Ye[tr-1]=arguments[tr];for(var Fr=0,tn=Ye;Fr<tn.length;Fr++){var bn=tn[Fr];if(an(bn))for(var on in bn)In(on)&&Un(rr,bn[on],on)}return rr}var sa=E.a.createContext(),ci=sa.Consumer;function fi(rr){var ir=Object(p.useContext)(sa),Ye=Object(p.useMemo)(function(){return function(tr,Fr){if(!tr)return Y(14);if(V(tr)){var tn=tr(Fr);return tn}return Array.isArray(tr)||typeof tr!="object"?Y(8):Fr?R({},Fr,{},tr):tr}(rr.theme,ir)},[rr.theme,ir]);return rr.children?E.a.createElement(sa.Provider,{value:Ye},rr.children):null}var pa={};function ga(rr,ir,Ye){var tr=P(rr),Fr=!Rr(rr),tn=ir.attrs,bn=tn===void 0?N:tn,on=ir.componentId,Oa=on===void 0?function(Ka,hi){var me=typeof Ka!="string"?"sc":nr(Ka);pa[me]=(pa[me]||0)+1;var he=me+"-"+yr("5.3.0"+me+pa[me]);return hi?hi+"-"+he:he}(ir.displayName,ir.parentComponentId):on,na=ir.displayName,wa=na===void 0?function(Ka){return Rr(Ka)?"styled."+Ka:"Styled("+B(Ka)+")"}(rr):na,da=ir.displayName&&ir.componentId?nr(ir.displayName)+"-"+ir.componentId:ir.componentId||Oa,bi=tr&&rr.attrs?Array.prototype.concat(rr.attrs,bn).filter(Boolean):bn,qa=ir.shouldForwardProp;tr&&rr.shouldForwardProp&&(qa=ir.shouldForwardProp?function(Ka,hi,me){return rr.shouldForwardProp(Ka,hi,me)&&ir.shouldForwardProp(Ka,hi,me)}:rr.shouldForwardProp);var fa,Aa=new Bt(Ye,da,tr?rr.componentStyle:void 0),Sa=Aa.isStatic&&bn.length===0,Fa=function(hi,me){return function(he,be,Ve,Ke){var fr=he.attrs,Lr=he.componentStyle,_r=he.defaultProps,ua=he.foldedComponentIds,ta=he.shouldForwardProp,Kn=he.styledComponentId,ji=he.target,Ra=function(Ba,On,mo){Ba===void 0&&(Ba=z);var Xo=R({},On,{theme:Ba}),Ei={};return mo.forEach(function(Zi){var Do,Po,bo,Eo=Zi;for(Do in V(Eo)&&(Eo=Eo(Xo)),Eo)Xo[Do]=Ei[Do]=Do==="className"?(Po=Ei[Do],bo=Eo[Do],Po&&bo?Po+" "+bo:Po||bo):Eo[Do]}),[Xo,Ei]}(Ge(be,Object(p.useContext)(sa),_r)||z,be,fr),eo=Ra[0],Si=Ra[1],yo=function(Ba,On,mo,Xo){var Ei=Lt(),Zi=Nt(),Do=On?Ba.generateAndInjectStyles(z,Ei,Zi):Ba.generateAndInjectStyles(mo,Ei,Zi);return Do}(Lr,Ke,eo,void 0),Co=Ve,Ro=Si.$as||be.$as||Si.as||be.as||ji,we=Rr(Ro),ro=Si!==be?R({},be,{},Si):be,pe={};for(var Gi in ro)Gi[0]!=="$"&&Gi!=="as"&&(Gi==="forwardedAs"?pe.as=ro[Gi]:(ta?ta(Gi,O.a,Ro):!we||Object(O.a)(Gi))&&(pe[Gi]=ro[Gi]));return be.style&&Si.style!==be.style&&(pe.style=R({},be.style,{},Si.style)),pe.className=Array.prototype.concat(ua,Kn,yo!==Kn?yo:null,be.className,Si.className).filter(Boolean).join(" "),pe.ref=Co,Object(p.createElement)(Ro,pe)}(fa,hi,me,Sa)};return Fa.displayName=wa,(fa=E.a.forwardRef(Fa)).attrs=bi,fa.componentStyle=Aa,fa.displayName=wa,fa.shouldForwardProp=qa,fa.foldedComponentIds=tr?Array.prototype.concat(rr.foldedComponentIds,rr.styledComponentId):N,fa.styledComponentId=da,fa.target=tr?rr.target:rr,fa.withComponent=function(Ka){var hi=ir.componentId,me=function(be,Ve){if(be==null)return{};var Ke,fr,Lr={},_r=Object.keys(be);for(fr=0;fr<_r.length;fr++)Ke=_r[fr],Ve.indexOf(Ke)>=0||(Lr[Ke]=be[Ke]);return Lr}(ir,["componentId"]),he=hi&&hi+"-"+(Rr(Ka)?Ka:nr(B(Ka)));return ga(Ka,R({},me,{attrs:bi,componentId:he}),Ye)},Object.defineProperty(fa,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(hi){this._foldedDefaultProps=tr?_n({},rr.defaultProps,hi):hi}}),fa.toString=function(){return"."+fa.styledComponentId},Fr&&D()(fa,rr,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),fa}var Xi=function(ir){return function Ye(tr,Fr,tn){if(tn===void 0&&(tn=z),!Object(i.isValidElementType)(Fr))return Y(1,String(Fr));var bn=function(){return tr(Fr,tn,_e.apply(void 0,arguments))};return bn.withConfig=function(on){return Ye(tr,Fr,R({},tn,{},on))},bn.attrs=function(on){return Ye(tr,Fr,R({},tn,{attrs:Array.prototype.concat(tn.attrs,on).filter(Boolean)}))},bn}(ga,ir)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(rr){Xi[rr]=Xi(rr)});var Ci=function(){function rr(Ye,tr){this.rules=Ye,this.componentId=tr,this.isStatic=Rt(Ye),Z.registerId(this.componentId+1)}var ir=rr.prototype;return ir.createStyles=function(Ye,tr,Fr,tn){var bn=tn(He(this.rules,tr,Fr,tn).join(""),""),on=this.componentId+Ye;Fr.insertRules(on,on,bn)},ir.removeStyles=function(Ye,tr){tr.clearRules(this.componentId+Ye)},ir.renderStyles=function(Ye,tr,Fr,tn){Ye>2&&Z.registerId(this.componentId+Ye),this.removeStyles(Ye,Fr),this.createStyles(Ye,tr,Fr,tn)},rr}();function Ki(rr){for(var ir=arguments.length,Ye=new Array(ir>1?ir-1:0),tr=1;tr<ir;tr++)Ye[tr-1]=arguments[tr];var Fr=_e.apply(void 0,[rr].concat(Ye)),tn="sc-global-"+yr(JSON.stringify(Fr)),bn=new Ci(Fr,tn);function on(na){var wa=Lt(),da=Nt(),bi=Object(p.useContext)(sa),qa=Object(p.useRef)(wa.allocateGSInstance(tn)).current;return Object(p.useLayoutEffect)(function(){return Oa(qa,na,wa,bi,da),function(){return bn.removeStyles(qa,wa)}},[qa,na,wa,bi,da]),null}function Oa(na,wa,da,bi,qa){if(bn.isStatic)bn.renderStyles(na,st,da,qa);else{var fa=R({},wa,{theme:Ge(wa,bi,on.defaultProps)});bn.renderStyles(na,fa,da,qa)}}return E.a.memo(on)}function so(rr){for(var ir=arguments.length,Ye=new Array(ir>1?ir-1:0),tr=1;tr<ir;tr++)Ye[tr-1]=arguments[tr];var Fr=_e.apply(void 0,[rr].concat(Ye)).join(""),tn=yr(Fr);return new oe(tn,Fr)}var co=function(){function rr(){var Ye=this;this._emitSheetCSS=function(){var tr=Ye.instance.toString(),Fr=yt();return"<style "+[Fr&&'nonce="'+Fr+'"',T+'="true"','data-styled-version="5.3.0"'].filter(Boolean).join(" ")+">"+tr+"</style>"},this.getStyleTags=function(){return Ye.sealed?Y(2):Ye._emitSheetCSS()},this.getStyleElement=function(){var tr;if(Ye.sealed)return Y(2);var Fr=((tr={})[T]="",tr["data-styled-version"]="5.3.0",tr.dangerouslySetInnerHTML={__html:Ye.instance.toString()},tr),tn=yt();return tn&&(Fr.nonce=tn),[E.a.createElement("style",R({},Fr,{key:"sc-0-0"}))]},this.seal=function(){Ye.sealed=!0},this.instance=new Z({isServer:!0}),this.sealed=!1}var ir=rr.prototype;return ir.collectStyles=function(Ye){return this.sealed?Y(2):E.a.createElement(Zt,{sheet:this.instance},Ye)},ir.interleaveWithNodeStream=function(Ye){return Y(3)},rr}(),fo=function(ir){var Ye=E.a.forwardRef(function(tr,Fr){var tn=Object(p.useContext)(sa),bn=ir.defaultProps,on=Ge(tr,tn,bn);return E.a.createElement(ir,R({},tr,{theme:on,ref:Fr}))});return D()(Ye,ir),Ye.displayName="WithTheme("+B(ir)+")",Ye},ya=function(){return Object(p.useContext)(sa)},_a={StyleSheet:Z,masterSheet:St};I.c=Xi}).call(this,a("Q2Ig"))},vdMR:function(Ft,I){},"vip/":function(Ft,I,a){Ft.exports=a("yEj1")},vk7d:function(Ft,I){},"w+x+":function(Ft,I,a){"use strict";a.d(I,"g",function(){return i}),a.d(I,"f",function(){return g}),a.d(I,"e",function(){return p}),a.d(I,"a",function(){return E}),a.d(I,"c",function(){return S}),a.d(I,"h",function(){return A}),a.d(I,"d",function(){return M}),a.d(I,"b",function(){return x});var f,i="range",g="type",p="percent",E="#f0f0f0",S="indicator-view",A="range-view",M="range-mask-view",x={percent:0,range:{ticks:[]},innerRadius:.9,radius:.95,startAngle:-7/6*Math.PI,endAngle:1/6*Math.PI,syncViewPadding:!0,axis:{line:null,label:{offset:-24,style:{textAlign:"center",textBaseline:"middle"}},subTickLine:{length:-8},tickLine:{length:-12},grid:null},indicator:{pointer:{style:{lineWidth:5,lineCap:"round"}},pin:{style:{r:9.75,lineWidth:4.5,fill:"#fff"}}},statistic:{title:!1},meta:(f={},f[i]={sync:"v"},f[p]={sync:"v",tickCount:5,tickInterval:.2},f),animation:!1}},"w/wX":function(Ft,I,a){var f=a("QqLw"),i=a("ExA7"),g="[object Set]";function p(E){return i(E)&&f(E)==g}Ft.exports=p},w02o:function(Ft,I,a){"use strict";a.d(I,"d",function(){return E}),a.d(I,"k",function(){return S}),a.d(I,"c",function(){return A}),a.d(I,"a",function(){return M}),a.d(I,"j",function(){return x}),a.d(I,"i",function(){return O}),a.d(I,"h",function(){return C}),a.d(I,"g",function(){return D}),a.d(I,"f",function(){return R}),a.d(I,"b",function(){return y}),a.d(I,"e",function(){return w});var f=a("mrSG"),i=a("iTfj"),g=a("n/J0"),p=a("YuPD");function E(N){var z=N.chart,V=N.options,B=V.legend,P=V.colorField,T=V.seriesField;return B===!1?z.legend(!1):(P||T)&&z.legend(P||T,B),N}function S(N){var z=N.chart,V=N.options,B=V.tooltip;return B!==void 0&&z.tooltip(B),N}function A(N){var z=N.chart,V=N.options,B=V.interactions;return Object(i.j)(B,function(P){P.enable===!1?z.removeInteraction(P.type):z.interaction(P.type,P.cfg||{})}),N}function M(N){var z=N.chart,V=N.options,B=V.animation;return typeof B=="boolean"?z.animate(B):z.animate(!0),Object(i.j)(z.geometries,function(P){P.animate(B)}),N}function x(N){var z=N.chart,V=N.options,B=V.theme;return B&&z.theme(B),N}function O(N){var z=N.chart,V=N.options,B=V.state;return B&&Object(i.j)(z.geometries,function(P){P.state(B)}),N}function C(N){var z=N.chart,V=N.options,B=V.slider;return z.option("slider",B),N}function D(N){var z=N.chart,V=N.options,B=V.scrollbar;return z.option("scrollbar",B),N}function R(N,z){return function(V){var B=V.chart,P=V.options,T={};return Object(i.j)(N,function(W,Q){T[Q]=Object(p.p)(W,g.a)}),T=Object(p.b)({},z,P.meta,T),B.scale(T),V}}function y(N){return function(z){var V=z.chart,B=z.options,P=V.getController("annotation");return Object(i.j)(Object(f.g)(B.annotations||[],N||[]),function(T){P.annotation(T)}),z}}function w(N){var z=N.chart,V=N.options,B=V.yAxis,P=V.limitInPlot,T=P;return Object(i.M)(B)&&Object(i.I)(P)&&(Object.values(Object(p.p)(B,["min","max","minLimit","maxLimit"])).some(function(W){return!Object(i.I)(W)})?T=!0:T=!1),z.limitInPlot=T,N}},w802:function(Ft,I){Ft.exports="2.1.8"},wClo:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("aFU3"),g=a("IvmH"),p=a("c0lT"),E=a("APlK"),S=a("c+wO"),A=a("aN7R"),M=a("5z4m"),x=a("iTfj"),O=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,C=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,D=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function R(mt){var ot=mt.match(D);if(!ot)return"";var xt="";return ot.sort(function(It,Ht){return It=It.split(":"),Ht=Ht.split(":"),Number(It[0])-Number(Ht[0])}),Object(x.j)(ot,function(It){It=It.split(":"),xt+='<stop offset="'+It[0]+'" stop-color="'+It[1]+'"></stop>'}),xt}function y(mt,ot){var xt=O.exec(mt),It=Object(x.cb)(Object(x.pb)(parseFloat(xt[1])),Math.PI*2),Ht=xt[2],Qt,$t;It>=0&&It<.5*Math.PI?(Qt={x:0,y:0},$t={x:1,y:1}):.5*Math.PI<=It&&It<Math.PI?(Qt={x:1,y:0},$t={x:0,y:1}):Math.PI<=It&&It<1.5*Math.PI?(Qt={x:1,y:1},$t={x:0,y:0}):(Qt={x:0,y:1},$t={x:1,y:0});var yt=Math.tan(It),ut=yt*yt,ft=($t.x-Qt.x+yt*($t.y-Qt.y))/(ut+1)+Qt.x,it=yt*($t.x-Qt.x+yt*($t.y-Qt.y))/(ut+1)+Qt.y;ot.setAttribute("x1",Qt.x),ot.setAttribute("y1",Qt.y),ot.setAttribute("x2",ft),ot.setAttribute("y2",it),ot.innerHTML=R(Ht)}function w(mt,ot){var xt=C.exec(mt),It=parseFloat(xt[1]),Ht=parseFloat(xt[2]),Qt=parseFloat(xt[3]),$t=xt[4];ot.setAttribute("cx",It),ot.setAttribute("cy",Ht),ot.setAttribute("r",Qt),ot.innerHTML=R($t)}var N=function(){function mt(ot){this.cfg={};var xt=null,It=Object(x.sb)("gradient_");return ot.toLowerCase()[0]==="l"?(xt=Object(S.b)("linearGradient"),y(ot,xt)):(xt=Object(S.b)("radialGradient"),w(ot,xt)),xt.setAttribute("id",It),this.el=xt,this.id=It,this.cfg=ot,this}return mt.prototype.match=function(ot,xt){return this.cfg===xt},mt}(),z=N,V={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},B={x:"-40%",y:"-40%",width:"200%",height:"200%"},P=function(){function mt(ot){this.type="filter",this.cfg={},this.type="filter";var xt=Object(S.b)("filter");return Object(x.j)(B,function(It,Ht){xt.setAttribute(Ht,It)}),this.el=xt,this.id=Object(x.sb)("filter_"),this.el.id=this.id,this.cfg=ot,this._parseShadow(ot,xt),this}return mt.prototype.match=function(ot,xt){if(this.type!==ot)return!1;var It=!0,Ht=this.cfg;return Object(x.j)(Object.keys(Ht),function(Qt){if(Ht[Qt]!==xt[Qt])return It=!1,!1}),It},mt.prototype.update=function(ot,xt){var It=this.cfg;return It[V[ot]]=xt,this._parseShadow(It,this.el),this},mt.prototype._parseShadow=function(ot,xt){var It=`<feDropShadow
      dx="`+(ot.dx||0)+`"
      dy="`+(ot.dy||0)+`"
      stdDeviation="`+(ot.blur?ot.blur/10:0)+`"
      flood-color="`+(ot.color?ot.color:"#000")+`"
      flood-opacity="`+(ot.opacity?ot.opacity:1)+`"
      />`;xt.innerHTML=It},mt}(),T=P,W=function(){function mt(ot,xt){this.cfg={};var It=Object(S.b)("marker"),Ht=Object(x.sb)("marker_");It.setAttribute("id",Ht);var Qt=Object(S.b)("path");Qt.setAttribute("stroke",ot.stroke||"none"),Qt.setAttribute("fill",ot.fill||"none"),It.appendChild(Qt),It.setAttribute("overflow","visible"),It.setAttribute("orient","auto-start-reverse"),this.el=It,this.child=Qt,this.id=Ht;var $t=ot[xt==="marker-start"?"startArrow":"endArrow"];return this.stroke=ot.stroke||"#000",$t===!0?this._setDefaultPath(xt,Qt):(this.cfg=$t,this._setMarker(ot.lineWidth,Qt)),this}return mt.prototype.match=function(){return!1},mt.prototype._setDefaultPath=function(ot,xt){var It=this.el;xt.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),It.setAttribute("refX",""+10*Math.cos(Math.PI/6)),It.setAttribute("refY",""+5)},mt.prototype._setMarker=function(ot,xt){var It=this.el,Ht=this.cfg.path,Qt=this.cfg.d;Object(x.B)(Ht)&&(Ht=Ht.map(function($t){return $t.join(" ")}).join("")),xt.setAttribute("d",Ht),It.appendChild(xt),Qt&&It.setAttribute("refX",""+Qt/ot)},mt.prototype.update=function(ot){var xt=this.child;xt.attr?xt.attr("fill",ot):xt.setAttribute("fill",ot)},mt}(),Q=W,nt=function(){function mt(ot){this.type="clip",this.cfg={};var xt=Object(S.b)("clipPath");this.el=xt,this.id=Object(x.sb)("clip_"),xt.id=this.id;var It=ot.cfg.el;return xt.appendChild(It),this.cfg=ot,this}return mt.prototype.match=function(){return!1},mt.prototype.remove=function(){var ot=this.el;ot.parentNode.removeChild(ot)},mt}(),st=nt,et=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,_=function(){function mt(ot){this.cfg={};var xt=Object(S.b)("pattern");xt.setAttribute("patternUnits","userSpaceOnUse");var It=Object(S.b)("image");xt.appendChild(It);var Ht=Object(x.sb)("pattern_");xt.id=Ht,this.el=xt,this.id=Ht,this.cfg=ot;var Qt=et.exec(ot),$t=Qt[2];It.setAttribute("href",$t);var yt=new Image;$t.match(/^data:/i)||(yt.crossOrigin="Anonymous"),yt.src=$t;function ut(){xt.setAttribute("width",""+yt.width),xt.setAttribute("height",""+yt.height)}return yt.complete?ut():(yt.onload=ut,yt.src=yt.src),this}return mt.prototype.match=function(ot,xt){return this.cfg===xt},mt}(),Y=_,$=function(){function mt(ot){var xt=Object(S.b)("defs"),It=Object(x.sb)("defs_");xt.id=It,ot.appendChild(xt),this.children=[],this.defaultArrow={},this.el=xt,this.canvas=ot}return mt.prototype.find=function(ot,xt){for(var It=this.children,Ht=null,Qt=0;Qt<It.length;Qt++)if(It[Qt].match(ot,xt)){Ht=It[Qt].id;break}return Ht},mt.prototype.findById=function(ot){for(var xt=this.children,It=null,Ht=0;Ht<xt.length;Ht++)if(xt[Ht].id===ot){It=xt[Ht];break}return It},mt.prototype.add=function(ot){this.children.push(ot),ot.canvas=this.canvas,ot.parent=this},mt.prototype.getDefaultArrow=function(ot,xt){var It=ot.stroke||ot.strokeStyle;if(this.defaultArrow[It])return this.defaultArrow[It].id;var Ht=new Q(ot,xt);return this.defaultArrow[It]=Ht,this.el.appendChild(Ht.el),this.add(Ht),Ht.id},mt.prototype.addGradient=function(ot){var xt=new z(ot);return this.el.appendChild(xt.el),this.add(xt),xt.id},mt.prototype.addArrow=function(ot,xt){var It=new Q(ot,xt);return this.el.appendChild(It.el),this.add(It),It.id},mt.prototype.addShadow=function(ot){var xt=new T(ot);return this.el.appendChild(xt.el),this.add(xt),xt.id},mt.prototype.addPattern=function(ot){var xt=new Y(ot);return this.el.appendChild(xt.el),this.add(xt),xt.id},mt.prototype.addClip=function(ot){var xt=new st(ot);return this.el.appendChild(xt.el),this.add(xt),xt.id},mt}(),q=$,at=function(mt){Object(f.c)(ot,mt);function ot(xt){return mt.call(this,Object(f.a)(Object(f.a)({},xt),{autoDraw:!0,renderer:"svg"}))||this}return ot.prototype.getShapeBase=function(){return A},ot.prototype.getGroupBase=function(){return M.a},ot.prototype.getShape=function(xt,It,Ht){var Qt=Ht.target||Ht.srcElement;if(!g.a[Qt.tagName]){for(var $t=Qt.parentNode;$t&&!g.a[$t.tagName];)$t=$t.parentNode;Qt=$t}return this.find(function(yt){return yt.get("el")===Qt})},ot.prototype.createDom=function(){var xt=Object(S.b)("svg"),It=new q(xt);return xt.setAttribute("width",""+this.get("width")),xt.setAttribute("height",""+this.get("height")),this.set("context",It),xt},ot.prototype.onCanvasChange=function(xt){var It=this.get("context"),Ht=this.get("el");if(xt==="sort"){var Qt=this.get("children");Qt&&Qt.length&&Object(S.d)(this,function(yt,ut){return Qt.indexOf(yt)-Qt.indexOf(ut)?1:0})}else if(xt==="clear"){if(Ht){Ht.innerHTML="";var $t=It.el;$t.innerHTML="",Ht.appendChild($t)}}else xt==="matrix"?Object(E.c)(this):xt==="clip"?Object(E.a)(this,It):xt==="changeSize"&&(Ht.setAttribute("width",""+this.get("width")),Ht.setAttribute("height",""+this.get("height")))},ot.prototype.draw=function(){var xt=this.get("context"),It=this.getChildren();Object(E.a)(this,xt),It.length&&Object(p.a)(xt,It)},ot}(i.AbstractCanvas),pt=I.a=at},wclG:function(Ft,I,a){var f=a("pFRH"),i=a("88Gu"),g=i(f);Ft.exports=g},weLR:function(Ft,I,a){"use strict";var f=function(){function i(g,p){this.bubbles=!0,this.target=null,this.currentTarget=null,this.delegateTarget=null,this.delegateObject=null,this.defaultPrevented=!1,this.propagationStopped=!1,this.shape=null,this.fromShape=null,this.toShape=null,this.propagationPath=[],this.type=g,this.name=g,this.originalEvent=p,this.timeStamp=p.timeStamp}return i.prototype.preventDefault=function(){this.defaultPrevented=!0,this.originalEvent.preventDefault&&this.originalEvent.preventDefault()},i.prototype.stopPropagation=function(){this.propagationStopped=!0},i.prototype.toString=function(){var g=this.type;return"[Event (type="+g+")]"},i.prototype.save=function(){},i.prototype.restore=function(){},i}();I.a=f},wnjb:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.MetadataReader=void 0;var f=a("xfSm"),i=function(){function g(){}return g.prototype.getConstructorMetadata=function(p){var E=Reflect.getMetadata(f.PARAM_TYPES,p),S=Reflect.getMetadata(f.TAGGED,p);return{compilerGeneratedMetadata:E,userGeneratedMetadata:S||{}}},g.prototype.getPropertiesMetadata=function(p){var E=Reflect.getMetadata(f.TAGGED_PROP,p)||[];return E},g}();I.MetadataReader=i},wq2r:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("aFU3"),g=a("R5nb"),p=a("9eUa"),E=a("iTfj"),S=a("cyZq"),A=function(M){Object(f.c)(x,M);function x(){return M!==null&&M.apply(this,arguments)||this}return x.prototype.onCanvasChange=function(O){Object(p.h)(this,O)},x.prototype.getShapeBase=function(){return g},x.prototype.getGroupBase=function(){return x},x.prototype._applyClip=function(O,C){C&&(O.save(),Object(p.a)(O,C),C.createPath(O),O.restore(),O.clip(),C._afterDraw())},x.prototype.cacheCanvasBBox=function(){var O=this.cfg.children,C=[],D=[];Object(E.j)(O,function(P){var T=P.cfg.cacheCanvasBBox;T&&P.cfg.isInView&&(C.push(T.minX,T.maxX),D.push(T.minY,T.maxY))});var R=null;if(C.length){var y=Object(E.Z)(C),w=Object(E.W)(C),N=Object(E.Z)(D),z=Object(E.W)(D);R={minX:y,minY:N,x:y,y:N,maxX:w,maxY:z,width:w-y,height:z-N};var V=this.cfg.canvas;if(V){var B=V.getViewRange();this.set("isInView",Object(S.f)(R,B))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",R)},x.prototype.draw=function(O,C){var D=this.cfg.children,R=C?this.cfg.refresh:!0;D.length&&R&&(O.save(),Object(p.a)(O,this),this._applyClip(O,this.getClip()),Object(p.d)(O,D,C),O.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},x.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},x}(i.AbstractGroup);I.a=A},wrZu:function(Ft,I,a){var f=a("+K+b"),i=a("XYm9"),g=a("b2z7"),p=a("otv/"),E=a("yP5f"),S="[object Boolean]",A="[object Date]",M="[object Map]",x="[object Number]",O="[object RegExp]",C="[object Set]",D="[object String]",R="[object Symbol]",y="[object ArrayBuffer]",w="[object DataView]",N="[object Float32Array]",z="[object Float64Array]",V="[object Int8Array]",B="[object Int16Array]",P="[object Int32Array]",T="[object Uint8Array]",W="[object Uint8ClampedArray]",Q="[object Uint16Array]",nt="[object Uint32Array]";function st(et,_,Y){var $=et.constructor;switch(_){case y:return f(et);case S:case A:return new $(+et);case w:return i(et,Y);case N:case z:case V:case B:case P:case T:case W:case Q:case nt:return E(et,Y);case M:return new $;case x:case D:return new $(et);case O:return g(et);case C:return new $;case R:return p(et)}}Ft.exports=st},x3EW:function(Ft,I,a){"use strict";a.r(I),a.d(I,"Base",function(){return S}),a.d(I,"Circle",function(){return x}),a.d(I,"Line",function(){return C});var f=a("mrSG"),i=a("iTfj"),g=a("MeYt"),p=a("L16w"),E=function(D){Object(f.c)(R,D);function R(){return D!==null&&D.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var y=D.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},y),{name:"grid",line:{},alternateColor:null,capture:!1,items:[],closed:!1,defaultCfg:{line:{type:"line",style:{lineWidth:1,stroke:p.a.lineColor}}}})},R.prototype.getLineType=function(){var y=this.get("line")||this.get("defaultCfg").line;return y.type},R.prototype.renderInner=function(y){this.drawGrid(y)},R.prototype.getAlternatePath=function(y,w){var N=this.getGridPath(y),z=w.slice(0).reverse(),V=this.getGridPath(z,!0),B=this.get("closed");return B?N=N.concat(V):(V[0][0]="L",N=N.concat(V),N.push(["Z"])),N},R.prototype.getPathStyle=function(){return this.get("line").style},R.prototype.drawGrid=function(y){var w=this,N=this.get("line"),z=this.get("items"),V=this.get("alternateColor"),B=null;Object(i.j)(z,function(P,T){var W=P.id||T;if(N){var Q=w.getPathStyle();Q=Object(i.H)(Q)?Q(P,T,z):Q;var nt=w.getElementId("line-"+W),st=w.getGridPath(P.points);w.addShape(y,{type:"path",name:"grid-line",id:nt,attrs:Object(i.bb)({path:st},Q)})}if(V&&T>0){var et=w.getElementId("region-"+W),_=T%2==0;if(Object(i.O)(V))_&&w.drawAlternateRegion(et,y,B.points,P.points,V);else{var Y=_?V[1]:V[0];w.drawAlternateRegion(et,y,B.points,P.points,Y)}}B=P})},R.prototype.drawAlternateRegion=function(y,w,N,z,V){var B=this.getAlternatePath(N,z);this.addShape(w,{type:"path",id:y,name:"grid-region",attrs:{path:B,fill:V}})},R}(g.a),S=E;function A(D,R,y,w){var N=y-D,z=w-R;return Math.sqrt(N*N+z*z)}var M=function(D){Object(f.c)(R,D);function R(){return D!==null&&D.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var y=D.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},y),{type:"circle",center:null,closed:!0})},R.prototype.getGridPath=function(y,w){var N=this.getLineType(),z=this.get("closed"),V=[];if(y.length)if(N==="circle"){var B=this.get("center"),P=y[0],T=A(B.x,B.y,P.x,P.y),W=w?0:1;z?(V.push(["M",B.x,B.y-T]),V.push(["A",T,T,0,0,W,B.x,B.y+T]),V.push(["A",T,T,0,0,W,B.x,B.y-T]),V.push(["Z"])):Object(i.j)(y,function(Q,nt){nt===0?V.push(["M",Q.x,Q.y]):V.push(["A",T,T,0,0,W,Q.x,Q.y])})}else Object(i.j)(y,function(Q,nt){nt===0?V.push(["M",Q.x,Q.y]):V.push(["L",Q.x,Q.y])}),z&&V.push(["Z"]);return V},R}(S),x=M,O=function(D){Object(f.c)(R,D);function R(){return D!==null&&D.apply(this,arguments)||this}return R.prototype.getDefaultCfg=function(){var y=D.prototype.getDefaultCfg.call(this);return Object(f.a)(Object(f.a)({},y),{type:"line"})},R.prototype.getGridPath=function(y){var w=[];return Object(i.j)(y,function(N,z){z===0?w.push(["M",N.x,N.y]):w.push(["L",N.x,N.y])}),w},R}(S),C=O},xDUe:function(Ft,I){Ft.exports=a;function a(f,i,g,p){var E=i[0],S=i[1];return f[0]=E+p*(g[0]-E),f[1]=S+p*(g[1]-S),f}},xaJk:function(Ft,I,a){var f=a("asDA"),i=a("SKAX"),g=a("ut/Y"),p=a("WPeF"),E=a("Z0cm");function S(A,M,x){var O=E(A)?f:p,C=arguments.length<3;return O(A,g(M,4),x,C,i)}Ft.exports=S},xcS9:function(Ft,I,a){"use strict";a.d(I,"a",function(){return i});var f=null;function i(){if(!f){var g=document.createElement("canvas");g.width=1,g.height=1,f=g.getContext("2d")}return f}},xfSm:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.NON_CUSTOM_TAG_KEYS=I.POST_CONSTRUCT=I.DESIGN_PARAM_TYPES=I.PARAM_TYPES=I.TAGGED_PROP=I.TAGGED=I.MULTI_INJECT_TAG=I.INJECT_TAG=I.OPTIONAL_TAG=I.UNMANAGED_TAG=I.NAME_TAG=I.NAMED_TAG=void 0,I.NAMED_TAG="named",I.NAME_TAG="name",I.UNMANAGED_TAG="unmanaged",I.OPTIONAL_TAG="optional",I.INJECT_TAG="inject",I.MULTI_INJECT_TAG="multi_inject",I.TAGGED="inversify:tagged",I.TAGGED_PROP="inversify:tagged_props",I.PARAM_TYPES="inversify:paramtypes",I.DESIGN_PARAM_TYPES="design:paramtypes",I.POST_CONSTRUCT="post_construct";function f(){return[I.INJECT_TAG,I.MULTI_INJECT_TAG,I.NAME_TAG,I.UNMANAGED_TAG,I.NAMED_TAG,I.OPTIONAL_TAG]}I.NON_CUSTOM_TAG_KEYS=f()},xiII:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Request=void 0;var f=a("d9O0"),i=function(){function g(p,E,S,A,M){this.id=f.id(),this.serviceIdentifier=p,this.parentContext=E,this.parentRequest=S,this.target=M,this.childRequests=[],this.bindings=Array.isArray(A)?A:[A],this.requestScope=S===null?new Map:null}return g.prototype.addChildRequest=function(p,E,S){var A=new g(p,this.parentContext,this,E,S);return this.childRequests.push(A),A},g}();I.Request=i},xkGU:function(Ft,I,a){Ft.exports=a("bNQv")},"xs/l":function(Ft,I,a){var f=a("TYy9"),i=a("Ioao"),g=a("wclG");function p(E){return g(i(E,void 0,f),E+"")}Ft.exports=p},xweI:function(Ft,I,a){var f=a("XGnz"),i=a("alwl"),g=a("EA7m"),p=a("mv/X"),E=g(function(S,A){if(S==null)return[];var M=A.length;return M>1&&p(S,A[0],A[1])?A=[]:M>2&&p(A[0],A[1],A[2])&&(A=[A[0]]),i(S,f(A,1),[])});Ft.exports=E},y753:function(Ft,I,a){"use strict";a.d(I,"a",function(){return N});var f=a("mrSG"),i=a("zJSt"),g=a("YuPD"),p=a("w02o"),E=a("tKoa");function S(z){var V=z.chart,B=z.options,P=B.data,T=B.lineStyle,W=B.color,Q=B.point,nt=B.area,st=Q==null?void 0:Q.state;V.data(P);var et=Object(g.b)({},z,{options:{line:{style:T,color:W},point:Q&&Object(f.a)({color:W},Q),area:nt&&Object(f.a)({color:W},nt),label:void 0}}),_=Object(g.b)({},et,{options:{tooltip:!1}}),Y=Object(g.b)({},et,{options:{tooltip:!1,state:st}});return Object(E.d)(et),Object(E.e)(Y),Object(E.a)(_),z}function A(z){var V,B=z.options,P=B.xAxis,T=B.yAxis,W=B.xField,Q=B.yField;return Object(g.e)(Object(p.f)((V={},V[W]=P,V[Q]=T,V)))(z)}function M(z){var V=z.chart,B=z.options,P=B.radius,T=B.startAngle,W=B.endAngle;return V.coordinate("polar",{radius:P,startAngle:T,endAngle:W}),z}function x(z){var V=z.chart,B=z.options,P=B.xField,T=B.xAxis,W=B.yField,Q=B.yAxis;return V.axis(P,T),V.axis(W,Q),z}function O(z){var V=z.chart,B=z.options,P=B.label,T=B.yField,W=Object(g.c)(V,"line");if(!P)W.label(!1);else{var Q=P.callback,nt=Object(f.e)(P,["callback"]);W.label({fields:[T],callback:Q,cfg:Object(g.u)(nt)})}return z}function C(z){return Object(g.e)(S,A,p.j,M,x,p.d,p.k,O,p.c,p.a,Object(p.b)())(z)}var D=a("kXyF"),R=a("iTfj"),y=function(z){Object(f.c)(V,z);function V(){return z!==null&&z.apply(this,arguments)||this}return Object.defineProperty(V.prototype,"name",{get:function(){return"radar-tooltip"},enumerable:!1,configurable:!0}),V.prototype.getTooltipItems=function(B){var P=this.getTooltipCfg(),T=P.shared,W=P.title,Q=z.prototype.getTooltipItems.call(this,B);if(Q.length>0){var nt=this.view.geometries[0],st=nt.dataArray,et=Q[0].name,_=[];return st.forEach(function(Y){Y.forEach(function($){var q=D.Util.getTooltipItems($,nt),at=q[0];if(!T&&at&&at.name===et){var pt=Object(R.I)(W)?et:W;_.push(Object(f.a)(Object(f.a)({},at),{name:at.title,title:pt}))}else if(T&&at){var pt=Object(R.I)(W)?at.name||et:W;_.push(Object(f.a)(Object(f.a)({},at),{name:at.title,title:pt}))}})}),_}return[]},V}(D.TooltipController);Object(D.registerComponentController)("radar-tooltip",y);var w=function(z){Object(f.c)(V,z);function V(){return z!==null&&z.apply(this,arguments)||this}return V.prototype.init=function(){var B=this.context.view;B.removeInteraction("tooltip")},V.prototype.show=function(){var B=this.context.event,P=this.getTooltipController();P.showTooltip({x:B.x,y:B.y})},V.prototype.hide=function(){var B=this.getTooltipController();B.hideTooltip()},V.prototype.getTooltipController=function(){var B=this.context.view;return B.getController("radar-tooltip")},V}(D.Action);Object(D.registerAction)("radar-tooltip",w),Object(D.registerInteraction)("radar-tooltip",{start:[{trigger:"plot:mousemove",action:"radar-tooltip:show"}],end:[{trigger:"plot:mouseleave",action:"radar-tooltip:hide"}]});var N=function(z){Object(f.c)(V,z);function V(){var B=z!==null&&z.apply(this,arguments)||this;return B.type="radar",B}return V.prototype.changeData=function(B){this.updateOption({data:B}),this.chart.changeData(B)},V.prototype.getDefaultOptions=function(){return Object(g.b)({},z.prototype.getDefaultOptions.call(this),{xAxis:{label:{offset:15},grid:{line:{type:"line"}}},yAxis:{grid:{line:{type:"circle"}}},legend:{position:"top"},tooltip:{shared:!0,showCrosshairs:!0,showMarkers:!0,crosshairs:{type:"xy",line:{style:{stroke:"#565656",lineDash:[4]}},follow:!0}}})},V.prototype.getSchemaAdaptor=function(){return C},V}(i.b)},yEj1:function(Ft,I){Ft.exports=a;function a(f){var i=f[0],g=f[1];return Math.sqrt(i*i+g*g)}},yG8O:function(Ft,I){function a(f,i,g,p){!g||Object.defineProperty(f,i,{enumerable:g.enumerable,configurable:g.configurable,writable:g.writable,value:g.initializer?g.initializer.call(p):void 0})}Ft.exports=a,Ft.exports.default=Ft.exports,Ft.exports.__esModule=!0},yHx3:function(Ft,I){var a=Object.prototype,f=a.hasOwnProperty;function i(g){var p=g.length,E=new g.constructor(p);return p&&typeof g[0]=="string"&&f.call(g,"index")&&(E.index=g.index,E.input=g.input),E}Ft.exports=i},yKVA:function(Ft,I,a){"use strict";a.r(I),a.d(I,"default",function(){return i});var f=a("iZzK");function i(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(p&&p.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),p&&Object(f.a)(g,p)}},yMAV:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Plan=void 0;var f=function(){function i(g,p){this.parentContext=g,this.rootRequest=p}return i}();I.Plan=f},yP5f:function(Ft,I,a){var f=a("+K+b");function i(g,p){var E=p?f(g.buffer):g.buffer;return new g.constructor(E,g.byteOffset,g.length)}Ft.exports=i},yU0y:function(Ft,I,a){"use strict";a.d(I,"b",function(){return f}),a.d(I,"a",function(){return i}),a.d(I,"c",function(){return g});var f=1e-6,i=typeof Float32Array!="undefined"?Float32Array:Array,g=Math.random;function p(M){i=M}var E=Math.PI/180;function S(M){return M*E}function A(M,x){return Math.abs(M-x)<=f*Math.max(1,Math.abs(M),Math.abs(x))}Math.hypot||(Math.hypot=function(){for(var M=0,x=arguments.length;x--;)M+=arguments[x]*arguments[x];return Math.sqrt(M)})},yUfG:function(Ft,I,a){"use strict";a.r(I),a.d(I,"cluster",function(){return M}),a.d(I,"hierarchy",function(){return x.c}),a.d(I,"pack",function(){return q}),a.d(I,"packSiblings",function(){return et}),a.d(I,"packEnclose",function(){return D}),a.d(I,"partition",function(){return ot.a}),a.d(I,"stratify",function(){return $t}),a.d(I,"tree",function(){return X}),a.d(I,"treemap",function(){return dt.a}),a.d(I,"treemapBinary",function(){return H}),a.d(I,"treemapDice",function(){return lt.a}),a.d(I,"treemapSlice",function(){return Ot.a}),a.d(I,"treemapSliceDice",function(){return Rt}),a.d(I,"treemapSquarify",function(){return zt.a}),a.d(I,"treemapResquarify",function(){return Bt});function f(tt,J){return tt.parent===J.parent?1:2}function i(tt){return tt.reduce(g,0)/tt.length}function g(tt,J){return tt+J.x}function p(tt){return 1+tt.reduce(E,0)}function E(tt,J){return Math.max(tt,J.y)}function S(tt){for(var J;J=tt.children;)tt=J[0];return tt}function A(tt){for(var J;J=tt.children;)tt=J[J.length-1];return tt}var M=function(){var tt=f,J=1,G=1,Et=!1;function Tt(ct){var St,Vt=0;ct.eachAfter(function(ue){var Ee=ue.children;Ee?(ue.x=i(Ee),ue.y=p(Ee)):(ue.x=St?Vt+=tt(ue,St):0,ue.y=0,St=ue)});var Lt=S(ct),Nt=A(ct),Zt=Lt.x-tt(Lt,Nt)/2,oe=Nt.x+tt(Nt,Lt)/2;return ct.eachAfter(Et?function(ue){ue.x=(ue.x-ct.x)*J,ue.y=(ct.y-ue.y)*G}:function(ue){ue.x=(ue.x-Zt)/(oe-Zt)*J,ue.y=(1-(ct.y?ue.y/ct.y:1))*G})}return Tt.separation=function(ct){return arguments.length?(tt=ct,Tt):tt},Tt.size=function(ct){return arguments.length?(Et=!1,J=+ct[0],G=+ct[1],Tt):Et?null:[J,G]},Tt.nodeSize=function(ct){return arguments.length?(Et=!0,J=+ct[0],G=+ct[1],Tt):Et?[J,G]:null},Tt},x=a("a8tM"),O=function(tt){return typeof tt=="object"&&"length"in tt?tt:Array.from(tt)};function C(tt){for(var J=tt.length,G,Et;J;)Et=Math.random()*J--|0,G=tt[J],tt[J]=tt[Et],tt[Et]=G;return tt}var D=function(tt){for(var J=0,G=(tt=C(Array.from(tt))).length,Et=[],Tt,ct;J<G;)Tt=tt[J],ct&&w(ct,Tt)?++J:(ct=z(Et=R(Et,Tt)),J=0);return ct};function R(tt,J){var G,Et;if(N(J,tt))return[J];for(G=0;G<tt.length;++G)if(y(J,tt[G])&&N(B(tt[G],J),tt))return[tt[G],J];for(G=0;G<tt.length-1;++G)for(Et=G+1;Et<tt.length;++Et)if(y(B(tt[G],tt[Et]),J)&&y(B(tt[G],J),tt[Et])&&y(B(tt[Et],J),tt[G])&&N(P(tt[G],tt[Et],J),tt))return[tt[G],tt[Et],J];throw new Error}function y(tt,J){var G=tt.r-J.r,Et=J.x-tt.x,Tt=J.y-tt.y;return G<0||G*G<Et*Et+Tt*Tt}function w(tt,J){var G=tt.r-J.r+Math.max(tt.r,J.r,1)*1e-9,Et=J.x-tt.x,Tt=J.y-tt.y;return G>0&&G*G>Et*Et+Tt*Tt}function N(tt,J){for(var G=0;G<J.length;++G)if(!w(tt,J[G]))return!1;return!0}function z(tt){switch(tt.length){case 1:return V(tt[0]);case 2:return B(tt[0],tt[1]);case 3:return P(tt[0],tt[1],tt[2])}}function V(tt){return{x:tt.x,y:tt.y,r:tt.r}}function B(tt,J){var G=tt.x,Et=tt.y,Tt=tt.r,ct=J.x,St=J.y,Vt=J.r,Lt=ct-G,Nt=St-Et,Zt=Vt-Tt,oe=Math.sqrt(Lt*Lt+Nt*Nt);return{x:(G+ct+Lt/oe*Zt)/2,y:(Et+St+Nt/oe*Zt)/2,r:(oe+Tt+Vt)/2}}function P(tt,J,G){var Et=tt.x,Tt=tt.y,ct=tt.r,St=J.x,Vt=J.y,Lt=J.r,Nt=G.x,Zt=G.y,oe=G.r,ue=Et-St,Ee=Et-Nt,Te=Tt-Vt,Se=Tt-Zt,$e=Lt-ct,cr=oe-ct,He=Et*Et+Tt*Tt-ct*ct,_e=He-St*St-Vt*Vt+Lt*Lt,ur=He-Nt*Nt-Zt*Zt+oe*oe,jr=Ee*Te-ue*Se,Ar=(Te*ur-Se*_e)/(jr*2)-Et,Ge=(Se*$e-Te*cr)/jr,br=(Ee*_e-ue*ur)/(jr*2)-Tt,er=(ue*cr-Ee*$e)/jr,nr=Ge*Ge+er*er-1,yr=2*(ct+Ar*Ge+br*er),Rr=Ar*Ar+br*br-ct*ct,an=-(nr?(yr+Math.sqrt(yr*yr-4*nr*Rr))/(2*nr):Rr/yr);return{x:Et+Ar+Ge*an,y:Tt+br+er*an,r:an}}function T(tt,J,G){var Et=tt.x-J.x,Tt,ct,St=tt.y-J.y,Vt,Lt,Nt=Et*Et+St*St;Nt?(ct=J.r+G.r,ct*=ct,Lt=tt.r+G.r,Lt*=Lt,ct>Lt?(Tt=(Nt+Lt-ct)/(2*Nt),Vt=Math.sqrt(Math.max(0,Lt/Nt-Tt*Tt)),G.x=tt.x-Tt*Et-Vt*St,G.y=tt.y-Tt*St+Vt*Et):(Tt=(Nt+ct-Lt)/(2*Nt),Vt=Math.sqrt(Math.max(0,ct/Nt-Tt*Tt)),G.x=J.x+Tt*Et-Vt*St,G.y=J.y+Tt*St+Vt*Et)):(G.x=J.x+G.r,G.y=J.y)}function W(tt,J){var G=tt.r+J.r-1e-6,Et=J.x-tt.x,Tt=J.y-tt.y;return G>0&&G*G>Et*Et+Tt*Tt}function Q(tt){var J=tt._,G=tt.next._,Et=J.r+G.r,Tt=(J.x*G.r+G.x*J.r)/Et,ct=(J.y*G.r+G.y*J.r)/Et;return Tt*Tt+ct*ct}function nt(tt){this._=tt,this.next=null,this.previous=null}function st(tt){if(!(Tt=(tt=O(tt)).length))return 0;var J,G,Et,Tt,ct,St,Vt,Lt,Nt,Zt,oe;if(J=tt[0],J.x=0,J.y=0,!(Tt>1))return J.r;if(G=tt[1],J.x=-G.r,G.x=J.r,G.y=0,!(Tt>2))return J.r+G.r;T(G,J,Et=tt[2]),J=new nt(J),G=new nt(G),Et=new nt(Et),J.next=Et.previous=G,G.next=J.previous=Et,Et.next=G.previous=J;t:for(Vt=3;Vt<Tt;++Vt){T(J._,G._,Et=tt[Vt]),Et=new nt(Et),Lt=G.next,Nt=J.previous,Zt=G._.r,oe=J._.r;do if(Zt<=oe){if(W(Lt._,Et._)){G=Lt,J.next=G,G.previous=J,--Vt;continue t}Zt+=Lt._.r,Lt=Lt.next}else{if(W(Nt._,Et._)){J=Nt,J.next=G,G.previous=J,--Vt;continue t}oe+=Nt._.r,Nt=Nt.previous}while(Lt!==Nt.next);for(Et.previous=J,Et.next=G,J.next=G.previous=G=Et,ct=Q(J);(Et=Et.next)!==G;)(St=Q(Et))<ct&&(J=Et,ct=St);G=J.next}for(J=[G._],Et=G;(Et=Et.next)!==G;)J.push(Et._);for(Et=D(J),Vt=0;Vt<Tt;++Vt)J=tt[Vt],J.x-=Et.x,J.y-=Et.y;return Et.r}var et=function(tt){return st(tt),tt},_=a("IeU1"),Y=a("CSvP");function $(tt){return Math.sqrt(tt.value)}var q=function(){var tt=null,J=1,G=1,Et=Y.a;function Tt(ct){return ct.x=J/2,ct.y=G/2,tt?ct.eachBefore(at(tt)).eachAfter(pt(Et,.5)).eachBefore(mt(1)):ct.eachBefore(at($)).eachAfter(pt(Y.a,1)).eachAfter(pt(Et,ct.r/Math.min(J,G))).eachBefore(mt(Math.min(J,G)/(2*ct.r))),ct}return Tt.radius=function(ct){return arguments.length?(tt=Object(_.a)(ct),Tt):tt},Tt.size=function(ct){return arguments.length?(J=+ct[0],G=+ct[1],Tt):[J,G]},Tt.padding=function(ct){return arguments.length?(Et=typeof ct=="function"?ct:Object(Y.b)(+ct),Tt):Et},Tt};function at(tt){return function(J){J.children||(J.r=Math.max(0,+tt(J)||0))}}function pt(tt,J){return function(G){if(Et=G.children){var Et,Tt,ct=Et.length,St=tt(G)*J||0,Vt;if(St)for(Tt=0;Tt<ct;++Tt)Et[Tt].r+=St;if(Vt=st(Et),St)for(Tt=0;Tt<ct;++Tt)Et[Tt].r-=St;G.r=Vt+St}}}function mt(tt){return function(J){var G=J.parent;J.r*=tt,G&&(J.x=G.x+tt*J.x,J.y=G.y+tt*J.y)}}var ot=a("+Nd1"),xt={depth:-1},It={};function Ht(tt){return tt.id}function Qt(tt){return tt.parentId}var $t=function(){var tt=Ht,J=Qt;function G(Et){var Tt=Array.from(Et),ct=Tt.length,St,Vt,Lt,Nt,Zt,oe,ue,Ee=new Map;for(Vt=0;Vt<ct;++Vt)St=Tt[Vt],Zt=Tt[Vt]=new x.a(St),(oe=tt(St,Vt,Et))!=null&&(oe+="")&&(ue=Zt.id=oe,Ee.set(ue,Ee.has(ue)?It:Zt)),(oe=J(St,Vt,Et))!=null&&(oe+="")&&(Zt.parent=oe);for(Vt=0;Vt<ct;++Vt)if(Zt=Tt[Vt],oe=Zt.parent){if(Nt=Ee.get(oe),!Nt)throw new Error("missing: "+oe);if(Nt===It)throw new Error("ambiguous: "+oe);Nt.children?Nt.children.push(Zt):Nt.children=[Zt],Zt.parent=Nt}else{if(Lt)throw new Error("multiple roots");Lt=Zt}if(!Lt)throw new Error("no root");if(Lt.parent=xt,Lt.eachBefore(function(Te){Te.depth=Te.parent.depth+1,--ct}).eachBefore(x.b),Lt.parent=null,ct>0)throw new Error("cycle");return Lt}return G.id=function(Et){return arguments.length?(tt=Object(_.b)(Et),G):tt},G.parentId=function(Et){return arguments.length?(J=Object(_.b)(Et),G):J},G};function yt(tt,J){return tt.parent===J.parent?1:2}function ut(tt){var J=tt.children;return J?J[0]:tt.t}function ft(tt){var J=tt.children;return J?J[J.length-1]:tt.t}function it(tt,J,G){var Et=G/(J.i-tt.i);J.c-=Et,J.s+=G,tt.c+=Et,J.z+=G,J.m+=G}function vt(tt){for(var J=0,G=0,Et=tt.children,Tt=Et.length,ct;--Tt>=0;)ct=Et[Tt],ct.z+=J,ct.m+=J,J+=ct.s+(G+=ct.c)}function Wt(tt,J,G){return tt.a.parent===J.parent?tt.a:G}function Ct(tt,J){this._=tt,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=J}Ct.prototype=Object.create(x.a.prototype);function Z(tt){for(var J=new Ct(tt,0),G,Et=[J],Tt,ct,St,Vt;G=Et.pop();)if(ct=G._.children)for(G.children=new Array(Vt=ct.length),St=Vt-1;St>=0;--St)Et.push(Tt=G.children[St]=new Ct(ct[St],St)),Tt.parent=G;return(J.parent=new Ct(null,0)).children=[J],J}var X=function(){var tt=yt,J=1,G=1,Et=null;function Tt(Nt){var Zt=Z(Nt);if(Zt.eachAfter(ct),Zt.parent.m=-Zt.z,Zt.eachBefore(St),Et)Nt.eachBefore(Lt);else{var oe=Nt,ue=Nt,Ee=Nt;Nt.eachBefore(function(He){He.x<oe.x&&(oe=He),He.x>ue.x&&(ue=He),He.depth>Ee.depth&&(Ee=He)});var Te=oe===ue?1:tt(oe,ue)/2,Se=Te-oe.x,$e=J/(ue.x+Te+Se),cr=G/(Ee.depth||1);Nt.eachBefore(function(He){He.x=(He.x+Se)*$e,He.y=He.depth*cr})}return Nt}function ct(Nt){var Zt=Nt.children,oe=Nt.parent.children,ue=Nt.i?oe[Nt.i-1]:null;if(Zt){vt(Nt);var Ee=(Zt[0].z+Zt[Zt.length-1].z)/2;ue?(Nt.z=ue.z+tt(Nt._,ue._),Nt.m=Nt.z-Ee):Nt.z=Ee}else ue&&(Nt.z=ue.z+tt(Nt._,ue._));Nt.parent.A=Vt(Nt,ue,Nt.parent.A||oe[0])}function St(Nt){Nt._.x=Nt.z+Nt.parent.m,Nt.m+=Nt.parent.m}function Vt(Nt,Zt,oe){if(Zt){for(var ue=Nt,Ee=Nt,Te=Zt,Se=ue.parent.children[0],$e=ue.m,cr=Ee.m,He=Te.m,_e=Se.m,ur;Te=ft(Te),ue=ut(ue),Te&&ue;)Se=ut(Se),Ee=ft(Ee),Ee.a=Nt,ur=Te.z+He-ue.z-$e+tt(Te._,ue._),ur>0&&(it(Wt(Te,Nt,oe),Nt,ur),$e+=ur,cr+=ur),He+=Te.m,$e+=ue.m,_e+=Se.m,cr+=Ee.m;Te&&!ft(Ee)&&(Ee.t=Te,Ee.m+=He-cr),ue&&!ut(Se)&&(Se.t=ue,Se.m+=$e-_e,oe=Nt)}return oe}function Lt(Nt){Nt.x*=J,Nt.y=Nt.depth*G}return Tt.separation=function(Nt){return arguments.length?(tt=Nt,Tt):tt},Tt.size=function(Nt){return arguments.length?(Et=!1,J=+Nt[0],G=+Nt[1],Tt):Et?null:[J,G]},Tt.nodeSize=function(Nt){return arguments.length?(Et=!0,J=+Nt[0],G=+Nt[1],Tt):Et?[J,G]:null},Tt},dt=a("tvR+"),H=function(tt,J,G,Et,Tt){var ct=tt.children,St,Vt=ct.length,Lt,Nt=new Array(Vt+1);for(Nt[0]=Lt=St=0;St<Vt;++St)Nt[St+1]=Lt+=ct[St].value;Zt(0,Vt,tt.value,J,G,Et,Tt);function Zt(oe,ue,Ee,Te,Se,$e,cr){if(oe>=ue-1){var He=ct[oe];He.x0=Te,He.y0=Se,He.x1=$e,He.y1=cr;return}for(var _e=Nt[oe],ur=Ee/2+_e,jr=oe+1,Ar=ue-1;jr<Ar;){var Ge=jr+Ar>>>1;Nt[Ge]<ur?jr=Ge+1:Ar=Ge}ur-Nt[jr-1]<Nt[jr]-ur&&oe+1<jr&&--jr;var br=Nt[jr]-_e,er=Ee-br;if($e-Te>cr-Se){var nr=Ee?(Te*er+$e*br)/Ee:$e;Zt(oe,jr,br,Te,Se,nr,cr),Zt(jr,ue,er,nr,Se,$e,cr)}else{var yr=Ee?(Se*er+cr*br)/Ee:cr;Zt(oe,jr,br,Te,Se,$e,yr),Zt(jr,ue,er,Te,yr,$e,cr)}}},lt=a("FPPI"),Ot=a("7IPS"),Rt=function(tt,J,G,Et,Tt){(tt.depth&1?Ot.a:lt.a)(tt,J,G,Et,Tt)},zt=a("I4jL"),Bt=function tt(J){function G(Et,Tt,ct,St,Vt){if((Lt=Et._squarify)&&Lt.ratio===J)for(var Lt,Nt,Zt,oe,ue=-1,Ee,Te=Lt.length,Se=Et.value;++ue<Te;){for(Nt=Lt[ue],Zt=Nt.children,oe=Nt.value=0,Ee=Zt.length;oe<Ee;++oe)Nt.value+=Zt[oe].value;Nt.dice?Object(lt.a)(Nt,Tt,ct,St,Se?ct+=(Vt-ct)*Nt.value/Se:Vt):Object(Ot.a)(Nt,Tt,ct,Se?Tt+=(St-Tt)*Nt.value/Se:St,Vt),Se-=Nt.value}else Et._squarify=Lt=Object(zt.c)(J,Et,Tt,ct,St,Vt),Lt.ratio=J}return G.ratio=function(Et){return tt((Et=+Et)>1?Et:1)},G}(zt.b)},yXPU:function(Ft,I){function a(i,g,p,E,S,A,M){try{var x=i[A](M),O=x.value}catch(C){p(C);return}x.done?g(O):Promise.resolve(O).then(E,S)}function f(i){return function(){var g=this,p=arguments;return new Promise(function(E,S){var A=i.apply(g,p);function M(O){a(A,E,S,M,x,"next",O)}function x(O){a(A,E,S,M,x,"throw",O)}M(void 0)})}}Ft.exports=f,Ft.exports.default=Ft.exports,Ft.exports.__esModule=!0},yZ5d:function(Ft,I,a){"use strict";a.d(I,"a",function(){return Q});var f=a("lSNA"),i=a.n(f),g=a("lwsE"),p=a.n(g),E=a("W8MJ"),S=a.n(E),A=a("4cb6");function M(nt){var st=0;switch(nt){case"vec2":case"ivec2":st=2;break;case"vec3":case"ivec3":st=3;break;case"vec4":case"ivec4":case"mat2":st=4;break;case"mat3":st=9;break;case"mat4":st=16;break;default:}return st}var x=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function O(nt){var st={};return nt=nt.replace(x,function(et,_,Y){var $=Y.split(":"),q=$[0].trim(),at="";switch($.length>1&&(at=$[1].trim()),_){case"bool":at=at==="true";break;case"float":case"int":at=Number(at);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":at?at=at.replace("[","").replace("]","").split(",").reduce(function(pt,mt){return pt.push(Number(mt.trim())),pt},[]):at=new Array(M(_)).fill(0);break;default:}return st[q]=at,"uniform ".concat(_," ").concat(q,`;
`)}),{content:nt,uniforms:st}}function C(nt){return nt.filter(function(st,et,_){return _.indexOf(st)===et})}var D,R,y;function w(nt,st){var et=Object.keys(nt);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(nt);st&&(_=_.filter(function(Y){return Object.getOwnPropertyDescriptor(nt,Y).enumerable})),et.push.apply(et,_)}return et}function N(nt){for(var st=1;st<arguments.length;st++){var et=arguments[st]!=null?arguments[st]:{};st%2?w(Object(et),!0).forEach(function(_){i()(nt,_,et[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(nt,Object.getOwnPropertyDescriptors(et)):w(Object(et)).forEach(function(_){Object.defineProperty(nt,_,Object.getOwnPropertyDescriptor(et,_))})}return nt}var z=`varying vec4 v_PickingResult;
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color) {
  bool selected = bool(v_PickingResult.a);

  if (selected) {
    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;

    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));

    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(resultRGB, color.a);
  } else {
    return color;
  }
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  return filterPickingColor(filterHighlightColor(color));
}
`,V=`attribute vec3 a_PickingColor;
varying vec4 v_PickingResult;

uniform vec3 u_PickingColor : [0, 0, 0];
uniform vec4 u_HighlightColor : [0, 0, 0, 0];
uniform float u_PickingStage : 0.0;
uniform float u_PickingThreshold : 1.0;
uniform float u_PickingBuffer: 0.0;

#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

bool isVertexPicked(vec3 vertexColor) {
  return
    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&
    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&
    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;
}

void setPickingColor(vec3 pickingColor) {
  // compares only in highlight stage
  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));

  // Stores the picking color so that the fragment shader can render it during picking
  v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}`,B=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}`,P=/precision\s+(high|low|medium)p\s+float/,T=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,W=/#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,Q=(D=Object(A.injectable)(),D(R=(y=function(){function nt(){p()(this,nt),this.moduleCache={},this.rawContentCache={}}return S()(nt,[{key:"registerBuiltinModules",value:function(){this.destroy(),this.registerModule("picking",{vs:V,fs:z}),this.registerModule("sdf2d",{vs:"",fs:B})}},{key:"registerModule",value:function(et,_){if(!this.rawContentCache[et]){var Y=_.vs,$=Y===void 0?"":Y,q=_.fs,at=q===void 0?"":q,pt=_.uniforms,mt=O($),ot=mt.content,xt=mt.uniforms,It=O(at),Ht=It.content,Qt=It.uniforms;this.rawContentCache[et]={fs:Ht,uniforms:N(N(N({},xt),Qt),pt),vs:ot}}}},{key:"destroy",value:function(){this.moduleCache={},this.rawContentCache={}}},{key:"getModule",value:function(et){var _=this;if(this.moduleCache[et])return this.moduleCache[et];var Y=this.rawContentCache[et].vs||"",$=this.rawContentCache[et].fs||"",q=this.processModule(Y,[],"vs"),at=q.content,pt=q.includeList,mt=this.processModule($,[],"fs"),ot=mt.content,xt=mt.includeList,It=ot,Ht=C(pt.concat(xt).concat(et)).reduce(function(Qt,$t){return N(N({},Qt),_.rawContentCache[$t].uniforms)},{});return P.test(ot)||(It=T+ot),this.moduleCache[et]={fs:It.trim(),uniforms:Ht,vs:at.trim()},this.moduleCache[et]}},{key:"processModule",value:function(et,_,Y){var $=this,q=et.replace(W,function(at,pt){var mt=pt.split(" "),ot=mt[0].replace(/"/g,"");if(_.indexOf(ot)>-1)return"";var xt=$.rawContentCache[ot][Y];_.push(ot);var It=$.processModule(xt||"",_,Y),Ht=It.content;return Ht});return{content:q,includeList:_}}}]),nt}(),y))||R)},yaXH:function(Ft,I){},ycre:function(Ft,I,a){var f=a("711d"),i=f("length");Ft.exports=i},yqCL:function(Ft,I,a){"use strict";a.d(I,"a",function(){return $t});var f=a("mrSG"),i=a("iTfj"),g=a("zJSt"),p=a("YuPD"),E=a("w02o"),S=a("sqD9"),A=a("4Olw"),M;(function(yt){yt.Left="Left",yt.Right="Right"})(M||(M={}));var x;(function(yt){yt.Line="line",yt.Column="column"})(x||(x={}));var O="left-axes-view",C="right-axes-view",D={nice:!0,label:{autoHide:!0,autoRotate:!1}},R=Object(f.a)(Object(f.a)({},D),{position:"left"}),y=Object(f.a)(Object(f.a)({},D),{position:"right",grid:null});function w(yt){return Object(i.s)(yt,"geometry")===x.Line}function N(yt){return Object(i.s)(yt,"geometry")===x.Column}function z(yt,ut,ft){return N(ft)?Object(p.b)({},{geometry:x.Column,label:ft.label&&ft.isRange?{content:function(vt){var Wt;return(Wt=vt[ut])===null||Wt===void 0?void 0:Wt.join("-")}}:void 0},ft):Object(f.a)({geometry:x.Line},ft)}function V(yt,ut){var ft=yt[0],it=yt[1];if(Object(i.B)(ut)){var vt=ut[0],Wt=ut[1];return[vt,Wt]}var Ct=Object(i.s)(ut,ft),Z=Object(i.s)(ut,it);return[Ct,Z]}function B(yt,ut){return ut===M.Left?yt===!1?!1:Object(p.b)({},R,yt):ut===M.Right?yt===!1?!1:Object(p.b)({},y,yt):yt}var P=a("kXyF");function T(yt){var ut=yt.view,ft=yt.geometryOption,it=yt.yField,vt=yt.legend,Wt=Object(i.s)(vt,"marker"),Ct=Object(p.c)(ut,w(ft)?"line":"interval");if(!ft.seriesField){var Z=Ct.getAttribute("color"),X=Z.values[0],dt=Wt||(w(ft)?{symbol:function(Ot,Rt,zt){return[["M",Ot-zt,Rt],["L",Ot+zt,Rt]]},style:{lineWidth:2,r:6,stroke:X}}:{symbol:"square",style:{fill:X}});return[{value:it,name:Object(i.s)(ut,"options.scales."+it+".alias")||it,marker:dt,isGeometry:!0,viewId:ut.id}]}var H=Ct.getGroupAttributes();return Object(i.fb)(H,function(lt,Ot){var Rt=P.Util.getLegendItems(ut,Ct,Ot,ut.getTheme(),Wt);return lt.concat(Rt)},[])}var W=a("tKoa");function Q(yt){var ut=yt.options,ft=yt.chart,it=ut.geometryOption,vt=it.isStack,Wt=it.color,Ct=it.seriesField,Z=it.groupField,X=it.isGroup,dt=["xField","yField"];if(w(it)){Object(W.d)(Object(p.b)({},yt,{options:Object(f.a)(Object(f.a)(Object(f.a)({},Object(p.p)(ut,dt)),it),{line:{color:it.color,style:it.lineStyle}})})),Object(W.e)(Object(p.b)({},yt,{options:Object(f.a)(Object(f.a)(Object(f.a)({},Object(p.p)(ut,dt)),it),{point:it.point&&Object(f.a)({color:Wt,shape:"circle"},it.point)})}));var H=[];X&&H.push({type:"dodge",dodgeBy:Z||Ct,customOffset:0}),vt&&H.push({type:"stack"}),H.length&&Object(i.j)(ft.geometries,function(lt){lt.adjust(H)})}return N(it)&&Object(W.c)(Object(p.b)({},yt,{options:Object(f.a)(Object(f.a)(Object(f.a)({},Object(p.p)(ut,dt)),it),{widthRatio:it.columnWidthRatio,interval:Object(f.a)(Object(f.a)({},Object(p.p)(it,["color"])),{style:it.columnStyle})})})),yt}var nt=function(ut,ft){var it=ft[0],vt=ft[1],Wt=ut.getOptions().data,Ct=ut.getXScale(),Z=Object(i.jb)(Wt);if(!(!Ct||!Z)){var X=!0,dt=Object(i.vb)(Wt,Ct.field),H=X?dt:dt.reverse(),lt=Object(i.jb)(H),Ot=Math.floor(it*(lt-1)),Rt=Math.floor(vt*(lt-1));ut.filter(Ct.field,function(zt){var Bt=H.indexOf(zt);return Bt>-1?Object(p.l)(Bt,Ot,Rt):!0}),ut.render(!0)}};function st(yt){var ut,ft=yt.options,it=ft.geometryOptions,vt=it===void 0?[]:it,Wt=ft.xField,Ct=ft.yField,Z=Object(i.k)(vt,function(X){var dt=X.geometry;return dt===x.Line||dt===void 0});return Object(p.b)({},{options:{geometryOptions:[],meta:(ut={},ut[Wt]={type:"cat",sync:!0,range:Z?[0,1]:void 0},ut),tooltip:{showMarkers:Z,showCrosshairs:Z,shared:!0,crosshairs:{type:"x"}},interactions:Z?[{type:"legend-visible-filter"}]:[{type:"legend-visible-filter"},{type:"active-region"}],legend:{position:"top-left"}}},yt,{options:{yAxis:V(Ct,ft.yAxis),geometryOptions:[z(Wt,Ct[0],vt[0]),z(Wt,Ct[1],vt[1])],annotations:V(Ct,ft.annotations)}})}function et(yt){var ut=yt.chart,ft=yt.options,it=ft.xField,vt=ft.yField,Wt=ft.geometryOptions,Ct=ft.data,Z=ft.tooltip,X={line:0,column:1},dt=[Object(f.a)(Object(f.a)({},Wt[0]),{id:O,data:Ct[0],yField:vt[0]}),Object(f.a)(Object(f.a)({},Wt[1]),{id:C,data:Ct[1],yField:vt[1]})];return dt.sort(function(H,lt){return-X[H.geometry]+X[lt.geometry]}).forEach(function(H){var lt=H.id,Ot=H.data,Rt=H.yField,zt=N(H)&&H.isPercent,Bt=zt?Object(S.b)(Ot,Rt,it,Rt):Ot,tt=ut.createView({id:lt}).data(Bt),J=zt?Object(f.a)({formatter:function(Et){return{name:Et[H.seriesField]||Rt,value:(Number(Et[Rt])*100).toFixed(2)+"%"}}},Z):Z;Q({chart:tt,options:{xField:it,yField:Rt,tooltip:J,geometryOption:H}})}),yt}function _(yt){var ut,ft=yt.chart,it=yt.options,vt=it.geometryOptions,Wt=((ut=ft.getTheme())===null||ut===void 0?void 0:ut.colors10)||[],Ct=0;return ft.once("beforepaint",function(){Object(i.j)(vt,function(Z,X){var dt=Object(A.a)(ft,X===0?O:C);if(!Z.color){var H=dt.getGroupScales(),lt=Object(i.s)(H,[0,"values","length"],1),Ot=Wt.slice(Ct,Ct+lt).concat(X===0?[]:Wt);dt.geometries.forEach(function(Rt){Z.seriesField?Rt.color(Z.seriesField,Ot):Rt.color(Ot[0])}),Ct+=lt}}),ft.render(!0)}),yt}function Y(yt){var ut,ft,it=yt.chart,vt=yt.options,Wt=vt.xAxis,Ct=vt.yAxis,Z=vt.xField,X=vt.yField;return Object(E.f)((ut={},ut[Z]=Wt,ut[X[0]]=Ct[0],ut))(Object(p.b)({},yt,{chart:Object(A.a)(it,O)})),Object(E.f)((ft={},ft[Z]=Wt,ft[X[1]]=Ct[1],ft))(Object(p.b)({},yt,{chart:Object(A.a)(it,C)})),yt}function $(yt){var ut=yt.chart,ft=yt.options,it=Object(A.a)(ut,O),vt=Object(A.a)(ut,C),Wt=ft.xField,Ct=ft.yField,Z=ft.xAxis,X=ft.yAxis;return ut.axis(Wt,!1),ut.axis(Ct[0],!1),ut.axis(Ct[1],!1),it.axis(Wt,Z),it.axis(Ct[0],B(X[0],M.Left)),vt.axis(Wt,!1),vt.axis(Ct[1],B(X[1],M.Right)),yt}function q(yt){var ut=yt.chart,ft=yt.options,it=ft.tooltip,vt=Object(A.a)(ut,O),Wt=Object(A.a)(ut,C);return ut.tooltip(it),vt.tooltip({shared:!0}),Wt.tooltip({shared:!0}),yt}function at(yt){var ut=yt.chart;return Object(E.c)(Object(p.b)({},yt,{chart:Object(A.a)(ut,O)})),Object(E.c)(Object(p.b)({},yt,{chart:Object(A.a)(ut,C)})),yt}function pt(yt){var ut=yt.chart,ft=yt.options,it=ft.annotations,vt=Object(i.s)(it,[0]),Wt=Object(i.s)(it,[1]);return Object(E.b)(vt)(Object(p.b)({},yt,{chart:Object(A.a)(ut,O),options:{annotations:vt}})),Object(E.b)(Wt)(Object(p.b)({},yt,{chart:Object(A.a)(ut,C),options:{annotations:Wt}})),yt}function mt(yt){var ut=yt.chart;return Object(E.j)(Object(p.b)({},yt,{chart:Object(A.a)(ut,O)})),Object(E.j)(Object(p.b)({},yt,{chart:Object(A.a)(ut,C)})),Object(E.j)(yt),yt}function ot(yt){var ut=yt.chart;return Object(E.a)(Object(p.b)({},yt,{chart:Object(A.a)(ut,O)})),Object(E.a)(Object(p.b)({},yt,{chart:Object(A.a)(ut,C)})),yt}function xt(yt){var ut=yt.chart,ft=yt.options,it=ft.yAxis;return Object(E.e)(Object(p.b)({},yt,{chart:Object(A.a)(ut,O),options:{yAxis:it[0]}})),Object(E.e)(Object(p.b)({},yt,{chart:Object(A.a)(ut,C),options:{yAxis:it[1]}})),yt}function It(yt){var ut=yt.chart,ft=yt.options,it=ft.legend,vt=ft.geometryOptions,Wt=ft.yField,Ct=ft.data,Z=Object(A.a)(ut,O),X=Object(A.a)(ut,C);return it===!1?ut.legend(!1):Object(i.M)(it)&&it.custom===!0?ut.legend(it):(ut.once("beforepaint",function(){var dt=Ct[0].length?T({view:Z,geometryOption:vt[0],yField:Wt[0],legend:it}):[],H=Ct[1].length?T({view:X,geometryOption:vt[1],yField:Wt[1],legend:it}):[];ut.legend(Object(p.b)({},it,{custom:!0,items:dt.concat(H)}))}),ut.on("legend-item:click",function(dt){var H=Object(i.s)(dt,"gEvent.delegateObject",{});if(H&&H.item){var lt=H.item,Ot=lt.value,Rt=lt.isGeometry,zt=lt.viewId;if(Rt){var Bt=Object(i.n)(Wt,function(G){return G===Ot});if(Bt>-1){var tt=Object(i.s)(Object(A.a)(ut,zt),"geometries");Object(i.j)(tt,function(G){G.changeVisible(!H.item.unchecked)})}}else{var J=Object(i.s)(ut.getController("legend"),"option.items",[]);Object(i.j)(ut.views,function(G){var Et=G.getGroupScales();Object(i.j)(Et,function(Tt){Tt.values&&Tt.values.indexOf(Ot)>-1&&G.filter(Tt.field,function(ct){var St=Object(i.m)(J,function(Vt){return Vt.value===ct});return!St.unchecked})}),ut.render(!0)})}}})),yt}function Ht(yt){var ut=yt.chart,ft=yt.options,it=ft.slider,vt=Object(A.a)(ut,O),Wt=Object(A.a)(ut,C);return it&&(vt.option("slider",it),vt.on("slider:valuechanged",function(Ct){var Z=Ct.event,X=Z.value,dt=Z.originValue;Object(i.G)(X,dt)||nt(Wt,X)}),ut.once("afterpaint",function(){if(!Object(i.C)(it)){var Ct=it.start,Z=it.end;(Ct||Z)&&nt(Wt,[Ct,Z])}})),yt}function Qt(yt){return Object(p.e)(st,et,Y,$,xt,q,at,pt,mt,ot,_,It,Ht)(yt)}var $t=function(yt){Object(f.c)(ut,yt);function ut(){var ft=yt!==null&&yt.apply(this,arguments)||this;return ft.type="dual-axes",ft}return ut.prototype.getDefaultOptions=function(){return Object(p.b)({},yt.prototype.getDefaultOptions.call(this),{yAxis:[],syncViewPadding:!0})},ut.prototype.getSchemaAdaptor=function(){return Qt},ut.prototype.setState=function(ft,it,vt){vt===void 0&&(vt=!0);var Wt=Object(p.g)(this.chart);Object(i.j)(Wt,function(Ct){it(Ct.getData())&&Ct.setState(ft,vt)})},ut.prototype.getStates=function(){var ft=Object(p.g)(this.chart),it=[];return Object(i.j)(ft,function(vt){var Wt=vt.getData(),Ct=vt.getStates();Object(i.j)(Ct,function(Z){it.push({data:Wt,state:Z,geometry:vt.geometry,element:vt})})}),it},ut}(g.b)},yue5:function(Ft,I,a){var f=a("/9aa");function i(g,p){if(g!==p){var E=g!==void 0,S=g===null,A=g===g,M=f(g),x=p!==void 0,O=p===null,C=p===p,D=f(p);if(!O&&!D&&!M&&g>p||M&&x&&C&&!O&&!D||S&&x&&C||!E&&C||!A)return 1;if(!S&&!M&&!D&&g<p||D&&E&&A&&!S&&!M||O&&E&&A||!x&&A||!C)return-1}return 0}Ft.exports=i},z4Hk:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.BindingWhenSyntax=void 0;var f=a("406g"),i=a("RR/i"),g=function(){function p(E){this._binding=E}return p.prototype.when=function(E){return this._binding.constraint=E,new f.BindingOnSyntax(this._binding)},p.prototype.whenTargetNamed=function(E){return this._binding.constraint=i.namedConstraint(E),new f.BindingOnSyntax(this._binding)},p.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(E){var S=E.target!==null&&!E.target.isNamed()&&!E.target.isTagged();return S},new f.BindingOnSyntax(this._binding)},p.prototype.whenTargetTagged=function(E,S){return this._binding.constraint=i.taggedConstraint(E)(S),new f.BindingOnSyntax(this._binding)},p.prototype.whenInjectedInto=function(E){return this._binding.constraint=function(S){return i.typeConstraint(E)(S.parentRequest)},new f.BindingOnSyntax(this._binding)},p.prototype.whenParentNamed=function(E){return this._binding.constraint=function(S){return i.namedConstraint(E)(S.parentRequest)},new f.BindingOnSyntax(this._binding)},p.prototype.whenParentTagged=function(E,S){return this._binding.constraint=function(A){return i.taggedConstraint(E)(S)(A.parentRequest)},new f.BindingOnSyntax(this._binding)},p.prototype.whenAnyAncestorIs=function(E){return this._binding.constraint=function(S){return i.traverseAncerstors(S,i.typeConstraint(E))},new f.BindingOnSyntax(this._binding)},p.prototype.whenNoAncestorIs=function(E){return this._binding.constraint=function(S){return!i.traverseAncerstors(S,i.typeConstraint(E))},new f.BindingOnSyntax(this._binding)},p.prototype.whenAnyAncestorNamed=function(E){return this._binding.constraint=function(S){return i.traverseAncerstors(S,i.namedConstraint(E))},new f.BindingOnSyntax(this._binding)},p.prototype.whenNoAncestorNamed=function(E){return this._binding.constraint=function(S){return!i.traverseAncerstors(S,i.namedConstraint(E))},new f.BindingOnSyntax(this._binding)},p.prototype.whenAnyAncestorTagged=function(E,S){return this._binding.constraint=function(A){return i.traverseAncerstors(A,i.taggedConstraint(E)(S))},new f.BindingOnSyntax(this._binding)},p.prototype.whenNoAncestorTagged=function(E,S){return this._binding.constraint=function(A){return!i.traverseAncerstors(A,i.taggedConstraint(E)(S))},new f.BindingOnSyntax(this._binding)},p.prototype.whenAnyAncestorMatches=function(E){return this._binding.constraint=function(S){return i.traverseAncerstors(S,E)},new f.BindingOnSyntax(this._binding)},p.prototype.whenNoAncestorMatches=function(E){return this._binding.constraint=function(S){return!i.traverseAncerstors(S,E)},new f.BindingOnSyntax(this._binding)},p}();I.BindingWhenSyntax=g},z4Vf:function(Ft,I,a){"use strict";a.d(I,"a",function(){return w});var f=a("mrSG"),i=a("zJSt"),g=a("iTfj"),p=a("YuPD"),E=a("w02o"),S=a("tKoa");function A(N){var z=N.chart,V=N.options,B=V.data,P=V.sectorStyle,T=V.color;return z.data(B),Object(p.e)(S.c)(Object(p.b)({},N,{options:{marginRatio:1,interval:{style:P,color:T}}})),N}function M(N){var z=N.chart,V=N.options,B=V.label,P=V.xField,T=Object(p.c)(z,"interval");if(B===!1)T.label(!1);else if(Object(g.M)(B)){var W=B.callback,Q=B.fields,nt=Object(f.e)(B,["callback","fields"]),st=nt.offset,et=nt.layout;(st===void 0||st>=0)&&(et=et?Object(g.B)(et)?et:[et]:[],nt.layout=Object(g.l)(et,function(_){return _.type!=="limit-in-shape"}),nt.layout.length||delete nt.layout),T.label({fields:Q||[P],callback:W,cfg:Object(p.u)(nt)})}else Object(p.n)(p.a.WARN,B===null,"the label option must be an Object."),T.label({fields:[P]});return N}function x(N){var z=N.chart,V=N.options,B=V.legend,P=V.seriesField;return B===!1?z.legend(!1):P&&z.legend(P,B),N}function O(N){var z=N.chart,V=N.options,B=V.radius,P=V.innerRadius,T=V.startAngle,W=V.endAngle;return z.coordinate({type:"polar",cfg:{radius:B,innerRadius:P,startAngle:T,endAngle:W}}),N}function C(N){var z,V=N.options,B=V.xAxis,P=V.yAxis,T=V.xField,W=V.yField;return Object(p.e)(Object(E.f)((z={},z[T]=B,z[W]=P,z)))(N)}function D(N){var z=N.chart,V=N.options,B=V.xAxis,P=V.yAxis,T=V.xField,W=V.yField;return B?z.axis(T,B):z.axis(T,!1),P?z.axis(W,P):z.axis(W,!1),N}function R(N){Object(p.e)(A,C,M,O,D,x,E.k,E.c,E.a,E.j,Object(E.b)(),E.i)(N)}var y=Object(p.b)({},i.b.getDefaultOptions(),{xAxis:!1,yAxis:!1,legend:{position:"right",offsetX:-10},sectorStyle:{stroke:"#fff",lineWidth:1},label:{layout:{type:"limit-in-shape"}},tooltip:{shared:!0,showMarkers:!1},interactions:[{type:"active-region"}]}),w=function(N){Object(f.c)(z,N);function z(){var V=N!==null&&N.apply(this,arguments)||this;return V.type="rose",V}return z.getDefaultOptions=function(){return y},z.prototype.changeData=function(V){this.updateOption({data:V}),this.chart.changeData(V)},z.prototype.getDefaultOptions=function(){return z.getDefaultOptions()},z.prototype.getSchemaAdaptor=function(){return R},z}(i.b)},z5Mu:function(Ft,I,a){"use strict";a.d(I,"a",function(){return ut});var f=a("J4zp"),i=a.n(f),g=a("o0o1"),p=a.n(g),E=a("yXPU"),S=a.n(E),A=a("yG8O"),M=a.n(A),x=a("lwsE"),O=a.n(x),C=a("W8MJ"),D=a.n(C),R=a("U+yc"),y=a.n(R),w=a("1ABj"),N=a("4cb6"),z=a("+uE7"),V=function ft(){O()(this,ft),this.index=void 0},B=function ft(){O()(this,ft),this.name=void 0,this.data=void 0,this.execute=void 0,this.tearDown=void 0},P=function(){function ft(){O()(this,ft),this.name=void 0,this.refCount=0,this.hasSideEffect=!1,this.devirtualize=[],this.destroy=[],this.reads=[],this.writes=[]}return D()(ft,[{key:"read",value:function(vt){return this.reads.find(function(Wt){return Wt.index===vt.index})||this.reads.push(vt),vt}},{key:"sample",value:function(vt){return this.read(vt),vt}},{key:"write",value:function(vt,Wt){var Ct=this.writes.find(function(H){return H.index===Wt.index});if(Ct)return Wt;var Z=vt.getResourceNode(Wt);Z.resource.version++,Z.resource.imported&&(this.hasSideEffect=!0);var X=vt.createResourceNode(Z.resource),dt=vt.getResourceNode(X);return dt.writer=this,this.writes.push(X),X}}]),ft}(),T=a("7W2i"),W=a.n(T),Q=a("a1gu"),nt=a.n(Q),st=a("Nsbk"),et=a.n(st),_=function ft(){O()(this,ft),this.first=void 0,this.last=void 0};function Y(ft){var it=$();return function(){var Wt=et()(ft),Ct;if(it){var Z=et()(this).constructor;Ct=Reflect.construct(Wt,arguments,Z)}else Ct=Wt.apply(this,arguments);return nt()(this,Ct)}}function $(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ft){return!1}}var q=function(ft){W()(vt,ft);var it=Y(vt);function vt(){var Wt;O()(this,vt);for(var Ct=arguments.length,Z=new Array(Ct),X=0;X<Ct;X++)Z[X]=arguments[X];return Wt=it.call.apply(it,[this].concat(Z)),Wt.version=0,Wt.refs=0,Wt.name=void 0,Wt.imported=void 0,Wt.priority=void 0,Wt.discardStart=!0,Wt.discardEnd=!1,Wt.descriptor=void 0,Wt.resource=void 0,Wt}return D()(vt,[{key:"preExecuteDestroy",value:function(){this.discardEnd=!0}},{key:"postExecuteDestroy",value:function(){!this.imported}},{key:"postExecuteDevirtualize",value:function(){this.discardStart=!1}},{key:"preExecuteDevirtualize",value:function(){!this.imported}}]),vt}(_),at=function ft(){O()(this,ft),this.resource=void 0,this.writer=void 0,this.readerCount=0,this.version=void 0},pt,mt,ot,xt,It,Ht;function Qt(ft,it){var vt;if(typeof Symbol=="undefined"||ft[Symbol.iterator]==null){if(Array.isArray(ft)||(vt=$t(ft))||it&&ft&&typeof ft.length=="number"){vt&&(ft=vt);var Wt=0,Ct=function(){};return{s:Ct,n:function(){return Wt>=ft.length?{done:!0}:{done:!1,value:ft[Wt++]}},e:function(lt){throw lt},f:Ct}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z=!0,X=!1,dt;return{s:function(){vt=ft[Symbol.iterator]()},n:function(){var lt=vt.next();return Z=lt.done,lt},e:function(lt){X=!0,dt=lt},f:function(){try{!Z&&vt.return!=null&&vt.return()}finally{if(X)throw dt}}}}function $t(ft,it){if(!!ft){if(typeof ft=="string")return yt(ft,it);var vt=Object.prototype.toString.call(ft).slice(8,-1);if(vt==="Object"&&ft.constructor&&(vt=ft.constructor.name),vt==="Map"||vt==="Set")return Array.from(ft);if(vt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vt))return yt(ft,it)}}function yt(ft,it){(it==null||it>ft.length)&&(it=ft.length);for(var vt=0,Wt=new Array(it);vt<it;vt++)Wt[vt]=ft[vt];return Wt}var ut=(pt=Object(N.injectable)(),mt=Object(N.inject)(z.a.RenderEngine),pt(ot=(xt=(Ht=function(){function ft(){O()(this,ft),this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[],M()(this,"engine",It,this)}return D()(ft,[{key:"execute",value:function(){var it=S()(p.a.mark(function Wt(Ct){return p.a.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return this.compile(),X.next=3,this.executePassNodes(Ct);case 3:case"end":return X.stop()}},Wt,this)}));function vt(Wt){return it.apply(this,arguments)}return vt}()},{key:"tearDown",value:function(){this.frameGraphPasses.forEach(function(vt){vt.tearDown&&vt.tearDown()}),this.reset()}},{key:"addPass",value:function(vt,Wt,Ct,Z){var X=new B;X.execute=Ct,Z&&(X.tearDown=Z),X.name=vt;var dt=new P;return dt.name=vt,this.passNodes.push(dt),this.frameGraphPasses.push(X),Wt(this,dt,X),X}},{key:"getPass",value:function(vt){return this.frameGraphPasses.find(function(Wt){return Wt.name===vt})}},{key:"compile",value:function(){var vt=this,Wt=Qt(this.passNodes),Ct;try{for(Wt.s();!(Ct=Wt.n()).done;){var Z=Ct.value;Z.refCount=Z.writes.length+(Z.hasSideEffect?1:0),Z.reads.forEach(function(ur){vt.resourceNodes[ur.index].readerCount++})}}catch(ur){Wt.e(ur)}finally{Wt.f()}var X=[],dt=Qt(this.resourceNodes),H;try{for(dt.s();!(H=dt.n()).done;){var lt=H.value;lt.readerCount===0&&X.push(lt)}}catch(ur){dt.e(ur)}finally{dt.f()}for(;X.length;){var Ot=X.pop(),Rt=Ot&&Ot.writer;if(Rt&&--Rt.refCount==0){var zt=Qt(Rt.reads),Bt;try{for(zt.s();!(Bt=zt.n()).done;){var tt=Bt.value,J=this.resourceNodes[tt.index];--J.readerCount==0&&X.push(J)}}catch(ur){zt.e(ur)}finally{zt.f()}}}this.resourceNodes.forEach(function(ur){ur.resource.refs+=ur.readerCount});var G=Qt(this.passNodes),Et;try{for(G.s();!(Et=G.n()).done;){var Tt=Et.value;if(!!Tt.refCount){var ct=Qt(Tt.reads),St;try{for(ct.s();!(St=ct.n()).done;){var Vt=St.value,Lt=this.resourceNodes[Vt.index].resource;Lt.first=Lt.first?Lt.first:Tt,Lt.last=Tt}}catch(ur){ct.e(ur)}finally{ct.f()}var Nt=Qt(Tt.writes),Zt;try{for(Nt.s();!(Zt=Nt.n()).done;){var oe=Zt.value,ue=this.resourceNodes[oe.index].resource;ue.first=ue.first?ue.first:Tt,ue.last=Tt}}catch(ur){Nt.e(ur)}finally{Nt.f()}}}}catch(ur){G.e(ur)}finally{G.f()}for(var Ee=0;Ee<2;Ee++){var Te=Qt(this.resourceNodes),Se;try{for(Te.s();!(Se=Te.n()).done;){var $e=Se.value,cr=$e.resource;if(cr.priority===Ee&&cr.refs){var He=cr.first,_e=cr.last;He&&_e&&(He.devirtualize.push(cr),_e.destroy.push(cr))}}}catch(ur){Te.e(ur)}finally{Te.f()}}}},{key:"executePassNodes",value:function(){var it=S()(p.a.mark(function Wt(Ct){var Z,X,dt,H,lt,Ot,Rt,zt,Bt,tt,J,G,Et,Tt,ct,St,Vt;return p.a.wrap(function(Nt){for(;;)switch(Nt.prev=Nt.next){case 0:Z=Qt(this.passNodes.entries()),Nt.prev=1,Z.s();case 3:if((X=Z.n()).done){Nt.next=18;break}if(dt=i()(X.value,2),H=dt[0],lt=dt[1],!lt.refCount){Nt.next=16;break}Ot=Qt(lt.devirtualize);try{for(Ot.s();!(Rt=Ot.n()).done;)zt=Rt.value,zt.preExecuteDevirtualize(this.engine)}catch(Zt){Ot.e(Zt)}finally{Ot.f()}Bt=Qt(lt.destroy);try{for(Bt.s();!(tt=Bt.n()).done;)J=tt.value,J.preExecuteDestroy(this.engine)}catch(Zt){Bt.e(Zt)}finally{Bt.f()}return Nt.next=12,this.frameGraphPasses[H].execute(this,this.frameGraphPasses[H],Ct);case 12:G=Qt(lt.devirtualize);try{for(G.s();!(Et=G.n()).done;)Tt=Et.value,Tt.postExecuteDevirtualize(this.engine)}catch(Zt){G.e(Zt)}finally{G.f()}ct=Qt(lt.destroy);try{for(ct.s();!(St=ct.n()).done;)Vt=St.value,Vt.postExecuteDestroy(this.engine)}catch(Zt){ct.e(Zt)}finally{ct.f()}case 16:Nt.next=3;break;case 18:Nt.next=23;break;case 20:Nt.prev=20,Nt.t0=Nt.catch(1),Z.e(Nt.t0);case 23:return Nt.prev=23,Z.f(),Nt.finish(23);case 26:this.reset();case 27:case"end":return Nt.stop()}},Wt,this,[[1,20,23,26]])}));function vt(Wt){return it.apply(this,arguments)}return vt}()},{key:"reset",value:function(){this.passNodes=[],this.resourceNodes=[],this.frameGraphPasses=[]}},{key:"getResourceNode",value:function(vt){return this.resourceNodes[vt.index]}},{key:"createResourceNode",value:function(vt){var Wt=new at;Wt.resource=vt,Wt.version=vt.version,this.resourceNodes.push(Wt);var Ct=new V;return Ct.index=this.resourceNodes.length-1,Ct}},{key:"createTexture",value:function(vt,Wt,Ct){var Z=new q;return Z.name=Wt,Z.descriptor=Ct,this.createResourceNode(Z)}},{key:"createRenderTarget",value:function(vt,Wt,Ct){var Z=new q;return Z.name=Wt,Z.descriptor=Ct,this.createResourceNode(Z)}},{key:"present",value:function(vt){this.addPass("Present",function(Wt,Ct){Ct.read(vt),Ct.hasSideEffect=!0},S()(p.a.mark(function Wt(){return p.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:case"end":return Z.stop()}},Wt)})))}}]),ft}(),Ht),It=y()(xt.prototype,"engine",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xt))||ot)},z6cq:function(Ft,I,a){var f=a("M96O");Ft.exports=i;function i(g){var p=0,E=[],S={},A=[];function M(x){var O=S[x]={onStack:!0,lowlink:p,index:p++};if(E.push(x),g.successors(x).forEach(function(R){f.has(S,R)?S[R].onStack&&(O.lowlink=Math.min(O.lowlink,S[R].index)):(M(R),O.lowlink=Math.min(O.lowlink,S[R].lowlink))}),O.lowlink===O.index){var C=[],D;do D=E.pop(),S[D].onStack=!1,C.push(D);while(x!==D);A.push(C)}}return g.nodes().forEach(function(x){f.has(S,x)||M(x)}),A}},zEVN:function(Ft,I,a){var f=a("Gi0A"),i=a("sEf8"),g=a("mdPL"),p=g&&g.isMap,E=p?i(p):f;Ft.exports=E},zJSt:function(Ft,I,a){"use strict";a.d(I,"a",function(){return x}),a.d(I,"b",function(){return O});var f=a("mrSG"),i=a("kXyF"),g=a("iTfj"),p=a("f6Jy"),E=a("u3os"),S=a.n(E),A=a("YuPD"),M="data-chart-source-type",x=["padding","appendPadding","renderer","pixelRatio","syncViewPadding","supportCSSTransform","limitInPlot"],O=function(C){Object(f.c)(D,C);function D(R,y){var w=C.call(this)||this;return w.type="base",w.container=typeof R=="string"?document.getElementById(R):R,w.options=Object(A.b)({},w.getDefaultOptions(),y),w.createG2(),w.bindEvents(),w}return D.getDefaultOptions=function(){return{renderer:"canvas",xAxis:{nice:!0,label:{autoRotate:!1,autoHide:{type:"equidistance",cfg:{minGap:6}}}},yAxis:{nice:!0,label:{autoHide:!0,autoRotate:!1}},animation:!0}},D.prototype.createG2=function(){var R=this.options,y=R.width,w=R.height;this.chart=new i.Chart(Object(f.a)(Object(f.a)(Object(f.a)({container:this.container,autoFit:!1},this.getChartSize(y,w)),{localRefresh:!1}),Object(A.p)(this.options,x))),this.container.setAttribute(M,"G2Plot")},D.prototype.getChartSize=function(R,y){var w=Object(A.h)(this.container);return{width:R||w.width||400,height:y||w.height||400}},D.prototype.bindEvents=function(){var R=this;this.chart&&this.chart.on("*",function(y){(y==null?void 0:y.type)&&R.emit(y.type,y)})},D.prototype.getDefaultOptions=function(){return D.getDefaultOptions()},D.prototype.render=function(){this.chart.clear(),this.chart.options={data:[],animate:!0},this.chart.views=[],this.execAdaptor(),this.chart.render(),this.bindSizeSensor()},D.prototype.update=function(R){this.updateOption(R),this.render()},D.prototype.updateOption=function(R){this.options=Object(A.b)({},this.options,R)},D.prototype.setState=function(R,y,w){w===void 0&&(w=!0);var N=Object(A.f)(this.chart);Object(g.j)(N,function(z){y(z.getData())&&z.setState(R,w)})},D.prototype.getStates=function(){var R=Object(A.f)(this.chart),y=[];return Object(g.j)(R,function(w){var N=w.getData(),z=w.getStates();Object(g.j)(z,function(V){y.push({data:N,state:V,geometry:w.geometry,element:w})})}),y},D.prototype.changeData=function(R){this.update({data:R})},D.prototype.changeSize=function(R,y){this.chart.changeSize(R,y)},D.prototype.destroy=function(){this.unbindSizeSensor(),this.chart.destroy(),this.off(),this.container.removeAttribute(M)},D.prototype.execAdaptor=function(){var R=this.getSchemaAdaptor(),y=this.options,w=y.padding,N=y.appendPadding;this.chart.padding=w,this.chart.appendPadding=N,R({chart:this.chart,options:this.options})},D.prototype.triggerResize=function(){this.chart.forceFit()},D.prototype.bindSizeSensor=function(){var R=this;if(!this.unbind){var y=this.options.autoFit,w=y===void 0?!0:y;w&&(this.unbind=Object(E.bind)(this.container,function(){var N=Object(A.h)(R.container),z=N.width,V=N.height;(z!==R.chart.width||V!==R.chart.height)&&R.triggerResize()}))}},D.prototype.unbindSizeSensor=function(){this.unbind&&(this.unbind(),this.unbind=void 0)},D}(p.a)},zK8m:function(Ft,I,a){"use strict";var f=a("mrSG"),i=a("iTfj"),g=a("6JdA"),p=a("sstZ"),E=a("aSjE"),S=a("LmB6"),A=g.a.transform,M="matrix",x=["zIndex","capture","visible","type"],O=["repeat"],C=":",D="*";function R(V){for(var B=[],P=0;P<V.length;P++)Object(i.B)(V[P])?B.push([].concat(V[P])):B.push(V[P]);return B}function y(V,B){var P={},T=B.attrs;for(var W in V)P[W]=T[W];return P}function w(V,B){var P={},T=B.attr();return Object(i.j)(V,function(W,Q){O.indexOf(Q)===-1&&!Object(i.G)(T[Q],W)&&(P[Q]=W)}),P}function N(V,B){if(B.onFrame)return V;var P=B.startTime,T=B.delay,W=B.duration,Q=Object.prototype.hasOwnProperty;return Object(i.j)(V,function(nt){P+T<nt.startTime+nt.delay+nt.duration&&W>nt.delay&&Object(i.j)(B.toAttrs,function(st,et){Q.call(nt.toAttrs,et)&&(delete nt.toAttrs[et],delete nt.fromAttrs[et])})}),V}var z=function(V){Object(f.c)(B,V);function B(P){var T=V.call(this,P)||this;T.attrs={};var W=T.getDefaultAttrs();return Object(i.bb)(W,P.attrs),T.attrs=W,T.initAttrs(W),T.initAnimate(),T}return B.prototype.getDefaultCfg=function(){return{visible:!0,capture:!0,zIndex:0}},B.prototype.getDefaultAttrs=function(){return{matrix:this.getDefaultMatrix(),opacity:1}},B.prototype.onCanvasChange=function(P){},B.prototype.initAttrs=function(P){},B.prototype.initAnimate=function(){this.set("animable",!0),this.set("animating",!1)},B.prototype.isGroup=function(){return!1},B.prototype.getParent=function(){return this.get("parent")},B.prototype.getCanvas=function(){return this.get("canvas")},B.prototype.attr=function(){for(var P,T=[],W=0;W<arguments.length;W++)T[W]=arguments[W];var Q=T[0],nt=T[1];if(!Q)return this.attrs;if(Object(i.M)(Q)){for(var st in Q)this.setAttr(st,Q[st]);return this.afterAttrsChange(Q),this}return T.length===2?(this.setAttr(Q,nt),this.afterAttrsChange((P={},P[Q]=nt,P)),this):this.attrs[Q]},B.prototype.isClipped=function(P,T){var W=this.getClip();return W&&!W.isHit(P,T)},B.prototype.setAttr=function(P,T){var W=this.attrs[P];W!==T&&(this.attrs[P]=T,this.onAttrChange(P,T,W))},B.prototype.onAttrChange=function(P,T,W){P==="matrix"&&this.set("totalMatrix",null)},B.prototype.afterAttrsChange=function(P){if(this.cfg.isClipShape){var T=this.cfg.applyTo;T&&T.onCanvasChange("clip")}else this.onCanvasChange("attr")},B.prototype.show=function(){return this.set("visible",!0),this.onCanvasChange("show"),this},B.prototype.hide=function(){return this.set("visible",!1),this.onCanvasChange("hide"),this},B.prototype.setZIndex=function(P){this.set("zIndex",P);var T=this.getParent();return T&&T.sort(),this},B.prototype.toFront=function(){var P=this.getParent();if(!!P){var T=P.getChildren(),W=this.get("el"),Q=T.indexOf(this);T.splice(Q,1),T.push(this),this.onCanvasChange("zIndex")}},B.prototype.toBack=function(){var P=this.getParent();if(!!P){var T=P.getChildren(),W=this.get("el"),Q=T.indexOf(this);T.splice(Q,1),T.unshift(this),this.onCanvasChange("zIndex")}},B.prototype.remove=function(P){P===void 0&&(P=!0);var T=this.getParent();T?(Object(p.j)(T.getChildren(),this),T.get("clearing")||this.onCanvasChange("remove")):this.onCanvasChange("remove"),P&&this.destroy()},B.prototype.resetMatrix=function(){this.attr(M,this.getDefaultMatrix()),this.onCanvasChange("matrix")},B.prototype.getMatrix=function(){return this.attr(M)},B.prototype.setMatrix=function(P){this.attr(M,P),this.onCanvasChange("matrix")},B.prototype.getTotalMatrix=function(){var P=this.cfg.totalMatrix;if(!P){var T=this.attr("matrix"),W=this.cfg.parentMatrix;W&&T?P=Object(E.b)(W,T):P=T||W,this.set("totalMatrix",P)}return P},B.prototype.applyMatrix=function(P){var T=this.attr("matrix"),W=null;P&&T?W=Object(E.b)(P,T):W=T||P,this.set("totalMatrix",W),this.set("parentMatrix",P)},B.prototype.getDefaultMatrix=function(){return null},B.prototype.applyToMatrix=function(P){var T=this.attr("matrix");return T?Object(E.c)(T,P):P},B.prototype.invertFromMatrix=function(P){var T=this.attr("matrix");if(T){var W=Object(E.a)(T);if(W)return Object(E.c)(W,P)}return P},B.prototype.setClip=function(P){var T=this.getCanvas(),W=null;if(P){var Q=this.getShapeBase(),nt=Object(i.tb)(P.type),st=Q[nt];st&&(W=new st({type:P.type,isClipShape:!0,applyTo:this,attrs:P.attrs,canvas:T}))}return this.set("clipShape",W),this.onCanvasChange("clip"),W},B.prototype.getClip=function(){var P=this.cfg.clipShape;return P||null},B.prototype.clone=function(){var P=this,T=this.attrs,W={};Object(i.j)(T,function(st,et){Object(i.B)(T[et])?W[et]=R(T[et]):W[et]=T[et]});var Q=this.constructor,nt=new Q({attrs:W});return Object(i.j)(x,function(st){nt.set(st,P.get(st))}),nt},B.prototype.destroy=function(){var P=this.destroyed;P||(this.attrs={},V.prototype.destroy.call(this))},B.prototype.isAnimatePaused=function(){return this.get("_pause").isPaused},B.prototype.animate=function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];if(!(!this.get("timeline")&&!this.get("canvas"))){this.set("animating",!0);var W=this.get("timeline");W||(W=this.get("canvas").get("timeline"),this.set("timeline",W));var Q=this.get("animations")||[];W.timer||W.initTimer();var nt=P[0],st=P[1],et=P[2],_=et===void 0?"easeLinear":et,Y=P[3],$=Y===void 0?i.db:Y,q=P[4],at=q===void 0?0:q,pt,mt,ot,xt,It;Object(i.H)(nt)?(pt=nt,nt={}):Object(i.M)(nt)&&nt.onFrame&&(pt=nt.onFrame,mt=nt.repeat),Object(i.M)(st)?(It=st,st=It.duration,_=It.easing||"easeLinear",at=It.delay||0,mt=It.repeat||mt||!1,$=It.callback||i.db,ot=It.pauseCallback||i.db,xt=It.resumeCallback||i.db):(Object(i.K)($)&&(at=$,$=null),Object(i.H)(_)?($=_,_="easeLinear"):_=_||"easeLinear");var Ht=w(nt,this),Qt={fromAttrs:y(Ht,this),toAttrs:Ht,duration:st,easing:_,repeat:mt,callback:$,pauseCallback:ot,resumeCallback:xt,delay:at,startTime:W.getTime(),id:Object(i.sb)(),onFrame:pt,pathFormatted:!1};Q.length>0?Q=N(Q,Qt):W.addAnimator(this),Q.push(Qt),this.set("animations",Q),this.set("_pause",{isPaused:!1})}},B.prototype.stopAnimate=function(P){var T=this;P===void 0&&(P=!0);var W=this.get("animations");Object(i.j)(W,function(Q){P&&(Q.onFrame?T.attr(Q.onFrame(1)):T.attr(Q.toAttrs)),Q.callback&&Q.callback()}),this.set("animating",!1),this.set("animations",[])},B.prototype.pauseAnimate=function(){var P=this.get("timeline"),T=this.get("animations"),W=P.getTime();return Object(i.j)(T,function(Q){Q._paused=!0,Q._pauseTime=W,Q.pauseCallback&&Q.pauseCallback()}),this.set("_pause",{isPaused:!0,pauseTime:W}),this},B.prototype.resumeAnimate=function(){var P=this.get("timeline"),T=P.getTime(),W=this.get("animations"),Q=this.get("_pause").pauseTime;return Object(i.j)(W,function(nt){nt.startTime=nt.startTime+(T-Q),nt._paused=!1,nt._pauseTime=null,nt.resumeCallback&&nt.resumeCallback()}),this.set("_pause",{isPaused:!1}),this.set("animations",W),this},B.prototype.emitDelegation=function(P,T){var W=this,Q=T.propagationPath,nt=this.getEvents(),st;P==="mouseenter"?st=T.fromShape:P==="mouseleave"&&(st=T.toShape);for(var et=function(at){var pt=Q[at],mt=pt.get("name");if(mt){if((pt.isGroup()||pt.isCanvas&&pt.isCanvas())&&st&&Object(p.g)(pt,st))return"break";Object(i.B)(mt)?Object(i.j)(mt,function(ot){W.emitDelegateEvent(pt,ot,T)}):_.emitDelegateEvent(pt,mt,T)}},_=this,Y=0;Y<Q.length;Y++){var $=et(Y);if($==="break")break}},B.prototype.emitDelegateEvent=function(P,T,W){var Q=this.getEvents(),nt=T+C+W.type;(Q[nt]||Q[D])&&(W.name=nt,W.currentTarget=P,W.delegateTarget=this,W.delegateObject=P.get("delegateObject"),this.emit(nt,W))},B.prototype.translate=function(P,T){P===void 0&&(P=0),T===void 0&&(T=0);var W=this.getMatrix(),Q=A(W,[["t",P,T]]);return this.setMatrix(Q),this},B.prototype.move=function(P,T){var W=this.attr("x")||0,Q=this.attr("y")||0;return this.translate(P-W,T-Q),this},B.prototype.moveTo=function(P,T){return this.move(P,T)},B.prototype.scale=function(P,T){var W=this.getMatrix(),Q=A(W,[["s",P,T||P]]);return this.setMatrix(Q),this},B.prototype.rotate=function(P){var T=this.getMatrix(),W=A(T,[["r",P]]);return this.setMatrix(W),this},B.prototype.rotateAtStart=function(P){var T=this.attr(),W=T.x,Q=T.y,nt=this.getMatrix(),st=A(nt,[["t",-W,-Q],["r",P],["t",W,Q]]);return this.setMatrix(st),this},B.prototype.rotateAtPoint=function(P,T,W){var Q=this.getMatrix(),nt=A(Q,[["t",-P,-T],["r",W],["t",P,T]]);return this.setMatrix(nt),this},B}(S.a);I.a=z},zLyj:function(Ft,I){Ft.exports=a;function a(f,i){return f[0]=Math.ceil(i[0]),f[1]=Math.ceil(i[1]),f}},zZ0H:function(Ft,I){function a(f){return f}Ft.exports=a},zoYe:function(Ft,I,a){var f=a("nmnc"),i=a("eUgh"),g=a("Z0cm"),p=a("/9aa"),E=1/0,S=f?f.prototype:void 0,A=S?S.toString:void 0;function M(x){if(typeof x=="string")return x;if(g(x))return i(x,M)+"";if(p(x))return A?A.call(x):"";var O=x+"";return O=="0"&&1/x==-E?"-0":O}Ft.exports=M},zxMA:function(Ft,I,a){"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.QueryableString=void 0;var f=function(){function i(g){this.str=g}return i.prototype.startsWith=function(g){return this.str.indexOf(g)===0},i.prototype.endsWith=function(g){var p="",E=g.split("").reverse().join("");return p=this.str.split("").reverse().join(""),this.startsWith.call({str:p},E)},i.prototype.contains=function(g){return this.str.indexOf(g)!==-1},i.prototype.equals=function(g){return this.str===g},i.prototype.value=function(){return this.str},i}();I.QueryableString=f}}]);
