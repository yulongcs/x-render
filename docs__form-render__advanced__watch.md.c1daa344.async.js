(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{RZMt:function(M,v,n){},Zxc8:function(M,v,n){"use strict";n.r(v);var i=n("q1tI"),e=n.n(i),s=n("k3GJ"),p=n("MZF8"),l=n("dEAq"),b=n.n(l),B=n("H1Ra"),m=n("RZMt"),E=n.n(m);function d(u,r){return W(u)||K(u,r)||U(u,r)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(u,r){if(!!u){if(typeof u=="string")return g(u,r);var a=Object.prototype.toString.call(u).slice(8,-1);if(a==="Object"&&u.constructor&&(a=u.constructor.name),a==="Map"||a==="Set")return Array.from(u);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return g(u,r)}}function g(u,r){(r==null||r>u.length)&&(r=u.length);for(var a=0,o=new Array(r);a<r;a++)o[a]=u[a];return o}function K(u,r){var a=u==null?null:typeof Symbol!="undefined"&&u[Symbol.iterator]||u["@@iterator"];if(a!=null){var o=[],f=!0,C=!1,D,h;try{for(a=a.call(u);!(f=(D=a.next()).done)&&(o.push(D.value),!(r&&o.length===r));f=!0);}catch(t){C=!0,h=t}finally{try{!f&&a.return!=null&&a.return()}finally{if(C)throw h}}return o}}function W(u){if(Array.isArray(u))return u}function y(u,r){var a,o=(a=u.match(/\.(\w+)$/))===null||a===void 0?void 0:a[1];return o||(o=r.tsx?"tsx":"jsx"),o}var $=function(r){var a,o,f,C=Object(i.useRef)(),D=Object(i.useContext)(l.context),h=D.locale,t=Object(l.useLocaleProps)(h,r),Z=Object(l.useDemoUrl)(t.identifier),S=t.demoUrl||Z,H=(p.a===null||p.a===void 0?void 0:p.a.location.hash)==="#".concat(t.identifier),J=Object.keys(t.sources).length===1,w=Object(l.useCodeSandbox)(((a=t.hideActions)===null||a===void 0?void 0:a.includes("CSB"))?null:t),I=Object(l.useRiddle)(((o=t.hideActions)===null||o===void 0?void 0:o.includes("RIDDLE"))?null:t),G=Object(l.useMotions)(t.motions||[],C.current),R=d(G,2),X=R[0],V=R[1],z=Object(l.useCopy)(),L=d(z,2),Q=L[0],Y=L[1],q=Object(i.useState)(function(){return t.sources._?"_":Object.keys(t.sources)[0]}),j=d(q,2),F=j[0],ee=j[1],te=Object(i.useState)(y(F,t.sources[F])),k=d(te,2),O=k[0],ue=k[1],ae=Object(i.useState)(Boolean(t.defaultShowCode)),x=d(ae,2),A=x[0],ne=x[1],re=Object(i.useState)(Math.random()),T=d(re,2),le=T[0],N=T[1],P=t.sources[F][O]||t.sources[F].content,oe=Object(l.useTSPlaygroundUrl)(h,P),ce=Object(i.useRef)(),ie=Object(l.usePrefersColor)(),se=d(ie,1),de=se[0];Object(i.useEffect)(function(){N(Math.random())},[de]);function me(c){ee(c),ue(y(c,t.sources[c]))}return e.a.createElement("div",{style:t.style,className:[t.className,"__dumi-default-previewer",H?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:t.identifier,"data-debug":t.debug||void 0,"data-iframe":t.iframe||void 0},t.iframe&&e.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),e.a.createElement("div",{ref:C,className:"__dumi-default-previewer-demo",style:{transform:t.transform?"translate(0, 0)":void 0,padding:t.compact||t.iframe&&t.compact!==!1?"0":void 0,background:t.background}},t.iframe?e.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(t.iframe).replace(/(\d)$/,"$1px")},key:le,src:S,ref:ce}):t.children),e.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":t.title},t.title&&e.a.createElement(l.AnchorLink,{to:"#".concat(t.identifier)},t.title),t.description&&e.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.description}})),e.a.createElement("div",{className:"__dumi-default-previewer-actions"},w&&e.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:w}),I&&e.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:I}),t.motions&&e.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:V,onClick:function(){return X()}}),t.iframe&&e.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return N(Math.random())}}),!((f=t.hideActions)===null||f===void 0?void 0:f.includes("EXTERNAL"))&&e.a.createElement(l.Link,{target:"_blank",to:S},e.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),e.a.createElement("span",null),e.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":Y,onClick:function(){return Q(P)}}),O==="tsx"&&A&&e.a.createElement(l.Link,{target:"_blank",to:oe},e.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),e.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(A?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return ne(!A)}})),A&&e.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!J&&e.a.createElement(s.default,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xB7\xB7\xB7",defaultActiveKey:F,onChange:me},Object.keys(t.sources).map(function(c){return e.a.createElement(s.TabPane,{tab:c==="_"?"index.".concat(y(c,t.sources[c])):c,key:c})})),e.a.createElement("div",{className:"__dumi-default-previewer-source"},e.a.createElement(B.a,{code:P,lang:O,showCopy:!1}))))};v.default=$},mFKp:function(M,v,n){"use strict";n.r(v);var i=n("q1tI"),e=n.n(i),s=n("dEAq"),p=n.n(s),l=n("Zxc8"),b=n("H1Ra"),B=e.a.memo(m=>{var E=m.demos,d=E["watch-demo"].component,_=E["watch-demo-1"].component;return e.a.createElement(e.a.Fragment,null,e.a.createElement(e.a.Fragment,null,e.a.createElement("div",{className:"markdown"},e.a.createElement("h1",{id:"\u8868\u5355\u76D1\u542Cwatch"},e.a.createElement(s.AnchorLink,{to:"#\u8868\u5355\u76D1\u542Cwatch","aria-hidden":"true",tabIndex:-1},e.a.createElement("span",{className:"icon icon-link"})),"\u8868\u5355\u76D1\u542C\uFF08watch\uFF09"),e.a.createElement("p",null,"\u6709\u65F6\u6211\u4EEC\u9700\u8981\u6839\u636E\u7279\u5B9A\u8868\u5355\u6570\u636E\u7684\u53D8\u52A8\u800C\u65F6\u65F6\u89E6\u53D1\u4E00\u4E2A callback\uFF0CFormRender \u5F00\u653E\u4E86 ",e.a.createElement("code",null,"watch")," \u53D8\u91CF\uFF0C\u7528\u4E8E\u6570\u636E\u7684\u76D1\u542C\u7684\u5524\u8D77\u56DE\u8C03\u3002\u8BED\u6CD5\u7C7B\u4F3C\u4E8E vue \u7684 watch\u3002"),e.a.createElement("p",null,"\u6CE8\u610F form-render \u5E76\u672A\u9650\u5236\u5728 watch \u7684 callback \u91CC\u80FD\u5199\u7684\u5185\u5BB9\uFF0C\u8BF7\u614E\u91CD\u4F7F\u7528\u3002\u4F8B\u5982 path \u662F'#' \u5219\u9ED8\u8BA4\u6BCF\u6B21\u90FD\u4F1A\u6267\u884C\uFF0C\u8981\u662F\u5728 callback \u91CC\u5199\u4E86\u4EFB\u4F55\u5BF9 formData\u3001schema \u7684\u4FEE\u6539\uFF0C\u5C31\u53EF\u80FD\u4F1A\u9677\u5165\u53CD\u590D\u89E6\u53D1\u3002\u6240\u4EE5\u8BF7\u786E\u4FDD watch \u7684\u903B\u8F91\u7B26\u5408\u771F\u5B9E\u8054\u52A8\u4F7F\u7528\u903B\u8F91\u3002"),e.a.createElement("h2",{id:"\u503C\u7684\u8054\u52A8"},e.a.createElement(s.AnchorLink,{to:"#\u503C\u7684\u8054\u52A8","aria-hidden":"true",tabIndex:-1},e.a.createElement("span",{className:"icon icon-link"})),"\u503C\u7684\u8054\u52A8"),e.a.createElement("p",null,"\u6CE8\u610F\u4F7F\u7528 form.setValueByPath \u6307\u5B9A\u8DEF\u5F84\u5BF9\u503C\u8FDB\u884C\u4FEE\u6539")),e.a.createElement(l.default,E["watch-demo"].previewerProps,e.a.createElement(d,null)),e.a.createElement("div",{className:"markdown"},e.a.createElement("h2",{id:"schema-\u7684\u8054\u52A8"},e.a.createElement(s.AnchorLink,{to:"#schema-\u7684\u8054\u52A8","aria-hidden":"true",tabIndex:-1},e.a.createElement("span",{className:"icon icon-link"})),"schema \u7684\u8054\u52A8"),e.a.createElement("p",null,"form.setSchemaByPath \u6307\u5B9A\u8DEF\u5F84\u5BF9 schema \u8FDB\u884C\u4FEE\u6539")),e.a.createElement(l.default,E["watch-demo-1"].previewerProps,e.a.createElement(_,null)),e.a.createElement("div",{className:"markdown"},e.a.createElement("h3",{id:"\u8BED\u6CD5\u8BF4\u660E"},e.a.createElement(s.AnchorLink,{to:"#\u8BED\u6CD5\u8BF4\u660E","aria-hidden":"true",tabIndex:-1},e.a.createElement("span",{className:"icon icon-link"})),"\u8BED\u6CD5\u8BF4\u660E"),e.a.createElement("p",null,e.a.createElement("code",null,"watch")," \u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0Ckey \u503C\u4E3A\u6570\u636E\u5BF9\u5E94\u7684\u201C\u8DEF\u5F84\u201D\uFF0Cvalue \u4E3A callback \u51FD\u6570\uFF0C\u6216\u8005\u5728\u590D\u6742\u60C5\u51B5\u662F\u4E2A\u5BF9\u8C61"),e.a.createElement(b.a,{code:`const watch = {
  // # \u4E3A\u5168\u5C40
  '#': val => {
    console.log('\u8868\u5355\u7684\u65F6\u65F6\u6570\u636E\u4E3A\uFF1A', val);
  },
  input1: val => {
    if (val !== undefined) {
      form.onItemChange('input2', val);
    }
  },
  'object1.select2': {
    handler: val => {
      if (val === 'option1') {
        form.onItemChange('object1.input2', 'hello');
      }
    },
    immediate: true,
  },
};`,lang:"js"}),e.a.createElement("h3",{id:"option-immediate"},e.a.createElement(s.AnchorLink,{to:"#option-immediate","aria-hidden":"true",tabIndex:-1},e.a.createElement("span",{className:"icon icon-link"})),"Option: immediate"),e.a.createElement("ul",null,e.a.createElement("li",null,"\u7C7B\u578B: boolean"),e.a.createElement("li",null,"\u9ED8\u8BA4: false")),e.a.createElement("p",null,e.a.createElement("code",null,"immediate: true")," \u4F1A\u5728\u9996\u6B21\u52A0\u8F7D\u65F6\u5C31\u6267\u884C\u4E00\u6B21 watch \u7684 handler"),e.a.createElement(b.a,{code:`const watch = {
  // # \u4E3A\u5168\u5C40
  input1: {
    handler: val => {
      if (val !== undefined) {
        form.onItemChange('input2', val);
      }
    },
    immediate: true,
  },
};`,lang:"js"}))))});v.default=m=>{var E=e.a.useContext(s.context),d=E.demos;return e.a.useEffect(()=>{var _;m!=null&&(_=m.location)!==null&&_!==void 0&&_.hash&&s.AnchorLink.scrollToAnchor(decodeURIComponent(m.location.hash.slice(1)))},[]),e.a.createElement(B,{demos:d})}}}]);
