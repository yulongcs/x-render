(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{Etlz:function(g,F,n){"use strict";n.r(F);var E=n("q1tI"),u=n.n(E),c=n("dEAq"),A=n.n(c),o=n("Zxc8"),S=n("H1Ra"),h=u.a.memo(d=>{var C=d.demos,s=C["migrate2-demo"].component;return u.a.createElement(u.a.Fragment,null,u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"markdown"},u.a.createElement("h2",{id:"\u6298\u4E2D\u5347\u7EA7\u65B9\u6848"},u.a.createElement(c.AnchorLink,{to:"#\u6298\u4E2D\u5347\u7EA7\u65B9\u6848","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u6298\u4E2D\u5347\u7EA7\u65B9\u6848"),u.a.createElement("h3",{id:"\u80CC\u666F\u7B80\u8FF0"},u.a.createElement(c.AnchorLink,{to:"#\u80CC\u666F\u7B80\u8FF0","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u80CC\u666F\u7B80\u8FF0"),u.a.createElement("p",null,"0.x \u5230 1.x \u7248\u672C\u7684\u5347\u7EA7\u6700\u5927\u7684\u6539\u52A8\u662F formData \u4ECE\u5916\u7F6E\u53D8\u6210\u4E86\u5185\u7F6E\uFF0C\u597D\u5904\u662F\uFF1A"),u.a.createElement("ol",null,u.a.createElement("li",null,u.a.createElement("p",null,"\u8868\u5355\u63D0\u4EA4\u6536\u675F\u5230\u4E86 FR \u5185\u90E8\uFF0C\u786E\u4FDD\u670D\u52A1\u7AEF\u6821\u9A8C\u3001\u5F02\u6B65\u64CD\u4F5C\u3001\u63D0\u4EA4\u524D\u7684\u6570\u636E\u5904\u7406\u548C\u6027\u80FD\u4F18\u5316\u7B49\u4E00\u7CFB\u5217\u4E8B\u6210\u4E3A\u53EF\u80FD\uFF0C\u4E4B\u524D\u7684\u6784\u5EFA FR \u5B8C\u5168\u65E0\u6CD5\u611F\u77E5\u7528\u6237\u4F55\u65F6\u63D0\u4EA4\u4E86\u8868\u5355\uFF0C\u6240\u4EE5\u5B8C\u5168\u65E0\u6CD5\u5E72\u6D89")),u.a.createElement("li",null,u.a.createElement("p",null,"\u7528\u6237\u4E0D\u7528\u6BCF\u6B21\u90FD\u6A21\u677F\u5316\u5730\u53BB\u5199 formData\u3001onChange\u3001onValidate \u7B49 props\uFF0CshowValidate \u8FD9\u7C7B\u4E0D\u81EA\u7136\u7684 props \u4E5F\u76F4\u63A5\u6210\u4E3A\u5185\u90E8\u903B\u8F91\uFF0C\u800C\u4E0D\u9700\u8981\u7528\u6237\u64CD\u5FC3\u3002\u540C\u65F6\u4E5F\u907F\u514D\u4E86\u5BF9 onChange \u7684\u8BEF\u7528\uFF0C\u6709\u4E0D\u5C11 case \u7528\u6237\u5728 onChange \u91CC\u5199\u4E86\u975E\u5E38\u590D\u6742\u7684\u903B\u8F91\uFF0C\u6CE8\u610F\u8FD9\u4F1A\u5728\u6BCF\u6B21\u8868\u5355\u8F93\u5165\u65F6\u90FD\u89E6\u53D1\uFF0C\u662F\u975E\u5E38\u5F71\u54CD\u6027\u80FD\u7684")),u.a.createElement("li",null,u.a.createElement("p",null,"\u6709\u5F88\u591A\u7EC6\u8282\u4E0A\u7684\u8001\u5927\u96BE\u95EE\u9898\u5728\u65E7\u6A21\u5F0F\u4E0B\u662F\u65E0\u6CD5\u5904\u7406\u7684\uFF0C\u4F8B\u5982\u81EA\u7136\u5224\u65AD\u662F\u5426\u663E\u793A\u6821\u9A8C\u4FE1\u606F\uFF08\u56E0\u4E3A FR \u4E0D\u77E5\u9053\u5408\u9002\u63D0\u4EA4\u4E86\uFF09\uFF0C\u4F8B\u5982\u9690\u85CF\u503C\u3001\u7A7A\u503C\u5728\u63D0\u4EA4\u65F6\u53BB\u9664\uFF0C\u4F8B\u5982\u8F93\u5165\u5B57\u7B26\u4E32\u5E26\u524D\u540E\u7A7A\u683C\u63D0\u4EA4\u65F6 trim \u6389\uFF0C\u7B49\u7B49"))),u.a.createElement("h3",{id:"\u5F7B\u5E95\u8FC1\u79FB\u5728\u6709\u4E9B\u9879\u76EE\u4F1A\u5F88\u56F0\u96BE"},u.a.createElement(c.AnchorLink,{to:"#\u5F7B\u5E95\u8FC1\u79FB\u5728\u6709\u4E9B\u9879\u76EE\u4F1A\u5F88\u56F0\u96BE","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u5F7B\u5E95\u8FC1\u79FB\u5728\u6709\u4E9B\u9879\u76EE\u4F1A\u5F88\u56F0\u96BE"),u.a.createElement("p",null,"\u5F7B\u5E95\u8FC1\u79FB\u5C31\u662F\u5C06\u66B4\u9732\u5728\u5916\u90E8\u7684 formData/onChange/onValidate \u65B9\u6CD5\u6536\u675F\u5230\u8868\u5355\u5185\u90E8\u81EA\u884C\u5904\u7406\uFF0C\u800C\u5728\u5916\u90E8\u7EDF\u4E00\u4F7F\u7528 form.getValues() \u548C form.setValues() \u6765\u66FF\u6362\u3002\u5F53\u66B4\u9732\u5728\u5916\u90E8\u7684 formData \u5B58\u653E\u5728 context/redux/dva \u91CC\u65F6\uFF0C\u8981\u627E\u5230\u6240\u6709\u5728\u5916\u90E8\u5BF9 formData \u7684\u4F7F\u7528\u548C\u64CD\u4F5C\u4F1A\u53D8\u6210\u8DE8\u591A\u4E2A\u6587\u4EF6\u7684\u201C\u5927\u5DE5\u7A0B\u201D\u3002\u6240\u4EE5\u5BF9\u4E8E\u6B64\u7C7B\u60C5\u51B5\u6211\u4EEC\u9700\u8981\u4E00\u4E2A"),u.a.createElement("h3",{id:"\u6298\u4E2D\u65B9\u6848"},u.a.createElement(c.AnchorLink,{to:"#\u6298\u4E2D\u65B9\u6848","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u6298\u4E2D\u65B9\u6848"),u.a.createElement("p",null,"\u7B14\u8005\u63D0\u4F9B\u4E86\u4EE5\u4E0B\u7684\u6298\u4E2D\u5347\u7EA7\u65B9\u6848\uFF0C\u80FD\u591F\u5728\u6781\u5C0F\u7684\u6539\u52A8\u4E0B\u201C\u517C\u5BB9\u201D\u5B8C\u6210\u5347\u7EA7\uFF1A"),u.a.createElement("p",null,u.a.createElement("strong",null,"FormRender v0.x \u7684\u4EE3\u7801\u5982\u4E0B\uFF1A")),u.a.createElement(S.a,{code:`import React, { useState } from 'react';
import FormRender from 'form-render/lib/antd';

const schema = {
  type: 'object',
  properties: {
    string: {
      title: '\u5B57\u7B26\u4E32',
      type: 'string',
    },
  },
};

function Demo() {
  const [formData, setData] = useState({});
  const [valid, setValid] = useState([]);
  const [showValidate, setShowValidate] = useState(false);

  const onSubmit = () => {
    setShowValidate(true);
    if (valid.length > 0) {
      alert(\`\u6821\u9A8C\u672A\u901A\u8FC7\u5B57\u6BB5\uFF1A\${JSON.stringify(valid)}\`);
    } else {
      alert(JSON.stringify(formData));
    }
  };

  return (
    <div>
      <FormRender
        schema={schema}
        formData={formData}
        onChange={setData}
        onValidate={setValid}
        showValidate={showValidate}
      />
      <button onClick={onSubmit}>\u63D0\u4EA4</button>
    </div>
  );
}

export default Demo;`,lang:"js"}),u.a.createElement("p",null,"\u8FC1\u79FB\u540E\u7684\u4EE3\u7801\u5982\u4E0B\uFF1A")),u.a.createElement(o.default,C["migrate2-demo"].previewerProps,u.a.createElement(s,null)),u.a.createElement("div",{className:"markdown"},u.a.createElement("p",null,"\u6211\u4EEC\u770B\u5230\u57FA\u672C\u6539\u52A8\u5206\u4E24\u6B65"),u.a.createElement("ol",null,u.a.createElement("li",null,"formData/onChange/onValidate/showValidate \u4ECE FR \u7684 props \u53D8\u4E3A useForm \u7684\u5165\u53C2"),u.a.createElement("li",null,"\u5728\u7EC4\u4EF6\u52A0\u8F7D\u65F6\uFF0C\u8C03\u7528 form.init() \u65B9\u6CD5\u521D\u59CB\u5316")),u.a.createElement("h3",{id:"\u7ED3\u8BBA"},u.a.createElement(c.AnchorLink,{to:"#\u7ED3\u8BBA","aria-hidden":"true",tabIndex:-1},u.a.createElement("span",{className:"icon icon-link"})),"\u7ED3\u8BBA"),u.a.createElement("p",null,"\u6298\u4E2D\u7684\u5347\u7EA7\u65B9\u6848\u4EE5\u7528\u65B0\u7248 FormRender \u4E3A\u58F3\uFF0C\u7EE7\u7EED\u8D70\u4E86 0.x \u7248\u7684\u72B6\u6001\u5916\u7F6E\u7684\u6A21\u5F0F\uFF0C\u6240\u4EE5\u5347\u7EA7\u6210\u672C\u5F88\u5C0F\uFF0C\u4F46\u540C\u65F6\u4E5F\u65E0\u6CD5\u4EAB\u53D7\u5230 100% \u7684\u65B0\u529F\u80FD\u3002\u6240\u4EE5\u7B14\u8005\u5EFA\u8BAE\u7684\u4F7F\u7528\u573A\u666F\u662F\u5927\u9762\u79EF\u7684\u65E7\u9879\u76EE\u5FEB\u901F\u5347\u7EA7\uFF0C\u4E14\u5F7B\u5E95\u5347\u7EA7\u65B9\u6848\u5F00\u9500\u8F83\u5927\u7684\u60C5\u51B5\u3002"))))});F.default=d=>{var C=u.a.useContext(c.context),s=C.demos;return u.a.useEffect(()=>{var _;d!=null&&(_=d.location)!==null&&_!==void 0&&_.hash&&c.AnchorLink.scrollToAnchor(decodeURIComponent(d.location.hash.slice(1)))},[]),u.a.createElement(h,{demos:s})}},RZMt:function(g,F,n){},Zxc8:function(g,F,n){"use strict";n.r(F);var E=n("q1tI"),u=n.n(E),c=n("k3GJ"),A=n("MZF8"),o=n("dEAq"),S=n.n(o),h=n("H1Ra"),d=n("RZMt"),C=n.n(d);function s(t,r){return W(t)||K(t,r)||U(t,r)||_()}function _(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(t,r){if(!!t){if(typeof t=="string")return M(t,r);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return M(t,r)}}function M(t,r){(r==null||r>t.length)&&(r=t.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=t[a];return l}function K(t,r){var a=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var l=[],m=!0,f=!1,v,D;try{for(a=a.call(t);!(m=(v=a.next()).done)&&(l.push(v.value),!(r&&l.length===r));m=!0);}catch(e){f=!0,D=e}finally{try{!m&&a.return!=null&&a.return()}finally{if(f)throw D}}return l}}function W(t){if(Array.isArray(t))return t}function b(t,r){var a,l=(a=t.match(/\.(\w+)$/))===null||a===void 0?void 0:a[1];return l||(l=r.tsx?"tsx":"jsx"),l}var V=function(r){var a,l,m,f=Object(E.useRef)(),v=Object(E.useContext)(o.context),D=v.locale,e=Object(o.useLocaleProps)(D,r),$=Object(o.useDemoUrl)(e.identifier),P=e.demoUrl||$,J=(A.a===null||A.a===void 0?void 0:A.a.location.hash)==="#".concat(e.identifier),Z=Object.keys(e.sources).length===1,R=Object(o.useCodeSandbox)(((a=e.hideActions)===null||a===void 0?void 0:a.includes("CSB"))?null:e),x=Object(o.useRiddle)(((l=e.hideActions)===null||l===void 0?void 0:l.includes("RIDDLE"))?null:e),H=Object(o.useMotions)(e.motions||[],f.current),I=s(H,2),G=I[0],X=I[1],z=Object(o.useCopy)(),L=s(z,2),Q=L[0],Y=L[1],q=Object(E.useState)(function(){return e.sources._?"_":Object.keys(e.sources)[0]}),T=s(q,2),B=T[0],uu=T[1],eu=Object(E.useState)(b(B,e.sources[B])),j=s(eu,2),y=j[0],tu=j[1],au=Object(E.useState)(Boolean(e.defaultShowCode)),w=s(au,2),p=w[0],nu=w[1],ru=Object(E.useState)(Math.random()),N=s(ru,2),ou=N[0],k=N[1],O=e.sources[B][y]||e.sources[B].content,lu=Object(o.useTSPlaygroundUrl)(D,O),iu=Object(E.useRef)(),Eu=Object(o.usePrefersColor)(),cu=s(Eu,1),su=cu[0];Object(E.useEffect)(function(){k(Math.random())},[su]);function du(i){uu(i),tu(b(i,e.sources[i]))}return u.a.createElement("div",{style:e.style,className:[e.className,"__dumi-default-previewer",J?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:e.identifier,"data-debug":e.debug||void 0,"data-iframe":e.iframe||void 0},e.iframe&&u.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),u.a.createElement("div",{ref:f,className:"__dumi-default-previewer-demo",style:{transform:e.transform?"translate(0, 0)":void 0,padding:e.compact||e.iframe&&e.compact!==!1?"0":void 0,background:e.background}},e.iframe?u.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(e.iframe).replace(/(\d)$/,"$1px")},key:ou,src:P,ref:iu}):e.children),u.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":e.title},e.title&&u.a.createElement(o.AnchorLink,{to:"#".concat(e.identifier)},e.title),e.description&&u.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.description}})),u.a.createElement("div",{className:"__dumi-default-previewer-actions"},R&&u.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:R}),x&&u.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:x}),e.motions&&u.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:X,onClick:function(){return G()}}),e.iframe&&u.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return k(Math.random())}}),!((m=e.hideActions)===null||m===void 0?void 0:m.includes("EXTERNAL"))&&u.a.createElement(o.Link,{target:"_blank",to:P},u.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),u.a.createElement("span",null),u.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":Y,onClick:function(){return Q(O)}}),y==="tsx"&&p&&u.a.createElement(o.Link,{target:"_blank",to:lu},u.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),u.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(p?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return nu(!p)}})),p&&u.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!Z&&u.a.createElement(c.default,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xB7\xB7\xB7",defaultActiveKey:B,onChange:du},Object.keys(e.sources).map(function(i){return u.a.createElement(c.TabPane,{tab:i==="_"?"index.".concat(b(i,e.sources[i])):i,key:i})})),u.a.createElement("div",{className:"__dumi-default-previewer-source"},u.a.createElement(h.a,{code:O,lang:y,showCopy:!1}))))};F.default=V}}]);
